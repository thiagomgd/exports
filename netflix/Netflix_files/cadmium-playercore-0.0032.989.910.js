a000.Q0g=function(){return typeof a000.s0g.x0g === 'function'?a000.s0g.x0g.apply(a000.s0g,arguments):a000.s0g.x0g;};a000.s0g=(function(J0g){return {W0g:function(){var u0g,y0g=arguments;switch(J0g){case 21:u0g=y0g[0] >= y0g[1];break;case 6:u0g=y0g[2] + y0g[0] + y0g[1];break;case 2:u0g=y0g[0] + y0g[1] - y0g[2];break;case 13:u0g=y0g[2] / y0g[1] | y0g[0];break;case 14:u0g=y0g[0] - y0g[3] + -y0g[2] + y0g[1];break;case 10:u0g=(y0g[2] / y0g[0] | y0g[1]) * y0g[3];break;case 1:u0g=y0g[1] - y0g[0];break;case 9:u0g=y0g[1] * y0g[0];break;case 18:u0g=(y0g[2] - y0g[1]) * y0g[0];break;case 23:u0g=y0g[0] === y0g[1];break;case 0:u0g=y0g[2] / y0g[1] / y0g[0];break;case 8:u0g=y0g[1] * y0g[2] - y0g[0];break;case 7:u0g=y0g[0] / y0g[1];break;case 20:u0g=(-y0g[0] - y0g[1]) * -y0g[3] / y0g[2];break;case 15:u0g=y0g[2] / y0g[0] + y0g[1];break;case 22:u0g=y0g[0] > y0g[1];break;case 4:u0g=void y0g[0] !== y0g[1];break;case 17:u0g=y0g[0] * y0g[2] / y0g[1];break;case 24:u0g=y0g[2] % y0g[0] - y0g[1];break;case 12:u0g=y0g[3] * y0g[0] / y0g[2] | y0g[1];break;case 16:u0g=-y0g[0] - y0g[2] + y0g[1];break;case 19:u0g=y0g[3] - y0g[0] + -y0g[2] + y0g[4] + -y0g[1];break;case 11:u0g=y0g[1] + y0g[0] / y0g[2] * y0g[3];break;case 3:u0g=y0g[0] + y0g[1];break;case 5:u0g=y0g[3] + y0g[4] + y0g[2] + y0g[0] + y0g[1];break;}return u0g;},x0g:function(v0g){J0g=v0g;}};})();a000.Z0g=function(){return typeof a000.s0g.W0g === 'function'?a000.s0g.W0g.apply(a000.s0g,arguments):a000.s0g.W0g;};a000.O0g=function(){return typeof a000.s0g.x0g === 'function'?a000.s0g.x0g.apply(a000.s0g,arguments):a000.s0g.x0g;};function a000(){}a000.w0g=function(){return typeof a000.s0g.W0g === 'function'?a000.s0g.W0g.apply(a000.s0g,arguments):a000.s0g.W0g;};(function(){(function(nb,Ab){var vc,Gc,Qb,ud,Db,Fb,Yb,Be,Ce,Lb,Mb,Pc,De,vd,Ee,Fe,Ud,Ja,Bb,hd,Ge,Vd,cb,tb,yb,wc,kc,Wb,vb,Zb,Pb,Rc,Ib,Gb,Jb,cc,wd,xc,rc,sc,xd,Wd,He,Ic,Jc,Sc,Xd,Yc,yc,yd,Oc,Yd,Ie,Zc,Zd,$d,ae,be,zc,ce,de,ee,ad,Ac,Bc,bd,zd,Ad,Bd,jc,If,Nb,Qc,Je,Cd,nc,Ke,Jf,tc,Le,Kf,Dd,Me,Lf,gd,Ne,Hf,Mf,fe,Ed,Nf,Of,ye,Pf,ze,Oe,lc,id,Pe,jd,Qe,oc,Re,ge,Se,he,Fd,Te,Rf,Ae,Gd,Td,Ue,Qf,Ve,ie,We,Xe,Ye,je,Nc,$e,Ze,Sf,kd,af,le,ld,bf,ke,cf,df,me,ff,gf,Jd,Vc,cd,Wc,hf,jf,kf,lf,mf,nf,Kd,Tf,of,pf,oe,qf,ic,Tc,$c,Uc,Kc,Cc,Hd,$b,Hc,ef,md,Xc,rf,Uf,nd,sf,Vf,dd,tf,Ld,pe,od,qe,uf,pd,vf,wf,xf,Wf,qd,yf,Xf,Yf,zf,ne,Id,Af,Gf,Bf,Zf,ag,$f,ed,td,bg,xe,cg,Cf;function Tb(gb,fb){if(!fb || "utf-8" === fb)return Od(gb);throw Error("unsupported encoding");}function Sb(gb,fb){if(!fb || "utf-8" === fb)return Pd(gb);throw Error("unsupported encoding");}function Od(gb){for(var fb=0,eb,ab=gb.length,kb="";fb < ab;){eb=gb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (gb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");kb+=String.fromCharCode(eb);}return kb;}function Pd(gb){var fb,eb,ab,kb,qb;fb=gb.length;eb=0;kb=0;for(ab=fb;ab--;){qb=gb.charCodeAt(ab);128 > qb?eb++:eb=2048 > qb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(ab=0;ab < fb;ab++){qb=gb.charCodeAt(ab);128 > qb?eb[kb++]=qb:(2048 > qb?eb[kb++]=192 | qb >>> 6:(eb[kb++]=224 | qb >>> 12,eb[kb++]=128 | qb >>> 6 & 63),eb[kb++]=128 | qb & 63);}return eb;}function Xb(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var eb=0;eb < gb.length;++eb){if(gb[eb] != fb[eb])return !1;}return !0;}function gc(gb){var ab;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,eb=0;eb < gb.length;++eb){ab=gb[eb];if("number" !== typeof ab)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + ab);fb=31 * fb + ab & 4294967295;}return fb;}function se(gb,fb){var jb;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var ab=fb[eb],kb=!1,qb=0;qb < gb.length;++qb){jb=gb[qb];if(ab.equals && "function" === typeof ab.equals && ab.equals(jb) || ab == jb){kb=!0;break;}}if(!kb)return !1;}return !0;}function te(gb,fb){return se(gb,fb) && (gb.length == fb.length || se(fb,gb));}function Ka(gb,fb,eb){var ab,kb;eb && (ab=eb);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{kb=fb.call(ab,gb);kb !== Ab && gb.result(kb);}catch(qb){try{gb.error(qb);}catch(jb){}}}function db(gb,fb,eb){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(gb,fb,eb);}function V(gb,fb,eb){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Qd(gb){switch(gb){case Nb.PSK:case Nb.MGK:return !0;default:return !1;}}function ue(gb){switch(gb){case Nb.PSK:case Nb.MGK:case Nb.X509:case Nb.RSA:case Nb.NPTICKET:case Nb.ECC:return !0;default:return !1;}}function Df(gb){return gb.toJSON();}function ve(gb,fb){td?fb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){td=eb;fb.result(td);}).catch(function(eb){fb.error(new cb(V.INTERNAL_EXCEPTION,"Unable to get system key"));});}function we(gb,fb){var eb,ab;eb=fb.masterToken;ab=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:ab && ab.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function Ef(gb){return gb.uniqueKey();}function Ff(gb,fb,eb,ab,kb){var Qa;function qb(za,ma){za.errorCode === Ja.ENTITY_REAUTH || za.errorCode === Ja.ENTITYDATA_REAUTH?(ab.clearCryptoContexts(),La()):za.errorCode !== Ja.USER_REAUTH && za.errorCode !== Ja.USERDATA_REAUTH || jb(ma);}function jb(za){if(za=ab.getUserIdToken(za))(ab.removeUserIdToken(za),La());}function Fa(za,ma,fa){var Z;Z=[];(function ha(){za.read(-1,ma,{result:function(ea){Ka(fa,function(){var U,Y,qa,na,ra;if(ea)(Z.push(ea),ha());else switch(Z.length){case 0:return new Uint8Array(0);case 1:return Z[0];default:(qa=Z.length,na=0);for(Y=U=0;Y < qa;Y++){U+=Z[Y].length;}U=new Uint8Array(U);for(Y=0;Y < qa;Y++){ra=Z[Y];U.set(ra,na);na+=ra.length;}return U;}});},timeout:function(){fa.timeout();},error:function(ea){fa.error(ea);}});})();}function La(){ab.getStoreState({result:function(za){for(var ma=Qa.slice(),fa=0;fa < ma.length;fa++){ma[fa]({storeState:za});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(za){gb.error("Error getting store state","" + za);}});}Qa=[];this.addEventHandler=function(za,ma){switch(za){case "shouldpersist":Qa.push(ma);}};this.send=function(za){return new Promise(function(ma,fa){var Z,ba,ha;Z=za.timeout;ba=new xe(gb,eb,za,ab.getKeyRequestData());ha=new ye(za.url);gb.trace("Sending MSL request");fb.request(eb,ba,ha,Z,{result:function(ea){var U;gb.trace("Received MSL response",{Method:za.method});if(ea){za.allowTokenRefresh && La();U=ea.getErrorHeader();U?(qb(U,za.profileGuid || za.userId),fa({success:!1,error:U})):Fa(ea,Z,{result:function(Y){ma({success:!0,body:Tb(Y)});},timeout:function(){fa({success:!1,subCode:kb.MSL_READ_TIMEOUT});},error:function(Y){fa({success:!1,error:Y});}});}else fa({success:!1,error:new cb(V.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){fa({success:!1,subCode:kb.MSL_REQUEST_TIMEOUT});},error:function(ea){fa({success:!1,error:ea});}});});};this.hasUserIdToken=function(za){return ! !ab.getUserIdToken(za);};this.getUserIdTokenKeys=function(){return ab.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){ab.clearUserIdTokens();La();};this.isErrorReauth=function(za){return za && za.errorCode == Ja.USERDATA_REAUTH;};this.isErrorHeader=function(za){return za instanceof Nc;};this.getErrorCode=function(za){return za && za.errorCode;};this.getStateForMdx=function(za){var ma,fa;ma=ab.getMasterToken();za=ab.getUserIdToken(za);fa=ab.getCryptoContext(ma);return {masterToken:ma,userIdToken:za,cryptoContext:fa};};this.buildPlayDataRequest=function(za,ma){var fa;fa=new ze();fb.request(eb,new xe(gb,eb,za),fa,za.timeout,{result:function(){ma.result(fa.getRequest());},error:function(){ma.result(fa.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(za,ma){ab.rekeyUserIdToken(za,ma);La();};this.getServiceTokens=function(za){var ma;ma=ab.getMasterToken();(za=ab.getUserIdToken(za)) && !za.isBoundTo(ma) && (za=Ab);return ab.getServiceTokens(ma,za);};this.removeServiceToken=function(za){var ma;ma=ab.getMasterToken();ab.getServiceTokens(ma).find(function(fa){return fa.name === za;}) && (ab.removeServiceTokens(za,ma),La());};}function Rd(gb,fb,eb,ab,kb,qb){function jb(Fa){var La;return Promise.resolve().then(function(){La=gb.authenticationKeyNames[Fa];if(!La)throw new cb(V.KEY_IMPORT_ERROR,"Invalid config keyName " + Fa);return Jb.getKeyByName(La);}).then(function(Qa){return new Promise(function(za,ma){Yc(Qa,{result:za,error:function(){ma(new cb(V.KEY_IMPORT_ERROR,"Unable to create " + La + " CipherKey"));}});});}).catch(function(Qa){throw new cb(V.KEY_IMPORT_ERROR,"Unable to import " + La,Qa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new cb(V.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([jb("e"),jb("h"),jb("w")]);}).then(function(Fa){var La,Qa,za;La={};La[fb]=new eb(gb.esn,Fa[0],Fa[1],Fa[2]);Fa=new ab(gb.esn);Qa=new Gf();Qa=[new kb(Qa)];za=new qb(fb);return {entityAuthFactories:La,entityAuthData:Fa,keyExchangeFactories:Qa,keyRequestData:za};});}function Sd(gb,fb,eb){var qb;function ab(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return kb(jb.publicKey,jb.privateKey);});}function kb(jb,Fa){return Promise.all([new Promise(function(La,Qa){Oc(jb,{result:La,error:function(za){Qa(new cb(V.INTERNAL_EXCEPTION,"Unable to create keyx public key",za));}});}),new Promise(function(La,Qa){Zc(Fa,{result:La,error:function(za){Qa(new cb(V.INTERNAL_EXCEPTION,"Unable to create keyx private key",za));}});})]).then(function(La){La=new Td("rsaKeypairId",eb,La[0],La[1]);qb && (La.storeData={keyxPublicKey:jb,keyxPrivateKey:Fa});return La;});}qb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Fa;jb=gb.storeState;Fa=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return qb && Fa && jb?kb(Fa,jb):ab();}).then(function(jb){var Fa,La,Qa;Fa={};Fa[Nb.NONE]=new Hf();La=new gd(gb.esn);Qa=[new Ae()];return {entityAuthFactories:Fa,entityAuthData:La,keyExchangeFactories:Qa,keyRequestData:jb,createKeyRequestData:qb?ab:Ab};});}Gc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Qb=Gc && (Gc.webkitSubtle || Gc.subtle);ud=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(gb){var fb,eb;fb=(function(){function ab(kb,qb){kb instanceof fb?(this.abv=kb.abv,this.position=kb.position):(this.abv=kb,this.position=qb || 0);}ab.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(kb){this.abv[this.position++]=kb;},peekByte:function(kb){return this.abv[kb];},copyBytes:function(kb,qb,jb){var Fa;Fa=new Uint8Array(this.abv.buffer,this.position,jb);kb=new Uint8Array(kb.buffer,qb,jb);Fa.set(kb);this.position+=jb;},seek:function(kb){this.position=kb;},skip:function(kb){this.position+=kb;},getPosition:function(){return this.position;},setPosition:function(kb){this.position=kb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return ab;})();eb={};(function(){var ea,U,Y,qa,na,ra,Ba,ta,oa;function ab(W,aa){var ca;aa.writeByte(W.tagClass << 6 | W.constructed << 5 | W.tag);ca=W.payloadLen;if(128 > ca)aa.writeByte(ca);else {for(var la=ca,Ga=0;la;){++Ga;la>>=8;}aa.writeByte(128 | Ga);for(la=0;la < Ga;++la){aa.writeByte(ca >> 8 * (Ga - la - 1) & 255);}}if(W.child)for((W.tag == ea.BIT_STRING && aa.writeByte(0),W=W._child);W;){if(!ab(W,aa))return !1;W=W.next;}else switch(W.tag){case ea.INTEGER:W.backingStore[W.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.BIT_STRING:aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.OCTET_STRING:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.OBJECT_IDENTIFIER:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);}return !0;}function kb(W){var aa,ca;aa=W.readByte();ca=aa & 127;if(ca == aa)return ca;if(3 < ca || 0 === ca)return -1;for(var la=aa=0;la < ca;++la){aa=aa << 8 | W.readByte();}return aa;}function qb(W,aa,ca){var la,Ga,Ca,Oa,Ra,ja,va;la=W.backingStore;Ga=new fb(la,aa);aa+=ca;ca=W;if(8 < na++)return Ab;for(;Ga.getPosition() < aa;){Ga.getPosition();Oa=Ga.readByte();if(31 == (Oa & 31)){for(Ca=0;Oa & 128;){Ca<<=8;Ca|=Oa & 127;}Oa=Ca;}Ra=Oa;Ca=Ra & 31;if(0 > Ca || 30 < Ca)return Ab;Oa=kb(Ga);if(0 > Oa || Oa > Ga.getRemaining())return Ab;ca.constructed=Ra & 32;ca.tagClass=(Ra & 192) >> 6;ca.tag=Ca;ca.dataLen=Oa;ca.dataIdx=Ga.getPosition();Ca=Ga;ja=Ra;Ra=Oa;if(ja & 32)Ca=!0;else if(ja < ea.BIT_STRING || ja > ea.OCTET_STRING)Ca=!1;else {va=new fb(Ca);ja == ea.BIT_STRING && va.skip(1);va.readByte() >> 6 & 1?Ca=!1:(ja=kb(va),Ca=va.getPosition() - Ca.getPosition() + ja == Ra);}Ca && (Ca=Ga.getPosition(),Ra=Oa,ca.tag == ea.BIT_STRING && (ca.dataIdx++,ca.dataLen--,Ca++,Ra--),ca.child=new U(la,ca),qb(ca.child,Ca,Ra));ca.tag == ea.INTEGER && (Ca=Ga.getPosition(),0 == Ga.peekByte(Ca) && Ga.peekByte(Ca + 1) >> 7 && (ca.dataIdx++,ca.dataLen--));Ga.skip(Oa);Ga.getPosition() < aa && (ca.next=new U(la,ca.parent),ca=ca.next);}na--;return W;}function jb(W,aa,ca){if(9 != ca)return !1;for(ca=0;9 > ca;++ca){if(W[aa++] != ra[ca])return !1;}return !0;}function Fa(W){var aa;if(!(W && W.child && W.child.next && W.child.child && W.child.next.child))return !1;aa=W.child.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == W.nChildren && 2 == W.child.nChildren && 2 == W.child.next.child.nChildren?!0:!1;}function La(W){var aa;if(!(W && W.child && W.child.next && W.child.next.child && W.child.next.next && W.child.next.next.child))return !1;aa=W.child.next.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == W.nChildren && 2 == W.child.next.nChildren && 9 == W.child.next.next.child.nChildren?!0:!1;}function Qa(W){var aa,ca;aa=Y.createSequenceNode();ca=new qa(aa);ca.addChild(Y.createSequenceNode());ca.addChild(Y.createOidNode(ra));ca.addSibling(Y.createNullNode());ca.addToParent(aa,Y.createBitStringNode(null));ca.addChild(Y.createSequenceNode());ca.addChild(Y.createIntegerNode(W.n));ca.addSibling(Y.createIntegerNode(W.e));return aa;}function za(W){var aa;W=W.child.next.child.child;aa=W.data;W=W.next;return new Ba(aa,W.data,null,null);}function ma(W){var aa,ca;aa=Y.createSequenceNode();ca=new qa(aa);ca.addChild(Y.createIntegerNode(new Uint8Array([0])));ca.addSibling(Y.createSequenceNode());ca.addChild(Y.createOidNode(ra));ca.addSibling(Y.createNullNode());ca.addToParent(aa,Y.createOctetStringNode(null));ca.addChild(Y.createSequenceNode());ca.addChild(Y.createIntegerNode(new Uint8Array([0])));ca.addSibling(Y.createIntegerNode(W.n));ca.addSibling(Y.createIntegerNode(W.e));ca.addSibling(Y.createIntegerNode(W.d));ca.addSibling(Y.createIntegerNode(W.p));ca.addSibling(Y.createIntegerNode(W.q));ca.addSibling(Y.createIntegerNode(W.dp));ca.addSibling(Y.createIntegerNode(W.dq));ca.addSibling(Y.createIntegerNode(W.qi));return aa;}function fa(W){var aa;aa=[];W=W.child.next.next.child.child.next;for(var ca=0;8 > ca;ca++){aa.push(W.data);W=W.next;}return new ta(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function Z(W,aa,ca,la){if(!(W instanceof Ba || W instanceof ta))return Ab;if(ca)for(var Ga=0;Ga < ca.length;++Ga){if(-1 == oa.indexOf(ca[Ga]))return Ab;}aa={kty:"RSA",alg:aa,key_ops:ca || [],ext:la == Ab?!1:la,n:Db(W.n,!0),e:Db(W.e,!0)};W instanceof ta && (aa.d=Db(W.d,!0),aa.p=Db(W.p,!0),aa.q=Db(W.q,!0),aa.dp=Db(W.dp,!0),aa.dq=Db(W.dq,!0),aa.qi=Db(W.qi,!0));return aa;}function ba(W){var aa,ca,la,Ga,Ca,Oa,Ra,ja,va,ya;if(!W.kty || "RSA" != W.kty || !W.n || !W.e)return Ab;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(W.alg && -1 == aa.indexOf(W.alg))return Ab;aa=[];W.use?"enc" == W.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == W.use && (aa=["sign","verify"]):aa=W.key_ops;ca=W.ext;la=Fb(W.n,!0);Ga=Fb(W.e,!0);if(W.d){Ca=Fb(W.d,!0);Oa=Fb(W.p,!0);Ra=Fb(W.q,!0);ja=Fb(W.dp,!0);va=Fb(W.dq,!0);ya=Fb(W.qi,!0);return new ta(la,Ga,Ca,Oa,Ra,ja,va,ya,W.alg,aa,ca);}return new Ba(la,Ga,ca,aa);}function ha(W,aa,ca,la){this.der=W;this.type=aa;this.keyOps=ca;this.extractable=la;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};U=function(W,aa,ca,la,Ga,Ca){this._data=W;this._parent=aa || Ab;this._constructed=ca || !1;this._tagClass=0;this._tag=la || 0;this._dataIdx=Ga || 0;this._dataLen=Ca || 0;};U.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(W) {this._constructed=0 != W?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(W) {this._tagClass=W;},get tag() {return this._tag;},set tag(W) {this._tag=W;},get dataIdx() {return this._dataIdx;},set dataIdx(W) {this._dataIdx=W;},get dataLen() {return this._dataLen;},set dataLen(W) {this._dataLen=W;},get child() {return this._child;},set child(W) {this._child=W;this._child.parent=this;},get next() {return this._next;},set next(W) {this._next=W;},get parent() {return this._parent;},set parent(W) {this._parent=W;},get payloadLen() {var W;W=0;if(this._child){for(var aa=this._child;aa;){W+=aa.length;aa=aa.next;}this._tag == ea.BIT_STRING && W++;}else switch(this._tag){case ea.INTEGER:W=this._dataLen;this._data[this._dataIdx] >> 7 && W++;break;case ea.BIT_STRING:W=this._dataLen + 1;break;case ea.OCTET_STRING:W=this._dataLen;break;case ea.NULL:W=0;break;case ea.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (W=9);}return W;},get length() {var W,aa;W=this.payloadLen;if(127 < W)for(aa=W;aa;){aa>>=8;++W;}return W + 2;},get der() {var W,aa;W=this.length;if(!W)return Ab;W=new Uint8Array(W);aa=new fb(W);return ab(this,aa)?W:Ab;},get nChildren() {for(var W=0,aa=this._child;aa;){W++;aa=aa.next;}return W;}};Y={createSequenceNode:function(){return new U(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(W){return new U(W,null,!1,ea.OBJECT_IDENTIFIER,0,W?W.length:0);},createNullNode:function(){return new U(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(W){return new U(W,null,!1,ea.BIT_STRING,0,W?W.length:0);},createIntegerNode:function(W){return new U(W,null,!1,ea.INTEGER,0,W?W.length:0);},createOctetStringNode:function(W){return new U(W,null,!1,ea.OCTET_STRING,0,W?W.length:0);}};qa=function(W){this._currentNode=this._rootNode=W;};qa.prototype={addChild:function(W){this.addTo(this._currentNode,W);},addSibling:function(W){this.addTo(this._currentNode.parent,W);},addTo:function(W,aa){this._currentNode=aa;this._currentNode.parent=W;if(W.child){for(W=W.child;W.next;){W=W.next;}W.next=aa;}else W.child=aa;},addToParent:function(W,aa){this.findNode(W) && this.addTo(W,aa);},findNode:function(W){for(var aa=this._currentNode;aa;){if(W == aa)return !0;aa=aa.parent;}return !1;}};na=0;ra=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ba=function(W,aa,ca,la){this.n=W;this.e=aa;this.ext=ca;this.keyOps=la;};ta=function(W,aa,ca,la,Ga,Ca,Oa,Ra,ja,va,ya){this.n=W;this.e=aa;this.d=ca;this.p=la;this.q=Ga;this.dp=Ca;this.dq=Oa;this.qi=Ra;this.alg=ja;this.keyOps=va;this.ext=ya;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ha.prototype.getDer=function(){return this.der;};ha.prototype.getType=function(){return this.type;};ha.prototype.getKeyOps=function(){return this.keyOps;};ha.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(W){na=0;return qb(new U(W),0,W.length);};eb.show=function(W,aa){};eb.isRsaSpki=Fa;eb.isRsaPkcs8=La;eb.NodeFactory=Y;eb.Builder=qa;eb.tagVal=ea;eb.RsaPublicKey=Ba;eb.RsaPrivateKey=ta;eb.buildRsaSpki=Qa;eb.parseRsaSpki=function(W){W=eb.parse(W);return Fa?za(W):Ab;};eb.buildRsaPkcs8=ma;eb.parseRsaPkcs8=function(W){W=eb.parse(W);return La(W)?fa(W):Ab;};eb.buildRsaJwk=Z;eb.parseRsaJwk=ba;eb.RsaDer=ha;eb.rsaDerToJwk=function(W,aa,ca,la){W=eb.parse(W);if(!W)return Ab;if(Fa(W))W=za(W);else if(La(W))W=fa(W);else return Ab;return Z(W,aa,ca,la);};eb.jwkToRsaDer=function(W){var aa,ca;W=ba(W);if(!W)return Ab;if(W instanceof Ba){aa="spki";ca=Qa(W).der;}else if(W instanceof ta)(aa="pkcs8",ca=ma(W).der);else return Ab;return new ha(ca,aa,W.keyOps,W.ext);};eb.webCryptoAlgorithmToJwkAlg=function(W){return "RSAES-PKCS1-v1_5" == W.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == W.name?"SHA-256" == W.hash.name?"RS256":"SHA-384" == W.hash.name?"RS384":"SHA-512" == W.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(W){return W.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();gb.ASN1=eb;})(nb);(function(){for(var gb={},fb={},eb={"=":0,".":0},ab={"=":0,".":0},kb=/\s+/g,qb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Db=function(Fa,La){for(var Qa="",za=0,ma=Fa.length,fa=ma - 2,Z=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ba=La?"":"=";za < fa;){La=65536 * Fa[za++] + 256 * Fa[za++] + Fa[za++];Qa+=Z[La >>> 18] + Z[La >>> 12 & 63] + Z[La >>> 6 & 63] + Z[La & 63];}za == fa?(La=65536 * Fa[za++] + 256 * Fa[za++],Qa+=Z[La >>> 18] + Z[La >>> 12 & 63] + Z[La >>> 6 & 63] + ba):za == ma - 1 && (La=65536 * Fa[za++],Qa+=Z[La >>> 18] + Z[La >>> 12 & 63] + ba + ba);return Qa;};Fb=function(Fa,La){Fa=Fa.replace(kb,"");if(La && (La=Fa.length % 4)){La=4 - La;for(var Qa=0;Qa < La;++Qa){Fa+="=";}}La=Fa.length;if(0 != La % 4 || !qb.test(Fa))throw Error("bad base64: " + Fa);for(var za=La / 4 * 3 - ("=" == Fa[La - 1]?1:0) - ("=" == Fa[La - 2]?1:0),ma=new Uint8Array(za),fa=0,Z=0;fa < La;){Qa=gb[Fa[fa++]] + fb[Fa[fa++]] + eb[Fa[fa++]] + ab[Fa[fa++]];ma[Z++]=Qa >>> 16;Z < za && (ma[Z++]=Qa >>> 8 & 255,Z < za && (ma[Z++]=Qa & 255));}return ma;};})();Yb={};(function(){var qb,jb,Fa,Qa;function gb(za){if(!(this instanceof gb))return new gb(za);for(var ma=0,fa=jb.length;ma < fa;ma++){this[jb[ma]]="";}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=za || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Fa.BEGIN;this.stack=new qb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(za,ma,fa){if(za[ma])za[ma](fa);}function eb(za,ma){var fa,Z;fa=za.opt;Z=za.textNode;fa.trim && (Z=Z.trim());fa.normalize && (Z=Z.replace(/\s+/g," "));za.textNode=Z;za.textNode && fb(za,ma?ma:"onvalue",za.textNode);za.textNode="";}function ab(za,ma){eb(za);ma+="\nLine: " + za.line + "\nColumn: " + za.column + "\nChar: " + za.c;ma=Error(ma);za.error=ma;fb(za,"onerror",ma);return za;}function kb(za){za.state !== Fa.VALUE && ab(za,"Unexpected end");eb(za);za.c="";za.closed=!0;fb(za,"onend");gb.call(za,za.opt);return za;}qb=Array;Yb.parser=function(za){return new gb(za);};Yb.CParser=gb;Yb.MAX_BUFFER_LENGTH=65536;Yb.DEBUG=!1;Yb.INFO=!1;Yb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];Yb.EVENTS.filter(function(za){return "error" !== za && "end" !== za;});Fa=0;Yb.STATE={BEGIN:Fa++,VALUE:Fa++,OPEN_OBJECT:Fa++,CLOSE_OBJECT:Fa++,OPEN_ARRAY:Fa++,CLOSE_ARRAY:Fa++,TEXT_ESCAPE:Fa++,STRING:Fa++,BACKSLASH:Fa++,END:Fa++,OPEN_KEY:Fa++,CLOSE_KEY:Fa++,TRUE:Fa++,TRUE2:Fa++,TRUE3:Fa++,FALSE:Fa++,FALSE2:Fa++,FALSE3:Fa++,FALSE4:Fa++,NULL:Fa++,NULL2:Fa++,NULL3:Fa++,NUMBER_DECIMAL_POINT:Fa++,NUMBER_DIGIT:Fa++};for(var La in Yb.STATE){Yb.STATE[Yb.STATE[La]]=La;}Fa=Yb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(za){return za.__proto__;});Qa=/[\\"\n]/g;gb.prototype={end:function(){kb(this);},write:function(za){var Z,ba,ha;if(this.error)throw this.error;if(this.closed)return ab(this,"Cannot write after close. Assign an onready handler.");if(null === za)return kb(this);for(var ma=za[0],fa;ma;){fa=ma;this.c=ma=za.charAt(this.index++);fa !== ma?this.p=fa:fa=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Fa.BEGIN:"{" === ma?this.state=Fa.OPEN_OBJECT:"[" === ma?this.state=Fa.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && ab(this,"Non-whitespace before {[.");continue;case Fa.OPEN_KEY:case Fa.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Fa.OPEN_KEY)this.stack.push(Fa.CLOSE_KEY);else if("}" === ma){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_OBJECT);'"' === ma?this.state=Fa.STRING:ab(this,'Malformed object key should start with "');continue;case Fa.CLOSE_KEY:case Fa.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Fa.CLOSE_OBJECT?(this.stack.push(Fa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Fa.VALUE):"}" === ma?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Fa.VALUE):"," === ma?(this.state === Fa.CLOSE_OBJECT && this.stack.push(Fa.CLOSE_OBJECT),eb(this),this.state=Fa.OPEN_KEY):ab(this,"Bad object");continue;case Fa.OPEN_ARRAY:case Fa.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Fa.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Fa.VALUE,"]" === ma)){fb(this,"onclosearray");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_ARRAY);'"' === ma?this.state=Fa.STRING:"{" === ma?this.state=Fa.OPEN_OBJECT:"[" === ma?this.state=Fa.OPEN_ARRAY:"t" === ma?this.state=Fa.TRUE:"f" === ma?this.state=Fa.FALSE:"n" === ma?this.state=Fa.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Fa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Fa.NUMBER_DIGIT):ab(this,"Bad value");continue;case Fa.CLOSE_ARRAY:if("," === ma)(this.stack.push(Fa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Fa.VALUE);else if("]" === ma)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Fa.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else ab(this,"Bad array");continue;case Fa.STRING:fa=this.index - 1;(Z=this.slashed,ba=this.unicodeI);a:for(;;){if(Yb.DEBUG)for(;0 < ba;){if((this.unicodeS+=ma,ma=za.charAt(this.index++),4 === ba?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),ba=0,fa=this.index - 1):ba++,!ma))break a;}if('"' === ma && !Z){this.state=this.stack.pop() || Fa.VALUE;(this.textNode+=za.substring(fa,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === ma && !Z && (Z=!0,this.textNode+=za.substring(fa,this.index - 1),ma=za.charAt(this.index++),!ma))break;if(Z)if((Z=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(ba=1,this.unicodeS=""):this.textNode+=ma,ma=za.charAt(this.index++),fa=this.index - 1,ma))continue;else break;Qa.lastIndex=this.index;ha=Qa.exec(za);if(null === ha){this.index=za.length + 1;this.textNode+=za.substring(fa,this.index - 1);break;}this.index=ha.index + 1;ma=za.charAt(ha.index);if(!ma){this.textNode+=za.substring(fa,this.index - 1);break;}}this.slashed=Z;this.unicodeI=ba;continue;case Fa.TRUE:if("" === ma)continue;"r" === ma?this.state=Fa.TRUE2:ab(this,"Invalid true started with t" + ma);continue;case Fa.TRUE2:if("" === ma)continue;"u" === ma?this.state=Fa.TRUE3:ab(this,"Invalid true started with tr" + ma);continue;case Fa.TRUE3:if("" === ma)continue;"e" === ma?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid true started with tru" + ma);continue;case Fa.FALSE:if("" === ma)continue;"a" === ma?this.state=Fa.FALSE2:ab(this,"Invalid false started with f" + ma);continue;case Fa.FALSE2:if("" === ma)continue;"l" === ma?this.state=Fa.FALSE3:ab(this,"Invalid false started with fa" + ma);continue;case Fa.FALSE3:if("" === ma)continue;"s" === ma?this.state=Fa.FALSE4:ab(this,"Invalid false started with fal" + ma);continue;case Fa.FALSE4:if("" === ma)continue;"e" === ma?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid false started with fals" + ma);continue;case Fa.NULL:if("" === ma)continue;"u" === ma?this.state=Fa.NULL2:ab(this,"Invalid null started with n" + ma);continue;case Fa.NULL2:if("" === ma)continue;"l" === ma?this.state=Fa.NULL3:ab(this,"Invalid null started with nu" + ma);continue;case Fa.NULL3:if("" === ma)continue;"l" === ma?(fb(this,"onvalue",null),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid null started with nul" + ma);continue;case Fa.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Fa.NUMBER_DIGIT):ab(this,"Leading zero not followed by .");continue;case Fa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && ab(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || ab(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== fa && "E" !== fa && ab(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Fa.VALUE);continue;default:ab(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){za=Math.max(Yb.MAX_BUFFER_LENGTH,10);fa=ma=0;for(Z=jb.length;fa < Z;fa++){ba=this[jb[fa]].length;if(ba > za)switch(jb[fa]){case "text":break;default:ab(this,"Max buffer length exceeded: " + jb[fa]);}ma=Math.max(ma,ba);}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var ab,kb,qb;function gb(jb,Fa){Fa || (Fa=jb.length);return jb.reduce(function(La,Qa,za){return za < Fa?La + String.fromCharCode(Qa):La;},"");}for(var fb={},eb=0;256 > eb;++eb){ab=gb([eb]);fb[ab]=eb;}kb=Object.keys(fb).length;qb=[];for(eb=0;256 > eb;++eb){qb[eb]=[eb];}Be=function(jb,Fa){var U,Y;function La(qa,na){var ra;for(;0 < na;){if(ba >= Z.length)return !1;if(na > ha){ra=qa;ra>>>=na - ha;Z[ba]|=ra & 255;na-=ha;ha=8;++ba;}else na <= ha && (ra=qa,ra<<=ha - na,ra&=255,ra>>>=8 - ha,Z[ba]|=ra & 255,ha-=na,na=0,0 == ha && (ha=8,++ba));}return !0;}for(var Qa in fb){Fa[Qa]=fb[Qa];}for(var za=kb,ma=[],fa=8,Z=new Uint8Array(jb.length),ba=0,ha=8,ea=0;ea < jb.length;++ea){U=jb[ea];ma.push(U);Qa=gb(ma);Y=Fa[Qa];if(!Y){ma=gb(ma,ma.length - 1);if(!La(Fa[ma],fa))return null;0 != za >> fa && ++fa;Fa[Qa]=za++;ma=[U];}}return 0 < ma.length && (Qa=gb(ma),Y=Fa[Qa],!La(Y,fa))?null:Z.subarray(0,8 > ha?ba + 1:ba);};Ce=function(jb){var ea,U;for(var Fa=qb.slice(),La=0,Qa=0,za=8,ma=new Uint8Array(Math.ceil(1.5 * jb.length)),fa=0,Z,ba=[];La < jb.length && !(8 * (jb.length - La) - Qa < za);){for(var ha=Z=0;ha < za;){ea=Math.min(za - ha,8 - Qa);U=jb[La];U<<=Qa;U&=255;U>>>=8 - ea;ha+=ea;Qa+=ea;8 == Qa && (Qa=0,++La);Z|=(U & 255) << za - ha;}ha=Fa[Z];0 == ba.length?++za:(ha?ba.push(ha[0]):ba.push(ba[0]),Fa[Fa.length]=ba,ba=[],Fa.length == 1 << za && ++za,ha || (ha=Fa[Z]));Z=fa + ha.length;Z >= ma.length && (ea=new Uint8Array(Math.ceil(1.5 * Z)),ea.set(ma),ma=ea);ma.set(ha,fa);fa=Z;ba=ba.concat(ha);}return ma.subarray(0,fa);};})();(function(){var gb,fb,eb;Lb="utf-8";Mb=9007199254740992;gb=Pc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pc);De=function(ab){for(var kb=[gb.GZIP,gb.LZW],qb=0;qb < kb.length && 0 < ab.length;++qb){for(var jb=kb[qb],Fa=0;Fa < ab.length;++Fa){if(ab[Fa] == jb)return jb;}}return null;};fb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ee=function(ab){return fb.AES_CBC_PKCS5Padding == ab?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == ab?fb.RSA_ECB_PKCS1Padding:fb[ab];};eb=Fe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Fe);Ud=function(ab){return eb[ab];};Ja={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ja);})();Bb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,eb,ab,kb,qb,jb,Fa;gb=arguments[0];fb=1;eb=arguments.length;ab=!1;"boolean" === typeof gb && (ab=gb,gb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (kb=arguments[fb]))for(qb in kb){if(!(ab && (qb in gb))){jb=kb[qb];if(gb !== jb && jb !== Ab){Fa=gb[qb];gb[qb]=null !== Fa && null !== jb && "object" === typeof Fa && "object" === typeof jb?Bb.extendDeep(ab,{},Fa,jb):jb;}}}}return gb;}};(function(){var jb,Fa;function gb(La,Qa){return function(){var za,ma;za=La.base;La.base=Qa;ma=La.apply(this,arguments);La.base=za;return ma;};}function fb(La,Qa,za){var ma,fa,Z,ba;za=za || Fa;fa=! !za.extendAll;for(ma in Qa){Z=Qa.__lookupGetter__(ma);ba=Qa.__lookupSetter__(ma);Z || ba?(Z && La.__defineGetter__(ma,Z),ba && La.__defineSetter__(ma,ba)):(Z=Qa[ma],ba=La[ma],"function" === typeof Z && "function" === typeof ba && Z !== ba?(Z.base !== Function.prototype.base && (Z=gb(Z,ba)),Z.base=ba):(fa || za[ma]) && Bb.isObjectLiteral(Z) && Bb.isObjectLiteral(ba) && (Z=Bb.extendDeep({},ba,Z)),La[ma]=Z);}}function eb(){var La,Qa;La=Array.prototype.slice;Qa=La.call(arguments,1);return this.extend({init:function ma(){var fa;fa=La.call(arguments,0);ma.base.apply(this,Qa.concat(fa));}});}function ab(La,Qa){var za;za=new this(jb);fb(za,La,Qa);return qb(za);}function kb(La,Qa){fb(this.prototype,La,Qa);return this;}function qb(La){var Qa;Qa=function(){var za;za=this.init;za && arguments[0] !== jb && za.apply(this,arguments);};La && (Qa.prototype=La);Qa.prototype.constructor=Qa;Qa.extend=ab;Qa.bind=eb;Qa.mixin=kb;return Qa;}jb={};Fa={actions:!0};Function.prototype.base=function(){};Bb.Class={create:qb,mixin:fb,extend:function(La,Qa){var za;za=qb();za.prototype=new La();return za.extend(Qa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var jb,Fa,La;function gb(Qa,za){return function(){var ma,fa;ma=Qa.base;Qa.base=za;fa=Qa.apply(this,arguments);Qa.base=ma;return fa;};}function fb(Qa,za,ma){var fa,Z,ba,ha;ma=ma || Fa;Z=! !ma.extendAll;for(fa in za){ba=za.__lookupGetter__(fa);ha=za.__lookupSetter__(fa);ba || ha?(ba && Qa.__defineGetter__(fa,ba),ha && Qa.__defineSetter__(fa,ha)):(ba=za[fa],ha=Qa[fa],"function" === typeof ba && "function" === typeof ha && ba !== ha?(ba.base !== La && (ba=gb(ba,ha)),ba.base=ha):(Z || ma[fa]) && Bb.isObjectLiteral(ba) && Bb.isObjectLiteral(ha) && (ba=Bb.extendDeep({},ha,ba)),Qa[fa]=ba);}}function eb(){var Qa,za;Qa=Array.prototype.slice;za=Qa.call(arguments,1);return this.extend({init:function fa(){var Z;Z=Qa.call(arguments,0);fa.base.apply(this,za.concat(Z));}});}function ab(Qa,za){var ma;ma=new this(jb);fb(ma,Qa,za);return qb(ma);}function kb(Qa,za){fb(this.prototype,Qa,za);return this;}function qb(Qa){var za;za=function(){var ma;ma=this.init;ma && arguments[0] !== jb && ma.apply(this,arguments);};Qa && (za.prototype=Qa);za.prototype.constructor=za;za.extend=ab;za.bind=eb;za.mixin=kb;return za;}jb={};Fa={actions:!0};La=function(){};Function.prototype.base=La;Bb.Class={create:qb,mixin:fb,extend:function(Qa,za){var ma;ma=qb();ma.prototype=new Qa();return ma.extend(za);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(eb){return eb == Mb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var ab=gb(eb._nextWaiter);!eb._waiters[ab];){ab=gb(ab);}return ab;}hd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ab;if(this._waiters[eb]){ab=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));ab.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,ab){var kb,qb;kb=this;qb=gb(this._lastWaiter);this._lastWaiter=qb;db(ab,function(){var jb,Fa;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){ab.result(jb);},0);}else {-1 != eb && (Fa=setTimeout(function(){delete kb._waiters[qb];qb == kb._nextWaiter && (kb._nextWaiter=fb(kb));ab.timeout();},eb));this._waiters[qb]=function(La){clearTimeout(Fa);setTimeout(function(){ab.result(La);},0);};this._nextWaiter || (this._nextWaiter=qb);}},kb);return qb;},add:function(eb){var ab;if(this._nextWaiter){ab=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);ab.call(this,eb);}else this._queue.push(eb);}});})();(function(){var gb;gb=0 - Mb;Ge=Bb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);Gc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== Ab){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);Gc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);Gc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);Gc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){Gc.getRandomValues(fb);}});})();(function(){function gb(ab){return ab == Mb?1:ab + 1;}function fb(ab){if(0 === Object.keys(ab._waitingReaders).length)return 0;for(var kb=gb(ab._nextReader);!ab._waitingReaders[kb];){kb=gb(kb);}return kb;}function eb(ab){if(0 === Object.keys(ab._waitingWriters).length)return 0;for(var kb=gb(ab._nextWriter);!ab._waitingWriters[kb];){kb=gb(kb);}return kb;}Vd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var kb;if(this._waitingReaders[ab]){kb=this._waitingReaders[ab];delete this._waitingReaders[ab];ab == this._nextReader && (this._nextReader=fb(this));kb.call(this,!0);}this._waitingWriters[ab] && (kb=this._waitingWriters[ab],delete this._waitingWriters[ab],ab == this._nextWriter && (this._nextWriter=eb(this)),kb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(ab,kb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;db(kb,function(){var Fa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != ab && (Fa=setTimeout(function(){delete qb._waitingReaders[jb];jb == qb._nextReader && (qb._nextReader=fb(qb));kb.timeout();},ab));this._waitingReaders[jb]=function(La){clearTimeout(Fa);La?setTimeout(function(){kb.result(Ab);},0):(qb._readers[jb]=!0,setTimeout(function(){kb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},qb);return jb;},writeLock:function(ab,kb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;db(kb,function(){var Fa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != ab && (Fa=setTimeout(function(){delete qb._waitingWriters[jb];jb == qb._nextWriter && (qb._nextWriter=eb(qb));kb.timeout();},ab));this._waitingWriters[jb]=function(La){clearTimeout(Fa);La?setTimeout(function(){kb.result(Ab);},0):(qb._writer=jb,setTimeout(function(){kb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},qb);return jb;},unlock:function(ab){if(ab == this._writer)this._writer=null;else {if(!this._readers[ab])throw new vb("There is no reader or writer with ticket number " + ab + ".");delete this._readers[ab];}if(this._nextWriter)0 < Object.keys(this._readers).length || (ab=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),ab.call(this,!1));else {for(var kb=this._nextReader;0 < Object.keys(this._waitingReaders).length;kb=gb(kb)){this._waitingReaders[kb] && (ab=this._waitingReaders[kb],delete this._waitingReaders[kb],ab.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(V,{JSON_PARSE_ERROR:new V(0,Ja.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new V(1,Ja.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new V(2,Ja.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new V(3,Ja.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new V(4,Ja.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new V(5,Ja.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new V(6,Ja.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new V(7,Ja.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new V(8,Ja.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new V(9,Ja.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new V(10,Ja.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new V(11,Ja.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new V(12,Ja.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new V(13,Ja.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new V(14,Ja.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new V(15,Ja.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new V(16,Ja.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new V(17,Ja.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new V(18,Ja.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new V(19,Ja.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new V(20,Ja.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new V(21,Ja.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new V(22,Ja.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new V(23,Ja.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new V(24,Ja.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new V(25,Ja.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new V(26,Ja.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new V(27,Ja.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new V(28,Ja.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new V(29,Ja.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new V(30,Ja.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new V(31,Ja.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new V(32,Ja.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new V(33,Ja.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new V(34,Ja.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new V(35,Ja.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new V(36,Ja.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new V(37,Ja.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new V(38,Ja.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new V(39,Ja.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new V(40,Ja.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new V(41,Ja.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new V(42,Ja.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new V(43,Ja.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new V(44,Ja.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new V(45,Ja.FAIL,"Error exporting key."),DIGEST_ERROR:new V(46,Ja.FAIL,"Error in digest."),UNSUPPORTED_KEY:new V(47,Ja.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new V(48,Ja.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new V(49,Ja.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new V(50,Ja.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new V(51,Ja.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new V(52,Ja.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new V(53,Ja.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new V(54,Ja.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new V(55,Ja.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new V(56,Ja.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new V(57,Ja.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new V(58,Ja.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new V(59,Ja.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new V(60,Ja.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new V(61,Ja.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new V(62,Ja.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new V(1E3,Ja.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new V(1001,Ja.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new V(1002,Ja.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new V(1003,Ja.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(1004,Ja.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(1005,Ja.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new V(1006,Ja.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new V(1007,Ja.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new V(1008,Ja.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new V(1009,Ja.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new V(1010,Ja.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new V(1011,Ja.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new V(1012,Ja.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new V(1013,Ja.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new V(1014,Ja.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new V(2E3,Ja.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new V(2001,Ja.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new V(2002,Ja.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new V(2003,Ja.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new V(2004,Ja.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new V(2005,Ja.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2006,Ja.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2007,Ja.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new V(2008,Ja.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new V(2009,Ja.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new V(2010,Ja.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new V(2011,Ja.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new V(2012,Ja.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new V(2013,Ja.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new V(2014,Ja.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new V(2015,Ja.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new V(2016,Ja.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new V(2017,Ja.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new V(2018,Ja.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new V(2019,Ja.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new V(2020,Ja.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new V(3E3,Ja.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new V(3001,Ja.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new V(3002,Ja.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new V(3003,Ja.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new V(3004,Ja.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3005,Ja.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3006,Ja.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new V(3007,Ja.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new V(3008,Ja.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new V(3009,Ja.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new V(4E3,Ja.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new V(4001,Ja.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new V(4002,Ja.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new V(4003,Ja.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new V(4004,Ja.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new V(4005,Ja.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new V(4006,Ja.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new V(4007,Ja.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new V(4008,Ja.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new V(4009,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new V(4010,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new V(4011,Ja.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new V(4012,Ja.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new V(4013,Ja.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new V(4014,Ja.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new V(4015,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new V(4016,Ja.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new V(4017,Ja.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new V(4018,Ja.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new V(4019,Ja.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new V(4020,Ja.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new V(4021,Ja.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new V(4022,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new V(4023,Ja.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new V(4024,Ja.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new V(4025,Ja.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new V(4026,Ja.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new V(5E3,Ja.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new V(5001,Ja.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new V(5002,Ja.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new V(5003,Ja.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new V(5004,Ja.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new V(5005,Ja.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new V(5006,Ja.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new V(5007,Ja.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new V(5008,Ja.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new V(5009,Ja.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new V(5010,Ja.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new V(5011,Ja.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new V(5012,Ja.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new V(5013,Ja.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new V(5014,Ja.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new V(5015,Ja.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new V(5016,Ja.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new V(5017,Ja.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new V(5018,Ja.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new V(5019,Ja.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new V(5020,Ja.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new V(5021,Ja.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new V(5022,Ja.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new V(5023,Ja.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new V(5024,Ja.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new V(5025,Ja.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new V(5026,Ja.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new V(5027,Ja.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new V(5028,Ja.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new V(5029,Ja.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new V(5030,Ja.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new V(5031,Ja.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new V(5032,Ja.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new V(5033,Ja.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new V(5034,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new V(5035,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new V(5036,Ja.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new V(5037,Ja.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new V(5038,Ja.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new V(5039,Ja.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new V(5040,Ja.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new V(6E3,Ja.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new V(6001,Ja.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new V(6002,Ja.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new V(6003,Ja.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new V(6004,Ja.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new V(6005,Ja.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new V(6006,Ja.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new V(6007,Ja.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new V(6008,Ja.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new V(6009,Ja.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new V(6010,Ja.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new V(6011,Ja.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new V(6012,Ja.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new V(6013,Ja.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new V(6014,Ja.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new V(6015,Ja.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new V(6016,Ja.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new V(6017,Ja.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new V(6018,Ja.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(6019,Ja.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new V(6020,Ja.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new V(6021,Ja.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new V(6022,Ja.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new V(6023,Ja.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new V(6024,Ja.FAIL,"Invalid header data."),PAYLOAD_INVALID:new V(6025,Ja.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new V(6026,Ja.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new V(6027,Ja.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new V(6028,Ja.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new V(6029,Ja.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new V(6030,Ja.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new V(6031,Ja.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new V(6032,Ja.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new V(6033,Ja.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new V(6034,Ja.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new V(6035,Ja.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new V(6036,Ja.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new V(6037,Ja.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new V(7E3,Ja.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new V(7001,Ja.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new V(7002,Ja.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new V(7003,Ja.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new V(7004,Ja.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new V(7005,Ja.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new V(7006,Ja.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new V(7007,Ja.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new V(7008,Ja.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new V(7009,Ja.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new V(7010,Ja.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new V(7011,Ja.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new V(7012,Ja.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new V(7013,Ja.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new V(7014,Ja.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new V(7015,Ja.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new V(7016,Ja.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new V(8E3,Ja.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new V(8001,Ja.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new V(8002,Ja.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new V(8003,Ja.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new V(8004,Ja.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new V(8005,Ja.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new V(8006,Ja.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new V(8007,Ja.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new V(8008,Ja.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new V(8009,Ja.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new V(8010,Ja.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new V(8011,Ja.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new V(8012,Ja.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new V(9E3,Ja.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new V(9001,Ja.FAIL,"Error communicating with MSL entity."),NONE:new V(9999,Ja.FAIL,"Special unit test error.")});Object.freeze(V);(function(){cb=Bb.Class.create(Error());cb.mixin({init:function(gb,fb,eb){var kb,qb,jb;function ab(){return qb?qb:this.cause && this.cause instanceof cb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=gb.message;fb && (kb+=" [" + fb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:kb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:ab,set:function(Fa){if(0 > Fa || Fa > Mb)throw new RangeError("Message ID " + Fa + " is outside the valid range.");ab() || (qb=Fa);},configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();jb && (Fa+="\n" + jb);eb && eb.stack && (Fa+="\nCaused by " + eb.stack);return Fa;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof ic?this.masterToken=gb:gb instanceof Qc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof $c?this.userIdToken=gb:gb instanceof Hc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();tb=cb.extend({init:function kb(fb,eb,ab){kb.base.call(this,fb,eb,ab);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});yb=cb.extend({init:function qb(eb,ab,kb){qb.base.call(this,eb,ab,kb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wc=cb.extend({init:function jb(ab,kb,qb){jb.base.call(this,ab,kb,qb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Bb.Class.create(Error());kc.mixin({init:function(ab,kb,qb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},requestCause:{value:qb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();jb && (Fa+="\n" + jb);kb && kb.stack && (Fa+="\nCaused by " + kb.stack);return Fa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Wb=Bb.Class.create(Error());Wb.mixin({init:function(ab,kb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);kb && kb.stack && (jb+="\nCaused by " + kb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(ab,kb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);kb && kb.stack && (jb+="\nCaused by " + kb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=Bb.Class.create(Error());Zb.mixin({init:function(ab,kb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);kb && kb.stack && (jb+="\nCaused by " + kb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=cb.extend({init:function Fa(kb,qb,jb){Fa.base.call(this,kb,qb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rc=cb.extend({init:function Fa(qb,jb){Fa.base.call(this,qb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=cb.extend({init:function Qa(jb,Fa,La){Qa.base.call(this,jb,Fa,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Gb=cb.extend({init:function za(Fa,La,Qa){za.base.call(this,Fa,La,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Fa(fa){return "undefined" === typeof fa?!1:fa;}function La(fa){return fa && fa.length?(cc === ma.V2014_02 && (fa=fa.map(function(Z){return "wrap" == Z?"wrapKey":"unwrap" == Z?"unwrapKey":Z;})),fa):cc === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(fa,Z,ba,ha,ea){return Promise.resolve().then(function(){return Qb.importKey(fa,Z,ba,ha,ea);}).catch(function(U){var Y;if("spki" !== fa && "pkcs8" !== fa)throw U;U=ASN1.webCryptoAlgorithmToJwkAlg(ba);Y=ASN1.webCryptoUsageToJwkKeyOps(ea);U=ASN1.rsaDerToJwk(Z,U,Y,ha);if(!U)throw Error("Could not make valid JWK from DER input");U=JSON.stringify(U);return Qb.importKey("jwk",Pd(U),ba,ha,ea);});}function za(fa,Z){return Promise.resolve().then(function(){return Qb.exportKey(fa,Z);}).catch(function(ba){if("spki" !== fa && "pkcs8" !== fa)throw ba;return Qb.exportKey("jwk",Z).then(function(ha){ha=JSON.parse(Od(new Uint8Array(ha)));ha=ASN1.jwkToRsaDer(ha);if(!ha)throw Error("Could not make valid DER from JWK input");return ha.getDer().buffer;});});}ma=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);cc=ma.LATEST;Jb={encrypt:function(fa,Z,ba){switch(cc){case ma.LEGACY:return new Promise(function(ha,ea){var U;U=Qb.encrypt(fa,Z,ba);U.oncomplete=function(Y){ha(Y.target.result);};U.onerror=function(Y){ea(Y);};});case ma.V2014_01:case ma.V2014_02:return Qb.encrypt(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(fa,Z,ba){switch(cc){case ma.LEGACY:return new Promise(function(ha,ea){var U;U=Qb.decrypt(fa,Z,ba);U.oncomplete=function(Y){ha(Y.target.result);};U.onerror=function(Y){ea(Y);};});case ma.V2014_01:case ma.V2014_02:return Qb.decrypt(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(fa,Z,ba){switch(cc){case ma.LEGACY:return new Promise(function(ha,ea){var U;U=Qb.sign(fa,Z,ba);U.oncomplete=function(Y){ha(Y.target.result);};U.onerror=function(Y){ea(Y);};});case ma.V2014_01:case ma.V2014_02:return Qb.sign(fa,Z,ba).then(function(ha){return new Uint8Array(ha);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(fa,Z,ba,ha){switch(cc){case ma.LEGACY:return new Promise(function(ea,U){var Y;Y=Qb.verify(fa,Z,ba,ha);Y.oncomplete=function(qa){ea(qa.target.result);};Y.onerror=function(qa){U(qa);};});case ma.V2014_01:case ma.V2014_02:return Qb.verify(fa,Z,ba,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(fa,Z){switch(cc){case ma.LEGACY:return new Promise(function(ba,ha){var ea;ea=Qb.digest(fa,Z);ea.oncomplete=function(U){ba(U.target.result);};ea.onerror=function(U){ha(U);};});case ma.V2014_01:case ma.V2014_02:return Qb.digest(fa,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(fa,Z,ba){var ha,ea;ha=Fa(Z);ea=La(ba);switch(cc){case ma.LEGACY:return new Promise(function(U,Y){var qa;qa=Qb.generateKey(fa,ha,ea);qa.oncomplete=function(na){U(na.target.result);};qa.onerror=function(na){Y(na);};});case ma.V2014_01:case ma.V2014_02:return Qb.generateKey(fa,ha,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(fa,Z,ba,ha,ea){var U,Y;U=Fa(ha);Y=La(ea);switch(cc){case ma.LEGACY:return new Promise(function(qa,na){var ra;ra=Qb.deriveKey(fa,Z,ba,U,Y);ra.oncomplete=function(Ba){qa(Ba.target.result);};ra.onerror=function(Ba){na(Ba);};});case ma.V2014_01:case ma.V2014_02:return Qb.deriveKey(fa,Z,ba,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(fa,Z,ba,ha,ea){var U,Y;U=Fa(ha);Y=La(ea);switch(cc){case ma.LEGACY:return new Promise(function(qa,na){var ra;ra=Qb.importKey(fa,Z,ba,U,Y);ra.oncomplete=function(Ba){qa(Ba.target.result);};ra.onerror=function(Ba){na(Ba);};});case ma.V2014_01:case ma.V2014_02:return Qa(fa,Z,ba,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(fa,Z){switch(cc){case ma.LEGACY:return new Promise(function(ba,ha){var ea;ea=Qb.exportKey(fa,Z);ea.oncomplete=function(U){ba(U.target.result);};ea.onerror=function(U){ha(U);};});case ma.V2014_01:case ma.V2014_02:return za(fa,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(fa,Z,ba,ha){switch(cc){case ma.LEGACY:return new Promise(function(ea,U){var Y;Y=Qb.wrapKey(Z,ba,ha);Y.oncomplete=function(qa){ea(qa.target.result);};Y.onerror=function(qa){U(qa);};});case ma.V2014_01:case ma.V2014_02:return Qb.wrapKey(fa,Z,ba,ha).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(fa,Z,ba,ha,ea,U,Y){switch(cc){case ma.LEGACY:return new Promise(function(qa,na){var ra;ra=Qb.unwrapKey(Z,ea,ba);ra.oncomplete=function(Ba){qa(Ba.target.result);};ra.onerror=function(Ba){na(Ba);};});case ma.V2014_01:case ma.V2014_02:return Qb.unwrapKey(fa,Z,ba,ha,ea,Fa(U),La(Y));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(fa){switch(cc){case ma.LEGACY:return new Promise(function(Z,ba){var ha;ha=ud.getKeyByName(fa);ha.oncomplete=function(ea){Z(ea.target.result);};ha.onerror=function(ea){ba(ea);};});case ma.V2014_01:case ma.V2014_02:return ud.getKeyByName(fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();xc={name:"AES-KW"};rc={name:"AES-CBC"};sc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wd={name:"RSAES-PKCS1-v1_5"};He={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ic=["encrypt","decrypt"];Jc=["wrap","unwrap"];Sc=["sign","verify"];(function(){Xd=Bb.Class.create({init:function(Fa,La,Qa){var ma;function za(fa){Ka(La,function(){var Z;Z=fa?Db(fa):Ab;Object.defineProperties(ma,{rawKey:{value:Fa,writable:!1,configurable:!1},keyData:{value:fa,writable:!1,configurable:!1},keyDataB64:{value:Z,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(La,function(){if(!Fa || "object" != typeof Fa)throw new tb(V.INVALID_SYMMETRIC_KEY);!Qa && Fa.extractable?Jb.exportKey("raw",Fa).then(function(fa){za(new Uint8Array(fa));},function(fa){La.error(new tb(V.KEY_EXPORT_ERROR,"raw"));}):za(Qa);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yc=function(Fa,La){new Xd(Fa,La);};yc=function(Fa,La,Qa,za){Ka(za,function(){try{Fa="string" == typeof Fa?Fb(Fa):Fa;}catch(ma){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + Fa,ma);}Jb.importKey("raw",Fa,La,!0,Qa).then(function(ma){new Xd(ma,za,Fa);},function(ma){za.error(new tb(V.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Bb.Class.create({init:function(Fa,La,Qa){var ma;function za(fa){Ka(La,function(){Object.defineProperties(ma,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(La,function(){if(!Fa || "object" != typeof Fa || "public" != Fa.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Fa.extractable?Jb.exportKey("spki",Fa).then(function(fa){za(new Uint8Array(fa));},function(fa){La.error(new tb(V.KEY_EXPORT_ERROR,"spki"));}):za(Qa);});},getEncoded:function(){return this.encoded;}});Oc=function(Fa,La){new yd(Fa,La);};Yd=function(Fa,La,Qa,za){Ka(za,function(){try{Fa="string" == typeof Fa?Fb(Fa):Fa;}catch(ma){throw new tb(V.INVALID_PUBLIC_KEY,"spki " + Fa,ma);}Jb.importKey("spki",Fa,La,!0,Qa).then(function(ma){new yd(ma,za,Fa);},function(ma){za.error(new tb(V.INVALID_PUBLIC_KEY));});});};})();(function(){Ie=Bb.Class.create({init:function(Fa,La,Qa){var ma;function za(fa){Ka(La,function(){Object.defineProperties(ma,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:fa,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(La,function(){if(!Fa || "object" != typeof Fa || "private" != Fa.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Fa.extractable?Jb.exportKey("pkcs8",Fa).then(function(fa){za(new Uint8Array(fa));},function(fa){La.error(new tb(V.KEY_EXPORT_ERROR,"pkcs8"));}):za(Qa);});},getEncoded:function(){return this.encoded;}});Zc=function(Fa,La){new Ie(Fa,La);};})();(function(){var Fa;Fa=be={V1:1,V2:2};Zd=Bb.Class.create({init:function(La,Qa,za,ma){Ka(ma,function(){var fa,Z,ba,ha;fa=Fa.V1;Z=La;ba=null;for(ha in vd){if(vd[ha] == La){fa=Fa.V2;Z=null;ba=La;break;}}Object.defineProperties(this,{version:{value:fa,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Z,writable:!1,configurable:!1},cipherSpec:{value:ba,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:za,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Fa.V1:La.keyid=this.keyId;this.iv && (La.iv=Db(this.iv));La.ciphertext=Db(this.ciphertext);La.sha256="AA==";break;case Fa.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Db(this.iv));La.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});$d=function(La,Qa,za,ma){new Zd(La,Qa,za,ma);};ae=function(La,Qa,za){Ka(za,function(){var ma,fa,Z,ba,ha,ea,U;ma=La.keyid;fa=La.cipherspec;Z=La.iv;ba=La.ciphertext;ha=La.sha256;if(!Qa)if((Qa=La.version) && "number" === typeof Qa && Qa === Qa){ea=!1;for(U in Fa){if(Fa[U] == Qa){ea=!0;break;}}if(!ea)throw new tb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Qa=Fa.V1;switch(Qa){case Fa.V1:if("string" !== typeof ma || Z && "string" !== typeof Z || "string" !== typeof ba || "string" !== typeof ha)throw new yb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Fa.V2:U=La.version;if(U != Fa.V2)throw new tb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof fa || Z && "string" !== typeof Z || "string" !== typeof ba)throw new yb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));fa=Ee(fa);if(!fa)throw new tb(V.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));ma=fa;break;default:throw new tb(V.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{Z && (Z=Fb(Z));ba=Fb(ba);}catch(Y){throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),Y);}new Zd(ma,Z,ba,za);});};})();(function(){var Fa;Fa=ee={V1:1,V2:2};zc=Bb.Class.create({init:function(La,Qa,za){var ma;switch(La){case Fa.V1:ma=za;break;case Fa.V2:ma={};ma.version=La;ma.algorithm=Qa;ma.signature=Db(za);ma=Sb(JSON.stringify(ma),Lb);break;default:throw new vb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:za,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});ce=function(){var La,Qa,za,ma;if(2 == arguments.length){La=Fa.V1;Qa=arguments[0];za=null;ma=arguments[1];}else 3 == arguments.length && (La=Fa.V2,za=arguments[0],Qa=arguments[1],ma=arguments[2]);Ka(ma,function(){return new zc(La,za,Qa);});};de=function(La,Qa,za){Ka(za,function(){var ma,fa,Z,ba,ha,ea,U;if(Qa)switch(Qa){case Fa.V1:return new zc(Fa.V1,null,La);case Fa.V2:try{ma=Tb(La,Lb);fa=JSON.parse(ma);Z=parseInt(fa.version);ba=fa.algorithm;ha=fa.signature;if(!Z || "number" !== typeof Z || Z != Z || "string" !== typeof ba || "string" !== typeof ha)throw new yb(V.JSON_PARSE_ERROR,"signature envelope " + Db(La));if(Fa.V2 != Z)throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(La));ea=Ud(ba);if(!ea)throw new tb(V.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(La));U=Fb(ha);if(!U)throw new tb(V.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new zc(Fa.V2,ea,U);}catch(Y){if(Y instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"signature envelope " + Db(La),Y);throw Y;}default:throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(La));}try{ma=Tb(La,Lb);fa=JSON.parse(ma);}catch(Y){fa=null;}if(fa && fa.version){if((ma=fa.version,"number" !== typeof ma || ma !== ma))ma=Fa.V1;}else ma=Fa.V1;switch(ma){case Fa.V1:return new zc(ma,null,La);case Fa.V2:ea=fa.algorithm;ha=fa.signature;if("string" !== typeof ea || "string" !== typeof ha)return new zc(Fa.V1,null,La);ea=Ud(ea);if(!ea)return new zc(Fa.V1,null,La);try{U=Fb(ha);}catch(Y){return new zc(Fa.V1,null,La);}return new zc(ma,ea,U);default:throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();ad=Bb.Class.create({encrypt:function(Fa,La){},decrypt:function(Fa,La){},wrap:function(Fa,La){},unwrap:function(Fa,La,Qa,za){},sign:function(Fa,La){},verify:function(Fa,La,Qa){}});(function(){var Fa;Fa=Bc={RSA_OAEP:xd.name,A128KW:xc.name};vc="A128GCM";Ac=Bb.Class.create({init:function(La,Qa,za,ma,fa){switch(Qa){case Fa.RSA_OAEP:fa=fa && (fa.rawKey || fa);ma=ma && (ma.rawKey || ma);break;case Fa.A128KW:fa=ma=ma && (ma.rawKey || ma);break;default:throw new vb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:za,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){Qa.error(new tb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Qa){Qa.error(new tb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Qa){Ka(Qa,function(){Jb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(za){Qa.result(za);},function(za){Qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(La,Qa,za,ma){function fa(Z){Ka(ma,function(){switch(Z.type){case "secret":Yc(Z,ma);break;case "public":Oc(Z,ma);break;case "private":Zc(Z,ma);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(ma,function(){Jb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,za).then(function(Z){fa(Z);},function(){ma.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(La,Qa){Qa.error(new tb(V.SIGN_NOT_SUPPORTED));},verify:function(La,Qa,za){za.error(new tb(V.VERIFY_NOT_SUPPORTED));}});})();bd=ad.extend({encrypt:function(Fa,La){La.result(Fa);},decrypt:function(Fa,La){La.result(Fa);},wrap:function(Fa,La){La.result(Fa);},unwrap:function(Fa,La,Qa,za){za.result(Fa);},sign:function(Fa,La){La.result(new Uint8Array(0));},verify:function(Fa,La,Qa){Qa.result(!0);}});(function(){var Fa;Fa=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=ad.extend({init:function ba(Qa,za,ma,fa,Z){ba.base.call(this);ma && (ma=ma.rawKey);fa && (fa=fa.rawKey);Object.defineProperties(this,{id:{value:za,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:fa,writable:!1,enumerable:!1,configurable:!1},transform:{value:Z == Fa.ENCRYPT_DECRYPT_PKCS1?Wd:Z == Fa.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Z == Fa.WRAP_UNWRAP_PKCS1?Wd:Z == Fa.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Z == Fa.SIGN_VERIFY?He:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,za){var ma;ma=this;Ka(za,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new tb(V.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Jb.encrypt(ma.transform,ma.publicKey,Qa).then(function(fa){$d(ma.id,null,fa,{result:function(Z){var ba;try{ba=JSON.stringify(Z);za.result(Sb(ba,Lb));}catch(ha){za.error(new tb(V.ENCRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof cb || (Z=new tb(V.ENCRYPT_ERROR,null,Z));za.error(Z);}});},function(fa){za.error(new tb(V.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,za){var ma;ma=this;Ka(za,function(){var fa,Z;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new tb(V.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{fa=Tb(Qa,Lb);Z=JSON.parse(fa);}catch(ba){if(ba instanceof SyntaxError)throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new tb(V.DECRYPT_ERROR,null,ba);}ae(Z,be.V1,{result:function(ba){var ha;try{if(ba.keyId != ma.id)throw new tb(V.ENVELOPE_KEY_ID_MISMATCH);ha=za.result;Jb.decrypt(ma.transform,ma.privateKey,ba.ciphertext).then(ha,function(ea){za.error(new tb(V.DECRYPT_ERROR));});}catch(ea){ea instanceof cb?za.error(ea):za.error(new tb(V.DECRYPT_ERROR,null,ea));}},error:function(ba){ba instanceof yb && (ba=new tb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof cb || (ba=new tb(V.DECRYPT_ERROR,null,ba));za.error(ba);}});},this);},wrap:function(Qa,za){Ka(za,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new tb(V.WRAP_NOT_SUPPORTED,"no public key");ma=za.result;Jb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(ma,function(fa){za.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(Qa,za,ma,fa){function Z(ba){Ka(fa,function(){switch(ba.type){case "secret":Yc(ba,fa);break;case "public":Oc(ba,fa);break;case "private":Zc(ba,fa);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + ba.type);}});}Ka(fa,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new tb(V.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},za,!1,ma).then(Z,function(ba){fa.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(Qa,za){Ka(za,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new tb(V.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Qa).then(function(ma){ce(ma,{result:function(fa){za.result(fa.bytes);},error:za.error});},function(ma){za.error(new tb(V.SIGNATURE_ERROR));});},this);},verify:function(Qa,za,ma){var fa;fa=this;Ka(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new tb(V.VERIFY_NOT_SUPPORTED,"no public key");de(za,ee.V1,{result:function(Z){Ka(ma,function(){var ba;ba=ma.result;Jb.verify(this.algo,this.publicKey,Z.signature,Qa).then(ba,function(ha){ma.error(new tb(V.SIGNATURE_ERROR));});},fa);},error:ma.error});},this);}});})();(function(){Bd=ad.extend({init:function Z(La,Qa,za,ma,fa){Z.base.call(this);za=za && za.rawKey;ma=ma && ma.rawKey;fa=fa && fa.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){var za;za=this;Ka(Qa,function(){var ma;if(!this.encryptionKey)throw new tb(V.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Jb.encrypt({name:rc.name,iv:ma},za.encryptionKey,La).then(function(fa){fa=new Uint8Array(fa);$d(za.id,ma,fa,{result:function(Z){var ba;try{ba=JSON.stringify(Z);Qa.result(Sb(ba,Lb));}catch(ha){Qa.error(new tb(V.ENCRYPT_ERROR,null,ha));}},error:function(Z){Z instanceof cb || (Z=new tb(V.ENCRYPT_ERROR,null,Z));Qa.error(Z);}});},function(fa){Qa.error(new tb(V.ENCRYPT_ERROR));});},this);},decrypt:function(La,Qa){var za;za=this;Ka(Qa,function(){var ma,fa;if(!this.encryptionKey)throw new tb(V.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{ma=Tb(La,Lb);fa=JSON.parse(ma);}catch(Z){if(Z instanceof SyntaxError)throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new tb(V.DECRYPT_ERROR,null,Z);}ae(fa,be.V1,{result:function(Z){try{if(Z.keyId != za.id)throw new tb(V.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:rc.name,iv:Z.iv},za.encryptionKey,Z.ciphertext).then(function(ba){ba=new Uint8Array(ba);Qa.result(ba);},function(){Qa.error(new tb(V.DECRYPT_ERROR));});}catch(ba){ba instanceof cb?Qa.error(ba):Qa.error(new tb(V.DECRYPT_ERROR,null,ba));}},error:function(Z){Z instanceof yb && (Z=new tb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof cb || (Z=new tb(V.DECRYPT_ERROR,null,Z));Qa.error(Z);}});},this);},wrap:function(La,Qa){Ka(Qa,function(){if(!this.wrapKey)throw new tb(V.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(za){Qa.result(za);},function(za){Qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(La,Qa,za,ma){function fa(Z){Ka(ma,function(){switch(Z.type){case "secret":Yc(Z,ma);break;case "public":Oc(Z,ma);break;case "private":Zc(Z,ma);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(ma,function(){if(!this.wrapKey)throw new tb(V.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Qa,!1,za).then(function(Z){fa(Z);},function(Z){ma.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(La,Qa){var za;za=this;Ka(Qa,function(){if(!this.hmacKey)throw new tb(V.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(sc,this.hmacKey,La).then(function(ma){Ka(Qa,function(){var fa;fa=new Uint8Array(ma);ce(fa,{result:function(Z){Qa.result(Z.bytes);},error:Qa.error});},za);},function(){Qa.error(new tb(V.HMAC_ERROR));});},this);},verify:function(La,Qa,za){var ma;ma=this;Ka(za,function(){if(!this.hmacKey)throw new tb(V.VERIFY_NOT_SUPPORTED,"no HMAC key.");de(Qa,ee.V1,{result:function(fa){Ka(za,function(){Jb.verify(sc,this.hmacKey,fa.signature,La).then(function(Z){za.result(Z);},function(Z){za.error(new tb(V.HMAC_ERROR));});},ma);},error:za.error});},this);}});})();jc=Bd.extend({init:function Z(La,Qa,za,ma,fa){if(za || ma || fa)Z.base.call(this,La,za + "_" + Qa.sequenceNumber,ma,fa,null);else {if(!Qa.isDecrypted())throw new Rc(V.MASTERTOKEN_UNTRUSTED,Qa);Z.base.call(this,La,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});If=ad.extend({encrypt:function(La,Qa){Qa.result(La);},decrypt:function(La,Qa){Qa.result(La);},wrap:function(La,Qa){Qa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Qa,za,ma){ma.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Qa){Qa.result(new Uint8Array(0));},verify:function(La,Qa,za){za.result(!1);}});Nb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Nb);(function(){Qc=Bb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Qc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});Je=function(La,Qa){var za,ma;za=Qa.scheme;ma=Qa.authdata;if(!za || !ma)throw new yb(V.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Nb[za])throw new wc(V.UNIDENTIFIED_ENTITYAUTH_SCHEME,za);Qa=La.getEntityAuthenticationFactory(za);if(!Qa)throw new wc(V.ENTITYAUTH_FACTORY_NOT_FOUND,za);return Qa.createData(La,ma);};})();Cd=Bb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Qa){},getCryptoContext:function(La,Qa){}});(function(){nc=Qc.extend({init:function za(Qa){za.base.call(this,Nb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function ma(za){return this === za?!0:za instanceof nc?ma.base.call(this,this,za) && this.identity == za.identity:!1;}});Ke=function(za){var ma;ma=za.identity;if(!ma)throw new yb(V.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(za));return new nc(ma);};})();Jf=Cd.extend({init:function za(Qa){za.base.call(this,Nb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,za){return Ke(za);},getCryptoContext:function(Qa,za){if(!(za instanceof nc))throw new vb("Incorrect authentication data type " + JSON.stringify(za) + ".");if(za.identity != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"mgk " + za.identity).setEntity(za);return new bd();}});(function(){tc=Qc.extend({init:function ma(za){ma.base.call(this,Nb.PSK);Object.defineProperties(this,{identity:{value:za,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var za;za={};za.identity=this.identity;return za;},equals:function fa(ma){return this === ma?!0:ma instanceof tc?fa.base.call(this,this,ma) && this.identity == ma.identity:!1;}});Le=function(ma){var fa;fa=ma.identity;if(!fa)throw new yb(V.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new tc(fa);};})();Kf=Cd.extend({init:function ma(za){ma.base.call(this,Nb.PSK);Object.defineProperties(this,{localIdentity:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createData:function(za,ma){return Le(ma);},getCryptoContext:function(za,ma){if(!(ma instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new bd();}});(function(){Dd=Qc.extend({init:function Z(ma,fa){Z.base.call(this,Nb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:fa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function Z(fa){return this === fa?!0:fa instanceof Dd?Z.base.call(this,this,fa) && this.identity == fa.identity && this.publicKeyId == fa.publicKeyId:!1;}});Me=function(fa){var Z,ba;Z=fa.identity;ba=fa.pubkeyid;if(!Z || "string" !== typeof Z || !ba || "string" !== typeof ba)throw new yb(V.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(fa));return new Dd(Z,ba);};})();Lf=Cd.extend({init:function fa(ma){fa.base.call(this,Nb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,fa){return Me(fa);},getCryptoContext:function(ma,fa){var Z,ba,ha;if(!(fa instanceof Dd))throw new vb("Incorrect authentication data type " + fa + ".");Z=fa.identity;ba=fa.publicKeyId;ha=this.store.getPublicKey(ba);if(!ha)throw new wc(V.RSA_PUBLICKEY_NOT_FOUND,ba).setEntity(fa);return new zd(ma,Z,null,ha,Ad.SIGN_VERIFY);}});(function(){gd=Qc.extend({init:function Z(fa){Z.base.call(this,Nb.NONE);Object.defineProperties(this,{identity:{value:fa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var fa;fa={};fa.identity=this.identity;return fa;},equals:function ba(Z){return this === Z?!0:Z instanceof gd?ba.base.call(this,this,Z) && this.identity == Z.identity:!1;}});Ne=function(Z){var ba;ba=Z.identity;if(!ba)throw new yb(V.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Z));return new gd(ba);};})();Hf=Cd.extend({init:function fa(){fa.base.call(this,Nb.NONE);},createData:function(fa,Z){return Ne(Z);},getCryptoContext:function(fa,Z){if(!(Z instanceof gd))throw new vb("Incorrect authentication data type " + JSON.stringify(Z) + ".");return new bd();}});Mf=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(fa,Z){if(!(Z instanceof yd))throw new vb("Incorrect key data type " + Z + ".");this.rsaKeys[fa]=Z;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(fa){delete this.rsaKeys[fa];},getPublicKey:function(fa){return this.rsaKeys[fa];}});fe=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(fa,Z,ba){}});Ed=Bb.Class.create({abort:function(){},close:function(fa,Z){},write:function(fa,Z,ba,ha,ea){},flush:function(fa,Z){}});Nf=Bb.Class.create({init:function(fa){Object.defineProperties(this,{_data:{value:fa,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Wb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(fa,Z,ba){db(ba,function(){var ha;if(this._closed)throw new Wb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == fa && (fa=this._data.length - this._currentPosition);ha=this._data.subarray(this._currentPosition,this._currentPosition + fa);this._currentPosition+=ha.length;return ha;},this);}});Of=Bb.Class.create({init:function(){var fa;fa={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},abort:function(){},close:function(fa,Z){this._closed=!0;Z.result(!0);},write:function(fa,Z,ba,ha,ea){db(ea,function(){var U;if(this._closed)throw new Wb("Stream is already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");U=fa.subarray(Z,ba);this._buffered.push(U);return U.length;},this);},flush:function(fa,Z){var ba;for(;0 < this._buffered.length;){if((fa=this._buffered.shift(),this._result)){ba=new Uint8Array(this._result.length + fa.length);ba.set(this._result);ba.set(fa,this._result.length);this._result=ba;}else this._result=new Uint8Array(fa);}Z.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Pf=Bb.Class.create({getResponse:function(fa,Z,ba){}});(function(){var fa,Z;fa=Ed.extend({init:function(ba,ha){ba={_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Of(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(ba){this._timeout=ba;},getResponse:function(ba,ha){var ea;ea=this;this._responseQueue.poll(ba,{result:function(U){db(ha,function(){U && this._responseQueue.add(U);return U;},ea);},timeout:function(){db(ha,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ha.timeout();},ea);},error:function(U){db(ha,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw U;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(ba,ha){var ea;ea=this;db(ha,function(){var U;if(this._response)return !0;U=this._buffer.toByteArray();0 < U.length && (this._abortToken=this._httpLocation.getResponse({body:U},this._timeout,{result:function(Y){ea._response={response:Y};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(Y){ea._response={isError:!0,error:Y};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(ba,ha,ea,U,Y){db(Y,function(){if(this._response)throw new Wb("HttpOutputStream already closed.");this._buffer.write(ba,ha,ea,U,Y);},this);},flush:function(ba,ha){db(ha,function(){if(this._response)return !0;this._buffer.flush(ba,ha);},this);}});Z=fe.extend({init:function(ba){Object.defineProperties(this,{_out:{value:ba,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(ba,ha,ea){var Y;function U(qa){db(ea,function(){if(!qa)return new Uint8Array(0);this._out.getResponse(ha,{result:function(na){db(ea,function(){var ra;if(na.isTimeout)(this._timedout=!0,ea.timeout());else {if(na.isError)throw (this._exception=na.error || new Wb("Unknown HTTP exception."),this._exception);if(!na.response)throw (this._exception=new Wb("Missing HTTP response."),this._exception);na.response.json !== Ab && (this._json=na.response.json,this.getJSON=function(){return Y._json;});ra=na.response.content || Pd("string" === typeof na.response.body?na.response.body:JSON.stringify(this._json));this._buffer=new Nf(ra);this._buffer.read(ba,ha,ea);}},Y);},timeout:function(){ea.timeout();},error:function(na){ea.error(na);}});},Y);}Y=this;db(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(ba,ha,ea):this._out.close(ha,{result:function(qa){U(qa);},timeout:function(){ea.timeout();},error:function(qa){ea.error(qa);}});}},Y);}});ye=Bb.Class.create({init:function(ba,ha){Object.defineProperties(this,{_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(ba){this._timeout=ba;},openConnection:function(){var ba;ba=new fa(this._httpLocation,this._timeout);return {input:new Z(ba),output:ba};}});})();(function(){var fa,Z;fa=Ed.extend({init:function(){var ba;ba={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},getResponse:function(ba,ha){ha.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(ba,ha){ha.result(!0);},write:function(ba,ha,ea,U,Y){var qa,na;try{if(0 > ha)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(ha + ea > ba.length)throw new RangeError("Offset plus length cannot be greater than the array length.");qa=ba.subarray(ha,ea);na=new Uint8Array(this._buffer.length + qa.length);na.set(this._buffer);na.set(qa,this._buffer.length);this._buffer=na;Y.result(qa.length);}catch(ra){Y.error(ra);}},flush:function(ba,ha){ha.result(!0);},request:function(){return this._buffer;}});Z=fe.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ba,ha,ea){ea.result(new Uint8Array(16));}});ze=Bb.Class.create({init:function(){var ba;ba={output:{value:new fa(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Z(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Od(this.output.request());}});})();Oe=function(fa,Z,ba){(function(ha,ea,U){ha.read(-1,ea,{result:function(Y){Y && Y.length?U(null,Y):U(null,null);},timeout:function(){ba.timeout();},error:function(Y){U(Y,null);}});})(fa,Z,function(ha,ea){var U,Y;if(ha)ba.error(ha);else if(ea){if(fa.getJSON !== Ab && "function" === typeof fa.getJSON)ba.result(fa.getJSON());else {ha=ba.result;ea=new Qf(Tb(ea,"utf-8"));U=[];for(Y=ea.nextValue();Y !== Ab;){U.push(Y);Y=ea.nextValue();}ha.call(ba,U);}}else ba.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){id=Bb.Class.create({init:function(fa){Object.defineProperties(this,{keyExchangeScheme:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof id?this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Pe=function(fa,Z,ba){Ka(ba,function(){var ha,ea,U;ha=Z.scheme;ea=Z.keydata;if(!ha || !ea || "object" !== typeof ea)throw new yb(V.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Z));if(!lc[ha])throw new Pb(V.UNIDENTIFIED_KEYX_SCHEME,ha);U=fa.getKeyExchangeFactory(ha);if(!U)throw new Pb(V.KEYX_FACTORY_NOT_FOUND,ha);U.createRequestData(fa,ea,ba);});};})();(function(){jd=Bb.Class.create({init:function(fa,Z){Object.defineProperties(this,{masterToken:{value:fa,writable:!1,configurable:!1},keyExchangeScheme:{value:Z,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var fa;fa={};fa.mastertoken=this.masterToken;fa.scheme=this.keyExchangeScheme;fa.keydata=this.getKeydata();return fa;},equals:function(fa){return this === fa?!0:fa instanceof jd?this.masterToken.equals(fa.masterToken) && this.keyExchangeScheme == fa.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Qe=function(fa,Z,ba){Ka(ba,function(){var ha,ea,U;ha=Z.mastertoken;ea=Z.scheme;U=Z.keydata;if(!ea || !ha || "object" !== typeof ha || !U || "object" !== typeof U)throw new yb(V.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Z));if(!lc[ea])throw new Pb(V.UNIDENTIFIED_KEYX_SCHEME,ea);Tc(fa,ha,{result:function(Y){Ka(ba,function(){var qa;qa=fa.getKeyExchangeFactory(ea);if(!qa)throw new Pb(V.KEYX_FACTORY_NOT_FOUND,ea);return qa.createResponseData(fa,Y,U);});},error:function(Y){ba.error(Y);}});});};})();(function(){var fa;fa=Bb.Class.create({init:function(Z,ba){Object.defineProperties(this,{keyResponseData:{value:Z,writable:!1,configurable:!1},cryptoContext:{value:ba,writable:!1,configurable:!1}});}});oc=Bb.Class.create({init:function(Z){Object.defineProperties(this,{scheme:{value:Z,writable:!1,configurable:!1}});},createRequestData:function(Z,ba,ha){},createResponseData:function(Z,ba,ha){},generateResponse:function(Z,ba,ha,ea){},getCryptoContext:function(Z,ba,ha,ea,U){},generateSessionKeys:function(Z,ba){Ka(ba,function(){var ha,ea;ha=new Uint8Array(16);ea=new Uint8Array(32);Z.getRandom().nextBytes(ha);Z.getRandom().nextBytes(ea);yc(ha,rc,Ic,{result:function(U){yc(ea,sc,Sc,{result:function(Y){ba.result({encryptionKey:U,hmacKey:Y});},error:function(Y){ba.error(new tb(V.SESSION_KEY_CREATION_FAILURE,null,Y));}});},error:function(U){ba.error(new tb(V.SESSION_KEY_CREATION_FAILURE,null,U));}});});},importSessionKeys:function(Z,ba,ha){yc(Z,rc,Ic,{result:function(ea){yc(ba,sc,Sc,{result:function(U){ha.result({encryptionKey:ea,hmacKey:U});},error:function(U){ha.error(U);}});},error:function(ea){ha.error(ea);}});}});oc.KeyExchangeData=fa;})();(function(){var Z,ba,ha;function fa(ea,U,Y,qa,na){Ka(na,function(){var ra,Ba;switch(U){case Z.PSK:(ra=new tc(qa),Ba=ea.getEntityAuthenticationFactory(Nb.PSK));if(!Ba)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,U);ra=Ba.getCryptoContext(ea,ra);return new Ac(ea,Bc.A128KW,vc,Ab);case Z.MGK:ra=new nc(qa);Ba=ea.getEntityAuthenticationFactory(Nb.MGK);if(!Ba)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,U);ra=Ba.getCryptoContext(ea,ra);return new Ac(ea,Bc.A128KW,vc,Ab);case Z.WRAP:ra=ea.getMslCryptoContext();ra.unwrap(Y,xc,Jc,{result:function(ta){Ka(na,function(){return new Ac(ea,Bc.A128KW,vc,ta);});},error:na.error});break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,U);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=ge=id.extend({init:function qa(U,Y){qa.base.call(this,lc.JWE_LADDER);switch(U){case Z.WRAP:if(!Y)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Y=null;}Object.defineProperties(this,{mechanism:{value:U,writable:!1,configurable:!1},wrapdata:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var U;U={};U.mechanism=this.mechanism;this.wrapdata && (U.wrapdata=Db(this.wrapdata));return U;},equals:function qa(Y){return Y === this?!0:Y instanceof ge?qa.base.call(this,Y) && this.mechanism == Y.mechanism && Xb(this.wrapdata,Y.wrapdata):!1;},uniqueKey:function qa(){var na;na=qa.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + gc(this.wrapdata));return na;}});ha=Se=jd.extend({init:function W(na,ra,Ba,ta,oa){W.base.call(this,na,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ra,writable:!1,configurable:!1},wrapdata:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Db(this.wrapKey);na.wrapdata=Db(this.wrapdata);na.encryptionkey=Db(this.encryptionKey);na.hmackey=Db(this.hmacKey);return na;},equals:function Ba(ra){return this === ra?!0:ra instanceof Se?Ba.base.call(this,ra) && Xb(this.wrapKey,ra.wrapKey) && Xb(this.wrapdata,ra.wrapdata) && Xb(this.encryptionKey,ra.encryptionKey) && Xb(this.hmacKey,ra.hmacKey):!1;},uniqueKey:function Ba(){return Ba.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Re=oc.extend({init:function oa(ta){oa.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ta,oa,W){Ka(W,function(){var aa,ca,la;aa=oa.mechanism;ca=oa.wrapdata;if(!aa || aa == Z.WRAP && (!ca || "string" !== typeof ca))throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!Z[aa])throw new Pb(V.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case Z.WRAP:try{la=Fb(ca);}catch(Ga){throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == la || 0 == la.length)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:la=null;}return new ba(aa,la);});},createResponseData:function(ta,oa,W){var aa,ca,la,Ga,Ca,Oa,Ra;ta=W.wrapkey;aa=W.wrapdata;ca=W.encryptionkey;la=W.hmackey;if(!(ta && "string" === typeof ta && aa && "string" === typeof aa && ca && "string" === typeof ca && la) || "string" !== typeof la)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));try{Ga=Fb(ta);Ca=Fb(aa);}catch(ja){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(W),ja);}try{Oa=Fb(ca);}catch(ja){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(W),ja);}try{Ra=Fb(la);}catch(ja){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(W),ja);}return new ha(oa,Ga,Ca,Oa,Ra);},generateResponse:function(ta,oa,W,aa){var Oa,Ra;function ca(ja,va,ya){Oa.generateSessionKeys(ta,{result:function(Ha){Ka(aa,function(){la(ja,va,ya,Ha.encryptionKey,Ha.hmacKey);},Oa);},error:function(Ha){Ka(aa,function(){Ha instanceof cb && Ha.setEntity(Ra);throw Ha;});}});}function la(ja,va,ya,Ha,Aa){Ka(aa,function(){fa(ta,oa.mechanism,oa.wrapdata,ja,{result:function(Na){Na.wrap(va,{result:function(Da){Ga(va,ya,Ha,Aa,Da);},error:function(Da){Ka(aa,function(){Da instanceof cb && Da.setEntity(Ra);throw Da;});}});},error:function(Na){Ka(aa,function(){Na instanceof cb && Na.setEntity(Ra);throw Na;});}});},Oa);}function Ga(ja,va,ya,Ha,Aa){Ka(aa,function(){var Na;Na=new Ac(ta,Bc.A128KW,vc,ja);Na.wrap(ya,{result:function(Da){Na.wrap(Ha,{result:function(Ua){Ca(va,Aa,ya,Da,Ha,Ua);},error:function(Ua){Ka(aa,function(){Ua instanceof cb && Ua.setEntity(Ra);throw Ua;});}});},error:function(Da){Ka(aa,function(){Da instanceof cb && Da.setEntity(Ra);throw Da;});}});},Oa);}function Ca(ja,va,ya,Ha,Aa,Na){Ka(aa,function(){var Da;Da=ta.getTokenFactory();Ra?Da.renewMasterToken(ta,Ra,ya,Aa,{result:function(Ua){Ka(aa,function(){var $a,Wa;$a=new jc(ta,Ua);Wa=new ha(Ua,va,ja,Ha,Na);return new oc.KeyExchangeData(Wa,$a,aa);},Oa);},error:function(Ua){Ka(aa,function(){Ua instanceof cb && Ua.setEntity(Ra);throw Ua;});}}):Da.createMasterToken(ta,W,ya,Aa,{result:function(Ua){Ka(aa,function(){var $a,Wa;$a=new jc(ta,Ua);Wa=new ha(Ua,va,ja,Ha,Na);return new oc.KeyExchangeData(Wa,$a,aa);},Oa);},error:aa.error});},Oa);}Oa=this;Ka(aa,function(){var ja,va;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");ja=W;if(W instanceof ic){if(!W.isVerified())throw new Rc(V.MASTERTOKEN_UNTRUSTED,W);Ra=W;ja=W.identity;}va=new Uint8Array(16);ta.getRandom().nextBytes(va);yc(va,xc,Jc,{result:function(ya){Ka(aa,function(){ta.getMslCryptoContext().wrap(ya,{result:function(Ha){ca(ja,ya,Ha);},error:function(Ha){Ka(aa,function(){Ha instanceof cb && Ha.setEntity(Ra);throw Ha;},Oa);}});},Oa);},error:function(ya){Ka(aa,function(){throw new tb(V.WRAP_KEY_CREATION_FAILURE,null,ya).setEntity(Ra);},Oa);}});},Oa);},getCryptoContext:function(ta,oa,W,aa,ca){var Ga;function la(Ca,Oa,Ra,ja,va){Ka(ca,function(){var ya;ya=new Ac(ta,Bc.A128KW,vc,va);ya.unwrap(Oa.encryptionKey,rc,Ic,{result:function(Ha){ya.unwrap(Oa.hmacKey,sc,Sc,{result:function(Aa){Ka(ca,function(){this.repository.addCryptoContext(Oa.wrapdata,ya);this.repository.removeCryptoContext(Ra);return new jc(ta,Oa.masterToken,ja,Ha,Aa);},Ga);},error:function(Aa){Ka(ca,function(){Aa instanceof cb && Aa.setEntity(Ca);throw Aa;});}});},error:function(Ha){Ka(ca,function(){Ha instanceof cb && Ha.setEntity(Ca);throw Ha;});}});},Ga);}Ga=this;Ka(ca,function(){var Ca,Oa;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(W instanceof ha))throw new vb("Key response data " + JSON.stringify(W) + " was not created by this factory.");Ca=oa.mechanism;Oa=oa.wrapdata;ta.getEntityAuthenticationData(null,{result:function(Ra){Ka(ca,function(){var ja,va,ya;ja=Ra.getIdentity();switch(Ca){case Z.PSK:va=new tc(ja);ya=ta.getEntityAuthenticationFactory(Nb.PSK);if(!ya)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Ca).setEntity(Ra);va=ya.getCryptoContext(ta,va);va=new Ac(ta,Bc.A128KW,vc,Ab);break;case Z.MGK:va=new nc(ja);ya=ta.getEntityAuthenticationFactory(Nb.MGK);if(!ya)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Ca).setEntity(Ra);va=ya.getCryptoContext(ta,va);va=new Ac(ta,Bc.A128KW,vc,va.wrapKey);break;case Z.WRAP:va=this.repository.getCryptoContext(Oa);if(!va)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,Db(Oa)).setEntity(Ra);break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Ca).setEntity(Ra);}va.unwrap(W.wrapKey,xc,Jc,{result:function(Ha){la(Ra,W,Oa,ja,Ha);},error:function(Ha){Ka(ca,function(){Ha instanceof cb && Ha.setEntity(Ra);throw Ha;});}});},Ga);},error:ca.error});},Ga);}});})();(function(){var Z,ba,ha,ea;function fa(U,Y,qa,na,ra){Ka(ra,function(){var Ba,ta;switch(Y){case Z.PSK:(Ba=new tc(na),ta=U.getEntityAuthenticationFactory(Nb.PSK));if(!ta)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ba=ta.getCryptoContext(U,Ba);return new ea(Ab);case Z.MGK:Ba=new nc(na);ta=U.getEntityAuthenticationFactory(Nb.MGK);if(!ta)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ba=ta.getCryptoContext(U,Ba);return new ea(Ab);case Z.WRAP:Ba=U.getMslCryptoContext();Ba.unwrap(qa,xc,Jc,{result:function(oa){Ka(ra,function(){return new ea(oa);});},error:ra.error});break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Y);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=Fd=id.extend({init:function na(Y,qa){na.base.call(this,lc.JWK_LADDER);switch(Y){case Z.WRAP:if(!qa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:qa=null;}Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.mechanism=this.mechanism;this.wrapdata && (Y.wrapdata=Db(this.wrapdata));return Y;},equals:function na(qa){return qa === this?!0:qa instanceof Fd?na.base.call(this,qa) && this.mechanism == qa.mechanism && Xb(this.wrapdata,qa.wrapdata):!1;},uniqueKey:function na(){var ra;ra=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + gc(this.wrapdata));return ra;}});ha=Te=jd.extend({init:function aa(ra,Ba,ta,oa,W){aa.base.call(this,ra,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ba,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:W,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Db(this.wrapKey);ra.wrapdata=Db(this.wrapdata);ra.encryptionkey=Db(this.encryptionKey);ra.hmackey=Db(this.hmacKey);return ra;},equals:function ta(Ba){return this === Ba?!0:Ba instanceof Te?ta.base.call(this,Ba) && Xb(this.wrapKey,Ba.wrapKey) && Xb(this.wrapdata,Ba.wrapdata) && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});ea=ad.extend({init:function(ta){ta && ta.rawKey && (ta=ta.rawKey);Object.defineProperties(this,{_wrapKey:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ta,oa){oa.error(new tb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ta,oa){oa.error(new tb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(ta,oa){Ka(oa,function(){Jb.wrapKey("jwk",ta.rawKey,this._wrapKey,xc).then(function(W){oa.result(W);},function(W){oa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(ta,oa,W,aa){function ca(la){Ka(aa,function(){switch(la.type){case "secret":Yc(la,aa);break;case "public":Oc(la,aa);break;case "private":Zc(la,aa);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + la.type);}});}Ka(aa,function(){Jb.unwrapKey("jwk",ta,this._wrapKey,xc,oa,!1,W).then(function(la){ca(la);},function(la){aa.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(ta,oa){oa.error(new tb(V.SIGN_NOT_SUPPORTED));},verify:function(ta,oa,W){W.error(new tb(V.VERIFY_NOT_SUPPORTED));}});he=oc.extend({init:function W(oa){W.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,W,aa){Ka(aa,function(){var ca,la,Ga;ca=W.mechanism;la=W.wrapdata;if(!ca || ca == Z.WRAP && (!la || "string" !== typeof la))throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));if(!Z[ca])throw new Pb(V.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case Z.WRAP:try{Ga=Fb(la);}catch(Ca){throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());}if(null == Ga || 0 == Ga.length)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());break;default:Ga=null;}return new ba(ca,Ga);});},createResponseData:function(oa,W,aa){var ca,la,Ga,Ca,Oa,Ra,ja;oa=aa.wrapkey;ca=aa.wrapdata;la=aa.encryptionkey;Ga=aa.hmackey;if(!(oa && "string" === typeof oa && ca && "string" === typeof ca && la && "string" === typeof la && Ga) || "string" !== typeof Ga)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ca=Fb(oa);Oa=Fb(ca);}catch(va){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),va);}try{Ra=Fb(la);}catch(va){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),va);}try{ja=Fb(Ga);}catch(va){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),va);}return new ha(W,Ca,Oa,Ra,ja);},generateResponse:function(oa,W,aa,ca){var Ra,ja;function la(va,ya,Ha){Ra.generateSessionKeys(oa,{result:function(Aa){Ka(ca,function(){Ga(va,ya,Ha,Aa.encryptionKey,Aa.hmacKey);},Ra);},error:function(Aa){Ka(ca,function(){Aa instanceof cb && Aa.setEntity(ja);throw Aa;});}});}function Ga(va,ya,Ha,Aa,Na){Ka(ca,function(){fa(oa,W.mechanism,W.wrapdata,va,{result:function(Da){Da.wrap(ya,{result:function(Ua){Ca(ya,Ha,Aa,Na,Ua);},error:function(Ua){Ka(ca,function(){Ua instanceof cb && Ua.setEntity(ja);throw Ua;});}});},error:function(Da){Ka(ca,function(){Da instanceof cb && Da.setEntity(ja);throw Da;});}});},Ra);}function Ca(va,ya,Ha,Aa,Na){Ka(ca,function(){var Da;Da=new ea(va);Da.wrap(Ha,{result:function(Ua){Da.wrap(Aa,{result:function($a){Oa(ya,Na,Ha,Ua,Aa,$a);},error:function($a){Ka(ca,function(){$a instanceof cb && $a.setEntity(ja);throw $a;});}});},error:function(Ua){Ka(ca,function(){Ua instanceof cb && Ua.setEntity(ja);throw Ua;});}});},Ra);}function Oa(va,ya,Ha,Aa,Na,Da){Ka(ca,function(){var Ua;Ua=oa.getTokenFactory();ja?Ua.renewMasterToken(oa,ja,Ha,Na,{result:function($a){Ka(ca,function(){var Wa,ib;Wa=new jc(oa,$a);ib=new ha($a,ya,va,Aa,Da);return new oc.KeyExchangeData(ib,Wa,ca);},Ra);},error:function($a){Ka(ca,function(){$a instanceof cb && $a.setEntity(ja);throw $a;});}}):Ua.createMasterToken(oa,aa,Ha,Na,{result:function($a){Ka(ca,function(){var Wa,ib;Wa=new jc(oa,$a);ib=new ha($a,ya,va,Aa,Da);return new oc.KeyExchangeData(ib,Wa,ca);},Ra);},error:ca.error});},Ra);}Ra=this;Ka(ca,function(){var va,ya;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");va=aa;if(aa instanceof ic){if(!aa.isVerified())throw new Rc(V.MASTERTOKEN_UNTRUSTED,aa);ja=aa;va=aa.identity;}ya=new Uint8Array(16);oa.getRandom().nextBytes(ya);yc(ya,xc,Jc,{result:function(Ha){Ka(ca,function(){oa.getMslCryptoContext().wrap(Ha,{result:function(Aa){la(va,Ha,Aa);},error:function(Aa){Ka(ca,function(){Aa instanceof cb && Aa.setEntity(ja);throw Aa;},Ra);}});},Ra);},error:function(Ha){Ka(ca,function(){throw new tb(V.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(ja);},Ra);}});},Ra);},getCryptoContext:function(oa,W,aa,ca,la){var Ca;function Ga(Oa,Ra,ja,va,ya){Ka(la,function(){var Ha;Ha=new ea(ya);Ha.unwrap(Ra.encryptionKey,rc,Ic,{result:function(Aa){Ha.unwrap(Ra.hmacKey,sc,Sc,{result:function(Na){Ka(la,function(){this.repository.addCryptoContext(Ra.wrapdata,Ha);this.repository.removeCryptoContext(ja);return new jc(oa,Ra.masterToken,va,Aa,Na);},Ca);},error:function(Na){Ka(la,function(){Na instanceof cb && Na.setEntity(Oa);throw Na;});}});},error:function(Aa){Ka(la,function(){Aa instanceof cb && Aa.setEntity(Oa);throw Aa;});}});},Ca);}Ca=this;Ka(la,function(){var Oa,Ra;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ha))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Oa=W.mechanism;Ra=W.wrapdata;oa.getEntityAuthenticationData(null,{result:function(ja){Ka(la,function(){var va,ya,Ha;va=ja.getIdentity();switch(Oa){case Z.PSK:ya=new tc(va);Ha=oa.getEntityAuthenticationFactory(Nb.PSK);if(!Ha)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ja);ya=Ha.getCryptoContext(oa,ya);ya=new ea(ya.wrapKey);break;case Z.MGK:ya=new nc(va);Ha=oa.getEntityAuthenticationFactory(Nb.MGK);if(!Ha)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ja);ya=Ha.getCryptoContext(oa,ya);ya=new ea(ya.wrapKey);break;case Z.WRAP:ya=this.repository.getCryptoContext(Ra);if(!ya)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,Db(Ra)).setEntity(ja);break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ja);}ya.unwrap(aa.wrapKey,xc,Jc,{result:function(Aa){Ga(ja,aa,Ra,va,Aa);},error:function(Aa){Ka(la,function(){Aa instanceof cb && Aa.setEntity(ja);throw Aa;});}});},Ca);},error:la.error});},Ca);}});})();Rf=Bb.Class.create({addCryptoContext:function(fa,Z){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){}});(function(){var Z,ba,ha,ea;function fa(U,Y,qa,na,ra){switch(qa){case Z.JWE_RSA:case Z.JWEJS_RSA:return new Ac(U,Bc.RSA_OAEP,vc,na,ra);case Z.JWK_RSA:return new zd(U,Y,na,ra,Ad.WRAP_UNWRAP_OAEP);case Z.JWK_RSAES:return new zd(U,Y,na,ra,Ad.WRAP_UNWRAP_PKCS1);default:throw new tb(V.UNSUPPORTED_KEYX_MECHANISM,qa);}}Z=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};ba=Td=id.extend({init:function Ba(Y,qa,na,ra){Ba.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Y,writable:!1,configurable:!1},mechanism:{value:qa,writable:!1,configurable:!1},publicKey:{value:na,writable:!1,configurable:!1},privateKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.keypairid=this.keyPairId;Y.mechanism=this.mechanism;Y.publickey=Db(this.publicKey.getEncoded());return Y;},equals:function na(qa){var ra;if(qa === this)return !0;if(!(qa instanceof Td))return !1;ra=this.privateKey === qa.privateKey || this.privateKey && qa.privateKey && Xb(this.privateKey.getEncoded(),qa.privateKey.getEncoded());return na.base.call(this,qa) && this.keyPairId == qa.keyPairId && this.mechanism == qa.mechanism && Xb(this.publicKey.getEncoded(),qa.publicKey.getEncoded()) && ra;},uniqueKey:function na(){var ra,Ba;ra=this.publicKey.getEncoded();Ba=this.privateKey && this.privateKey.getEncoded();ra=na.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(ra);Ba && (ra+=":" + gc(Ba));return ra;}});ha=function(na,ra){Ka(ra,function(){var Ba,ta,oa,W;Ba=na.keypairid;ta=na.mechanism;oa=na.publickey;if(!Ba || "string" !== typeof Ba || !ta || !oa || "string" !== typeof oa)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(na));if(!Z[ta])throw new Pb(V.UNIDENTIFIED_KEYX_MECHANISM,ta);try{W=Fb(oa);switch(ta){case Z.JWE_RSA:case Z.JWEJS_RSA:case Z.JWK_RSA:Yd(W,xd,Jc,{result:function(aa){ra.result(new ba(Ba,ta,aa,null));},error:function(aa){ra.error(aa);}});break;case Z.JWK_RSAES:Yd(W,Wd,Jc,{result:function(aa){ra.result(new ba(Ba,ta,aa,null));},error:function(aa){ra.error(aa);}});break;default:throw new tb(V.UNSUPPORTED_KEYX_MECHANISM,ta);}}catch(aa){if(!(aa instanceof cb))throw new tb(V.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(na),aa);throw aa;}});};ea=Ue=jd.extend({init:function W(ra,Ba,ta,oa){W.base.call(this,ra,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ba,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.keypairid=this.keyPairId;ra.encryptionkey=Db(this.encryptionKey);ra.hmackey=Db(this.hmacKey);return ra;},equals:function ta(Ba){return this === Ba?!0:Ba instanceof Ue?ta.base.call(this,Ba) && this.keyPairId == Ba.keyPairId && Xb(this.encryptionKey,Ba.encryptionKey) && Xb(this.hmacKey,Ba.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ae=oc.extend({init:function oa(){oa.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,W,aa){ha(W,aa);},createResponseData:function(oa,W,aa){var ca,la,Ga,Ca;oa=aa.keypairid;ca=aa.encryptionkey;la=aa.hmackey;if(!oa || "string" !== typeof oa || !ca || "string" !== typeof ca || !la || "string" !== typeof la)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ga=Fb(ca);}catch(Oa){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Oa);}try{Ca=Fb(la);}catch(Oa){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Oa);}return new ea(W,oa,Ga,Ca);},generateResponse:function(oa,W,aa,ca){var Ca;function la(Oa,Ra){Ka(ca,function(){var ja;ja=fa(oa,W.keyPairId,W.mechanism,null,W.publicKey);ja.wrap(Oa,{result:function(va){Ka(ca,function(){ja.wrap(Ra,{result:function(ya){Ga(Oa,va,Ra,ya);},error:function(ya){Ka(ca,function(){ya instanceof cb && aa instanceof ic && ya.setEntity(aa);throw ya;},Ca);}});},Ca);},error:function(va){Ka(ca,function(){va instanceof cb && aa instanceof ic && va.setEntity(aa);throw va;},Ca);}});},Ca);}function Ga(Oa,Ra,ja,va){Ka(ca,function(){var ya;ya=oa.getTokenFactory();aa instanceof ic?ya.renewMasterToken(oa,aa,Oa,ja,{result:function(Ha){Ka(ca,function(){var Aa,Na;Aa=new jc(oa,Ha);Na=new ea(Ha,W.keyPairId,Ra,va);return new oc.KeyExchangeData(Na,Aa,ca);},Ca);},error:function(Ha){Ka(ca,function(){Ha instanceof cb && Ha.setEntity(aa);throw Ha;},Ca);}}):ya.createMasterToken(oa,aa,Oa,ja,{result:function(Ha){Ka(ca,function(){var Aa,Na;Aa=new jc(oa,Ha);Na=new ea(Ha,W.keyPairId,Ra,va);return new oc.KeyExchangeData(Na,Aa,ca);},Ca);},error:ca.error});},Ca);}Ca=this;Ka(ca,function(){if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Oa){la(Oa.encryptionKey,Oa.hmacKey);},error:function(Oa){Ka(ca,function(){Oa instanceof cb && aa instanceof ic && Oa.setEntity(aa);throw Oa;},Ca);}});},Ca);},getCryptoContext:function(oa,W,aa,ca,la){var Ga;Ga=this;Ka(la,function(){var Ca,Oa,Ra;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ea))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Ca=W.keyPairId;Oa=aa.keyPairId;if(Ca != Oa)throw new Pb(V.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ca + "; response " + Oa).setEntity(ca);Oa=W.privateKey;if(!Oa)throw new Pb(V.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ca);Ra=fa(oa,Ca,W.mechanism,Oa,null);Ra.unwrap(aa.encryptionKey,rc,Ic,{result:function(ja){Ra.unwrap(aa.hmacKey,sc,Sc,{result:function(va){oa.getEntityAuthenticationData(null,{result:function(ya){Ka(la,function(){var Ha;Ha=ya.getIdentity();return new jc(oa,aa.masterToken,Ha,ja,va);},Ga);},error:function(ya){Ka(la,function(){ya instanceof cb && ya.setEntity(ca);throw ya;},Ga);}});},error:function(va){Ka(la,function(){va instanceof cb && va.setEntity(ca);throw va;},Ga);}});},error:function(ja){Ka(la,function(){ja instanceof cb && ja.setEntity(ca);throw ja;},Ga);}});},Ga);}});})();Qf=Bb.Class.create({init:function(fa){var Z,ba,ha,ea,U,Y,qa,na;Z=Yb.parser();ba=[];ha=[];qa=0;na=!1;Z.onerror=function(ra){na || (na=!0,Z.end());};Z.onopenobject=function(ra){var Ba;if(ea)(ea[Y]={},ha.push(ea),ea=ea[Y]);else if(U){Ba={};ha.push(U);U.push(Ba);ea=Ba;U=Ab;}else ea={};Y=ra;};Z.oncloseobject=function(){var ra;ra=ha.pop();ra?"object" === typeof ra?ea=ra:(ea=Ab,U=ra):(ba.push(ea),qa=Z.index,ea=Ab);};Z.onopenarray=function(){var ra;if(ea)(ea[Y]=[],ha.push(ea),U=ea[Y],ea=Ab);else if(U){ra=[];ha.push(U);U.push(ra);U=ra;}else U=[];};Z.onclosearray=function(){var ra;ra=ha.pop();ra?"object" === typeof ra?(ea=ra,U=Ab):U=ra:(ba.push(U),qa=Z.index,U=Ab);};Z.onkey=function(ra){Y=ra;};Z.onvalue=function(ra){ea?ea[Y]=ra:U?U.push(ra):(ba.push(ra),qa=Z.index);};Z.write(fa).close();Object.defineProperties(this,{_values:{value:ba,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:qa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var fa,Z,ba,ha,ea;fa=ie="entityauthdata";Z=We="mastertoken";ba=Xe="headerdata";ha=Ye="errordata";ea=je="signature";Ve=function(U,Y,qa,na){Ka(na,function(){var ra,Ba,ta,oa,W,aa;ra=Y[fa];Ba=Y[Z];ta=Y[ea];if(ra && "object" !== typeof ra || Ba && "object" !== typeof Ba || "string" !== typeof ta)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));try{oa=Fb(ta);}catch(ca){throw new Ib(V.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Y),ca);}W=null;ra && (W=Je(U,ra));aa=Y[ba];if(aa != Ab && null != aa){if("string" !== typeof aa)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ba?Tc(U,Ba,{result:function(ca){ke(U,aa,W,ca,oa,qa,na);},error:function(ca){na.error(ca);}}):ke(U,aa,W,null,oa,qa,na);}else if((ra=Y[ha],ra != Ab && null != ra)){if("string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ze(U,ra,W,oa,na);}else throw new yb(V.JSON_PARSE_ERROR,JSON.stringify(Y));});};})();(function(){function fa(Z,ba){this.errordata=Z;this.signature=ba;}Nc=Bb.Class.create({init:function(Z,ba,ha,ea,U,Y,qa,na,ra,Ba){var ta;ta=this;Ka(Ba,function(){var oa,W;0 > Y && (Y=-1);if(0 > ea || ea > Mb)throw new vb("Message ID " + ea + " is out of range.");if(!ba)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);if(ra)return (Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ha,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:qa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:ra.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};ha && (oa.recipient=ha);oa.messageid=ea;oa.errorcode=U;0 < Y && (oa.internalcode=Y);qa && (oa.errormsg=qa);na && (oa.usermsg=na);try{W=Z.getEntityAuthenticationFactory(ba.scheme).getCryptoContext(Z,ba);}catch(aa){throw (aa instanceof cb && (aa.setEntity(ba),aa.setMessageId(ea)),aa);}oa=Sb(JSON.stringify(oa),Lb);W.encrypt(oa,{result:function(aa){Ka(Ba,function(){W.sign(aa,{result:function(ca){Ka(Ba,function(){Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ha,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:qa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(ca){Ka(Ba,function(){ca instanceof cb && (ca.setEntity(ba),ca.setMessageId(ea));throw ca;},ta);}});},ta);},error:function(aa){Ka(Ba,function(){aa instanceof cb && (aa.setEntity(ba),aa.setMessageId(ea));throw aa;},ta);}});},ta);},toJSON:function(){var Z;Z={};Z[ie]=this.entityAuthenticationData;Z[Ye]=Db(this.errordata);Z[je]=Db(this.signature);return Z;}});$e=function(Z,ba,ha,ea,U,Y,qa,na,ra){new Nc(Z,ba,ha,ea,U,Y,qa,na,null,ra);};Ze=function(Z,ba,ha,ea,U){Ka(U,function(){var Y,qa,na;if(!ha)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);try{Y=ha.scheme;qa=Z.getEntityAuthenticationFactory(Y);if(!qa)throw new wc(V.ENTITYAUTH_FACTORY_NOT_FOUND,Y);na=qa.getCryptoContext(Z,ha);}catch(ra){throw (ra instanceof cb && ra.setEntity(ha),ra);}try{ba=Fb(ba);}catch(ra){throw new Ib(V.HEADER_DATA_INVALID,ba,ra).setEntity(ha);}if(!ba || 0 == ba.length)throw new Ib(V.HEADER_DATA_MISSING,ba).setEntity(ha);na.verify(ba,ea,{result:function(ra){Ka(U,function(){if(!ra)throw new tb(V.MESSAGE_VERIFICATION_FAILED).setEntity(ha);na.decrypt(ba,{result:function(Ba){Ka(U,function(){var ta,oa,W,aa,ca,la,Ga,Ca;ta=Tb(Ba,Lb);try{oa=JSON.parse(ta);}catch(Ra){if(Ra instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"errordata " + ta,Ra).setEntity(ha);throw Ra;}W=oa.recipient !== Ab?oa.recipient:null;aa=parseInt(oa.messageid);ca=parseInt(oa.errorcode);la=parseInt(oa.internalcode);Ga=oa.errormsg;Ca=oa.usermsg;if(W && "string" !== typeof W || !aa || aa != aa || !ca || ca != ca || oa.internalcode && la != la || Ga && "string" !== typeof Ga || Ca && "string" !== typeof Ca)throw new yb(V.JSON_PARSE_ERROR,"errordata " + ta).setEntity(ha);if(0 > aa || aa > Mb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ta).setEntity(ha);oa=!1;for(var Oa in Ja){if(Ja[Oa] == ca){oa=!0;break;}}oa || (ca=Ja.FAIL);if(la){if(0 > la)throw new Ib(V.INTERNAL_CODE_NEGATIVE,"errordata " + ta).setEntity(ha).setMessageId(aa);}else la=-1;ta=new fa(ba,ea);new Nc(Z,ha,W,aa,ca,la,Ga,Ca,ta,U);});},error:function(Ba){Ka(U,function(){Ba instanceof cb && Ba.setEntity(ha);throw Ba;});}});});},error:function(ra){Ka(U,function(){ra instanceof cb && ra.setEntity(ha);throw ra;});}});});};})();Sf=Bb.Class.create({getUserMessage:function(fa,Z){}});(function(){le=function(fa,Z){var ba;if(!fa || !Z)return null;ba=fa.compressionAlgorithms.filter(function(ha){for(var ea=0;ea < Z.compressionAlgorithms.length;++ea){if(ha == Z.compressionAlgorithms[ea])return !0;}return !1;});fa=fa.languages.filter(function(ha){for(var ea=0;ea < Z.languages.length;++ea){if(ha == Z.languages[ea])return !0;}return !1;});return new kd(ba,fa);};kd=Bb.Class.create({init:function(fa,Z){fa || (fa=[]);Z || (Z=[]);fa.sort();Object.defineProperties(this,{compressionAlgorithms:{value:fa,writable:!1,enumerable:!0,configurable:!1},languages:{value:Z,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var fa;fa={};fa.compressionalgos=this.compressionAlgorithms;fa.languages=this.languages;return fa;},equals:function(fa){return this === fa?!0:fa instanceof kd?te(this.compressionAlgorithms,fa.compressionAlgorithms) && te(this.languages,fa.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});af=function(fa){var Z,ba,ea;Z=fa.compressionalgos;ba=fa.languages;if(Z && !(Z instanceof Array) || ba && !(ba instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(fa));fa=[];for(var ha=0;Z && ha < Z.length;++ha){ea=Z[ha];Pc[ea] && fa.push(ea);}return new kd(fa,ba);};})();(function(){var Ba,ta;function fa(oa,W,aa,ca,la){this.customer=oa;this.sender=W;this.messageCryptoContext=aa;this.headerdata=ca;this.signature=la;}function Z(oa,W,aa,ca,la,Ga,Ca,Oa,Ra,ja,va,ya,Ha,Aa,Na,Da,Ua,$a,Wa,ib){return {cryptoContext:{value:W,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:ca,writable:!1,configurable:!1},masterToken:{value:la,writable:!1,configurable:!1},sender:{value:Ga,writable:!1,configurable:!1},messageId:{value:Ca,writable:!1,configurable:!1},nonReplayableId:{value:Da,writable:!1,configurable:!1},keyRequestData:{value:Oa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthenticationData:{value:ja,writable:!1,configurable:!1},userIdToken:{value:va,writable:!1,configurable:!1},serviceTokens:{value:ya,writable:!1,configurable:!1},peerMasterToken:{value:Ha,writable:!1,configurable:!1},peerUserIdToken:{value:Aa,writable:!1,configurable:!1},peerServiceTokens:{value:Na,writable:!1,configurable:!1},messageCapabilities:{value:$a,writable:!1,configurable:!1},renewable:{value:Ua,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ib,writable:!1,enumerable:!1,configurable:!1}};}function ba(oa,W,aa){var ca;if(aa){if(W=oa.getMslStore().getCryptoContext(aa))return W;if(!aa.isVerified() || !aa.isDecrypted())throw new Rc(V.MASTERTOKEN_UNTRUSTED,aa);return new jc(oa,aa);}aa=W.scheme;ca=oa.getEntityAuthenticationFactory(aa);if(!ca)throw new wc(V.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return ca.getCryptoContext(oa,W);}function ha(oa,W,aa,ca,la){Ka(la,function(){W.verify(aa,ca,{result:function(Ga){Ka(la,function(){if(!Ga)throw new tb(V.MESSAGE_VERIFICATION_FAILED);W.decrypt(aa,{result:function(Ca){Ka(la,function(){return Tb(Ca,Lb);});},error:function(Ca){la.error(Ca);}});});},error:function(Ga){la.error(Ga);}});});}function ea(oa,W,aa){Ka(aa,function(){if(W)Qe(oa,W,aa);else return null;});}function U(oa,W,aa,ca){Ka(ca,function(){if(W)Uc(oa,W,aa,ca);else return null;});}function Y(oa,W,aa,ca){Ka(ca,function(){if(aa)ef(oa,W,aa,ca);else return null;});}function qa(oa,W,aa,ca,la,Ga,Ca){var Ra;function Oa(ja,va,ya){var Ha,Aa;if(va >= ja.length){Ha=[];for(Aa in Ra){Ha.push(Ra[Aa]);}ya.result(Ha);}else {Ha=ja[va];if("object" !== typeof Ha)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + Ga);Hd(oa,Ha,aa,ca,la,{result:function(Na){Ka(ya,function(){Ra[Na.uniqueKey()]=Na;Oa(ja,va + 1,ya);});},error:function(Na){ya.error(Na);}});}}Ra={};Ka(Ca,function(){if(W){if(!(W instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + Ga);Oa(W,0,Ca);}else return [];});}function na(oa,W,aa,ca,la,Ga){function Ca(Ra,ja,va){Ka(va,function(){var ya;ya=ja.peermastertoken;if(ya && "object" !== typeof ya)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + la);if(!ya)return null;Tc(Ra,ya,va);});}function Oa(Ra,ja,va,ya){Ka(ya,function(){var Ha;Ha=ja.peeruseridtoken;if(Ha && "object" !== typeof Ha)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + la);if(!Ha)return null;Uc(Ra,Ha,va,ya);});}Ka(Ga,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ca(oa,W,{result:function(Ra){Ka(Ga,function(){var ja;ja=aa?aa.masterToken:Ra;Oa(oa,W,ja,{result:function(va){Ka(Ga,function(){qa(oa,W.peerservicetokens,ja,va,ca,la,{result:function(ya){Ka(Ga,function(){return {peerMasterToken:Ra,peerUserIdToken:va,peerServiceTokens:ya};});},error:function(ya){Ka(Ga,function(){ya instanceof cb && (ya.setEntity(ja),ya.setUser(va));throw ya;});}});});},error:function(va){Ka(Ga,function(){va instanceof cb && va.setEntity(ja);throw va;});}});});},error:Ga.error});});}function ra(oa,W,aa,ca){var Ga;function la(Ca,Oa){Ka(ca,function(){if(Oa >= Ca.length)return Ga;Pe(oa,Ca[Oa],{result:function(Ra){Ka(ca,function(){Ga.push(Ra);la(Ca,Oa + 1);});},error:function(Ra){ca.error(Ra);}});});}Ga=[];Ka(ca,function(){var Ca;Ca=W.keyrequestdata;if(!Ca)return Ga;if(!(Ca instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + aa);la(Ca,0);});}Ba=cf=Bb.Class.create({init:function(oa,W,aa,ca,la,Ga,Ca,Oa,Ra){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:W,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:ca,writable:!1,configurable:!1},keyRequestData:{value:la,writable:!1,configurable:!1},keyResponseData:{value:Ga,writable:!1,configurable:!1},userAuthData:{value:Ca,writable:!1,configurable:!1},userIdToken:{value:Oa,writable:!1,configurable:!1},serviceTokens:{value:Ra,writable:!1,configurable:!1}});}});ta=df=Bb.Class.create({init:function(oa,W,aa){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:W,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});ld=Bb.Class.create({init:function(oa,W,aa,ca,la,Ga,Ca){var Ra;function Oa(ja){Ka(Ca,function(){var va,ya,Ha,Aa,Na,Da,Ua,$a,Wa,ib,lb,pb,rb,sb,zb,xb,r;W=aa?null:W;va=ca.nonReplayableId;ya=ca.renewable;Ha=ca.capabilities;Aa=ca.messageId;Na=ca.keyRequestData?ca.keyRequestData:[];Da=ca.keyResponseData;Ua=ca.userAuthData;$a=ca.userIdToken;Wa=ca.serviceTokens?ca.serviceTokens:[];if(oa.isPeerToPeer()){ib=la.peerMasterToken;lb=la.peerUserIdToken;pb=la.peerServiceTokens?la.peerServiceTokens:[];}else (lb=ib=null,pb=[]);if(0 > Aa || Aa > Mb)throw new vb("Message ID " + Aa + " is out of range.");if(!W && !aa)throw new vb("Message entity authentication data or master token must be provided.");if(Da){if(oa.isPeerToPeer()){rb=aa;sb=Da.masterToken;}else (rb=Da.masterToken,sb=ib);}else (rb=aa,sb=ib);if($a && (!rb || !$a.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(lb && (!sb || !lb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Wa.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!$a || !b.isBoundTo($a)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);pb.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ga){r=Ga.customer;zb=Ga.messageCryptoContext;xb=Z(oa,zb,r,W,aa,ja,Aa,Na,Da,Ua,$a,Wa,ib,lb,pb,va,ya,Ha,Ga.headerdata,Ga.signature);Object.defineProperties(this,xb);return this;}r=$a?$a.customer:null;xb={};ja && (xb.sender=ja);xb.messageid=Aa;"number" === typeof va && (xb.nonreplayableid=va);xb.renewable=ya;Ha && (xb.capabilities=Ha);0 < Na.length && (xb.keyrequestdata=Na);Da && (xb.keyresponsedata=Da);Ua && (xb.userauthdata=Ua);$a && (xb.useridtoken=$a);0 < Wa.length && (xb.servicetokens=Wa);ib && (xb.peermastertoken=ib);lb && (xb.peeruseridtoken=lb);0 < pb.length && (xb.peerservicetokens=pb);try{zb=ba(oa,W,aa);}catch(b){throw (b instanceof cb && (b.setEntity(aa),b.setEntity(W),b.setUser($a),b.setUser(Ua),b.setMessageId(Aa)),b);}xb=Sb(JSON.stringify(xb),Lb);zb.encrypt(xb,{result:function(b){Ka(Ca,function(){zb.sign(b,{result:function(a){Ka(Ca,function(){var c;c=Z(oa,zb,r,W,aa,ja,Aa,Na,Da,Ua,$a,Wa,ib,lb,pb,va,ya,Ha,b,a);Object.defineProperties(this,c);return this;},Ra);},error:function(a){Ka(Ca,function(){a instanceof cb && (a.setEntity(aa),a.setEntity(W),a.setUser($a),a.setUser(Ua),a.setMessageId(Aa));throw a;},Ra);}});},Ra);},error:function(b){Ka(Ca,function(){b instanceof cb && (b.setEntity(aa),b.setEntity(W),b.setUser($a),b.setUser(Ua),b.setMessageId(Aa));throw b;},Ra);}});},Ra);}Ra=this;Ka(Ca,function(){Ga?Oa(Ga.sender):aa?oa.getEntityAuthenticationData(null,{result:function(ja){ja=ja.getIdentity();Oa(ja);},error:Ca.error}):Oa(null);},Ra);},isEncrypting:function(){return this.masterToken || Qd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[We]=this.masterToken:oa[ie]=this.entityAuthenticationData;oa[Xe]=Db(this.headerdata);oa[je]=Db(this.signature);return oa;}});bf=function(oa,W,aa,ca,la,Ga){new ld(oa,W,aa,ca,la,null,Ga);};ke=function(oa,W,aa,ca,la,Ga,Ca){Ka(Ca,function(){var Oa,Ra;aa=ca?null:aa;if(!aa && !ca)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);Oa=W;try{W=Fb(Oa);}catch(ja){throw new Ib(V.HEADER_DATA_INVALID,Oa,ja);}if(!W || 0 == W.length)throw new Ib(V.HEADER_DATA_MISSING,Oa);try{Ra=ba(oa,aa,ca);}catch(ja){throw (ja instanceof cb && (ja.setEntity(ca),ja.setEntity(aa)),ja);}ha(oa,Ra,W,la,{result:function(ja){Ka(Ca,function(){var va,ya,Ha,Aa,Na;try{va=JSON.parse(ja);}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja,Da).setEntity(ca).setEntity(aa);throw Da;}ya=parseInt(va.messageid);if(!ya || ya != ya)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja).setEntity(ca).setEntity(aa);if(0 > ya || ya > Mb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ja).setEntity(ca).setEntity(aa);Ha=ca?va.sender:null;if(ca && (!Ha || "string" !== typeof Ha))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja).setEntity(ca).setEntity(aa).setMessageId(ya);Aa=va.keyresponsedata;if(Aa && "object" !== typeof Aa)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja).setEntity(ca).setEntity(aa).setMessageId(ya);Na=Ca;Ca={result:function(Da){Na.result(Da);},error:function(Da){Da instanceof cb && (Da.setEntity(ca),Da.setEntity(aa),Da.setMessageId(ya));Na.error(Da);}};ea(oa,Aa,{result:function(Da){Ka(Ca,function(){var Ua,$a;Ua=!oa.isPeerToPeer() && Da?Da.masterToken:ca;$a=va.useridtoken;if($a && "object" !== typeof $a)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja);U(oa,$a,Ua,{result:function(Wa){Ka(Ca,function(){var ib;ib=va.userauthdata;if(ib && "object" !== typeof ib)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja);Y(oa,Ua,ib,{result:function(lb){Ka(Ca,function(){var pb,rb,sb;if(lb){pb=lb.scheme;rb=oa.getUserAuthenticationFactory(pb);if(!rb)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,pb).setUser(Wa).setUser(lb);pb=ca?ca.identity:aa.getIdentity();sb=rb.authenticate(oa,pb,lb,Wa);}else sb=Wa?Wa.customer:null;qa(oa,va.servicetokens,Ua,Wa,Ga,ja,{result:function(zb){Ka(Ca,function(){var xb,r,b,a;xb=va.nonreplayableid !== Ab?parseInt(va.nonreplayableid):null;r=va.renewable;if(xb != xb || "boolean" !== typeof r)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja);if(0 > xb || xb > Mb)throw new Ib(V.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ja);b=null;a=va.capabilities;if(a){if("object" !== typeof a)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ja);b=af(a);}ra(oa,va,ja,{result:function(c){na(oa,va,Da,Ga,ja,{result:function(f){Ka(Ca,function(){var l,m,d,g;l=f.peerMasterToken;m=f.peerUserIdToken;d=f.peerServiceTokens;g=new Ba(ya,xb,r,b,c,Da,lb,Wa,zb);l=new ta(l,m,d);m=new fa(sb,Ha,Ra,W,la);new ld(oa,aa,ca,g,l,m,Ca);});},error:Ca.error});},error:function(c){Ka(Ca,function(){c instanceof cb && (c.setUser(Wa),c.setUser(lb));throw c;});}});});},error:function(zb){Ka(Ca,function(){zb instanceof cb && (zb.setEntity(Ua),zb.setUser(Wa),zb.setUser(lb));throw zb;});}});});},error:Ca.error});});},error:Ca.error});});},error:Ca.error});});},error:Ca.error});});};})();(function(){function fa(Z,ba){this.payload=Z;this.signature=ba;}me=Bb.Class.create({init:function(Z,ba,ha,ea,U,Y,qa,na){var ra;ra=this;Ka(na,function(){var Ba,ta;if(0 > Z || Z > Mb)throw new vb("Sequence number " + Z + " is outside the valid range.");if(0 > ba || ba > Mb)throw new vb("Message ID " + ba + " is outside the valid range.");if(qa)return (Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ha,writable:!1,enumerable:!1,configurable:!1},payload:{value:qa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){Ba=ne(ea,U);Ba || (ea=null,Ba=U);}else (ea=null,Ba=U);ta={};ta.sequencenumber=Z;ta.messageid=ba;ha && (ta.endofmsg=ha);ea && (ta.compressionalgo=ea);ta.data=Db(Ba);Ba=Sb(JSON.stringify(ta),Lb);Y.encrypt(Ba,{result:function(oa){Ka(na,function(){Y.sign(oa,{result:function(W){Ka(na,function(){Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ha,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:W,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(W){na.error(W);}});},ra);},error:function(oa){na.error(oa);}});},ra);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Z;Z={};Z.payload=Db(this.payload);Z.signature=Db(this.signature);return Z;}});ff=function(Z,ba,ha,ea,U,Y,qa){new me(Z,ba,ha,ea,U,Y,null,qa);};gf=function(Z,ba,ha){Ka(ha,function(){var ea,U,Y,qa;ea=Z.payload;U=Z.signature;if(!ea || "string" !== typeof ea || "string" !== typeof U)throw new yb(V.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Z));try{Y=Fb(ea);}catch(na){throw new Ib(V.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Z),na);}try{qa=Fb(U);}catch(na){throw new Ib(V.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Z),na);}ba.verify(Y,qa,{result:function(na){Ka(ha,function(){if(!na)throw new tb(V.PAYLOAD_VERIFICATION_FAILED);ba.decrypt(Y,{result:function(ra){Ka(ha,function(){var Ba,ta,oa,W,aa,ca,la;Ba=Tb(ra,Lb);try{ta=JSON.parse(Ba);}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ba,Ga);throw Ga;}oa=parseInt(ta.sequencenumber);W=parseInt(ta.messageid);aa=ta.endofmsg;ca=ta.compressionalgo;ta=ta.data;if(!oa || oa != oa || !W || W != W || aa && "boolean" !== typeof aa || ca && "string" !== typeof ca || "string" !== typeof ta)throw new yb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ba);if(0 > oa || oa > Mb)throw new cb(V.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ba);if(0 > W || W > Mb)throw new cb(V.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ba);aa || (aa=!1);if(ca && !Pc[ca])throw new Ib(V.UNIDENTIFIED_COMPRESSION,ca);try{la=Fb(ta);}catch(Ga){throw new Ib(V.PAYLOAD_DATA_CORRUPT,ta,Ga);}if(la && 0 != la.length)Ba=ca?Id(ca,la):la;else {if(0 < ta.length)throw new Ib(V.PAYLOAD_DATA_CORRUPT,ta);if(aa)Ba=new Uint8Array(0);else throw new Ib(V.PAYLOAD_DATA_MISSING,ta);}la=new fa(Y,qa);new me(oa,W,aa,ca,Ba,ba,la,ha);});},error:function(ra){ha.error(ra);}});});},error:function(na){ha.error(na);}});});};})();(function(){var ha,ea;function fa(U,Y,qa,na,ra){var ta,oa,W,aa,ca;function Ba(){Ka(ra,function(){var la,Ga;oa >= Y.length && (oa=0,++ta);if(ta >= W.length){if(aa)throw aa;throw new Pb(V.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Y));}la=W[ta];Ga=Y[oa];la.scheme != Ga.keyExchangeScheme?(++oa,Ba()):la.generateResponse(U,Ga,ca,{result:function(Ca){ra.result(Ca);},error:function(Ca){Ka(ra,function(){if(!(Ca instanceof cb))throw Ca;aa=Ca;++oa;Ba();});}});});}ta=0;oa=0;W=U.getKeyExchangeFactories();ca=qa?qa:na;Ba();}function Z(U,Y,qa,na,ra){Ka(ra,function(){var Ba;Ba=Y.keyRequestData;if(Y.isRenewable() && 0 < Ba.length)na?na.isRenewable() || na.isExpired()?fa(U,Ba,na,null,ra):U.getTokenFactory().isNewestMasterToken(U,na,{result:function(ta){Ka(ra,function(){if(ta)return null;fa(U,Ba,na,null,ra);});},error:ra.error}):fa(U,Ba,null,qa.getIdentity(),ra);else return null;});}function ba(U,Y,qa,na){Ka(na,function(){var ra,Ba,ta,oa;ra=Y.userIdToken;Ba=Y.userAuthenticationData;ta=Y.messageId;if(ra && ra.isVerified()){if(ra.isRenewable() && Y.isRenewable() || ra.isExpired() || !ra.isBoundTo(qa)){Ba=U.getTokenFactory();Ba.renewUserIdToken(U,ra,qa,na);return;}}else if(Y.isRenewable() && qa && Ba){ra=Y.customer;if(!ra){ra=Ba.scheme;oa=U.getUserAuthenticationFactory(ra);if(!oa)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ra).setEntity(qa).setUser(Ba).setMessageId(ta);ra=oa.authenticate(U,qa.identity,Ba,null);}Ba=U.getTokenFactory();Ba.createUserIdToken(U,ra,qa,na);return;}return ra;});}ha=new Uint8Array(0);ea=Vc=function(U){if(0 > U || U > Mb)throw new vb("Message ID " + U + " is outside the valid range.");return U == Mb?0:U + 1;};cd=function(U){if(0 > U || U > Mb)throw new vb("Message ID " + U + " is outside the valid range.");return 0 == U?Mb:U - 1;};Wc=function(U,Y,qa,na,ra){Ka(ra,function(){var Ba;if(na == Ab || null == na){Ba=U.getRandom();do {na=Ba.nextLong();}while(0 > na || na > Mb);}else if(0 > na || na > Mb)throw new vb("Message ID " + na + " is outside the valid range.");U.getEntityAuthenticationData(null,{result:function(ta){Ka(ra,function(){var oa;oa=U.getMessageCapabilities();return new Jd(U,na,oa,ta,Y,qa,null,null,null,null,null);});},error:function(ta){ra.error(ta);}});});};hf=function(U,Y,qa){Ka(qa,function(){var ra,Ba,ta,oa,W,aa;function na(ca){Ka(qa,function(){ca instanceof cb && (ca.setEntity(ra),ca.setEntity(Ba),ca.setUser(ta),ca.setUser(oa),ca.setMessageId(W));throw ca;});}ra=Y.masterToken;Ba=Y.entityAuthenticationData;ta=Y.userIdToken;oa=Y.userAuthenticationData;W=Y.messageId;aa=ea(W);Z(U,Y,Ba,ra,{result:function(ca){Ka(qa,function(){var la;la=ca?ca.keyResponseData.masterToken:la=ra;U.getEntityAuthenticationData(null,{result:function(Ga){Ka(qa,function(){ba(U,Y,la,{result:function(Ca){Ka(qa,function(){var Oa,Ra,ja;ta=Ca;Oa=le(Y.messageCapabilities,U.getMessageCapabilities());Ra=Y.keyResponseData;ja=Y.serviceTokens;return U.isPeerToPeer()?new Jd(U,aa,Oa,Ga,Ra?Ra.masterToken:Y.peerMasterToken,Y.peerUserIdToken,Y.peerServiceTokens,ra,ta,ja,ca):new Jd(U,aa,Oa,Ga,Ra?Ra.masterToken:ra,ta,ja,null,null,null,ca);});},error:na});});},error:na});});},error:na});});};jf=function(U,Y,qa,na,ra){Ka(ra,function(){U.getEntityAuthenticationData(null,{result:function(Ba){Ka(ra,function(){var ta,oa;if(Y != Ab && null != Y)ta=ea(Y);else {oa=U.getRandom();do {ta=oa.nextInt();}while(0 > ta || ta > Mb);}$e(U,Ba,ta,qa.responseCode,qa.internalCode,qa.message,na,ra);});},error:function(Ba){ra.error(Ba);}});});};Jd=Bb.Class.create({init:function(U,Y,qa,na,ra,Ba,ta,oa,W,aa,ca){var la,Ga,Ca,Oa,Ra;if(!U.isPeerToPeer() && (oa || W))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");la=ca && !U.isPeerToPeer()?ca.keyResponseData.masterToken:ra;Ga=[];la=U.getMslStore().getServiceTokens(la,Ba);Ga.push.apply(Ga,la);ta && ta.forEach(function(ja){Ga.push(ja);},this);Ca=[];if(U.isPeerToPeer()){Oa=oa;Ra=W;ta=ca?ca.keyResponseData.masterToken:oa;W=U.getMslStore().getServiceTokens(ta,W);Ca.push.apply(Ca,W);aa && aa.forEach(function(ja){Ca.push(ja);},this);}Object.defineProperties(this,{_ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:na,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ra,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ca,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Qd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Qd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || ue(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ue(this._entityAuthData.scheme);},getHeader:function(U){Ka(U,function(){var Y,qa,na;Y=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;qa=[];for(na in this._keyRequestData){qa.push(this._keyRequestData[na]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(V.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);na=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else na=null;Y=new cf(this._messageId,na,this._renewable,this._capabilities,qa,Y,this._userAuthData,this._userIdToken,this._serviceTokens);qa=new df(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);bf(this._ctx,this._entityAuthData,this._masterToken,Y,qa,U);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(U){this._nonReplayable=U;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(U){this._renewable=U;return this;},setAuthTokens:function(U,Y){var qa,ra;if(Y && !Y.isBoundTo(U))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{qa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ba){if(Ba instanceof cb)throw new vb("Invalid master token and user ID token combination despite checking above.",Ba);throw Ba;}for(var na=this._serviceTokens.length - 1;0 <= na;--na){ra=this._serviceTokens[na];(ra.isUserIdTokenBound() && !ra.isBoundTo(Y) || ra.isMasterTokenBound() && !ra.isBoundTo(U)) && this._serviceTokens.splice(na,1);}qa.forEach(function(Ba){this.excludeServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._serviceTokens.push(Ba);},this);this._masterToken=U;this._userIdToken=Y;},setUserAuthenticationData:function(U){this._userAuthData=U;return this;},setCustomer:function(U,Y){var qa;qa=this;Ka(Y,function(){var na;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");na=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!na)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,U,na,{result:function(ra){Ka(Y,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ra:(this._userIdToken=ra,this._userAuthData=null);return !0;},qa);},error:function(ra){Y.error(ra);}});},qa);},addKeyRequestData:function(U){this._keyRequestData[U.uniqueKey()]=U;return this;},removeKeyRequestData:function(U){delete this._keyRequestData[U.uniqueKey()];return this;},addServiceToken:function(U){var Y;Y=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(U.isMasterTokenBound() && !U.isBoundTo(Y))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(Y)).setEntity(Y);if(U.isUserIdTokenBound() && !U.isBoundTo(this._userIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Y).setUser(this._userIdToken);this.excludeServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._serviceTokens.push(U);return this;},addServiceTokenIfAbsent:function(U){var qa;for(var Y=this._serviceTokens.length - 1;0 <= Y;--Y){qa=this._serviceTokens[Y];if(qa.name == U.name && qa.isMasterTokenBound() == U.isMasterTokenBound() && qa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addServiceToken(U);return this;},excludeServiceToken:function(){var U,Y,qa,ra;if(1 == arguments.length){U=arguments[0];Y=U.name;qa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],qa=arguments[1],U=arguments[2]);for(var na=this._serviceTokens.length - 1;0 <= na;--na){ra=this._serviceTokens[na];ra.name == Y && ra.isMasterTokenBound() == qa && ra.isUserIdTokenBound() == U && this._serviceTokens.splice(na,1);}return this;},deleteServiceToken:function(){var U,Y,qa,na;if(2 == arguments.length){U=arguments[0];Y=U.name;U.isMasterTokenBound();U.isUserIdTokenBound();qa=arguments[1];}else (arguments.length=4,Y=arguments[0],qa=arguments[3]);na=this;Ka(qa,function(){var ra,Ba;ra=originalToken.isMasterTokenBound()?this._masterToken:null;Ba=originalToken.isUserIdTokenBound()?this._userIdToken:null;Cc(this._ctx,Y,ha,ra,Ba,!1,null,new bd(),{result:function(ta){Ka(qa,function(){return this.addServiceToken(ta);},na);},error:function(ta){ta instanceof cb && (ta=new vb("Failed to create and add empty service token to message.",ta));qa.error(ta);}});},na);},getServiceTokens:function(){var U;U=[];U.push.apply(U,this._serviceTokens);return U;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(U,Y){var qa,ra;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Y && !U)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(Y && !Y.isBoundTo(U))throw new Ib(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Y + "; mt " + U).setEntity(U).setUser(Y);try{qa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ba){if(Ba instanceof cb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Ba);throw Ba;}for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){ra=this._peerServiceTokens[na];(ra.isUserIdTokenBound() && !ra.isBoundTo(Y) || ra.isMasterTokenBound() && !ra.isBoundTo(U)) && this._peerServiceTokens.slice(na,1);}qa.forEach(function(Ba){this.excludePeerServiceToken(Ba.name,Ba.isMasterTokenBound(),Ba.isUserIdTokenBound());this._peerServiceTokens.push(Ba);},this);this._peerUserIdToken=Y;this._peerMasterToken=U;return this;},addPeerServiceToken:function(U){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(U.isMasterTokenBound() && !U.isBoundTo(this._peerMasterToken))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(U.isUserIdTokenBound() && !U.isBoundTo(this._peerUserIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._peerServiceTokens.push(U);return this;},addPeerServiceTokenIfAbsent:function(U){var qa;for(var Y=this._peerServiceTokens.length - 1;0 <= Y;--Y){qa=this._peerServiceTokens[Y];if(qa.name == U.name && qa.isMasterTokenBound() == U.isMasterTokenBound() && qa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addPeerServiceToken(U);return this;},excludePeerServiceToken:function(){var U,Y,qa,ra;if(1 == arguments.length){U=arguments[0];Y=U.name;qa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],qa=arguments[1],U=arguments[2]);for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){ra=this._peerServiceTokens[na];ra.name == Y && ra.isMasterTokenBound() == qa && ra.isUserIdTokenBound() == U && this._peerServiceTokens.splice(na,1);}return this;},deletePeerServiceToken:function(){var U,Y,qa,na,ra,Ba;if(2 == arguments.length){U=arguments[0];Y=U.name;qa=U.isMasterTokenBound();na=U.isUserIdTokenBound();ra=arguments[1];}else (arguments.length=4,Y=arguments[0],qa=arguments[1],na=arguments[2],ra=arguments[3]);Ba=this;Ka(ra,function(){Cc(this._ctx,Y,ha,qa?this._peerMasterToken:null,na?this._peerUserIdToken:null,!1,null,new bd(),{result:function(ta){Ka(ra,function(){return this.addPeerServiceToken(ta);},Ba);},error:function(ta){ta instanceof cb && (ta=new vb("Failed to create and add empty peer service token to message.",ta));ra.error(ta);}});},Ba);},getPeerServiceTokens:function(){var U;U=[];U.push.apply(U,this._peerServiceTokens);return U;}});})();(function(){function fa(ba,ha){return ha[ba]?ha[ba]:ha[""];}function Z(ba){var ha;ha=ba.builder.getKeyExchangeData();return ha && !ba.ctx.isPeerToPeer()?ha.keyResponseData.masterToken:ba.builder.getMasterToken();}kf=Bb.Class.create({init:function(ba,ha,ea){ba={ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ha.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},isPrimaryMasterTokenAvailable:function(){return Z(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(ba){try{return (this.builder.addServiceToken(ba),!0);}catch(ha){if(ha instanceof Ib)return !1;throw ha;}},addPeerServiceToken:function(ba){try{return (this.builder.addPeerServiceToken(ba),!0);}catch(ha){if(ha instanceof Ib)return !1;throw ha;}},addUnboundPrimaryServiceToken:function(ba,ha,ea,U,Y){var qa;qa=this;Ka(Y,function(){var na;na=fa(ba,this.cryptoContexts);if(!na)return !1;Cc(this.ctx,ba,ha,null,null,ea,U,na,{result:function(ra){Ka(Y,function(){try{this.builder.addServiceToken(ra);}catch(Ba){if(Ba instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},qa);},error:function(ra){Y.error(ra);}});},qa);},addUnboundPeerServiceToken:function(ba,ha,ea,U,Y){var qa;qa=this;Ka(Y,function(){var na;na=fa(ba,this.cryptoContexts);if(!na)return !1;Cc(this.ctx,ba,ha,null,null,ea,U,na,{result:function(ra){Ka(Y,function(){try{this.builder.addPeerServiceToken(ra);}catch(Ba){if(Ba instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ba);throw Ba;}return !0;},qa);},error:function(ra){Y.error(ra);}});},qa);},addMasterBoundPrimaryServiceToken:function(ba,ha,ea,U,Y){var qa;qa=this;Ka(Y,function(){var na,ra;na=Z(this);if(!na)return !1;ra=fa(ba,this.cryptoContexts);if(!ra)return !1;Cc(this.ctx,ba,ha,na,null,ea,U,ra,{result:function(Ba){Ka(Y,function(){try{this.builder.addServiceToken(Ba);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ta);throw ta;}return !0;},qa);},error:function(Ba){Y.error(Ba);}});},qa);},addMasterBoundPeerServiceToken:function(ba,ha,ea,U,Y){var qa;qa=this;Ka(Y,function(){var na,ra;na=this.builder.getPeerMasterToken();if(!na)return !1;ra=fa(ba,this.cryptoContexts);if(!ra)return !1;Cc(this.ctx,ba,ha,na,null,ea,U,ra,{result:function(Ba){Ka(Y,function(){try{this.builder.addPeerServiceToken(Ba);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ta);throw ta;}return !0;},qa);},error:function(Ba){Y.error(Ba);}});},qa);},addUserBoundPrimaryServiceToken:function(ba,ha,ea,U,Y){var qa;qa=this;Ka(Y,function(){var na,ra,Ba;na=Z(this);if(!na)return !1;ra=this.builder.getUserIdToken();if(!ra)return !1;Ba=fa(ba,this.cryptoContexts);if(!Ba)return !1;Cc(this.ctx,ba,ha,na,ra,ea,U,Ba,{result:function(ta){Ka(Y,function(){try{this.builder.addServiceToken(ta);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},qa);},error:function(ta){Y.error(ta);}});},qa);},addUserBoundPeerServiceToken:function(ba,ha,ea,U,Y){var qa;qa=this;Ka(Y,function(){var na,ra,Ba;na=this.builder.getPeerMasterToken();if(!na)return !1;ra=this.builder.getPeerUserIdToken();if(!ra)return !1;Ba=fa(ba,this.cryptoContexts);if(!Ba)return !1;Cc(this.ctx,ba,ha,na,ra,ea,U,Ba,{result:function(ta){Ka(Y,function(){try{this.builder.addPeerServiceToken(ta);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},qa);},error:function(ta){Y.error(ta);}});},qa);},excludePrimaryServiceToken:function(){var ba,ha,ea,U;if(1 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],ea=arguments[1],U=arguments[2]);for(var Y=this.builder.getServiceTokens(),qa=0;qa < Y.length;++qa){if((ba=Y[qa],ba.name == ha && ba.isMasterTokenBound() == ea && ba.isUserIdTokenBound() == U))return (this.builder.excludeServiceToken(ha,ea,U),!0);}return !1;},excludePeerServiceToken:function(){var ba,ha,ea,U;if(1 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],ea=arguments[1],U=arguments[2]);for(var Y=this.builder.getPeerServiceTokens(),qa=0;qa < Y.length;++qa){if((ba=Y[qa],ba.name == ha && ba.isMasterTokenBound() == ea && ba.isUserIdTokenBound() == U))return (this.builder.excludePeerServiceToken(ha,ea,U),!0);}return !1;},deletePrimaryServiceToken:function(){var ba,ha,ea,U,Y;if(2 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ha=arguments[0],ea=arguments[1],U=arguments[2],Y=arguments[3]);Ka(Y,function(){var ra;for(var qa=this.builder.getServiceTokens(),na=0;na < qa.length;++na){ra=qa[na];if(ra.name == ha && ra.isMasterTokenBound() == ea && ra.isUserIdTokenBound() == U){this.builder.deleteServiceToken(ha,ea,U,{result:function(){Y.result(!0);},error:function(Ba){Y.error(Ba);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var ba,ha,ea,U,Y;if(2 == arguments.length){ba=arguments[0];ha=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ha=arguments[0],ea=arguments[1],U=arguments[2],Y=arguments[3]);Ka(Y,function(){var ra;for(var qa=this.builder.getPeerServiceTokens(),na=0;na < qa.length;++na){ra=qa[na];if(ra.name == ha && ra.isMasterTokenBound() == ea && ra.isUserIdTokenBound() == U){this.builder.deletePeerServiceToken(ha,ea,U,{result:function(){Y.result(!0);},error:function(Ba){Y.error(Ba);}});return;}}return !1;},this);}});})();(function(){function fa(Z,ba,ha,ea){Ka(ea,function(){var Y,qa,na,ra,Ba,ta;function U(){Ka(ea,function(){var oa;if(ta >= ha.length){if(Ba)throw Ba;throw new Pb(V.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ha));}oa=ha[ta];na != oa.keyExchangeScheme?(++ta,U()):ra.getCryptoContext(Z,oa,qa,Y,{result:ea.result,error:function(W){Ka(ea,function(){if(!(W instanceof cb))throw W;Ba=W;++ta;U();});}});});}Y=ba.masterToken;qa=ba.keyResponseData;if(!qa)return null;na=qa.keyExchangeScheme;ra=Z.getKeyExchangeFactory(na);if(!ra)throw new Pb(V.KEYX_FACTORY_NOT_FOUND,na);ta=0;U();});}lf=fe.extend({init:function(Z,ba,ha,ea,U,Y,qa){var na;na=this;db(qa,function(){var aa;function ra(){na._ready=!0;na._readyQueue.add(!0);}function Ba(ca,la){var Ga;try{Ga=la.masterToken;ca.getTokenFactory().isMasterTokenRevoked(ca,Ga,{result:function(Ca){Ca?(na._errored=new Rc(Ca,Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):ta(ca,la);},error:function(Ca){Ca instanceof cb && (Ca.setEntity(la.masterToken),Ca.setUser(la.userIdToken),Ca.setUser(la.userAuthenticationData),Ca.setMessageId(la.messageId));na._errored=Ca;ra();}});}catch(Ca){Ca instanceof cb && (Ca.setEntity(la.masterToken),Ca.setUser(la.userIdToken),Ca.setUser(la.userAuthenticationData),Ca.setMessageId(la.messageId));na._errored=Ca;ra();}}function ta(ca,la){var Ga,Ca;try{Ga=la.masterToken;Ca=la.userIdToken;Ca?ca.getTokenFactory().isUserIdTokenRevoked(ca,Ga,Ca,{result:function(Oa){Oa?(na._errored=new MslUserIdTokenException(Oa,Ca).setEntity(Ga).setUser(Ca).setMessageId(la.messageId),ra()):oa(ca,la);},error:function(Oa){Oa instanceof cb && (Oa.setEntity(la.masterToken),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}):oa(ca,la);}catch(Oa){Oa instanceof cb && (Oa.setEntity(la.masterToken),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}function oa(ca,la){var Ga;try{Ga=la.masterToken;Ga.isExpired()?la.isRenewable() && 0 != la.keyRequestData.length?ca.getTokenFactory().isMasterTokenRenewable(ca,Ga,{result:function(Ca){Ca?(na._errored=new Ib(Ca,"Master token is expired and not renewable.").setEntity(Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):W(ca,la);},error:function(Ca){Ca instanceof cb && (Ca.setEntity(la.masterToken),Ca.setUser(la.userIdToken),Ca.setUser(la.userAuthenticationData),Ca.setMessageId(la.messageId));na._errored=Ca;ra();}}):(na._errored=new Ib(V.MESSAGE_EXPIRED,JSON.stringify(la)).setEntity(Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):W(ca,la);}catch(Ca){Ca instanceof cb && (Ca.setEntity(la.masterToken),Ca.setUser(la.userIdToken),Ca.setUser(la.userAuthenticationData),Ca.setMessageId(la.messageId));na._errored=Ca;ra();}}function W(ca,la){var Ga,Ca;try{Ga=la.masterToken;Ca=la.nonReplayableId;"number" === typeof Ca?Ga?ca.getTokenFactory().acceptNonReplayableId(ca,Ga,Ca,{result:function(Oa){Oa || (na._errored=new Ib(V.MESSAGE_REPLAYED,JSON.stringify(la)).setEntity(Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId));ra();},error:function(Oa){Oa instanceof cb && (Oa.setEntity(Ga),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}):(na._errored=new Ib(V.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(la)).setEntity(la.entityAuthenticationData).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):ra();}catch(Oa){Oa instanceof cb && (Oa.setEntity(la.masterToken),Oa.setEntity(la.entityAuthenticationData),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}aa={_source:{value:ba,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ha,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);Oe(na._source,Y,{result:function(ca){na._json=ca;na._jsonIndex=0;null === na._json?(na._errored=new yb(V.MESSAGE_DATA_MISSING),ra()):Ve(Z,na._json[na._jsonIndex++],U,{result:function(la){var Ga;na._header=la;if(na._header instanceof Nc)(na._keyxCryptoContext=null,na._cryptoContext=null,ra());else {Ga=na._header;fa(Z,Ga,ea,{result:function(Ca){var Oa;try{na._keyxCryptoContext=Ca;Z.isPeerToPeer() || !na._keyxCryptoContext?na._cryptoContext=Ga.cryptoContext:na._cryptoContext=na._keyxCryptoContext;try{Oa=Ga.masterToken;Oa && (Z.isPeerToPeer() || Oa.isVerified())?Ba(Z,Ga):W(Z,Ga);}catch(Ra){Ra instanceof cb && (Ra.setEntity(Ga.masterToken),Ra.setUser(Ga.userIdToken),Ra.setUser(Ga.userAuthenticationData),Ra.setMessageId(Ga.messageId));na._errored=Ra;ra();}}catch(Ra){Ra instanceof cb && (Ra.setEntity(Ga.masterToken),Ra.setEntity(Ga.entityAuthenticationData),Ra.setUser(Ga.userIdToken),Ra.setUser(Ga.userAuthenticationData),Ra.setMessageId(Ga.messageId));na._errored=Ra;ra();}},error:function(Ca){Ca instanceof cb && (Ca.setEntity(Ga.masterToken),Ca.setEntity(Ga.entityAuthenticationData),Ca.setUser(Ga.userIdToken),Ca.setUser(Ga.userAuthenticationData),Ca.setMessageId(Ga.messageId));na._errored=Ca;ra();}});}},error:function(la){na._errored=la;ra();}});},timeout:function(){na._timedout=!0;ra();},error:function(ca){na._errored=ca;ra();}});return this;},na);},nextData:function(Z,ba){var ha;ha=this;db(ba,function(){var U;function ea(Y){db(Y,function(){var qa;if(this._jsonIndex < this._json.length)return qa=this._json[this._jsonIndex++];Oe(this._source,this._timeout,{result:function(na){na && na.length && 0 < na.length?(na.forEach(function(ra){this._json.push(ra);}),ea(Y)):(this._eom=!0,Y.result(null));},timeout:function(){Y.timeout();},error:function(na){Y.error(na);}});},ha);}U=this.getMessageHeader();if(!U)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(Y){db(ba,function(){if(!Y)return null;if("object" !== typeof Y)throw new yb(V.MESSAGE_FORMAT_ERROR);gf(Y,this._cryptoContext,{result:function(qa){db(ba,function(){var na,ra,Ba,ta;na=U.masterToken;ra=U.entityAuthenticationData;Ba=U.userIdToken;ta=U.getUserAuthenticationData;if(qa.messageId != U.messageId)throw new Ib(V.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + qa.messageId + " header mid " + U.messageId).setEntity(na).setEntity(ra).setUser(Ba).setUser(ta);if(qa.sequenceNumber != this._payloadSequenceNumber)throw new Ib(V.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + qa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(na).setEntity(ra).setUser(Ba).setUser(ta);++this._payloadSequenceNumber;qa.isEndOfMessage() && (this._eom=!0);na=qa.data;this._payloads.push(na);this._payloadIndex=-1;return na;},ha);},error:function(qa){qa instanceof SyntaxError && (qa=new yb(V.JSON_PARSE_ERROR,"payloadchunk",qa));ba.error(qa);}});},ha);},timeout:function(){ba.timeout();},error:function(Y){ba.error(Y);}});},ha);},isReady:function(Z,ba){var ea;function ha(){db(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;db(ba,function(){this._ready?ha():this._readyQueue.poll(Z,{result:function(U){db(ba,function(){if(U === Ab)return !1;ha();},ea);},timeout:function(){ba.timeout();},error:function(U){ba.error(U);}});},ea);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorHeader:function(){return this._header instanceof Nc?this._header:null;},getIdentity:function(){var Z,ba;Z=this.getMessageHeader();if(Z){ba=Z.masterToken;return ba?ba.identity:Z.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Z;Z=this.getMessageHeader();return Z?Z.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Z){this._closeSource=Z;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Z,ba,ha){var U;function ea(){db(ha,function(){var qa,na,ra,Ba;function Y(ta){db(ta,function(){var oa,W,aa;if(na && Ba >= na.length)return na.subarray(0,Ba);oa=-1;if(this._currentPayload){W=this._currentPayload.length - this._payloadOffset;if(!na){aa=W;if(-1 != this._payloadIndex)for(var ca=this._payloadIndex;ca < this._payloads.length;++ca){aa+=this._payloads[ca].length;}0 < aa && (na=new Uint8Array(aa));}W=Math.min(W,na?na.length - Ba:0);0 < W && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + W),na.set(oa,ra),oa=W,ra+=W,this._payloadOffset+=W);}-1 != oa?(Ba+=oa,Y(ta)):this.nextData(ba,{result:function(la){db(ta,function(){if(this._aborted)return na?na.subarray(0,Ba):new Uint8Array(0);this._currentPayload=la;this._payloadOffset=0;if(this._currentPayload)Y(ta);else return 0 == Ba && 0 != Z?null:na?na.subarray(0,Ba):new Uint8Array(0);},U);},timeout:function(){ta.timeout(na?na.subarray(0,Ba):new Uint8Array(0));},error:function(la){db(ta,function(){la instanceof cb && (la=new Wb("Error reading the payload chunk.",la));if(0 < Ba)return (U._readException=la,na.subarray(0,Ba));throw la;},U);}});},U);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ha.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){qa=this._readException;this._readException=null;throw qa;}na=-1 != Z?new Uint8Array(Z):Ab;ra=0;Ba=0;Y(ha);}},U);}U=this;db(ha,function(){if(-1 > Z)throw new RangeError("read requested with illegal length " + Z);this._ready?ea():this._readyQueue.poll(ba,{result:function(Y){Y === Ab?ha.result(!1):ea();},timeout:function(){ha.timeout(new Uint8Array(0));},error:function(Y){ha.error(Y);}});},U);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});mf=function(Z,ba,ha,ea,U,Y,qa){new lf(Z,ba,ha,ea,U,Y,qa);};})();(function(){nf=Ed.extend({init:function(fa,Z,ba,ha,ea,U,Y){var qa;qa=this;db(Y,function(){var ra,Ba,ta;function na(){qa._ready=!0;qa._readyQueue.add(!0);}ra=le(fa.getMessageCapabilities(),ha.messageCapabilities);Ba=null;ra && (Ba=De(ra.compressionAlgorithms));ra={_destination:{value:Z,writable:!1,enumerable:!1,configurable:!1},_charset:{value:ba,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ra,writable:!1,enumerable:!1,configurable:!1},_header:{value:ha,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ra);ta=Sb(JSON.stringify(ha),ba);Z.write(ta,0,ta.length,U,{result:function(oa){try{qa._aborted?na():oa < ta.length?(qa._timedout=!0,na()):Z.flush(U,{result:function(W){qa._aborted || (qa._timedout=!W);na();},timeout:function(){qa._timedout=!0;na();},error:function(W){qa._errored=W;na();}});}catch(W){qa._errored=W;na();}},timeout:function(){qa._timedout=!0;na();},error:function(oa){qa._errored=oa;na();}});return this;},qa);},setCompressionAlgorithm:function(fa,Z,ba){var ea;function ha(){ea.flush(Z,{result:function(U){db(ba,function(){if(!U)throw new Wb("flush() aborted");this._compressionAlgo=fa;return !0;},ea);},timeout:function(){ba.timeout();},error:function(U){ba.error(U);}});}ea=this;db(ba,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == fa)return !0;if(fa){if(!this._capabilities)return !1;for(var U=this._capabilities.compressionAlgorithms,Y=0;Y < U.length;++Y){if(U[Y] == fa){ha();return;}}return !1;}ha();},ea);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorMessage:function(){return this._header instanceof Nc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(fa,Z){var ba;ba=this;db(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(fa,{result:function(ha){db(Z,function(){ha && (this._currentPayload=null);return ha;},ba);},timeout:function(){Z.timeout();},error:function(ha){Z.error(ha);}});}},ba);},flush:function(fa,Z){var ha;function ba(){db(Z,function(){var ea,U,ra;if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;U=0;this._currentPayload && this._currentPayload.forEach(function(Ba){U+=Ba.length;});for(var Y=new Uint8Array(U),qa=0,na=0;this._currentPayload && na < this._currentPayload.length;++na){ra=this._currentPayload[na];Y.set(ra,qa);qa+=ra.length;}ff(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,Y,this._cryptoContext,{result:function(Ba){db(Z,function(){var ta;this._payloads.push(Ba);ta=Sb(JSON.stringify(Ba),this._charset);this._destination.write(ta,0,ta.length,fa,{result:function(oa){db(Z,function(){if(this._aborted)return !1;oa < Ba.length?Z.timeout():this._destination.flush(fa,{result:function(W){db(Z,function(){if(this._aborted)return !1;if(W)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Z.timeout();},ha);},timeout:function(){Z.timeout();},error:function(W){W instanceof cb && (W=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",W));Z.error(W);}});},ha);},timeout:function(oa){Z.timeout();},error:function(oa){oa instanceof cb && (oa=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",oa));Z.error(oa);}});},ha);},error:function(Ba){Ba instanceof cb && (Ba=new Wb("Error encoding payload chunk [sequence number " + ha._payloadSequenceNumber + "].",Ba));Z.error(Ba);}});}},ha);}ha=this;db(Z,function(){this._ready?ba():this._readyQueue.poll(fa,{result:function(ea){ea === Ab?Z.result(!1):ba();},timeout:function(){Z.timeout();},error:function(ea){Z.error(ea);}});},ha);},write:function(fa,Z,ba,ha,ea){db(ea,function(){var U;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Wb("Message output stream already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > fa.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");U=fa.subarray(Z,Z + ba);this._currentPayload.push(U);return U.length;}},this);}});Kd=function(fa,Z,ba,ha,ea,U,Y){new nf(fa,Z,ba,ha,ea,U,Y);};})();Tf=Bb.Class.create({sentHeader:function(fa){},receivedHeader:function(fa){}});Object.freeze({USERDATA_REAUTH:Ja.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ja.SSOTOKEN_REJECTED});of=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(fa,Z,ba,ha){},getCustomer:function(){},getKeyRequestData:function(fa){},updateServiceTokens:function(fa,Z,ba){},write:function(fa,Z,ba){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(fa){},getOutputStream:function(fa){}});(function(){var qa,na,ra,Ba,ta,oa,W,aa,ca,la,Ga,Ca;function fa(Oa){return function(){Oa.abort();};}function Z(Oa,Ra){Object.defineProperties(this,{masterToken:{value:Oa,writable:!1,configurable:!1},ticket:{value:Ra,writable:!1,configurable:!1}});}function ba(Oa,Ra){Object.defineProperties(this,{builder:{value:Oa,writable:!1,configurable:!1},msgCtx:{value:Ra,writable:!1,configurable:!1}});}function ha(Oa,Ra,ja){Object.defineProperties(this,{requestHeader:{value:Oa,writable:!1,configurable:!1},payloads:{value:Ra,writable:!1,configurable:!1},handshake:{value:ja,writable:!1,configurable:!1}});}function ea(Oa,Ra){Object.defineProperties(this,{requestHeader:{value:Ra.requestHeader,writable:!1,configurable:!1},payloads:{value:Ra.payloads,writable:!1,configurable:!1},handshake:{value:Ra.handshake,writable:!1,configurable:!1},response:{value:Oa,writable:!1,configurable:!1}});}function U(Oa){for(;Oa;){if(Oa instanceof Zb)return !0;Oa=Oa instanceof cb?Oa.cause:Ab;}return !1;}function Y(Oa,Ra,ja,va,ya,Ha,Aa,Na,Da){jf(Ra,va,ya,Ha,{result:function(Ua){ja && ja.sentHeader(Ua);Kd(Ra,Aa,Lb,Ua,null,null,Na,{result:function($a){Oa.setAbort(function(){$a.abort();});$a.close(Na,{result:function(Wa){db(Da,function(){if(!Wa)throw new Zb("sendError aborted.");return Wa;});},timeout:function(){Da.timeout();},error:function(Wa){Da.error(Wa);}});},timeout:function(){},error:function($a){Da.error($a);}});},error:function(Ua){Da.error(Ua);}});}qa=Ed.extend({close:function(Oa,Ra){Ra.result(!0);},write:function(Oa,Ra,ja,va,ya){Ka(ya,function(){return Math.min(Oa.length - Ra,ja);});},flush:function(Oa,Ra){Ra.result(!0);}});na=Sf.extend({getUserMessage:function(Oa,Ra){return null;}});ra=of.extend({init:function(Oa){Object.defineProperties(this,{_appCtx:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Oa,Ra,ja,va){this._appCtx.getUserAuthData(Oa,Ra,ja,va);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Oa){this._appCtx.getKeyRequestData(Oa);},updateServiceTokens:function(Oa,Ra,ja){this._appCtx.updateServiceTokens(Oa,Ra,ja);},write:function(Oa,Ra,ja){this._appCtx.write(Oa,Ra,ja);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ba=ra.extend({init:function va(Ra,ja){va.base.call(this,ja);Object.defineProperties(this,{_payloads:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ra,ja,va){var Ha;function ya(Aa,Na){var Da;if(Aa == Ha._payloads.length)va.result(!0);else {Da=Ha._payloads[Aa];Ra.setCompressionAlgorithm(Da.compressionAlgo,ja,{result:function(Ua){Ra.write(Da.data,0,Da.data.length,ja,{result:function($a){db(va,function(){Da.isEndOfMessage()?ya(Aa + 1,Na):Ra.flush(ja,{result:function(Wa){va.result(Wa);},timeout:function(){va.timeout();},error:function(Wa){va.error(Wa);}});},Ha);},timeout:function($a){va.timeout($a);},error:function($a){va.error($a);}});},timeout:function(){},error:function(Ua){va.error(Ua);}});}}Ha=this;ya(0);}});ta=ra.extend({init:function va(ja){va.base.call(this,ja);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ja,va,ya){ya.result(!0);}});oa={};W=Bb.Class.create({init:function(ja){ja || (ja=new na());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ja){this._filterFactory=ja;},getNewestMasterToken:function(ja,va,ya,Ha){var Aa;Aa=this;db(Ha,function(){var Na,Da,Ua,$a,Wa;Na=va.getMslStore();Da=Na.getMasterToken();if(!Da)return null;Ua=Da.uniqueKey();$a=this._masterTokenLocks[Ua];$a || ($a=new Vd(),this._masterTokenLocks[Ua]=$a);Wa=$a.readLock(ya,{result:function(ib){db(Ha,function(){var lb;if(ib === Ab)throw new Zb("getNewestMasterToken aborted.");lb=Na.getMasterToken();if(Da.equals(lb))return new Z(Da,ib);$a.unlock(ib);$a.writeLock(ya,{result:function(pb){db(Ha,function(){if(pb === Ab)throw new Zb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ua];$a.unlock(pb);return this.getNewestMasterToken(ja,va,ya,Ha);},Aa);},timeout:function(){Ha.timeout();},error:function(pb){Ha.error(pb);}});},Aa);},timeout:function(){Ha.timeout();},error:function(ib){Ha.error(ib);}});ja.setAbort(function(){Wa && ($a.cancel(Wa),Wa=Ab);});},Aa);},deleteMasterToken:function(ja,va){var ya;if(va){ya=this;setTimeout(function(){var Ha,Aa;Ha=va.uniqueKey();Aa=ya._masterTokenLocks[Ha];Aa || (Aa=new Vd(),ya._masterTokenLocks[Ha]=Aa);Aa.writeLock(-1,{result:function(Na){ja.getMslStore().removeCryptoContext(va);delete ya._masterTokenLocks[Ha];Aa.unlock(Na);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Na){throw Na;}});},0);}},releaseMasterToken:function(ja){var va;if(ja && ja.masterToken){va=ja.masterToken.uniqueKey();va=this._masterTokenLocks[va];if(!va)throw new vb("Master token read/write lock does not exist when it should.");va.unlock(ja.ticket);}},updateOutgoingCryptoContexts:function(ja,va,ya){var Ha;Ha=ja.getMslStore();!ja.isPeerToPeer() && ya && (Ha.setCryptoContext(ya.keyResponseData.masterToken,ya.cryptoContext),this.deleteMasterToken(ja,va.masterToken));},updateIncomingCryptoContexts:function(ja,va,ya){var Ha,Aa;Ha=ya.getMessageHeader();if(Ha){Aa=ja.getMslStore();if(Ha=Ha.keyResponseData)(Aa.setCryptoContext(Ha.masterToken,ya.getKeyExchangeCryptoContext()),this.deleteMasterToken(ja,va.masterToken));}},storeServiceTokens:function(ja,va,ya,Ha){var Da,Ua;ja=ja.getMslStore();for(var Aa=[],Na=0;Na < Ha.length;++Na){Da=Ha[Na];if(!Da.isBoundTo(va) || !va.isVerified()){Ua=Da.data;Ua && 0 == Ua.length?ja.removeServiceTokens(Da.name,Da.isMasterTokenBound()?va:null,Da.isUserIdTokenBound()?ya:null):Aa.push(Da);}}0 < Aa.length && ja.addServiceTokens(Aa);},buildRequest:function(ja,va,ya,Ha,Aa){var Na;Na=this;this.getNewestMasterToken(ja,va,Ha,{result:function(Da){Ka(Aa,function(){var Ua,$a,Wa;Ua=Da && Da.masterToken;if(Ua){$a=ya.getUserId();Wa=va.getMslStore();$a=($a=$a?Wa.getUserIdToken($a):null) && $a.isBoundTo(Ua)?$a:null;}else $a=null;Wc(va,Ua,$a,null,{result:function(ib){Ka(Aa,function(){ib.setNonReplayable(ya.isNonReplayable());return {builder:ib,tokenTicket:Da};});},error:function(ib){Ka(Aa,function(){this.releaseMasterToken(Da);ib instanceof cb && (ib=new vb("User ID token not bound to master token despite internal check.",ib));throw ib;},Na);}});},Na);},timeout:function(){Aa.timeout();},error:function(Da){Aa.error(Da);}});},buildResponse:function(ja,va,ya,Ha,Aa,Na){var Da;Da=this;hf(va,Ha,{result:function(Ua){db(Na,function(){Ua.setNonReplayable(ya.isNonReplayable());if(!va.isPeerToPeer() && !Ha.keyResponseData)return {builder:Ua,tokenTicket:null};this.getNewestMasterToken(ja,va,Aa,{result:function($a){db(Na,function(){var Wa,ib,lb;Wa=$a && $a.masterToken;if(Wa){ib=ya.getUserId();lb=va.getMslStore();ib=(ib=ib?lb.getUserIdToken(ib):null) && ib.isBoundTo(Wa)?ib:null;}else ib=null;Ua.setAuthTokens(Wa,ib);return {builder:Ua,tokenTicket:$a};},Da);},timeout:function(){Na.timeout();},error:function($a){Na.error($a);}});},Da);},error:function(Ua){Na.error(Ua);}});},buildErrorResponse:function(ja,va,ya,Ha,Aa,Na,Da){var Wa;function Ua(ib,lb){db(Da,function(){var pb,rb;pb=Vc(Aa.messageId);rb=new Ba(lb,ya);Wc(va,null,null,pb,{result:function(sb){db(Da,function(){va.isPeerToPeer() && sb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Da.error(sb);}});},Wa);}function $a(ib,lb){Wa.getNewestMasterToken(ja,va,Na,{result:function(pb){db(Da,function(){var rb,sb,zb;rb=pb && pb.masterToken;sb=Vc(Aa.messageId);zb=new Ba(lb,ya);Wc(va,rb,null,sb,{result:function(xb){db(Da,function(){va.isPeerToPeer() && xb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);xb.setNonReplayable(zb.isNonReplayable());return {errorResult:new ba(xb,zb),tokenTicket:pb};},Wa);},error:function(xb){Da.error(xb);}});},Wa);},timeout:function(){Da.timeout();},error:function(pb){Da.error(pb);}});}Wa=this;db(Da,function(){var ib,lb,pb,rb;ib=Ha.requestHeader;lb=Ha.payloads;pb=Aa.errorCode;switch(pb){case Ja.ENTITYDATA_REAUTH:case Ja.ENTITY_REAUTH:va.getEntityAuthenticationData(pb,{result:function(sb){db(Da,function(){if(!sb)return null;Ua(ib,lb);},Wa);},error:function(sb){Da.error(sb);}});break;case Ja.USERDATA_REAUTH:case Ja.SSOTOKEN_REJECTED:ya.getUserAuthData(pb,!1,!0,{result:function(sb){db(Da,function(){if(!sb)return null;$a(ib,lb);},Wa);},error:function(sb){Da.error(sb);}});break;case Ja.USER_REAUTH:$a(ib,lb);break;case Ja.KEYX_REQUIRED:pb=Vc(Aa.messageId);rb=new Ba(lb,ya);Wc(va,null,null,pb,{result:function(sb){db(Da,function(){va.isPeerToPeer() && sb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Da.error(sb);}});break;case Ja.EXPIRED:this.getNewestMasterToken(ja,va,Na,{result:function(sb){db(Da,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=ib.userIdToken;r=Vc(Aa.messageId);b=new Ba(lb,ya);Wc(va,zb,xb,r,{result:function(a){db(Da,function(){va.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Wa);},error:function(a){Da.error(a);}},Wa);},Wa);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});break;case Ja.REPLAYED:this.getNewestMasterToken(ja,va,Na,{result:function(sb){db(Da,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=ib.userIdToken;r=Vc(Aa.messageId);b=new Ba(lb,ya);Wc(va,zb,xb,r,{result:function(a){db(Da,function(){va.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Wa);},error:function(a){Da.error(a);}});},Wa);},timeout:function(){Da.timeout();},error:function(sb){Da.error(sb);}});break;default:return null;}},Wa);},cleanupContext:function(ja,va,ya){switch(ya.errorCode){case Ja.ENTITY_REAUTH:this.deleteMasterToken(ja,va.masterToken);break;case Ja.USER_REAUTH:(ya=va.userIdToken,va.masterToken && ya && ja.getMslStore().removeUserIdToken(ya));}},send:function(ja,va,ya,Ha,Aa,Na,Da){var pb;function Ua(rb,sb,zb){db(Da,function(){var xb;xb=Aa.getPeerUserIdToken();!va.isPeerToPeer() && !sb || va.isPeerToPeer() && !xb?(xb=ya.getCustomer())?Aa.setCustomer(xb,{result:function(r){db(Da,function(){sb=Aa.getUserIdToken();$a(rb,sb,zb);},pb);},error:function(r){Da.error(r);}}):$a(rb,sb,zb):$a(rb,sb,zb);},pb);}function $a(rb,sb,zb){db(Da,function(){var xb,r;xb=!zb && (!ya.isEncrypted() || Aa.willEncryptPayloads()) && (!ya.isIntegrityProtected() || Aa.willIntegrityProtectPayloads()) && (!ya.isNonReplayable() || Aa.isNonReplayable() && rb);xb || Aa.setNonReplayable(!1);r=[];Aa.isRenewable() && (!rb || rb.isRenewable() || ya.isNonReplayable())?ya.getKeyRequestData({result:function(b){db(Da,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Aa.addKeyRequestData(c);}Wa(rb,sb,xb,r);},pb);},error:function(b){Da.error(b);}}):Wa(rb,sb,xb,r);},pb);}function Wa(rb,sb,zb,xb){db(Da,function(){var r;r=new kf(va,ya,Aa);ya.updateServiceTokens(r,!zb,{result:function(b){Aa.getHeader({result:function(a){db(Da,function(){var c,f;c=ya.getDebugContext();c && c.sentHeader(a);c=Aa.getKeyExchangeData();this.updateOutgoingCryptoContexts(va,a,c);this.storeServiceTokens(va,rb,sb,a.serviceTokens);c=!va.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ja.isAborted())throw new Zb("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ha):Ha;Kd(va,f,Lb,a,c,Na,{result:function(l){ja.setAbort(function(){l.abort();});ib(l,a,zb);},timeout:function(){Da.timeout();},error:function(l){Da.error(l);}});},pb);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});},error:function(b){Da.error(b);}});},pb);}function ib(rb,sb,zb){var xb,r;if(zb)ya.write(rb,Na,{result:function(b){db(Da,function(){if(ja.isAborted())throw new Zb("MessageOutputStream write aborted.");lb(rb,sb,zb);},pb);},timeout:function(){Da.timeout();},error:function(b){Da.error(b);}});else {xb=new qa();r=new bd();Kd(va,xb,Lb,sb,r,Na,{result:function(b){ya.write(b,Na,{result:function(a){db(Da,function(){if(ja.isAborted())throw new Zb("MessageOutputStream proxy write aborted.");b.close(Na,{result:function(c){db(Da,function(){var f;if(!c)throw new Zb("MessageOutputStream proxy close aborted.");f=b.getPayloads();lb(rb,sb,zb,f);},pb);},timeout:function(){Da.timeout();},error:function(c){Da.error(c);}});},pb);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});},timeout:function(){Da.timeout();},error:function(b){Da.error(b);}});}}function lb(rb,sb,zb,xb){rb.close(Na,{result:function(r){db(Da,function(){if(!r)throw new Zb("MessageOutputStream close aborted.");xb || (xb=rb.getPayloads());return new ha(sb,xb,!zb);},pb);},timeout:function(){Da.timeout();},error:function(r){Da.error(r);}});}pb=this;db(Da,function(){var rb,sb,zb,xb;rb=Aa.getMasterToken();sb=Aa.getUserIdToken();zb=!1;if(ya.getUserId()){xb=!sb;ya.getUserAuthData(null,Aa.isRenewable(),xb,{result:function(r){db(Da,function(){r && (Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()?Aa.setUserAuthenticationData(r):zb=!0);Ua(rb,sb,zb);},pb);},error:function(r){Da.error(r);}});}else Ua(rb,sb,zb);},pb);},receive:function(ja,va,ya,Ha,Aa,Na,Da){var Ua;Ua=this;db(Da,function(){var $a,Wa,ib;if(ja.isAborted())throw new Zb("receive aborted.");$a=[];Aa && ($a=Aa.keyRequestData.filter(function(){return !0;}));Wa=ya.getCryptoContexts();ib=this._filterFactory?this._filterFactory.getInputStream(Ha):Ha;mf(va,ib,Lb,$a,Wa,Na,{result:function(lb){ja.setAbort(function(){lb.abort();});lb.isReady(Na,{result:function(pb){db(Da,function(){var rb,sb,zb,xb;if(!pb)throw new Zb("MessageInputStream aborted.");rb=lb.getMessageHeader();sb=lb.getErrorHeader();zb=ya.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Aa && (zb=sb?sb.errorCode:null,rb || zb != Ja.FAIL && zb != Ja.TRANSIENT_FAILURE && zb != Ja.ENTITY_REAUTH && zb != Ja.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;xb=Vc(Aa.messageId);if(zb != xb)throw new Ib(V.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + zb);}va.getEntityAuthenticationData(null,{result:function(r){db(Da,function(){var b,a,c,f;b=r.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);Aa && this.updateIncomingCryptoContexts(va,Aa,lb);b=rb.keyResponseData;va.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=ya.getUserId();f && c && !c.isVerified() && va.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(va,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Ua);},error:Da.error});},Ua);},timeout:function(){Da.timeout();},error:function(pb){Da.error(pb);}});},timeout:function(){Da.timeout();},error:function(lb){Da.error(lb);}});},Ua);},sendReceive:function(ja,va,ya,Ha,Aa,Na,Da,Ua,$a){var ib;function Wa(lb,pb){db($a,function(){Na.setRenewable(pb);this.send(ja,va,ya,Aa,Na,Da,{result:function(rb){db($a,function(){var sb;sb=rb.requestHeader.keyRequestData;Ua || rb.handshake || !sb.isEmpty()?this.receive(ja,va,ya,Ha,rb.requestHeader,Da,{result:function(zb){db($a,function(){pb && this.releaseRenewalLock(va,lb,zb);return new ea(zb,rb);},ib);},timeout:function(){db($a,function(){pb && this.releaseRenewalLock(va,lb,null);$a.timeout();},ib);},error:function(zb){db($a,function(){pb && this.releaseRenewalLock(va,lb,null);throw zb;},ib);}}):db($a,function(){pb && this.releaseRenewalLock(va,lb,null);return new ea(null,rb);},ib);},ib);},timeout:function(){db($a,function(){pb && this.releaseRenewalLock(va,lb,null);$a.timeout();},ib);},error:function(rb){db($a,function(){pb && this.releaseRenewalLock(va,lb,null);throw rb;},ib);}});},ib);}ib=this;db($a,function(){var lb;lb=new hd();this.acquireRenewalLock(ja,va,ya,lb,Na,Da,{result:function(pb){Wa(lb,pb);},timeout:function(){$a.timeout();},error:function(pb){pb instanceof Zb?$a.result(null):$a.error(pb);}});},ib);},acquireRenewalLock:function(ja,va,ya,Ha,Aa,Na,Da){var Wa;function Ua(ib,lb,pb){db(Da,function(){var zb,xb;if(ja.isAborted())throw new Zb("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === va){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:va,queue:Ha}),!0);xb=rb.poll(Na,{result:function(r){db(Da,function(){var b;if(r === Ab)throw new Zb("acquireRenewalLock aborted.");rb.add(r);if(r === oa || r.isExpired())Ua(r,lb,pb);else {if(pb && !lb || lb && !lb.isBoundTo(r)){b=va.getMslStore().getUserIdToken(pb);lb=b && b.isBoundTo(r)?b:null;}Aa.setAuthTokens(r,lb);Aa.isRenewable() && r.equals(ib)?Ua(r,lb,pb):ya.isRequestingTokens() && !lb?Ua(r,lb,pb):$a(r,lb);}},Wa);},timeout:function(){},error:function(r){}});ja.setAbort(function(){xb && (rb.cancel(xb),xb=Ab);});},Wa);}function $a(ib,lb){db(Da,function(){var sb;if(ja.isAborted())throw new Zb("acquireRenewalLock aborted.");if(!ib || ib.isRenewable() || !lb && ya.getUserId() || lb && lb.isRenewable()){for(var pb=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === va){pb=sb.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:va,queue:Ha}),!0);}return !1;},Wa);}Wa=this;db(Da,function(){var ib,lb,pb;ib=Aa.getMasterToken();lb=Aa.getUserIdToken();pb=ya.getUserId();ya.isEncrypted() && !Aa.willEncryptPayloads() || ya.isIntegrityProtected() && !Aa.willIntegrityProtectPayloads() || Aa.isRenewable() || !ib && ya.isNonReplayable() || ib && ib.isExpired() || !(lb || !pb || Aa.willEncryptHeader() && Aa.willIntegrityProtectHeader()) || ya.isRequestingTokens() && (!ib || pb && !lb)?Ua(ib,lb,pb):$a(ib,lb);},Wa);},releaseRenewalLock:function(ja,va,ya){var Da;for(var Ha,Aa,Na=0;Na < this._renewingContexts.length;++Na){Da=this._renewingContexts[Na];if(Da.ctx === ja){Ha=Na;Aa=Da.queue;break;}}if(Aa !== va)throw new vb("Attempt to release renewal lock that is not owned by this queue.");ya?(ya=ya.messageHeader)?(Aa=ya.keyResponseData)?va.add(Aa.masterToken):(ja=ja.isPeerToPeer()?ya.peerMasterToken:ya.masterToken)?va.add(ja):va.add(oa):va.add(oa):va.add(oa);this._renewingContexts.splice(Ha,1);}});pf=Bb.Class.create({init:function(){var ja;ja={_impl:{value:new W(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},setFilterFactory:function(ja){this._impl.setFilterFactory(ja);},shutdown:function(){this._shutdown=!0;},receive:function(ja,va,ya,Ha,Aa,Na){var Da;if(this._shutdown)throw new cb("MslControl is shutdown.");Da=new aa(this._impl,ja,va,ya,Ha,Aa);setTimeout(function(){Da.call(Na);},0);return fa(Da);},respond:function(ja,va,ya,Ha,Aa,Na,Da){var Ua;if(this._shutdown)throw new cb("MslControl is shutdown.");Ua=new ca(this._impl,ja,va,ya,Ha,Aa,Na);setTimeout(function(){Ua.call(Da);},0);return fa(Ua);},error:function ya(ja,va,ya,Ha,Aa,Na,Da){var Ua;if(this._shutdown)throw new cb("MslControl is shutdown.");Ua=new la(this._impl,ja,va,ya,Ha,Aa,Na);setTimeout(function(){Ua.call(Da);},0);return fa(Ua);},request:function(ja,va){var ya,Ha,Aa,Na,Da,Ua;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Ha=arguments[2];Aa=ya=null;Na=arguments[3];Da=arguments[4];if(ja.isPeerToPeer()){Da.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ha=null,ya=arguments[2],Aa=arguments[3],Na=arguments[4],Da=arguments[5],!ja.isPeerToPeer())){Da.error(new vb("This method cannot be used in trusted network mode."));return;}Ua=new Ca(this._impl,ja,va,Ha,ya,Aa,null,0,Na);setTimeout(function(){Ua.call(Da);},0);return fa(Ua);}});aa=Bb.Class.create({init:function(ja,va,ya,Ha,Aa,Na){Object.defineProperties(this,{_ctrl:{value:ja,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Na,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ja){this._abortFunc=ja;},call:function(ja){var Aa;function va(Na){db(ja,function(){var Da;Da=Na.messageHeader;if(!Da)return Na;this.setAbort(function(){Na.abort();});Na.mark(Number.MAX_VALUE);Na.read(1,Aa._timeout,{result:function(Ua){db(ja,function(){if(Ua && 0 == Ua.length)return null;if(Ua)return (Na.reset(),Na);ya(Na);},Aa);},timeout:function(){ja.timeout();},error:function(Ua){db(ja,function(){var $a,Wa,ib;if(U(Ua))return null;$a=Da?Da.messageId:null;if(Ua instanceof Wb){Wa=V.MSL_COMMS_FAILURE;ib=Ua;}else (Wa=V.INTERNAL_EXCEPTION,ib=new vb("Error peeking into the message payloads."));Y(this,this._ctx,this._msgCtx.getDebugContext(),$a,Wa,null,this._output,this._timeout,{result:function(lb){ja.error(ib);},timeout:function(){ja.timeout();},error:function(lb){db(ja,function(){if(U(lb))return null;throw new kc("Error peeking into the message payloads.",lb,Ua);},Aa);}});},Aa);}});},Aa);}function ya(Na){db(ja,function(){Na.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Na.messageHeader,this._timeout,{result:function(Da){db(ja,function(){var Ua,$a,Wa,ib,lb;Ua=Da.builder;$a=Da.tokenTicket;Wa=Na.messageHeader;ib=new ta(this._msgCtx);if(!this._ctx.isPeerToPeer() || Wa.isEncrypting() || Wa.keyResponseData)Ha(Wa,Ua,ib,$a);else {lb=new Ca(this._ctrl,this._ctx,ib,null,this._input,this._output,Da,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(ja);}},Aa);},timeout:function(){ja.timeout();},error:function(Da){db(ja,function(){var Ua,$a,Wa,ib;if(U(Da))return null;if(Da instanceof cb){Ua=Da.messageId;$a=Da.error;Wa=Na.messageHeader.messageCapabilities;Wa=this._ctrl.messageRegistry.getUserMessage($a,Wa?Wa.languages:null);ib=Da;}else (Ua=requestHeader?requestHeader.messageId:null,$a=V.INTERNAL_EXCEPTION,Wa=null,ib=new vb("Error creating an automatic handshake response.",Da));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ua,$a,Wa,this._output,this._timeout,{result:function(lb){ja.error(ib);},timeout:function(){ja.timeout();},error:function(lb){db(ja,function(){if(U(lb))return null;throw new kc("Error creating an automatic handshake response.",lb,Da);},Aa);}});},Aa);}});},Aa);}function Ha(Na,Da,Ua,$a){db(ja,function(){Da.setRenewable(!1);this._ctrl.send(this._ctx,Ua,this._output,Da,this._timeout,{result:function(Wa){db(ja,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);return null;},Aa);},timeout:function(){db(ja,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);ja.timeout();},Aa);},error:function(Wa){db(ja,function(){var ib,lb,pb,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken($a);if(U(Wa))return null;if(Wa instanceof cb){ib=Wa.messageId;lb=Wa.error;pb=Na?Na.messageCapabilities:null;pb=this._ctrl.messageRegistry.getUserMessage(lb,pb?pb.languages:null);rb=Wa;}else Wa instanceof Wb?(ib=Na?Na.messageId:null,lb=V.MSL_COMMS_FAILURE,pb=null,rb=Wa):(ib=Na?Na.messageId:null,lb=V.INTERNAL_EXCEPTION,pb=null,rb=new vb("Error sending an automatic handshake response.",Wa));Y(this,this._ctx,this._msgCtx.getDebugContext(),ib,lb,pb,this._output,this._timeout,{result:function(sb){ja.error(rb);},timeout:function(){ja.timeout();},error:function(sb){db(ja,function(){if(U(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Wa);},Aa);}});},Aa);}});},Aa);}Aa=this;db(ja,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Na){va(Na);},timeout:function(){ja.timeout();},error:function(Na){db(ja,function(){var Da,Ua,$a,Wa;if(U(Na))return null;if(Na instanceof cb){Da=Na.messageId;Ua=Na.error;$a=this._ctrl.messageRegistry.getUserMessage(Ua,null);Wa=Na;}else (Da=null,Ua=V.INTERNAL_EXCEPTION,$a=null,Wa=new vb("Error receiving the message header.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Ua,$a,this._output,this._timeout,{result:function(ib){ja.error(Wa);},timeout:function(){ja.timeout();},error:function(ib){db(ja,function(){if(U(ib))return null;throw new kc("Error receiving the message header.",ib,Na);},Aa);}});},Aa);}});},Aa);}});ca=Bb.Class.create({init:function(ja,va,ya,Ha,Aa,Na,Da){Object.defineProperties(this,{_ctrl:{value:ja,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Na,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Da,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ja){this._abortFunc=ja;},trustedNetworkExecute:function(ja,va,ya){var Ha;Ha=this;db(ya,function(){var Aa,Na;if(12 < va + 1)return !1;if(Aa=this._msgCtx.isIntegrityProtected() && !ja.willIntegrityProtectHeader()?V.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ja.willEncryptPayloads()?V.RESPONSE_REQUIRES_ENCRYPTION:null){Na=cd(ja.getMessageId());Y(this,this._ctx,this._msgCtx.getDebugContext(),Na,Aa,null,this._output,this._timeout,{result:function(Da){ya.result(!1);},timeout:function(){ya.timeout();},error:function(Da){db(ya,function(){if(U(Da))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Aa,Da,null);},Ha);}});}else !this._msgCtx.getCustomer() || ja.getMasterToken() || ja.getKeyExchangeData()?(ja.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ja,this._timeout,{result:function(Da){ya.result(!0);},timeout:function(){ya.timeout();},error:function(Da){ya.error(Da);}})):(Na=cd(ja.getMessageId()),Y(this,this._ctx,this._msgCtx.getDebugContext(),Na,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Da){ya.result(!1);},timeout:function(){ya.timeout();},error:function(Da){db(ya,function(){if(U(Da))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Da,null);},Ha);}}));},Ha);},peerToPeerExecute:function(ja,va,ya,Ha){var Na;function Aa(Da){db(Ha,function(){var Ua;Ua=Da.response;Ua.close();Ua=Ua.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Da.requestHeader,Ua);this._ctrl.buildErrorResponse(this,this._ctx,ja,Da,Ua,{result:function($a){db(Ha,function(){var Wa,ib;if(!$a)return !1;Wa=$a.errorResult;ib=$a.tokenTicket;this.peerToPeerExecute(Wa.msgCtx,Wa.builder,ya,{result:function(lb){db(Ha,function(){this._ctrl.releaseMasterToken(ib);return lb;},Na);},timeout:function(){db(Ha,function(){this._ctrl.releaseMasterToken(ib);Ha.timeout();},Na);},error:function(lb){db(Ha,function(){this._ctrl.releaseMasterToken(ib);throw lb;},Na);}});},Na);}});},Na);}Na=this;db(Ha,function(){var Da;if(12 < ya + 2)return !1;if(null != ja.getCustomer() && null == va.getPeerMasterToken() && null == va.getKeyExchangeData()){Da=cd(va.getMessageId());Y(this,this._ctx,ja.getDebugContext(),Da,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ua){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ua){db(Ha,function(){if(U(Ua))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Ua,null);},Na);}});}else this._ctrl.sendReceive(this._ctx,ja,this._input,this._output,va,this._timeout,!1,{result:function(Ua){db(Ha,function(){var ib,lb,pb;function $a(){ib.read(32768,Na._timeout,{result:function(rb){db(Ha,function(){rb?$a():Wa();},Na);},timeout:function(){Ha.timeout();},error:function(rb){Ha.error(rb);}});}function Wa(){db(Ha,function(){var rb;rb=new Ba(Ua.payloads,ja);this._ctrl.buildResponse(this,this._ctx,rb,lb,this._timeout,{result:function(sb){db(Ha,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,ya,{result:function(xb){db(Ha,function(){this._ctrl.releaseMasterToken(zb);return xb;},Na);},timeout:function(){db(Ha,function(){this._ctrl.releaseMasterToken(zb);Ha.timeout();},Na);},error:function(xb){db(Ha,function(){this._ctrl.releaseMasterToken(zb);throw xb;},Na);}});},Na);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});},Na);}ib=Ua.response;ya+=2;if(!ib)return !0;lb=ib.getMessageHeader();if(lb){pb=Ua.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(Ua.handshake && pb)$a();else return !0;}else Aa(Ua);},Na);},timeout:function(){Ha.timeout();},error:function(Ua){Ha.error(Ua);}});},Na);},call:function(ja){var va;va=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(ya){db(ja,function(){var Ha,Aa;Ha=ya.builder;Aa=ya.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ha,3,{result:function(Na){db(ja,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Na;},va);},timeout:function(){db(ja,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ja.timeout();},va);},error:function(Na){db(ja,function(){var Da,Ua,$a,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(U(Na))return !1;Da=cd(Ha.getMessageId());if(Na instanceof cb){Ua=Na.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Ua,$a?$a.languages:null);Wa=Na;}else Na instanceof Wb?(Ua=V.MSL_COMMS_FAILURE,$a=null,Wa=Na):(Ua=V.INTERNAL_EXCEPTION,$a=null,Wa=new vb("Error sending the response.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Ua,$a,this._output,this._timeout,{result:function(ib){ja.error(Wa);},timeout:function(){ja.timeout();},error:function(ib){db(ja,function(){if(U(ib))return !1;throw new kc("Error sending the response.",ib,null);},va);}});},va);}}):this.trustedNetworkExecute(Ha,3,{result:function(Na){db(ja,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);return Na;},va);},timeout:function(){db(ja,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);ja.timeout();},va);},error:function(Na){db(ja,function(){var Da,Ua,$a,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Aa);if(U(Na))return !1;Da=cd(Ha.getMessageId());if(Na instanceof cb){Ua=Na.error;$a=this._request.messageCapabilities;$a=this._ctrl.messageRegistry.getUserMessage(Ua,$a?$a.languages:null);Wa=Na;}else Na instanceof Wb?(Ua=V.MSL_COMMS_FAILURE,$a=null,Wa=Na):(Ua=V.INTERNAL_EXCEPTION,$a=null,Wa=new vb("Error sending the response.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Da,Ua,$a,this._output,this._timeout,{result:function(ib){ja.error(Wa);},timeout:function(){ja.timeout();},error:function(ib){db(ja,function(){if(U(ib))return !1;throw new kc("Error sending the response.",ib,null);},va);}});},va);}});},va);},timeout:function(){ja.timeout();},error:function(ya){db(ja,function(){var Ha,Aa,Na,Da;if(U(ya))return !1;if(ya instanceof cb){Ha=ya.messageId;Aa=ya.error;Na=this._request.messageCapabilities;Na=this._ctrl.messageRegistry.getUserMessage(Aa,Na?Na.languages:null);Da=ya;}else (Ha=null,Aa=V.INTERNAL_EXCEPTION,Na=null,Da=new vb("Error building the response.",ya));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Aa,Na,this._output,this._timeout,{result:function(Ua){ja.error(Da);},timeout:function(){ja.timeout();},error:function(Ua){db(ja,function(){if(U(Ua))return null;throw new kc("Error building the response.",Ua,ya);},va);}});},va);}});}});la=Bb.Class.create({init:function(ja,va,ya,Ha,Aa,Na,Da){Object.defineProperties(this,{_ctrl:{value:ja,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Na,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Da,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ja){this._abortFunc=ja;},call:function(ja){var va;va=this;db(ja,function(){var ya,Ha;if(this._appError == ENTITY_REJECTED)ya=this._request.masterToken?V.MASTERTOKEN_REJECTED_BY_APP:V.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)ya=this._request.userIdToken?V.USERIDTOKEN_REJECTED_BY_APP:V.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ha=this._request.messageCapabilities;Ha=this._ctrl.messageRegistry.getUserMessage(ya,Ha?Ha.languages:null);Y(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,ya,Ha,this._output,this._timeout,{result:function(Aa){ja.result(Aa);},timeout:ja.timeout,error:function(Aa){db(ja,function(){if(U(Aa))return !1;if(Aa instanceof cb)throw Aa;throw new vb("Error building the error response.",Aa);},va);}});},va);}});Ga={result:function(){},timeout:function(){},error:function(){}};Ca=Bb.Class.create({init:function(ja,va,ya,Ha,Aa,Na,Da,Ua,$a){var Wa;if(Da){Wa=Da.builder;Da=Da.tokenTicket;}else Da=Wa=null;Object.defineProperties(this,{_ctrl:{value:ja,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Aa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Na,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Da,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:$a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ja){this._abortFunc=ja;},execute:function(ja,va,ya,Ha,Aa){var Ua;function Na($a){function Wa(ib){db(Aa,function(){var lb;lb=$a.response;return ib?ib:lb;},Ua);}db(Aa,function(){var ib,lb;ib=$a.response;ib.close();lb=ib.getErrorHeader();this._ctrl.cleanupContext(this._ctx,$a.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,ja,$a,lb,ya,{result:function(pb){db(Aa,function(){var rb,sb,zb,xb;if(!pb)return ib;rb=pb.errorResult;sb=pb.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ha,{result:function(r){db(Aa,function(){this._ctrl.releaseMasterToken(sb);Wa(r);},Ua);},timeout:function(){db(Aa,function(){this._ctrl.releaseMasterToken(sb);Aa.timeout();},Ua);},error:function(r){db(Aa,function(){this._ctrl.releaseMasterToken(sb);Aa.error(r);},Ua);}});else {this._openedStreams && (this._input.close(),this._output.close(ya,Ga));xb=new Ca(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ha,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Wa(r);},timeout:function(){Aa.timeout();},error:function(r){Aa.error(r);}});}},Ua);},timeout:function(){Aa.timeout();},error:function(pb){Aa.error(pb);}});},Ua);}function Da($a){db(Aa,function(){var lb,pb,rb,sb,zb;function Wa(){lb.read(32768,Ua._timeout,{result:function(xb){xb?Wa():ib();},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}function ib(){db(Aa,function(){var xb;xb=new Ba($a.payloads,ja);this._ctrl.buildResponse(this,this._ctx,ja,pb,ya,{result:function(r){db(Aa,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ha,{result:function(a){db(Aa,function(){this._ctrl.releaseMasterToken(b);return a;},Ua);},timeout:function(){db(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Ua);},error:function(a){db(Aa,function(){this._ctrl.releaseMasterToken(b);throw a;},Ua);}});},Ua);},timeout:function(){Aa.timeout();},error:function(r){Aa.error(r);}});},Ua);}lb=$a.response;pb=lb.getMessageHeader();rb=$a.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!$a.handshake || !rb)return lb;this._openedStreams && (this._input.close(),this._output.close(ya,Ga));sb=new Ba($a.payloads,ja);this._ctrl.buildResponse(this,this._ctx,ja,pb,ya,{result:function(xb){db(Aa,function(){var r;r=new Ca(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,xb,Ha,this._timeout);this.setAbort(function(){r.abort();});r.call(Aa);},Ua);},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}else if($a.handshake && rb)Wa();else if(0 < pb.keyRequestData.length){zb=new ta(ja);this._ctrl.buildResponse(this,this._ctx,zb,pb,ya,{result:function(xb){db(Aa,function(){var r,b;r=xb.builder;b=xb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){db(Aa,function(){function c(){lb.read(32768,Ua._timeout,{result:function(l){l?c():f();},timeout:function(){Aa.timeout();},error:function(l){Aa.error(l);}});}function f(){Ua.execute(zb,r,Ua._timeout,Ha,{result:function(l){db(Aa,function(){this._ctrl.releaseMasterToken(b);return l;},Ua);},timeout:function(){db(Aa,function(){this._ctrl.releaseMasterToken(b);Aa.timeout();},Ua);},error:function(l){db(Aa,function(){this._ctrl.releaseMasterToken(b);throw l;},Ua);}});}if(a){if((lb.reset(),12 >= Ha + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(l){db(Aa,function(){this.releaseMasterToken(b);return lb;},Ua);},timeout:function(){Aa.timeout();},error:function(l){Aa.error(l);}}));else return (this.releaseMasterToken(b),lb);}else c();},Ua);},timeout:function(){db(Aa,function(){this.releaseMasterToken(b);Aa.timeout();},Ua);},error:function(a){db(Aa,function(){this.releaseMasterToken(b);throw a;},Ua);}});},Ua);},timeout:function(){Aa.timeout();},error:function(xb){Aa.error(xb);}});}},Ua);}Ua=this;db(Aa,function(){if(12 < Ha + 2)return null;this._ctrl.sendReceive(this,this._ctx,ja,this._input,this._output,va,ya,!0,{result:function($a){db(Aa,function(){var Wa;if(!$a)return null;Wa=$a.response;Ha+=2;Wa.getMessageHeader()?Da($a):Na($a);},Ua);},timeout:function(){Aa.timeout();},error:function($a){Aa.error($a);}});},Ua);},call:function(ja){var ya;function va(Ha,Aa,Na){db(ja,function(){this.execute(this._msgCtx,Ha,Na,this._msgCount,{result:function(Da){db(ja,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && this._output.close(Na,Ga);Da && Da.closeSource(this._openedStreams);return Da;},ya);},timeout:function(){db(ja,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Na,Ga),this._input.close());ja.timeout();},ya);},error:function(Da){db(ja,function(){this._ctrl.releaseMasterToken(Aa);this._openedStreams && (this._output.close(Na,Ga),this._input.close());if(U(Da))return null;throw Da;},ya);}});},ya);}ya=this;db(ja,function(){var Ha,Aa,Na;Ha=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Aa=Date.now();Na=this._remoteEntity.openConnection();this._output=Na.output;this._input=Na.input;-1 != Ha && (Ha=this._timeout - (Date.now() - Aa));this._openedStreams=!0;}catch(Da){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ga);this._input && this._input.close();if(U(Da))return null;throw Da;}this._builder?va(this._builder,this._tokenTicket,Ha):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Da){db(ja,function(){va(Da.builder,Da.tokenTicket,Ha);},ya);},timeout:function(){db(ja,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());ja.timeout();},ya);},error:function(Da){db(ja,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());if(U(Da))return null;throw Da;},ya);}});},ya);}});})();(function(){oe=Bb.Class.create({init:function(fa){Object.defineProperties(this,{id:{value:fa,writable:!1,configurable:!1}});},toJSON:function(){var fa;fa={};fa.id=this.id;return fa;},equals:function(fa){return this === fa?!0:fa instanceof oe?this.id == fa.id:!1;},uniqueKey:function(){return this.id;}});qf=function(fa){var Z;Z=fa.id;if(!Z)throw new yb(V.JSON_PARSE_ERROR,JSON.stringify(fa));return new oe(Z);};})();Bb.Class.create({isNewestMasterToken:function(fa,Z,ba){},isMasterTokenRevoked:function(fa,Z){},acceptNonReplayableId:function(fa,Z,ba,ha){},createMasterToken:function(fa,Z,ba,ha,ea){},isMasterTokenRenewable:function(fa,Z,ba){},renewMasterToken:function(fa,Z,ba,ha,ea){},isUserIdTokenRevoked:function(fa,Z,ba,ha){},createUserIdToken:function(fa,Z,ba,ha){},renewUserIdToken:function(fa,Z,ba,ha){}});(function(){function fa(Z,ba,ha,ea){this.sessiondata=Z;this.tokendata=ba;this.signature=ha;this.verified=ea;}ic=Bb.Class.create({init:function(Z,ba,ha,ea,U,Y,qa,na,ra,Ba,ta){var oa;oa=this;Ka(ta,function(){var W,aa,ca,la,Ga;if(ha.getTime() < ba.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Mb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > U || U > Mb)throw new vb("Serial number " + U + " is outside the valid range.");W=Math.floor(ba.getTime() / 1E3);aa=Math.floor(ha.getTime() / 1E3);if(Ba)ca=Ba.sessiondata;else {la={};Y && (la.issuerdata=Y);la.identity=qa;la.encryptionkey=Db(na.toByteArray());la.hmackey=Db(ra.toByteArray());ca=Sb(JSON.stringify(la),Lb);}if(Ba)return (Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ba.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ga=Z.getMslCryptoContext();Ga.encrypt(ca,{result:function(Ca){Ka(ta,function(){var Oa,Ra;Oa={};Oa.renewalwindow=W;Oa.expiration=aa;Oa.sequencenumber=ea;Oa.serialnumber=U;Oa.sessiondata=Db(Ca);Ra=Sb(JSON.stringify(Oa),Lb);Ga.sign(Ra,{result:function(ja){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:U,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1},sessiondata:{value:ca,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ja,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ja){ta.error(ja);}});},oa);},error:function(Ca){ta.error(Ca);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Z){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Z){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Z){var ba;if(this.sequenceNumber == Z.sequenceNumber)return this.expiration > Z.expiration;if(this.sequenceNumber > Z.sequenceNumber){ba=this.sequenceNumber - Mb + 127;return Z.sequenceNumber >= ba;}ba=Z.sequenceNumber - Mb + 127;return this.sequenceNumber < ba;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof ic?this.serialNumber == Z.serialNumber && this.sequenceNumber == Z.sequenceNumber && this.expiration.getTime() == Z.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Tc=function(Z,ba,ha){Ka(ha,function(){var ea,U,Y,qa,na;ea=Z.getMslCryptoContext();U=ba.tokendata;Y=ba.signature;if("string" !== typeof U || "string" !== typeof Y)throw new yb(V.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(ba));try{qa=Fb(U);}catch(ra){throw new cb(V.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(ba),ra);}if(!qa || 0 == qa.length)throw new yb(V.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(ba));try{na=Fb(Y);}catch(ra){throw new cb(V.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(ba),ra);}ea.verify(qa,na,{result:function(ra){Ka(ha,function(){var Ba,ta,oa,W,aa,ca,la,Ga,Ca,Oa;Ba=Tb(qa,Lb);try{ta=JSON.parse(Ba);oa=parseInt(ta.renewalwindow);W=parseInt(ta.expiration);aa=parseInt(ta.sequencenumber);ca=parseInt(ta.serialnumber);la=ta.sessiondata;}catch(Ra){if(Ra instanceof SyntaxError)throw new yb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba,Ra);throw Ra;}if(!oa || oa != oa || !W || W != W || "number" !== typeof aa || aa != aa || "number" !== typeof ca || ca != ca || "string" !== typeof la)throw new yb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ba);if(W < oa)throw new cb(V.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ba);if(0 > aa || aa > Mb)throw new cb(V.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);if(0 > ca || ca > Mb)throw new cb(V.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ba);Ga=new Date(1E3 * oa);Ca=new Date(1E3 * W);try{Oa=Fb(la);}catch(Ra){throw new cb(V.MASTERTOKEN_SESSIONDATA_INVALID,la,Ra);}if(!Oa || 0 == Oa.length)throw new cb(V.MASTERTOKEN_SESSIONDATA_MISSING,la);ra?ea.decrypt(Oa,{result:function(Ra){Ka(ha,function(){var ja,va,ya,Ha,Aa,Na;ja=Tb(Ra,Lb);try{va=JSON.parse(ja);ya=va.issuerdata;Ha=va.identity;Aa=va.encryptionkey;Na=va.hmackey;}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ja,Da);throw Da;}if(ya && "object" !== typeof ya || !Ha || "string" !== typeof Aa || "string" !== typeof Na)throw new yb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ja);yc(Aa,rc,Ic,{result:function(Da){yc(Na,sc,Sc,{result:function(Ua){Ka(ha,function(){var $a;$a=new fa(Ra,qa,na,ra);new ic(Z,Ga,Ca,aa,ca,ya,Ha,Da,Ua,$a,ha);});},error:function(Ua){ha.error(new tb(V.MASTERTOKEN_KEY_CREATION_ERROR,Ua));}});},error:function(Da){ha.error(new tb(V.MASTERTOKEN_KEY_CREATION_ERROR,Da));}});});},error:function(Ra){ha.error(Ra);}}):(oa=new fa(null,qa,na,ra),new ic(Z,Ga,Ca,aa,ca,null,null,null,null,oa,ha));});},error:function(ra){ha.error(ra);}});});};})();(function(){function fa(Z,ba,ha){this.tokendata=Z;this.signature=ba;this.verified=ha;}$c=Bb.Class.create({init:function(Z,ba,ha,ea,U,Y,qa,na,ra){var Ba;Ba=this;Ka(ra,function(){var ta,oa,W,aa,ca,la,Ga;if(ha.getTime() < ba.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > U || U > Mb)throw new vb("Serial number " + U + " is outside the valid range.");ta=Math.floor(ba.getTime() / 1E3);oa=Math.floor(ha.getTime() / 1E3);W=ea.serialNumber;if(na){aa=na.tokendata;ca=na.signature;la=na.verified;W=ea.serialNumber;Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:qa,writable:!1,configurable:!1},verified:{value:la,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ca,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};Y && (aa.issuerdata=Y);aa.identity=qa;aa=Sb(JSON.stringify(aa),Lb);Ga=Z.getMslCryptoContext();Ga.encrypt(aa,{result:function(Ca){Ka(ra,function(){var Oa,Ra;Oa={};Oa.renewalwindow=ta;Oa.expiration=oa;Oa.mtserialnumber=W;Oa.serialnumber=U;Oa.userdata=Db(Ca);Ra=Sb(JSON.stringify(Oa),Lb);Ga.sign(Ra,{result:function(ja){Ka(ra,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:qa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ja,writable:!1,enumerable:!1,configurable:!1}});return this;},Ba);},error:function(ja){Ka(ra,function(){ja instanceof cb && ja.setEntity(ea);throw ja;},Ba);}});},Ba);},error:function(Ca){Ka(ra,function(){Ca instanceof cb && Ca.setEntity(ea);throw Ca;},Ba);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Z){return Z && Z.serialNumber == this.mtSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof $c?this.serialNumber == Z.serialNumber && this.mtSerialNumber == Z.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Uc=function(Z,ba,ha,ea){Ka(ea,function(){var U,Y,qa,na,ra;U=Z.getMslCryptoContext();Y=ba.tokendata;qa=ba.signature;if("string" !== typeof Y || "string" !== typeof qa)throw new yb(V.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(ba)).setEntity(ha);try{na=Fb(Y);}catch(Ba){throw new cb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ba).setEntity(ha);}if(!na || 0 == na.length)throw new yb(V.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(ba)).setEntity(ha);try{ra=Fb(qa);}catch(Ba){throw new cb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ba).setEntity(ha);}U.verify(na,ra,{result:function(Ba){Ka(ea,function(){var ta,oa,W,aa,ca,la,Ga,Ca,Oa,Ra;ta=Tb(na,Lb);try{oa=JSON.parse(ta);W=parseInt(oa.renewalwindow);aa=parseInt(oa.expiration);ca=parseInt(oa.mtserialnumber);la=parseInt(oa.serialnumber);Ga=oa.userdata;}catch(ja){if(ja instanceof SyntaxError)throw new yb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ta,ja).setEntity(ha);throw ja;}if(!W || W != W || !aa || aa != aa || "number" !== typeof ca || ca != ca || "number" !== typeof la || la != la || "string" !== typeof Ga)throw new yb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ta).setEntity(ha);if(aa < W)throw new cb(V.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta).setEntity(ha);if(0 > ca || ca > Mb)throw new cb(V.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ta).setEntity(ha);if(0 > la || la > Mb)throw new cb(V.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ta).setEntity(ha);Ca=new Date(1E3 * W);Oa=new Date(1E3 * aa);if(!ha || ca != ha.serialNumber)throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ca + "; mt " + JSON.stringify(ha)).setEntity(ha);try{Ra=Fb(Ga);}catch(ja){throw new cb(V.USERIDTOKEN_USERDATA_INVALID,Ga,ja).setEntity(ha);}if(!Ra || 0 == Ra.length)throw new cb(V.USERIDTOKEN_USERDATA_MISSING,Ga).setEntity(ha);Ba?U.decrypt(Ra,{result:function(ja){Ka(ea,function(){var va,ya,Ha,Aa,Na;va=Tb(ja,Lb);try{ya=JSON.parse(va);Ha=ya.issuerdata;Aa=ya.identity;}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + va).setEntity(ha);throw Da;}if(Ha && "object" !== typeof Ha || "object" !== typeof Aa)throw new yb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + va).setEntity(ha);try{Na=qf(Aa);}catch(Da){throw new cb(V.USERIDTOKEN_IDENTITY_INVALID,"userdata " + va,Da).setEntity(ha);}Aa=new fa(na,ra,Ba);new $c(Z,Ca,Oa,ha,la,Ha,Na,Aa,ea);});},error:function(ja){Ka(ea,function(){ja instanceof cb && ja.setEntity(ha);throw ja;});}}):(W=new fa(na,ra,Ba),new $c(Z,Ca,Oa,ha,la,null,null,W,ea));});},error:function(Ba){Ka(ea,function(){Ba instanceof cb && Ba.setEntity(ha);throw Ba;});}});});};})();(function(){function fa(ba,ha){var ea,U,Y;ea=ba.tokendata;if("string" !== typeof ea)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));try{U=Fb(ea);}catch(qa){throw new cb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ba),qa);}if(!U || 0 == U.length)throw new yb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ba));try{Y=JSON.parse(Tb(U,Lb)).name;}catch(qa){if(qa instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba),qa);throw qa;}if(!Y)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));return ha[Y]?ha[Y]:ha[""];}function Z(ba,ha,ea){this.tokendata=ba;this.signature=ha;this.verified=ea;}Kc=Bb.Class.create({init:function(ba,ha,ea,U,Y,qa,na,ra,Ba,ta){var oa;oa=this;Ka(ta,function(){var W,aa,ca,la,Ga;if(U && Y && !Y.isBoundTo(U))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");W=U?U.serialNumber:-1;aa=Y?Y.serialNumber:-1;if(Ba)return (Ga=Ba.tokendata,Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:qa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:Ba.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ba.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(na){ca=ne(na,ea);ca.length < ea.length || (na=null,ca=ea);}else (na=null,ca=ea);la={};la.name=ha;-1 != W && (la.mtserialnumber=W);-1 != aa && (la.uitserialnumber=aa);la.encrypted=qa;na && (la.compressionalgo=na);if(qa && 0 < ca.length)ra.encrypt(ca,{result:function(Ca){Ka(ta,function(){var Oa;la.servicedata=Db(Ca);Oa=Sb(JSON.stringify(la),Lb);ra.sign(Oa,{result:function(Ra){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:qa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ra){Ka(ta,function(){Ra instanceof cb && (Ra.setEntity(U),Ra.setUser(Y));throw Ra;});}});},oa);},error:function(Ca){Ka(ta,function(){Ca instanceof cb && (Ca.setEntity(U),Ca.setUser(Y));throw Ca;});}});else {la.servicedata=Db(ca);Ga=Sb(JSON.stringify(la),Lb);ra.sign(Ga,{result:function(Ca){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ha,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:qa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ca){Ka(ta,function(){Ca instanceof cb && (Ca.setEntity(U),Ca.setUser(Y));throw Ca;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(ba){return ba?ba instanceof ic?ba.serialNumber == this.mtSerialNumber:ba instanceof $c?ba.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Db(this.tokendata);ba.signature=Db(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof Kc?this.name == ba.name && this.mtSerialNumber == ba.mtSerialNumber && this.uitSerialNumber == ba.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Cc=function(ba,ha,ea,U,Y,qa,na,ra,Ba){new Kc(ba,ha,ea,U,Y,qa,na,ra,null,Ba);};Hd=function(ba,ha,ea,U,Y,qa){Ka(qa,function(){var na,ra,Ba,ta,oa,W,aa,ca,la,Ga,Ca,Oa,Ra;!Y || Y instanceof ad || (Y=fa(ha,Y));na=ha.tokendata;ra=ha.signature;if("string" !== typeof na || "string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ha)).setEntity(ea).setEntity(U);try{Ba=Fb(na);}catch(ja){throw new cb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ha),ja).setEntity(ea).setEntity(U);}if(!Ba || 0 == Ba.length)throw new yb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ha)).setEntity(ea).setEntity(U);try{ta=Fb(ra);}catch(ja){throw new cb(V.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ha),ja).setEntity(ea).setEntity(U);}oa=Tb(Ba,Lb);try{W=JSON.parse(oa);aa=W.name;ca=W.mtserialnumber?parseInt(W.mtserialnumber):-1;la=W.uitserialnumber?parseInt(W.uitserialnumber):-1;Ga=W.encrypted;Ca=W.compressionalgo;Oa=W.servicedata;}catch(ja){if(ja instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"servicetokendata " + oa,ja).setEntity(ea).setEntity(U);throw ja;}if(!aa || "number" !== typeof ca || ca != ca || "number" !== typeof la || la != la || "boolean" !== typeof Ga || Ca && "string" !== typeof Ca || "string" !== typeof Oa)throw new yb(V.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(W.mtserialnumber && 0 > ca || ca > Mb)throw new cb(V.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(W.uitserialnumber && 0 > la || la > Mb)throw new cb(V.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(-1 != ca && (!ea || ca != ea.serialNumber))throw new cb(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ca + "; mt " + ea).setEntity(ea).setEntity(U);if(-1 != la && (!U || la != U.serialNumber))throw new cb(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + la + "; uit " + U).setEntity(ea).setEntity(U);Ga=!0 === Ga;if(Ca){if(!Pc[Ca])throw new cb(V.UNIDENTIFIED_COMPRESSION,Ca);Ra=Ca;}else Ra=null;Y?Y.verify(Ba,ta,{result:function(ja){Ka(qa,function(){var va,ya;if(ja){try{va=Fb(Oa);}catch(Ha){throw new cb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ha).setEntity(ea).setEntity(U);}if(!va || 0 != Oa.length && 0 == va.length)throw new cb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(Ga && 0 < va.length)Y.decrypt(va,{result:function(Ha){Ka(qa,function(){var Aa,Na;Aa=Ra?Id(Ra,Ha):Ha;Na=new Z(Ba,ta,ja);new Kc(ba,aa,Aa,-1 != ca?ea:null,-1 != la?U:null,Ga,Ra,Y,Na,qa);});},error:function(Ha){Ka(qa,function(){Ha instanceof cb && (Ha.setEntity(ea),Ha.setUser(U));throw Ha;});}});else {va=Ra?Id(Ra,va):va;ya=new Z(Ba,ta,ja);new Kc(ba,aa,va,-1 != ca?ea:null,-1 != la?U:null,Ga,Ra,Y,ya,qa);}}else (va="" == Oa?new Uint8Array(0):null,ya=new Z(Ba,ta,ja),new Kc(ba,aa,va,-1 != ca?ea:null,-1 != la?U:null,Ga,Ra,Y,ya,qa));});},error:function(ja){Ka(qa,function(){ja instanceof cb && (ja.setEntity(ea),ja.setUser(U));throw ja;});}}):(na="" == Oa?new Uint8Array(0):null,ra=new Z(Ba,ta,!1),new Kc(ba,aa,na,-1 != ca?ea:null,-1 != la?U:null,Ga,Ra,Y,ra,qa));});};})();$b={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze($b);(function(){Hc=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(fa){return this === fa?!0:fa instanceof Hc?this.scheme == fa.scheme:!1;},toJSON:function(){var fa;fa={};fa.scheme=this.scheme;fa.authdata=this.getAuthData();return fa;}});ef=function(fa,Z,ba,ha){Ka(ha,function(){var ea,U,Y;ea=ba.scheme;U=ba.authdata;if(!ea || !U)throw new yb(V.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(ba));if(!$b[ea])throw new Gb(V.UNIDENTIFIED_USERAUTH_SCHEME,ea);Y=fa.getUserAuthenticationFactory(ea);if(!Y)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ea);Y.createData(fa,Z,U,ha);});};})();md=Bb.Class.create({init:function(fa){Object.defineProperties(this,{scheme:{value:fa,writable:!1,configurable:!1}});},createData:function(fa,Z,ba,ha){},authenticate:function(fa,Z,ba,ha){}});(function(){Xc=Hc.extend({init:function ha(Z,ba){ha.base.call(this,$b.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Z,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.netflixid=this.netflixId;this.secureNetflixId && (Z.securenetflixid=this.secureNetflixId);return Z;},equals:function ha(ba){return this === ba?!0:ba instanceof Xc?ha.base.call(this,ba) && this.netflixId == ba.netflixId && this.secureNetflixId == ba.secureNetflixId:!1;}});rf=function(ba){var ha,ea;ha=ba.netflixid;ea=ba.securenetflixid;if(!ha)throw new yb(V.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(ba));return new Xc(ha,ea);};})();Uf=md.extend({init:function Z(){Z.base.call(this,$b.NETFLIXID);},createData:function(Z,ba,ha,ea){Ka(ea,function(){return rf(ha);});},authenticate:function(Z,ba,ha,ea){if(!(ha instanceof Xc))throw new vb("Incorrect authentication data type " + ha + ".");Z=ha.secureNetflixId;if(!ha.netflixId || !Z)throw new Gb(V.NETFLIXID_COOKIES_BLANK).setUser(ha);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ha);}});(function(){nd=Hc.extend({init:function ea(ba,ha){ea.base.call(this,$b.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:ba,writable:!1,configurable:!1},password:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.email=this.email;ba.password=this.password;return ba;},equals:function ea(ha){return this === ha?!0:ha instanceof nd?ea.base.call(this,this,ha) && this.email == ha.email && this.password == ha.password:!1;}});sf=function(ha){var ea,U;ea=ha.email;U=ha.password;if(!ea || !U)throw new yb(V.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ha));return new nd(ea,U);};})();Vf=md.extend({init:function ba(){ba.base.call(this,$b.EMAIL_PASSWORD);},createData:function(ba,ha,ea,U){Ka(U,function(){return sf(ea);});},authenticate:function(ba,ha,ea,U){if(!(ea instanceof nd))throw new vb("Incorrect authentication data type " + ea + ".");ba=ea.password;if(!ea.email || !ba)throw new Gb(V.EMAILPASSWORD_BLANK).setUser(ea);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});(function(){var U,Y,qa,na,ra,Ba,ta,oa;function ba(W,aa){return "<" + W + ">" + aa + "</" + W + ">";}function ha(W){return W.replace(/[<>&"']/g,function(aa){return ra[aa];});}function ea(W){return encodeURIComponent(W).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}U=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Y=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});qa=pe=Y.extend({init:function(W,aa,ca,la,Ga,Ca,Oa){var va;function Ra(ya){Ka(Oa,function(){var Ha,Aa;try{Ha={};Ha.useridtoken=W;Ha.action=aa;Ha.nonce=ca;Ha.pin=Db(ya);Aa=Sb(JSON.stringify(Ha),Lb);}catch(Na){throw new yb(V.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Na);}Ga.sign(Aa,{result:function(Na){ja(Aa,Na);},error:Oa.error});},va);}function ja(ya,Ha){Ka(Oa,function(){Object.defineProperties(this,{_userIdToken:{value:W,writable:!1,enumerable:!1,configurable:!1},_action:{value:aa,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ca,writable:!1,enumerable:!1,configurable:!1},_pin:{value:la,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:ya,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ha,writable:!1,enumerable:!1,configurable:!1}});return this;},va);}va=this;Ka(Oa,function(){Ca?ja(Ca.encoding,Ca.signature):Ga.encrypt(Sb(la,Lb),{result:function(ya){Ra(ya);},error:Oa.error});},va);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof qa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin && this._userIdToken.equals(W._userIdToken):!1;}});pe.ACTION="userauth";na=function(W,aa,ca,la,Ga){function Ca(Ra){Ka(Ga,function(){var ja,va,ya,Ha,Aa,Na;ja=Tb(ca,Lb);try{va=JSON.parse(ja);ya=va.useridtoken;Ha=va.action;Aa=va.nonce;Na=va.pin;}catch(Da){if(Da instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + ja,Da);throw Da;}if(!(ya && "object" === typeof ya && Ha && "string" === typeof Ha && Aa && "number" === typeof Aa && Na) || "string" !== typeof Na)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + ja);Uc(W,ya,aa,{result:function(Da){Ka(Ga,function(){if(!Da.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ja);Oa(Ra,Da,Ha,Aa,Na);});},error:function(Da){Ka(Ga,function(){if(Da instanceof cb)throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ja,Da);throw Da;});}});});}function Oa(Ra,ja,va,ya,Ha){Ka(Ga,function(){var Aa;Aa=Fb(Ha);Ra.decrypt(Aa,{result:function(Na){Ka(Ga,function(){var Da;Da=Tb(Na,Lb);new qa(ja,va,ya,Da,null,{encoding:ca,signature:la},Ga);});},error:Ga.error});});}Ka(Ga,function(){var Ra,ja;try{Ra=W.getMslStore().getCryptoContext(aa);ja=Ra?Ra:new jc(W,aa);}catch(va){if(va instanceof Rc)throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(ca));throw va;}ja.verify(ca,la,{result:function(va){Ka(Ga,function(){if(!va)throw new tb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ca));Ca(ja);});},error:Ga.error});});};ra={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ba=od=Y.extend({init:function(W,aa,ca,la){var Ga,Ca;Ga=ba("action",ha(W));Ca=ba("nonce",aa.toString());ca=ba("pin",ca);Ga=ba("registerdata",Ga + Ca + ca);Ga=Sb(Ga,"utf-8");Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof Ba?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});od.ACTION="regpairrequest";ta=qe=Y.extend({init:function(W,aa,ca,la,Ga,Ca){var ja;function Oa(va){Ka(Ca,function(){var ya,Ha,Aa,Na,Da;ya=Db(va);Ha=ba("action",ha(W));Aa=ba("nonce",aa.toString());Na=ba("pin",ya);Ha=ba("registerdata",Ha + Aa + Na);Da=Sb(Ha,"utf-8");ya="action=" + ea(W) + "&nonce=" + ea(aa.toString()) + "&pin=" + ea(ya);la.sign(Sb(ya,"utf-8"),{result:function(Ua){Ra(Da,Ua);},error:Ca.error});},ja);}function Ra(va,ya){Ka(Ca,function(){Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ca,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:va,writable:!1,enumerable:!1,configurable:!1},_signature:{value:ya,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);}ja=this;Ka(Ca,function(){Ga?Ra(Ga.encoding,Ga.signature):la.encrypt(Sb(ca,"utf-8"),{result:function(va){Oa(va);},error:Ca.error});},ja);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof ta?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});qe.ACTION=od.ACTION;oa=function(W,aa,ca,la,Ga){Ka(Ga,function(){var Ca,Oa,Ra,ja,va,ya,Ha;Ca=W.getMslStore().getCryptoContext(aa);Oa=Ca?Ca:new jc(W,aa);Ca=Tb(ca,"utf-8");Ra=new DOMParser().parseFromString(Ca,"application/xml");Ca=Ra.getElementsByTagName("action");ja=Ra.getElementsByTagName("nonce");Ra=Ra.getElementsByTagName("pin");va=Ca && 1 == Ca.length && Ca[0].firstChild?Ca[0].firstChild.nodeValue:null;ya=ja && 1 == ja.length && ja[0].firstChild?parseInt(ja[0].firstChild.nodeValue):null;Ha=Ra && 1 == Ra.length && Ra[0].firstChild?Ra[0].firstChild.nodeValue:null;if(!va || !ya || !Ha)throw new yb(V.XML_PARSE_ERROR,"MDX authdata " + Db(ca));Ca="action=" + ea(va) + "&nonce=" + ea(ya.toString()) + "&pin=" + ea(Ha);Oa.verify(Sb(Ca,"utf-8"),la,{result:function(Aa){Ka(Ga,function(){var Na;if(!Aa)throw new tb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(ca));Na=Fb(Ha);Oa.decrypt(Na,{result:function(Da){Ka(Ga,function(){var Ua;Ua=Tb(Da,"utf-8");new ta(va,ya,Ua,null,{encoding:ca,signature:la},Ga);});},error:Ga.error});});},error:Ga.error});});};dd=Hc.extend({init:function Ra(aa,ca,la,Ga,Ca,Oa){var ja,va,ya,Ha,Aa,Na;Ra.base.call(this,$b.MDX);ja=null;va=null;ya=null;if("string" === typeof la)(aa=U.MSL_LEGACY,ya=la);else if(la instanceof Uint8Array)(aa=U.NTBA,va=la);else if(la instanceof ic)(aa=U.MSL,ja=la);else throw new TypeError("Controller token " + la + " is not a master token, encrypted CTicket, or MSL token construct.");Ha=la=null;Aa=null;if(Oa){Na=Oa.controllerAuthData;la=Na.getAction();Ha=Na.getPin();Oa=Oa.userIdToken;Na instanceof qa?Aa=Na.getUserIdToken().customer:Oa && (Aa=Oa.customer);}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},action:{value:la,writable:!1,configurable:!1},targetPin:{value:ca,writable:!1,configurable:!1},controllerPin:{value:Ha,writable:!1,configurable:!1},customer:{value:Aa,writable:!1,configurable:!1},_masterToken:{value:ja,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:va,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:ya,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var aa,ca;aa={};switch(this.mechanism){case U.MSL:ca=JSON.parse(JSON.stringify(this._masterToken));aa.mastertoken=ca;break;case U.NTBA:ca=Tb(this._encryptedCTicket,"utf-8");aa.cticket=ca;break;case U.MSL_LEGACY:aa.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}aa.pin=this.targetPin;aa.mdxauthdata=Db(this._controllerEncoding);aa.signature=Db(this._signature);return aa;},equals:function la(ca){return this === ca?!0:ca instanceof dd?la.base.call(this,ca) && (this._masterToken == ca._masterToken || this._masterToken && this._masterToken.equals(ca._masterToken)) && (this._encryptedCTicket == ca._encryptedCTicket || this._encryptedCTicket && Xb(this._encryptedCTicket,ca._encryptedCTicket)) && this._mslTokens == ca._mslTokens && Xb(this._controllerEncoding,ca._controllerEncoding) && Xb(this._signature,ca._signature):!1;}});tf=function(ca,la,Ga){function Ca(ja,va,ya,Ha){Tc(ca,va,{result:function(Aa){Ka(Ga,function(){if(!Aa.isDecrypted())throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + la.toString());na(ca,Aa,ya,Ha,{result:function(Na){Ka(Ga,function(){var Da,Ua;Da=Na.getEncoding();Ua=Na.getSignature();return new dd(ca,ja,Aa,Da,Ua,{controllerAuthData:Na,userIdToken:null});});},error:Ga.error});});},error:function(Aa){Ka(Ga,function(){if(Aa instanceof cb)throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),Aa);throw Aa;});}});}function Oa(ja,va,ya,Ha){Ka(Ga,function(){throw new Gb(V.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ra(ja,va,ya,Ha){function Aa(Da,Ua){Ka(Ua,function(){var $a,Wa;try{$a=Fb(Da);}catch(ib){throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),ib);}if(!$a || 0 == $a.length)throw new Gb(V.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(la));try{Wa=JSON.parse(Tb($a,"utf-8"));Tc(ca,Wa,{result:function(ib){Ka(Ua,function(){if(!ib.isDecrypted())throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + la.toString());return ib;});},error:function(ib){Ka(Ua,function(){if(ib instanceof cb)throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),ib);throw ib;});}});}catch(ib){if(ib instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la),ib);throw ib;}});}function Na(Da,Ua,$a){Ka($a,function(){var Wa,ib;try{Wa=Fb(Da);}catch(lb){throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),lb);}if(!Wa || 0 == Wa.length)throw new Gb(V.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(la));try{ib=JSON.parse(Tb(Wa,"utf-8"));Uc(ca,ib,Ua,{result:function(lb){Ka($a,function(){if(!lb.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(la));return lb;});},error:function(lb){Ka($a,function(){if(lb instanceof cb)throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),lb);throw lb;});}});}catch(lb){if(lb instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la),lb);throw lb;}});}Ka(Ga,function(){var Da;Da=va.split(",");if(3 != Da.length || "1" != Da[0])throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(la));Aa(Da[1],{result:function(Ua){Na(Da[2],Ua,{result:function($a){oa(ca,Ua,ya,Ha,{result:function(Wa){Ka(Ga,function(){return new dd(ca,ja,va,ya,Ha,{controllerAuthData:Wa,userIdToken:$a});});},error:function(Wa){Ka(Ga,function(){if(Wa instanceof Rc)throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(la),Wa);throw Wa;});}});},error:Ga.error});},error:Ga.error});});}Ka(Ga,function(){var ja,va,ya,Ha,Aa;ja=la.pin;va=la.mdxauthdata;ya=la.signature;if(!ja || "string" !== typeof ja || !va || "string" !== typeof va || !ya || "string" !== typeof ya)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la));try{Ha=Fb(va);Aa=Fb(ya);}catch(Na){throw new Gb(V.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(la),Na);}if(la.mastertoken){va=la.mastertoken;if(!va || "object" !== typeof va)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la));Ca(ja,va,Ha,Aa);}else if(la.cticket){va=la.cticket;if(!va || "string" !== typeof va)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la));-1 == va.indexOf(",")?Oa(ja,va,Ha,Aa):Ra(ja,va,Ha,Aa);}else throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(la));});};})();(function(){var ba,ha,ea;ba=pe.ACTION;ha=od.ACTION;ea=qe.ACTION;uf=md.extend({init:function Y(){Y.base.call(this,$b.MDX);},createData:function(Y,qa,na,ra){tf(Y,na,ra);},authenticate:function(Y,qa,na,ra){if(!(na instanceof dd))throw new vb("Incorrect authentication data type " + na.getClass().getName() + ".");Y=na.action;switch(na.mechanism){case Ld.MSL:if(ba != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Ld.NTBA:if(ha != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Ld.MSL_LEGACY:if(ea != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);}Y=na.controllerPin;qa=na.targetPin;if(!Y || !qa)throw new Gb(V.MDX_PIN_BLANK).setUser(na);if(Y != qa)throw new Gb(V.MDX_PIN_MISMATCH).setUser(na);Y=na.customer;if(!Y)throw new Gb(V.MDX_USER_UNKNOWN).setUser(na);if(ra && (ra=ra.customer,!Y.equals(ra)))throw new Gb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Y + "; uit customer " + ra).setUser(na);return Y;}});})();(function(){var ba,ha,ea;ba={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ha=wf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{email:{value:U,writable:!1,enumerable:!0,configurable:!1},password:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});ea=xf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{netflixId:{value:U,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});pd=Hc.extend({init:function Ba(Y,qa,na,ra){var ta,oa,W,aa;Ba.base.call(this,$b.SSO);ta=null;oa=null;W=null;aa=null;na instanceof ha?(ta=na.email,oa=na.password):na instanceof ea && (W=na.netflixId,aa=na.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},token:{value:qa,writable:!1,configurable:!1},email:{value:ta,writable:!1,configurable:!1},password:{value:oa,writable:!1,configurable:!1},netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof ra?null:ra,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.mechanism=this.mechanism;Y.token=Db(this.token);this.email && this.password?(Y.email=this.email,Y.password=this.password):this.netflixId && this.secureNetflixId && (Y.netflixid=this.netflixId,Y.securenetflixid=this.secureNetflixId);this.profileGuid && (Y.profileguid=this.profileGuid);return Y;},equals:function na(qa){return this === qa?!0:qa instanceof pd?na.base.call(this,qa) && this.mechanism == qa.mechanism && Xb(this.token,qa.token) && this.email == qa.email && this.password == qa.password && this.netflixId == qa.netflixId && this.secureNetflixId == qa.secureNetflixId && this.profileGuid == qa.profileGuid:!1;}});vf=function(qa){var na,ra,Ba,ta,oa,W,aa,ca,la;na=qa.mechanism;ra=qa.token;if(!na || !ra || "string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(qa));if(!ba[na])throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(qa));Ba=qa.email;ta=qa.password;oa=qa.netflixid;W=qa.securenetflixid;aa=qa.profileguid;if(Ba && !ta || !Ba && ta || oa && !W || !oa && W || Ba && oa)throw new yb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(qa));try{ca=Fb(ra);}catch(Ga){throw new Gb(V.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(qa),Ga);}Ba && ta?la=new ha(Ba,ta):oa && W && (la=new ea(oa,W));return new pd(na,ca,la,aa);};})();Wf=md.extend({init:function ha(){ha.base.call(this,$b.SSO);},createData:function(ha,ea,U,Y){Ka(Y,function(){return vf(U);});},authenticate:function(ha,ea,U,Y){var qa,na;if(!(U instanceof pd))throw new vb("Incorrect authentication data type " + U + ".");ha=U.token;ea=U.email;Y=U.password;qa=U.netflixId;na=U.secureNetflixId;if(!ha || 0 == ha.length)throw new Gb(V.SSOTOKEN_BLANK);if(!(null === ea && null === Y || ea && Y))throw new Gb(V.EMAILPASSWORD_BLANK);if(!(null === qa && null === na || qa && na))throw new Gb(V.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){qd=Hc.extend({init:function Y(ea,U){Y.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:ea,writable:!1,configurable:!1},profileGuid:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var ea;ea={};ea.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));ea.profileguid=this.profileGuid;return ea;},equals:function Y(U){return this == U?!0:U instanceof qd?Y.base.call(this,U) && this.userIdToken.equals(U.userIdToken) && this.profileGuid == U.profileGuid:!1;}});yf=function(U,Y,qa,na){Ka(na,function(){var ra,Ba;if(!Y)throw new Gb(V.USERAUTH_MASTERTOKEN_MISSING);ra=qa.useridtoken;Ba=qa.profileguid;if("object" !== typeof ra || "string" !== typeof Ba)throw new yb(V.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(qa));Uc(U,ra,Y,{result:function(ta){Ka(na,function(){if(!ta.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(qa));return new qd(ta,Ba);});},error:function(ta){na.error(new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(qa),ta));}});});};})();Xf=md.extend({init:function U(ea){U.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:ea,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ea,U,Y,qa){yf(ea,U,Y,qa);},authenticate:function(ea,U,Y,qa){if(!(Y instanceof qd))throw new vb("Incorrect authentication data type " + Y + ".");U=Y.userIdToken;ea=Y.profileGuid;if(!ea)throw new Gb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Y);U=U.user;if(!U)throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Y);ea=this._store.switchUsers(U,ea);if(!ea)throw new Gb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Y);if(qa && (qa=qa.user,!ea.equals(qa)))throw new Gb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + ea + "; uit user " + qa).setUserAuthenticationData(Y);return ea;}});Object.freeze({ENTITY_REAUTH:Ja.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ja.ENTITYDATA_REAUTH});Yf=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(ea,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(ea){},getUserAuthenticationFactory:function(ea){},getTokenFactory:function(){},getKeyExchangeFactory:function(ea){},getKeyExchangeFactories:function(){},getMslStore:function(){}});zf=Bb.Class.create({setCryptoContext:function(ea,U){},getMasterToken:function(){},getNonReplayableId:function(ea){},getCryptoContext:function(ea){},removeCryptoContext:function(ea){},clearCryptoContexts:function(){},addUserIdToken:function(ea,U){},getUserIdToken:function(ea){},removeUserIdToken:function(ea){},clearUserIdTokens:function(){},addServiceTokens:function(ea){},getServiceTokens:function(ea,U){},removeServiceTokens:function(ea,U,Y){},clearServiceTokens:function(){}});(function(){var ea;ea=Pc;ne=function(U,Y){var qa;qa={};switch(U){case ea.LZW:return Be(Y,qa);case ea.GZIP:return gzip$compress(Y);default:throw new cb(V.UNSUPPORTED_COMPRESSION,U);}};Id=function(U,Y,qa){switch(U){case ea.LZW:return Ce(Y);case ea.GZIP:return gzip$uncompress(Y);default:throw new cb(V.UNSUPPORTED_COMPRESSION,U.name());}};})();zf.extend({setCryptoContext:function(ea,U){},getMasterToken:function(){return null;},getNonReplayableId:function(ea){return 1;},getCryptoContext:function(ea){return null;},removeCryptoContext:function(ea){},clearCryptoContexts:function(){},addUserIdToken:function(ea,U){},getUserIdToken:function(ea){return null;},removeUserIdToken:function(ea){},clearUserIdTokens:function(){},addServiceTokens:function(ea){},getServiceTokens:function(ea,U){if(U){if(!ea)throw new cb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(ea))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + ea.serialNumber);}return [];},removeServiceTokens:function(ea,U,Y){if(Y && U && !Y.isBoundTo(U))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){Af=zf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,Y){var qa;if(Y){qa=U.uniqueKey();this.masterTokens[qa]=U;this.cryptoContexts[qa]=Y;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,Y,qa;U=null;for(Y in this.masterTokens){qa=this.masterTokens[Y];if(!U || qa.isNewerThan(U))U=qa;}return U;},getNonReplayableId:function(U){var Y;U=U.serialNumber;Y=this.nonReplayableIds[U] !== Ab?this.nonReplayableIds[U]:0;if(0 > Y || Y > Mb)throw new vb("Non-replayable ID " + Y + " is outside the valid range.");Y=Y == Mb?0:Y + 1;return this.nonReplayableIds[U]=Y;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var Y,qa,na,ra;Y=U.uniqueKey();if(this.masterTokens[Y]){qa=U.serialNumber;for(na in this.masterTokens){ra=this.masterTokens[na];if(!ra.equals(U) && ra.serialNumber == qa){delete this.masterTokens[Y];delete this.cryptoContexts[Y];return;}}Object.keys(this.userIdTokens).forEach(function(Ba){Ba=this.userIdTokens[Ba];Ba.isBoundTo(U) && this.removeUserIdToken(Ba);},this);try{this.removeServiceTokens(null,U,null);}catch(Ba){if(Ba instanceof cb)throw new vb("Unexpected exception while removing master token bound service tokens.",Ba);throw Ba;}delete this.nonReplayableIds[qa];delete this.masterTokens[Y];delete this.cryptoContexts[Y];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);},addUserIdToken:function(U,Y){var qa,na;qa=!1;for(na in this.masterTokens){if(Y.isBoundTo(this.masterTokens[na])){qa=!0;break;}}if(!qa)throw new cb(V.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Y.mtSerialNumber);this.userIdTokens[U]=Y;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var Y,qa,na;Y=null;for(qa in this.masterTokens){na=this.masterTokens[qa];if(U.isBoundTo(na)){Y=na;break;}}Object.keys(this.userIdTokens).forEach(function(ra){if(this.userIdTokens[ra].equals(U)){try{this.removeServiceTokens(null,Y,U);}catch(Ba){if(Ba instanceof cb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[ra];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(Y){var qa,na;if(Y.isMasterTokenBound()){qa=!1;for(na in this.masterTokens){if(Y.isBoundTo(this.masterTokens[na])){qa=!0;break;}}if(!qa)throw new cb(V.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Y.mtSerialNumber);}if(Y.isUserIdTokenBound()){qa=!1;for(var ra in this.userIdTokens){if(Y.isBoundTo(this.userIdTokens[ra])){qa=!0;break;}}if(!qa)throw new cb(V.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Y.uitSerialNumber);}},this);U.forEach(function(Y){var qa;if(Y.isUnbound())this.unboundServiceTokens[Y.uniqueKey()]=Y;else {if(Y.isMasterTokenBound()){qa=this.mtServiceTokens[Y.mtSerialNumber];qa || (qa={});qa[Y.uniqueKey()]=Y;this.mtServiceTokens[Y.mtSerialNumber]=qa;}Y.isUserIdTokenBound() && ((qa=this.uitServiceTokens[Y.uitSerialNumber]) || (qa={}),qa[Y.uniqueKey()]=Y,this.uitServiceTokens[Y.uitSerialNumber]=qa);}},this);},getServiceTokens:function(U,Y){var qa,na,ra;if(Y){if(!U)throw new cb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!Y.isBoundTo(U))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + U.serialNumber);}qa={};for(na in this.unboundServiceTokens){ra=this.unboundServiceTokens[na];qa[ra.uniqueKey()]=ra;}if(U && (na=this.mtServiceTokens[U.serialNumber]))for(var Ba in na){ra=na[Ba];ra.isUserIdTokenBound() || (qa[Ba]=ra);}if(Y && (Y=this.uitServiceTokens[Y.serialNumber]))for(var ta in Y){Ba=Y[ta];Ba.isBoundTo(U) && (qa[ta]=Ba);}U=[];for(var oa in qa){U.push(qa[oa]);}return U;},removeServiceTokens:function(U,Y,qa){var na,ra,Ba;if(qa && Y && !qa.isBoundTo(Y))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + qa.mtSerialNumber + "; mt " + Y.serialNumber);!U || Y || qa || Object.keys(this.unboundServiceTokens).forEach(function(ta){this.unboundServiceTokens[ta].name == U && delete this.unboundServiceTokens[ta];},this);if(Y && !qa && (na=this.mtServiceTokens[Y.serialNumber])){Ba=Object.keys(na);Ba.forEach(function(ta){var oa;oa=na[ta];U && oa.name != U || delete na[ta];},this);this.mtServiceTokens[Y.serialNumber]=na;}qa && (ra=this.uitServiceTokens[qa.serialNumber]) && (Y=Object.keys(ra),Y.forEach(function(ta){var oa;oa=ra[ta];U && oa.name != U || delete ra[ta];},this),this.uitServiceTokens[qa.serialNumber]=ra);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);}});})();Gf=Rf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,Y){Y && U && U.length && (U=Db(U),this._contextMap[U]=Y);},getCryptoContext:function(U){return U && U.length?(U=Db(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Db(U),delete this._contextMap[U]);}});Bf=Jf.extend({init:function Ba(Y,qa,na,ra){Ba.base.call(this,Y);Object.defineProperties(this,{_kde:{value:qa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:na,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Y,qa){if(!(qa instanceof nc))throw new vb("Incorrect authentication data type " + JSON.stringify(qa) + ".");if(qa.identity != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"mgk " + qa.identity);return new Bd(Y,this.localIdentity,this._kde,this._kdh,this._kdw);}});Zf=Kf.extend({init:function ta(qa,na,ra,Ba){ta.base.call(this,qa);Object.defineProperties(this,{_kpe:{value:na,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ra,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ba,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(qa,na){if(!(na instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.identity != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"psk " + na.identity);return new Bd(qa,this.localIdentity,this._kpe,this._kph,this._kpw);}});ag=Af.extend({init:function aa(na,ra,Ba,ta,oa,W){aa.base.call(this);this._log=na;this._esn=ra;this._keyRequestData=Ba;this._createKeyRequestData=ta;this._systemKeyName=oa;this._systemKeyWrapFormat=W;},setCryptoContext:function oa(ra,Ba,ta){var W;W=this;W._log.trace("Adding MasterToken",{SequenceNumber:ra.sequenceNumber,SerialNumber:ra.serialNumber,Expiration:ra.expiration.getTime()});oa.base.call(this,ra,Ba);!ta && (ra=W._createKeyRequestData) && (W._log.trace("Generating new keyx request data"),ra().then(function(aa){W._keyRequestData=aa;},function(aa){W._log.error("Unable to generate new keyx request data","" + aa);}));},addUserIdToken:function oa(Ba,ta){this._log.trace("Adding UserIdToken",{UserId:Ba,SerialNumber:ta.serialNumber,MTSerialNumber:ta.mtSerialNumber,Expiration:ta.expiration.getTime()});oa.base.call(this,Ba,ta);},addServiceTokens:function oa(ta){oa.base.call(this,ta.filter(function(W){return !$f[W.name];}));},getUserIdTokenKeys:function(){var ta,oa;ta=[];for(oa in this.userIdTokens){ta.push(oa);}return ta;},rekeyUserIdToken:function(ta,oa){this.userIdTokens[ta] && (this.userIdTokens[oa]=this.userIdTokens[ta],delete this.userIdTokens[ta]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ta){var oa;oa=this;Ka(ta,function(){var W;W=oa.getMasterToken();W?oa.getKeysForStore(W,{result:function(aa){Ka(ta,function(){var ca,la,Ga;ca=oa.userIdTokens;la=Object.keys(ca).map(function(Ca){var Oa;Oa=ca[Ca];return {userId:Ca,userIdTokenJSON:ca[Ca].toJSON(),serviceTokenJSONList:oa.getServiceTokens(W,Oa).map(Df)};});aa.esn=oa._esn;aa.masterTokenJSON=W.toJSON();aa.userList=la;Ga=oa._keyRequestData.storeData;Ga && Object.keys(Ga).forEach(function(Ca){aa[Ca]=Ga[Ca];});return aa;});},timeout:ta.timeout,error:ta.error}):ta.result(null);});},getKeysForStore:function(ta,oa){var W;W=this;Ka(oa,function(){var aa;aa=W.getCryptoContext(ta);aa={encryptionKey:aa.encryptionKey,hmacKey:aa.hmacKey};if(aa.encryptionKey && aa.hmacKey){if(W._systemKeyWrapFormat)W.wrapKeysWithSystemKey(aa,oa);else return aa;}else throw new cb(V.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ta,oa){var W;W=this;ve(this._systemKeyName,{result:function(aa){Ka(oa,function(){var ca,la,Ga,Ca;ca=ta.encryptionKey;la=ta.hmacKey;Ga=ca[ed];Ca=la[ed];if(Ga && Ca)return {wrappedEncryptionKey:Ga,wrappedHmacKey:Ca};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(W._systemKeyWrapFormat,ca,aa,aa.algorithm),Jb.wrapKey(W._systemKeyWrapFormat,la,aa,aa.algorithm)]);}).then(function(Oa){Ga=Db(Oa[0]);ca[ed]=Ga;Ca=Db(Oa[1]);la[ed]=Ca;oa.result({wrappedEncryptionKey:Ga,wrappedHmacKey:Ca});}).catch(function(Oa){oa.error(new cb(V.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Oa));});});},timeout:oa.timeout,error:oa.error});},unwrapKeysWithSystemKey:function(ta,oa){var W;W=this;ve(this._systemKeyName,{result:function(aa){Ka(oa,function(){var ca,la;ca=Fb(ta.wrappedEncryptionKey);la=Fb(ta.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(W._systemKeyWrapFormat,ca,aa,aa.algorithm,rc,!1,Ic),Jb.unwrapKey(W._systemKeyWrapFormat,la,aa,aa.algorithm,sc,!1,Sc)]);}).then(function(Ga){var Ca;Ca=Ga[0];Ga=Ga[1];Ca[ed]=ta.wrappedEncryptionKey;Ga[ed]=ta.wrappedHmacKey;oa.result({encryptionKey:Ca,hmacKey:Ga});}).catch(function(Ga){oa.error(new cb(V.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ga));});});},timeout:oa.timeout,error:oa.error});},loadStoreState:function(ta,oa,W,aa){var Ga,Ca;function ca(Oa,Ra){var ja;try{ja=W.userList.slice();}catch(va){}ja?(function ya(){var Ha;Ha=ja.shift();Ha?Uc(oa,Ha.userIdTokenJSON,Oa,{result:function(Aa){try{Ga.addUserIdToken(Ha.userId,Aa);la(Oa,Aa,Ha.serviceTokenJSONList,{result:ya,timeout:ya,error:ya});}catch(Na){ya();}},timeout:ya,error:ya}):Ra.result();})():Ra.result();}function la(Oa,Ra,ja,va){var ya,Ha;try{ya=ja.slice();}catch(Aa){}if(ya){Ha=Ga.getCryptoContext(Oa);(function Na(){var Da;Da=ya.shift();Da?Hd(oa,Da,Oa,Ra,Ha,{result:function(Ua){Ga.addServiceTokens([Ua]);Na();},timeout:function(){Na();},error:function(){Na();}}):va.result();})();}else va.result();}Ga=this;Ca=Ga._log;W.esn != Ga._esn?(Ca.error("Esn mismatch, starting fresh"),aa.error()):(function(Oa){var va,ya,Ha,Aa;function Ra(){var Na;if(!va && ya && Ha && Aa){va=!0;Na=new jc(oa,ya,ta.esn,{rawKey:Ha},{rawKey:Aa});Ga.setCryptoContext(ya,Na,!0);Oa.result(ya);}}function ja(Na,Da){Ca.error(Na,Da && "" + Da);va || (va=!0,Oa.error());}W.masterTokenJSON?(Tc(oa,W.masterTokenJSON,{result:function(Na){ya=Na;Ra();},timeout:function(){ja("Timeout parsing MasterToken");},error:function(Na){ja("Error parsing MasterToken",Na);}}),Ga._systemKeyWrapFormat?Ga.unwrapKeysWithSystemKey(W,{result:function(Na){Ha=Na.encryptionKey;Aa=Na.hmacKey;Ra();},timeout:function(){ja("Timeout unwrapping keys");},error:function(Na){ja("Error unwrapping keys",Na);}}):Promise.resolve().then(function(){return Jb.encrypt({name:rc.name,iv:new Uint8Array(16)},W.encryptionKey,new Uint8Array(1));}).then(function(Na){Ha=W.encryptionKey;}).catch(function(Na){ja("Error loading encryptionKey");}).then(function(){return Jb.sign(sc,W.hmacKey,new Uint8Array(1));}).then(function(Na){Aa=W.hmacKey;Ra();}).catch(function(Na){ja("Error loading hmacKey");})):ja("Persisted store is corrupt");})({result:function(Oa){ca(Oa,aa);},timeout:aa.timeout,error:aa.error});}});$f={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ed="$netflix$msl$wrapsys";bg=Yf.extend({init:function(ta,oa,W,aa,ca,la){var Ga,Ca;Ga=new kd([Pc.LZW]);Ca=new Mf();Ca.addPublicKey(oa,W);aa[Nb.RSA]=new Lf(Ca);oa={};oa[$b.EMAIL_PASSWORD]=new Vf();oa[$b.NETFLIXID]=new Uf();oa[$b.MDX]=new uf();oa[$b.SSO]=new Wf();oa[$b.SWITCH_PROFILE]=new Xf();ta={_mslCryptoContext:{value:new If(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ca,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:la,writable:!1,enumerable:!1,configurable:!1},_store:{value:ta,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ta);},getTime:function(){return Date.now();},getRandom:function(){return new Ge();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ta,oa){oa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ta){return this._entityAuthFactories[ta];},getUserAuthenticationFactory:function(ta){return this._userAuthFactories[ta];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ta){return this._keyExchangeFactories.filter(function(oa){return oa.scheme == ta;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});xe=of.extend({init:function(ta,oa,W,aa){this._log=ta;this._mslContext=oa;this._mslRequest=W;this._keyRequestData=aa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ta,oa,W,aa){var ca,la;ca=this._mslRequest;la=this._mslContext;Ka(aa,function(){var Ga,Ca;if(ta || !ca.shouldSendUserAuthData)return null;if(ca.token){ca.email?Ga=new wf(ca.email,ca.password):ca.netflixId && (Ga=new xf(ca.netflixId,ca.secureNetflixId));Ca="undefined" === typeof ca.profileGuid?null:ca.profileGuid;return new pd(ca.mechanism,Sb(ca.token),Ga,Ca);}return ca.email?new nd(ca.email,ca.password):ca.netflixId?new Xc(ca.netflixId,ca.secureNetflixId):ca.mdxControllerToken?(Ga=new od("regpairrequest",ca.mdxNonce,ca.mdxEncryptedPinB64,ca.mdxSignature).getEncoding(),new dd(la,ca.mdxPin,ca.mdxControllerToken,Ga,ca.mdxSignature)):ca.useNetflixUserAuthData?new Xc():ca.profileGuid?(Ga=ca.userId,Ga=la.getMslStore().userIdTokens[Ga],new qd(Ga,ca.profileGuid)):W && ca.sendUserAuthIfRequired?new Xc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ta){ta.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ta,oa,W){var aa,ca,la,Ga,Ca,Oa;aa=this._log;ca=(this._mslRequest.serviceTokens || []).slice();la=this._mslContext;oa=la.getMslStore();Ga=ta.builder.getMasterToken();Ca=this.getUserId();Oa=oa.getUserIdToken(Ca);(function ja(){var va;va=ca.shift();if(va)try{va instanceof Kc?(ta.addPrimaryServiceToken(va),ja()):Hd(la,va,Ga,Oa,null,{result:function(ya){try{ta.addPrimaryServiceToken(ya);}catch(Ha){aa.warn("Exception adding service token","" + Ha);}ja();},timeout:function(){aa.warn("Timeout parsing service token");ja();},error:function(ya){aa.warn("Error parsing service token","" + ya);ja();}});}catch(ya){aa.warn("Exception processing service token","" + ya);ja();}else W.result(!0);})();},write:function(ta,oa,W){var aa;aa=Sb(this._mslRequest.body);ta.write(aa,0,aa.length,oa,{result:function(ca){ca != aa.length?W.error(new Wb("Not all data was written to output.")):ta.flush(oa,{result:function(){W.result(!0);},timeout:function(){W.timeout();},error:function(la){W.error(la);}});},timeout:function(){W.timeout();},error:function(ca){W.error(ca);}});},getDebugContext:function(){this._dc || (this._dc=new cg(this._log,this._mslRequest));return this._dc;}});cg=Tf.extend({init:function(ta,oa){this._log=ta;this._mslRequest=oa;},sentHeader:function(ta){this._log.trace("Sent MSL header",we(this._mslRequest,ta),ta.serviceTokens && ta.serviceTokens.map(Ef).join("\n"));},receivedHeader:function(ta){var oa,W;oa=we(this._mslRequest,ta);W=ta.errorCode;W?this._log.warn("Received MSL error header",oa,{errorCode:W,errorMessage:ta.errorMessage,internalCode:ta.internalCode}):this._log.trace("Received MSL header",oa);}});Cf={PSK:function(ta){return Rd(ta,Nb.PSK,Zf,tc,he,Fd);},MGK:function(ta){return Rd(ta,Nb.MGK,Bf,nc,he,Fd);},MGK_WITH_FALLBACK:function(ta){var oa,W;switch(ta.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":oa="PSK";break;default:oa="MGK";}W=Cf[oa];if(!W)throw new cb(V.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + oa);return W(ta);},MGK_JWE:function(ta){return Rd(ta,Nb.MGK,Bf,nc,Re,ge);},JWK_RSA:function(ta){return Sd(ta,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(ta){return Sd(ta,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(ta){return Sd(ta,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(ta,oa){var W,aa,ca,la,Ga;W=ta.log;Ga=ta.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new cb(V.INTERNAL_EXCEPTION,"No WebCrypto");cc=Qb.generateKey({name:"AES-CBC",length:128},!0,Ic).then?wd.V2014_02:wd.LEGACY;Ga("mslisik");return Jb.importKey("spki",ta.serverIdentityKeyData,He,!1,["verify"]);}).then(function(Ca){return new Promise(function(Oa,Ra){Oc(Ca,{result:Oa,error:function(){Ra(new cb(V.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ca){aa=Ca;if(Ca=Cf[ta.authenticationType])return (Ga("mslcc"),Ca(ta));throw new cb(V.INTERNAL_EXCEPTION,"Invalid authenticationType: " + ta.authenticationType);}).then(function(Ca){var Oa;ca=new ag(W,ta.esn,Ca.keyRequestData,Ca.createKeyRequestData,ta.authenticationKeyNames.s,ta.systemKeyWrapFormat);la=new bg(ca,ta.serverIdentityId,aa,Ca.entityAuthFactories,Ca.entityAuthData,Ca.keyExchangeFactories);Oa=ta.storeState;if(Oa)return (Ga("mslss"),W.info("Loading store state"),new Promise(function(Ra,ja){ca.loadStoreState(ta,la,Oa,{result:Ra,timeout:Ra,error:Ra});}));W.info("No store state, starting fresh");}).then(function(){var Ca;Ca=new pf();Ga("msldone");oa.result(new Ff(W,Ca,la,ca,ta.ErrorSubCodes));}).catch(function(Ca){oa.error(Ca);});},IHttpLocation:Pf,MslIoException:Wb};(function(){var $a,Wa,ib,lb,pb,rb,sb,zb,xb;function ta(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function oa(r,b){var a,f;if(b)a:{a=Wa;r=r.split(".");for(var c=0;c < r.length - 1;c++){f=r[c];if(!((f in a)))break a;a=a[f];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && $a(a,r,{configurable:!0,writable:!0,value:b});}}function W(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function aa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:ta(r)};}function ca(r){if(!(r instanceof Array)){r=aa(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function la(r,b){var c;r.prototype=ib(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Lac=b.prototype;}function Ga(){this.SV=!1;this.hE=null;this.Qxa=void 0;this.xH=1;this.nVa=this.Ssb=0;this.ZS=null;}function Ca(r){if(r.SV)throw new TypeError("Generator is already running");r.SV=!0;}function Oa(r){this.zf=new Ga();this.xSb=r;}function Ra(r,b){var a;Ca(r.zf);a=r.zf.hE;if(a)return ja(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.zf.return);r.zf.return(b);return va(r);}function ja(r,b,a,c){var f,l;try{f=b.call(r.zf.hE,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (r.zf.SV=!1,f);l=f.value;}catch(m){return (r.zf.hE=null,r.zf.UY(m),va(r));}r.zf.hE=null;c.call(r.zf,l);return va(r);}function va(r){var b;for(;r.zf.xH;){try{b=r.xSb(r.zf);if(b)return (r.zf.SV=!1,{value:b.value,done:!1});}catch(a){r.zf.Qxa=void 0;r.zf.UY(a);}}r.zf.SV=!1;if(r.zf.ZS){b=r.zf.ZS;r.zf.ZS=null;if(b.kJb)throw b.fM;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function ya(r){this.next=function(b){return r.NW(b);};this.throw=function(b){return r.UY(b);};this.return=function(b){return Ra(r,b);};this[Symbol.iterator]=function(){return this;};}function Ha(r,b){b=new ya(new Oa(b));zb && r.prototype && zb(b,r.prototype);return b;}function Aa(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Na(r,b){var a,c,f;r instanceof String && (r+="");a=0;c=!1;f={next:function(){var l;if(!c && a < r.length){l=a++;return {value:b(l,r[l]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Da(r,b,a){var l;r instanceof String && (r=String(r));for(var c=r.length,f=0;f < c;f++){l=r[f];if(b.call(a,l,f,r))return {yoa:f,cE:l};}return {yoa:-1,cE:void 0};}function Ua(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}$a="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Wa=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);oa("Symbol",function(r){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,l){this.$ab=f;$a(this,"description",{configurable:!0,writable:!0,value:l});}if(r)return r;a.prototype.toString=function(){return this.$ab;};c=0;return b;});oa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Wa[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && $a(c.prototype,r,{configurable:!0,writable:!0,value:function(){return W(ta(this));}});}return r;});ib="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=ib(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)pb=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;pb=sb.a;break a;}catch(r){}pb=!1;}pb=pb?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=pb;Ga.prototype.NW=function(r){this.Qxa=r;};Ga.prototype.UY=function(r){this.ZS={fM:r,kJb:!0};this.xH=this.Ssb || this.nVa;};Ga.prototype.return=function(r){this.ZS={return:r};this.xH=this.nVa;};Oa.prototype.NW=function(r){Ca(this.zf);if(this.zf.hE)return ja(this,this.zf.hE.next,r,this.zf.NW);this.zf.NW(r);return va(this);};Oa.prototype.UY=function(r){Ca(this.zf);if(this.zf.hE)return ja(this,this.zf.hE["throw"],r,this.zf.NW);this.zf.UY(r);return va(this);};oa("Reflect",function(r){return r?r:{};});oa("Reflect.construct",function(){return lb;});oa("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});oa("Object.setPrototypeOf",function(r){return r || zb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Aa(c,f) && (r[f]=c[f]);}}return r;};oa("Object.assign",function(r){return r || xb;});oa("Promise",function(r){var f,l;function b(m){var d;this.bP=0;this.eY=void 0;this.ON=[];this.B_a=!1;d=this.aka();try{m(d.resolve,d.reject);}catch(g){d.reject(g);}}function a(){this.hC=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.WPa=function(m){var d;if(null == this.hC){this.hC=[];d=this;this.XPa(function(){d.ZAb();});}this.hC.push(m);};f=Wa.setTimeout;a.prototype.XPa=function(m){f(m,0);};a.prototype.ZAb=function(){var m,g;for(;this.hC && this.hC.length;){m=this.hC;this.hC=[];for(var d=0;d < m.length;++d){g=m[d];m[d]=null;try{g();}catch(h){this.Gqb(h);}}}this.hC=null;};a.prototype.Gqb=function(m){this.XPa(function(){throw m;});};b.prototype.aka=function(){var d,g;function m(h){return function(k){g || (g=!0,h.call(d,k));};}d=this;g=!1;return {resolve:m(this.CUb),reject:m(this.cua)};};b.prototype.CUb=function(m){var d;if(m === this)this.cua(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.AWb(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.BUb(m):this.XVa(m);}};b.prototype.BUb=function(m){var d;d=void 0;try{d=m.then;}catch(g){this.cua(g);return;}"function" == typeof d?this.BWb(d,m):this.XVa(m);};b.prototype.cua=function(m){this.$7a(2,m);};b.prototype.XVa=function(m){this.$7a(1,m);};b.prototype.$7a=function(m,d){if(0 != this.bP)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.bP);this.bP=m;this.eY=d;2 === this.bP && this.eVb();this.$Ab();};b.prototype.eVb=function(){var m;m=this;f(function(){var d;if(m.uOb()){d=Wa.console;"undefined" !== typeof d && d.error(m.eY);}},1);};b.prototype.uOb=function(){var m,d,g;if(this.B_a)return !1;m=Wa.CustomEvent;d=Wa.Event;g=Wa.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Wa.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.eY;return g(m);};b.prototype.$Ab=function(){if(null != this.ON){for(var m=0;m < this.ON.length;++m){l.WPa(this.ON[m]);}this.ON=null;}};l=new a();b.prototype.AWb=function(m){var d;d=this.aka();m.m3(d.resolve,d.reject);};b.prototype.BWb=function(m,d){var g;g=this.aka();try{m.call(d,g.resolve,g.reject);}catch(h){g.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function g(p,q){return "function" == typeof p?function(v){try{h(p(v));}catch(u){k(u);}}:q;}n=new b(function(p,q){h=p;k=q;});this.m3(g(m,h),g(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.m3=function(m,d){var h;function g(){switch(h.bP){case 1:m(h.eY);break;case 2:d(h.eY);break;default:throw Error("Unexpected state: " + h.bP);}}h=this;null == this.ON?l.WPa(g):this.ON.push(g);this.B_a=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,g){g(m);});};b.race=function(m){return new b(function(d,g){for(var h=aa(m),k=h.next();!k.done;k=h.next()){c(k.value).m3(d,g);}});};b.all=function(m){var d,g;d=aa(m);g=d.next();return g.done?c([]):new b(function(h,k){var p,q;function n(v){return function(u){p[v]=u;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(g.value).m3(n(p.length - 1),k);g=d.next();}while(!g.done);});};return b;});oa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push([c,b[c]]);}return a;};});oa("Array.prototype.keys",function(r){return r?r:function(){return Na(this,function(b){return b;});};});oa("Array.prototype.find",function(r){return r?r:function(b,a){return Da(this,b,a).cE;};});oa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});oa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,f,l;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){l=c[a];if(l === b || Object.is(l,b))return !0;}return !1;};});oa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Ua(this,b,"includes").indexOf(b,a || 0);};});oa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});oa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});oa("Array.prototype.entries",function(r){return r?r:function(){return Na(this,function(b,a){return [b,a];});};});oa("WeakMap",function(r){var m,d;function b(g){this.EV=(d+=Math.random() + 1).toString();if(g){g=aa(g);for(var h;!(h=g.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(g){var h;h=typeof g;return "object" === h && null !== g || "function" === h;}function f(g){var h;if(!Aa(g,m)){h=new a();$a(g,m,{value:h});}}function l(g){var h;h=Object[g];h && (Object[g]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && f(k);return h(k);});}if((function(){var g,h,k;if(!r || !Object.seal)return !1;try{g=Object.seal({});h=Object.seal({});k=new r([[g,2],[h,3]]);if(2 != k.get(g) || 3 != k.get(h))return !1;k.delete(g);k.set(h,4);return !k.has(g) && 4 == k.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();l("freeze");l("preventExtensions");l("seal");d=0;b.prototype.set=function(g,h){if(!c(g))throw Error("Invalid WeakMap key");f(g);if(!Aa(g,m))throw Error("WeakMap key fail: " + g);g[m][this.EV]=h;return this;};b.prototype.get=function(g){return c(g) && Aa(g,m)?g[m][this.EV]:void 0;};b.prototype.has=function(g){return c(g) && Aa(g,m) && Aa(g[m],this.EV);};b.prototype.delete=function(g){return c(g) && Aa(g,m) && Aa(g[m],this.EV)?delete g[m][this.EV]:!1;};return b;});oa("Map",function(r){var l,m;function b(){var d;d={};return d.mA=d.next=d.head=d;}function a(d,g){var h;h=d.qz;return W(function(){if(h){for(;h.head != d.qz;){h=h.mA;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:g(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,g){var h,k,n;h=g && typeof g;"object" == h || "function" == h?l.has(g)?h=l.get(g):(h="" + ++m,l.set(g,h)):h="p_" + g;k=d.Jy[h];if(k && Aa(d.Jy,h))for(d=0;d < k.length;d++){n=k[d];if(g !== g && n.key !== n.key || g === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function f(d){this.Jy={};this.qz=b();this.size=0;if(d){d=aa(d);for(var g;!(g=d.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var d,g,h,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});g=new r(aa([[d,"s"]]));if("s" != g.get(d) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;h=g.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;l=new WeakMap();f.prototype.set=function(d,g){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.Jy[h.id]=[]);h.entry?h.entry.value=g:(h.entry={next:this.qz,mA:this.qz.mA,head:this.qz,key:d,value:g},h.list.push(h.entry),this.qz.mA.next=h.entry,this.qz.mA=h.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Jy[d.id],d.entry.mA.next=d.entry.next,d.entry.next.mA=d.entry.mA,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.Jy={};this.qz=this.qz.mA=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,g){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(g,k[1],k[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;m=0;return f;});oa("Set",function(r){function b(a){this.nw=new Map();if(a){a=aa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.nw.size;}if((function(){var a,c,f,l;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(aa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();l=f.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=f.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:f.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.nw.set(a,a);this.size=this.nw.size;return this;};b.prototype.delete=function(a){a=this.nw.delete(a);this.size=this.nw.size;return a;};b.prototype.clear=function(){this.nw.clear();this.size=0;};b.prototype.has=function(a){return this.nw.has(a);};b.prototype.entries=function(){return this.nw.entries();};b.prototype.values=function(){return this.nw.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.nw.forEach(function(l){return a.call(c,l,l,f);});};return b;});oa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Ua(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});oa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Ua(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});oa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});oa("Array.prototype.values",function(r){return r?r:function(){return Na(this,function(b,a){return a;});};});oa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Aa(b,c) && a.push(b[c]);}return a;};});oa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,f,l;c=Ua(this,b,"startsWith");b+="";f=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < f;){if(c[a++] != b[m++])return !1;}return m >= l;};});oa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Da(this,b,a).yoa;};});oa("String.fromCodePoint",function(r){return r?r:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});oa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={yoa:c,qKb:!1,exports:{}};r[c].call(f.exports,f,f.exports,b);f.qKb=!0;return f.exports;}a={};b.E9b=r;b.c=a;b.d=function(c,f,l){b.EOb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:l});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var l;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var m in c){b.d(l,m,(function(d){return c[d];}).bind(null,m));}return l;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.EOb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.UUb=549);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(43);b.e4b=r;r=a(552);b.a_=r.a_;r=a(75);b.Gs=r.Gs;b.zj=r.zj;b.Gx=r.Gx;r=a(568);b.Aya=r.Aya;b.od=r.od;r=a(569);b.R=r.R;r=a(570);b.p9a=r.p9a;r=a(571);b.z2a=r.z2a;r=a(308);b.l=r.l;b.Aca=r.Aca;r=a(572);b.optional=r.optional;r=a(573);b.el=r.el;r=a(574);b.uH=r.uH;r=a(575);b.SY=r.SY;r=a(576);b.M4a=r.M4a;r=a(306);b.Xca=r.Xca;r=a(108);b.id=r.id;r=a(93);b.Dr=r.Dr;r=a(311);b.i$a=r.i$a;b.q9a=r.q9a;b.A2a=r.A2a;b.p$a=r.p$a;r=a(133);b.IM=r.IM;a=a(577);b.v2a=a.v2a;},function(r,b,a){var G,J;function c(){c=Object.assign || (function(K){for(var H,L=1,R=arguments.length;L < R;L++){H=arguments[L];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (K[I]=H[I]);}}return K;});return c.apply(this,arguments);}function f(K,H){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,R){L.__proto__=R;}) || (function(L,R){for(var I in R){Object.prototype.hasOwnProperty.call(R,I) && (L[I]=R[I]);}});return f(K,H);}function l(K,H){function L(){this.constructor=K;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");f(K,H);K.prototype=null === H?Object.create(H):(L.prototype=H.prototype,new L());}function m(K,H){var L,R,I;L={};for(R in K){Object.prototype.hasOwnProperty.call(K,R) && 0 > H.indexOf(R) && (L[R]=K[R]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){I=0;for(R=Object.getOwnPropertySymbols(K);I < R.length;I++){0 > H.indexOf(R[I]) && Object.prototype.propertyIsEnumerable.call(K,R[I]) && (L[R[I]]=K[R[I]]);}}return L;}function d(K,H,L,R){var I,P,N;I=arguments.length;P=3 > I?H:null === R?R=Object.getOwnPropertyDescriptor(H,L):R;if("object" === typeof Reflect && "function" === typeof Reflect.Dr)P=Reflect.Dr(K,H,L,R);else for(var M=K.length - 1;0 <= M;M--){if(N=K[M])P=(3 > I?N(P):3 < I?N(H,L,P):N(H,L)) || P;}return (3 < I && P && Object.defineProperty(H,L,P),P);}function g(K,H){return function(L,R){H(L,R,K);};}function h(K,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(K,H);}function k(K,H,L,R){function I(P){return P instanceof L?P:new L(function(N){N(P);});}return new (L || (L=Promise))(function(P,N){function M(da){try{T(R.next(da));}catch(pa){N(pa);}}function Q(da){try{T(R["throw"](da));}catch(pa){N(pa);}}function T(da){da.done?P(da.value):I(da.value).then(M,Q);}T((R=R.apply(K,H || [])).next());});}function n(K,H){var I,P,N,M,Q;function L(T){return function(da){return R([T,da]);};}function R(T){if(P)throw new TypeError("Generator is already executing.");for(;I;){try{if((P=1,N && (M=T[0] & 2?N["return"]:T[0]?N["throw"] || ((M=N["return"]) && M.call(N),0):N.next) && !(M=M.call(N,T[1])).done))return M;if((N=0,M))T=[T[0] & 2,M.value];switch(T[0]){case 0:case 1:M=T;break;case 4:return (I.label++,{value:T[1],done:!1});case 5:I.label++;N=T[1];T=[0];continue;case 7:T=I.zn.pop();I.Kn.pop();continue;default:if(!(M=I.Kn,M=0 < M.length && M[M.length - 1]) && (6 === T[0] || 2 === T[0])){I=0;continue;}if(3 === T[0] && (!M || T[1] > M[0] && T[1] < M[3]))I.label=T[1];else if(6 === T[0] && I.label < M[1])(I.label=M[1],M=T);else if(M && I.label < M[2])(I.label=M[2],I.zn.push(T));else {M[2] && I.zn.pop();I.Kn.pop();continue;}}T=H.call(K,I);}catch(da){T=[6,da];N=0;}finally{P=M=0;}}if(T[0] & 5)throw T[1];return {value:T[0]?T[1]:void 0,done:!0};}I={label:0,kd:function(){if(M[0] & 1)throw M[1];return M[1];},Kn:[],zn:[]};return (Q={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (Q[Symbol.iterator]=function(){return this;}),Q);}function p(K,H){for(var L in K){"default" === L || Object.prototype.hasOwnProperty.call(H,L) || G(H,K,L);}}function q(K){var H,L,R;H="function" === typeof Symbol && Symbol.iterator;L=H && K[H];R=0;if(L)return L.call(K);if(K && "number" === typeof K.length)return {next:function(){K && R >= K.length && (K=void 0);return {value:K && K[R++],done:!K};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(K,H){var L,R,I;L="function" === typeof Symbol && K[Symbol.iterator];if(!L)return K;K=L.call(K);I=[];try{for(;(void 0 === H || 0 < H--) && !(R=K.next()).done;){I.push(R.value);}}catch(N){var P;P={error:N};}finally{try{R && !R.done && (L=K["return"]) && L.call(K);}finally{if(P)throw P.error;}}return I;}function u(){for(var K=[],H=0;H < arguments.length;H++){K=K.concat(v(arguments[H]));}return K;}function t(){var R;for(var K=0,H=0,L=arguments.length;H < L;H++){K+=arguments[H].length;}K=Array(K);R=0;for(H=0;H < L;H++){for(var I=arguments[H],P=0,N=I.length;P < N;(P++,R++)){K[R]=I[P];}}return K;}function w(K,H,L){if(L || 2 === arguments.length)for(var R=0,I=H.length,P;R < I;R++){!P && (R in H) || (P || (P=Array.prototype.slice.call(H,0,R)),P[R]=H[R]);}return K.concat(P || H);}function x(K){return this instanceof x?(this.cE=K,this):new x(K);}function y(K,H,L){var Q,T,da;function R(pa){Q[pa] && (T[pa]=function(wa){return new Promise(function(ua,X){1 < da.push([pa,wa,ua,X]) || I(pa,wa);});});}function I(pa,wa){var ua;try{ua=Q[pa](wa);ua.value instanceof x?Promise.resolve(ua.value.cE).then(P,N):M(da[0][2],ua);}catch(X){M(da[0][3],X);}}function P(pa){I("next",pa);}function N(pa){I("throw",pa);}function M(pa,wa){(pa(wa),da.shift(),da.length) && I(da[0][0],da[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=L.apply(K,H || []);da=[];return (T={},R("next"),R("throw"),R("return"),T[Symbol.asyncIterator]=function(){return this;},T);}function z(K){var L,R;function H(I,P){L[I]=K[I]?function(N){return (R=!R)?{value:x(K[I](N)),done:"return" === I}:P?P(N):N;}:P;}return (L={},H("next"),H("throw",function(I){throw I;}),H("return"),L[Symbol.iterator]=function(){return this;},L);}function A(K){var R,I;function H(P){I[P]=K[P] && (function(N){return new Promise(function(M,Q){N=K[P](N);L(M,Q,N.done,N.value);});});}function L(P,N,M,Q){Promise.resolve(Q).then(function(T){P({value:T,done:M});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=K[Symbol.asyncIterator];return R?R.call(K):(K="function" === typeof q?q(K):K[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(K,H){Object.defineProperty?Object.defineProperty(K,"raw",{value:H}):K.raw=H;return K;}function D(K){var H;if(K && K.__esModule)return K;H={};if(null != K)for(var L in K){"default" !== L && Object.prototype.hasOwnProperty.call(K,L) && G(H,K,L);}J(H,K);return H;}function E(K){return K && K.__esModule?K:{default:K};}function F(K,H,L,R){if("a" === L && !R)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?K !== H || !R:!H.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === L?R:"a" === L?R.call(K):R?R.value:H.get(K);}function C(K,H,L,R,I){if("m" === R)throw new TypeError("Private method is not writable");if("a" === R && !I)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?K !== H || !I:!H.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === R?I.call(K,L):I?I.value=L:H.set(K,L),L);}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return G;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return t;});a.d(b,"__spreadArray",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});G=Object.create?function(K,H,L,R){void 0 === R && (R=L);Object.defineProperty(K,R,{enumerable:!0,get:function(){return H[L];}});}:function(K,H,L,R){void 0 === R && (R=L);K[R]=H[L];};J=Object.create?function(K,H){Object.defineProperty(K,"default",{enumerable:!0,value:H});}:function(K,H){K["default"]=H;};},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,H=arguments.length;K < H;K++){J=arguments[K];for(var L in J){Object.prototype.hasOwnProperty.call(J,L) && (G[L]=J[L]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,H){K.__proto__=H;}) || (function(K,H){for(var L in H){H.hasOwnProperty(L) && (K[L]=H[L]);}});return f(G,J);}function l(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function m(G,J){var K,H,L;K={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > J.indexOf(H) && (K[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){L=0;for(H=Object.getOwnPropertySymbols(G);L < H.length;L++){0 > J.indexOf(H[L]) && Object.prototype.propertyIsEnumerable.call(G,H[L]) && (K[H[L]]=G[H[L]]);}}return K;}function d(G,J,K,H){var L,R,I;L=arguments.length;R=3 > L?J:null === H?H=Object.getOwnPropertyDescriptor(J,K):H;if("object" === typeof Reflect && "function" === typeof Reflect.Dr)R=Reflect.Dr(G,J,K,H);else for(var P=G.length - 1;0 <= P;P--){if(I=G[P])R=(3 > L?I(R):3 < L?I(J,K,R):I(J,K)) || R;}return (3 < L && R && Object.defineProperty(J,K,R),R);}function g(G,J){return function(K,H){J(K,H,G);};}function h(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(G,J);}function k(G,J,K,H){function L(R){return R instanceof K?R:new K(function(I){I(R);});}return new (K || (K=Promise))(function(R,I){function P(Q){try{M(H.next(Q));}catch(T){I(T);}}function N(Q){try{M(H["throw"](Q));}catch(T){I(T);}}function M(Q){Q.done?R(Q.value):L(Q.value).then(P,N);}M((H=H.apply(G,J || [])).next());});}function n(G,J){var L,R,I,P,N;function K(M){return function(Q){return H([M,Q]);};}function H(M){if(R)throw new TypeError("Generator is already executing.");for(;L;){try{if((R=1,I && (P=M[0] & 2?I["return"]:M[0]?I["throw"] || ((P=I["return"]) && P.call(I),0):I.next) && !(P=P.call(I,M[1])).done))return P;if((I=0,P))M=[M[0] & 2,P.value];switch(M[0]){case 0:case 1:P=M;break;case 4:return (L.label++,{value:M[1],done:!1});case 5:L.label++;I=M[1];M=[0];continue;case 7:M=L.zn.pop();L.Kn.pop();continue;default:if(!(P=L.Kn,P=0 < P.length && P[P.length - 1]) && (6 === M[0] || 2 === M[0])){L=0;continue;}if(3 === M[0] && (!P || M[1] > P[0] && M[1] < P[3]))L.label=M[1];else if(6 === M[0] && L.label < P[1])(L.label=P[1],P=M);else if(P && L.label < P[2])(L.label=P[2],L.zn.push(M));else {P[2] && L.zn.pop();L.Kn.pop();continue;}}M=J.call(G,L);}catch(Q){M=[6,Q];I=0;}finally{R=P=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}L={label:0,kd:function(){if(P[0] & 1)throw P[1];return P[1];},Kn:[],zn:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function p(G,J,K,H){void 0 === H && (H=K);G[H]=J[K];}function q(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function v(G){var J,K,H;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];H=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,J){var K,H,L;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);L=[];try{for(;(void 0 === J || 0 < J--) && !(H=G.next()).done;){L.push(H.value);}}catch(I){var R;R={error:I};}finally{try{H && !H.done && (K=G["return"]) && K.call(G);}finally{if(R)throw R.error;}}return L;}function t(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(u(arguments[J]));}return G;}function w(){var H;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);H=0;for(J=0;J < K;J++){for(var L=arguments[J],R=0,I=L.length;R < I;(R++,H++)){G[H]=L[R];}}return G;}function x(G){return this instanceof x?(this.cE=G,this):new x(G);}function y(G,J,K){var N,M,Q;function H(T){N[T] && (M[T]=function(da){return new Promise(function(pa,wa){1 < Q.push([T,da,pa,wa]) || L(T,da);});});}function L(T,da){var pa;try{pa=N[T](da);pa.value instanceof x?Promise.resolve(pa.value.cE).then(R,I):P(Q[0][2],pa);}catch(wa){P(Q[0][3],wa);}}function R(T){L("next",T);}function I(T){L("throw",T);}function P(T,da){(T(da),Q.shift(),Q.length) && L(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);Q=[];return (M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function z(G){var K,H;function J(L,R){K[L]=G[L]?function(I){return (H=!H)?{value:x(G[L](I)),done:"return" === L}:R?R(I):I;}:R;}return (K={},J("next"),J("throw",function(L){throw L;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function A(G){var H,L;function J(R){L[R]=G[R] && (function(I){return new Promise(function(P,N){I=G[R](I);K(P,N,I.done,I.value);});});}function K(R,I,P,N){Promise.resolve(N).then(function(M){R({value:M,done:P});},I);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof v?v(G):G[Symbol.iterator](),L={},J("next"),J("throw"),J("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return v;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ks=b.IBa=b.HBa=b.Vba=b.teb=b.ueb=b.GBa=b.Uba=b.seb=b.eFa=b.X_=b.O_=b.FBa=b.L=b.M=void 0;(function(f){f[f.Nl=7001]="UNKNOWN";f[f.ZKa=7002]="UNHANDLED_EXCEPTION";f[f.mfb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.$Ca=7010]="INIT_ASYNCCOMPONENT";f[f.qDa=7011]="INIT_HTTP";f[f.ifb=7014]="INIT_BADMOVIEID";f[f.Afb=7016]="INIT_NETFLIXID_MISSING";f[f.zfb=7017]="INIT_NETFLIXID_INVALID";f[f.Cfb=7018]="INIT_SECURENETFLIXID_MISSING";f[f.rDa=7020]="INIT_PLAYBACK_LOCK";f[f.sDa=7022]="INIT_SESSION_LOCK";f[f.Bfb=7029]="INIT_POSTAUTHORIZE";f[f.pDa=7031]="INIT_HEADER_MEDIA";f[f.G3b=7032]="HEADER_MISSING";f[f.F3b=7033]="HEADER_FRAGMENTS_MISSING";f[f.Dfb=7034]="INIT_TIMEDTEXT_TRACK";f[f.T3b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.U3b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.hbb=7037]="ASE_SESSION_ERROR";f[f.gbb=7038]="ASE_SEEK_THREW";f[f.ibb=7039]="ASE_SKIPPED_THREW";f[f.wfb=7041]="INIT_CORE_OBJECTS1";f[f.xfb=7042]="INIT_CORE_OBJECTS2";f[f.yfb=7043]="INIT_CORE_OBJECTS3";f[f.Q3b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.K3b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.iDa=7053]="INIT_COMPONENT_STORAGE";f[f.jDa=7054]="INIT_COMPONENT_STORAGELOCK";f[f.L3b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.M3b=7056]="INIT_COMPONENT_NRDDPI";f[f.O3b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.fDa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.pca=7059]="INIT_COMPONENT_DEVICE";f[f.N3b=7062]="INIT_COMPONENT_NTBA";f[f.gDa=7063]="INIT_COMPONENT_MSL";f[f.kfb=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.eDa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.jB=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.P3b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.jfb=7069]="INIT_COMPONENT_ACCOUNT";f[f.ofb=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.qfb=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.rfb=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.sfb=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.tfb=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.nfb=7081]="INIT_COMPONENT_NRDP";f[f.pfb=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.oDa=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.vfb=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.S3b=7085]="INIT_CONGESTION_SERVICE";f[f.dDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.kDa=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.bDa=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.aDa=7089]="INIT_COMPONENT_ASE";f[f.R3b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.wJ=7091]="INIT_COMPONENT_DRM_CACHE";f[f.lfb=7092]="INIT_COMPONENT_DRM";f[f.ufb=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.cDa=7094]="INIT_COMPONENT_FTL";f[f.hDa=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.lDa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.mDa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.nDa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.YQ=7111]="MANIFEST";f[f.sbb=7112]="AUTHORIZE_UNKNOWN";f[f.cgb=7117]="MANIFEST_VERIFY";f[f.Jib=7120]="START";f[f.zJ=7121]="LICENSE";f[f.$da=7122]="RELEASE";f[f.qJa=7123]="STOP";f[f.w3b=7124]="FPSAPPDATA";f[f.xca=7125]="KEEPALIVE";f[f.t2b=7126]="DEACTIVATE";f[f.g6b=7127]="SYNC_DEACTIVATE_LINKS";f[f.s1b=7130]="ACTIVATE";f[f.zhb=7131]="PING";f[f.C4b=7133]="NETFLIXID";f[f.peb=7134]="ENGAGE";f[f.agb=7135]="LOGIN";f[f.Qib=7136]="SWITCH_PROFILES";f[f.$fb=7137]="LOGBLOB";f[f.ihb=7138]="PAUSE";f[f.rib=7139]="RESUME";f[f.oJa=7140]="SPLICE";f[f.F2b=7141]="DOWNLOAD_EVENT";f[f.Hbb=7142]="BIND";f[f.ghb=7143]="PAIR";f[f.Ibb=7144]="BIND_DEVICE";f[f.Feb=7145]="GENERATE_SCREENSHOTS";f[f.Dhb=7202]="PLAY_INIT_EXCEPTION";f[f.d4b=7301]="MEDIA_DOWNLOAD";f[f.k5b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.l5b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.tGa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.Jhb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.uGa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.Khb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.nda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.m5b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.Ihb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.yGa=7351]="PLAY_MSE_NOTSUPPORTED";f[f.sGa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.oda=7355]="PLAY_MSE_SOURCEADD";f[f.rGa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.lR=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.p5b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.j5b=7359]="PLAY_MSE_ADDKEY";f[f.s5b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.xGa=7361]="PLAY_MSE_EVENT_ERROR";f[f.IJ=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.fr=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.Mhb=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.Nhb=7365]="PLAY_MSE_GETCURRENTTIME";f[f.Ohb=7367]="PLAY_MSE_SETCURRENTTIME";f[f.Phb=7371]="PLAY_MSE_SOURCEAPPEND";f[f.q5b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.Thb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.Shb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.Rhb=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.r5b=7379]="PLAY_MSE_SOURCE_EOS";f[f.Qhb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.zGa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.o5b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.Ehb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.Fhb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.Ghb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.vGa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.Lhb=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.n5b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.wGa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.Hhb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.k0=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.qBa=7400]="EXTERNAL";f[f.j0=7500]="PAUSE_TIMEOUT";f[f.P_=7502]="INACTIVITY_TIMEOUT";f[f.rbb=7510]="AUTHORIZATION_EXPIRED";f[f.v2b=7520]="DECRYPT_AUDIO";f[f.jeb=7700]="EME_INVALID_KEYSYSTEM";f[f.dBa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.lQ=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.t_=7703]="EME_GENERATEREQUEST_FAILED";f[f.kBa=7704]="EME_UPDATE_FAILED";f[f.iBa=7705]="EME_KEYSESSION_ERROR";f[f.hBa=7706]="EME_KEYMESSAGE_EMPTY";f[f.meb=7707]="EME_REMOVE_FAILED";f[f.leb=7708]="EME_LOAD_FAILED";f[f.geb=7709]="EME_CREATE_SESSION_FAILED";f[f.Sba=7710]="EME_LDL_RENEWAL_ERROR";f[f.fBa=7711]="EME_INVALID_INITDATA_DATA";f[f.gBa=7712]="EME_INVALID_LICENSE_DATA";f[f.keb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.P2b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.cBa=7716]="EME_CLOSE_FAILED";f[f.neb=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.Ahb=7800]="PLAYDATA_STORE_FAILURE";f[f.i5b=7801]="PLAYDATA_SEND_FAILURE";f[f.RP=7900]="BRANCH_PLAY_FAILURE";f[f.dJ=7901]="BRANCH_QUEUE_FAILURE";f[f.Hya=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.H4b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.I4b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.ohb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.M || (b.M={}));(function(f){f[f.Nl=1001]="UNKNOWN";f[f.Aj=1003]="EXCEPTION";f[f.Gfb=1004]="INVALID_DI";f[f.lbb=1011]="ASYNCLOAD_EXCEPTION";f[f.mbb=1013]="ASYNCLOAD_TIMEOUT";f[f.t1b=1015]="ASYNCLOAD_BADCONFIG";f[f.jbb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.kbb=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.MQ=1101]="HTTP_UNKNOWN";f[f.kca=1102]="HTTP_XHR";f[f.JQ=1103]="HTTP_PROTOCOL";f[f.IQ=1104]="HTTP_OFFLINE";f[f.LQ=1105]="HTTP_TIMEOUT";f[f.uE=1106]="HTTP_READTIMEOUT";f[f.iB=1107]="HTTP_ABORT";f[f.DCa=1108]="HTTP_PARSE";f[f.zCa=1110]="HTTP_BAD_URL";f[f.KQ=1111]="HTTP_PROXY";f[f.Pca=1203]="MSE_AUDIO";f[f.Qca=1204]="MSE_VIDEO";f[f.ogb=1250]="MSE_MEDIA_ERR_BASE";f[f.g4b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.j4b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.h4b=1253]="MSE_MEDIA_ERR_DECODE";f[f.k4b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.i4b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.Js=1260]="EME_MEDIA_KEYERR_BASE";f[f.V2b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.Q2b=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.U2b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.T2b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.S2b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.R2b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.W2b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.ieb=1280]="EME_ERROR_NODRMSESSSION";f[f.heb=1281]="EME_ERROR_NODRMREQUESTS";f[f.M2b=1282]="EME_ERROR_INDIV_FAILED";f[f.N2b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.oeb=1284]="EME_TIMEOUT_MESSAGE";f[f.X2b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.jBa=1286]="EME_UNDEFINED_DATA";f[f.oJ=1287]="EME_INVALID_STATE";f[f.O2b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.eBa=1289]="EME_EMPTY_DATA";f[f.mQ=1290]="EME_TIMEOUT";f[f.w4b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.z4b=1305]="NCCP_PARSEXML";f[f.Whb=1309]="PROCESS_EXCEPTION";f[f.y4b=1311]="NCCP_NETFLIXID_MISSING";f[f.A4b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.t4b=1313]="NCCP_HMAC_MISSING";f[f.s4b=1315]="NCCP_HMAC_MISMATCH";f[f.r4b=1317]="NCCP_HMAC_FAILED";f[f.q4b=1321]="NCCP_CLIENTTIME_MISSING";f[f.p4b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.cCa=1331]="GENERIC";f[f.Igb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.Jgb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.B4b=1341]="NCCP_TRANSACTION";f[f.u4b=1343]="NCCP_INVALID_DRMTYPE";f[f.v4b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.x4b=1345]="NCCP_MISSING_PAYLOAD";f[f.y5b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.x5b=1347]="PROTOCOL_MISSING_FIELD";f[f.w5b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.wB=1402]="STORAGE_NODATA";f[f.R5b=1403]="STORAGE_EXCEPTION";f[f.Z5b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.$5b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.sJa=1411]="STORAGE_LOAD_ERROR";f[f.Lib=1412]="STORAGE_LOAD_TIMEOUT";f[f.tJa=1414]="STORAGE_SAVE_ERROR";f[f.Oib=1415]="STORAGE_SAVE_TIMEOUT";f[f.hea=1417]="STORAGE_DELETE_ERROR";f[f.rJa=1418]="STORAGE_DELETE_TIMEOUT";f[f.Y5b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.V5b=1423]="STORAGE_FS_GETDIRECTORY";f[f.X5b=1425]="STORAGE_FS_READENTRIES";f[f.S5b=1427]="STORAGE_FS_FILEREAD";f[f.U5b=1429]="STORAGE_FS_FILEWRITE";f[f.T5b=1431]="STORAGE_FS_FILEREMOVE";f[f.W5b=1432]="STORAGE_FS_PARSEJSON";f[f.Nib=1451]="STORAGE_NO_LOCALSTORAGE";f[f.Mib=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.O4b=1501]="NTBA_UNKNOWN";f[f.N4b=1502]="NTBA_EXCEPTION";f[f.J4b=1504]="NTBA_CRYPTO_KEY";f[f.L4b=1506]="NTBA_CRYPTO_OPERATION";f[f.K4b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.M4b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.iAa=1553]="DEVICE_NO_ESN";f[f.hAa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.xeb=1701]="FORMAT_UNKNOWN";f[f.QBa=1713]="FORMAT_XML";f[f.yeb=1715]="FORMAT_XML_CONTENT";f[f.web=1721]="FORMAT_BASE64";f[f.y_=1723]="FORMAT_DFXP";f[f.Veb=1801]="INDEXDB_OPEN_EXCEPTION";f[f.YCa=1802]="INDEXDB_NOT_SUPPORTED";f[f.Ueb=1803]="INDEXDB_OPEN_ERROR";f[f.ZCa=1804]="INDEXDB_OPEN_NULL";f[f.Teb=1805]="INDEXDB_OPEN_BLOCKED";f[f.Web=1807]="INDEXDB_OPEN_TIMEOUT";f[f.Seb=1808]="INDEXDB_INVALID_STORE_STATE";f[f.Q_=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.ygb=1901]="MSL_UNKNOWN";f[f.rgb=1911]="MSL_INIT_NO_MSL";f[f.PEa=1913]="MSL_INIT_ERROR";f[f.sgb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.pgb=1931]="MSL_ERROR";f[f.xgb=1933]="MSL_REQUEST_TIMEOUT";f[f.wgb=1934]="MSL_READ_TIMEOUT";f[f.qgb=1935]="MSL_ERROR_HEADER";f[f.l4b=1936]="MSL_ERROR_ENVELOPE";f[f.m4b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.OEa=1957]="MSL_ERROR_REAUTH";f[f.Jea=2103]="WEBCRYPTO_MISSING";f[f.pjb=2105]="WEBCRYPTOKEYS_MISSING";f[f.qjb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.b2b=2200]="CACHEDDATA_PARSEJSON";f[f.dza=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.c2b=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.fB=2203]="CACHEDDATA_INVALID_FORMAT";f[f.q1b=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.r1b=3001]="ACCOUNT_INVALID";f[f.E2b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.D2b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.B2b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.C2b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.A2b=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.a6b=3300]="STORAGE_VA_LOAD_ERROR";f[f.b6b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.e6b=3302]="STORAGE_VA_SAVE_ERROR";f[f.f6b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.c6b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.d6b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.jda=3077]="PBO_DEVICE_EOL_WARNING";f[f.mGa=3078]="PBO_DEVICE_EOL_FINAL";f[f.pGa=3100]="PBO_DEVICE_RESET";f[f.oGa=3101]="PBO_DEVICE_RELOAD";f[f.nGa=3102]="PBO_DEVICE_EXIT";f[f.xhb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.jhb=5005]="PBO_ACCOUNT_ON_HOLD";f[f.nhb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.qGa=5007]="PBO_INCORRECT_PIN";f[f.uhb=5008]="PBO_MOBILE_ONLY";f[f.yhb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.qhb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.lhb=5059]="PBO_BLACKLISTED_IP";f[f.khb=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.mhb=5080]="PBO_CHOICE_MAP_ERROR";f[f.vhb=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.shb=5091]="PBO_MALFORMED_REQUEST";f[f.rhb=5092]="PBO_INVALID_SERVICE_VERSION";f[f.thb=5093]="PBO_MDX_INVALID_CTICKET";f[f.phb=5094]="PBO_FREE_PREVIEW_ENDED";f[f.whb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";f[f.$cb=5100]="DECODER_TIMEOUT_BUFFERING";f[f.bdb=5101]="DECODER_TIMEOUT_PRESENTING";f[f.adb=5102]="DECODER_TIMEOUT_PLAYING";f[f.Sdb=5200]="DOWNLOADER_IO_ERROR";f[f.Gya=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.Mbb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.G1b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.nba=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.Jbb=5304]="BRANCHING_ASE_FAILURE";f[f.D1b=5305]="BRANCHING_MOMENT_FAILURE";f[f.Kbb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.F1b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.Nbb=5308]="BRANCHING_SEEK_THREW";f[f.E1b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.Lbb=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.Obb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.Pbb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.Pib=5500]="STUDIO_MUXED_MANIFEST";f[f.Kca=5600]="MANIFEST_HYDRATION_FAILURE";})(c=b.L || (b.L={}));(function(f){f[f.R1b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.H1b=5005]="BR_ACCOUNT_ON_HOLD";f[f.L1b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.O1b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.K1b=5059]="BR_BLACKLISTED_IP";f[f.I1b=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.P1b=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.M1b=2205]="BR_DRM_LICENSE_AQUISITION";f[f.Q1b=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.N1b=2207]="BR_ENDPOINT_ERROR";f[f.J1b=2208]="BR_AUTHORIZATION_ERROR";})(b.FBa || (b.FBa={}));b.O_={Wbb:"400",A6b:"401",EGa:"413"};b.X_={u3b:1,t6b:2,$2b:3,z6b:4,X3b:5,Z2b:6,Dea:7,b3b:8,G5b:9,O5b:10};(function(f){f[f.g5b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.h5b=98]="PAIRING_UNKNOWN_ERROR";})(b.eFa || (b.eFa={}));b.seb=function(f){return 7100 <= f && 7200 > f;};b.Uba=function(f){return f == a.j0 || f == a.P_;};b.GBa=function(f){return 1100 <= f && 1199 >= f;};b.ueb=function(f){return 1300 <= f && 1399 >= f;};b.teb=function(f){return 1900 <= f && 1999 >= f;};b.Vba=function(f,l){return 1 <= f && 9 >= f?l + f:l;};b.HBa=function(f){return b.Vba(f,c.ogb);};b.IBa=function(f){return b.Vba(f,c.Js);};b.Ks=function(f){var l,m,d;l={};m=f.errorExternalCode || f.mf;d=f.errorDetails || f.Bb;l.ErrorSubCode=f.errorSubCode || f.na || c.Nl;m && (l.ErrorExternalCode=m);d && (l.ErrorDetails=d);return l;};},function(r,b,a){var l;function c(){return l.FR.apply(this,arguments) || this;}function f(m){return new l.Ls(m,b.ka);}Object.defineProperty(b,"__esModule",{value:!0});b.bb=b.PCa=b.Zca=b.Un=b.ka=b.GE=b.timestamp=b.JHb=b.e8=b.jh=b.Hc=b.Q4a=b.aNb=b.djb=void 0;l=a(312);la(c,l.FR);b.djb=c;b.aNb=function(m){return new l.Ls(m,b.GE);};b.Q4a=function(m){return new l.Ls(m * b.Un.qg,b.GE);};b.Hc=f;b.jh=function(m){return new l.Ls(m,b.Un);};b.e8=function(m){return new l.Ls(m,b.Zca);};b.JHb=function(m){return new l.Ls(m,b.PCa);};b.timestamp=function(m){return f(m);};b.GE=new c(1,"\u03bcs");b.ka=new c(1E3,"ms",b.GE);b.Un=new c(1E3 * b.ka.qg,"s",b.GE);b.Zca=new c(60 * b.Un.qg,"min",b.GE);b.PCa=new c(60 * b.Zca.qg,"hr",b.GE);b.bb=f(0);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(141);l=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(Error);b.assert=function(m,d){if(!m)try{throw new l(d || "Assertion failed");}catch(g){throw (f.Cm.H.error("Assertion failed",{value:m,message:d,stack:g.stack}),g);}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={HV:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQ=b.ob=b.Fca=b.Cj=void 0;r=b.Cj || (b.Cj={});r[r.veb=0]="FATAL";r[r.Gf=1]="ERROR";r[r.Iea=2]="WARN";r[r.oca=3]="INFO";r[r.pKa=4]="TRACE";r[r.ga=5]="DEBUG";b.Fca="LogFieldBuilderFactorySymbol";b.ob="LoggerFactorySymbol";b.kQ={};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.ja=b.$Ha=b.$U=b.zh=b.Di=b.log=b.Sf=b.wM=b.qQa=b.Ar=b.gC=b.Mc=b.vrb=b.sia=b.trb=b.urb=b.Zi=b.uP=b.qZ=b.Kh=b.Ic=b.xa=void 0;c=a(194);r=a(7);f=a(25);l=a(77);m=a(76);d=a(35);g=a(30);h=a(140);k=a(37);a=a(48);b.xa=c.bc.get(k.Lh);b.Ic=c.bc.get(a.Gj);b.Kh=c.bc.get(l.jv);b.qZ=b.Kh.encode.bind(b.Kh);b.uP=b.Kh.decode.bind(b.Kh);b.Zi=c.bc.get(m.dx);b.urb=b.Zi.encode.bind(b.Zi);b.trb=b.Zi.decode.bind(b.Zi);b.sia=b.Zi.AG.bind(b.Zi);b.vrb=b.Zi.W9a.bind(b.Zi);b.Mc=c.bc.get(d.mi);b.gC=function(n){n=g.Oe(n)?b.uP(n):n;return b.Mc.encode(n);};b.Ar=b.Mc.decode.bind(b.Mc);b.qQa=function(n){return b.qZ(b.Ar(n));};b.wM=function(){return c.bc.get(f.ix);};b.Sf=c.bc.get(r.ob);b.log=b.Sf.hb("General");b.Di=function(n,p){return b.Sf.hb(n,void 0,p);};b.zh=function(n,p,q){return b.Sf.hb(p,n,q);};b.$U=function(n,p,q,v){return b.Sf.hb(n,void 0,v,p,q);};b.$Ha=function(n,p,q){return c.bc.get(h.rR)(n,p,q).$Y();};b.ja=c.bc;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oR=b.dCa=b.BLa=void 0;r=a(2);r.__exportStar(a(349),b);r.__exportStar(a(115),b);r.__exportStar(a(21),b);r.__exportStar(a(737),b);r.__exportStar(a(738),b);r.__exportStar(a(739),b);r.__exportStar(a(740),b);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(743),b);c=r.__importDefault(a(744));b.BLa=c.default;c=r.__importDefault(a(745));b.dCa=c.default;a=r.__importDefault(a(355));b.oR=a.default;},function(r){var b;b={Ba:function(a){return "number" === typeof a;},Ah:function(a){return "object" === typeof a;},Oe:function(a){return "string" === typeof a;},ha:function(a){return "undefined" === typeof a;},m9b:function(a){return "boolean" === typeof a;},ad:function(a){return "function" === typeof a;},Cb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},cQb:function(a){var c,f;f=[];if(!b.Ah(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.kf=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(f,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(f,a[l],l,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zpa=b.localStorage=b.vIb=b.indexedDB=b.Z_=b.Qp=b.pB=b.LE=b.URL=b.b0=b.$_=b.dFa=b.V_=b.DE=b.EE=b.hp=b.Rn=b.Oi=b.Tca=b.vx=b.iKa=b.jJ=b.PE=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.oy=b.Lgb=b.Ue=b.ev=b.fv=b.a0=b.qB=void 0;r=nb;b.hf=r.navigator;b.qB=null === b.hf || void 0 === b.hf?void 0:b.hf.userAgent;b.a0=r.location;b.fv=r.screen;b.ev=r.performance;b.Ue=r.document;b.Lgb=b.Ue.documentElement;b.oy=Array.prototype;b.sort=b.oy.sort;b.map=b.oy.map;b.slice=b.oy.slice;b.every=b.oy.every;b.reduce=b.oy.reduce;b.filter=b.oy.filter;b.forEach=b.oy.forEach;b.pop=b.oy.pop;b.PE=Object.create;b.jJ=Date.now;b.iKa=String.fromCharCode;b.vx=Math.floor;b.Tca=Math.ceil;b.Oi=Math.round;b.Rn=Math.max;b.hp=Math.min;b.EE=Math.random;b.DE=Math.abs;b.V_=Math.pow;b.dFa=Math.sqrt;b.$_=r.escape;b.b0=r.unescape;b.URL=r.URL || r.webkitURL;b.LE=r.MediaSource || r.WebKitMediaSource;b.pB=r.webkitCrypto || r.msCrypto || r.crypto;b.Qp=b.pB && (b.pB.webkitSubtle || b.pB.subtle);b.Z_=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.vIb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Zpa=a || "noex";}},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DJ=b.U_=b.gcb=b.bcb=b.dcb=b.ecb=b.Uya=b.acb=b.ccb=b.Tya=b.fcb=b.mcb=b.kcb=b.lcb=b.jcb=b.ceb=b.beb=b.aeb=b.fgb=b.ggb=b.ux=b.KEa=b.LEa=b.CJ=b.WAa=b.eeb=b.Qba=b.s_=b.Zgb=b.Fib=b.GEa=b.Vbb=b.fAa=b.i0=b.OE=b.h0=b.FEa=b.lB=b.Ubb=b.Fya=b.Vfb=b.mjb=b.egb=b.dgb=b.zib=b.yib=b.il=b.Ve=b.QIa=b.jl=void 0;b.aea=void 0;b.jl=function(){};b.QIa=function(){return !0;};b.Ve={$:!0};b.il=1E3;b.yib=86400;b.zib=604800;b.dgb=1E4;b.egb=1E7;b.mjb=1.5;b.Vfb=.128;b.Fya=7.8125;b.Ubb=128;b.lB=145152E5;b.FEa=1E5;b.h0="$netflix$player$order";b.OE=-1;b.i0=1;b.fAa=["en-US"];b.Vbb=8;b.GEa=65535;b.Fib=65536;b.Zgb=Number.MAX_VALUE;b.s_="playready";b.Qba="widevine";b.eeb="fps";b.WAa="clearkey";b.CJ='audio/mp4; codecs="mp4a.40.5"';b.LEa='audio/mp4; codecs="mp4a.40.42"';b.KEa='audio/mp4; codecs="mp4a.a6"';b.ux='video/mp4; codecs="avc1.640028"';b.ggb='video/mp4; codecs="hev1.2.6.L153.B0"';b.fgb='video/mp4; codecs="dvhe.01000000"';b.aeb="9A04F079-9840-4286-AB92-E65BE0885F95";b.beb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.ceb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.jcb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.lcb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.kcb="4E657466-6C69-7846-7261-6D6552617465";b.mcb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.fcb="mp4a";b.Tya="enca";b.ccb="ec-3";b.acb="avc1";b.Uya="encv";b.ecb="hvcC";b.dcb="hev1";b.bcb="dvhe";b.gcb="vp09";b.U_=0;b.DJ=1;b.aea="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ep={B7b:"casttv",nja:"chrome",F7b:"chromecast",Fr:"edge",gUa:"edgeoss",BVa:"firefox",f9b:"ie",opera:"opera",T6a:"safari"};b.Sn={H2:"android",UIb:"ios",sRa:"chromeos",NKb:"linux",W0a:"mac",t9a:"tesla",Lxa:"windows"};b.N_={mub:"computer",phone:"phone",DYb:"tablet"};b.Rc="ConfigSymbol";},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B;function c(D){return (D=b.config.Ywa[f(D)])?D:{};}function f(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":D;}Object.defineProperty(b,"__esModule",{value:!0});b.qub=b.rub=b.ZRa=b.Hja=b.pub=b.$Ra=b.oub=b.aSa=b.Gja=b.config=void 0;l=a(12);m=a(50);d=a(8);g=a(40);h=a(22);a(30);k=a(25);n=a(44);p=a(24);a(7);q=a(11);v=a(19);u=a(183);t=a(49);w=a(89);x=a(134);y=a(51);z=a(4);A=a(34);B=a(17);b.aSa=function(D,E){var wa,ua,X,sa,O,S,ka,ia,Pa;function F(Ea,Va){p.re(Ea,function(Ya,bb){v.ad(bb)?Va[Ya]=bb.call(void 0,Va[Ya]):v.Ah(bb) && (Va[Ya]=Va[Ya] || ({}),F(bb,Va[Ya]));});}function C(Ea,Va,Ya,bb){for(var Xa=[],mb=3;mb < arguments.length;++mb){Xa[mb - 3]=arguments[mb];}return function(Za){v.Pc(Za) && (Ya=Za);h.rb(v.ad(Ea));return Ea.apply(void 0,[Va,Ya].concat(ca(Xa)));};}function G(Ea){Ea=Ea.toLowerCase();sa.hasOwnProperty(Ea) && (X[Ea]=sa[Ea],O[Ea]=sa[Ea]);return Ea;}function J(Ea,Va,Ya){var bb;Ea=Ea.toLowerCase();if(X.hasOwnProperty(Ea)){bb=X[Ea];try{bb=Ya?Ya(bb):bb;}catch(Xa){bb=void 0;}if(void 0 !== bb)return bb;h.rb(!1);d.log.error("Invalid configuration value. Name: " + Ea);}return Va;}function K(Ea,Va,Ya,bb){return J(Ea,Va,function(Xa){v.Oe(Xa) && (Xa=p.Ee(Xa));if(v.q_a(Xa,Ya,bb))return Xa;});}function H(Ea,Va,Ya,bb){return J(Ea,Va,function(Xa){v.Oe(Xa) && (Xa=p.Ee(Xa));if(v.Fz(Xa,Ya,bb))return Xa;});}function L(Ea,Va,Ya,bb){return J(Ea,Va,function(Xa){v.Oe(Xa) && (Xa=parseFloat(Xa));if(v.Ba(Xa,Ya,bb))return Xa;});}function R(Ea,Va,Ya){return J(Ea,Va,function(bb){if(Ya?Ya.test(bb):v.Oe(bb))return bb;});}function I(Ea,Va){return J(Ea,Va,function(Ya){if("true" == Ya || !0 === Ya)return !0;if("false" == Ya || !1 === Ya)return !1;});}function P(Ea,Va){return J(Ea,Va,function(Ya){if(v.Oe(Ya))return JSON.parse(q.b0(Ya));if(v.Ah(Ya))return Ya;});}function N(Ea,Va,Ya,bb,Xa,mb){var Za;Ea=Ea.toLowerCase();X.hasOwnProperty(Ea) && (Za=X[Ea]);if(!v.Pc(Za))return Va;if(v.Oe(Za))if(Za[0] !== Ya)Za=bb(Za);else try{Za=JSON.parse(q.b0(Za));}catch(Sa){Za=void 0;}if(void 0 === Za)return Va;for(Ea=0;Ea < Xa.length;Ea++){if(!Xa[Ea](Za))return Va;}return mb?mb(Za):Za;}function M(Ea,Va,Ya,bb,Xa){return N(Ea,Va,"[",function(mb){mb=mb.split("|");for(var Za=mb.length;Za--;){mb[Za]=p.Ee(mb[Za]);}return mb;},[function(mb){return v.isArray(mb) && 0 < mb.length;},function(mb){for(var Za=mb.length;Za--;){if(!v.Fz(mb[Za],Ya,bb))return !1;}return !0;},function(mb){return void 0 === Xa || mb.length >= Xa;}]);}function Q(Ea,Va){return N(Ea,Va,"[",function(Ya){Ya=v.isArray(Ya)?Ya:Ya.split("|");for(var bb=Ya.length;bb--;){try{Ya[bb]=JSON.parse(q.b0(Ya[bb]));}catch(Xa){Ya=void 0;break;}}return Ya;},[function(Ya){return v.isArray(Ya) && 0 < Ya.length;},function(Ya){for(var bb=Ya.length;bb--;){if(!v.Pc(Ya[bb]) || !v.Ah(Ya[bb]))return !1;}return !0;}]);}function T(Ea,Va,Ya,bb){return N(Ea,Va,"[",function(Xa){return v.isArray(Xa)?Xa:Xa.split("|");},[function(Xa){return v.isArray(Xa) && 0 < Xa.length;},function(Xa){for(var mb=Xa.length;mb--;){if(Ya?!Ya.test(Xa[mb]):!v.Gz(Xa[mb]))return !1;}return !0;},function(Xa){return void 0 === bb || Xa.length >= bb;}]);}function da(Ea,Va,Ya){return N(Ea,Va,"{",function(bb){var Xa,Za,Sa;Xa={};bb=bb.split(";");for(var mb=bb.length;mb--;){Za=bb[mb];Sa=Za.indexOf(":");if(0 >= Sa)return;Xa[Za.substring(0,Sa)]=Za.substring(Sa + 1);}return Xa;},[function(bb){return v.Ah(bb) && 0 < Object.keys(bb).length;},function(bb){if(Ya)for(var Xa in bb){if(!Ya.test(bb[Xa]))return !1;}return !0;}],function(bb){var Xa;Xa={};p.Xb(Xa,Va);p.Xb(Xa,bb);return Xa;});}function pa(Ea){var Va;Va=[];p.re(Ea,function(Ya,bb){var Xa;try{Xa="videoapp" === Ya.toLowerCase()?"[object object]":JSON.stringify(bb);}catch(mb){Xa="cantparse";}Va.push(Ya + "=" + Xa);});return Va.join("\n");}wa=/^[0-9]+[%]?$/;ua=/^[0-9]*$/;O={};S=d.ja.get(g.Em);ka=d.ja.get(x.pR);(function(Ea){function Va(Ya){Ya.split(",").forEach(function(bb){var Xa;Xa=bb.indexOf("=");0 < Xa && (X[bb.substring(0,Xa).toLowerCase()]=bb.substring(Xa + 1));});}X={};p.Xb(X,Ea);D && D.length && q.forEach.call(D,function(Ya){v.Oe(Ya)?Va(Ya):v.Ah(Ya) && p.Xb(X,Ya,{qN:!0});});sa=p.Xb({},m.E5(),{qN:!0});if(Ea=m.y5a().cadmiumconfig)(d.log.info("Config cookie loaded",Ea),Va(Ea));if(d.ja.get(A.xk).F2 || X.istestaccount)(p.Xb(X,sa),O=sa);})(E);b.config={};ia={DAb:C(I,G("enableXHEAAC"),!1),qUa:C(I,G("enableDDPlus20"),!0),pUa:C(I,G("enableDDPlus"),!0),AU:C(I,G("enableDDPlusAtmos"),!1),kAb:C(I,G("enableLSSDH"),!0),eAb:C(I,G("enableHEVC"),!1),K3a:C(I,G("overrideEnableHEVC"),!1),ela:C(I,G("enableHDR"),!1),J3a:C(I,G("overrideEnableHDR"),!1),I3a:C(I,G("overrideEnableDV"),!1),YL:C(I,G("enableAVCHigh"),ka.YL),FH:C(I,G("overrideEnableAVCHigh"),ka.FH),BAb:C(I,G("enableVP9"),!1),L3a:C(I,G("overrideEnableVP9"),!1),Zzb:C(I,G("enableAV1"),!1),H3a:C(I,G("overrideEnableAV1"),!1),$Pb:C(I,G("overrideEnableXHEAAC"),!1),rAb:C(I,G("enablePRK"),!1),cAb:C(I,G("enableDV"),!1),fAb:C(I,G("enableHWDRM"),!1),iAb:C(I,G("enableImageSubs"),!0),b0b:C(I,G("useLegacySubs"),!1),fC:C(T,G("audioProfiles"),ka.fC),X7b:C(I,G("disableHD"),!1),zAb:C(I,G("enableUHD"),!0),saa:C(H,"videoCapabilityDetectorType",k.Ti.Xu),bia:C(H,"audioCapabilityDetectorType",k.Uu.Xu),Zw:C(T,G("videoProfiles"),ka.Zw),yob:C(T,G("timedTextProfiles"),ka.Qu),Qu:function(){return ia.yob().filter(function(Ea){return Ea === n.Km.Dba?ia.kAb():Ea === n.Km.FJ?ia.iAb():!0;});},endpoint:C(I,G("endpoint"),!1),version:C(R,"version","unknown"),I7a:C(I,G("setMediaKeysEarly"),!1),y$b:C(I,G("nrdpPersistCookiesToIndexDB"),!1),dab:C(I,G("useHdcpLevelOnCast"),!1),gAb:C(I,G("enableHdcp"),!1),Dw:C(I,G("prepareCadmium"),!1),Wob:C(I,G("acceptManifestOnPrepareItemParams"),!0),xRb:C(P,"ppmconfig",{maxNumberTitlesScheduled:1}),fRb:C(I,G("playerPredictionModelV2"),!0),CU:C(I,G("enableLdlPrefetch"),!1),wUa:C(I,G("enableMediaPrefetch"),!1),mAb:C(I,G("enableManifestCache"),!0),wyb:C(I,G("deleteCachedManifestOnPlayback"),!1),vyb:C(I,G("deleteCachedManifestOnCreate"),!1),Ayb:C(I,G("deleteOtherManifestCacheOnCreate"),!1),zyb:C(I,G("deleteOtherLdlCacheOnCreate"),!1),P$b:C(H,G("periodicPrepareLogsIntervalMilliseconds"),36E5),TRb:C(H,G("prepareManifestCacheMaxCount"),50),RRb:C(H,G("prepareLdlCacheMaxCount"),30),U4a:C(H,G("prepareManifestExpiryMilliseconds"),12E5),SRb:C(H,G("prepareLdlExpiryMilliseconds"),78E4),LRb:C(H,G("prefetcherMaxWishlistSize"),1),KRb:C(H,G("prefetcherBudgetInBytes"),Infinity),MRb:C(I,G("prefetcherOverrideItemPriority"),!0),QRb:C(R,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),ibc:C(P,"videoApp"),VD:C(P,"storageRules"),KCb:C(I,"ftlEnabled",!0),Aoa:C(H,G("imageSubsResolution"),0),fIb:C(H,G("imageSubsMaxBuffer"),ka.oMb.da(y.Vu),0),IT:C(I,G("captureBatteryStatus"),!1),qDb:C(H,G("getBatteryApiTimeoutMilliseconds"),5E3),km:C(R,G("keySystemId"),ka.km),$_a:C(T,G("keySystemList"),void 0,void 0),eNb:C(H,G("hdcpGlobalTimeout1"),1E4),fNb:C(H,G("hdcpGlobalTimeout2"),1E4),c$b:C(H,G("hdcpQueryTimeout1"),1E3),d$b:C(H,G("hdcpQueryTimeout2"),1E3),Y1a:C(H,G("hdcpQueryTimeout2"),100),gNb:C(I,G("microsoftHwdrmRequiresHevc"),!1),fra:C(I,G("microsoftClearLeadRequiresSwdrm"),!1),bNb:C(I,G("microsoftEnableDeviceInfo"),!1),cNb:C(I,G("microsoftEnableHardwareInfo"),!1),dNb:C(I,G("microsoftEnableHardwareReset"),!1),Z_b:C(I,G("useHevcCodecForDolbyVision"),!1),oAb:C(I,G("enableMediaCapabilities"),!1),wRb:C(I,G("powerEfficientForVideo"),!1),vLb:C(I,"logMediaPipelineStatus",!1),VX:C(I,G("renderDomDiagnostics"),!0),J0a:function(){return -1;},oN:C(K,G("logDisplayMaxEntryCount"),ka.oN,-1),BLb:C(K,G("logToConsoleLevel"),-1),s7b:C(K,G("bladerunnerCmdHistorySize"),10),Uv:function(){return S.Uv;},P_b:C(I,"upgradeNetflixId",!0),dqa:C(I,"logErrorIfEsnNotProvided",!0),mla:C(I,"enforceSinglePlayback",ka.mla),o4:C(I,"enforceSingleSession",ka.o4),wja:C(I,"closeOtherPlaybacks",!0),Fqb:C(H,"asyncLoadTimeout",15E3,1),KLb:C(H,"mainThreadMonitorPollRate",0),x$b:C(I,"nrdpAlwaysShowUIOverlay",!1),z$b:C(I,"nrdpValidateSSOTokens",!0),vac:C(I,"showNrdpDebugBadging",!1),waa:function(){return S.waa;},nz:function(){return S.nz;},tL:function(){return S.tL;},QI:function(){return S.QI;},rab:C(H,G("verbosePlaybackInfoDenominator"),0),D9:C(I,"renderTimedText",!0),yRb:C(I,"preBufferTimedText",!0),uBb:C(I,"fatalOnTimedTextLoadError",!0),Ewa:C(da,"timedTextStyleDefaults",{}),P$:C(da,"timedTextStyleOverrides",{}),Dwa:C(da,"timedTextFontFamilyMapping",ka.Dwa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),kP:C(H,"timedTextSimpleFallbackThreshold",ka.kP.da(y.Vu)),lka:C(R,G("customDfxpUrl")),yAb:C(I,G("enableSubtitleTrackerLogging"),!1),DVb:C(I,G("sendSubtitleQoeLogblobOnMidplay"),!1),Zia:C(M,"cdnIdWhiteList",[]),Yia:C(M,"cdnIdBlackList",[]),dma:C(R,G("forceAudioTrack")),NNb:C(I,"muteVolumeOnPlaybackClose",!0),A$b:C(R,"nrdpVolumeControlType","VOLUME_STREAM"),ima:C(R,G("forceTimedTextTrack")),yMb:C(H,G("maxRetriesTimedTextDownload"),0),aZb:C(H,G("timedTextRetryInterval"),8E3),MXb:C(R,"storageType","idb",/^(none|fs|idb|ls)$/),F0a:C(H,"lockExpiration",1E4),tLb:C(H,"lockRefresh",3E3),Rsb:C(I,"captureUnhandledExceptions",!0),eIb:C(I,"ignoreUnhandledExceptionDuringPlayback",!0),b_b:C(I,"unhandledExceptionsArePlaybackErrors",!1),u$a:C(R,"unhandledExceptionSource",""),cSb:C(I,"preserveLastFrame",!1),nNb:C(H,"minBufferingTimeInMilliseconds",4E3),ySb:C(H,"progressBackwardsGraceTimeMilliseconds",4E3),zSb:C(H,"progressBackwardsMinPercent",10),Grb:C(R,G("bookmarkIgnoreBeginning"),"0",wa),Hrb:C(R,G("bookmarkIgnoreEnd"),"5%",wa),Irb:C(R,G("bookmarkIgnoreEndForBranching"),"60000",wa),sN:C(H,"maxParallelConnections",3),qua:C(I,"reportThroughputInLogblobs",!0),uw:C(H,"minAudioMediaRequestDuration",16E3),lNb:C(H,"minAudioMediaRequestDurationBranching",0),$z:C(H,"minVideoMediaRequestDuration",4E3),qNb:C(H,"minVideoMediaRequestDurationAL1",0),rNb:C(H,"minVideoMediaRequestDurationBranching",0),U7:C(H,"minAudioMediaRequestSizeBytes",0),c8:C(H,"minVideoMediaRequestSizeBytes",0),Gzb:C(I,"droppedFrameRateFilterEnabled",!1),Hzb:C(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),Jzb:C(function(Ea,Va,Ya,bb,Xa,mb){return N(Ea,Va,"[",function(Za){Za=Za.split(";");for(var Sa=Za.length;Sa--;){Za[Sa]=Za[Sa].split("|");for(var xa=Za[Sa].length;xa--;){Za[Sa][xa]=p.Ee(Za[Sa][xa]);}}return Za;},[function(Za){return v.isArray(Za) && 0 < Za.length;},function(Za){for(var Sa=Za.length;Sa-- && void 0 !== Za;){if(!v.isArray(Za[Sa]))return !1;for(var xa=Za[Sa].length;xa--;){if(!v.Fz(Za[Sa][xa],Ya,bb))return !1;}}return !0;},function(Za){if(void 0 !== Xa)for(var Sa=Za.length;Sa--;){if(Xa !== Za[Sa].length)return !1;}return !0;},function(Za){return void 0 === mb || Za.length >= mb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),h8b:C(I,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Izb:C(H,"droppedFrameRateFilterMinHeight",384),Kzb:C(M,"droppedFramesPercentilesList",[]),hNb:C(I,"microsoftScreenSizeFilterEnabled",!1),jKb:C(I,"keyStatusFilterEnabled",!1),$Ya:C(H,"hdcpEngagementWaitTime",0),ZZb:C(I,"uiLabelFilterEnabled",!0),YZb:C(P,"uiLabelFilter",{}),ryb:C(H,G("defaultVolume"),100,0,100),Mqa:C(H,G("maxPlaybackRate"),2,0,16),ETa:C(I,"disableVideoRightClickMenu",!1),X7:C(H,"minDecoderBufferMilliseconds",1E3,0,l.lB),EH:C(H,"optimalDecoderBufferMilliseconds",5E3,0,l.lB),x3a:C(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.lB),pD:C(H,"minimumTimeBeforeBranchDecision",3E3,0,l.lB),Sz:C(H,"maxDecoderBufferMilliseconds",ka.Sz.da(z.ka),0,l.lB),fTa:C(H,"decoderTimeoutMilliseconds",1E4,1),K2a:C(H,"noRenderTimeoutMilliseconds",0),dzb:C(I,"disgardMediaOnAppend",!1),kqb:C(I,"appendMediaBeforeInit",!1),vQb:C(H,"pauseTimeoutLimitMilliseconds",18E5),Coa:C(H,"inactivityMonitorInterval",3E4,0),Vob:C(M,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),$L:C(I,"enableTrickPlay",!1),Mpb:C(M,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),KZb:C(H,"trickPlayHighResolutionBitrateThreshold",1E3),LZb:C(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),OZb:C(L,"trickplayBufferFactor",.5),JZb:C(H,"trickPlayDownloadRetryCount",1),Eqa:C(R,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),zra:C(R,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),NCa:C(P,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),z1a:C(K,"maxIQRSamples",Infinity),f2a:C(K,"minIQRSamples",5),kab:C(I,"useResourceTimingAPI",!1),aIb:C(I,"ignoreFirstByte",!0),PMb:C(I,"mediaRequestAsyncLoadStart",!0),j0b:C(I,"useXHROnLoadStart",!1),Cla:C(M,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),y3:C(H,"connectTimeoutMilliseconds",8E3,500),Era:C(H,"noProgressTimeoutMilliseconds",8E3,500),c0b:C(I,"useOnLineApi",!1),N9a:C(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),p$b:C(H,"netflixRequestExpiryTimeout",0),Z0b:C(I,"webkitDecodedFrameCountIncorrectlyReported",!1),jVb:C(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),tQb:C(I,"pausePlaybackOnAudioSwitch",!0),G$:C(T,G("supportedAudioTrackTypes"),[],void 0,1),w6:C(H,"initialLogFlushTimeout",5E3),D4a:C(R,"playdataPersistKey",S.Uv?"unsentplaydatatest":"unsentplaydata"),fva:C(I,"sendPersistedPlaydata",!0),cRb:C(H,"playdataPersistIntervalMilliseconds",4E3),Q$b:C(H,"playdataSendDelayMilliseconds",1E4),d$:C(I,"sendPlaydataBackupOnInit",!0),yLb:C(T,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Z1a:C(I,"midplayEnabled",!0),S7:C(H,"midplayIntervalMilliseconds",3E5),$1a:C(M,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),e4:C(H,"downloadReportDenominator",0),vzb:C(H,"downloadReportInterval",3E5),I0a:C(H,"logConfigApplyDenominator",0),zQa:C(da,G("bookmarkByMovieId"),{}),TU:C(I,G("forceLimitedDurationLicense"),!1),fD:C(H,G("licenseRenewalRequestDelay"),0),Jsa:C(H,G("persistedReleaseDelay"),1E4),x9b:C(I,G("limitedDurationFlagOverride"),void 0),U6a:C(H,"safariPlayPauseWorkaroundDelay",100),j1b:C(H,"workaroundValueForSeekIssue",1200),Uia:C(I,G("callEndOfStream"),ka.Uia),GQb:C(I,"performRewindCheck",!0),wBb:C(I,"fatalOnUnexpectedSeeking",!0),vBb:C(I,"fatalOnUnexpectedSeeked",!0),xWb:C(I,G("setVideoElementSize")),Ptb:C(I,G("clearVideoSrc"),!0),rTa:C(H,G("delayPlayPause"),0),Zo:C(I,G("useTypescriptEme"),!1),bab:C(I,G("useEncryptedEvent"),!0),sU:C(R,G("drmPersistKey"),"unsentDrmData"),h5a:C(I,G("promiseBasedEme"),!1),Qsb:C(I,"captureKeyStatusData",!1),o6:C(I,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),xOb:C(I,G("nudgeSourceBuffer"),!1),Wua:C(K,G("seekDelta"),1),vX:C(I,G("preciseSeeking"),!1),BRb:C(I,G("preciseSeekingOnTwoCoreDevice"),!1),qTa:C(da,G("delayErrorHandling")),b$a:C(I,"trackingLogEnabled",!1),c$a:C(function(Ea,Va){var Ya;Ya=da(Ea,Va,void 0);Ya && Object.entries(Ya).forEach(function(bb){var Xa;Xa=aa(bb);bb=Xa.next().value;Xa=Xa.next().value;"true" === Xa?Ya[bb]=!0:"false" === Xa && (Ya[bb]=!1);});return Ya;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Kwa:C(R,"trackingLogPath","/customerevents/track/debug"),AZb:C(M,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Lk:C(R,"esn",""),hVa:C(R,"fesn",""),tAb:C(I,G("enablePerformanceLogging"),!1),sUa:C(I,G("enableEmeVerboseLogging"),!1),lAb:C(I,"enableLastChunkLogging",!1),appId:C(R,"appId","",ua),sessionId:C(R,"sessionId","",ua),aja:C(R,"cdnProxyUrl"),g0b:C(I,"usePlayReadyHeaderObject",!1),KVa:C(H,"forceXhrErrorResponseCode",void 0),Fr:{m$b:C(R,"mslApiPath","/msl/"),V$b:C(R,"proxyPath",""),PA:C(R,"uiVersion"),daa:C(R,"uiPlatform"),C7b:function(){return "0";},ita:C(T,"preferredLanguages",l.fAa,/^[a-zA-Z-]{2,5}$/,1),pCb:C(R,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),pYb:C(I,"supportPreviewContentPin",!0),qYb:C(I,"supportWatermarking",!0),aXb:C(I,"showAllSubDubTracks",!1),v8b:C(I,G("failOnGuidMismatch"),!1)},u9:{enabled:C(I,"qcEnabled",!1),Ko:C(R,"qcPackageId","")},Cs:C(I,"useRangeHeader",!1),DU:C(I,"enableMilestoneEventList",!0),jL:C(R,"authenticationType",S.Uv?ka.iQa:ka.jL),hQa:C(da,"authenticationKeyNames",p.Xb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),AYb:C(R,"systemKeyWrapFormat"),mIb:C(I,"includeNetflixIdUserAuthData",!0),UWb:C(I,"shouldSendUserAuthData",!0),iva:C(I,"sendUserAuthIfRequired",ka.iva),QWb:C(I,"shouldClearUserData",!1),VI:C(I,"usesMsl",!0),INb:C(I,"mslDeleteStore",!1),KNb:C(I,"mslPersistStore",!0),Pub:C(I,"correctNetworkForShortTitles",!0),vRb:C(I,"postplayHighInitBitrate",!1),kCb:C(I,"flushHeaderCacheOnAudioTrackChange",!0),uYb:C(I,"supportsUnequalizedDownloadables",!0),aTa:C(H,G("debugAseDenominator"),100),gT:C(H,"aseAudioBufferSizeBytes",ka.gT.da(y.Vu)),hT:C(H,"aseVideoBufferSizeBytes",ka.hT.da(y.Vu)),vw:C(H,"minInitVideoBitrate",560),kra:C(H,"minHCInitVideoBitrate",560),Uz:C(H,"maxInitVideoBitrate",Infinity),BW:C(H,"minInitAudioBitrate",0),AW:C(H,"minHCInitAudioBitrate",0),nW:C(H,"maxInitAudioBitrate",65535),T7:C(H,"minAcceptableVideoBitrate",235),DW:C(H,"minRequiredBuffer",3E4),hj:C(H,"minPrebufSize",7800),W7:C(H,"minCheckBufferingCompleteInterval",999999),Tta:C(L,"rebufferingFactor",1),Vr:C(H,"maxBufferingTime",2600),txa:C(I,"useMaxPrebufSize",!0),lD:C(H,"maxPrebufSize",45E3),Oqa:C(H,"maxRebufSize",Infinity),t6:C(Q,"initialBitrateSelectionCurve",null),QZa:C(H,"initSelectionLowerBound",560),RZa:C(H,"initSelectionUpperBound",1050),M$:C(H,"throughputPercentForAudio",15),pia:C(H,"bandwidthMargin",10),qia:C(I,"bandwidthMarginContinuous",!1),ria:C(Q,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Jja:C(H,"conservBandwidthMargin",20),uwa:C(I,"switchConfigBasedOnInSessionTput",!1),QT:C(H,"conservBandwidthMarginTputThreshold",0),Kja:C(Q,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),n9a:C(I,"switchAlgoBasedOnHistIQR",!1),XD:C(R,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Nqa:C(K,"maxPlayerStateToSwitchConfig",-1),nqa:C(R,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),qca:C(L,"IQRThreshold",.5),roa:C(R,"histIQRCalcToUse","simple"),du:C(H,"maxTotalBufferLevelPerSession",0),k4:C(I,"enableDiscontiguousBuffering",!1),gma:C(M,"forceImmediateTransitionTypeForTitles",[]),fma:C(H,"forceImmediateTransitionExitZone",0),qxa:C(I,"useBufferSizeLimiter",!1),hZa:C(H,"highWatermarkLevel",3E4),V9a:C(H,"toStableThreshold",3E4),S$:C(H,"toUnstableThreshold",ka.S$.da(z.ka)),Nva:C(I,"skipBitrateInUpswitch",!0),Kxa:C(H,"watermarkLevelForSkipStart",8E3),loa:C(H,"highStreamRetentionWindow",9E4),oqa:C(H,"lowStreamTransitionWindow",51E4),noa:C(H,"highStreamRetentionWindowUp",3E5),qqa:C(H,"lowStreamTransitionWindowUp",3E5),moa:C(H,"highStreamRetentionWindowDown",6E5),pqa:C(H,"lowStreamTransitionWindowDown",0),koa:C(L,"highStreamInfeasibleBitrateFactor",.5),Nz:C(H,"lowestBufForUpswitch",15E3),t7:C(H,"lockPeriodAfterDownswitch",15E3),sqa:C(H,"lowWatermarkLevel",25E3),Oz:C(H,"lowestWaterMarkLevel",2E4),tqa:C(I,"lowestWaterMarkLevelBufferRelaxed",!1),Zqa:C(L,"mediaRate",1),G7:C(H,"maxTrailingBufferLen",1E4),kT:C(H,"audioBufferTargetAvailableSize",262144),tZ:C(H,"videoBufferTargetAvailableSize",1048576),K1a:C(H,"maxVideoTrailingBufferSize",8388608),t1a:C(H,"maxAudioTrailingBufferSize",393216),E4:C(L,"fastUpswitchFactor",3),Dla:C(L,"fastDownswitchFactor",1),Vz:C(H,"maxMediaBufferAllowed",24E4),Lva:C(I,"simulatePartialBlocks",!0),l8a:C(I,"simulateBufferFull",!0),Lja:C(I,"considerConnectTime",!1),Ija:C(L,"connectTimeMultiplier",1),Q0a:C(H,"lowGradeModeEnterThreshold",12E4),R0a:C(H,"lowGradeModeExitThreshold",9E4),w1a:C(H,"maxDomainFailureWaitDuration",3E4),s1a:C(H,"maxAttemptsOnFailure",18),WUa:C(I,"exhaustAllLocationsForFailure",!0),C1a:C(H,"maxNetworkErrorsDuringBuffering",20),A7:C(H,"maxBufferingTimeAllowedWithNetworkError",12E4),dVa:C(H,"fastDomainSelectionBwThreshold",2E3),A9a:C(H,"throughputProbingEnterThreshold",4E4),B9a:C(H,"throughputProbingExitThreshold",34E3),D0a:C(H,"locationProbingTimeout",1E4),lVa:C(H,"finalLocationSelectionBwThreshold",1E4),y9a:C(L,"throughputHighConfidenceLevel",.75),z9a:C(L,"throughputLowConfidenceLevel",.4),yUa:C(I,"enablePerfBasedLocationSwitch",!1),wu:C(I,"probeServerWhenError",!0),qta:C(H,"probeRequestTimeoutMilliseconds",8E3),ly:C(I,"allowSwitchback",!0),RH:C(H,"probeDetailDenominator",100),B7:C(H,"maxDelayToReportFailure",300),aqa:C(H,"locationStatisticsUpdateInterval",6E4),qSa:C(I,"countGapInBuffer",!1),nPa:C(I,"allowCallToStreamSelector",!0),HQa:C(H,"bufferThresholdForAbort",1E4),Pqa:C(H,"maxResponsesInitialTput",6),l4:C(I,"enableInitialTputLogging",!1),Msa:C(H,"pipelineScheduleTimeoutMs",2),Wz:C(H,"maxPartialBuffersAtBufferingStart",2),lra:C(H,"minPendingBufferLen",6E3),kD:C(H,"maxPendingBufferLen",12E3),tMb:C(H,"maxPendingBufferLenAL1",3E4),Qqa:C(H,"maxStreamingSkew",4E3),Lqa:C(H,"maxPendingBufferPercentage",10),uN:C(H,"maxRequestsInBuffer",60),E1a:C(H,"maxRequestsInBufferAL1",240),F1a:C(H,"maxRequestsInBufferBranching",120),b6:C(H,"headerRequestSize",4096),tla:C(I,"estimateHeaderSize",!0),zW:C(H,"minBufferLenForHeaderDownloading",1E4),wO:C(H,"reserveForSkipbackBufferMs",1E4),Qra:C(H,"numExtraFragmentsAllowed",2),wq:C(I,"pipelineEnabled",!1),u8a:C(H,"socketReceiveBufferSize",0),Q2:C(H,"audioSocketReceiveBufferSize",32768),xP:C(H,"videoSocketReceiveBufferSize",65536),ioa:C(H,"headersSocketReceiveBufferSize",32768),iaa:C(H,"updatePtsIntervalMs",1E3),Dia:C(H,"bufferTraceDenominator",100),nL:C(H,"bufferLevelNotifyIntervalMs",2E3),fL:C(H,"aseReportDenominator",0),L2:C(H,"aseReportIntervalMs",3E5),$zb:C(I,"enableAbortTesting",!1),Tob:C(H,"abortRequestFrequency",8),lwa:C(H,"streamingStatusIntervalMs",2E3),kA:C(H,"prebufferTimeLimit",24E4),V7:C(H,"minBufferLevelForTrackSwitch",2E3),Esa:C(H,"penaltyFactorForLongConnectTime",2),lqa:C(H,"longConnectTimeThreshold",200),Aha:C(H,"additionalBufferingLongConnectTime",2E3),Bha:C(H,"additionalBufferingPerFailure",8E3),MX:C(H,"rebufferCheckDuration",6E4),vUa:C(I,"enableLookaheadHints",!1),N0a:C(H,"lookaheadFragments",2),Wy:C(I,"enableOCSideChannel",!0),f0:C(P,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),F$a:C(I,"updateDrmRequestOnNetworkFailure",!1),pTa:C(I,"deferAseScheduling",!1),v1a:C(H,"maxDiffAudioVideoEndPtsMs",16E3),S3:C(H,"defaultHeaderCacheSize",4),R3:C(H,"defaultHeaderCacheDataPrefetchMs",8E3),wH:C(I,"neverWipeHeaderCache",!0),yra:C(H,"networkFailureResetWaitMs",2E3),xra:C(H,"networkFailureAbandonMs",6E4),F7:C(H,"maxThrottledNetworkFailures",3),L$:C(H,"throttledNetworkFailureThresholdMs",200),rqa:C(K,"lowThroughputThreshold",400),xla:C(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),s2a:C(I,"mp4ParsingInNative",!1),w8a:C(I,"sourceBufferInOrderAppend",!0),xA:C(I,"requireAudioStreamToEncompassVideo",!0),mPa:C(I,"allowAudioToStreamPastVideo",!0),$h:C(I,"enableManagerDebugTraces",!1),e1a:C(H,"managerDebugMessageInterval",1E3),d1a:C(H,"managerDebugMessageCount",20),W2a:C(I,"notifyManifestCacheEom",!1),Cia:C(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Bia:C(H,"bufferThresholdToSwitchToParallelConnMs",12E4),Y8:C(H,"periodicHistoryPersistMs",3E5),S9:C(H,"saveVideoBitrateMs",18E4),DPa:C(I,"appendMediaRequestOnComplete",!0),yaa:C(I,"waitForDrmToAppendMedia",!1),N4:C(I,G("forceAppendHeadersAfterDrm"),!1),XSb:C(I,G("reappendRequestsOnSkip"),!1),PNb:C(H,"netIntrStoreWindow",36E3),oNb:C(H,"minNetIntrDuration",8E3),rBb:C(H,"fastHistoricBandwidthExpirationTime",10368E3),lrb:C(H,"bandwidthExpirationTime",5184E3),oBb:C(H,"failureExpirationTime",86400),DHb:C(H,"historyTimeOfDayGranularity",4),bBb:C(I,"expandDownloadTime",!1),yNb:C(H,"minimumMeasurementTime",500),xNb:C(H,"minimumMeasurementBytes",131072),SYb:C(H,"throughputMeasurementTimeout",2E3),zIb:C(H,"initThroughputMeasureDataSize",262144),TYb:C(R,"throughputPredictor","ewma"),RYb:C(H,"throughputMeasureWindow",5E3),WYb:C(H,"throughputWarmupTime",5E3),QYb:C(H,"throughputIQRMeasureWindow",5E3),Sfb:C(H,"IQRBucketizerWindow",15E3),uub:C(H,"connectTimeHalflife",10),DUb:C(H,"responseTimeHalflife",10),CHb:C(H,"historicBandwidthUpdateInterval",2E3),wNb:C(H,"minimumBufferToStopProbing",1E4),Vua:C(R,"secondThroughputEstimator","none"),a7a:C(K,"secondThroughputMeasureWindowInMs",Infinity),dAb:C(T,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),IBb:C(P,"filterDefinitionOverrides",{}),iyb:C(R,"defaultFilter","throughput-ewma"),hVb:C(R,"secondaryFilter","none"),jyb:C(P,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),IW:C(I,"needMinimumNetworkConfidence",!0),uia:C(I,"biasTowardHistoricalThroughput",!0),tha:C(I,"addHeaderDataToNetworkMonitor",!1),Wva:C(I,"startMonitorOnLoadStart",!1),pua:C(I,"reportFailedRequestsToNetworkMonitor",!1),Jqa:C(K,"maxFastPlayBufferInMs",Infinity),Iqa:C(K,"maxFastPlayBitThreshold",Infinity),Kha:C(I,"appendFirstHeaderOnComplete",!0),tqb:C(R,"ase_stream_selector","optimized"),Loa:C(R,"initBitrateSelectorAlgorithm","default"),Iia:C(R,"bufferingSelectorAlgorithm","default"),bTa:C(R,"ase_ls_failure_simulation",""),oka:C(I,"ase_dump_fragments",!1),qka:C(H,"ase_location_history",0),rka:C(H,"ase_throughput",0),dTa:C(I,"ase_simulate_verbose",!1),rRb:C(H,"pollingPeriod",150),nLb:C(H,"loadTimeMs",18E4),ZLb:C(H,"marginTimeMs",1E4),Lma:C(I,"getDeviceIdFromBindDevice",!1),sha:C(I,"addFailedLogBlobsToQueue",!0),Ywa:{"content-sampling":{Vr:C(H,"contentSamplingMaxBufferingTime",3E3),DO:C(R,"contentSamplingSelectStartingVMAFMethod","fallback"),aT:C(I,"contentSamplingActivateSelectStartingVMAF",!0),gu:C(H,"contentSamplingMinStartingVideoVMAF",80),yW:C(H,"contentSamplingMinAcceptableVMAF",70),qH:C(H,"contentSamplingMinAllowedVmaf",60)},billboard:{vw:C(H,"billboardMinInitVideoBitrate",1050),Uz:C(H,"billboardMaxInitVideoBitrate",null),hj:C(H,"billboardMinPrebufSize",null),lD:C(H,"billboardMaxPrebufSize",null),Vr:C(H,"billboardMaxBufferingTime",null),Wz:C(H,"billboardMaxPartialBuffersAtBufferingStart",null),Oz:C(H,"billboardLowestWaterMarkLevel",6E3),Nz:C(H,"billboardLowestBufForUpswitch",25E3),XD:C(R,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{vw:C(H,"preplayMinInitVideoBitrate",1050),Uz:C(H,"preplayMaxInitVideoBitrate",null),hj:C(H,"preplayMinPrebufSize",null),lD:C(H,"preplayMaxPrebufSize",null),Vr:C(H,"preplayMaxBufferingTime",null),Wz:C(H,"preplayMaxPartialBuffersAtBufferingStart",null),Oz:C(H,"preplayLowestWaterMarkLevel",6E3),Nz:C(H,"preplayLowestBufForUpswitch",25E3)},embedded:{vw:C(H,"embeddedMinInitVideoBitrate",1050),Uz:C(H,"embeddedMaxInitVideoBitrate",null),hj:C(H,"embeddedMinPrebufSize",null),lD:C(H,"embeddedMaxPrebufSize",null),Vr:C(H,"embeddedMaxBufferingTime",null),Wz:C(H,"embeddedMaxPartialBuffersAtBufferingStart",null),Oz:C(H,"embeddedLowestWaterMarkLevel",6E3),Nz:C(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{vw:C(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),Uz:C(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),hj:C(H,"videoMerchBobHorizontalMinPrebufSize",null),lD:C(H,"videoMerchBobHorizontalMaxPrebufSize",null),Vr:C(H,"videoMerchBobHorizontalMaxBufferingTime",null),Wz:C(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Oz:C(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Nz:C(H,"videoMerchBobHorizontalLowestBufForUpswitch",null),Zw:C(T,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{vw:C(H,"miniModalHorizontalMinInitVideoBitrate",null),Uz:C(H,"miniModalHorizontalMaxInitVideoBitrate",null),hj:C(H,"miniModalHorizontalMinPrebufSize",null),lD:C(H,"miniModalHorizontalMaxPrebufSize",null),Vr:C(H,"miniModalHorizontalMaxBufferingTime",500),Wz:C(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Oz:C(H,"miniModalHorizontalLowestWaterMarkLevel",null),Nz:C(H,"miniModalHorizontalLowestBufForUpswitch",null)}},CAb:C(I,"enableVerbosePlaydelayLogging",!1),wAb:C(I,"enableSeamless",!1),qoa:C(H,"hindsightDenominator",0),poa:C(H,"hindsightDebugDenominator",0),f6:C(P,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),FU:C(I,"enableSessionHistoryReport",!1),ala:C(H,"earlyStageEstimatePeriod",1E4),m0a:C(H,"lateStageEstimatePeriod",3E4),D7:C(H,"maxNumSessionHistoryStored",30),b8:C(H,"minSessionHistoryDuration",3E4),ow:C(H,"maxActiveRequestsPerSession",3),y7:C(H,"maxActiveRequestsSABCell100",2),E7:C(H,"maxPendingBufferLenSABCell100",500),Wpa:C(I,"limitAudioDiscountByMaxAudioBitrate",!0),fe:C(P,"browserInfo",{}),csb:C(H,G("busyGracePeriod"),199),EVb:C(I,G("sendTransitionLogblob"),!0),Qzb:C(I,G("editVideoFragments"),!0),i4:C(I,G("earlyAppendSingleChildBranch"),!0),nIb:C(I,G("includeSegmentInfoOnLogblobs"),!0),gBb:C(I,"exposeTestData",!1),ska:C(I,"declareBufferingCompleteAtSegmentEnd",!0),dC:C(I,"applyProfileTimestampOffset",!1),Dk:C(I,"applyProfileStreamingOffset",!1),bqb:C(I,G("allowSmallSeekDelta"),!1),oXb:C(H,G("smallSeekDeltaThresholdMilliseconds"),u.A0),bAb:C(I,"enableCDMAttestedDescriptors",!1),I9:C(I,"requireDownloadDataAtBuffering",!1),J9:C(I,"requireSetupConnectionDuringBuffering",!1),Wta:C(I,"recordFirstFragmentOnSubBranchCreate",!1),Orb:C(I,"branchingAudioTrackFrameDropSmallSeekFix",!0),IVa:C(I,"forceL3WidevineCdm",!1),fab:C(I,"useMobileVMAF",!1),xTa:C(R,"desiredVMAFTypeMobile","phone_plus_lts"),yTa:C(R,"desiredVMAFTypeNonMobile","plus_lts"),aT:C(I,"activateSelectStartingVMAF",!1),gu:C(H,"minStartingVideoVMAF",1),yW:C(H,"minAcceptableVMAF",1),qH:C(H,"minAllowedVmaf",1),fqb:C(I,"alwaysNotifyEOSForPlaygraph",!0),EU:C(I,"enableNewAse",!0),laa:C(I,"useNewApi",!0),hAb:C(I,"enableHudsonFieldTest",!1),SHb:C(T,"hudsonTitles",["81127954","70125931","80158148"]),sMb:C(H,"maxPartialBuffersAtHudson",1),COb:C(H,"numberOfChunksPerSegment",4),EYb:C(H,"targetContentLatency",1E4),FYb:C(H,"targetLongContentLatency",3E4),zNb:C(H,"minimumTimeDelay",1),hla:C(I,"enableWsslEstimate",!1),z7:C(H,"maxAllowedOutstandingRequests",4),aL:C(I,"alwaysRunUnderflowTimer",!0),mra:C(H,"minStreamableConcurrencyWindow",3E3),hwa:C(L,"streamableConcurrencyFactor",.3),DT:C(H,"bufferingConcurrencyWindow",7800),jXb:C(I,"singleStreamablePerBranch",!0),n4:C(I,"enableResolutionVMAFStreamFilter",!1),N9:C(P,"resolutionVMAFCappingRuleList",{}),Gsa:C(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),$yb:C(I,"disableSkipping",!1),kaa:C(I,"useHLSPlayer",ka.kaa),rxa:C(I,G("useExitZones"),!0),qUb:C(I,"requestSegmentVmaf",!1),iA:C(P,"perFragmentVMAFConfig",{enabled:!1})};Pa=!0;b.Gja=function(Ea){var Va,Ya,bb;Va=d.ja.get(B.cd).id;if(0 < b.config.I0a && 0 === Va % b.config.I0a)try{Ya=d.ja.get(t.Fm);bb=d.ja.get(w.tx).vt("config","info",{params:Ea});Ya.Bc(bb);}catch(Xa){d.log.error("Failed to log config$apply",Xa);}nb._cad_global.config=b.config;h.rb(Ea);Ea && (X=p.Xb({},Ea,{qN:!0}),p.Xb(X,O,{qN:!0}),F(ia,b.config),X.istestaccount && d.log.trace("Config applied for",pa(Pa?X:Ea)),Pa=!1);};b.Gja(X);};b.oub=function(D,E){return v.Oe(D) && "%" == D[D.length - 1]?q.Oi(parseFloat(D) * E / 100):D | 0;};b.$Ra=function(D){return D?(D=p.Xb({},b.config),p.Xb(D,{EH:b.config.x3a},{dA:!0})):b.config;};b.pub=function(D){var E;E=p.Xb({},b.config);D=c(D);return p.Xb(E,D,{dA:!0});};b.Hja=function(D){D=c(D);return p.Xb({},a(184)(D),{dA:!0});};b.ZRa=function(D,E,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9"));D={uw:D?b.config.lNb:b.config.uw,$z:D?b.config.rNb:F?b.config.qNb:b.config.$z,uN:D && F?Math.max(b.config.F1a,b.config.E1a):D?b.config.F1a:F?b.config.E1a:b.config.uN,kD:F?b.config.tMb:b.config.kD,i4:!E};return p.Xb({},a(184)(D),{dA:!0});};b.rub=c;b.qub=f;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ze=b.cb=b.tf=b.Qb=b.ba=b.tca=b.TE=b.Ka=void 0;(function(c){c.B0a="loadedtracks";c.A0a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Rp="currenttimechanged";c.x$a="unthrottledcurrenttimechanged";c.Gia="bufferedtimechanged";c.dUa="durationchanged";c.xab="videosizechanged";c.g4a="pausedchanged";c.Zsa="playingchanged";c.IUa="endedchanged";c.pL="busychanged";c.gia="audiotracklistchanged";c.Vm="audiotrackchanged";c.KA="timedtexttracklistchanged";c.Jn="timedtexttrackchanged";c.fZ="trickplayframeschanged";c.x2a="mutedchanged";c.Dab="volumechanged";c.Hva="showsubtitle";c.hua="removesubtitle";c.Y0b="watermark";c.rpa="isReadyToTransition";c.VM="inactivated";c.e_a="internalPlaybackError";c.pVb="segmentmaploaded";c.qVb="segmentpresenting";c.lQa="autoplaywasallowed";c.T2="autoplaywasblocked";})(b.Ka || (b.Ka={}));(b.TE || (b.TE={})).jY="playgraphsegmenttransition";b.tca=a;a.p7a="serverTimeChanged";(function(c){c.eL="aseReport";c.brb="authorized";c.kia="autoplayWasAllowed";c.Wh="autoplayWasBlocked";c.qrb="bandwidthMeterAggregateUpdate";c.uy="bufferUnderrun";c.closed="closed";c.fg="closing";c.Rp="currentTimeChanged";c.pG="downloadComplete";c.VM="inactivated";c.o0a="licenseAdded";c.nN="licensed";c.Lz="locationSelected";c.zqa="manifestClosing";c.iH="manifestPresenting";c.J7="mediaBufferChanged";c.s8="nextBranchingSegmentChosen";c.zq="playbackStart";c.yq="playbackReady";c.kk="repositioned";c.YH="repositioning";c.V6a="safePlayRequested";c.jI="segmentPresenting";c.pac="segmentComplete";c.mY="serverSwitch";c.h8a="shouldUpdateVideoDiagInfo";c.eP="subtitleError";c.zwa="throttledMediaTimeChanged";c.y$a="unthrottledMediaTimeChanged";c.jP="timedTextRebuffer";c.KA="timedTextTrackListChanged";c.fZ="trickPlayFramesChanged";c.qP="tryRecoverFromStall";c.jxa="updateNextBranchingSegmentWeights";c.n0b="userInitiatedPause";c.oab="userInitiatedResume";})(b.ba || (b.ba={}));(function(c){c[c.GJ=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.oe=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Qb || (b.Qb={}));(function(c){c[c.oe=1]="NORMAL";c[c.ud=2]="BUFFERING";c[c.pJa=3]="STALLED";})(b.tf || (b.tf={}));(function(c){c[c.Jf=1]="WAITING";c[c.Ec=2]="PLAYING";c[c.Vg=3]="PAUSED";c[c.Wq=4]="ENDED";})(b.cb || (b.cb={}));(function(c){c[c.qx=0]="INITIAL";c[c.uB=1]="SEEK";c[c.AR=2]="TRACK_CHANGED";c[c.OJ=3]="SEGMENT_CHANGED";c[c.x_=4]="FORCE_REBUFFER";})(b.ze || (b.ze={}));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(346),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cd="ApplicationSymbol";},function(r,b,a){b=a(114);b.kyb=0;r.exports={EventEmitter:b,Nh:a(733)};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ad=b.Voa=b.Gz=b.Oe=b.ypa=b.oJb=b.cJb=b.opa=b.Fz=b.q_a=b.Ba=b.wpa=b.isArray=b.M_a=b.Ah=b.Pc=b.is=void 0;r=a(193);b.is=r.wE;b.Pc=function(c){return b.is.yg(c);};b.Ah=function(c){return b.is.bL(c);};b.M_a=function(c){return b.is.hha(c);};b.isArray=function(c){return b.is.my(c);};b.wpa=function(c){return b.is.tPa(c);};b.Ba=function(c,f,l){return b.is.wi(c,f,l);};b.q_a=function(c,f,l){return b.is.Iha(c,f,l);};b.Fz=function(c,f,l){return b.is.eT(c,f,l);};b.opa=function(c){return b.is.XS(c);};b.cJb=function(c){return b.is.Rob(c);};b.oJb=function(c){return b.is.Sob(c);};b.ypa=function(c){return b.is.uPa(c);};b.Oe=function(c){return b.is.Ep(c);};b.Gz=function(c){return b.is.Sm(c);};b.Voa=function(c){return b.is.WS(c);};b.ad=function(c){return b.is.x2(c);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=!1;},function(r,b){function a(c,f){var l,m,d,g,h;if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.S=void 0;r=(function(){function c(f,l){"object" === typeof f?(this.pc=f.Zb,this.mb=f.U):(this.pc=f,this.mb=l);}c.compare=function(f,l){return f.ul(l);};c.abs=function(f){return new c(Math.abs(f.pc),f.mb);};c.tb=function(f){return 0 === f?c.bb:new c(f,1E3);};c.YY=function(f,l){return Math.floor(1E3 * f / l);};c.i8=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Zb:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{T:{get:function(){return c.YY(this.pc,this.mb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{MH:{get:function(){return 1E3 * this.pc / this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{cI:{get:function(){var f;f=this.MH;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{jh:{get:function(){return this.pc / this.mb;},enumerable:!1,configurable:!0}});c.prototype.Vf=function(f){f/=this.mb;return new c(Math.floor(this.pc * f),Math.floor(this.mb * f));};c.prototype.add=function(f){var l;if(this.mb === f.mb)return new c(this.pc + f.pc,this.mb);l=a(this.mb,f.mb);return new c(this.pc * l / this.mb + f.pc * l / f.mb,l);};c.prototype.Ca=function(f){var l;if(this.mb === f.mb)return new c(this.pc - f.pc,this.mb);l=a(this.mb,f.mb);return new c(this.pc * l / this.mb - f.pc * l / f.mb,l);};c.prototype.sD=function(f){return new c(this.pc * f,this.mb);};c.prototype.wl=function(f){var l;if("number" === typeof f){l=a(this.pc,f);return l !== this.pc?this.Vf(l / this.pc * this.mb).wl(f):new c(this.pc / f,this.mb);}if(this.mb === f.mb)return this.pc / f.pc;l=a(this.mb,f.mb);return this.pc * l / this.mb / (f.pc * l / f.mb);};c.prototype.DTa=function(f){var l;if(this.mb === f.mb)return new c(Math.abs(this.pc - f.pc),this.mb);l=a(this.mb,f.mb);return new c(Math.abs(this.pc * l / this.mb - f.pc * l / f.mb),l);};c.prototype.Vta=function(){return new c(this.mb,this.pc);};c.prototype.compare=function(f,l){var m;if(this.mb === l.mb)return f(this.pc,l.pc);m=a(this.mb,l.mb);return f(this.pc * m / this.mb,l.pc * m / l.mb);};c.prototype.ul=function(f){var l;if(this.mb === f.mb)return this.pc - f.pc;l=a(this.mb,f.mb);return this.pc * l / this.mb - f.pc * l / f.mb;};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.x8=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.iw=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.zo=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.isFinite=function(){return ! !this.mb && isFinite(this.pc);};c.prototype.J5=function(f){return a(this.U,f);};c.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.mb};};c.prototype.toString=function(){return this.pc + "/" + this.mb;};c.prototype.Xd=function(){return this.pc + "/" + this.mb + " (" + this.T + "ms)";};c.bb=new c(0,1E3);c.yw=new c(1,1E3);c.vz=new c(Infinity,1);return c;})();b.S=r;},function(r,b,a){function c(f,l){return b.lo.assert(f,l);}Object.defineProperty(b,"__esModule",{value:!0});b.Txb=b.nka=b.Mxb=b.Qxb=b.ML=b.cU=b.Pxb=b.Rxb=b.NL=b.$Sa=b.Oxb=b.Nxb=b.rb=b.lo=b.Sxb=b.Ebb=void 0;r=a(8);a=a(96);b.Ebb=function(){c(!1);};b.Sxb=!0;b.lo=r.ja.get(a.Wu);b.rb=c;b.Nxb=function(f,l){return b.lo.wqb(f,l);};b.Oxb=function(f,l){return b.lo.xqb(f,l);};b.$Sa=function(f,l){return b.lo.N2(f,l);};b.NL=function(f,l){return b.lo.Dqb(f,l);};b.Rxb=function(f,l){return b.lo.Bqb(f,l);};b.Pxb=function(f,l){return b.lo.Wha(f,l);};b.cU=function(f,l){return b.lo.zqb(f,l);};b.ML=function(f,l){return b.lo.Cqb(f,l);};b.Qxb=function(f,l){return b.lo.Aqb(f,l);};b.Mxb=function(f,l){return b.lo.vqb(f,l);};b.nka=function(f,l){return b.lo.yqb(f,l);};b.Txb=function(){return b.lo.SIb();};},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,H=arguments.length;K < H;K++){J=arguments[K];for(var L in J){Object.prototype.hasOwnProperty.call(J,L) && (G[L]=J[L]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,H){K.__proto__=H;}) || (function(K,H){for(var L in H){H.hasOwnProperty(L) && (K[L]=H[L]);}});return f(G,J);}function l(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function m(G,J){var K,H,L;K={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > J.indexOf(H) && (K[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){L=0;for(H=Object.getOwnPropertySymbols(G);L < H.length;L++){0 > J.indexOf(H[L]) && Object.prototype.propertyIsEnumerable.call(G,H[L]) && (K[H[L]]=G[H[L]]);}}return K;}function d(G,J,K,H){var L,R,I;L=arguments.length;R=3 > L?J:null === H?H=Object.getOwnPropertyDescriptor(J,K):H;if("object" === typeof Reflect && "function" === typeof Reflect.Dr)R=Reflect.Dr(G,J,K,H);else for(var P=G.length - 1;0 <= P;P--){if(I=G[P])R=(3 > L?I(R):3 < L?I(J,K,R):I(J,K)) || R;}return (3 < L && R && Object.defineProperty(J,K,R),R);}function g(G,J){return function(K,H){J(K,H,G);};}function h(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(G,J);}function k(G,J,K,H){function L(R){return R instanceof K?R:new K(function(I){I(R);});}return new (K || (K=Promise))(function(R,I){function P(Q){try{M(H.next(Q));}catch(T){I(T);}}function N(Q){try{M(H["throw"](Q));}catch(T){I(T);}}function M(Q){Q.done?R(Q.value):L(Q.value).then(P,N);}M((H=H.apply(G,J || [])).next());});}function n(G,J){var L,R,I,P,N;function K(M){return function(Q){return H([M,Q]);};}function H(M){if(R)throw new TypeError("Generator is already executing.");for(;L;){try{if((R=1,I && (P=M[0] & 2?I["return"]:M[0]?I["throw"] || ((P=I["return"]) && P.call(I),0):I.next) && !(P=P.call(I,M[1])).done))return P;if((I=0,P))M=[M[0] & 2,P.value];switch(M[0]){case 0:case 1:P=M;break;case 4:return (L.label++,{value:M[1],done:!1});case 5:L.label++;I=M[1];M=[0];continue;case 7:M=L.zn.pop();L.Kn.pop();continue;default:if(!(P=L.Kn,P=0 < P.length && P[P.length - 1]) && (6 === M[0] || 2 === M[0])){L=0;continue;}if(3 === M[0] && (!P || M[1] > P[0] && M[1] < P[3]))L.label=M[1];else if(6 === M[0] && L.label < P[1])(L.label=P[1],P=M);else if(P && L.label < P[2])(L.label=P[2],L.zn.push(M));else {P[2] && L.zn.pop();L.Kn.pop();continue;}}M=J.call(G,L);}catch(Q){M=[6,Q];I=0;}finally{R=P=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}L={label:0,kd:function(){if(P[0] & 1)throw P[1];return P[1];},Kn:[],zn:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function p(G,J,K,H){void 0 === H && (H=K);G[H]=J[K];}function q(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function v(G){var J,K,H;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];H=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,J){var K,H,L;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);L=[];try{for(;(void 0 === J || 0 < J--) && !(H=G.next()).done;){L.push(H.value);}}catch(I){var R;R={error:I};}finally{try{H && !H.done && (K=G["return"]) && K.call(G);}finally{if(R)throw R.error;}}return L;}function t(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(u(arguments[J]));}return G;}function w(){var H;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);H=0;for(J=0;J < K;J++){for(var L=arguments[J],R=0,I=L.length;R < I;(R++,H++)){G[H]=L[R];}}return G;}function x(G){return this instanceof x?(this.cE=G,this):new x(G);}function y(G,J,K){var N,M,Q;function H(T){N[T] && (M[T]=function(da){return new Promise(function(pa,wa){1 < Q.push([T,da,pa,wa]) || L(T,da);});});}function L(T,da){var pa;try{pa=N[T](da);pa.value instanceof x?Promise.resolve(pa.value.cE).then(R,I):P(Q[0][2],pa);}catch(wa){P(Q[0][3],wa);}}function R(T){L("next",T);}function I(T){L("throw",T);}function P(T,da){(T(da),Q.shift(),Q.length) && L(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);Q=[];return (M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function z(G){var K,H;function J(L,R){K[L]=G[L]?function(I){return (H=!H)?{value:x(G[L](I)),done:"return" === L}:R?R(I):I;}:R;}return (K={},J("next"),J("throw",function(L){throw L;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function A(G){var H,L;function J(R){L[R]=G[R] && (function(I){return new Promise(function(P,N){I=G[R](I);K(P,N,I.done,I.value);});});}function K(R,I,P,N){Promise.resolve(N).then(function(M){R({value:M,done:P});},I);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof v?v(G):G[Symbol.iterator](),L={},J("next"),J("throw"),J("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return v;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.pSa=b.LVa=b.so=b.Of=b.Jd=b.jw=b.trim=b.CV=b.a9a=b.Gta=b.fQb=b.Ee=b.PPa=b.cRa=b.Xb=b.re=void 0;c=a(22);f=a(30);l=a(11);m=a(19);b.re=function(d,g){for(var h in d){d.hasOwnProperty(h) && g(h,d[h]);}};b.Xb=b.Xb || (function(d,g,h){var k,n,p;if(g)if(h){k=h.qN;n=h.prefix;p=h.dA;b.re(g,function(q,v){if(!p || f.Pc(v))d[(n || "") + (k?q.toLowerCase():q)]=v;});}else b.re(g,function(q,v){d[q]=v;});return d;});b.cRa=function(d,g,h,k){var n;if(d){n=d[g];m.ad(n) && (h=n.apply(d,l.slice.call(arguments,3)));}return h;};b.PPa=function(d){for(var g={},h=d.length;h--;){g[d[h]]=!0;}return g;};b.Ee=b.Ee || (function(d){return parseInt(d,10);});b.fQb=function(d){return (/^true$/i).test(d);};b.Gta=function(d,g){return l.Oi(d + l.EE() * (g - d));};b.a9a=function(d){return JSON.stringify(d,null,"  ");};b.CV=(function(){var g,h;function d(k){c.rb(void 0 !== g[k]);return g[k];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(k){return k.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(g){return g.replace(d,"");};})();b.jw=function(d){return Array.isArray(d)?d:[d];};b.Jd=b.Jd || (function(d){var g,h,k;if(d){g=d.stack;h=d.number;k=d.message;k || (k="" + d);g?(d="" + g,0 != d.indexOf(k) && (d=k + "\n" + d)):d=k;h && (d+="\nnumber:" + h);return d;}});b.Of=function(d){return m.Ba(d)?d.toFixed(0):"";};b.so=function(d){return m.Ba(d)?(d / 1E3).toFixed(0):"";};b.LVa=function(d){return m.Ba(d)?d.toFixed():"";};b.pSa=function(d){for(var g=[],h=0;h < d.length;h++){g[h]=d[h];}return g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ix=b.qLa=b.njb=b.Bj=b.pe=b.Ti=b.Uu=b.Ej=void 0;(function(a){a[a.Audio=0]="Audio";a[a.jLa=1]="Video";})(b.Ej || (b.Ej={}));(function(a){a[a.Xu=0]="Default";a[a.wx=1]="Microsoft";})(b.Uu || (b.Uu={}));(function(a){a[a.Xu=0]="Default";a[a.xba=1]="Cast";a[a.hJ=2]="Chrome";a[a.wx=3]="Microsoft";})(b.Ti || (b.Ti={}));(function(a){a[a.xR=0]="SD";a[a.B_=1]="HD";a[a.RJ=2]="UHD";a[a.Hs=3]="DV";a[a.px=4]="HDR10";a[a.aB=5]="AVCHigh";a[a.Ix=6]="VP9";a[a.xj=7]="AV1";})(b.pe || (b.pe={}));(function(a){a[a.zE=0]="Level_1_4";a[a.av=1]="Level_2_2";})(b.Bj || (b.Bj={}));b.njb=function(){};(function(a){a[a.D5b=0]="Platform";a[a.s2b=1]="CurrentTitle";})(b.qLa || (b.qLa={}));b.ix="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yf="IsTypeSymbol";},function(r,b,a){var f;function c(l){return l.filter(function(m,d){return l.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.w8=b.JGb=b.Qub=b.flatten=b.e2a=b.bub=b.Sha=b.ft=b.NPa=b.KPa=b.LPa=b.Ip=b.MPa=b.dg=void 0;f=a(2);b.dg=function(l,m){for(var d=0;d < l.length;d++){if(m(l[d],d,l))return l[d];}};b.MPa=function(l,m){for(var d=l.length - 1;0 <= d;--d){if(m(l[d],d,l))return l[d];}};b.Ip=function(l,m){var d;d=-1;return l.some(function(g,h,k){d=h;return m(g,h,k);})?d:-1;};b.LPa=function(l,m){for(var d=l.length - 1;0 <= d;d--){if(m(l[d],d,l))return d;}return -1;};b.KPa=c;b.NPa=function(l,m){m=l.indexOf(m);if(-1 === m)return !1;l.splice(m,1);return !0;};b.ft=function(l,m,d){return d?l.filter(function(g){return !m.some(function(h){return d(g,h);});}):l.filter(function(g){return -1 === m.indexOf(g);});};b.Sha=function(l,m){return c(l.concat(m));};b.bub=function(l){return function(m,d){return l(m) - l(d);};};b.e2a=function(l){return function(m,d){return l(m) < l(d)?m:d;};};b.flatten=function(l){var m;return (m=[]).concat.apply(m,f.__spread(l));};b.Qub=function(l,m){void 0 === m && (m=function(d){return d;});return l.reduce(function(d,g){g=m(g);return (void 0 === d[g]?d[g]=1:++d[g],d);},{});};b.JGb=function(l,m){return l.reduce(function(d,g){var h;h=m(g);return (void 0 === d[h]?d[h]=[g]:d[h].push(g),d);},{});};b.w8=function(l){return null !== l && void 0 !== l;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={S1b:{Fx:0,Q5b:1,name:["STARTUP","STEADY"]},C_:{qh:0,P5b:1,jjb:2,name:["STARTING","STABLE","UNSTABLE"]},Qa:{Lb:0,Jb:1,name:["AUDIO","VIDEO"]},gl:{Lb:0,Jb:1,name:["AUDIO","VIDEO"]},ph:{URL:0,VE:1,LOCATION:2,zx:3,name:["URL","SERVER","LOCATION","NETWORK"]},Hf:{HAVE_NOTHING:0,hB:1,ox:2,tJ:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},UE:{z1b:0,v3b:1,u5b:2,D4b:3,c5b:4,r6b:5,x3b:6,c4b:7,Fx:8,Gf:9,pda:10,Vhb:11,mba:12,Zfb:13,Yfb:14,Cib:15,Bib:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},Y2b:{zx:0,u2b:1,name:["NETWORK","DECODE"]},N5b:{w2b:"delayedSeamless",H3b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zf="UtilitiesSymbol";},function(r,b,a){var m,d;function c(g){return null !== g && void 0 !== g;}function f(g){return typeof g == b.rKa;}function l(g,h,k){var n,p,q;if(h)if(k){n=k.qN;p=k.prefix;q=k.dA;d.re(h,function(v,u){if(!q || c(u))g[(p || "") + (n?v.toLowerCase():v)]=u;});}else d.re(h,function(v,u){g[v]=u;});return g;}Object.defineProperty(b,"__esModule",{value:!0});b.L=b.Jd=b.CV=b.kM=b.fG=b.createElement=b.pt=b.OPa=b.s3=b.QO=b.Xb=b.ip=b.Ee=b.Gz=b.Oe=b.Ah=b.Pc=b.qKa=b.ajb=b.bjb=b.rKa=b.gE=b.Caa=b.Es=b.HP=b.GP=b.uk=b.V_=b.DE=b.EE=b.hp=b.Rn=b.Oi=b.Tca=b.vx=b.jJ=b.dhb=b.PE=b.il=b.jl=void 0;m=a(11);d=a(24);b.jl=function(){};b.il=1E3;b.PE=Object.create;b.dhb=Object.keys;b.jJ=Date.now;b.vx=Math.floor;b.Tca=Math.ceil;b.Oi=Math.round;b.Rn=Math.max;b.hp=Math.min;b.EE=Math.random;b.DE=Math.abs;b.V_=Math.pow;b.uk="$attributes";b.GP="$children";b.HP="$name";b.Es="$text";b.Caa="$parent";b.gE="$sibling";b.rKa="string";b.bjb="number";b.ajb="function";b.qKa="object";b.Pc=c;b.Ah=function(g){return typeof g == b.qKa;};b.Oe=f;b.Gz=function(g){return f(g) && g;};b.Ee=function(g){return parseInt(g,10);};b.ip=function(g,h,k){return g >= h?g <= k?g:k:h;};b.Xb=l;b.QO=function(g){return l({},g);};b.s3=function(g){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var k=arguments.length;h < k;){n=arguments[h++];if(c(n))return n;}};b.OPa=function(g,h){for(var k,n=!0,p;n;){for((n=!1,k=g.length);--k;){p=g[k];p[h] < g[k - 1][h] && (g[k]=g[k - 1],g[k - 1]=p,n=!0);}}};b.pt=function(g,h){if(g.length == h.length){for(var k=g.length;k--;){if(g[k] != h[k])return !1;}return !0;}return !1;};b.createElement=function(g,h,k,n){var p;p=m.Ue.createElement(g);h && (p.style.cssText=h);k && (p.innerHTML=k);n && d.re(n,function(q,v){p.setAttribute(q,v);});return p;};b.fG=function(g){var h;h="";d.re(g,function(k,n){h+=(h?";":"") + k + ":" + n;});return h;};b.kM=function(g,h,k){var n;if(g / h > k){n=b.Oi(h * k);g=h;}else (n=g,g=b.Oi(g / k));return {width:n,height:g};};b.CV=(function(){var h,k;function g(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};k=/[&'"<>]/g;return function(n){return n.replace(k,g);};})();b.Jd=function(g){var h,k;if(g){h=g.stack;k=g.number;g="" + g;h?(h="" + h,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;k && (h+="\nnumber:" + k);return h;}};b.L={Nl:1001,Aj:1003,xeb:1701,QBa:1713,yeb:1715,web:1721,y_:1723};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);b.ga=!1;r=(function(){function f(l,m,d,g,h){this.la=l;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ua={};this.Bn=g;}f.en=function(l,m){var g,k;function d(n){n && n.en && (n=n.en(m),n.length && (g=g.concat(n)));}g=[];l.type === m && g.push(l);if(l.Ua)for(var h in l.Ua){k=l.Ua[h];Array.isArray(k) && k.forEach(d);}return g;};f.dt=function(l,m){void 0 === l.Ua[m.type] && (l.Ua[m.type]=[]);l.Ua[m.type].push(m);};f.xl=function(l,m){return f.en(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.la;},enumerable:!0,configurable:!0}});f.prototype.uc=function(){var l;l=this.la.wa();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.dt=function(l){f.dt(this,l);};f.prototype.en=function(l){return f.en(this,l);};f.prototype.xl=function(l){return f.xl(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Ft=function(){return !0;};f.prototype.Jh=function(l){if((l=this.Ua[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.Fe=function(l,m){m=void 0 === m?this.la.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Bn,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Bn).toString(16) + ")");this.la.Fe(l,m,this);};f.prototype.Cu=function(l,m,d){d=void 0 === d?this.la.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Bn,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Bn).toString(16) + ")");this.la.Cu(l,m,d,this);};f.prototype.LX=function(l,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.IS(l,m));}return g;}return this.IS(l,m);};f.prototype.Ii=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(g){var h,k;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.la.offset+=h / 8;}else for(h in g){k=g[h];m[h]="string" === typeof k?d.LX(k):d.LX(k.type,k.length,k.Rha);}});return m;};f.prototype.IS=function(l,m){var d;d=this.byteLength - this.la.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.la.lb();break;case "int64":l=this.la.Sd();break;case "int32":l=this.la.wa();break;case "int16":l=this.la.Qc();break;case "string":l=this.la.Kta(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.Oa=!1;return f;})();b.yc=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(149);b.ga=!1;r=(function(){function f(l,m,d,g,h){this.la=l;this.type=m;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ua={};this.Bn=g;}f.en=function(l,m){var g,k;function d(n){n && n.en && (n=n.en(m),n.length && (g=g.concat(n)));}g=[];l.type === m && g.push(l);if(l.Ua)for(var h in l.Ua){k=l.Ua[h];Array.isArray(k) && k.forEach(d);}return g;};f.dt=function(l,m){void 0 === l.Ua[m.type] && (l.Ua[m.type]=[]);l.Ua[m.type].push(m);};f.xl=function(l,m){return f.en(l,m)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.la;},enumerable:!0,configurable:!0}});f.prototype.uc=function(){var l;l=this.la.wa();this.version=l >> 24;this.flags=l & 16777215;};f.prototype.dt=function(l){f.dt(this,l);};f.prototype.en=function(l){return f.en(this,l);};f.prototype.xl=function(l){return f.xl(this,l);};f.prototype.parse=function(){return !0;};f.prototype.Ft=function(){return !0;};f.prototype.Jh=function(l){if((l=this.Ua[l]) && Array.isArray(l) && 1 === l.length)return l[0];};f.prototype.Fe=function(l,m){m=void 0 === m?this.la.offset:m;c.assert(m >= this.startOffset + 8 && m + l <= this.startOffset + this.Bn,"Removal range [0x" + m.toString(16) + "-0x" + (m + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Bn).toString(16) + ")");this.la.Fe(l,m,this);};f.prototype.Cu=function(l,m,d){d=void 0 === d?this.la.offset:d;c.assert(d >= this.startOffset + 8 && d + l <= this.startOffset + this.Bn,"Removal range [0x" + d.toString(16) + "-0x" + (d + l).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Bn).toString(16) + ")");this.la.Cu(l,m,d,this);};f.prototype.LX=function(l,m,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.IS(l,m));}return g;}return this.IS(l,m);};f.prototype.Ii=function(l){var m,d;d=this;void 0 === m && (m={});l.forEach(function(g){var h,k;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.la.offset+=h / 8;}else for(h in g){k=g[h];m[h]="string" === typeof k?d.LX(k):d.LX(k.type,k.length,k.Rha);}});return m;};f.prototype.IS=function(l,m){var d;d=this.byteLength - this.la.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(l){case "int8":l=this.la.lb();break;case "int64":l=this.la.Sd();break;case "int32":l=this.la.wa();break;case "int16":l=this.la.Qc();break;case "string":l=this.la.Kta(Math.min(m,d));break;default:throw Error("Invalid type: " + l);}return l;};f.Oa=!1;return f;})();b.yc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oh="AsyncComponentLoaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xk="PlatformSymbol";b.rB="PlatformMutableSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mi="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zba="ConfigurableInputsSymbol";b.Ol="ValidatingConfigurableInputsSymbol";b.bQ="ConfigNameSymbol";b.OQ="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lh="ClockSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="WindowTimersSymbol";b.xE="JSONSymbol";b.bLa="UserAgentSymbol";b.HJ="NavigatorSymbol";b.Cgb="MediaSourceSymbol";b.jEa="LocationSymbol";b.pAa="DateSymbol";b.yda="PerformanceSymbol";b.qR="PlatformExtraInfoSymbol";},function(r,b,a){var m,d;function c(g,h){return g && g.$t && (h || !1 !== g.Ht);}function f(g,h,k){return !m.Ba(g) || g < h?h:g > k?k:g;}function l(g){if(!(this instanceof l))return new l(g);this.Ge=m.Ba(g)?g:void 0;}m=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,h){if(!g)throw (g=h?" : " + h:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},$G:c,Sla:function(g,h,k){var p,q,v,u;function n(t){var w;w=g[t];if(!w.$t || k && !k(w,t))return !1;u=t;return !0;}p=g.length;q=0;v=p;m.isArray(h) && (q=f(h[0],0,p),v=f(h[1],0,p),h=h[2]);h=f(h,q - 1,v);for(p=h - 1;p >= q;--p){if(n(p))return u;}for(p=h + 1;p < v;++p){if(n(p))return u;}return -1;},GNb:function(g,h){return Math.floor(g / (125 * h) * 1E3);},esb:function(g,h){return Math.ceil(g / 1E3 * h * 125);},n9b:function(g,h){return !g.slice(h + 1).some(c);},lp:l,dg:function(g,h){var k;return g.some(function(n,p,q){k=n;return h(n,p,q);})?k:void 0;},Ip:function(g,h){var k;return g.some(function(n,p,q){k=p;return h(n,p,q);})?k:-1;},o3:f};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Em=b.dv=b.nx=void 0;(function(a){a[a.uKa=0]="Test";a[a.GDa=1]="Int";a[a.Rib=2]="Staging";a[a.jib=3]="Prod";})(b.nx || (b.nx={}));(function(a){a[a.sR=0]="PreferMsl";a[a.zIa=1]="PreferNoMsl";a[a.Ygb=2]="NoMsl";})(b.dv || (b.dv={}));b.Em="GeneralConfigSymbol";},function(r,b,a){var f;function c(l,m,d,g,h,k,n,p,q,v,u,t){this.code=void 0 === l?f.M.Nl:l;this.xc=m;this.Kd=d;this.bn=g;this.aA=h;this.message=k;this.details=n;this.data=p;this.Zj=q;this.aRb=v;this.alert=u;this.Eha=t;this.$=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.md=void 0;f=a(3);c.Jd=function(l){var m,d,g;if(l){m=l.stack;d=l.number;g=l.message;g || (g="" + l);m?(l="" + m,0 !== l.indexOf(g) && (l=g + "\n" + l)):l=g;d && (l+="\nnumber:" + d);return l;}return "";};c.prototype.jU=function(l){this.details=c.Jd(l);this.data=l;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.xc,extCode:this.Kd,edgeCode:this.bn,mslCode:this.aA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Zj,playbackServiceError:this.aRb};};c.mma=function(l,m){return new c(l,f.L.Aj,void 0,void 0,void 0,void 0,m.message,m.stack);};c.Nab=function(l,m){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.g1b=function(l,m,d){return new c(l,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.md=c;},function(r,b,a){var m,d,g;function c(h){var k,n,p,u;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),v=q.next();!v.done;v=q.next()){u=v.value;-1 === p.indexOf(u) && p.push(u);}}catch(t){k={error:t};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return p;}function f(h,k,n,p,q){var v;Object.getOwnPropertyNames(h).filter(function(u){return q(u) && (n || !Object.prototype.hasOwnProperty.call(k,u)) && (p || !((u in k)));}).forEach(function(u){v=Object.getOwnPropertyDescriptor(h,u);void 0 !== v && Object.defineProperty(k,u,v);});}function l(h,k,n,p){var q,v;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));v=Object.getPrototypeOf(h);null !== v && v !== Object.prototype && l(v,k,n,p);f(h,k,!0,!0,function(u){return "constructor" !== u && -1 === q.indexOf(u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.sf=b.Oub=void 0;m=a(2);d=a(5);b.Oub=l;g=Object.getOwnPropertyNames(Function);b.sf=function(h,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);h.prototype?(l(h.prototype,k.prototype,n,p),f(h,k,n,p,function(q){return -1 === g.indexOf(q);})):f(h,k.prototype,n,p,function(q){return -1 === g.indexOf(q);});return k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oB="named";b.Y_="name";b.ER="unmanaged";b.fGa="optional";b.NQ="inject";b.CE="multi_inject";b.mKa="inversify:tagged";b.nKa="inversify:tagged_props";b.ida="inversify:paramtypes";b.rdb="design:paramtypes";b.mR="post_construct";},function(r,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.Km=b.xe=b.P=void 0;b.P=f;f.sJ="playready-h264mpl30-dash";f.rE="playready-h264mpl31-dash";f.cca="playready-h264mpl40-dash";f.iCa="playready-h264hpl22-dash";f.qQ="playready-h264hpl30-dash";f.rQ="playready-h264hpl31-dash";f.bca="playready-h264hpl40-dash";f.O0="vp9-profile0-L21-dash-cenc";f.SJ="vp9-profile0-L30-dash-cenc";f.TJ="vp9-profile0-L31-dash-cenc";f.HR="vp9-profile0-L40-dash-cenc";f.Jeb="hevc-main10-L30-dash-cenc";f.Keb="hevc-main10-L31-dash-cenc";f.Leb="hevc-main10-L40-dash-cenc";f.Meb="hevc-main10-L41-dash-cenc";f.EQ="hevc-main10-L50-dash-cenc";f.GQ="hevc-main10-L51-dash-cenc";f.D_="hevc-main10-L30-dash-cenc-prk";f.F_="hevc-main10-L31-dash-cenc-prk";f.H_="hevc-main10-L40-dash-cenc-prk";f.J_="hevc-main10-L41-dash-cenc-prk";f.E_="hevc-main10-L30-dash-cenc-prk-do";f.G_="hevc-main10-L31-dash-cenc-prk-do";f.I_="hevc-main10-L40-dash-cenc-prk-do";f.K_="hevc-main10-L41-dash-cenc-prk-do";f.FQ="hevc-main10-L50-dash-cenc-prk-do";f.HQ="hevc-main10-L51-dash-cenc-prk-do";f.d_="hevc-dv5-main10-L30-dash-cenc-prk";f.f_="hevc-dv5-main10-L31-dash-cenc-prk";f.fQ="hevc-dv5-main10-L40-dash-cenc-prk";f.i_="hevc-dv5-main10-L41-dash-cenc-prk";f.k_="hevc-dv5-main10-L50-dash-cenc-prk";f.m_="hevc-dv5-main10-L51-dash-cenc-prk";f.e_="hevc-dv5-main10-L30-dash-cenc-prk-do";f.g_="hevc-dv5-main10-L31-dash-cenc-prk-do";f.h_="hevc-dv5-main10-L40-dash-cenc-prk-do";f.j_="hevc-dv5-main10-L41-dash-cenc-prk-do";f.l_="hevc-dv5-main10-L50-dash-cenc-prk-do";f.n_="hevc-dv5-main10-L51-dash-cenc-prk-do";f.kCa="hevc-hdr-main10-L30-dash-cenc";f.lCa="hevc-hdr-main10-L31-dash-cenc";f.mCa="hevc-hdr-main10-L40-dash-cenc";f.nCa="hevc-hdr-main10-L41-dash-cenc";f.oCa="hevc-hdr-main10-L50-dash-cenc";f.pCa="hevc-hdr-main10-L51-dash-cenc";f.tQ="hevc-hdr-main10-L30-dash-cenc-prk";f.vQ="hevc-hdr-main10-L31-dash-cenc-prk";f.uJ="hevc-hdr-main10-L40-dash-cenc-prk";f.yQ="hevc-hdr-main10-L41-dash-cenc-prk";f.AQ="hevc-hdr-main10-L50-dash-cenc-prk";f.CQ="hevc-hdr-main10-L51-dash-cenc-prk";f.uQ="hevc-hdr-main10-L30-dash-cenc-prk-do";f.wQ="hevc-hdr-main10-L31-dash-cenc-prk-do";f.xQ="hevc-hdr-main10-L40-dash-cenc-prk-do";f.zQ="hevc-hdr-main10-L41-dash-cenc-prk-do";f.BQ="hevc-hdr-main10-L50-dash-cenc-prk-do";f.DQ="hevc-hdr-main10-L51-dash-cenc-prk-do";f.ubb="av1-main-L20-dash-cbcs-prk";f.vbb="av1-main-L21-dash-cbcs-prk";f.Paa="av1-main-L30-dash-cbcs-prk";f.Qaa="av1-main-L31-dash-cbcs-prk";f.Raa="av1-main-L40-dash-cbcs-prk";f.Saa="av1-main-L41-dash-cbcs-prk";f.Taa="av1-main-L50-dash-cbcs-prk";f.Uaa="av1-main-L51-dash-cbcs-prk";f.xib=[f.sJ];f.Geb=[f.rE,f.cca];f.Aea=[f.D_,f.F_,f.H_,f.J_,f.EQ,f.GQ];f.Bea=[f.E_,f.G_,f.I_,f.K_,f.FQ,f.HQ];f.eca=[f.tQ,f.vQ,f.uJ,f.yQ,f.AQ,f.CQ];f.dca=[f.uQ,f.wQ,f.xQ,f.zQ,f.BQ,f.DQ];f.oAa=[f.d_,f.fQ,f.k_,f.f_,f.i_,f.m_];f.nAa=[f.e_,f.h_,f.l_,f.g_,f.j_,f.n_];f.Zaa=[f.qQ,f.rQ,f.bca];f.gLa=[f.SJ,f.TJ,f.HR];f.Ix=[f.O0,f.SJ,f.TJ,f.HR];f.xj=[f.Paa,f.Qaa,f.Raa,f.Saa,f.Taa,f.Uaa];f.aca=f.xib.concat(f.Geb);b.xe=c;c.sE="heaac-2-dash";c.qCa="heaac-5.1-dash";c.tE="heaac-2hq-dash";c.cF="xheaac-dash";c.cQ="ddplus-2.0-dash";c.Aba="ddplus-5.1-dash";c.dQ="ddplus-atmos-dash";b.Km=a;a.Eib="simplesdh";a.Dba="dfxp-ls-sdh";a.Q0="webvtt-lssdh-ios8";a.FJ="nflx-cmisc";},function(r,b,a){var m,d,g;function c(h){return function(k,n){return k.Qta(n,h);};}function f(h,k){return h.v9.JSb[k] || l(h,k);}function l(h,k){h=h.wz.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.ny=b.Zta=b.object=b.SAb=b.url=b.fa=b.Qk=b.Zwa=b.RIb=b.C$=b.string=b.QA=b.Yc=b.WC=b.config=void 0;m=a(51);d=a(4);g=a(138);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(p,q,v){var u,t;u=void 0 !== k?k:q;t=v.get;void 0 !== t && (v.get=function(){var w;if(!this.GJb(q))return this.OFb(q);a:{w=(this.$pb || n?f:l)(this,u.toString());if(void 0 !== w)if((w=h(this.SW,w),w instanceof g.jp))this.OVa(u,w);else break a;w=t.bind(this)();}this.J6a(q,w);return w;});return v;};};b.WC=function(h,k){return h.B5a(k);};b.Yc=function(h,k){return h.Jta(k);};b.QA=function(h,k){return h.Eq(k);};b.string=function(h,k){return h.Qta(k);};b.C$=function(h,k){return h.Eh(k,b.string);};b.RIb=function(h,k){return h.Eh(k,b.WC);};b.Zwa=function(h,k){return h.Eh(k,b.QA);};b.Qk=function(h,k){h=h.Eq(k);return h instanceof g.jp?h:d.Hc(h);};b.fa=function(h,k){h=h.Eq(k);return h instanceof g.jp?h:m.fa(h);};b.url=c(/^\S+$/);b.SAb=function(h){return function(k,n){return k.A5a(n,h);};};b.object=function(){return function(h,k){return h.C5a(k);};};b.Zta=c;b.ny=function(h,k){return function(n,p){return n.Eh(p,h,k);};};},function(r,b,a){var l,m,d,g;function c(h,k){var n;n=g.call(this,h,k) || this;n.bSa=k;n.debug=h.debug;n.ta=h.Sf.hb(n.bSa);return n;}function f(h,k){this.bSa=k;this.xta={};this.wz=h.wz;this.SW=h.SW;this.v9=h.v9;}Object.defineProperty(b,"__esModule",{value:!0});b.We=b.SP=b.oKa=void 0;r=a(1);l=a(597);m=a(0);d=a(138);b.oKa="isTestAccount";f.prototype.OVa=function(){};f.prototype.J6a=function(h,k){this.xta[h]=[k,this.wz.P9];};f.prototype.GJb=function(h){return l.hda.of(this.xta[h]).map(function(k){return k[1];}).or(-1) < this.wz.P9;};f.prototype.OFb=function(h){return l.hda.of(this.xta[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Wa.Object.defineProperties(f.prototype,{$pb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.wz && this.wz.data){h=this.wz.data[b.oKa];"undefined" !== typeof h && (k=h.toString());h=this.SW.Jta(k);h=h instanceof d.jp?!1:h;}else h=!1;return h;}}});g=f;g=r.__decorate([m.R(),r.__param(0,m.el()),r.__param(1,m.el())],g);b.SP=g;la(c,g);c.prototype.OVa=function(h,k){this.ta.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,m.el()),r.__param(1,m.el())],a);b.We=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FNb=b.platform=b.fm=b.Sb=b.QEb=b.mV=b.IG=b.Z0a=b.ZE=b.ce=b.vk=b.aF=void 0;c=a(2);c.__exportStar(a(167),b);c.__exportStar(a(346),b);c.__exportStar(a(706),b);c.__exportStar(a(707),b);c.__exportStar(a(708),b);f=a(99);Object.defineProperties(b,{aF:{enumerable:!0,get:function(){return f.aF;}}});c.__exportStar(a(720),b);c.__exportStar(a(349),b);c.__exportStar(a(213),b);c.__exportStar(a(21),b);l=a(350);Object.defineProperties(b,{vk:{enumerable:!0,get:function(){return l.vk;}}});m=a(54);Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return m.ce;}}});d=a(215);Object.defineProperties(b,{ZE:{enumerable:!0,get:function(){return d.ZE;}}});c.__exportStar(a(353),b);b.Z0a=function(h){b.platform.HV(h);return a(732).REa;};b.IG=function(h){b.platform.HV(h);return Promise.resolve().then(function(){return c.__importStar(a(250));}).then(function(k){return k.IG();});};b.mV=function(h,k){b.platform.HV(h);return Promise.resolve().then(function(){return c.__importStar(a(407));}).then(function(n){return n.mV(k);});};b.QEb=function(){return a(219);};r=c.__importDefault(a(28));b.Sb=r.default;r=a(940);b.fm=r.fm;r=c.__importDefault(a(6));b.platform=r.default;g=a(941);b.FNb=function(){return {dr:g.dr};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gj="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dca="LogBatcherConfigSymbol";b.Fm="LogBatcherSymbol";b.mEa="LogBatcherProviderSymbol";},function(r,b,a){var h,k,n,p,q,v,u,t;function c(){var w,x;if(w=b.E5.RNa)return w;w=v.a0.search.substr(1);x=w.indexOf("#");0 <= x && (w=w.substr(0,x));w=f(w);return b.E5.RNa=w;}function f(w){for(var x=/[+]/g,y=(w || "").split("&"),z={},A,B=0;B < y.length;B++){w=p.trim(y[B]);A=w.indexOf("=");0 <= A?z[decodeURIComponent(w.substr(0,A).replace(x,"%20")).toLowerCase()]=decodeURIComponent(w.substr(A + 1).replace(x,"%20")):z[w.toLowerCase()]=null;}return z;}function l(w){return (w=(/function (.{1,})\(/).exec(w.toString())) && 1 < w.length?w[1]:"";}function m(w){return l(w.constructor);}function d(w){return v.sort.call(w,function(x,y){return x - y;});}function g(w){for(var x=0,y=w.length;y--;){x+=w[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.tRb=b.JG=b.VWa=b.X6=b.qRb=b.z_a=b.hcb=b.icb=b.jCb=b.mt=b.lub=b.kM=b.FBb=b.DH=b.xbb=b.NP=b.ybb=b.OZ=b.wbb=b.NIb=b.fG=b.WRb=b.Ura=b.Gma=b.getFunctionName=b.MN=b.hX=b.E5=b.GFb=b.y5a=b.bPa=b.gSa=b.QSb=b.pt=b.PRa=void 0;h=a(12);k=a(22);n=a(8);p=a(24);q=a(30);v=a(11);u=a(19);t=a(63);b.PRa=function(w,x){if(w === x)return !0;if(!w || !x)return !1;for(var y in w){if(w.hasOwnProperty(y) && (!x.hasOwnProperty(y) || w[y] !== x[y]))return !1;}return !0;};b.pt=b.pt || (function(w,x){if(w.length == x.length){for(var y=w.length;y--;){if(w[y] != x[y])return !1;}return !0;}return !1;});b.QSb=function(w){var x;if(w){x=w.length;if(x)return (x=p.Gta(0,x - 1),w[x]);}};b.gSa=function(w,x){if(w.length != x.length)return !1;w.sort();x.sort();for(var y=w.length;y--;){if(w[y] !== x[y])return !1;}return !0;};b.bPa=function(w,x,y){function z(){w.removeEventListener(x,z);y.apply(this,arguments);}w.addEventListener(x,z);};b.y5a=function(){var w,x,y,z,A,B;w=v.Ue.cookie.split("; ");x=w.length;A={};for(y=0;y < x;y++){if(z=p.trim(w[y])){B=z.indexOf("=");0 < B && (A[z.substr(0,B)]=z.substr(B + 1));}}return A;};b.GFb=c;b.E5=Object.assign(c,{RNa:void 0});b.hX=f;b.MN=function(w){var x;x="";p.re(w,function(y,z){x && (x+="&");k.rb(q.Oe(z) || u.Ba(z) || u.Voa(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=l;b.Gma=m;b.Ura=function(w){var x;x="";u.isArray(w) || u.wpa(w)?x=v.reduce.call(w,function(y,z){return y + (32 <= z && 128 > z?v.iKa(z):".");},""):q.Oe(w)?x=w:p.re(w,function(y,z){x+=(x?", ":"") + "{" + y + ": " + (u.ad(z)?l(z) || "function":z) + "}";});return "[" + m(w) + " " + x + "]";};b.WRb=function(w,x){w.firstChild?w.insertBefore(x,w.firstChild):w.appendChild(x);};b.fG=b.fG || (function(w){var x;x="";p.re(w,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.NIb=function(w,x){var y;y=w[0];if(x <= y[0])return y.slice(1);for(var z=1,A;A=w[z++];){if(x <= A[0]){w=(x - y[0]) / (A[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + w * ((A[z] || 0) - (y[z] || 0)));}return x;}y=A;}return y.slice(1);};b.wbb=function(w,x){var A;for(var y={},z=0;z < x.length;z++){A=x[z];if("string" != typeof A && "number" != typeof A)return !1;y[x[z]]=1;}for(z=0;z < w.length;z++){if((A=w[z],!y[A]))return !1;}return !0;};b.OZ=d;b.ybb=g;b.NP=function(w,x){var y,z,A,B;y=-1;z=w.length;if(1 === arguments.length){for(;++y < z && !(null != (A=w[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=w[y]) && B > A && (A=B);}}else {for(;++y < z && !(null != (A=x.call(w,w[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(w,w[y],y)) && B > A && (A=B);}}return A;};b.xbb=function(w,x){var y,z,A,B;y=-1;z=w.length;if(1 === arguments.length){for(;++y < z && !(null != (A=w[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=w[y]) && A > B && (A=B);}}else {for(;++y < z && !(null != (A=x.call(w,w[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(w,w[y],y)) && A > B && (A=B);}}return A;};b.DH=function(w){return u.ad(w.then)?w:new Promise(function(x,y){w.oncomplete=function(){x(w.result);};w.onerror=function(){y(w.error);};});};b.FBb=function(w,x){var z,A,B,D,E,F;function y(C){0 > z.indexOf(C) && u.Ba(C) && z.push(C);}w=w.slice();d(w);z=[];if(!x || !x.length)return w;if(!w.length)return [];A=x.length;try{for(;A--;){D="" + x[A];E=q.Ee(D);switch(D[D.length - 1]){case "-":for(B=w.length;B--;){F=w[B];if(F < E){y(F);break;}}break;case "+":for(B=0;B < w.length;B++){if((F=w[B],F > E)){y(F);break;}}break;default:0 <= w.indexOf(E) && y(E);}}}catch(C){}z.length || z.push(w[0]);d(z);return z;};b.kM=b.kM || (function(w,x,y){var z;if(w / x > y){z=v.Oi(x * y);w=x;}else (z=w,w=v.Oi(w / y));return {width:z,height:w};});b.lub=function(w,x,y){for(var z=[],A=0;A < x;A++){z.push(v.V_(w[A] - y,2));}return v.dFa(g(z) / z.length);};b.mt=function(w,x){var y;y=w.length;x=(y - 1) * x + 1;if(1 === x)return w[0];if(x == y)return w[y - 1];y=v.vx(x);return w[y - 1] + (x - y) * (w[y] - w[y - 1]);};b.jCb=function(w,x){if(!u.isArray(w))throw Error("boxes is not an array");if(0 >= w.length)throw Error("There are no boxes in boxes");x=u.isArray(x)?x:[x];for(var y=w.length,z=0;z < y;z++){for(var A=0;A < x.length;A++){if(w[z].type == x[A])return w[z];}}throw Error("Box not found " + x);};b.icb=function(w){return w.SDb("trak/mdia/minf/stbl/stsd/" + h.Tya + "|" + h.Uya).children.filter(function(x){return "sinf" == x.type && x.w8b.schm.jac == t.gx;})[0].SDb("schi/tenc").dj;};b.hcb=function(w){var y;function x(z,A){var B;B=y[z];y[z]=y[A];y[A]=B;}y=new Uint8Array(w);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.z_a=function(){return u.ad(v.hf.requestMediaKeySystemAccess);};b.qRb=function(w){return function(x){return x && x[w];};};u.ad(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(w,x){var y,z;void 0 === w && (w=0);void 0 === x && (x=this.byteLength);w=Math.floor(w);x=Math.floor(x);0 > w && (w+=this.byteLength);0 > x && (x+=this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - w)return new ArrayBuffer(0);y=new ArrayBuffer(x - w);z=new Uint8Array(y);w=new Uint8Array(this,w,x - w);z.set(w);return y;});b.X6=function(w){return w && 0 == w.toLowerCase().indexOf("https");};b.VWa=function(){var w,x;w=new ArrayBuffer(4);x=new Uint8Array(w);w=new Uint32Array(w);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == w[0]?"LE":2712847316 == w[0]?"BE":"undefined";};b.JG=function(){var w,x,y;try{w=/playercore.*js/;x=v.ev.getEntries("resource").filter(function(z){return null !== w.exec(z.name);});if(x && 0 < x.length){y=v.Oi(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.tRb=function(w,x,y){if(w && w.length){if(y && y.ytb)try{w.forEach(function(z,A){var B;B=(A=y.ytb[A]) && A.media;B && q.Oe(B)?(!1,B=n.Ar(B).buffer,z.media={arrayBuffer:B,length:B.byteLength,stream:x,kc:A.cdn}):n.log.warn("chunk not in cache",z.kg);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b,a){var l;function c(){return l.FR.apply(this,arguments) || this;}function f(m){return new l.Ls(m,b.kE);}Object.defineProperty(b,"__esModule",{value:!0});b.bb=b.BFa=b.yca=b.Vu=b.kE=b.SMb=b.pKb=b.fa=b.sy=b.ucb=void 0;l=a(312);la(c,l.FR);b.ucb=c;b.sy=f;b.fa=function(m){return new l.Ls(m,b.Vu);};b.pKb=function(m){return new l.Ls(m,b.yca);};b.SMb=function(m){return new l.Ls(m,b.BFa);};b.kE=new c(1,"b");b.Vu=new c(8 * b.kE.qg,"B",b.kE);b.yca=new c(1024 * b.Vu.qg,"KB",b.kE);b.BFa=new c(1024 * b.yca.qg,"MB",b.kE);b.bb=f(0);},function(r,b,a){var f,l,m,d,g;function c(){return f.bc.get(m.cd).Jz.da(g.ka);}Object.defineProperty(b,"__esModule",{value:!0});b.Utb=b.vja=b.ERa=b.Stb=b.Ttb=b.r3=b.aj=void 0;f=a(194);l=a(37);m=a(17);d=a(81);g=a(4);b.aj=function(){return f.bc.get(m.cd).Wb().da(g.ka);};b.r3=function(){return f.bc.get(l.Lh).bf.da(g.Un);};b.Ttb=function(){return f.bc.get(m.cd).Jz.da(g.Un);};b.Stb=function(){return f.bc.get(d.rx).Hy();};b.ERa=c;b.vja=function(){return f.bc.get(l.Lh).bf.da(g.ka);};b.Utb=function(){return c();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hm="PboCommandContextSymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cea=b.ce=void 0;c=a(2);f=a(727);(function(l){l[l.Uo=0]="startPlayback";l[l.Wp=1]="endPlayback";l[l.Ln=2]="underflow";})(b.ce || (b.ce={}));r=(function(){function l(m){this.config=m;this.oO=[];}l.prototype.yi=function(m){var d,g;g=c.__read(this.config.X3.filter(function(h){return h.bj === m.bj;}),1)[0];(null !== (d=null === g || void 0 === g?void 0:g.enabled) && void 0 !== d?d:m.enabled)?this.oO.push(m):m.Kb && m.Kb();};l.prototype.uo=function(m){var d,g,h,p,q;g={};h=[];try{for(var k=c.__values(this.oO),n=k.next();!n.done;n=k.next()){p=n.value;try{q=p.uo({Ei:m});q && (p.tD?g[p.tD]=q:g=c.__assign(c.__assign({},g),q));}catch(u){h.push(u);}}}catch(u){var v;v={error:u};}finally{try{n && !n.done && (d=k.return) && d.call(k);}finally{if(v)throw v.error;}}h.length && (g["rpt-error"]=new f.Xxa("Reporting error",h));return g;};return l;})();b.cea=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tdb="Cannot apply @injectable decorator multiple times.";b.Udb="Metadata key was used more than once in a parameter:";b.gR="NULL argument";b.MDa="Key Not Found";b.bbb="Ambiguous match found for serviceIdentifier:";b.vcb="Could not unbind serviceIdentifier:";b.Ogb="No matching bindings found for serviceIdentifier:";b.lgb="Missing required @injectable annotation in:";b.mgb="Missing required @inject or @multiInject annotation in:";b.ijb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.xcb="Circular dependency found:";b.F4b="Sorry, this feature is not fully implemented yet.";b.Efb="Invalid binding type:";b.Qgb="No snapshot available to restore.";b.Ifb="Invalid return type in middleware. Middleware must return!";b.Hfb="Value provided to function binding must be a function!";b.Kfb="The toSelf function can only be applied when a constructor is used as service identifier";b.Ffb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.dbb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Mcb="Invalid Container constructor argument. Container options must be an object.";b.Kcb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Jcb="Invalid Container option. Auto bind injectable must be a boolean";b.Lcb="Invalid Container option. Skip base check must be a boolean";b.zgb="Cannot apply @postConstruct decorator multiple times in the same class";b.Uhb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.ycb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Iib="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Go=b.YXb=b.f3a=void 0;b.f3a=function(a,c){return a - c;};b.YXb=function(a,c){return a.localeCompare(c);};b.Go=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vpa=b.Oh=void 0;(function(a){a[a.kp=0]="STANDARD";a[a.Qn=1]="LIMITED";})(b.Oh || (b.Oh={}));b.Vpa=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var f,l;function c(m,d){var g;g=b.Tn[0];g == d && (g=b.Tn[1]);g?g.close(function(){c(m,d);}):m && m(f.Ve);}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=b.JHa=b.Eda=b.Fda=b.sB=b.Hda=b.Gda=b.Kda=b.Jda=b.Tn=b.Lda=b.Ida=void 0;f=a(12);l=a(22);b.Ida=c;b.Lda=function(m,d){switch(m){case b.Gda:b.Jda.push(d);return;case b.Hda:b.Kda.push(d);return;}l.rb(!1);};b.Tn=[];b.Jda=[];b.Kda=[];b.Gda=1;b.Hda=3;b.sB={index:0,r2a:void 0,Xla:void 0};b.Fda="network";b.Eda="media";b.JHa="timedtext";b.KHa="playback";},function(r,b,a){var c,f;c=a(128);f=a(176);r.exports=function(l){return function h(d,g){switch(arguments.length){case 0:return h;case 1:return f(d)?h:c(function(k){return l(d,k);});default:return f(d) && f(g)?h:f(d)?c(function(k){return l(k,g);}):f(g)?c(function(k){return l(d,k);}):l(d,g);}};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Q5=b.PM=b.R5=b.NC=b.zl=b.df=void 0;r=a(72);c=a(61);f=a(11);b.df=new r.wk();b.zl=1;b.NC=2;b.R5=3;b.PM=4;b.Q5=5;c.Nf(function(){var m,d,g;function l(h,k){if(d)d.on(h,k);else nb.addEventListener(h,k);}m=nb.jQuery;d=m && m(nb);m=(m=nb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;g=f.Ue.hidden;m?m(function(h){b.df.vc(b.zl,h);}):l("beforeunload",function(h){b.df.vc(b.zl,h);});l("keydown",function(h){b.df.vc(b.NC,h);});l("resize",function(){b.df.vc(b.R5);});f.Ue.addEventListener("visibilitychange",function(){g !== f.Ue.hidden && (g=f.Ue.hidden,b.df.vc(b.PM));});});(function(){nb.addEventListener("error",function(l){b.df.vc(b.Q5,l);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nf=void 0;b.Nf=function(a){return setTimeout(a,0);};},function(r,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pn=b.Ia=b.Hj=void 0;(function(l){l[l.kp=0]="STANDARD";l[l.Qn=1]="LIMITED";l[l.t5b=2]="PREVIEW";})(c || (c={}));(function(l){l[l.HAVE_NOTHING=0]="HAVE_NOTHING";l[l.HAVE_METADATA=1]="HAVE_METADATA";l[l.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";l[l.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";l[l.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(l){l.pbb="asl_start";l.nbb="asl_comp";l.u1b="asl_exc";l.obb="asl_fail";l.Kib="stf_creat";l.$eb="idb_open";l.Xeb="idb_block";l.gfb="idb_upgr";l.ffb="idb_succ";l.Yeb="idb_error";l.Zeb="idb_invalid_state";l.bfb="idb_open_timeout";l.dfb="idb_open_wrkarnd";l.efb="idb_storelen_exc";l.afb="idb_open_exc";l.cfb="idb_timeout_invalid_storelen";l.tgb="msl_load_data";l.vgb="msl_load_no_data";l.ugb="msl_load_failed";})(r=b.Hj || (b.Hj={}));(function(l){l.lda="PlaybackRequestStart";l.kda="PlaybackRequestEnd";l.w0="RequestPrefetchManifestStart";l.v0="RequestPrefetchManifestEnd";l.u0="RequestManifestStart";l.t0="RequestManifestEnd";l.s0="RequestLicenseStart";l.r0="RequestLicenseEnd";l.XP="RequestTimedTextUrlStart";l.WP="RequestTimedTextUrlEnd";l.VP="RequestAudioUrlStart";l.UP="RequestAudioUrlEnd";l.ZP="RequestVideoUrlStart";l.YP="RequestVideoUrlEnd";l.Iaa="AppendBufferStart";l.Haa="AppendBufferEnd";l.eea="SetMediaKeysStart";l.dea="SetMediaKeysEnd";l.A_="GenerateChallengeStart";l.z_="GenerateChallengeEnd";l.MZ="ApplyLicenseStart";l.LZ="ApplyLicenseEnd";})(b.Ia || (b.Ia={}));b.Pn=a;a.zca=c;a.nSa=function(l){return ["STANDARD","LIMITED","PREVIEW"][l];};a.Hj=r;a.L_=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v5=b.vJ=b.iea=b.D0=b.tLa=b.uLa=b.mda=b.w_=b.gx=void 0;b.gx="cenc";b.w_="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.mda="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.uLa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.tLa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.D0="SW_SECURE_CRYPTO";b.iea="SW_SECURE_DECODE";b.vJ="HW_SECURE_DECODE";b.v5=function(a){var c;c=a.getConfiguration();return [b.vJ,b.iea,b.D0].find(function(f){var l;return null === (l=c.videoCapabilities) || void 0 === l?void 0:l.some(function(m){return m.robustness === f;});});};},function(r,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Cx=b.hr=void 0;la(a,Error);b.hr=a;b.Cx="PromiseTimerSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);r=(function(){function f(l,m){this.key=l;this.value=m;}f.prototype.toString=function(){return this.key === c.oB?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ns="PboConfigSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(728),b);r.__exportStar(a(216),b);r.__exportStar(a(729),b);r.__exportStar(a(730),b);r.__exportStar(a(731),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Si={K0a:"logblob",sa:"manifest",zg:"license",events:"events",bind:"bind",O3a:"pair",ping:"ping",config:"config"};b.tB={tib:"reqAttempt",uib:"reqName",ncb:"browsername",scb:"browserversion",bhb:"osname",chb:"osversion",Scb:"clienttype",hjb:"uiversion"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zu="EmeConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YE="TimingApiSymbol";b.cR="MilestoneTimingApiSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(147),b);r.__exportStar(a(804),b);r.__exportStar(a(172),b);},function(r,b,a){var f,l;function c(){var m,d;m=this;this.Ss={};this.on=function(g,h,k){m.addListener(g,h,k);};this.addListener=function(g,h,k){m.Ss && (m.Ss[g]=m.Ss[g] || new l.Vda(!0)).add(h,k);};this.removeListener=function(g,h){m.Ss && m.Ss[g] && m.Ss[g].removeAll(h);};this.Rma=function(g){return m.Ss && m.Ss[g]?m.Ss[g].flatten():[];};d=this;this.vc=function(g,h,k){var n;if(d.Ss){n=d.Rma(g);for(g={ZI:0};g.ZI < n.length;(g={ZI:g.ZI},g.ZI++)){k?(function(p){return function(){var q;q=n[p.ZI];f.Nf(function(){q(h);});};})(g)():n[g.ZI].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.wk=void 0;f=a(61);l=a(331);c.prototype.wh=function(){this.Ss=void 0;};b.wk=c;},function(r,b,a){var k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F;function c(C){var G,J,K,H;G=C.url.split("?");J=G[0];K="sc=" + C.fVb;H=C.RQa?"random=" + (1E17 * z.EE()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=H?"&" + H:"";C.kc && !q.X6(J) && (C=n.config && n.config.aja) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function f(C){var G,J,K,H;G=C.url.split("?");J=G[0];K="bb_reason=" + C.reason;H=C.RQa?"random=" + (1E17 * z.EE()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=H?"&" + H:"";C.kc && !q.X6(J) && (C=n.config && n.config.aja) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function l(C,G){var J,K,H;J=C.url.split("?");K=J[0];H=m(C);H && (G.ds=H,(void 0 === C.Cs?n.config.Cs:C.Cs)?(C.headers=C.headers || ({}),C.headers.Range="bytes=" + H):(G.ds=H,K="/" == K[K.length - 1]?K + "range/":K + "/range/",K+=H));H=C.RQa?"random=" + (1E17 * z.EE()).toFixed(0):"";n.config.Wy && C.q$ && (H="sc=" + C.q$ + (H?"&" + H:""));K=J[1]?K + ("?" + J[1] + (H?"&" + H:"")):K + (H?"?" + H:"");C.kc && !q.X6(K) && (C=n.config && n.config.aja) && (K=C.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));G.url=K;}function m(C){var G;G=C.offset;if(void 0 !== G)return (x.cU(G),void 0 !== C.length?(C=C.offset + C.length - 1,x.cU(C),G + "-" + C):G + "-");}function d(){return !1 !== z.hf.onLine;}function g(C,G,J,K){var H,L;H=K.cta;L=K.headers;C.open(H?"POST":"GET",G,!J);switch(K.responseType){case b.DV:C.responseType="arraybuffer";break;case b.uoa:y.cRa(C,"overrideMimeType",void 0,"text/xml");}H && (G={"Content-Type":u.Oe(H)?"text/plain":"application/x-octet-stream"},L=L?u.Xb(G,L):G);L && y.re(L,function(R,I){C.setRequestHeader(R,I);});K.withCredentials && (C.withCredentials=!0);void 0 !== C.msCaching && (C.msCaching="disabled");H?C.send(H):C.send();}function h(C,G){switch(G.type){case b.DV:return C.response || new ArrayBuffer(0);case b.uoa:return C.responseXML;default:return C.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.DV=b.uoa=b.toa=b.voa=b.i6=b.nZa=b.mZa=b.g6=b.tjb=b.ujb=b.OHb=b.h6=b.LHb=b.MHb=b.KHb=b.NHb=b.ef=void 0;k=a(72);n=a(14);p=a(12);q=a(50);v=a(52);u=a(30);t=a(3);w=a(8);x=a(22);y=a(24);z=a(11);A=a(61);B=a(19);D=a(33);E={Im:1,G6b:2,Gbb:3};b.ef=(function(){var K,H,L,R;function C(I){var P;try{P=I.url;B.ypa(P)?0 === P.indexOf("https")?R.ssl++:0 === P.indexOf("http")?R["non-ssl"]++:R.invalid++:R.invalid++;}catch(N){}}function G(){H.vc(b.nZa);H.vc(b.voa);}function J(){H.vc(b.i6);H.vc(b.voa);}K=w.Di("Http");H=new k.wk();L=0;R={ssl:0,"non-ssl":0,invalid:0};w.ja.get(D.oh).register(t.M.qDa,function(I){n.config.c0b && (nb.addEventListener("online",G),nb.addEventListener("offline",J),b.h6=d);I(p.Ve);});return {addEventListener:H.addListener,removeEventListener:H.removeListener,download:function(I,P){var X,sa,O,S,ka,ia,Pa,Ea,Va,Ya,bb;function N(){var Xa;N=u.jl;bb && (clearTimeout(bb),bb=null);H.removeListener(b.i6,da);Va && (Va.onloadstart=null,Va.onreadystatechange=null,Va.onprogress=null,Va.onerror=null,Va.onload=null,Va=Va.onabort=null);Ea.$?!1:Ea.na != t.L.iB?X.warn("Download failed",sa,t.Ks(Ea)):X.trace("Download aborted",sa);Xa=O;O=void 0;for(var mb=Xa.length;mb--;){(function(){var Za;Za=Xa[mb];A.Nf(function(){Za(Ea);});})();}H.vc(b.mZa,Ea,!0);}function M(){bb && (clearTimeout(bb),bb=null);bb=setTimeout(pa,Ya?Pa:ia);}function Q(Xa,mb,Za,Sa){var xa,Ia;Ea.$=!1;Ea.na=Xa;xa=v.aj();Ia=Ea.mm;Ia.hi=Ia.hi || xa;Ia.Oo=Ia.Oo || xa;0 < mb && (Ea.$j=Ea.mf=mb);Za && (Ea.Bb=Za);Sa && (Ea.LD=Sa);Xa !== t.L.IQ && Xa !== t.L.uE && Xa !== t.L.LQ || !Va || (Va.onabort=null,wa());N();}function T(Xa){var mb,Za;try{Za=Xa.getResponseHeader("X-Netflix.Retry.Server.Policy");Za && (mb=JSON.parse(Za));}catch(Sa){!1;}return mb;}function da(){b.h6() || Q(t.L.IQ);}function pa(){Q(Ya?t.L.uE:t.L.LQ);}function wa(){try{Va && Va.abort();}catch(Xa){}}function ua(){Q(t.L.iB);}x.rb(P);X=I.j && I.j.log && w.zh(I.j,"Http") || K;sa={Num:L++};O=[P];S={};ia=I.y3 || n.config.y3;Pa=I.Era || n.config.Era;C(I);!1;Ea=(function(){var Xa,mb,Za;Xa=u.jl;mb=u.jl;Za=u.jl;return {request:I,type:I.responseType,mm:S,abort:wa,timeout:pa,oha:function(Sa){N !== u.jl && (x.rb(O,"Callback should be added before download starts."),O && O.unshift(Sa));},H8:function(Sa){Za(Sa);},J8:function(Sa){Xa(Sa);},xn:function(Sa){mb(Sa);},dWb:function(Sa){Za=Sa;},jWb:function(Sa){Xa=Sa;},VVb:function(Sa){mb=Sa;}};})();A.Nf(function(){var Xa,mb;if(B.ypa(I.url))try{if((l(I,Ea),ka=Ea.url,x.NL(ka),sa.Url=ka,b.h6())){!1;Va=new XMLHttpRequest();Xa=n.config.j0b && "undefined" != typeof Va.onloadstart;Xa && (Va.onloadstart=function(){var Za;Za=v.aj();S.Gq=Za;Ea.H8({mediaRequest:I,timestamp:Za});});Va.onreadystatechange=function(){if(2 == Va.readyState){Ya=!0;S.hi=v.aj();Va.onreadystatechange=null;M();!1;for(var Za=Ea,Sa=Va.getAllResponseHeaders().split("\n"),xa=Sa.length,Ia,Ma,Ta={};xa--;){if(Ia=Sa[xa])(Ma=Ia.indexOf(": "),1 <= Ma && Ma < Ia.length - 1 && (Ta[Ia.substr(0,Ma)]=Ia.substr(Ma + 2)));}Za.headers=Ta;Ea.J8({timestamp:S.hi,connect:!0,mediaRequest:I,start:S.Gq,rt:[S.hi - S.Gq]});}};Va.onprogress=function(Za){Ya=!0;S.Oja=Za.loaded;M();Za={mediaRequest:I,bytes:Za.loaded,timestamp:v.aj(),bytesLoaded:Za.loaded};Ea.J8(Za);};Va.onload=function(){var Za;if(N !== u.jl){x.rb(void 0 === S.Oo);S.Oo=v.aj();S.hi=S.hi || S.Oo;if(200 <= Va.status && 299 >= Va.status){Za=h(Va,Ea);Ea.parsed=!1;Ea.content=Za;Ea.$=!0;}else Va.status == F?Q(t.L.KQ,Va.status):Q(t.L.JQ,Va.status,Va.response,T(Va));N();}};Va.onabort=ua;Va.onerror=function(){var Za,Sa;Za=Va.status;"undefined" !== typeof n.config.KVa && (Za=n.config.KVa);if(0 < Za){if(Za == F)Q(t.L.KQ,Za);else {try{Sa=Va.responseText;}catch(xa){}Q(t.L.JQ,Za,Sa,T(Va));}}else Q(t.L.MQ);};mb=v.aj();g(Va,ka,!1,I);H.vc(b.g6,Ea,!0);Xa || (S.Gq=mb,Ea.H8({mediaRequest:I,timestamp:mb}));M();H.addListener(b.i6,da);}else A.Nf(Q.bind(void 0,t.L.IQ));}catch(Za){X.error("Exception starting download",Za,sa);Q(t.L.kca,void 0,u.Jd(Za));}else Q(t.L.zCa);});return Ea;},Md:R,w$b:function(I){var P;P=new XMLHttpRequest();I=f(I);P.open("HEAD",I);P.onreadystatechange=function(){2 == P.readyState && !1;};P.send();},cXb:function(I){var P;P=new XMLHttpRequest();I=c(I);P.open("HEAD",I);P.onreadystatechange=function(){2 == P.readyState && !1;};P.send();},lSb:function(I){var P,N,M;P=new XMLHttpRequest();N=I.url;M=I.iSb;P.open("HEAD",N);P.timeout=Math.max(2 * M.rLb,n.config.qta);P.onreadystatechange=function(){2 == P.readyState && (!1,M && M.IN({url:N}));};P.ontimeout=P.onerror=function(){!1;M && M.Mra({url:N});};P.send();},qib:E};})();b.NHb=c;b.KHb=f;b.MHb=l;b.LHb=m;b.h6=p.QIa;b.OHb=d;b.ujb=g;b.tjb=h;b.g6=1;b.mZa=2;b.nZa=3;b.i6=4;b.voa=5;b.toa=1;b.uoa=2;b.DV=3;F=420;nb._cad_global.http=b.ef;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q){this.context=h;this.errorCode=k;this.JUb=n;this.W1=q;this.name=p;}Object.defineProperty(b,"__esModule",{value:!0});b.oi=void 0;r=a(1);f=a(0);l=a(509);m=a(4);d=a(41);g=a(40);c.prototype.send=function(h,k,n,p,q,v){var u;u=this;v=void 0 === v?g.dv.sR:v;return this.XDb(h,k,n,v,p,q).then(function(t){return u.context.gzb.send(t.context,t.request);});};c.prototype.XDb=function(h,k,n,p,q,v){var u,t;try{u=this.context.lUb.create(this.context.rz.Hy(),k,n,q,p);t=this.Xrb(h,p,v);return Promise.resolve({context:t,request:u});}catch(w){return Promise.reject(w);}};c.prototype.Xrb=function(h,k,n){return {ef:this.context.ef,log:h,tl:this.name,url:this.context.V_b(l.QQa(this.context.th,this.context.Ch,this.name,k)),Gua:this.JUb,timeout:m.jh(59),headers:l.PQa(this.context.Ch,this.context.oG),rua:this.rua,Brb:n};};c.prototype.kn=function(h){return h instanceof d.md?h:l.kn(this.errorCode,h);};Wa.Object.defineProperties(c.prototype,{rua:{configurable:!0,enumerable:!0,get:function(){return this.W1;}}});a=c;a=r.__decorate([f.R(),r.__param(0,f.el()),r.__param(1,f.el()),r.__param(2,f.el()),r.__param(3,f.el()),r.__param(4,f.el())],a);b.oi=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gs={Request:"Request",mea:"Singleton",M0:"Transient"};b.zj={Sza:"ConstantValue",Tza:"Constructor",bBa:"DynamicValue",Zba:"Factory",Function:"Function",Instance:"Instance",Ufb:"Invalid",NIa:"Provider"};b.Gx={Lza:"ClassProperty",Uza:"ConstructorArgument",Eea:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dx="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jv="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa="StorageValidatorSymbol";b.bB="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cv="MediaKeySystemAccessServicesSymbol";},function(r,b,a){var f,l,m;function c(d,g){this.rv=g?[g]:[];this.Nfa="$op$" + m++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;f=a(12);l=a(22);m=0;c.prototype.addListener=function(d,g){var h;h=this;l.nka(d);l.rb(0 > this.rv.indexOf(d));d[f.h0 + this.Nfa]=g;this.rv=this.rv.slice();this.rv.push(d);this.rv.sort(function(k,n){return h.qXb(k,n);});};c.prototype.removeListener=function(d){var g;l.nka(d);this.rv=this.rv.slice();0 <= (g=this.rv.indexOf(d)) && this.rv.splice(g,1);};c.prototype.set=function(d,g){if(this.G !== d){g={oldValue:this.G,newValue:d,dm:g};this.G=d;d=this.rv;for(var h=d.length,k=0;k < h;k++){d[k](g);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (g.removeListener(k),h(n.newValue));}if(d(g.G))return h(g.G);g.addListener(k);});};c.prototype.qXb=function(d,g){return (d[f.h0 + this.Nfa] || 0) - (g[f.h0 + this.Nfa] || 0);};Wa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.ac=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rx="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gp={start:"start",stop:"stop",VV:"keepAlive",aM:"engage",splice:"splice"};b.Wba="EventPboCommandFactorySymbol";b.YJa="StartEventPboCommandSymbol";b.bKa="StopEventPboCommandSymbol";b.ODa="KeepAliveEventPboCommandSymbol";b.TJa="SpliceEventPboCommandSymbol";b.ABa="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Su=void 0;r=(function(){function a(c){this.Ye=c;}a.prototype.vva=function(c){this.Ye=c;};a.prototype.yRa=function(){this.Ye=void 0;};a.prototype.UU=function(c){return this.Ye && this.Ye.M8 && this.Ye.M8(c);};a.prototype.mM=function(c){this.Ye && this.Ye.eA && this.Ye.eA(c);};a.prototype.BC=function(c){this.Ye && this.Ye.BH && this.Ye.BH(c);};a.prototype.zG=function(c){this.Ye && this.Ye.CH && this.Ye.CH(c);};a.prototype.MVa=function(c){this.Ye && this.Ye.qsa && this.Ye.qsa(c);};a.prototype.Jt=function(c){this.Ye && this.Ye.hk && this.Ye.hk(c);};a.prototype.R4=function(c){this.Ye && this.Ye.cX && this.Ye.cX(c);};a.prototype.lM=function(c,f,l){this.Ye && this.Ye.bX && this.Ye.bX(c,f,l);};return a;})();b.Su=r;r.prototype.M8=r.prototype.UU;r.prototype.eA=r.prototype.mM;r.prototype.BH=r.prototype.BC;r.prototype.CH=r.prototype.zG;r.prototype.hk=r.prototype.Jt;r.prototype.cX=r.prototype.R4;r.prototype.bX=r.prototype.lM;r.prototype.qsa=r.prototype.MVa;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);b.Wn=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.VR=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.pkb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.cc=this.Ii([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{HHb:"int32"},{C0b:"int32"},{offset:32,type:"offset"},{ACb:"int16"},{jub:{type:"int8",Rha:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Oa=!0;return l;})(a(224).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc1";return l;})(r);b.Vaa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc2";return l;})(r);b.Waa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc3";return l;})(r);b.Xaa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc4";return l;})(r);b.Yaa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hvc1";return l;})(r);b.lca=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hev1";return l;})(r);b.fca=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="av01";return l;})(r);b.tbb=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sx=b.ResponseType=void 0;b.ResponseType={Text:1,H6b:2,Xbb:3};b.sx="LegacyHttpSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(149);b.Wn=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.VR=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.pkb=function(f,l){return Math.floor(1E3 * f / l);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tx="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ri={audio:"audio",video:"video",Q$:"timedtext",Qwa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jx="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Qi=b.$gb=b.ip=void 0;c=a(19);b.ip=b.ip || (function(f,l,m){return f >= l?f <= m?f:m:l;});b.$gb=function(f,l,m,d,g){return (f - l) * (g - d) / (m - l) + d;};b.Qi=function(f){if(c.Ba(f))return (f / 1E3).toFixed(3);};},function(r,b,a){var l,m;function c(d,g,h,k,n){var p,q,u;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(l.Ffb);Reflect.eoa(d,g) && (p=Reflect.getMetadata(d,g));h=p[n];if(Array.isArray(h)){q=0;for(var v=h;q < v.length;q++){u=v[q];if(u.key === k.key)throw Error(l.Udb + " " + u.key.toString());}}else h=[];h.push(k);p[n]=h;Reflect.Cka(d,p,g);}function f(d,g){return function(h,k){g(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(43);b.BI=function(d,g,h,k){c(m.mKa,d,g,k,h);};b.RY=function(d,g,h){c(m.nKa,d.constructor,g,h);};b.Dr=function(d,g,h){"number" === typeof h?(d=[f(h,d)],Reflect.Dr(d,g)):"string" === typeof h?Reflect.Dr([d],g,h):Reflect.Dr([d],g);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EDa="Injector";b.lB=145152E5;b.uR="ProfileSymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k){m=void 0 === m?f.M.Nl:m;return l.md.call(this,m,d,g,void 0,void 0,h,l.md.Jd(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Hg=void 0;f=a(3);l=a(41);la(c,l.md);b.Hg=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tAa="DebugConfigSymbol";b.Wu="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xba="EventSourceSymbol";b.$ba="GlobalEventSourceSymbol";b.o_="DebugEventSourceSymbol";b.FAa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OP=b.Abb=b.cba=b.dba=void 0;(function(a){a[a.ZTa=0]="downloading";a[a.Bzb=1]="downloaded";a[a.af=2]="appended";a[a.buffered=3]="buffered";a[a.mO=4]="removed";a[a.abc=5]="unused";})(b.dba || (b.dba={}));(function(a){a[a.waiting=1]="waiting";a[a.D$b=2]="ondeck";a[a.ZTa=4]="downloading";a[a.Bzb=8]="downloaded";a[a.LV=6]="inprogress";})(b.cba || (b.cba={}));b.Abb="AseBufferViewSymbol";b.OP="AseBufferAccountingSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(709),b);r.__exportStar(a(710),b);r.__exportStar(a(711),b);r.__exportStar(a(712),b);r.__exportStar(a(713),b);r.__exportStar(a(714),b);r.__exportStar(a(715),b);r.__exportStar(a(716),b);r.__exportStar(a(348),b);r.__exportStar(a(717),b);r.__exportStar(a(718),b);r.__exportStar(a(719),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JE="6674654e-696c-5078-6966-665374726d21";b.KE="6674654e-696c-4878-6165-6465722e7632";b.eR="6674654e-696c-5078-6966-66496e646578";b.yx="6674654e-696c-4d78-6f6f-6653697a6573";b.xx="6674654e-696c-5378-6565-6b506f696e74";b.jR="cedb7489-e77b-514c-84f9-7148f9882554";b.iR="524f39a2-9b5a-144f-a244-6c427c648df4";b.IE="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Dm=void 0;c=a(2);f=a(5);l=c.__importDefault(a(28));m=c.__importDefault(a(122));d=a(372);g=a(21);r=a(42);h=a(171);k=a(231);a=a(102);n=(function(p){function q(v,u){var t;t=p.call(this,v,u) || this;q.xb(t,v,u);return t;}c.__extends(q,p);q.xb=function(v,u,t,w){var x;h.Tu.xb(v,u,t);v.Wg=t.index;v.kK=t.Wa;v.mv=t.nb;v.Nob=t.Eb?t.Eb:u.Eb;v.lI=t.lI;v.jna=w;v.$Ma=! !t.rq;v.VNa=null !== (x=t.region) && void 0 !== x?x:0;v.xMa=! !t.Yla;v.ZMa=! !t.gw;v.yd=void 0 === t.S4 || void 0 === t.jma || t.S4 === t.Wa && t.jma === t.nb?v:new k.dB(v,{Wa:t.S4,nb:t.jma});v.lmb=t.tra;v.Ejb=t.Vh;v.wlb=u.mHb;v.rp=t.oa?v.O2a(t.oa):void 0;v.qOa=t.Lu;v.af=!1;};q.ISa=function(v){for(var u=new Uint32Array(v.length),t=new Uint32Array(v.length),w=0,x,y,z=0;z < v.length;++z){x=v[z];y=x.Sc;u[z]=x.mv - x.kK;t[z]=y;w+=y;}return new d.lea(u,t,v.length?v[0].U:1E3,w);};Object.defineProperties(q.prototype,{ZC:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Wg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eb:{get:function(){return this.Nob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wQa:{get:function(){return 8 * this.fa / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wa:{get:function(){return this.kK;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nb:{get:function(){return this.mv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oj:{get:function(){var v,u;return null !== (u=null === (v=this.jna) || void 0 === v?void 0:v.call(this)) && void 0 !== u?u:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rq:{get:function(){return this.$Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.VNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yla:{get:function(){return this.xMa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gw:{get:function(){return this.ZMa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tra:{get:function(){return this.lmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vh:{get:function(){return this.Ejb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oa:{get:function(){return this.rp;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lu:{get:function(){return this.qOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{S4:{get:function(){return this.yd.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jma:{get:function(){return this.yd.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zCb:{get:function(){return this.yd.Up;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{RVa:{get:function(){return this.yd.Wsa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nM:{get:function(){return this.yd.sd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{U4:{get:function(){return this.yd.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T4:{get:function(){return this.yd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{WU:{get:function(){return this.yd.$c;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yCb:{get:function(){return this.yd.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CC:{get:function(){var v;v=this.zCb;f.assert(v);return v / this.stream.qa.Zb;},enumerable:!1,configurable:!0}});q.prototype.n1a=function(){this.$Ma=!0;};q.prototype.nWb=function(v){this.lI={me:v.FWa(),V6:v.Ou};};q.prototype.OO=function(v){this.qOa=v;};q.prototype.lWb=function(v,u,t){this.VNa=v;this.xMa=u;this.ZMa=t;};q.prototype.Ih=function(v){var u,t;void 0 === v && (v={});u=this.stream.qa.Zb;t=this.rp || ({start:0,end:this.CC});v=this.O2a(v);this.yd && this.yd !== this || (this.yd=new k.dB(this,this));v.start > t.start && (this.kK=this.yd.Wa + v.start * u);v.end < t.end && (this.mv=this.yd.Wa + v.end * u);this.rp=v;};q.prototype.uU=function(v){void 0 === v && (v=1);this.rp?this.Ih({start:this.rp.start + v,end:this.rp.end}):this.Ih({start:v});};q.prototype.h4=function(v){this.rp?this.Ih({start:this.rp.start,end:(this.rp.end || 0) - v}):this.Ih({start:0,end:-v});};q.prototype.Yka=function(){this.Ih({start:0,end:0});};q.prototype.oWb=function(v){this.rp || this.Ih();this.rp.s$=v;};q.prototype.vVa=function(v){var t;if(!(v < this.Y || v >= this.Ha) && this.Vh && this.Vh.length){v=new g.S(v + 1 - this.Y,1E3).wl(this.stream.qa);for(var u=this.Vh.length - 1;0 <= u;--u){t=this.Vh[u];if(t.Xk <= v)return t;}return {Xk:0,Cd:this.WU};}};q.prototype.XBb=function(v){var t;if(!(v < this.Y || v >= this.Ha) && this.Vh && this.Vh.length){v=new g.S(v + 1 - this.Y,1E3).wl(this.stream.qa);for(var u=this.Vh.length - 1;0 <= u;--u){t=this.Vh[u];if(t.Xk <= v)return t;}return {Xk:0,Cd:this.WU};}};q.prototype.oVa=function(v,u){var t,w,x;if(!(v < this.Y || v >= this.Ha)){if(!u && this.wlb)return {Xk:0,Cd:this.Y};t=this.qa.Zb;w=this.qa.U;x=Math.floor(this.Up / t);v=Math.min((u?Math.ceil:Math.floor)((g.S.i8(v,w) - this.Wa + (u?-1:1) * (w / 1E3 - 1)) / t),x);t=g.S.YY(this.Wa + v * t,w);return v === x?void 0:{Xk:v,Cd:t};}};q.prototype.Pla=function(v){return this.mediaType === l.default.Qa.Jb?this.vVa(v):this.oVa(v,!1);};q.prototype.Ola=function(v){return this.mediaType === l.default.Qa.Jb?this.XBb(v):this.oVa(v,!0);};q.prototype.E2=function(v){this.Sc+=v.fa;this.mv=v.nb;this.rp && (this.yd=new k.dB(this,{Wa:this.S4,nb:this.mv}),this.rp.end=this.CC);};q.prototype.toString=function(){return "[" + this.Pa + ", " + this.bitrate + "kbit/s, c:" + (this.$c + "-" + this.Fc + ",p:") + (this.sd + "-" + this.Yd + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var v;v=h.Tu.prototype.toJSON.call(this);m.default({index:this.index,startPts:this.Y,endPts:this.Ha,"contentStartTicks:":this.Wa,contentEndTicks:this.nb,contentStartPts:this.$c,contentEndPts:this.Fc,fragmentStartPts:this.nM !== this.Y?this.nM:void 0,fragmentEndPts:this.U4 !== this.Ha?this.U4:void 0,edit:this.oa},v);return v;};q.prototype.uVa=function(v){var t;if(this.Vh)for(var u=0;u < this.Vh.length;++u){if(this.Vh[u].Xk === v)t=this.Vh[u].offset;}return t;};q.prototype.O2a=function(v){var u;u=v.start || 0;return {start:u,end:void 0 === v.end?this.CC:Math.min(this.CC,Math.max(u,0 > v.end?this.CC + v.end:v.end)),s$:v.s$,eXb:v.eXb};};return q;})(h.Tu);b.Dm=n;r.sf(a.bx,n);r.sf(a.cB,n);},function(r,b,a){var d;function c(g,h){return void 0 === g?void 0:0 === g?d.S.bb:new d.S(g,h);}function f(g,h){return g && Math.floor(d.S.YY(g,h));}function l(g,h){return void 0 === g || void 0 === h?void 0:g + h;}function m(g,h){return void 0 === g || void 0 === h?void 0:g - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.cB=b.bx=void 0;d=a(21);r=(function(){function g(){}Object.defineProperties(g.prototype,{Up:{get:function(){return m(this.nb,this.Wa) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wsa:{get:function(){return l(this.Wa,this.oj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{E4a:{get:function(){return l(this.nb,this.oj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wU:{get:function(){return c(this.Up,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jc:{get:function(){return c(this.Wa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pd:{get:function(){return c(this.nb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mj:{get:function(){return c(this.Wsa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{te:{get:function(){return c(this.E4a,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{t9:{get:function(){return c(this.oj,this.U);},enumerable:!1,configurable:!0}});return g;})();b.bx=r;r=(function(){function g(){}Object.defineProperties(g.prototype,{duration:{get:function(){return m(this.Ha,this.Y) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Y:{get:function(){return f(l(this.Wa,this.oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ha:{get:function(){return f(l(this.nb,this.oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zu:{get:function(){return f(this.oj,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vj:{get:function(){return f(this.Wa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$c:{get:function(){return f(this.Wa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Fc:{get:function(){return f(this.nb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sd:{get:function(){return f(l(this.Wa,this.oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Yd:{get:function(){return f(l(this.nb,this.oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ty:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pA:{get:function(){return this.Y;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gw:{get:function(){return this.Ha;},enumerable:!1,configurable:!0}});return g;})();b.cB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wda=b.Gm=void 0;r=b.Gm || (b.Gm={});r.QE="PRE_FETCH";r.kib="QC";r.kp="STANDARD";r.C0="SUPPLEMENTAL";r.z2b="DOWNLOAD";b.wda="PboManifestCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mB="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JE="6674654e-696c-5078-6966-665374726d21";b.KE="6674654e-696c-4878-6165-6465722e7632";b.eR="6674654e-696c-5078-6966-66496e646578";b.yx="6674654e-696c-4d78-6f6f-6653697a6573";b.xx="6674654e-696c-5378-6565-6b506f696e74";b.jR="cedb7489-e77b-514c-84f9-7148f9882554";b.iR="524f39a2-9b5a-144f-a244-6c427c648df4";b.IE="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(m){f.prototype.parse.call(this,m);this.cc=this.Ii([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{HHb:"int32"},{C0b:"int32"},{offset:32,type:"offset"},{ACb:"int16"},{jub:{type:"int8",Rha:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};l.Oa=!0;return l;})(a(263).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc1";return l;})(r);b.Vaa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc2";return l;})(r);b.Waa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc3";return l;})(r);b.Xaa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="avc4";return l;})(r);b.Yaa=a;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hvc1";return l;})(r);b.lca=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="hev1";return l;})(r);b.fca=r;},function(r,b){var c;function a(f,l){var m;m=this;this.Cfa=[];c.forEach(function(d){(d=d(f,l)) && m.Cfa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.FE=b.AFa=void 0;c=[];a.prototype.Ju=function(f){var d;for(var l=[],m=this.Cfa.length;m--;){d=this.Cfa[m];d.Ju(f) && l.push(d.iM);}if(l.length)return l;};b.AFa=a;b.FE=function(f){c.push(f);};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mJ=b.Fb=void 0;f=a(136);l=a(41);m=a(3);c.Pma=function(d){if(d){if(d.includes(b.mJ.FD))return f.On.FD;if(d.includes("fps"))return f.On.xG;if(d.includes(b.mJ.Aaa))return f.On.Aaa;}throw new l.md(m.M.jeb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.LWa=function(d){switch(d){case f.On.FD:return b.mJ.FD;case f.On.xG:return b.mJ.xG;default:return b.mJ.Aaa;}};b.Fb=c;c.Bx="com.microsoft.playready";c.Td="com.microsoft.playready.hardware";c.RE="com.microsoft.playready.software";c.Beb="com.apple.fps.2_0";c.wLa="com.widevine.alpha";c.eib="com.microsoft.playready.recommendation.3000";c.GHa="com.microsoft.playready.recommendation.2000";b.mJ={xG:"fairplay",Aaa:"widevine",FD:"playready"};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;f=a(25);c.OSa=function(l){var m;m={};m[f.pe.xR]=c.pQ;m[f.pe.B_]=c.pQ;m[f.pe.RJ]=c.sQ;m[f.pe.px]=c.px;m[f.pe.Hs]=l || c.Hs;m[f.pe.aB]=c.pQ;m[f.pe.Ix]=c.GR;m[f.pe.xj]=c.xj;return m;};b.Ed=c;c.ira='video/mp4; codecs="avc1.4d0028"';c.pQ="avc1.4d0028";c.sQ="hev1.1.6.L93.B0";c.c_="dvhe.05.01";c.Fba="dvhe.05.04";c.Gba="dvhe.05.05";c.Hba="dvhe.05.06";c.Iba="dvhe.05.07";c.Jba="dvhe.05.09";c.Hs=c.c_;c.px=c.sQ;c.JZ="mp4a.40.2";c.cF="mp4a.40.42";c.Wcb="ec-3";c.GR="vp09.00.11.08.02";c.xj="av01.0.04M.08";c.Pcb=[c.Jba,c.Iba,c.Hba,c.Gba,c.Fba,c.c_];},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xB=void 0;r=a(1);a=a(0);c.prototype.format=function(f,l){var d;for(var m=1;m < arguments.length;++m){;}d=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(g,h){return "undefined" != typeof d[h]?d[h]:g;});};c.prototype.Y8a=function(f){for(var l=f.length,m=new Uint16Array(l),d=0;d < l;d++){m[d]=f.charCodeAt(d);}return m.buffer;};c.prototype.a9a=function(f){return JSON.stringify(f,null,"  ");};a=r.__decorate([a.R()],c);b.xB=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJ="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BJ="LoggerSinksSymbol";},function(r){var h,k,n,p;function b(){b.xb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,v,u,t){var w,x;a(u);w=q.Qh;if(void 0 === w)(w=q.Qh=Object.create(null),q.jF=0);else {void 0 !== w.t$b && (q.emit("newListener",v,u.listener?u.listener:u),w=q.Qh);x=w[v];}void 0 === x?(w[v]=u,++q.jF):("function" === typeof x?x=w[v]=t?[u,x]:[x,u]:t?x.unshift(u):x.push(u),u=void 0 === q.wS?b.kyb:q.wS,0 < u && x.length > u && !x.V0b && (x.V0b=!0,u=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),u.name="MaxListenersExceededWarning",u.Bt=q,u.type=v,u.count=x.length,console && console.warn && console.warn(u)));return q;}function f(){if(!this.zVa)return (this.target.removeListener(this.type,this.Pab),this.zVa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(q,v,u){q={zVa:!1,Pab:void 0,target:q,type:v,listener:u};v=f.bind(q);v.listener=u;return q.Pab=v;}function m(q){var v;v=this.Qh;if(void 0 !== v){q=v[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,v,u){"function" === typeof q.on && g(q,"error",v,u);}function g(q,v,u,t){if("function" === typeof q.on){if(t.once)q.once(v,u);else q.on(v,u);}else if("function" === typeof q.addEventListener)q.addEventListener(v,function y(x){t.once && q.removeEventListener(v,y);u(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(q,v,u){return Function.prototype.apply.call(q,v,u);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,v){return new Promise(function(u,t){function w(y){q.removeListener(v,x);t(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",w);u([].slice.call(arguments));}g(q,v,x,{once:!0});"error" !== v && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.Qh=void 0;b.prototype.jF=0;b.prototype.wS=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.xb=function(){if(void 0 === this.Qh || this.Qh === Object.getPrototypeOf(this).Qh)(this.Qh=Object.create(null),this.jF=0);this.wS=this.wS || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.wS=q;return this;};b.prototype.emit=function(q){var t,w;for(var v=[],u=1;u < arguments.length;u++){v.push(arguments[u]);}t="error" === q;u=this.Qh;if(void 0 !== u)t=t && void 0 === u.error;else if(!t)return !1;if(t){0 < v.length && (w=v[0]);if(w instanceof Error)throw w;v=Error("Unhandled error." + (w?" (" + w.message + ")":""));v.context=w;throw v;}u=u[q];if(void 0 === u)return !1;if("function" === typeof u)k(u,this,v);else {w=u.length;t=Array(w);for(var x=0;x < w;++x){t[x]=u[x];}for(u=0;u < w;++u){k(t[u],this,v);}}return !0;};b.prototype.addListener=function(q,v){return c(this,q,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.W4a=function(q,v){return c(this,q,v,!0);};b.prototype.once=function(q,v){a(v);this.on(q,l(this,q,v));return this;};b.prototype.XRb=function(q,v){a(v);this.W4a(q,l(this,q,v));return this;};b.prototype.removeListener=function(q,v){var u,t,w,x,y;a(v);t=this.Qh;if(void 0 === t)return this;w=t[q];if(void 0 === w)return this;if(w === v || w.listener === v)0 === --this.jF?this.Qh=Object.create(null):(delete t[q],t.removeListener && this.emit("removeListener",q,w.listener || v));else if("function" !== typeof w){x=-1;for(u=w.length - 1;0 <= u;u--){if(w[u] === v || w[u].listener === v){y=w[u].listener;x=u;break;}}if(0 > x)return this;if(0 === x)w.shift();else {for(;x + 1 < w.length;x++){w[x]=w[x + 1];}w.pop();}1 === w.length && (t[q]=w[0]);void 0 !== t.removeListener && this.emit("removeListener",q,y || v);}return this;};b.prototype.wD=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var v,u,t;v=this.Qh;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Qh=Object.create(null),this.jF=0):void 0 !== v[q] && (0 === --this.jF?this.Qh=Object.create(null):delete v[q]),this);if(0 === arguments.length){u=Object.keys(v);for(v=0;v < u.length;++v){t=u[v];"removeListener" !== t && this.removeAllListeners(t);}this.removeAllListeners("removeListener");this.Qh=Object.create(null);this.jF=0;return this;}u=v[q];if("function" === typeof u)this.removeListener(q,u);else if(void 0 !== u)for(v=u.length - 1;0 <= v;v--){this.removeListener(q,u[v]);}return this;};b.prototype.listeners=function(q){var v;v=this.Qh;if(void 0 === v)q=[];else if((q=v[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {v=Array(q.length);for(var u=0;u < v.length;++u){v[u]=q[u].listener || q[u];}q=v;}return q;};b.listenerCount=function(q,v){return "function" === typeof q.listenerCount?q.listenerCount(v):m.call(q,v);};b.prototype.listenerCount=m;},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var v=p.length,u=0,t=d(p),w=d(q),x=0;x < v;x++){u+=p[x] * q[x];}return (u - t * w / v) / v;}return !1;}function f(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=l(p);return Math.sqrt(p);}function l(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return d(p.map(function(v){return (v - q) * (v - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,v){return q + v;},0):!1;}function g(p,q,v){return Math.max(Math.min(p,v),q);}function h(p,q){return "number" === typeof p?p:q;}function k(p){return 1 / (1 + Math.exp(-p));}n=a(10);r.exports={Va:function(p,q,v){try{p.emit(q,v);}catch(u){p.Ak("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",u,"Event:",v);}},rC:function(){var p,q,v;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(u,t){return u + t.byteLength;},0);v=new Uint8Array(q);p.reduce(function(u,t){v.set(new Uint8Array(t),u);return u + t.byteLength;},0);return v.buffer;},o3:g,Etb:function(p,q,v,u){return {min:g(h(p.min,q),v,u),max:g(h(p.max,q),v,u),Ay:g(p.Ay || 6E4,0,6E5),hRa:g(p.hRa || 0,-3E5,3E5),scale:g(p.scale || 6E4,0,3E5),Y6a:g(p.Y6a || 0,-3E5,3E5),gamma:g(p.gamma || 1,.1,10)};},re:function(p,q){void 0 !== p && n.cQb(p).forEach(function(v){q(v[0],v[1]);});},SUa:function(p,q,v){return p.min + (p.max - p.min) * (1 - Math.pow(k(6 * (q - (p.Ay + (p.hRa || 0) * (1 - v))) / (p.scale + (p.Y6a || 0) * (1 - v))),p.gamma));},VAb:function(p,q){return p.min + (p.max - p.min) * Math.pow(k(6 * (q - p.Ay) / p.scale),p.gamma);},Q8b:d,lDb:m,yGb:l,O8b:f,H8b:c,G8b:function(p,q){var v;if(p.length == q.length){v=c(p,q);p=f(p);q=f(q);if(0 < p && 0 < q)return v / (p * q);}return !1;},tq:function(p,q,v){return q.KSa?q.KSa(v):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + v:v);},nVb:function(p){return p.length?"{" + p + "} ":"";},aVb:function(p,q,v){return {min:p.min * v + (1 - v) * q.min,max:p.max * v + (1 - v) * q.max,Ay:p.Ay * v + (1 - v) * q.Ay,scale:p.scale * v + (1 - v) * q.scale,gamma:p.gamma * v + (1 - v) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),Iva:k,sq:function(p){var q;q=p.Ra.gb.N.id;return {Y:p.Y,duration:p.duration,offset:p.offset,fa:p.fa,bitrate:p.bitrate,profile:p.profile,Vc:p.Vc,ya:q,Pa:p.Pa,Ld:p.Ld,location:p.location,ci:p.ci,Vj:p.Vj,Bw:{gb:{N:{id:q}}}};}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(222);c=a(145);b.Vdb=c;c=a(365);b.zea=c;c=a(369);b.Wqb=c;b.F0=r.uq.Ua.sidx;r=a(784);b.dr=r.dr;r=a(230);b.ar=r.ar;r=a(788);b.cr=r.cr;b.Qz=r.Qz;r=a(789);b.yJ=r.yJ;r=a(84);b.Wn=r.Wn;a=a(790);b.Ej=a.Ej;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.SZ=b.yj=void 0;c=a(2);r=c.__importDefault(a(18));f=c.__importStar(a(10));l=r.default.Nh;m=c.__importDefault(a(6));d=m.default.$q;g=a(168);h=c.__importDefault(a(143));k=a(9);r=a(42);n=a(233);p=a(171);(function(v){v[v.Mgb=0]="NOTHING_APPENDED";v[v.hhb=1]="PARTIAL";v[v.hx=2]="COMPLETE";v[v.Gf=3]="ERROR";})(q=b.yj || (b.yj={}));a=(function(v){function u(t,w,x,y,z,A,B){w=v.call(this,w,x) || this;n.cJ.xb(w,t,y,z,A,B);p.Tu.xb(w,t,y);w.yjb=t.url || y.url;w.Mea=y.responseType;w.xjb=y.q$;void 0 === w.Mea && (w.Mea=d.dc && !d.dc.dY.yR?0:1);w.ti=new l();w.ti.on(w,d.Je.cGa,w.rga);w.ti.on(w,d.Je.bGa,w.Wmb);w.ti.on(w,d.Je.dGa,w.Zmb);w.ti.on(w,d.Je.hR,w.qga);w.ti.on(w,d.Je.NE,w.xS);w.WJ=!1;w.Xe=!1;w.Vl=!1;w.bo=!1;w.fS=!1;w.Unb=y.$H;w.cs=0;return w;}c.__extends(u,v);Object.defineProperties(u.prototype,{active:{get:function(){return this.Xe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Uta:{get:function(){return this.Vl;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return !this.WJ && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aborted:{get:function(){return this.WJ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{kpa:{get:function(){return this.bo && !this.fS;},enumerable:!1,configurable:!0}});u.prototype.xb=function(t){n.cJ.prototype.xb.call(this,t);this.ag || !this.Od.tha && this.Vc || (this.ag=h.default.instance(),this.active && (this.ag.sO(m.default.time.ea(),this.$X),this.Vl && (m.default.time.ea(),this.connect && 0 < this.hs.length && this.ag.ky(this.hs[0]))));};u.prototype.Xt=function(){return this.af || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};u.prototype.OF=function(t,w,x,y,z,A,B){this.af=t.appendBuffer(this.response,B || k.sq(this));return {status:this.af?q.hx:q.Gf};};u.prototype.QN=function(){(this.bo=d.prototype.open.call(this,this.yjb,{start:this.offset,end:this.offset + this.fa - 1},this.Mea,{},void 0,void 0,this.xjb)) && this.UU(this);return this.bo;};u.prototype.abort=function(){var t;if(this.aborted)return !0;t=this.Xe;this.ag && t && this.ag.ZX(m.default.time.ea(),this.Vl,{requestId:this.x1(),ai:this.Ld,type:this.mediaType});this.WJ=!0;this.Vl=this.Xe=!1;d.prototype.abort.call(this);this.lM(this,t,this.kpa);return !0;};u.prototype.Zc=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.ti && this.ti.clear();v.prototype.Zc.call(this);};u.prototype.rga=function(){var t;t=this.pf || this.loadTime;g.ex.instance().push(m.default.time.ea() - t);this.Xe || (this.Xe=!0,this.Zt=this.track.Zt(),this.stream.I.p1a || this.ag && this.ag.sO(t,{requestId:this.x1(),ai:this.Ld,type:this.mediaType}),this.mM(this),this.uu=this.pf);};u.prototype.Wmb=function(){var t,w,x;t=this.pf || this.Tla;w=this.connect;x=this.hs;g.ex.instance().push(m.default.time.ea() - t);this.Xe || (this.Xe=!0);this.Vl || (this.Vl=!0,this.stream.I.p1a && this.ag && this.ag.sO(t,{requestId:this.x1(),ai:this.Ld,type:this.mediaType}),w && 0 < x.length && this.ag && this.ag.ky(x[0]),this.BC(this),this.uu=t);};u.prototype.Zmb=function(){var t,w,x;t=this;w=this.pf;x=this.bytesReceived - this.cs;g.ex.instance().push(m.default.time.ea() - w);this.Vl || (this.Vl=!0);this.ag && (void 0 === this.uu || this.ag.Ev(x,this.uu,w,this.$X),this.hs && this.hs.length && this.hs.forEach(function(y){t.ag.iy(y);}));this.zG(this);this.uu=w;this.cs=this.bytesReceived;};u.prototype.qga=function(){var t,w,x;t=this;w=this.pf;x=this.bytesReceived - this.cs;g.ex.instance().push(m.default.time.ea() - w);this.ag && (0 < x && this.ag.Ev(x,this.uu,w,this.$X),this.hs && this.hs.length && this.hs.forEach(function(y){t.ag.iy(y);}),this.ag.ZX(w,this.Vl,this.$X));this.Vl=this.Xe=!1;this.fS=!0;this.Jt(this);this.uu=w;this.cs=this.bytesReceived;this.Zc();};u.prototype.x1=function(){var t,w;t=(t=this.stream)?t.toString():this.url;w=this.f3;w && (t+=",range " + w.start + "-" + w.end);return t;};Object.defineProperties(u.prototype,{$X:{get:function(){return {requestId:this.x1(),ai:this.Ld,type:this.mediaType,$H:this.Unb};},enumerable:!1,configurable:!0}});u.prototype.xS=function(){var t,w,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());t=this.pf;w=this.status;x=this.ah;y=this.ij;g.ex.instance().push(m.default.time.ea() - t);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.Ba(x)?(this.ag && this.Od && this.Od.pua && this.loadTime && void 0 === w && this.ag.Ev(this.cs?this.bytesReceived - this.cs:this.bytesReceived,this.uu?this.uu:this.loadTime,t,this.$X),this.R4(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return u;})(d);b.SZ=a;r.sf(n.cJ,a,!1);r.sf(p.Tu,a,!1);},function(r,b,a){var f,l,m,d;function c(g,h,k){var n,p,u;h=f.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{h3a:h,xr:k}));if((null === g || void 0 === g?0:g.xr) && k)if(!0 === g.xr)h.args=k;else {p={};h.args=p;try{for(var q=f.__values(g.xr),v=q.next();!v.done;v=q.next()){u=v.value;p[u]=k[u];}}catch(w){var t;t={error:w};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(t)throw t.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.AB=b.xYa=b.$b=void 0;f=a(2);l=a(20);m=f.__importDefault(a(6));d=a(9);b.$b=function(g){return function(h,k,n){var p;p=n.value;n.value=function(){var q,v,u,t,w,x;v=b.xYa(this);if(v)(u=c(g,this,arguments),t=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(k),w=v.dT(t,u,null === g || void 0 === g?void 0:g.em,null === g || void 0 === g?void 0:g.b9b));q=this.Nea;this.Nea=w;try{return x=null === p || void 0 === p?void 0:p.apply(this,arguments);}catch(z){var y;y=z;throw z;}finally{if((this.Nea=q,w))if((w.data || (w.data={}),y))w.data.error="" + y;else if(d.y_a(x))x.then(function(z){w && (null === g || void 0 === g?0:g.return) && (w.data.resolve=z);},function(z){w && (w.data.reject="" + z);});else if(null === g || void 0 === g?0:g.return)w.data.lRet=x;}};};};b.xYa=function(g){if(null === g || void 0 === g?0:g.Oea)return g.Oea;};r=(function(){function g(h){this.qq=[];this.F1=!1;this.Mfa={};this.I=f.__assign({mD:10},h);Object.defineProperties(h.iu,{Oea:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.I.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.F1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cKb:{get:function(){return f.__spread(this.qq);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{EHb:{get:function(){return this.Mfa;},enumerable:!1,configurable:!0}});g.prototype.hy=function(h){var k;if(!this.F1){k=this.I.iu.Nea;k && (k.data=f.__assign(f.__assign({},k.data),h));}};g.prototype.dT=function(h,k,n,p){var q,v,u,t;if(!this.F1){u=!1;t=null === (v=(q=this.I).Cha) || void 0 === v?void 0:v.call(q,this.I.iu);q=c({},this.I.iu);k=f.__assign(f.__assign(f.__assign({},t),q),k);t=0 < Object.keys(k).length;k={methodName:h,data:t?k:void 0,time:m.default.time.ea()};p && this.Mfa[h]++;n && this.qq.length && (n=this.qq[this.qq.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,u=!0));this.vub(k);u || this.qq.push(k);this.qq.length > this.I.mD && this.qq.shift();return k;}};g.prototype.vub=function(h){var k;l.ga && (null === (k=this.I.console) || void 0 === k?void 0:k.trace(this.I.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.I,h);};g.prototype.Kb=function(){Object.defineProperties(this.I.iu,{Oea:{enumerable:!1,value:null,configurable:!0}});this.F1=!0;this.clear();};g.prototype.clear=function(){this.qq=[];this.Mfa={};};return g;})();b.AB=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bF="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VAa="DrmServicesSymbol";b.r_="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bJ="ApiInfoSymbol";},function(r,b){function a(c,f){var l;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(m){l=Object.getOwnPropertyDescriptor(c,m);void 0 !== l && Object.defineProperty(f,m,l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.fp=void 0;c=a(2);f=c.__importDefault(a(28));l=c.__importDefault(a(6));m=a(795);r=(function(){function d(g){this.VJ=g;this.pg=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var g;if(void 0 === d.xK){g=a(6).default;d.xK=new d(g.lJ);}return d.xK;},enumerable:!1,configurable:!0}});d.reset=function(){d.xK=void 0;};d.prototype.xt=function(g,h,k,n,p,q){var v,u,t,w;v=!1;u=q.HWb?this.SBb(k,h,g,q.IWb):-1;if(-1 === u){t={track:this.Hwb(k,n,g,p,q),nj:k,J:h,s5a:g,gO:[],oo:!1,RL:!1};this.pg.push(t);w=function(){t.oo=!0;t.track.removeListener("created",w);};t.track.on("created",w);v=!1;}else (v=!0,t=this.pg[u]);g=new m.iJa(this.console,t.track,t.oo,v);t.gO.push(g);return g;};d.prototype.QL=function(g){var h,k;g.Tp();h=this.I4(function(n){return n.track === g.track;});if(-1 !== h){if((h=this.pg[h],1 === h.gO.length))(h.track.Tp(),h.RL=!0);else {k=h.gO.indexOf(g);0 <= k && h.gO.splice(k,1);}}else g.track.Tp();};d.prototype.ig=function(){this.VJ.ig();};d.prototype.Hwb=function(g,h,k,n,p){var q,v,u;q=this;v=!1;g?1 === k?(g=!1,h=1,p.wq?(g=!0,h=p.sN):p.ow && 2 < p.ow && (g=!0,h=p.ow),g={type:this.VJ.Jb,openRange:!g,pipeline:g,connections:h,socketBufferSize:p.xP,minRequestSize:p.AN}):0 === k?(v=p.wq && (p.e0b || h && p.f0b),g={type:this.VJ.Lb,openRange:!v,pipeline:v,connections:1,socketBufferSize:p.Q2,minRequestSize:p.AN}):g={type:p.Yyb?this.VJ.Jb:this.VJ.Heb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.ioa,minRequestSize:p.AN}:g={type:0 === k?f.default.Qa.Lb:f.default.Qa.Jb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === k?p.Q2:p.xP,minRequestSize:p.AN};u=new this.VJ(g,n);u.on("transportreport",function(t){var w;w=q.I4(function(x){return x.track === u;});-1 !== w && (w=q.pg[w],w.gO.length && w.gO[0].emit("transportreport",t));});u.on("destroyed",function(){var t;t=q.I4(function(w){return w.track === u;});-1 !== t && q.pg.splice(t,1);u.removeAllListeners();});if(v && p.d0b || p.jab)u.on("pipelinedisabled",function(){p.jab && 1 === u.config.type?u.A9(c.__assign(c.__assign({},u.config),{socketBufferSize:p.tNb,pipeline:!1,openRange:!0,connections:1})):u.A9(c.__assign(c.__assign({},u.config),{pipeline:!1,openRange:!0}));});return u;};d.prototype.SBb=function(g,h,k,n){return this.I4(function(p){return !p.RL && (!n && p.track.config.G$b || !g?!p.nj && p.s5a === k:p.nj && p.J === h && p.s5a === k);});};d.prototype.I4=function(g){for(var h=0;h < this.pg.length;++h){if(g(this.pg[h]))return h;}return -1;};return d;})();b.fp=r;},function(r,b,a){(function(c,f){function l(m,d,g,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.u7a=this.zXb=m=this.now();this.r4=m + g;this.HQb=g;this.ZSa=m + h;this.debug=!1;this.counter=this.Tz=0;this.Ov=1E4;this.I9a=g / 100;this.K9a=m;this.J9a=1 * this.I9a / 4;this.N$=0;this.dU="";this.xg(m,"progress tracking start");}l.prototype.constructor=l;l.prototype.xg=function(m,d){var g,h;g=((m - this.u7a) / 1E3).toFixed(3);g=("     ").slice(g.length - 4) + g;h=c.XMb();this.console.info(g + (" " + ((this.ZSa - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Ov)) + (" M:(" + Math.floor(h.$8b / 1024 / 1024) + " MB/" + Math.floor(h.eZa / 1024 / 1024) + " MB) ") + this.dU + d);};l.prototype.gob=function(m){var d;d=this.now();this.dU=m?m + ": ":m;this.Tz=0;this.u7a=d;this.xg(d,"starting");};l.prototype.Fob=function(m){var d,g;this.counter++;if(!(this.counter < this.Ov)){this.counter=0;d=this.now();g=d - (this.K9a + this.I9a);this.K9a=d;this.N$=.9 * this.N$ + .1 * g;this.N$ > this.J9a?(this.Ov*=.875,this.Ov=Math.max(1,this.Ov)):this.N$ < -this.J9a && (this.Ov*=1.5,this.Ov=Math.min(this.Ov,1E5));if(d >= this.ZSa)throw (this.xg("Execution deadline exceeded after " + (d - this.zXb) + " ms" + this.dU),Error("Execution deadline exceeded" + this.dU));g=c.XMb();this.Tz=Math.max(this.Tz,g.eZa);if(7516192768 < g.eZa)throw Error("Heap total limit exceeded" + this.dU);if(!(d <= this.r4)){for(;d > this.r4;){this.r4+=this.HQb;}this.xg(d,m);}}};l.xb=function(m,d,g,h){f.JD=new l(m,d,g || 5E3,h || 33E5);};l.ova=function(m){f.JD && f.JD.gob(m);};l.update=function(m){f.JD && f.JD.Fob(m);};l.wXa=function(){if(f.JD)return f.JD.Tz;};l.now=function(){return f.JD?f.JD.now():Date.now();};r.exports=l;}).call(this,a(394),a(305));},function(r){var b;b={HV:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,g;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function f(h){return d.Oe(h);}function l(h){return d.Ba(h);}function m(h){return !c(h) && !f(h) && !l(h) && !Array.isArray(h) && d.Ah(h);}d=a(10);g={nE:0,B0:1,Rgb:2,e0:3,Nl:4};r.exports={Ona:function(h){return c(h)?g.nE:f(h)?g.B0:l(h)?g.Rgb:m(h)?g.e0:g.Nl;},H6:c,Oe:f,Ba:l,Ah:m,Zq:g};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ku=b.R7=b.V1a=void 0;r=a(942);a=a(945);b.V1a=r;b.R7=function(c,f){return b.V1a(function(l,m){return void 0 !== m?m:l;},c,f);};b.ku=a;},function(r,b,a){var c;c=a(176);r.exports=function(f){return function d(m){return 0 === arguments.length || c(m)?d:f.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.L0=void 0;b.mp={JJ:"PRIMARY",Jaa:"ASSISTIVE",kza:"COMMENTARY",NONE:"NONE"};b.L0={assistive:b.mp.Jaa,closedcaptions:b.mp.Jaa,directorscommentary:b.mp.kza,commentary:b.mp.kza,subtitles:b.mp.JJ,primary:b.mp.JJ,none:b.mp.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yk=void 0;r=b.yk || (b.yk={});r.oo="created";r.Pw="started";r.fP="succeeded";r.Et="failed";r.vh="cancelled";r.Psb="cancelled_on_start";r.Xia="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$u=void 0;r=b.$u || (b.$u={});r[r.U1b=8]="Backspace";r[r.u6b=9]="Tab";r[r.e3b=13]="Enter";r[r.m6b=16]="Shift";r[r.r2b=17]="Ctrl";r[r.x1b=18]="Alt";r[r.B5b=19]="PauseBreak";r[r.k2b=20]="CapsLock";r[r.g3b=27]="Escape";r[r.o6b=32]="Space";r[r.A5b=33]="PageUp";r[r.z5b=34]="PageDown";r[r.d3b=35]="End";r[r.I3b=36]="Home";r[r.Y3b=37]="LeftArrow";r[r.B6b=38]="UpArrow";r[r.I5b=39]="RightArrow";r[r.L2b=40]="DownArrow";r[r.V3b=45]="Insert";r[r.I2b=46]="Delete";r[r.K6b=48]="Zero";r[r.d5b=49]="One";r[r.x6b=50]="Two";r[r.v6b=51]="Three";r[r.A3b=52]="Four";r[r.y3b=53]="Five";r[r.n6b=54]="Six";r[r.l6b=55]="Seven";r[r.c3b=56]="Eight";r[r.P4b=57]="Nine";r[r.o1b=65]="A";r[r.y1b=66]="B";r[r.a2b=67]="C";r[r.Vcb=68]="D";r[r.E=69]="E";r[r.h3b=70]="F";r[r.B3b=71]="G";r[r.E3b=72]="H";r[r.Reb=73]="I";r[r.W3b=74]="J";r[r.wca=75]="K";r[r.Wfb=76]="L";r[r.b4b=77]="M";r[r.Hgb=78]="N";r[r.b5b=79]="O";r[r.f5b=80]="P";r[r.Q=81]="Q";r[r.F5b=82]="R";r[r.vib=83]="S";r[r.$ib=84]="T";r[r.y6b=85]="U";r[r.C6b=86]="V";r[r.E6b=87]="W";r[r.Lea=88]="X";r[r.I6b=89]="Y";r[r.J6b=90]="Z";r[r.Z3b=91]="LeftWindowKey";r[r.J5b=92]="RightWindowKey";r[r.j6b=93]="SelectKey";r[r.S4b=96]="Numpad0";r[r.T4b=97]="Numpad1";r[r.U4b=98]="Numpad2";r[r.V4b=99]="Numpad3";r[r.W4b=100]="Numpad4";r[r.X4b=101]="Numpad5";r[r.Y4b=102]="Numpad6";r[r.Z4b=103]="Numpad7";r[r.$4b=104]="Numpad8";r[r.a5b=105]="Numpad9";r[r.o4b=106]="Multiply";r[r.w1b=107]="Add";r[r.p6b=109]="Subtract";r[r.H2b=110]="DecimalPoint";r[r.K2b=111]="Divide";r[r.i3b=112]="F1";r[r.m3b=113]="F2";r[r.n3b=114]="F3";r[r.o3b=115]="F4";r[r.p3b=116]="F5";r[r.q3b=117]="F6";r[r.r3b=118]="F7";r[r.s3b=119]="F8";r[r.t3b=120]="F9";r[r.j3b=121]="F10";r[r.k3b=122]="F11";r[r.l3b=123]="F12";r[r.R4b=144]="NumLock";r[r.h6b=145]="ScrollLock";r[r.k6b=186]="SemiColon";r[r.f3b=187]="Equals";r[r.n2b=188]="Comma";r[r.G2b=189]="Dash";r[r.C5b=190]="Period";r[r.z3b=191]="ForwardSlash";r[r.w6b=192]="Tilde";r[r.e5b=219]="OpenBracket";r[r.T1b=220]="BackSlash";r[r.m2b=221]="CloseBracket";r[r.E5b=222]="Quote";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tm=b.Bbb=void 0;b.Bbb=a;b.Tm=new a();},function(r,b,a){var g;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function f(h,k){return null === h.gA?!1:h.gA.Dg === k?!0:f(h.gA,k);}function l(h){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Dg);p.push(q);return null !== n.gA?k(n.gA,p):p;}return k(h).reverse().join(" --\x3e ");}function m(h){h.lja.forEach(function(k){if(f(k,k.Dg))throw (k=l(k),Error(g.xcb + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);b.IM=c;b.u0a=function(h,k,n){var p;p="";h=n(h,k);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var v;v="Object";null !== q.jm && (v=d(q.jm));p=p + "\n " + v;q.bG.W1a && (p=p + " - " + q.bG.W1a);}));return p;};b.Atb=m;b.OKb=function(h,k){var n,p;if(k.upa() || k.hpa()){n="";p=k.cFb();k=k.PDb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pR="PlatformConfigDefaultsSymbol";},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.tM=b.sM=b.uM=b.N_a=b.QV=void 0;c=a(4);f=a(109);l=a(44);b.QV=function(m,d,g,h){var k,n;k=m.TPb;n=m.UPb;m=m.VPb;return k > d || k === d && n > g || k === d && n === g && (void 0 === h || m >= h);};b.N_a=function(m,d){return m.Lp >= d;};b.uM=function(){return {version:"0.0032.989.910",j8:!0,oM:!0,Kka:"browser",lTa:["en-US"],iqa:"",kU:"cadmium",zxa:!0,F2:!0,RX:!1};};b.sM=function(){return {fC:[l.xe.sE,l.xe.tE],Zw:[l.P.sJ,l.P.rE,l.P.qQ,l.P.rQ,l.P.SJ,l.P.TJ],km:f.Fb.wLa,Sz:c.Hc(31E3)};};b.tM=function(m){return {v_:m.ro};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XAa=b.On=void 0;r=b.On || (b.On={});r[r.FD=0]="playready";r[r.Aaa=1]="widevine";r[r.xG=2]="fairplay";r[r.J7b=3]="clearkey";b.XAa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Q="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I0=b.jp=void 0;b.jp=function(){};b.I0="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lKa="SystemRandomSymbol";b.x0="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rR="PlayerErrorFactorySymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Cm=void 0;c=a(2).__importDefault(a(6));f=a(115);r=(function(){function l(m){this.H=new c.default.Console("ASEJS","media|asejs","(" + m + ")");this.iga=[];}l.prototype.hq=function(m){this.iga[m] || (this.iga[m]=f.tq(c.default,this.H,"[" + m + "]"));return this.iga[m];};return l;})();b.Cm=new r(0);},function(r,b,a){function c(f,l){this.VK=f;this.Qj=Math.floor((f + l - 1) / l);this.Fd=l;this.reset();}a(5);c.prototype.shift=function(){this.Nd.shift();this.Cv.shift();};c.prototype.Aw=function(f){return this.VQa(this.Nd[f],f);};c.prototype.update=function(f,l){this.Nd[f]=(this.Nd[f] || 0) + l;};c.prototype.push=function(){this.Nd.push(0);this.Cv.push(0);this.sb+=this.Fd;};c.prototype.add=function(f,l,m){var d,g,h;if(null === this.sb){d=Math.max(Math.floor((m - l + this.Fd - 1) / this.Fd),1);for(this.sb=l;this.Nd.length < d;){this.push();}}for(;this.sb <= m;){this.push();this.Nd.length > this.Qj && this.shift();}if(null === this.Vn || l < this.Vn)this.Vn=l;if(l > this.sb - this.Fd)this.update(this.Nd.length - 1,f);else if(l == m)(d=this.Nd.length - Math.max(Math.ceil((this.sb - m) / this.Fd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Nd.length;++d){g=this.sb - d * this.Fd;h=g + this.Fd;if(!(g > m)){if(h < l)break;this.update(this.Nd.length - d,Math.round(f * (Math.min(h,m) - Math.max(g,l)) / (m - l)));}}for(;this.Nd.length > this.Qj;){this.shift();}};c.prototype.start=function(f){null === this.Vn && (this.Vn=f);null === this.sb && (this.sb=f);};c.prototype.stop=function(f){var l,m;if(null !== this.sb)if(f - this.sb > 10 * this.VK)this.reset();else {for(;this.sb <= f;){this.push();this.Nd.length > this.Qj && this.shift();}l=this.Nd.length - Math.ceil((this.sb - this.Vn) / this.Fd);m=this.Nd.length - Math.ceil((this.sb - f) / this.Fd);if(0 <= m)if((0 > l && (this.Vn=this.sb - this.Fd * this.Nd.length,l=0),l === m))this.Cv[l]+=f - this.Vn;else if(m > l)for((this.Cv[l]+=(this.sb - this.Vn) % this.Fd,this.Cv[m]+=this.Fd - (this.sb - f) % this.Fd,f=l + 1);f < m;++f){this.Cv[f]=this.Fd;}this.Vn=null;}};c.prototype.VQa=function(f,l){l=this.sma(l);return 0 === l?null:8 * f / l;};c.prototype.sma=function(f){var l;l=this.Cv[f];null !== this.Vn && (f=this.sb - (this.Nd.length - f - 1) * this.Fd,f > this.Vn && (l=f - this.Vn <= this.Fd?l + (f - this.Vn):this.Fd));return l;};c.prototype.get=function(f,l){var m,d;m=this.Nd.map(this.VQa,this);if("last" === f)for(f=0;f < m.length;++f){null === m[f] && (m[f]=0 < f?m[f - 1]:0);}else if("average" === f){l=1 - Math.pow(.5,1 / ((l || 2E3) / this.Fd));for(f=0;f < m.length;++f){null === m[f]?m[f]=Math.floor(d || 0):d=void 0 !== d?l * m[f] + (1 - l) * d:m[f];}}return m;};c.prototype.reset=function(){this.Ofa || (this.Nd=[],this.Cv=[],this.Vn=this.sb=null);};c.prototype.setInterval=function(f){this.Qj=Math.floor((f + this.Fd - 1) / this.Fd);};r.exports=c;},function(r,b,a){var l,m,d,g,h,k,n,p,q,v;function c(u){var t;if(!u.aha){t=u.vYa();u.Zn.MF(t.default.Fa,u.Ij);u.Zn.UI(t.Wt?t.Wt.X8:void 0,t.Wt?t.Wt.sampleSize:void 0);l.Cb(u.Lc) || (u.aha=!0);}}function f(u,t,w){var x;this.I=w;this.Cp={};this.pK=w.pK;this.rMa=new g(this.pK);this.dS=new k(!0);this.IR=new k(!1);this.gnb=w.P8;this.ylb=w.bIb;this.zlb=w.cIb;w.xUa && (this.JK=new n(this.I));w.l4 && (this.IB=new p(w.Pqa));this.reset();this.sNa=u;this.Zn=t;this.VMa=m.Jo.name();this.Zn.k$(this.VMa);this.dF=0;this.JR=[];m.events.on("networkchange",(function(y){this.VMa=y;this.Zn.k$(y);}).bind(this));x=w.rka;x && (x={confidence:d.Hf.tJ,Sa:{Fa:parseInt(x,10),Ni:0},pj:{irb:0,Ni:0},Vt:{irb:0,Ni:0}},this.get=function(){return x;});v=this;}l=a(10);m=a(6).default;d=a(28).default;a(9);b=a(18).EventEmitter;g=a(356).VBa;h=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");k=a(753).yBa;n=a(755).CGa;p=a(756).DDa;q=a(142);v=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return v;};f.reset=function(){v && v.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.wf;}},confidence:{get:function(){return this.Ij;}},Fp:{get:function(){return this.dF;}},IOa:{get:function(){return this.JR;}}});f.prototype.xkb=function(){var u,t,w,x;u=this.I;t=u.Nkb.concat(u.Wkb);w=u.Bfa;x=this.rMa;return t.reduce(function(y,z){y[z]=x.create(z,w);return y;},{});};f.prototype.reset=function(){var u,t,w,x;u=this.I.Bfa;t=this.rMa;w=this.I;this.location=null;this.Cp=this.xkb();if(this.I.AUa){x=this.I.C9a;this.Cp.VYb=new q(x.numB * x.bSizeMs,x.bSizeMs);}this.dS.reset();this.IR.reset();this.by=t.create("respconn-ewma",u);this.Tx=t.create("respconn-ewma",u);this.JK && this.JK.reset();this.IB && this.IB.reset();this.Ij=d.Hf.HAVE_NOTHING;this.Gob=(function(){c(this);}).bind(this);this.v2=void 0;this.JB=this.Sc=this.Lc=this.wf=null;this.CB=this.p2=0;this.tnb=!1;w.z6a && (this.dF=0,this.JR=[]);};f.prototype.MO=function(u){var t;t=this.Cp;if(u !== this.location){l.ha(this.v2) || (clearInterval(this.v2),this.v2=void 0);l.Cb(this.location) && (this.p2=0,this.wf=null);if(!l.Cb(u)){this.Ij=d.Hf.HAVE_NOTHING;for(var w in t){t[w] && t[w].reset && t[w].reset();}this.by.reset();this.Tx.reset();}l.Cb(this.wf) || (this.p2+=(l.Cb(this.Lc)?m.time.ea():this.Lc) - this.wf);this.Lc=this.wf=null;this.Sc=0;this.location=u;this.Zn.MO(u);}};f.prototype.k$=function(u){this.Zn.k$(u);};f.prototype.lpb=function(u){this.Cp.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Cp.QoEEvaluator=u;};f.prototype.PTb=function(){delete this.Cp.QoEEvaluator;};f.prototype.Ev=function(u,t,w,x){var y,z;this.a0a=Math.max(this.a0a || 0,w);y=this.I;z=this.Cp;if(!0 === x.FP)(x=z["throughput-wssl"]) && x.add(u,t,w,!0);else if(l.ha(t))h.warn("addDataReceived called with undefined start time");else {this.JK && this.JK.Ev(u,t,w,x);if(x.$H)if(this.ylb){if(x.$H.q1a(u,t,w,this.gnb))return;}else if(this.zlb && x.$H.T6())return;y.Vkb && 10 > w - t?t=w - 10:0 === w - t && (t=w - 1);this.IB && this.IB.Ev(u,t,w);this.dS.Ev(u,t,w,x);this.IR.Ev(u,t,w,x);for(var A in z){z[A] && z[A].add && z[A].add(u,t,w);}this.Ij=Math.max(this.Ij,d.Hf.hB);l.Cb(this.wf) && (this.wf=t,this.Lc=null,this.aha=!1,this.Sc=0);l.Cb(this.Lc) || (t > this.Lc && (this.wf+=t - this.Lc),this.Lc=null,this.aha=!1);this.Sc+=u;this.Ij < d.Hf.ox && (w - this.wf > y.jmb || this.Sc > y.imb) && (this.Ij=d.Hf.ox);this.Ij < d.Hf.tJ && (w - this.wf > y.wnb || this.Sc > y.vnb) && (!this.tnb || this.CB > y.hmb) && (this.Ij=d.Hf.tJ,c(this),this.v2=setInterval(this.Gob,y.Tlb));l.Cb(this.JB) || (t - this.JB > y.tNa?this.sNa.f_a(this.JB,t):w - t > y.tNa && this.sNa.f_a(t,w));this.JB=Math.max(w,this.JB);}};f.prototype.ky=function(u){this.by.add(u);this.Zn.ky(u);};f.prototype.iy=function(u){this.Tx.add(u);this.Zn.iy(u);};f.prototype.start=function(u){var t;l.Cb(this.JB) && !l.Cb(this.Lc) && (this.JB=u);t=this.Cp;if(this.I.Wva)for(var w in t){t[w] && t[w].start && t[w].start(u);}};f.prototype.stop=function(u){var t,w;t=this.Cp;for(w in t){t[w] && t[w].stop && t[w].stop(u);}this.Lc=l.Cb(this.Lc)?u:Math.min(this.Lc,u);this.JB=null;};f.prototype.flush=function(){var u,t;u=this.Cp;for(t in u){u[t] && u[t].flush && u[t].flush();}};f.prototype.fail=function(){this.wf=null;};f.prototype.WWa=function(){var u,t;u=this.Cp.entropy;if(u){t=u.jsb();u.reset();}return t;};f.prototype.vYa=function(){var u,t,w,x,y,z,A;u=m.time.ea();t={};w=this.Cp;x=this.I;y=x.Ckb;z=x.cob;for(A in w){w[A] && w[A].get && (t[A]=w[A].get(u),"iqr" === w[A].type && (t.Wt=t[A]),"tdigest" === w[A].type && (t.sk=t[A]),"wssl" === w[A].type && (t.FP=t[A]));}t.cdnavtp=this.dS.Nt();t.activecdnavtp=this.IR.Nt();t.default=y && t[y]?t[y]:t["throughput-ewma"];"none" !== x.Vua && "none" !== z && (t.b7a=z && t[z]?t[z]:t["throughput-sw"]);return t;};f.prototype.B5=function(){return this.JK?this.JK.B5():void 0;};f.prototype.r5=function(){return this.IB?this.IB.r5():void 0;};f.prototype.get=function(){var u,t,w,x,y,z;u=this.vYa();t=u.default;w=this.by.get();x=this.Tx.get();y=this.I;if(u.b7a){z=u.b7a;t=l.Ba(t.Fa) && l.Ba(z.Fa) && t.Fa > z.Fa && 0 < z.Fa?z:t;}u.confidence=this.Ij;u.Sa=t;!y.hla || !t || l.Cb(t.Fa) || isNaN(t.Fa) || !u.FP || l.Cb(u.FP.Fa) || isNaN(u.FP.Fa) || ("max" === y.Sab?u.Sa.Fa=Math.max(u.FP.Fa,t.Fa):"sum" === y.Sab && (u.Sa.Fa+=u.FP.Fa));u.pj=w;u.Vt=x;this.I.AUa && (t=this.I.C9a,u.Wac=this.Cp.VYb.get(t.fillS,t.fillHl));t=this.p2 + !l.Cb(this.wf)?(l.Cb(this.Lc)?m.time.ea():this.Lc) - this.wf:0;u.time=t;return u;};f.prototype.pGb=function(){var u,t,w;u={};t=this.get(!0);if(t.confidence && t.Sa){u.aseavtp=Number(t.Sa.Fa).toFixed(2);u.asevartp=Number(t.Sa.Ni).toFixed(2);if(t.Wt){w=t.Wt.X8;!w || isNaN(w.El) || isNaN(w.Dl) || isNaN(w.ik) || (u.aseniqr=0 < w.ik?Number((w.El - w.Dl) / w.ik).toFixed(2):-1,u.aseiqr=Number(w.El - w.Dl).toFixed(2),u.asemedtp=Number(w.ik).toFixed(2));u.iqrsamples=t.Wt.sampleSize;}t.sk && t.sk.hz && (u.tdigest=t.sk.hz());}return u;};f.prototype.sO=function(u,t){var w;w=t.requestId;1 === ++this.dF && (this.emit("active",u),this.start(u));w && this.JR.push(w);this.dS.sO(u,t);this.IR.sO(u,t);};f.prototype.ZX=function(u,t,w){t=w.requestId;--this.dF;this.I.z6a && (this.dF=Math.max(this.dF,0));0 === this.dF && (this.stop(u),this.emit("inactive",u));t && (t=this.JR.indexOf(t),0 <= t && this.JR.splice(t,1));this.dS.ZX(u,w);this.IR.ZX(u,w);this.IB && this.IB.qIb(w.type);};r.exports=f;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.Ot && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.jq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.jq(1,2,2);}catch(d){DataView.prototype.jq=a(DataView.prototype.jq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.kz=a(DataView.prototype.kz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Ot=a(DataView.prototype.Ot,DataView.prototype.getUint32,Uint32Array);DataView.prototype.GG=a(DataView.prototype.GG,DataView.prototype.getInt8,Int8Array);DataView.prototype.EG=a(DataView.prototype.EG,DataView.prototype.getInt16,Int16Array);DataView.prototype.FG=a(DataView.prototype.FG,DataView.prototype.getInt32,Int32Array);}c.Rna=function(d,g,h,k,n){return h?d.jq(g,h,k || 1,n):new Uint8Array(0);};c.Pna=function(d,g,h,k,n){return h?d.kz(g,h,k || 2,n):new Uint16Array(0);};c.Qna=function(d,g,h,k,n){return h?d.Ot(g,h,k || 4,n):new Uint32Array(0);};c.EEb=function(d,g,h,k,n){return h?d.GG(g,h,k || 1,n):new Int8Array(0);};c.CEb=function(d,g,h,k,n){return h?d.EG(g,h,k || 2,n):new Int16Array(0);};c.DEb=function(d,g,h,k,n){return h?d.FG(g,h,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(g,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(g + h * k > this.byteLength){p=new d(h);p.set(l.call(this,g,h - 1,k,n));p[h - 1]=m.call(this,g + (h - 1 * k),n);return p;}return l.call(this,g,h,k,n);};}c={jq:function(l,m,d,g,h){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint8(m,h);}return k;},kz:function(l,m,d,g,h){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint16(m,h);}return k;},Ot:function(l,m,d,g,h){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint32(m,h);}return k;},GG:function(l,m,d,g,h){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt8(m,h);}return k;},EG:function(l,m,d,g,h){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt16(m,h);}return k;},FG:function(l,m,d,g,h){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt32(m,h);}return k;},fBb:b};f=!1;c.Mma=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(225);r=(function(){function l(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}l.JX=function(m,d){var g,h;g=m.lb();h=m.Nta();m=new (f.Sp[g] || l)(g,m.Jma(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.sn=0;return !0;};l.prototype.MU=function(m){var d;d=[];this.tag === m && d.push(this);if(this.Sp)for(var g=0;g < this.Sp.length;g++){d=c.__spreadArrays(d,this.Sp[g].MU(m));}return d;};l.prototype.xl=function(m){for(m=this.MU(m);0 < m.length;){return m[0];}};l.prototype.HS=function(){for(this.Sp=[];this.u.offset < this.startOffset + this.length;){this.Sp.push(l.JX(this.u,this));}};return l;})();b.oE=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.zk=b.jea=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.U5a=1]="relative";})(f=b.jea || (b.jea={}));m=(function(){function d(g,h){this.type=g;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{bb:{get:function(){l || (l=new d(f.U5a,c.S.bb));return l;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.BP=function(g){return new m(f.absolute,g);};Object.defineProperties(d,{T0b:{get:function(){return m.bb;},enumerable:!1,configurable:!0}});d.WI=function(g){return new m(f.U5a,g);};d.Gxa=new m(f.absolute,c.S.vz);return d;})();b.zk=r;},function(r,b,a){var l,m,d,g,h,k,n;function c(p){return p && "function" === typeof p.wh?!0:!1;}function f(p){return c(p) && (p=typeof p.iJb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Ucb=b.hBb=b.hJb=b.zbb=b.AsyncIterator=void 0;l=a(2);m=a(20);g=(function(){function p(q){var v;v=this;this.vlb=q;this.nS=!1;this.znb=function(u){return v.pSb(u);};this.uSa();}p.$Jb=function(q,v){function u(){var t;t=q.next();t.then(function(w){f(q) && q.iJb || v(w);});t.then(function(w){return !w.done && u();});}u();};Object.defineProperties(p.prototype,{Dz:{get:function(){return this.nS;},enumerable:!1,configurable:!0}});p.UWa=function(){return new h([]);};p.Ina=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{aN:{get:function(){return this.Pl || !1;},enumerable:!1,configurable:!0}});p.prototype.wh=function(){this.cancel();};p.prototype.cancel=function(){this.GNa();this.Pl=!0;return this.bfa;};p.prototype.next=function(){return this.Pl?this.bfa:Promise.race([this.bfa,this.vlb()]).then(this.znb);};p.prototype.pSb=function(q){q.done && (this.nS=!0,this.wh());this.aN || (this.GNa(),this.uSa());return q;};p.prototype.uSa=function(){var q;q=this;this.bfa=new Promise(function(v){q.GNa=function(){v({done:!0});};});};return p;})();b.AsyncIterator=g;h=(function(p){function q(v){var u;u=p.call(this,function(){return u.eFb();}) || this;u.ny=v;u.index=0;return u;}l.__extends(q,p);q.prototype.wh=function(){c(this.ny) && this.ny.wh();p.prototype.wh.call(this);};q.prototype.eFb=function(){return this.ny.length > this.index?Promise.resolve({value:this.ny[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.zbb=h;b.hJb=c;b.hBb=f;k=(function(p){function q(v,u,t){var w;w=p.call(this,function(){return w.Ara();}) || this;w.console=u;w.ml=t;w.uta=!1;Array.isArray(v)?w.yS=new h(v):w.yS=v;return w;}l.__extends(q,p);q.prototype.rSb=function(v){var u;this.uta=!1;u=this.console;m.ga && u && u.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.zK)return (c(v) && v.wh(),g.Ina());Array.isArray(v)?this.ml=new h(v):this.ml=v;return this.Ara();};q.prototype.qSb=function(v){var u;u=this.console;m.ga && u && u.trace("CompoundIterator: processNextInnerResult",this.zK,v.done);if(!v.done || this.zK)return v;this.ml=void 0;return this.Ara();};q.prototype.wh=function(){var v;v=this.console;m.ga && v && v.trace("CompoundIterator: dispose");this.zK=!0;p.prototype.wh.call(this);c(this.yS) && this.yS.wh();c(this.ml) && this.ml.wh();};q.prototype.toString=function(){return "CompoundIterator " + this.zK + " " + this.yS + " " + this.ml;};q.prototype.Ara=function(){var v,u;v=this;u=this.console;m.ga && u && u.trace("CompoundIterator: nextImpl");if(this.ml)return (m.ga && u && u.trace("CompoundIterator: getNextInner"),this.ml.next().then(function(t){return v.qSb(t);}));this.uta=!0;m.ga && u && u.trace("CompoundIterator: getNextOuter");return this.yS.next().then(function(t){return v.rSb(t);});};return q;})(g);b.Ucb=k;b.map=function(p,q,v){return new n(p,q,v);};n=(function(p){function q(v,u,t){var w;w=p.call(this,function(){return w.ilb();}) || this;w.source=v;w.Dqa=u;w.nub=t;return w;}l.__extends(q,p);q.prototype.wh=function(){c(this.source) && this.source.wh();p.prototype.wh.call(this);};q.prototype.ilb=function(){var v,u,t;v=this.nub;u=this.Dqa;t=this.source;m.ga && v && v.trace("MappedIterator: Requesting next");return t.next().then(function(w){return w.done?w:u(w.value);});};return q;})(g);b.flatten=function(p,q,v){return new k(p,q,v);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);return m;})(Error);b.assert=function(l,m){if(!l)throw new f(m || "Assertion failed");};},function(r){var c,f;function b(){var l,m;if(DataView.prototype && DataView.prototype.Ot && !f){try{l=new ArrayBuffer(4);m=new DataView(l);m.jq(0,4,1);}catch(d){return;}try{l=new ArrayBuffer(4);m=new DataView(l);m.jq(1,2,2);}catch(d){DataView.prototype.jq=a(DataView.prototype.jq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.kz=a(DataView.prototype.kz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Ot=a(DataView.prototype.Ot,DataView.prototype.getUint32,Uint32Array);DataView.prototype.GG=a(DataView.prototype.GG,DataView.prototype.getInt8,Int8Array);DataView.prototype.EG=a(DataView.prototype.EG,DataView.prototype.getInt16,Int16Array);DataView.prototype.FG=a(DataView.prototype.FG,DataView.prototype.getInt32,Int32Array);}c.Rna=function(d,g,h,k,n){return h?d.jq(g,h,k || 1,n):new Uint8Array(0);};c.Pna=function(d,g,h,k,n){return h?d.kz(g,h,k || 2,n):new Uint16Array(0);};c.Qna=function(d,g,h,k,n){return h?d.Ot(g,h,k || 4,n):new Uint32Array(0);};c.EEb=function(d,g,h,k,n){return h?d.GG(g,h,k || 1,n):new Int8Array(0);};c.CEb=function(d,g,h,k,n){return h?d.EG(g,h,k || 2,n):new Int16Array(0);};c.DEb=function(d,g,h,k,n){return h?d.FG(g,h,k || 4,n):new Int32Array(0);};f=!0;}}function a(l,m,d){return function(g,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(g + h * k > this.byteLength){p=new d(h);p.set(l.call(this,g,h - 1,k,n));p[h - 1]=m.call(this,g + (h - 1 * k),n);return p;}return l.call(this,g,h,k,n);};}c={jq:function(l,m,d,g,h){var k;k=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint8(m,h);}return k;},kz:function(l,m,d,g,h){var k;k=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint16(m,h);}return k;},Ot:function(l,m,d,g,h){var k;k=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getUint32(m,h);}return k;},GG:function(l,m,d,g,h){var k;k=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt8(m,h);}return k;},EG:function(l,m,d,g,h){var k;k=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt16(m,h);}return k;},FG:function(l,m,d,g,h){var k;k=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,m+=g)){k[n]=l.getInt32(m,h);}return k;},fBb:b};f=!1;c.Mma=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(264);r=(function(){function l(m,d,g){this.tag=m;this.view=d;this.u=g;this.startOffset=g.offset;}l.JX=function(m,d){var g,h;g=m.lb();h=m.Nta();m=new (f.Sp[g] || l)(g,m.Jma(h),m);m.parse(d);return m;};Object.defineProperties(l.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});l.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.sn=0;return !0;};l.prototype.MU=function(m){var d;d=[];this.tag === m && d.push(this);if(this.Sp)for(var g=0;g < this.Sp.length;g++){d=c.__spreadArrays(d,this.Sp[g].MU(m));}return d;};l.prototype.xl=function(m){for(m=this.MU(m);0 < m.length;){return m[0];}};l.prototype.HS=function(){for(this.Sp=[];this.u.offset < this.startOffset + this.length;){this.Sp.push(l.JX(this.u,this));}};return l;})();b.oE=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oHa="PboPlaydataServicesSymbol";b.nR="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kJ=b.Wdb=void 0;c=a(25);b.Wdb=function(){this.fC=[];this.Zw=[];this.bia=c.Uu.Xu;this.saa=c.Ti.Xu;};b.kJ="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zR="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dR="MslProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZQ="ManifestFactorySymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.RLb=b.c4a=b.kQb=b.GWa=b.sQb=b.gE=b.Caa=b.Es=b.HP=b.GP=b.uk=void 0;c=a(24);f=a(22);b.uk="$attributes";b.GP="$children";b.HP="$name";b.Es="$text";b.Caa="$parent";b.gE="$sibling";b.sQb=/^\s*<\?xml.*\?>/i;b.GWa=function(l,m,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(m=arguments[g++]) && (l=l[m]);){;}return l;};b.kQb=function(l,m){var d;l?d=c.Ee(l[b.Es]):void 0 !== m && (d=m);f.cU(d);return d;};b.c4a=function(l,m){var d;l?d=l[b.Es]:void 0 !== m && (d=m);f.$Sa(d);return d;};b.RLb=function(l,m){var d;d={};d[b.uk]=l;d[b.Es]=m;return d;};},function(r){function b(m,d){return m.some(function(g){return g.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(f).reduce(l,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function f(m){return m.duration;}function l(m,d){return m + d;}r.exports={cub:function(m,d,g){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (g.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},bka:function(m,d,g){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.LPb;h.originY=m.MPb;h.sizeX=m.kXb;h.sizeY=m.lXb;h.imageData=d;h.id=m.SG;h.rootContainerExtentX=g.LUb;h.rootContainerExtentY=g.MUb;return h;},Oma:function(m,d){return "o_" + m + "s_" + d;},v0b:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},Pc:function(m){return "undefined" !== typeof m;},nac:b,i8b:a,hV:function(m,d){var g,h;g=Object.create({});for(h in m){g[h]=m[h];}m instanceof Error && (g.message=m.message,g.stack=m.stack);g.errorString=d;return g;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},uZa:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},hYb:function(m,d){for(var g=d.entries.length,h,k=0;k < g;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},iYb:function(m,d,g){for(var h=g.entries.length,k,n,p=0;p < h;p++){k=g.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},dSa:function(m){return m.map(function(d,g){d.duration+=a(m.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},Bna:function(m){return m.reduce(function(d,g){return d + g.entries.reduce(function(h,k){return k.zoa + h;},0);},0);},ozb:function(m,d){return m && m.Iw <= d && m.Cq >= d;},mEb:function(m){if(m)return m.endTime;},NEb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b,a){var f,l;function c(m){switch(m){case f.L.JQ:return "http";case f.L.LQ:return "connectiontimeout";case f.L.uE:return "readtimeout";case f.L.DCa:return "corruptcontent";case f.L.iB:return "abort";case f.L.MQ:case f.L.kca:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.vna=b.kna=b.gna=void 0;f=a(3);l=a(11);b.gna=c;b.kna=function(m,d){m={errorcode:m + (d.errorCode || f.M.Nl)};d.na && (m.errorsubcode=d.na);d.mf && (m.errorextcode=d.mf);d.pla && (m.erroredgecode=d.pla);d.Bb && (m.errordetails=d.Bb);d.$j && (m.httperr=d.$j);d.m8 && (m.aseneterr=d.m8);d.dM && (m.errordata=d.dM);d.uW && (m.mediaerrormessage=d.uW);(d=c(Number(d.na))) && (m.nwerr=d);return m;};b.vna=function(){return {screensize:l.fv.width + "x" + l.fv.height,screenavailsize:l.fv.availWidth + "x" + l.fv.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KJ="PlaygraphConfigSymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k){g=m.oi.call(this,d,g,k,l.Si.events,l.Si.events + "/" + h) || this;g.context=d;g.WAb=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.Vq=void 0;r=a(1);f=a(0);l=a(68);m=a(74);a(185);la(c,m.oi);c.prototype.ig=function(d,g){var h,k;h=this;k=this.c3(g);!1;!1;return this.send(d,g.href,k).then(function(){return g;}).catch(function(n){throw h.kn(n);});};c.prototype.aq=function(d,g,h){var k,n;k=this;n=this.c3(h);!1;!1;return this.send(d,g.jV("events").href,n).then(function(p){g.TOa(p.result.links);return h;}).catch(function(p){throw k.kn(p);});};c.prototype.c3=function(d){return {event:this.WAb,xid:d.ca,position:d.position || 0,clientTime:d.JT,sessionStartTime:d.nY,videoTrackId:d.yP,audioTrackId:d.Wm,timedTextTrackId:d.lP,mediaId:d.vN,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Zrb(d.oX),sessionParams:d.Ro,mdxControllerEsn:d.Sqa};};c.prototype.Lia=function(d){return {downloadableId:d.fd,duration:d.duration};};c.prototype.Zrb=function(d){var g;g={total:d.total,audio:d.audio.map(this.Lia),video:d.video.map(this.Lia),text:d.text.map(this.Lia)};d.total !== d.JI && (g.totalContentTime=d.JI);return g;};a=c;a=r.__decorate([f.R(),r.__param(0,f.el()),r.__param(1,f.el()),r.__param(2,f.el()),r.__param(3,f.el())],a);b.Vq=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z;function c(A){var B,D;B=this;this.c9=new z.Nda();this.createPlaygraphPlayer=function(E,F,C){var G;E=t.gib.encode(E);G=d.ja.get(w.ZQ);C=C?G.create(C):void 0;G=d.ja.get(q.Qda).create(E);return G.ixb(E.ff,B.c9.Cqa(B.gQa(F,G.i5())),C);};this.closeAllPlayers=function(E){m.Ida(void 0 === E?function(){}:E);};this.init=function(E){E=void 0 === E?function(){}:E;B.hL.gW(function(F){F.$?(l.config.d$?B.AVb().then(function(){f.DHa();}).catch(function(C){d.log.error("Unable to initialize the playdata services",C);}):Promise.resolve()).then(function(){Object.assign(B,c.iT);E(Object.assign({success:!0},c.iT));}):E({success:!1,error:d.$Ha(F.errorCode || h.M.$Ca,F)});});};this.applyConfig=function(E){B.I$a(E);l.Gja(E);};this.prepare=function(E,F){var C;E=B.S4a.Hyb(E) || [];C=new Set();E=E.filter(function(G){var J;J=C.has(G.J);C.add(G.J);return !J;});if(l.config.Dw && B.Dd)try{B.Dd.NH(E,F);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(E){nb._cad_global.playerPredictionModel?(E=B.S4a.Jyb(E)) && nb._cad_global.playerPredictionModel.update(E):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(E){d.wM().KY().then(function(F){return E(F.result);}).catch(function(){return E(!1);});};this.supportsUltraHd=function(E){d.wM().LY().then(E).catch(function(){return E(!1);});};this.supportsDolbyAtmos=function(E){d.wM().IY().then(E).catch(function(){return E(!1);});};this.supportsDolbyVision=function(E){d.wM().H$().then(function(F){return E(F.result);}).catch(function(){return E(!1);});};this.close=function(){};this.deviceThroughput=function(){var E;E=d.ja.get(n.d0).Wja();return E?Promise.resolve(E.Nt()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var E;E=d.ja.get(n.d0).Wja();return E?Promise.resolve(E.iFb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.wAb;};this.I$a(A);d.ja.get(y.aya);this.S4a=d.ja.get(g.FHa);this.hL=d.ja.get(u.oh);D=d.ja.get(x.AHa).apply();l.aSa([A],D);this.Dd=d.ja.get(v.bF);d.wM().LY();}Object.defineProperty(b,"__esModule",{value:!0});b.UJ=void 0;f=a(294);l=a(14);m=a(58);d=a(8);g=a(500);h=a(3);k=a(36);n=a(281);p=a(152);q=a(300);v=a(119);u=a(33);t=a(67);w=a(156);x=a(313);y=a(478);z=a(541);c.prototype.gQa=function(A,B){var D,E,F,C;A=void 0 === A?{}:A;C=null !== (E=null === (D=A.playbackState) || void 0 === D?void 0:D.currentTime) && void 0 !== E?E:B.wc;return Object.assign(Object.assign({startPts:C,uiPlayStartTime:Date.now()},A),{endPts:null !== (F=B.Oc) && void 0 !== F?F:void 0,isPlaygraph:!0});};c.prototype.I$a=function(A){d.ja.get(k.OQ).YMb(A);};c.prototype.AVb=function(){return d.ja.get(p.nR)().catch(function(A){d.log.error("Unable to initialize the playdata services",A);throw A;}).then(function(A){return A.send(Infinity);}).catch(function(A){d.log.error("Unable to send deferred playdata",A);});};b.UJ=c;c.iT={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eB="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.sna=function(){return this.buffer.length - this.position;};a.prototype.sA=function(){return this.buffer[this.position++];};a.prototype.Eh=function(c){var f;f=this.position;this.position+=c;return this.SJb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.SJb=function(c){return void 0 !== c.subarray;};a.prototype.Dq=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.Lta=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.ih=function(){return this.Dq(2);};a.prototype.Eq=function(){return this.Dq(4);};a.prototype.iO=function(){return this.Dq(8);};a.prototype.Jw=function(c){for(var f,l="";c--;){f=this.sA();l+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return l;};a.prototype.Ota=function(c){for(var f=0,l=0;l < c;l++){f+=this.sA() << (l << 3);}return f;};a.prototype.hO=function(){return this.Ota(4);};a.prototype.GZ=function(c){this.EP(c,2);};a.prototype.$A=function(c){this.EP(c,4);};a.prototype.Baa=function(c){this.buffer[this.position++]=c;};a.prototype.EP=function(c,f){this.position+=f;for(var l=1;l <= f;l++){this.buffer[this.position - l]=c & 255;c=Math.floor(c / 256);}};a.prototype.ZA=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.FZ=function(c){for(var f=c.length,l=0;l < f;l++){this.buffer[this.position++]=c[l];}};a.prototype.DP=function(c,f){this.FZ(c.Eh(f));};a.prototype.Rab=function(c){c=new a(c);for(var f,l;;){if((f=c.sna(),l=f >>> 14))(l=Math.min(4,l),this.Baa(192 | l),this.DP(c,16384 * l));else {128 > f?this.Baa(f):this.EP(f | 32768,2);this.DP(c,f);break;}}};a.prototype.x5a=function(){var l;for(var c=[],f=new a(c);;){l=this.sA();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.sA(),f.DP(this,l));else if((l&=63,0 < l && 4 >= l)){f.DP(this,16384 * l);continue;}else throw Error("bad asn1");}else f.DP(this,l);break;}return new Uint8Array(c);};return a;})();b.gQ=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YZ="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJa="ReportSyncSymbol";b.ZIa="ReportApiErrorSyncSymbol";b.ZBa="FtlProbeConfigSymbol";b.aCa="FtlProbeSymbol";},function(r,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,lma:c.max_framerate_value,kma:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,OQb:c.pixelAspectX,PQb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.H$b=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.AXa=b.zXa=void 0;b.zXa=function(c,f,l){var m;m=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,g){c[d].some(function(h,k){return k === f[g]?(m[g]=a(h),!0):!1;});});return m;};b.AXa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ex=void 0;c=a(218);f=a(5);r=(function(){function l(m){this.config=m;this.reset();}l.instance=function(){f.assert(void 0 !== l.xK);return l.xK;};l.tub=function(m){l.xK=new l(m);};l.prototype.push=function(m){this.sk && this.sk.push(m);};l.prototype.ub=function(){if(this.sk)return (this.sk.Ey(),this.sk.kj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};l.prototype.reset=function(){this.config.zUa && this.config.vca && (this.sk=new c.q6b(this.config.vca.c,this.config.vca.maxc));};return l;})();b.ex=r;},function(r){(function(){var R8;R8=2;function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.QB=this.Sc=0;this.sb=this.wf=void 0;a00=5;break;}}}for(;R8 !== 8;){switch(R8){case 2:b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.wf?a < this.wf?(this.QB+=this.wf - a,this.wf=a):a > this.sb && (this.sb=this.wf=a):this.sb=this.wf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.sb && a > this.sb && (this.QB+=a - this.sb,this.sb=a);c00=1;break;}}};b.prototype.add=function(a,c,f){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(f);this.Sc+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Fa:this.QB?Math.floor(8 * this.Sc / this.QB):null,vC:this.QB?this.QB:0};break;}}};R8=3;break;case 3:var V0g="1SIYb";V0g+="Zr";V0g+="NJ";V0g+="C";V0g+="p9";r.exports=b;V0g;R8=8;break;}}})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.cja=this.u.Qc();this.Mua=this.u.Qc();this.u.offset+=4;this.samplerate=this.u.Qc();this.u.offset+=2;f.ga && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.cja + ", samplesize: " + this.Mua + ", samplerate: " + this.samplerate);return d;};m.Oa=!1;return m;})(a(224).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Tu=void 0;a(5);r=(function(){function c(f,l){c.xb(this,f,l);}c.xb=function(f,l,m){f.dd=l;f.Sc=m.fa;f.Ke=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.dd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{fa:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.dd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{J:{get:function(){return this.dd.J;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.dd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Pa:{get:function(){return this.dd.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.dd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.dd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.dd.U;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{CN:{get:function(){return this.dd.CN;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{qa:{get:function(){return this.dd.qa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.J,streamId:this.Pa,offset:this.offset,bytes:this.fa};};return c;})();b.Tu=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wea=b.Jm=void 0;c=a(147);(function(l){l[l.pending=0]="pending";l[l.R9=1]="running";l[l.complete=2]="complete";l[l.RL=3]="destroyed";})(f=b.Jm || (b.Jm={}));r=(function(){function l(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.Tc=f.pending;}Object.defineProperties(l.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{YIb:{get:function(){return this.Tc === f.pending || this.Tc === f.R9;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Uf:{get:function(){return this.Bv;},enumerable:!1,configurable:!0}});l.prototype.Eqb=function(m){var d;null === (d=this.Bv) || void 0 === d?void 0:d.iua(this);this.Bv=m;};l.prototype.Mw=function(){this.Tc=f.R9;this.ig();this.t8() === c.zk.Gxa && (this.Tc=f.complete);};l.prototype.Kb=function(){var m;this.Tc=f.RL;null === (m=this.Bv) || void 0 === m?void 0:m.iua(this);};return l;})();b.wea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(831);c=a(385);a=a(833);b.default={STARTING:a.e7a,BUFFERING:r.Z9,REBUFFERING:r.Z9,PLAYING:c.Nw,PAUSED:c.Nw};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GM=b.eJ=void 0;c=a(843);f=a(844);l=a(245);Object.defineProperties(b,{eJ:{enumerable:!0,get:function(){return l.eJ;}}});b.GM=function(m,d){switch(m.Eqa){case "manifold":return new c.cFa(m,d);default:return new f.OJa(m,d);}};},function(r,b,a){var c,f,l;c=a(128);f=a(59);l=a(176);r.exports=function(m){return function n(g,h,k){switch(arguments.length){case 0:return n;case 1:return l(g)?n:f(function(p,q){return m(g,p,q);});case 2:return l(g) && l(h)?n:l(g)?f(function(p,q){return m(p,h,q);}):l(h)?f(function(p,q){return m(g,p,q);}):c(function(p){return m(g,h,p);});default:return l(g) && l(h) && l(k)?n:l(g) && l(h)?f(function(p,q){return m(p,q,k);}):l(g) && l(k)?f(function(p,q){return m(p,h,q);}):l(h) && l(k)?f(function(p,q){return m(g,p,q);}):l(g)?c(function(p){return m(p,h,k);}):l(h)?c(function(p){return m(g,p,k);}):l(k)?c(function(p){return m(g,h,p);}):m(g,h,k);}};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(32);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(d){d=l.prototype.parse.call(this,d);this.u.offset+=8;this.cja=this.u.Qc();this.Mua=this.u.Qc();this.u.offset+=4;this.samplerate=this.u.Qc();this.u.offset+=2;f.ga && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.cja + ", samplesize: " + this.Mua + ", samplerate: " + this.samplerate);return d;};m.Oa=!1;return m;})(a(263).default);b.default=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TQ="LogblobBuilderFactorySymbol";b.Gca="LogblobBuilderCommonSymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p){var q;q=m.aQ.call(this,h,k,f.Ej.jLa,p) || this;q.config=h;q.gj=k;q.is=n;q.I7=p;q.type=f.Ti.Xu;q.zZ=d.Ed.OSa();return q;}Object.defineProperty(b,"__esModule",{value:!0});b.Nn=void 0;f=a(25);l=a(44);m=a(440);r=a(111);d=a(110);g=a(432);new r.xB();la(c,m.aQ);c.prototype.Qw=function(){return Promise.resolve(!1);};c.prototype.Lt=function(){return Promise.resolve("");};c.prototype.l5=function(){return Promise.resolve("");};c.prototype.KY=function(){return this.config().ela?this.I7.bpa()?this.I7.Zy(l.P.uJ).then(function(h){return {result:h,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.H$=function(){return this.config().ela?this.I7.bpa()?this.I7.Zy(l.P.fQ).then(function(h){return {result:h,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.LY=function(){return Promise.resolve(!1);};c.prototype.IY=function(){return Promise.resolve(!1);};c.prototype.rM=function(h){return this.zZ[h];};c.prototype.rha=function(){};c.prototype.i1a=function(h){switch(h){case f.Bj.zE:return "1.4";case f.Bj.av:return "2.2";}};c.prototype.Pp=function(){return g.Oba.Pp();};c.prototype.ZXa=function(h){return h || this.config().Zw;};c.prototype.DM=function(){return Promise.resolve(void 0);};c.prototype.C5=function(){return Promise.resolve(void 0);};c.prototype.VT=function(h){var k;k=[];this.is.yg(h) && k.push(this.i1a(h));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:k,isHdcpEngaged:! !k.length}];};b.Nn=c;c.rP="video/mp4;codecs={0};";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Te=void 0;b.Te=a;a.rCa=/^hevc-main/;a.jCa=/^hevc-hdr-|hevc-dv/;a.px=/^hevc-hdr-/;a.Hs=/^hevc-dv/;a.pQ=/-h264mpl/;a.sJ=/-h264mpl30/;a.rE=/-h264mpl31/;a.aB=/-h264hpl/;a.Ix=/^vp9-/;a.xj=/^av1-/;a.RJ=/-L5[0-1]-/;a.JZ=/^heaac-2-/;a.wCa=/^heaac-2hq-dash/;a.cF=/^xheaac-dash/;a.Xcb=/ddplus-2/;a.Ycb=/ddplus-5/;a.Zcb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sgb="NativeLocalStorageSymbol";b.RFa="NativeLocalStorageFactorySymbol";b.XCa="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WCa="IDBDatabaseFactorySymbol";b.ADa="IndexedDBFactorySymbol";b.sca="IndexedDBStorageFactorySymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.RIa=b.A0=b.n5=void 0;c=a(47);f=a(3);b.n5=function(l){return l === c.Sb.gl.Lb?f.L.Pca:f.L.Qca;};b.A0=50;b.RIa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.vw,minHCInitVideoBitrate:a.kra,maxInitVideoBitrate:a.Uz,minInitAudioBitrate:a.BW,maxInitAudioBitrate:a.nW,minHCInitAudioBitrate:a.AW,minAcceptableVideoBitrate:a.T7,minRequiredBuffer:a.DW,minPrebufSize:a.hj,minCheckBufferingCompleteInterval:a.W7,rebufferingFactor:a.Tta,useMaxPrebufSize:a.txa,maxPrebufSize:a.lD,maxRebufSize:a.Oqa,maxBufferingTime:a.Vr,minAudioMediaRequestSizeBytes:a.U7,minVideoMediaRequestSizeBytes:a.c8,initialBitrateSelectionCurve:a.t6,initSelectionLowerBound:a.QZa,initSelectionUpperBound:a.RZa,throughputPercentForAudio:a.M$,bandwidthMargin:a.pia,bandwidthMarginContinuous:a.qia,bandwidthMarginCurve:a.ria,conservBandwidthMargin:a.Jja,switchConfigBasedOnInSessionTput:a.uwa,conservBandwidthMarginTputThreshold:a.QT,conservBandwidthMarginCurve:a.Kja,switchAlgoBasedOnHistIQR:a.n9a,switchConfigBasedOnThroughputHistory:a.XD,maxPlayerStateToSwitchConfig:a.Nqa,lowEndMarkingCriteria:a.nqa,IQRThreshold:a.qca,histIQRCalcToUse:a.roa,maxTotalBufferLevelPerSession:a.du,highWatermarkLevel:a.hZa,toStableThreshold:a.V9a,toUnstableThreshold:a.S$,skipBitrateInUpswitch:a.Nva,watermarkLevelForSkipStart:a.Kxa,highStreamRetentionWindow:a.loa,lowStreamTransitionWindow:a.oqa,highStreamRetentionWindowUp:a.noa,lowStreamTransitionWindowUp:a.qqa,highStreamRetentionWindowDown:a.moa,lowStreamTransitionWindowDown:a.pqa,highStreamInfeasibleBitrateFactor:a.koa,lowestBufForUpswitch:a.Nz,lockPeriodAfterDownswitch:a.t7,lowWatermarkLevel:a.sqa,lowestWaterMarkLevel:a.Oz,lowestWaterMarkLevelBufferRelaxed:a.tqa,mediaRate:a.Zqa,maxTrailingBufferLen:a.G7,audioBufferTargetAvailableSize:a.kT,videoBufferTargetAvailableSize:a.tZ,maxVideoTrailingBufferSize:a.K1a,maxAudioTrailingBufferSize:a.t1a,fastUpswitchFactor:a.E4,fastDownswitchFactor:a.Dla,maxMediaBufferAllowed:a.Vz,simulatePartialBlocks:a.Lva,simulateBufferFull:a.l8a,considerConnectTime:a.Lja,connectTimeMultiplier:a.Ija,lowGradeModeEnterThreshold:a.Q0a,lowGradeModeExitThreshold:a.R0a,maxDomainFailureWaitDuration:a.w1a,maxAttemptsOnFailure:a.s1a,exhaustAllLocationsForFailure:a.WUa,maxNetworkErrorsDuringBuffering:a.C1a,maxBufferingTimeAllowedWithNetworkError:a.A7,fastDomainSelectionBwThreshold:a.dVa,throughputProbingEnterThreshold:a.A9a,throughputProbingExitThreshold:a.B9a,locationProbingTimeout:a.D0a,finalLocationSelectionBwThreshold:a.lVa,throughputHighConfidenceLevel:a.y9a,throughputLowConfidenceLevel:a.z9a,locationStatisticsUpdateInterval:a.aqa,enablePerfBasedLocationSwitch:a.yUa,probeServerWhenError:a.wu,probeRequestTimeoutMilliseconds:a.qta,allowSwitchback:a.ly,probeDetailDenominator:a.RH,maxDelayToReportFailure:a.B7,countGapInBuffer:a.qSa,bufferThresholdForAbort:a.HQa,allowCallToStreamSelector:a.nPa,pipelineScheduleTimeoutMs:a.Msa,maxPartialBuffersAtBufferingStart:a.Wz,minPendingBufferLen:a.lra,maxPendingBufferLen:a.kD,maxPendingBufferLenSABCell100:a.E7,maxActiveRequestsSABCell100:a.y7,maxStreamingSkew:a.Qqa,maxPendingBufferPercentage:a.Lqa,maxRequestsInBuffer:a.uN,headerRequestSize:a.b6,estimateHeaderSize:a.tla,minBufferLenForHeaderDownloading:a.zW,reserveForSkipbackBufferMs:a.wO,numExtraFragmentsAllowed:a.Qra,pipelineEnabled:a.wq,maxParallelConnections:a.sN,socketReceiveBufferSize:a.u8a,audioSocketReceiveBufferSize:a.Q2,videoSocketReceiveBufferSize:a.xP,headersSocketReceiveBufferSize:a.ioa,updatePtsIntervalMs:a.iaa,bufferTraceDenominator:a.Dia,bufferLevelNotifyIntervalMs:a.nL,aseReportDenominator:a.fL,aseReportIntervalMs:a.L2,enableAbortTesting:a.$zb,abortRequestFrequency:a.Tob,streamingStatusIntervalMs:a.lwa,prebufferTimeLimit:a.kA,minBufferLevelForTrackSwitch:a.V7,penaltyFactorForLongConnectTime:a.Esa,longConnectTimeThreshold:a.lqa,additionalBufferingLongConnectTime:a.Aha,additionalBufferingPerFailure:a.Bha,rebufferCheckDuration:a.MX,enableLookaheadHints:a.vUa,lookaheadFragments:a.N0a,enableOCSideChannel:a.Wy,OCSCBufferQuantizationConfig:a.f0,updateDrmRequestOnNetworkFailure:a.F$a,deferAseScheduling:a.pTa,maxDiffAudioVideoEndPtsMs:a.v1a,defaultHeaderCacheSize:a.S3,defaultHeaderCacheDataPrefetchMs:a.R3,neverWipeHeaderCache:a.wH,networkFailureResetWaitMs:a.yra,networkFailureAbandonMs:a.xra,maxThrottledNetworkFailures:a.F7,throttledNetworkFailureThresholdMs:a.L$,lowThroughputThreshold:a.rqa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.xla,mp4ParsingInNative:a.s2a,sourceBufferInOrderAppend:a.w8a,requireAudioStreamToEncompassVideo:a.xA,allowAudioToStreamPastVideo:a.mPa,enableManagerDebugTraces:a.$h,managerDebugMessageInterval:a.e1a,managerDebugMessageCount:a.d1a,bufferThresholdToSwitchToSingleConnMs:a.Cia,bufferThresholdToSwitchToParallelConnMs:a.Bia,netIntrStoreWindow:a.PNb,minNetIntrDuration:a.oNb,fastHistoricBandwidthExpirationTime:a.rBb,bandwidthExpirationTime:a.lrb,failureExpirationTime:a.oBb,historyTimeOfDayGranularity:a.DHb,expandDownloadTime:a.bBb,minimumMeasurementTime:a.yNb,minimumMeasurementBytes:a.xNb,throughputMeasurementTimeout:a.SYb,initThroughputMeasureDataSize:a.zIb,throughputMeasureWindow:a.RYb,throughputIQRMeasureWindow:a.QYb,IQRBucketizerWindow:a.Sfb,connectTimeHalflife:a.uub,responseTimeHalflife:a.DUb,historicBandwidthUpdateInterval:a.CHb,throughputWarmupTime:a.WYb,minimumBufferToStopProbing:a.wNb,throughputPredictor:a.TYb,ase_stream_selector:a.tqb,enableFilters:a.dAb,filterDefinitionOverrides:a.IBb,defaultFilter:a.iyb,secondaryFilter:a.hVb,defaultFilterDefinitions:a.jyb,initBitrateSelectorAlgorithm:a.Loa,bufferingSelectorAlgorithm:a.Iia,ase_ls_failure_simulation:a.bTa,ase_dump_fragments:a.oka,ase_location_history:a.qka,ase_throughput:a.rka,ase_simulate_verbose:a.dTa,secondThroughputEstimator:a.Vua,secondThroughputMeasureWindowInMs:a.a7a,marginPredictor:a.Eqa,networkMeasurementGranularity:a.zra,HistoricalTDigestConfig:a.NCa,maxIQRSamples:a.z1a,minIQRSamples:a.f2a,periodicHistoryPersistMs:a.Y8,saveVideoBitrateMs:a.S9,needMinimumNetworkConfidence:a.IW,biasTowardHistoricalThroughput:a.uia,maxFastPlayBufferInMs:a.Jqa,maxFastPlayBitThreshold:a.Iqa,minAudioMediaRequestDuration:a.uw,minVideoMediaRequestDuration:a.$z,minAudioMediaRequestDurationCache:a.uw,minVideoMediaRequestDurationCache:a.$z,addHeaderDataToNetworkMonitor:a.tha,hindsightDenominator:a.qoa,hindsightDebugDenominator:a.poa,hindsightParam:a.f6,minimumTimeBeforeBranchDecision:a.pD,enableSessionHistoryReport:a.FU,earlyStageEstimatePeriod:a.ala,lateStageEstimatePeriod:a.m0a,maxNumSessionHistoryStored:a.D7,minSessionHistoryDuration:a.b8,appendMediaRequestOnComplete:a.DPa,waitForDrmToAppendMedia:a.yaa,forceAppendHeadersAfterDrm:a.N4,startMonitorOnLoadStart:a.Wva,reportFailedRequestsToNetworkMonitor:a.pua,reappendRequestsOnSkip:a.XSb,maxActiveRequestsPerSession:a.ow,limitAudioDiscountByMaxAudioBitrate:a.Wpa,appendFirstHeaderOnComplete:a.Kha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.Qzb,declareBufferingCompleteAtSegmentEnd:a.ska,applyProfileTimestampOffset:a.dC,applyProfileStreamingOffset:a.Dk,requireDownloadDataAtBuffering:a.I9,requireSetupConnectionDuringBuffering:a.J9,recordFirstFragmentOnSubBranchCreate:a.Wta,earlyAppendSingleChildBranch:a.i4,selectStartingVMAFMethod:a.DO,activateSelectStartingVMAF:a.aT,minStartingVideoVMAF:a.gu,minAcceptableVMAF:a.yW,minAllowedVmaf:a.qH,alwaysNotifyEOSForPlaygraph:a.fqb,enableNewAse:a.EU,useNewApi:a.laa,enableDiscontiguousBuffering:a.k4,forceImmediateTransitionTypeForTitles:a.gma,forceImmediateTransitionExitZone:a.fma,useBufferSizeLimiter:a.qxa,enableHudsonFieldTest:a.hAb,hudsonTitles:a.SHb,maxPartialBuffersAtHudson:a.sMb,numberOfChunksPerSegment:a.COb,targetContentLatency:a.EYb,targetLongContentLatency:a.FYb,minimumTimeDelay:a.zNb,enableWsslEstimate:a.hla,maxAllowedOutstandingRequests:a.z7,alwaysRunUnderflowTimer:a.aL,minStreamableConcurrencyWindow:a.mra,streamableConcurrencyFactor:a.hwa,bufferingConcurrencyWindow:a.DT,singleStreamablePerBranch:a.jXb,enableResolutionVMAFStreamFilter:a.n4,resolutionVMAFCappingRuleList:a.N9,percentCapTitlesForResolutionVMAFStreamFilter:a.Gsa,useExitZones:a.rxa,perFragmentVMAFConfig:a.iA,enableInitialTputLogging:a.l4,maxResponsesInitialTput:a.Pqa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kba=void 0;(b.Kba || (b.Kba={})).Yhb="PboDebugEvent";b.uAa={Agb:"Manifest",Event:"Event",$3b:"Logblob"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RQ="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rJ=void 0;b.rJ=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o0="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pba=b.NAa=void 0;b.NAa=function(){this.Lb=0;this.Jb=1;this.Heb=2;this.ig=function(){};};b.Pba="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oc=void 0;b.oc=a;a.Je={cGa:"mr1",bGa:"mr2",dGa:"mr3",hR:"mr4",ahb:"mr5",NE:"mr6"};a.Kc={UNSENT:0,OPENED:1,Ex:2,Dx:3,DONE:5,qJ:6,MP:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.u_={NO_ERROR:-1,Cdb:0,kAa:1,Odb:2,Gdb:3,Ecb:4,pza:5,nza:6,Fcb:7,Gcb:8,Hcb:9,Bcb:10,Dcb:11,oza:12,Ccb:13,Acb:14,Oeb:15,BCa:16,ACa:17,hca:18,jca:19,ica:20,ECa:21,Qeb:22,M_:23,CCa:24,Peb:25,Jdb:26,Ddb:27,Hib:28,tdb:29,udb:30,vdb:31,wdb:32,xdb:33,ydb:34,zdb:35,Adb:36,Bdb:37,Edb:38,Fdb:39,Hdb:40,Idb:41,Kdb:42,Ldb:43,Mdb:44,Ndb:45,Pdb:46,Qdb:47,Gib:48,TIMEOUT:49,xCa:50,yCa:51,Neb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.dc={dY:{ebb:!0,yR:!1,Ngb:!0}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n0="PboPublisherSymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;c=a(12);f=a(14);r=a(3);l=a(22);m=a(8);d=a(471);g=a(11);h=a(33);k=a(34);n=m.ja.get(h.oh);n.register(r.M.pca,function(p){var q,v,u,t;q=m.ja.get(k.xk);l.rb(f.config);l.rb(g.pB && g.pB.getDeviceId || g.Z_ || q.oM);v=m.ja.get(d.EAa);u=m.Di("Device");n.Bd("devs");t=m.ja.get(k.rB);v.create({deviceId:f.config.deviceId,oM:q.oM,zTa:"deviceid",Lk:f.config.Lk,ro:t.v_,kU:q.kU,userAgent:g.qB,dqa:f.config.dqa,Lma:f.config.Lma,Qyb:t.Cba || !1,arb:f.config.hQa.e,o$b:f.config.Uv?"mslstoretest":"mslstore",VI:f.config.VI}).then(function(w){b.Yj=w;nb._cad_global.device=b.Yj;u.info("Esn source: " + b.Yj.u4);n.Bd("devdone");p(c.Ve);}).catch(function(w){w.$=void 0;p(w);});});},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wE=void 0;c=/^\S+$/;a.prototype.nG=function(f){return void 0 !== f;};a.prototype.yg=function(f){return null !== f && void 0 !== f;};a.prototype.bL=function(f){return a.sPa(f);};a.prototype.hha=function(f){return !(!f || !a.sPa(f));};a.prototype.my=function(f){return Array.isArray(f);};a.prototype.tPa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.wi=function(f,l,m){return a.EOa(f,l,m);};a.prototype.gha=function(f){return a.gha(f);};a.prototype.Iha=function(f,l,m){return a.G2(f,l,m) && 0 === f % 1;};a.prototype.eT=function(f,l,m){return a.G2(f,l || 0,m);};a.prototype.XS=function(f){return a.G2(f,1);};a.prototype.Rob=function(f){return a.G2(f,0,255);};a.prototype.Sob=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.uPa=function(f){return !(!f || !c.test(f));};a.prototype.Ep=function(f){return a.FOa(f);};a.prototype.Sm=function(f){return !(!a.FOa(f) || !f);};a.prototype.WS=function(f){return !0 === f || !1 === f;};a.prototype.x2=function(f){return "function" == typeof f;};a.FOa=function(f){return "string" == typeof f;};a.EOa=function(f,l,m){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === l || f >= l) && (void 0 === m || f <= m);};a.gha=function(f){return "number" == typeof f && isNaN(f);};a.G2=function(f,l,m){return a.EOa(f,l,m) && 0 === f % 1;};a.sPa=function(f){return "object" == typeof f;};b.wE=new a();},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.bc=void 0;r=a(0);c=a(94);f=a(578);l=a(200);m=a(594);d=a(601);g=a(612);a=a(1234);b.bc=new r.a_({sI:!0});g.w0a(b.bc);b.bc.load(f.platform);b.bc.load(m.config);l.WL.load(d.jUa);b.bc.load(a.zPa);b.bc.load(a.profile);b.bc.bind(c.EDa).Mi(b.bc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(196);r=(function(){function f(l){this.zc=l;}f.prototype.ww=function(l){this.zc.ww=l;return new c.qba(this.zc);};return f;})();b.UZ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(195);a(311);r=(function(){function f(l){this.zc=l;}f.prototype.when=function(l){this.zc.bG=l;return new c.UZ(this.zc);};f.prototype.CZ=function(){this.zc.bG=function(l){return null !== l.target && !l.target.hpa() && !l.target.upa();};return new c.UZ(this.zc);};return f;})();b.qba=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cx=void 0;b.cx=a;a.Xhb="PSK";a.jgb="MGK";a.LDa="JWEJS_RSA";a.S_="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dda="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sea="StringUtilsSymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.WL=b.eme=void 0;r=a(0);c=a(120);f=a(314);l=a(201);m=a(202);d=a(589);g=a(590);h=a(79);k=a(137);n=a(591);p=a(165);q=a(592);b.eme=new r.od(function(v){v(f.RAa).to(l.QAa).aa();v(m.wba).to(d.wza).aa();v(c.r_).ZY(g.k5a);v(h.cv).$D(function(u){b.WL.parent=u.eb;return b.WL.get(h.cv);});v(k.$Q).Ff(function(){return function(){return new n.sFa();};});v(p.YZ).to(q.yza).aa;});b.WL=new r.a_({sI:!0});},function(r,b,a){function c(){}function f(l){l?(this.active=!1,this.oma(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=b.q_=void 0;r=a(1);a=a(0);f.prototype.oma=function(l){this.se=l.keySessionData?l.keySessionData.map(function(m){return {id:m.id,hH:m.licenseContextId,fW:m.licenseId};}):[];this.ca=l.xid;this.J=l.movieId;};f.prototype.Rw=function(){return JSON.parse(JSON.stringify({keySessionData:this.se?this.se.map(function(l){return {id:l.id,licenseContextId:l.hH,licenseId:l.fW};}):[],xid:this.ca,movieId:this.J}));};b.q_=f;c.prototype.create=function(){return new f();};c.prototype.load=function(l){return new f(l);};a=r.__decorate([a.R()],c);b.QAa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wba="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ux='video/mp4; codecs="avc1.640028"';b.CJ='audio/mp4; codecs="mp4a.40.5"';b.deb="DrmTraitsSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t,w,x,y,z){this.HW=u;this.is=t;this.Mc=w;this.ae=x;this.Vp=y;this.Kh=z;m.Go(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.hv=void 0;r=a(1);l=a(0);m=a(56);d=a(3);g=a(38);h=a(26);k=a(95);n=a(29);p=a(35);q=a(69);a=a(77);c.prototype.gz=function(){if(this.qb)return this.qb.sessionId;};c.prototype.kUb=function(u,t){return this.HW.requestMediaKeySystemAccess(u,t);};c.prototype.createMediaKeys=function(u){return u.createMediaKeys();};c.prototype.createSession=function(u,t){this.qb=u.createSession(t);};c.prototype.E3=function(){return Promise.reject(new k.Hg(d.M.t_));};c.prototype.JJb=function(){return ! !this.qb;};c.prototype.setServerCertificate=function(u,t){return this.is.x2(u.setServerCertificate)?u.setServerCertificate(t):Promise.resolve();};c.prototype.generateRequest=function(u,t){return this.qb?this.qb.generateRequest(u,t[0]):Promise.reject(new k.Hg(d.M.t_,d.L.oJ,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(u){return this.qb?this.qb.update(u[0]):Promise.reject(new k.Hg(d.M.kBa,d.L.oJ,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(u){return this.qb?this.qb.load(u):Promise.reject(new k.Hg(d.M.leb,d.L.oJ,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var u;this.xja=void 0;if(!this.qb)return Promise.reject(new k.Hg(d.M.cBa,d.L.oJ,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.gz() && (u=this.qb.close());this.qb=void 0;return u;};c.prototype.remove=function(){return this.qb?this.qb.remove():Promise.reject(new k.Hg(d.M.meb,d.L.oJ,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.WH=function(){return Promise.reject(new k.Hg(d.M.Sba,void 0,"Unable to renew a key session, not supported"));};c.prototype.VOa=function(u){if(!this.qb)throw ReferenceError("Unable to add message handler, key session is not valid");this.qb.addEventListener(f.oBa,u);};c.prototype.QOa=function(u){if(!this.qb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.qb.addEventListener(f.nBa,u);};c.prototype.OOa=function(u){if(!this.qb)throw ReferenceError("Unable to add error handler, key session is not valid");this.qb.addEventListener(f.mBa,u);};c.prototype.gpb=function(u){var t;t=this;if(!this.qb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.xja=u;this.qb.closed.then(function(){var w;return null === (w=t.xja) || void 0 === w?void 0:w.call(t);});};c.prototype.a6a=function(u){if(!this.qb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.qb.removeEventListener(f.oBa,u);};c.prototype.Z5a=function(u){if(!this.qb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.qb.removeEventListener(f.nBa,u);};c.prototype.X5a=function(u){if(!this.qb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.qb.removeEventListener(f.mBa,u);};v=f=c;v.oBa="message";v.nBa="keystatuseschange";v.mBa="error";v=f=r.__decorate([l.R(),r.__param(0,l.l(g.HJ)),r.__param(1,l.l(h.Yf)),r.__param(2,l.l(p.mi)),r.__param(3,l.l(n.Zf)),r.__param(4,l.l(q.Zu)),r.__param(5,l.l(a.jv))],v);b.hv=v;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yoa=b.Yu=void 0;(function(a){a.Z$a="usable";a.Dt="expired";a.released="released";a.D3a="output-restricted";a.XPb="output-downscaled";a.HXb="status-pending";a.MIb="internal-error";})(b.Yu || (b.Yu={}));b.Yoa=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.K0="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ps="_ANY_";b.DBa="EnricherSymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k){this.za=d;this.d3=g;this.Fn=h;this.mo=void 0 === k?"General":k;this.zja={};}Object.defineProperty(b,"__esModule",{value:!0});b.AJ=void 0;f=a(7);l=a(338);m=a(641);c.prototype.LOa=function(d,g){this.zja[d]=g;};c.prototype.fatal=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.aC(f.Cj.veb,d,this.vP(d,h));};c.prototype.error=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.aC(f.Cj.Gf,d,this.vP(d,h));};c.prototype.warn=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.aC(f.Cj.Iea,d,this.vP(d,h));};c.prototype.info=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.aC(f.Cj.oca,d,this.vP(d,h));};c.prototype.trace=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.aC(f.Cj.pKa,d,this.vP(d,h));};c.prototype.debug=function(d,g){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,g){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ca(h)));};c.prototype.write=function(d,g,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.aC(d,g,this.vP(g,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.mo};};c.prototype.Yja=function(d){return new c(this.za,this.d3,this.Fn,d);};c.prototype.aC=function(d,g,h){d=new l.Eca(d,this.mo,this.za.Wb(),g,h);g=aa(this.Fn.Fn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d);}};c.prototype.IDb=function(d){return 0 < Object.keys(this.zja).length?[this.zja].concat(ca(d)):d;};c.prototype.vP=function(d,g){var h;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return m.OQa(this.d3,this.IDb(g));};b.AJ=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kea="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xda="PboPlaydataFactorySymbol";},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.UXb=b.E5a=b.Rta=void 0;b.Rta=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.E5a=a;b.UXb=function(c){var f,l,m;return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.Rg) + " sp:" + c.BA + " pssp:") + (c.yX + " state:") + (c.Lf + " path-complete:" + (null === (f=c.hA) || void 0 === f?void 0:f.T) + " streaming:") + ((null === (l=c.Li) || void 0 === l?void 0:l.T) + " current:" + (null === (m=c.Hd) || void 0 === m?void 0:m.T));};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U1a=b.P7=b.uf=void 0;b.uf=[0,1];b.P7=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.U1a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gda=void 0;r=(function(){function a(c,f,l,m){var d;d=this;this.properties=c;this.transform=f;this.GT=l;this.state=m;this.jsa=function(){var g,h;g=d.state;h=d.properties.map(function(k){return k.value;});d.state=d.transform(h);(d.l_a(d.state) && d.l_a(g)?d.state.equal(g):g === d.state) || d.GT(d.state);};c.forEach(function(g){return g.addListener(d.jsa);});this.jsa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.jsa);});};a.prototype.l_a=function(c){return void 0 !== c.equal;};return a;})();b.gda=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vk=void 0;r=b.vk || (b.vk={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Fj=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZE=void 0;r=(function(){function a(c){this.cOa=c;}Object.defineProperties(a.prototype,{aN:{get:function(){return this.Elb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.cOa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fua:{get:function(){var c;c=this;return this.cOa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Elb=!0;};a.prototype.esa=function(c,f){var l;l=this;this.result.then(function(m){l.aN?f && f(m):c(m);});return this;};return a;})();b.ZE=r;},function(r,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,l){f[l]=a(c[l]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f){f && (this.sY(f.ff),this.Dva(f.me),this.P7a(f.Aa));}c.prototype.sY=function(f){this.ff=f;return this;};c.prototype.Dva=function(f){this.me=f;return this;};c.prototype.J7a=function(f){this.zd=f;return this;};c.prototype.jo=function(f,l){this.Aa || (this.Aa={});this.Aa[f]=a(l);return this;};c.prototype.P7a=function(f){var l;l=this;this.Aa={};Object.keys(f).forEach(function(m){return l.jo(m,f[m]);});};c.prototype.zi=function(){var f;if(!this.Aa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ff)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Aa[this.ff])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={ff:this.ff,Aa:this.Aa};this.me && (f.me=this.me);this.zd && (f.zd=this.zd);return f;};return c;})();b.SE=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iJ=void 0;r=a(2);c=a(168);f=r.__importDefault(a(219));l=r.__importDefault(a(752));m=r.__importDefault(a(143));d=a(5);b.iJ=(function(){function h(k,n){var p;p=this;this.Bh=new f.default(k,n);this.tn=new l.default(k);this.Pb=new m.default(this.tn,this.Bh,k);c.ex.tub(k);k.Y8 && setInterval(function(){p.Bh.save();p.tn.save();},k.Y8);}h.OXa=function(k,n){void 0 === g?(h.config=k,h.ZD=n,g=new h(k,n)):(d.assert(h.config === k),d.assert(h.ZD === n));return g;};h.reset=function(){h.config=void 0;g=h.ZD=void 0;};return h;})();},function(r,b,a){var d;function c(g,h,k){this.SL=!1 === g;this.OL=g || .01;this.wca=void 0 === h?25:h;this.uza=void 0 === k?1.1:k;this.Bi=new d(f);this.reset();}function f(g,h){return g.mg > h.mg?1:g.mg < h.mg?-1:0;}function l(g,h){return g.qw - h.qw;}function m(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.OL:!1);this.Syb=this.config.ratio || .9;this.Tyb=this.config.Pac || 1E3;this.k8=0;}d=a(734).nib;c.prototype.reset=function(){this.Bi.clear();this.Tpa=this.n=0;};c.prototype.size=function(){return this.Bi.size;};c.prototype.Xo=function(g){var h;h=[];g?(this.k1(!0),this.Bi.kf(function(k){h.push(k);})):this.Bi.kf(function(k){h.push({mg:k.mg,n:k.n});});return h;};c.prototype.summary=function(){return [(this.SL?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.kj(0),"Q1  = " + this.kj(.25),"Q2  = " + this.kj(.5),"Q3  = " + this.kj(.75),"max = " + this.kj(1)].join("\n");};c.prototype.push=function(g,h){h=h || 1;g=Array.isArray(g)?g:[g];for(var k=0;k < g.length;k++){this.iMa(g[k],h);}};c.prototype.Cta=function(g){g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.iMa(g[h].mg,g[h].n);}};c.prototype.k1=function(g){var h;if(!(this.n === this.Tpa || !g && this.uza && this.uza > this.n / this.Tpa)){h=0;this.Bi.kf(function(k){k.qw=h + k.n / 2;h=k.GL=h + k.n;});this.n=this.Tpa=h;}};c.prototype.YBb=function(g){var h,k;if(0 === this.size())return null;h=this.Bi.lowerBound({mg:g});k=null === h.data()?h.QH():h.data();return k.mg === g || this.SL?k:(h=h.QH()) && Math.abs(h.mg - g) < Math.abs(k.mg - g)?h:k;};c.prototype.HK=function(g,h,k){this.Bi.mq({mg:g,n:h,GL:k});this.n+=h;};c.prototype.U0=function(g,h,k){h !== g.mg && (g.mg+=k * (h - g.mg) / (g.n + k));g.GL+=k;g.qw+=k / 2;g.n+=k;this.n+=k;};c.prototype.iMa=function(g,h){var k,n,p;k=this.Bi.min();n=this.Bi.max();p=this.YBb(g);p && p.mg === g?this.U0(p,g,h):p === k?this.HK(g,h,0):p === n?this.HK(g,h,this.n):this.SL?this.HK(g,h,p.GL):(k=p.qw / this.n,Math.floor(4 * this.n * this.OL * k * (1 - k)) - p.n >= h?this.U0(p,g,h):this.HK(g,h,p.GL));this.k1(!1);!this.SL && this.wca && this.size() > this.wca / this.OL && this.Ey();};c.prototype.Krb=function(g){var h,k;this.Bi.Mm=l;h=this.Bi.upperBound({qw:g});this.Bi.Mm=f;k=h.QH();g=k && k.qw === g?k:h.next();return [k,g];};c.prototype.kj=function(g){var h;h=(Array.isArray(g)?g:[g]).map(this.nnb,this);return Array.isArray(g)?h:h[0];};c.prototype.nnb=function(g){var h,k;if(0 !== this.size()){this.k1(!0);this.Bi.min();this.Bi.max();g*=this.n;h=this.Krb(g);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).mg:this.SL?g <= k.GL?k.mg:h.mg:k.mg + (g - k.qw) * (h.mg - k.mg) / (h.qw - k.qw);}};c.prototype.Ey=function(){var g;if(!this.XRa){g=this.Xo();this.reset();for(this.XRa=!0;0 < g.length;){this.Cta(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.k1(!0);this.XRa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(g){c.prototype.push.call(this,g);this.utb();};m.prototype.HK=function(g,h,k){this.k8+=1;c.prototype.HK.call(this,g,h,k);};m.prototype.U0=function(g,h,k){1 === g.n && --this.k8;c.prototype.U0.call(this,g,h,k);};m.prototype.utb=function(){!("auto" !== this.mode || this.size() < this.Tyb) && this.k8 / this.size() > this.Syb && (this.mode="cont",this.SL=!1,this.OL=this.config.OL || .01,this.Ey());};r.exports={TDigest:c,Digest:m};},function(r,b,a){var d,g,h,k,n,p;function c(q){var v;v=q.Bfa;this.I=q;this.Ij=g.Hf.HAVE_NOTHING;this.pK=q.pK;q=new n(this.pK);this.RS=q.create("throughput-location-history",v);this.by=q.create("respconn-location-history",v);this.Tx=q.create("respconn-location-history",v);this.n2=q.create("throughput-tdigest-history",v);this.D1=q.create("throughput-iqr-history",v);this.sb=null;}function f(q,v,u,t,w){this.GB=new c(w);this.Zs=[];this.fmb=h.time.ea() - Date.now() % 864E5;this.Rx=null;this.I=w;for(q=0;q < t;++q){this.Zs.push(new c(w));}}function l(q,v,u){return d.has(q,v)?q[v]:q[v]=u;}function m(q,v){var u;this.I=q;this.rOa=v;this.TAb();this.hS=new c(this.I);this.sS();u=q.qka;u && (u={confidence:g.Hf.tJ,Sa:{Fa:parseInt(u,10),Ni:0},pj:{Fa:0,Ni:0},Vt:{Fa:0,Ni:0}},this.get=function(){return u;});}d=a(10);g=a(28).default;b=a(9);h=a(6).default;k=b.dCa;n=a(356).VBa;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:g.Hf.HAVE_NOTHING};c.prototype.MF=function(q,v){this.Ij=v;this.RS.add(q);this.n2.add(q);this.sb=h.time.ea();};c.prototype.UI=function(q,v){this.D1.set(q,v);};c.prototype.ky=function(q){this.by.add(q);};c.prototype.iy=function(q){this.Tx.add(q);};c.prototype.getState=function(){var q,v,u,t,w,x;q=this.RS.getState();v=this.by.getState();u=this.Tx.getState();t=this.D1.getState();w=this.n2.getState();if(d.Cb(q) && d.Cb(v) && d.Cb(u))return null;x={c:this.Ij,t:h.time.sra(this.sb)};d.Cb(q) || (x.tp=q);d.Cb(v) || (x.rt=v);d.Cb(u) || (x.hrt=u);d.Cb(t) || (x.iqr=t);d.Cb(w) || (x.td=w);return x;};c.prototype.Re=function(q){var v;v=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > g.Hf.tJ || q.t > v || !this.RS.Re(q.tp))return (this.Ij=g.Hf.HAVE_NOTHING,this.Rx=this.sb=null,this.RS.Re(null),this.by.Re(null),this.Tx.Re(null),!1);this.Ij=q.c;this.sb=h.time.Pra(q.t);this.by.Re(d.has(q,"rt")?q.rt:null);this.Tx.Re(d.has(q,"hrt")?q.hrt:null);d.has(q,"iqr") && this.D1.Re(q.iqr);d.has(q,"td") && this.n2.Re(q.td);return !0;};c.prototype.get=function(){var q,v,u,t,w,x;q=this.I;if(d.Cb(this.sb))return p;v=(h.time.ea() - this.sb) / 1E3;v > q.xlb?this.Ij=g.Hf.HAVE_NOTHING:v > q.Zkb && (this.Ij=Math.min(this.Ij,g.Hf.hB));q=this.RS.get();u=this.by.get();t=this.Tx.get();w=this.D1.get();x=this.n2.get();v={Xl:v,confidence:this.Ij,Sa:q,pj:u,Vt:t,Wt:w,sk:x};q && (v.Rac=k.prototype.dta.bind(q));u && (v.eac=k.prototype.dta.bind(u));t && (v.d9b=k.prototype.dta.bind(t));return v;};c.prototype.time=function(){return this.sb;};f.prototype.Wg=function(){return ((h.time.ea() - this.fmb) / 1E3 / 3600 / (24 / this.Zs.length) | 0) % this.Zs.length;};f.prototype.getState=function(){var q;q={g:this.GB.getState(),h:this.Zs.map(function(v){return v.getState();})};d.Cb(this.Rx) || (q.f=h.time.sra(this.Rx));return q;};f.prototype.Re=function(q){var v,u;if(!this.GB.Re(q.g))return !1;v=this.Zs.length;u=!1;this.Zs.forEach(function(t,w){u=!t.Re(q.h[w * q.h.length / v | 0]) || u;});this.Rx=d.has(q,"f")?h.time.Pra(q.f):null;return u;};f.prototype.MF=function(q,v){this.GB.MF(q,v);this.Zs[this.Wg()].MF(q,v);this.Rx=null;};f.prototype.UI=function(q,v){this.GB.UI(q,v);this.Zs[this.Wg()].UI(q,v);};f.prototype.ky=function(q){this.GB.ky(q);this.Zs[this.Wg()].ky(q);};f.prototype.iy=function(q){this.GB.iy(q);this.Zs[this.Wg()].iy(q);};f.prototype.fail=function(q){this.Rx=q;};f.prototype.get=function(){var q,v;if(!d.Cb(this.Rx)){if((h.time.ea() - this.Rx) / 1E3 < this.I.Ykb)return {confidence:g.Hf.HAVE_NOTHING,Et:!0};this.Rx=null;}q=this.Zs[this.Wg()].get();v=this.GB.get();q=q.confidence >= v.confidence?q:v;q.Et=!1;return q;};f.prototype.time=function(){return this.GB.time();};m.prototype.DMa=function(q,v){var u;u=this.I;q=l(this.lS,q,{});return l(q,v,new f(u.RMa || 14400,u.QMa || 100,u.PMa || 100,u.HNa || 4,u));};m.prototype.sS=function(){var q,v;q=h.storage.get("lh");v=h.storage.get("gh");q && this.Nga(q);v && this.hob(v);};m.prototype.Jfa=function(){var q;q={};d.kf(this.lS,function(v,u){d.kf(v,function(t,w){l(q,u,{})[w]=t.getState();},this);},this);return q;};m.prototype.hob=function(q){this.hS.Re(q);};m.prototype.Nga=function(q){var v,u;v=null;u=this.I;d.kf(q,function(t,w){d.kf(t,function(x,y){var z;z=new f(u.RMa || 14400,u.QMa || 100,u.PMa || 100,u.HNa || 4,u);z.Re(x)?(l(this.lS,w,{})[y]=z,v=!0):d.Cb(v) && (v=!1);},this);},this);return d.Cb(v)?!0:v;};m.prototype.save=function(){var q;q=this.Jfa();h.storage.set("lh",q);h.storage.set("gh",this.hS.getState());this.rOa && this.rOa.rva(this.hS.getState());};m.prototype.TAb=function(){this.lS={};this.mK=this.eMa="";this.Zn=null;};m.prototype.MO=function(q){this.eMa=q;this.Zn=null;};m.prototype.k$=function(q){this.mK=q;this.Zn=null;};m.prototype.y1=function(){d.Cb(this.Zn) && (this.Zn=this.DMa(this.eMa,this.mK));return this.Zn;};m.prototype.MF=function(q,v){this.y1().MF(q,v);this.hS.MF(q,v);};m.prototype.UI=function(q,v){q && q.Dl && q.ik && q.El && (this.y1().UI(q,v),this.hS.UI(q,v));};m.prototype.ky=function(q){this.y1().ky(q);};m.prototype.iy=function(q){this.y1().iy(q);};m.prototype.fail=function(q,v){this.DMa(q,this.mK).fail(v);};m.prototype.get=function(q,v){var u,t,w,x;q=(q=this.lS[q])?q[this.mK]:null;u=null;if(q && (u=q.get(),u.confidence > g.Hf.HAVE_NOTHING))return u;if(!1 === v)return p;t=u=null;w=!1;x=null;d.kf(this.lS,function(y){d.kf(y,function(z,A){var B;if(!w || A == this.mK){B=z.get();B && (!t || t <= B.confidence) && (!x || t < B.confidence || x < z.time()) && (t=B.confidence,w=A == this.mK,x=z.time(),u=B);}},this);},this);return u?u:p;};r.exports=m;},function(r,b,a){var m;function c(d){this.UK=d;this.reset();}function f(d){this.Qj=new c(d);this.Ke=0;this.Lc=null;}function l(d,g){this.UK=d;this.lNa=g;this.reset();}m=a(10);c.prototype.PNa=function(d,g){this.sb+=d;this.Jj+=d;this.Sc+=g;this.eo.push({d:d,b:g});};c.prototype.FS=function(){var d;for(;this.Jj > this.UK;){d=this.eo.shift();this.Sc-=d.b;this.Jj-=d.d;}};c.prototype.reset=function(){this.eo=[];this.sb=null;this.Jj=this.Sc=0;};c.prototype.setInterval=function(d){this.UK=d;this.FS();};c.prototype.start=function(d){m.Cb(this.sb) && (this.sb=d);};c.prototype.add=function(d,g,h){m.Cb(this.sb) && (this.sb=g);g > this.sb && this.PNa(g - this.sb,0);this.PNa(h > this.sb?h - this.sb:0,d);this.FS();};c.prototype.get=function(){return {Fa:Math.floor(8 * this.Sc / this.Jj),Ni:0};};f.prototype.reset=function(){this.Qj.reset();this.Ke=0;this.Lc=null;};f.prototype.add=function(d,g,h){!m.Cb(this.Lc) && h > this.Lc && (g > this.Lc && (this.Ke+=g - this.Lc),this.Lc=null);this.Qj.add(d,g - this.Ke,h - this.Ke);};f.prototype.start=function(d){!m.Cb(this.Lc) && d > this.Lc && (this.Ke+=d - this.Lc,this.Lc=null);this.Qj.start(d - this.Ke);};f.prototype.stop=function(d){this.Lc=m.Cb(this.Lc)?d:Math.min(d,this.Lc);};f.prototype.get=function(){return this.Qj.get();};f.prototype.setInterval=function(d){this.Qj.setInterval(d);};l.prototype.reset=function(){this.eo=[];this.Sc=this.Jj=0;};l.prototype.add=function(d,g,h,k){void 0 !== k && !0 === k && (g=h - g,this.Jj+=g,this.Sc+=d,this.eo.push({d:g,b:d}),this.FS());};l.prototype.FS=function(){var d;for(;this.Jj > this.UK || this.eo.length > this.lNa;){d=this.eo.shift();this.Sc-=d.b;this.Jj-=d.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Fa:Math.floor(8 * this.Sc / this.Jj),Ni:0};};l.prototype.setInterval=function(d,g){this.UK=d;this.lNa=g;this.FS();};r.exports={p2b:c,Ydb:f,rjb:l};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u;Object.defineProperties(b,{__esModule:{value:!0}});b.iba=void 0;c=a(2);f=a(18);l=a(764);r=a(83);m=a(765);d=a(791);g=a(794);h=a(234);k=a(16);n=c.__importDefault(a(6));p=a(5);q=a(9);v=a(27);a(167);u=(function(){return function(t){var w;w=t.C_a;t=t.apa;this.rW=this.replace=w;this.Og=t;};})();a=(function(t){function w(x,y){var z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa;z=y.Mb;A=y.sa;B=y.Lo;D=y.zd;E=y.N1a;F=y.Xh;C=y.config;G=y.cZa;J=y.vO;K=y.X4;H=y.Pb;L=y.Bh;R=y.RW;I=y.PUa;y=y.tI;P=t.call(this) || this;P.Z=x;P.c6=!1;P.TMa=[];P.jNa=[];P.Ph=[];P.sC=[];P.Om=!1;P.Mb=z;P.vS=A;P.Lo=B;P.ec=function(wa){return 0 <= D.indexOf(wa);};P.config=C;P.console=new n.default.Console("ASEJS","media|asejs","<" + String(P.Z) + ">");G && (x=G.HC,P.Pf=new g.ICa(P,P.console,P.config,G.wn,G.pV,x,G.J6,G.Af,G.Il,G.bh,G.QC),P.HC=x);P.Tt=new f.EventEmitter();P.X4=K;P.Pb=H;P.RW=R;P.lm=new h.Cca(P.sa,H,L,P.config,null === I || void 0 === I?void 0:I.wn);I && (G=I.Jr,K=I.qn,H=I.gN,P.xp=I.Fh,P.gN=H,P.qn=K,P.Jr=G,P.wfa=new d.EBa(P.lm,P.config,P.OGb.bind(P),P.NGb.bind(P)));P.vO=J;P.tI=y;P.qf=new u(E);P.Xh=F;N=[[],[]];M=[{},{}];Q=[0,0];T=!1;da=P.ec(0);pa=P.ec(1);["audio_tracks","video_tracks"].forEach(function(wa,ua){var X;X=0 === ua;X && !da || 1 === ua && !pa || P.sa[wa].forEach(function(sa,O){if(0 !== sa.type || !1 !== sa.Mr)(sa=new m.hba({O:P,Rz:sa,mediaType:ua,Og:E.apa,aE:O,bC:O + (X?P.sa.video_tracks.length:0)},P.config,P.console),N[ua].push(sa),M[ua]=c.__assign(c.__assign({},M[ua]),sa.JC()),sa.maxBitrate > Q[sa.mediaType] && (Q[sa.mediaType]=sa.maxBitrate),T=T || sa.OG);});});P.$J=N;P.fwa=M;P.gga=Q;P.OG=T;return P;}c.__extends(w,t);Object.defineProperties(w.prototype,{sa:{get:function(){return this.vS;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qW:{get:function(){var x;return !(null === (x=this.$J[1][0]) || void 0 === x || !x.qW);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pw:{get:function(){return this.gga;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{eh:{get:function(){return this.TMa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{nMb:{get:function(){return this.jNa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{J:{get:function(){return this.sa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{no:{get:function(){return this.sa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.sa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ak:{get:function(){return this.Om;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Xp:{get:function(){p.assert(this.wfa,"ErrorDirector is not available on old architecture prefetch viewables.");return this.wfa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{eM:{get:function(){return this.Xp.events;},enumerable:!1,configurable:!0}});w.prototype.Kb=function(){this.close();this.Zc();};w.prototype.close=function(){var x;this.sC=[];null === (x=this.wfa) || void 0 === x?void 0:x.Kb();this.lm.Kb();this.Om=!0;};w.prototype.Zc=function(){this.Pf && this.Pf.Zc();};w.prototype.tP=function(x){var y,z,A,B,D,E;y=this;z=x.sa;A=x.zd;B=void 0 === A?k.uf:A;p.assert(x.Xh === this.Xh,"Updating Viewable clearplay not supported");k.uf.forEach(function(F){p.assert(y.ec(F) === 0 <= B.indexOf(F),"Updating Viewable media types not supported");});p.assert(z.movieId === this.sa.movieId,"Changing Viewable manifest movieId unsupported");D=this.ec(0);E=this.ec(1);["audio_tracks","video_tracks"].forEach(function(F,C){var G,J,K;G=0 === C;if(!(G && !D || 1 === C && !E)){J=z[F];K=y.$J[C];p.assert(K.every(function(H){var L;L=J[H.aE];return L && L.oP === H.trackId && (1 === L.type || !1 !== L.Mr);}),"Existing tracks must still exist and be hydrated in updated manifest");J.forEach(function(H,L){var R,I;R=y.getTrackById(H.oP);if(0 !== H.type || !1 !== H.Mr)if(R){H=H.streams;I=Object.keys(R.JC());p.assert(H.length === I.length,"Expected updated manifest track to have same number of streams");H.forEach(function(P){p.assert(-1 !== I.indexOf(P.downloadable_id),"Changing Viewable track streams unsupported");});}else (R=new m.hba({O:y,Rz:H,mediaType:C,Og:!1,aE:L,bC:L + (G?y.sa.video_tracks.length:0)},y.config,y.console),K.push(R),y.fwa[C]=c.__assign(c.__assign({},y.fwa[C]),R.JC()),R.maxBitrate > y.gga[R.mediaType] && (y.gga[R.mediaType]=R.maxBitrate),p.assert(y.OG || !R.OG,"Can not update clear viewable with drm track."));});}});this.vS=z;this.lm.$K(this.sa);};w.prototype.OD=function(x){var y,z,A;y=x.zw;z=x.ca;A=x.wC;x=x.vn;y && z?(this.p$=new l.LJa(y,{ca:String(z),wC:! !A,FMb:this.config.f0.mx,Qrb:this.config.f0.lv},x),this.Xp.OD(this.p$)):x("SideChannel: pbcid/xid is missing.");};w.prototype.Cz=function(){return void 0 !== this.no;};w.prototype.getTracks=function(x){return this.$J[x];};w.prototype.getTrackById=function(x){var y;this.$J.some(function(z){return z.some(function(A){if(A.trackId === x)return (y=A,!0);});});y || this.console.warn("getTrackById not found:",x,"length:",this.$J.length);return y;};w.prototype.rGb=function(x,y){var z;z=this.$J[x];if(0 > y || y >= z.length)this.console.warn("getTrackByIndex out of range:",y,"length:",z.length,"mediaType:",x);else return z[y];};w.prototype.dw=function(x,y){return (x=this.JC(x)) && x[y];};w.prototype.JC=function(x){return this.fwa[x];};w.prototype.o_b=function(x,y){this.TMa[x]=y;y.stream.W && this.K$a(x,y.stream.W);};w.prototype.TJb=function(x){var y,z;if(void 0 === x.p9 || void 0 === x.ota){y=this.lm.bA.filter(function(A){return void 0 !== A.streams[x.Pa];})[0];z=y.children.filter(function(A){return A.urls.some(function(B){return B.stream.id === x.Pa;});})[0];x.p9=y.id;x.ota=z.id;}return {zpa:x.location === x.p9,UJb:x.wd === x.ota};};w.prototype.wva=function(x,y,z){void 0 !== y && void 0 !== z && (this.j6a(x.mediaType,y),x.wva(y,z));};w.prototype.j6a=function(x,y){var z,A;A=this.config.zra;("location" === A || "video_location" === A && 1 === x) && this.Pb.MO(y);null === (z=this.X4) || void 0 === z?void 0:z.call(this).gPb(x,y);};w.prototype.Fh=function(x,y,z,A,B){p.assert(this.xp,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.xp(x,y,z,A,B);};w.prototype.Am=function(){var x,y,z;x=this;y=[];if(this.ak)return (this.console.error("updateRequestUrls, closed Viewable:",this.Z),!1);k.uf.forEach(function(A){x.ec(A) && x.G_b(A) && (A=x.v_b(A),0 < A.length && y.push.apply(y,A));});z=this.p_b();0 < z.length && y.push.apply(y,z);return this.wUb(y);};w.prototype.gn=function(x,y){var z;z=this.getTracks(1)[0];p.assert(z);if(z.YM)return z.gn(x,y);};w.prototype.G_b=function(x){var y;y=this;return this.ak?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.ec(x)?this.Ph.reduce(function(z,A){return v.Sha(z,A.pg.filter(function(B){return B.mediaType === x;}));},[]).map(function(z){return y.lm.nZ(y.Z,z.$d);}).every(function(z){return z;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",x),!1);};w.prototype.p_b=function(){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.Am();};w.prototype.v_b=function(x){var y,z,D;z=[];if(this.ak)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),z);if(!this.ec(x))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",x),z);try{for(var A=c.__values(this.Ph),B=A.next();!B.done;B=A.next()){D=B.value.Am(x);D.length && z.push.apply(z,D);}}catch(F){var E;E={error:F};}finally{try{B && !B.done && (y=A.return) && y.call(A);}finally{if(E)throw E.error;}}return z;};w.prototype.wUb=function(x){var y,z,A;y=this;if(0 === x.length)return !0;z=0;A=[];x.forEach(function(B){var D;if(B.Vc){D=B.O;D.Mb > y.Mb && (A.push({O:D,track:B.stream.track}),++z);}});A.forEach(function(B){var D;D=B.track;B.O.uO([0 === D.mediaType?D:void 0,1 === D.mediaType?D:void 0],void 0,D.mediaType);});return z === x.length;};w.prototype.gk=function(){var x;x=this;this.lm.gk();this.Xp.gk();this.p$ && (p.assert(this.HC),k.uf.forEach(function(y){y=x.HC(y);x.p$.cva("rebuffer",y.Spa);}));};w.prototype.dsa=function(){this.Xp.dsa();};w.prototype.mxa=function(x,y){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");this.Pf.mxa(x,y);};w.prototype.V5=function(){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables..");return this.Pf.V5();};w.prototype.sja=function(){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");this.Pf.sja();};w.prototype.LO=function(x){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");this.Pf.LO(x);};w.prototype.Twa=function(){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.Twa();};w.prototype.Nk=function(x,y){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.Nk(x,y);};w.prototype.ySa=function(x,y,z){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");this.Pf.baa(x,y,z,!0);};w.prototype.y2=function(x,y,z){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.y2(x,y,! !z);};w.prototype.TVb=function(x,y){this.sC.push({stream:x,hGb:y});};w.prototype.ITb=function(){this.sC=[];};w.prototype.OTb=function(x){this.sC=this.sC.filter(function(y){return y.stream !== x;});};w.prototype.NTb=function(x){this.sC=this.sC.filter(function(y){return y !== x;});};w.prototype.JM=function(){var x;x=this;p.assert(this.qn,"Streamables not available on old architecture prefetch viewables.");return this.qn()?[]:this.sC.map(function(y){var z,A;z=y.stream;A=y.hGb;A=A();return {identifier:z.Z + "-" + z.mediaType + "-" + z.bitrate,mediaType:z.mediaType,Rg:A.Rg,Lf:A.Lf,hA:A.hA,Li:A.Li,Hd:A.Hd,mta:q.S.bb,lta:q.S.vz,yX:1,BA:1,az:q.S.bb,groupId:"" + x.Z,aD:!0,Pr:!1,O_a:function(){return {result:!0};},S_a:function(){if(z.bE())return (x.OTb(z),{rn:!0,reason:"success"});x.NTb(y);return {rn:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.bE=function(x,y){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.bE(x,y);};w.prototype.XK=function(x,y){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.XK(x,y);};w.prototype.Eua=function(x){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.Eua(x);};w.prototype.uO=function(x,y,z){p.assert(this.Pf,"Headers not available on old architecture prefetch viewables.");return this.Pf.uO(x,y,z);};w.prototype.QGb=function(x){var y,z,A;y=x.Pa;z=x.mediaType;this.K$a(z,x.stream.W);y=this.dw(z,y);A=this.Cz()?this.config.y1a:0;y.D$a(n.default.vo()[z],A);this.Tt.emit("onHeaderFragments",x);};w.prototype.$ta=function(x){this.Ph.push(x);};w.prototype.cxa=function(x){x=this.Ph.indexOf(x);p.assert(-1 !== x,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ph.splice(x,1);};w.prototype.M8=function(x){var y;null === (y=this.vO) || void 0 === y?void 0:y.jy(x);};w.prototype.eA=function(x){this.ak?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",x):void 0 !== x.location && this.j6a(x.mediaType,x.location);};w.prototype.CH=function(x){this.ak?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",x):this.Xp.eaa({timestamp:x.pf,url:x.url});};w.prototype.hk=function(x){var y;null === (y=this.vO) || void 0 === y?void 0:y.VH(x);p.assert(this.qn && this.RW,"Requests cannot be handled on old architecture prefetch viewables.");this.ak?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",x):this.qn() || (this.Xp.eaa({timestamp:x.pf,mediaRequest:x}),this.RW(x));};w.prototype.bX=function(x,y,z){var A;z && (null === (A=this.vO) || void 0 === A?void 0:A.VH(x));};w.prototype.cX=function(x){this.ak?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",x):(this.Xp.fs({url:x.url},x.status,x.ah,x.ij),this.Am() || this.Fh(x.hM || "unknown","NFErr_MC_StreamingFailure",x.ah,x.status,x.ij));};w.prototype.K$a=function(x,y){this.jNa[x]=y.Kqa;};w.prototype.OGb=function(x){var y,z,A;p.assert(this.gN,"Error handling not available on old architecture prefetch viewables.");if(!this.Om){y=x.CJb;z=x.PPb;A=x.QPb;x=x.RPb;this.console.warn("Streaming failure, isBuffering " + this.gN() + " is permanent: " + y + ", last error code: " + z + ", last http code: " + A + ", last native code: " + x);y?(this.console.warn(" > Permanent failure, done"),this.Fh("Permanent failure","NFErr_MC_StreamingFailure",z,A,x)):this.gN()?(this.console.warn(" > We are buffering, calling it!"),this.Fh("Temporary failure while buffering","NFErr_MC_StreamingFailure",x,A,x)):(this.console.warn(" > Resetting failures"),this.Xp.K9());}};w.prototype.NGb=function(){p.assert(this.Jr,"Error handling not available on old architecture prefetch viewables.");this.Om || (this.Am(),this.Jr());};return w;})(r.Su);b.iba=a;},function(r,b,a){var C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa,O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb,Za,Sa;function c(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function f(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function l(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function m(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);this.qI=xa.config.qI;this.rd=this.sizes=void 0;}function d(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function g(){for(var xa=new DataView(this),Ia="",Ma,Ta=0;Ta < this.byteLength;Ta++){Ma=xa.getUint8(Ta);Ia+=("00" + Ma.toString(16)).slice(-2);}return Ia;}function h(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function k(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function n(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function p(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function q(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function v(xa){function Ia(Ma,Ta,hb,wb,Eb){K.call(this,Ma,Ta,hb,wb,Eb);this.KW=xa;}Ia.Oa=!1;Ia.prototype=new K();Ia.prototype.constructor=Ia;Object.defineProperties(Ia.prototype,{eQ:{get:function(){return this.KW;}}});Ia.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.KW + "'");this.u.offset=this.startOffset + 4;this.la.EZ(this.eQ);this.type=this.eQ;return !0;};return Ia;}function u(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function t(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function w(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function x(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function y(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function z(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function A(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function B(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function D(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function E(xa,Ia,Ma,Ta,hb){K.call(this,xa,Ia,Ma,Ta,hb);}function F(xa,Ia){xa.forEach(function(Ma){Ia[Ma.Vb]=Ma;});}C=a(144).assert;b=a(100);G=a(223).S;J=a(365);a(145);a(84);a(84);a(84);K=a(31).yc;H=a(767).default;L=a(768).default;R=a(769).default;I=a(770).default;P=a(771).default;N=a(772).default;M=a(773).default;Q=a(774).default;T=a(775).default;a(224);a(170);da=a(366).Gaa;pa=a(366).Rba;wa=a(776).default;ua=a(777).default;X=a(85).default;sa=a(85).Vaa;O=a(85).Waa;S=a(85).Xaa;ka=a(85).Yaa;ia=a(778).default;Pa=a(779).default;Ea=a(85).lca;Va=a(85).fca;Ya=a(85).tbb;bb=a(780).default;Xa=a(781).default;mb=a(782).default;Za=a(367).default;Sa=a(368).default;a(146);a(227);a(228);a(226);a=a(783).default;c.Oa=!0;c.prototype=new K();c.prototype.constructor=c;f.Oa=!0;f.prototype=new K();f.prototype.constructor=f;l.Oa=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var xa;this.uc();1 === this.version?(this.u.Sd(),this.u.Sd(),this.U=this.u.wa(),this.duration=this.u.Sd()):(this.u.wa(),this.u.wa(),this.U=this.u.wa(),this.duration=this.u.wa());xa=this.u.Qc() & 32767;this.language=String.fromCharCode(96 + (xa >>> 10),96 + (xa >>> 5 & 31),96 + (xa & 31));return !0;};m.Oa=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.vga=function(){this.uc();this.u.wa();this.U=this.u.wa();0 === this.version?(this.xU=this.u.wa(),this.PU=this.u.wa()):(this.xU=this.u.Sd(),this.PU=this.u.Sd());this.y6a=this.u.Qc();this.OX=this.u.Qc();};m.prototype.kfa=function(xa,Ia){var Ma,Ta,hb;Ma=this.U;xa=xa && xa.U || Ma;Ta=xa / Ma;Ma=this.u.qA(Ia,12,!1);hb=1 === Ta?this.u.qA(Ia,12,!1):J.from(Uint32Array,{length:Ia},function(){var wb;wb=Math.round(this.u.wa() * Ta);this.u.offset+=8;return wb;},this);this.$ga(Ia,hb,Ma,xa);};m.prototype.$ga=function(xa,Ia,Ma,Ta){if(this.qI){Ta=this.qI * Ta / 1E3;for(var hb=0,wb=1;wb < xa;wb++){Math.abs(Ia[hb] - Ta) > Math.abs(Ia[hb] + Ia[wb] - Ta)?(Ia[hb]+=Ia[wb],Ma[hb]+=Ma[wb]):(++hb,hb !== wb && (Ia[hb]=Ia[wb],Ma[hb]=Ma[wb]));}++hb;Ia=new Uint32Array(Ia.buffer.slice(0,4 * hb));Ma=new Uint32Array(Ma.buffer.slice(0,4 * hb));}this.sizes=Ma;this.rd=Ia;};m.prototype.parse=function(xa){var Ia,Ma,Ta,hb;this.vga();this.qa=xa.qa;Ia=this.U;Ma=this.qa && this.qa.U || Ia;Ta=this.OX;hb=this.startOffset + this.length + this.PU;Ia=new G(this.xU,Ia).Vf(Ma).Zb;this.W={U:Ma,Zk:Ia,offset:hb};this.kfa(this.qa,Ta);this.W.rd=this.rd;this.W.sizes=this.sizes;xa.rs=this;return !0;};d.Oa=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var xa;this.Rq=[];this.Lsa=[];xa=(this.length - 11) / 2;this.u.lb();this.u.lb();this.u.lb();for(var Ia=0;Ia < xa;Ia++){this.Rq.push(this.u.lb());this.Lsa.push(this.u.lb());}return !0;};h.Oa=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.uc();this.u.offset+=4;this.bH=this.u.offset;this.dj=this.u.Mta(16);this.dj.toString=g;return !0;};k.Oa=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.uc();this.hg=this.u.Qc();this.Rqa=this.u.qA(this.hg,void 0,!0);return !0;};n.Oa=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(xa){var Ia,Ma,Ta,hb,wb,Eb;Ia=xa.rs;C(Ia);xa=xa.qa;Ma=Ia.U;Ia=Ia.OX;C(xa);C(Ma);C(Ia);this.uc();C(2 > this.version);this.hg=this.u.Qc();this.qu=new Uint16Array(Ia + 1);Ta=xa.J5(Ma);hb=Ta / Ma;wb=xa.Vf(Ta).Zb;if(0 === this.version)for((this.Eu=new Uint16Array(),this.Rd=new Uint32Array(),xa=Ma=0);xa <= Ia;++xa){if((this.qu[xa]=Ma,xa < this.hg)){Eb=this.u.lb();if(0 !== Eb)for(Ta=0;Ta < Eb;(++Ta,++Ma)){this.Eu[Ma]=Math.floor((this.u.wa() + 1) * hb) / wb;this.Rd[Ma]=this.u.wa();}}}else if(1 === this.version)for((Ta=this.u.Ita(this.hg,10,!1),this.u.offset+=4,this.Rd=this.u.qA(this.hg,10,!1),this.u.offset-=8,this.Eu=J.from(Uint16Array,{length:this.hg},function(){var Hb;Hb=Math.floor((this.u.wa() + 1) * hb) / wb;this.u.offset+=6;return Hb;},this),Ma=xa=0);xa <= Ia;++xa){for(;Ma < Ta.length && Ta[Ma] < xa;){++Ma;}this.qu[xa]=Ma;}this.Vh={qu:this.qu,Eu:this.Eu,Rd:this.Rd};return !0;};p.Oa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Oa=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.Ft=function(){var xa;xa=this.Jh("tfhd");xa && (this.Sj=xa.wT?xa.Sj:this.parent.startOffset);return !0;};u.Oa=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(){var xa,Cb;xa=this.u.offset;this.uc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ia=this.u.offset,Ma=this.u.lb(),Ta=this.u.lb(),hb=this.u.lb(),wb=this.u.lb(),Eb=this.u.Qc(),Hb=[],Ob=0;Ob < Eb;++Ob){Hb=this.u.lb();}Ob=(Ma & 240) >>> 4;Cb=(Ma & 14) >>> 1;Ma&=1;hb=16 === hb?1:0;Ta != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ta + " and matrixCoefficients " + wb + " should be the same value!");wb=2;switch(Ta){case 1:wb=2;break;case 6:wb=1;break;case 9:wb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ta + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.la.YA(this.version,xa);this.la.YA(Ob << 4 | wb,Ia++);this.la.YA(Cb << 4 | hb << 1 | Ma,Ia++);Eb+=2;Hb.push(0,0);this.la.Mxa(Eb,!1);Ia+=2;Hb.forEach(function(Kb){this.la.YA(Kb,Ia++);});}return !0;};t.Oa=!1;t.prototype=new K();t.prototype.constructor=t;t.Vb="tfhd";Object.defineProperties(t.prototype,{wT:{get:function(){return this.flags & 1;}},Lua:{get:function(){return this.flags & 2;}},xka:{get:function(){return this.flags & 8;}},Aka:{get:function(){return this.flags & 16;}},yka:{get:function(){return this.flags & 32;}}});t.prototype.parse=function(){this.uc();this.NI=this.u.wa();this.Sj=this.wT?this.u.Sd():void 0;this.Lua && this.u.wa();this.Ly=this.xka?this.u.wa():void 0;this.Ny=this.Aka?this.u.wa():void 0;this.My=this.yka?this.u.wa():void 0;return !0;};w.Oa=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){this.uc();this.ry=1 === this.version?this.u.Sd():this.u.wa();return !0;};w.prototype.oa=function(xa){var Ia;Ia=this.startOffset + 12;this.ry+=xa;1 === this.version?this.la.Nxa(this.ry,Ia):this.la.Tg(this.ry,Ia);};x.Oa=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{aU:{get:function(){return this.flags & 1;}},yG:{get:function(){return this.flags & 4;}},zA:{get:function(){return this.flags & 256;}},AA:{get:function(){return this.flags & 512;}},fY:{get:function(){return this.flags & 1024;}},fI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.uc();this.AT=this.u.offset;this.Ib=this.u.wa();this.Xj=this.aU?this.u.UH():0;this.yG && this.u.wa();this.Du=(this.zA?4:0) + (this.AA?4:0) + (this.fY?4:0) + (this.fI?4:0);this.cz=this.u.offset;C(this.aU,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Ib * this.Du,"Expected remaining data in box to be sample information");return !0;};x.prototype.Ys=function(xa,Ia,Ma){var Ta,hb,wb;Ta=this.zA?this.u.wa():xa.Ly;hb=this.AA?this.u.wa():xa.Ny;xa=this.fY?this.u.wa():xa.My;wb=0 === this.version?this.fI?this.u.wa():0:this.fI?this.u.UH():0;return {Kua:wb,WUb:xa,aSb:Ma + wb - (void 0 !== Ia?Ia:wb),mk:hb,Fu:Ta};};x.prototype.oa=function(xa,Ia,Ma,Ta,hb,wb,Eb){var Hb,Ob,Cb,Kb;Hb=0;Ob=0;this.la.offset=this.cz;for(Ta=0;Ta < hb;++Ta){Cb=this.Ys(Ia,Kb,Ob);if(0 == Ta)Kb=Cb.Kua;Hb+=Cb.mk;Ob+=Cb.Fu;}Ta=hb;hb=this.u.offset;Cb=this.Ys(Ia,Kb,Ob);this.Mq=Ta;this.Qva=Ob;if(Eb){if((this.Fq=this.Xj + Hb,this.Ji=0,Ta === this.Ib))return !0;}else if((this.Fq=this.Xj,this.Ji=Hb,0 === Ta))return !0;if(0 === Ta || Ta === this.Ib)return !1;this.Uy=!0;if(Eb){this.Ji+=Cb.mk;for(Eb=Ta + 1;Eb < this.Ib;++Eb){Cb=this.Ys(Ia,Kb,Ob);this.Ji+=Cb.mk;}this.la.offset=this.AT;this.Ib=Ta;this.la.Tg(this.Ib);this.la.YI(wb);this.yG && (this.u.offset+=4);this.Fe(this.length - (hb - this.startOffset),hb);}else (Ia=hb - this.cz,this.la.offset=this.AT,this.Ib-=Ta,this.la.Tg(this.Ib),this.Xj+=Hb,this.la.YI(wb,this.Xj),this.yG && (this.u.offset+=4),this.Fe(Ia,this.la.offset));Ma.Fe(this.Ji,xa.Sj + this.Fq);return !0;};x.prototype.mua=function(xa,Ia,Ma,Ta,hb,wb){var Hb;if(Ta){Ta=this.Fq;for(var Eb=this.Ib - 1;0 <= Eb && this.Ib - Eb <= hb;--Eb){this.la.offset=this.cz + Eb * this.Du;Hb=this.Ys(Ia);if(Hb.Fu != wb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Fu + " with silence of duration " + wb.duration);break;}if(this.AA)(this.la.offset-=this.Du - (this.zA?4:0),this.la.Tg(wb.qk.byteLength));else if(wb.qk.byteLength !== Hb.mk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ta-=Hb.mk;Ma.Cu(Hb.mk,wb.qk,xa.Sj + Ta);}}else for((Ta=this.Fq + this.Ji,Eb=0);Eb < this.Ib && Eb < hb;++Eb){this.la.offset=this.cz + (Eb + this.Mq) * this.Du;Hb=this.Ys(Ia);if(Hb.Fu != wb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Fu + " with silence of duration " + wb.duration);break;}if(this.AA)(this.la.offset-=this.Du - (this.zA?4:0),this.la.Tg(wb.qk.byteLength));else if(wb.qk.byteLength !== Hb.mk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma.Cu(Hb.mk,wb.qk,xa.Sj + Ta);Ta+=Hb.mk;}};y.Oa=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{Xm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.uc();this.Xm && this.u.Gl();this.Xm && this.u.wa();this.zka=this.u.lb();this.Ib=this.u.wa();this.u.rA(this.Ib);return !0;};y.prototype.oa=function(xa,Ia){if(xa && 0 === this.zka){xa=Ia?this.Ib - xa:xa;this.la.offset=this.startOffset + 13 + (this.Xm?8:0);this.Ib-=xa;this.la.Tg(this.Ib);this.dI=0;if(Ia)this.la.offset+=this.Ib;else {for(Ia=0;Ia < xa;++Ia){this.dI+=this.la.lb();}this.la.offset-=xa;}this.Fe(xa,this.u.offset);}return !0;};z.Oa=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Xm:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.uc();this.Xm && this.u.Gl();this.Xm && this.u.wa();this.hg=this.u.wa();C(1 === this.hg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Xj=0 === this.version?this.u.UH():this.u.Pta();return !0;};z.prototype.oa=function(xa,Ia){this.Xj+=xa;this.la.offset=this.startOffset + 16 + (this.Xm?8:0) + (0 === this.version?0:4);this.la.YI(Ia,this.Xj);return !0;};A.Oa=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{fX:{get:function(){return this.flags & 1;}},yxa:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.uc();this.fX && (this.u.wa(),this.u.rA(16));this.Ib=this.u.wa();return !0;};A.prototype.oa=function(xa,Ia){var Ma,Ta;Ma=Ia?this.Ib - xa:xa;this.la.offset=this.startOffset + 28 + (this.fX?20:0);this.Ib-=Ma;this.la.Tg(this.Ib);xa=this.la.offset;if(this.yxa)for(Ma=Ia?this.Ib:Ma;0 < Ma;--Ma){this.la.offset+=8;Ta=this.la.Qc();this.la.offset+=6 * Ta;}else this.la.offset+=8 * (Ia?this.Ib:Ma);Ia?this.Fe(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Fe(this.u.offset - xa,xa);};B.Oa=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.uc();return !0;};B.prototype.oa=function(xa,Ia,Ma){Ma?this.Fe(Ia - xa,this.startOffset + 12 + xa):this.Fe(xa,this.startOffset + 12);return !0;};D.Oa=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.uc();this.u.Gl();1 === this.version && this.u.wa();this.hg=this.u.wa();this.Gu=[];for(var xa=0;xa < this.hg;++xa){for(var Ia=this.u.wa(),Ma=this.u.wa(),Ta=0;Ta < Ia;++Ta){this.Gu.push(Ma);}}return !0;};D.prototype.oa=function(xa,Ia){this.Gu=Ia?this.Gu.slice(0,xa):this.Gu.slice(xa);xa=this.Gu.reduce(function(Ma,Ta){0 !== Ma.length && Ma[Ma.length - 1].group === Ta || Ma.push({group:Ta,count:0});++Ma[Ma.length - 1].count;return Ma;},[]);this.la.offset=this.startOffset + 16 + (1 === this.version?4:0);this.la.Tg(xa.length);xa.forEach((function(Ma){this.la.Tg(Ma.count);this.la.Tg(Ma.group);}).bind(this));this.hg > xa.length && this.Fe(8 * (this.hg - xa.length));this.hg=xa.length;return !0;};E.Oa=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ua:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:X,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:t,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:w,mdat:E,vmaf:d},Nwa:{vpcC:u,SmDm:v("smdm"),CoLL:v("coll")},eZ:{schm:ia},eI:{}};F([Pa,N,M,Q,Ea,Va,Ya,H,I,Za,Sa,P,T,L,R,a],X.Ua);F([da,wa,sa,O,S,ka,pa,ua,Xa,bb],X.eI);F([Pa,ia],X.eZ);X.Ua[b.jR]=h;X.Ua[b.yx]=k;X.Ua[b.xx]=n;X.Ua[b.iR]=A;X.eI[b.IE]=mb;X.yc=K;r.exports={uq:X};},function(r,b){function a(c,f){var l,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.pc=f.Zb,this.mb=f.U):(this.pc=f,this.mb=l);}c.tb=function(f){return new c(f,1E3);};c.YY=function(f,l){return Math.floor(1E3 * f / l);};c.i8=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Zb:{get:function(){return this.pc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.mb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{T:{get:function(){return 1E3 * this.pc / this.mb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jh:{get:function(){return this.pc / this.mb;},enumerable:!0,configurable:!0}});c.prototype.Vf=function(f){f/=this.U;return new c(Math.floor(this.Zb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var l;if(this.U === f.U)return new c(this.Zb + f.Zb,this.U);l=a(this.U,f.U);return this.Vf(l).add(f.Vf(l));};c.prototype.Ca=function(f){return this.add(new c(-f.Zb,f.U));};c.prototype.sD=function(f){return new c(this.Zb * f,this.U);};c.prototype.wl=function(f){var l;if(this.U === f.U)return this.Zb / f.Zb;l=a(this.U,f.U);return this.Vf(l).wl(f.Vf(l));};c.prototype.J5=function(f){return a(this.U,f);};c.prototype.Vta=function(){return new c(this.U,this.Zb);};c.prototype.compare=function(f,l){var m;if(this.U === l.U)return f(this.Zb,l.Zb);m=a(this.U,l.U);return f(this.Vf(m).Zb,l.Vf(m).Zb);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.x8=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.iw=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.zo=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.Zb,timescale:this.U};};c.prototype.toString=function(){return this.Zb + "/" + this.U;};c.bb=new c(0,1);c.yw=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.Qc();return !0;};return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(146),b);r.__exportStar(a(226),b);r.__exportStar(a(227),b);r.__exportStar(a(228),b);r=a(227);c=a(228);a=a(226);b.Sp={3:a.nQ,4:r.hQ,5:c.Lba};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.Qc();m=this.u.lb();this.ewa=! !(m & 128);this.Cea=! !(m & 64);this.eda=! !(m & 32);this.ewa && this.u.Qc();this.Cea && this.u.rA(this.u.lb());this.eda && this.u.Qc();this.HS();return !0;};l.tag=3;return l;})(a(146).oE);b.nQ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Vra=this.u.lb();this.u.lb();this.u.Qc();this.u.lb();this.maxBitrate=this.u.wa();this.mia=this.u.wa();this.HS();return !0;};l.tag=4;return l;})(a(146).oE);b.hQ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(146);f=a(225);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.KX=function(){15 !== this.u.tc(4) || this.u.tc(24);};m.prototype.parse=function(d){if(this.Woa(d) && 64 === d.Vra)switch((this.Um=this.IX(),this.KX(),this.u.tc(4),this.yla=5 === this.Um || 29 === this.Um?5:-1,0 < this.yla && (this.KX(),this.Um=this.IX(),22 === this.Um && this.u.tc(4)),this.Um)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.XU=this.u.tc(1),(this.Gka=this.u.tc(1)) && this.u.tc(14),this.u.tc(1),this.dz=3 === this.Um?256:23 === this.Um?this.XU?480:512:this.XU?960:1024);}this.skip();return !0;};m.prototype.IX=function(){var d;d=this.u.tc(5);31 === d && (d=32 + this.u.tc(6));return d;};m.prototype.Woa=function(d){return d.tag === f.hQ.tag;};m.tag=5;return m;})(r.oE);b.Lba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(370);f=a(222);l=a(371);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new l.iQ(this.view.byteLength);this.mc=new c.lE(f.uq.Ua,g,this.view,this.console,{GH:!0});d=this.mc.parse(d);this.Ua=this.mc.Ua;return d;};return m;})();b.ar=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dB=void 0;r=a(42);a=a(102);c=(function(){function f(l,m){this.P1=l;this.kK=m.Wa;this.mv=m.nb;}Object.defineProperties(f.prototype,{Wa:{get:function(){return void 0 !== this.kK?this.kK:this.P1.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nb:{get:function(){return void 0 !== this.mv?this.mv:this.P1.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.P1.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oj:{get:function(){return this.P1.oj;},enumerable:!1,configurable:!0}});f.prototype.qY=function(l){this.mv=l;};f.prototype.rja=function(){this.mv=void 0;};return f;})();b.dB=c;r.sf(a.bx,c);r.sf(a.cB,c);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PP=void 0;c=a(2);r=c.__importDefault(a(122));f=a(117);l=a(171);a=(function(m){function d(g,h,k,n,p,q,v){h=m.call(this,g,h,k,n,p,q,v) || this;l.Tu.xb(h,g,n);return h;}c.__extends(d,m);return d;})(f.SZ);b.PP=a;r.default(l.Tu.prototype,a.prototype);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cJ=void 0;c=a(2);f=c.__importDefault(a(28));l=c.__importDefault(a(6));r=(function(m){function d(g,h,k,n,p){var q;q=m.call(this,k) || this;q.D2=!1;d.xb(q,g,h,k,n,p);return q;}c.__extends(d,m);d.xb=function(g,h,k,n,p,q){g.Ye=n;g.uua=h;g.Od=p;g.dNa=h.location || k.location;g.NS=h.wd || k.Ld;g.kva=h.kva || k.kva;g.O$=l.default.time.ea();g.H=q;};Object.defineProperties(d.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.dNa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ld:{get:function(){return this.NS;},enumerable:!1,configurable:!0}});d.prototype.xb=function(g){this.Ra=g;};d.prototype.wva=function(g,h){this.dNa=g;this.NS=h;};d.prototype.Ega=function(g){var h,k,n;h={type:"logdata",target:"endplay",fields:{}};k=this.mediaType === f.default.Qa.Lb?"audioedit":"videoedit";n=[this.nM === this.Y?this.Fc:this.$c,this.nM === this.Y?-this.duration:this.duration];g && g.Lq && n.push(g.Lq);h.fields[k]={type:"array",value:n};return h;};d.prototype.nxa=function(){var g,h;if(this.complete)return 0;g=this.uua;h=g.O;return g.url?this.url === g.url || (h.wva(this,g.location,g.wd),this.I$(g.url))?0:(this.H.warn("swapUrl failed: ",this.hM),2):(this.H.warn("updateurl, missing url for streamId:",g.Pa,"mediaRequest:",this,"stream:",g),1);};return d;})(a(83).Su);b.cJ=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(796),b);},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v){return v.Ca(d.S.tb(v.cI));}Object.defineProperties(b,{__esModule:{value:!0}});b.sba=b.hu=void 0;f=a(2);r=a(18);l=f.__importDefault(a(28));m=f.__importDefault(a(6));d=a(21);g=a(5);h=a(797);k=a(377);n=a(117);p=a(71);q=a(27);b.hu=c;a=(function(v){function u(t,w,x,y,z,A,B,D,E){var F,C;C=v.call(this) || this;C.H=t;C.Lg=w;C.Kf=x;C.pd=y;C.I=z;C.Jmb=A;C.V=B;C.Bv=D;C.bh=E;C.Ak=C.H.error.bind(C.H);C.Rb=C.H.warn.bind(C.H);C.Rm=C.H.trace.bind(C.H);null === (F=y.events) || void 0 === F?void 0:F.addListener("ready",function(){C.kv();});C.$qa=new h.zFa(C.I,C.Lg,C.Kf.dc,C.H);C.reset();return C;}f.__extends(u,v);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.bS;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{b3:{get:function(){return this.pd?this.pd.b3:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{U0b:{get:function(){return this.ol.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{rKb:{get:function(){return this.Vi;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{h9a:{get:function(){return ! !this.pd.JAb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{JA:{get:function(){return ! !this.pd.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(t){var w,x,y,z;null === (w=this.xNa) || void 0 === w?void 0:w.Kb();this.Mj=!1;t || (this.ol=[]);this.Vi=this.Ffa=this.CK=void 0;this.qfa=!1;this.bga=void 0;this.T1=d.S.bb;this.Ux=void 0;this.bS=!1;this.Pga(d.S.bb);null === (y=(x=this.pd).reset) || void 0 === y?void 0:y.call(x);null === (z=this.$qa) || void 0 === z?void 0:z.reset();};u.prototype.HVa=function(){this.Ffa=!0;};u.prototype.pause=function(){this.Mj=!0;};u.prototype.resume=function(){this.Mj=!1;this.kv();};u.prototype.Sy=function(){this.Mj || this.kv();};u.prototype.Zma=function(){var t;return null === (t=this.Vi) || void 0 === t?void 0:t.Yd;};u.prototype.Jqb=function(t){var w;if(this.I.rUa){g.assert(t.Ra);w=t.Ra.gb;g.assert(void 0 !== t.$c);g.assert(void 0 !== w.Fc);if(t.$c >= w.Fc)return;}this.ol.push(t);this.kv();};u.prototype.Bs=function(){this.kv();};u.prototype.F9=function(t){t=this.ol.indexOf(t);-1 !== t && this.ol.splice(t,1);};u.prototype.T2a=function(t,w){this.I.Kha && w && void 0 === this.Vi && this.MLa(t,0);this.kv();};u.prototype.A8=function(t){var w,x,y;w=this;if(!this.bS && (this.bS=!0,this.kv(),!this.h9a))if(t && this.Bv && this.I.tyb){y=d.S.tb(this.I.G9a);t=t.Ca(y);y=p.Hxa(this.Bv,t,!0);t=y.ws;y=y.promise;null === (x=this.xNa) || void 0 === x?void 0:x.Kb();this.xNa=t;y.then(function(){w.bS && w.pd.endOfStream();});}else this.pd.endOfStream();};u.prototype.g$=function(){return JSON.stringify(this.ol);};u.prototype.Pga=function(t){var w;null !== (w=this.Wga) && void 0 !== w && w.equal(t) || (this.Wga=t,this.pd.vWb(t.Zb,t.U));};u.prototype.kv=function(){var t,w,x,y,z,A,B,D,E;w=this.I;if(this.ol.length || this.Vi && !this.Vi.af)if(!this.pd || !1 === this.pd.ready)this.LK("@" + m.default.time.ea() + ", append: not appending, sourceBuffer not ready");else if(!this.Vi || this.Vi.af || this.Vi.Xt())if(this.Vi && !this.Vi.af || this.ol.length)if(this.Mj){x=this.Vi && !this.Vi.af?this.Vi:this.ol[0];this.LK("@" + m.default.time.ea() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.Vi || this.Vi.af || (this.jMa(this.Vi),this.Vi.af)) && this.ol.length)if((x=this.ol[0],x.aborted))(this.Rb("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.LK("@" + m.default.time.ea() + ", append: removing aborted request from toAppend: " + x.toString()),this.ol.shift());else {y=x.stream;z=y.O;if(y.Pg)if(this.MWb(y,x.index))(this.Ffa=!1,this.MLa(y,x.index));else {A=this.V.Do(z);B=this.hIb(y);if(A || B || !(this.qfa && y.track.qW || w.yaa))if((y=this.aYa(x),this.Lg !== l.default.Qa.Lb || !x.rq && !x.gw || !x.oa || w.xA || this.bS || 1 !== this.ol.length || !(y > w.EW) || null !== (t=x.lI) && void 0 !== t && t.V6)){if(w.rUa || w.jAb)if((t=x.Ra.gb,A=this.Nyb())){D=t.Ik;E=x.Fc >= A;y=y > w.EW;if(A < t.Fc && E && y && !D)return;}if(w.uQb && this.bh && (w=this.bh(z.Mb)) && !w.fT)this.pause();else {this.qfa || (this.qfa=B);this.ol.shift();try{this.Kjb(x);}catch(F){throw (this.H.error(F),F);}}}else this.dVb();}}};u.prototype.dVb=function(){var t;t=this;this.Bv && (this.Apa?this.Apa.YIb || this.Apa.vm():this.Apa=this.Bv.jG(function(){return t.gKb();},"JIT Appender"));};u.prototype.gKb=function(){var t,w,x,y;return f.__generator(this,function(z){switch(z.label){case 0:if(1 !== this.ol.length)return [3,3];t=this.ol[0];if(!t.rq && !t.gw || (null === (y=t.lI) || void 0 === y?0:y.V6))return [2];w=this.aYa(t);x=this.I.EW;return w > x?[4,p.zk.WI(d.S.tb(w - x))]:[3,2];case 1:(z.kd(),z.label=2);case 2:return (this.kv(),[3,0]);case 3:return [2];}});};u.prototype.aYa=function(t){return t.sd - this.V.Me();};u.prototype.MWb=function(t,w){if(this.Ffa || void 0 === this.CK || t.Pa !== this.CK.Pa)return !0;t=t.Pg;g.assert(t);return 1 < t.length?q.LPa(t,function(x){return x.Wd <= w;}) !== this.CK.p_a:!1;};u.prototype.hIb=function(t){if(0 === t.mediaType || !t.Ez)return !0;if(void 0 === this.CK)return !1;t=t.Pg;g.assert(t);return !1 === t[this.CK.p_a].Jk;};u.prototype.Nyb=function(){throw Error("not supported");};u.prototype.Fjb=function(t){this.T1=k.p0.j3(this.I,t.ue,this.Kf.dc,this.H);};u.prototype.MLa=function(t,w){var x;x=t.Pg.reduce(function(y,z,A){return z.Wd <= w?A:y;},0);if(this.pd.appendBuffer(t.Pg[x].data,{Vc:!0,profile:t.profile,bitrate:t.bitrate,Pa:t.id}))(this.LK("@" + m.default.time.ea() + ", header appended, streamId: " + t.Pa),this.CK={Pa:t.Pa,p_a:x},this.Qnb(t.O.Mb || 0,t.Pa,x),this.Fjb(t),this.kv());else throw (this.Rb("appendHeader error: " + this.pd.error),this.LK("@" + m.default.time.ea() + ", appendHeader error: " + this.pd.error),Error("appendHeaderError"));};u.prototype.Kjb=function(t){var w,x,y,z,A,B,D;y=t.t9 || d.S.bb;z=t.Ra.gb.N;z.Ha && Infinity !== z.Ha && (y=new d.S(z.Ha,1E3).add(y).jh,Infinity === this.Kf.duration || this.Kf.duration < y) && (this.Kf.duration=y);if(this.$qa){y=!0;z=!1;A=d.S.bb;B=void 0 !== t.Lu?d.S.tb(t.Lu).add(t.t9):void 0;D=null === (w=this.ol[0]) || void 0 === w?void 0:w.mj;w={endOfStream:this.endOfStream || !(null === (x=t.lI) || void 0 === x || !x.V6),O7:B,LW:D};x=this.$qa.append(t,w);this.Pga(x);}else (z=y=!1,A=d.S.bb,this.Plb(t));this.Ux && A && (this.Ux=this.Ux.add(A));this.jMa(t,y,z);};u.prototype.jMa=function(t,w,x){var y,z,A;x=t.OF(this.pd,this.Kf.dc,this.Vi,this.ol[0],w,x);w=x.status;(x=x.ck) && this.emit(x.type,x);w !== n.yj.Gf?(this.Vi=t,w === n.yj.hx && (void 0 === this.Ux || this.Lg !== l.default.Qa.Lb || t.mj.equal(this.Ux) || (this.Lnb(t,this.Ux),this.Ux=void 0),this.LK("@" + m.default.time.ea() + ", request appended, type: " + t.mediaType + ", streamId: " + t.Pa + ", pts: " + t.sd + "-" + t.Yd),t.rq || t.gw?(this.Ux=t.te,this.dkb(t,this.Wga || d.S.bb),null === (z=(y=this.pd).JAb) || void 0 === z?void 0:z.call(y,t.lI),(null === (A=t.lI) || void 0 === A?0:A.V6) && this.Jmb && this.A8(t.te)):this.Ux=void 0,this.Rnb(t),this.kv())):this.Jjb(t);};u.prototype.Jjb=function(t){if(void 0 !== this.pd.error){if("done" === this.pd.error)return;this.Ak("failure to append queued mediaRequest:",null === t || void 0 === t?void 0:t.toString(),"err:",JSON.stringify(this.pd.error));throw this.pd.error;}t=Error("failure to append queued mediaRequest: " + (null === t || void 0 === t?void 0:t.toString()) + " err: " + this.pd.error);this.Ak(t.message);throw t;};u.prototype.Plb=function(t){var w,x,y;x=t.t9 || d.S.bb;if(void 0 === this.bga || x && !x.equal(this.bga)){y=this.T1.add(x);this.Pga(y);this.bga=x;}void 0 === this.Vi && !this.I.N7 && t.stream.ue && this.I.Dk && (x=null === (w=t.Jc) || void 0 === w?void 0:w.Ca(t.stream.ue).add(this.Wga),x.lessThan(d.S.bb) && (w=Math.ceil(x.sD(-1).wl(t.stream.qa)),t.uU(w)));};u.prototype.dkb=function(t,w){var x,y;x=t.stream.qa;y=t.Pd;this.I.Dk && t.stream.ue && (y=y.Ca(t.stream.ue));c(y.Ca(x)).add(c(x)).add(c(w));};u.prototype.Qnb=function(t,w,x){t={type:"headerAppended",mediaType:this.Lg,manifestIndex:t,streamId:w,isIndex:x};this.emit(t.type,t);};u.prototype.Rnb=function(t){t={type:"requestAppended",mediaType:this.Lg,request:t};this.emit(t.type,t);};u.prototype.LK=function(t){t={type:"managerdebugevent",message:t};this.emit(t.type,t);};u.prototype.Lnb=function(t,w){var x;x=t.$c;t=t.mj.Ca(w).T;x={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[x,t]}}};this.emit(x.type,x);};return u;})(r.EventEmitter);b.sba=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z5=b.aqb=void 0;b.aqb=function(a){return a.U9;};b.z5=function(a,c){return void 0 !== a.zN?a.zN:c && void 0 !== c.zN?c.zN:100;};},function(r,b,a){var f;function c(l,m){return l < m?-1:l > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.W_=void 0;f=a(2);r=(function(){function l(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.sfa(m);}}Object.defineProperties(l.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.data.push(m);this.Zga(this.length - 1);};l.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.sfa(0));return m;}};l.prototype.Aw=function(){return this.data[0];};l.prototype.fSb=function(m){m=this.data.indexOf(m);-1 !== m && this.Zga(m);};l.prototype.map=function(m){return this.data.map(m);};l.prototype.find=function(m){return f.__read(this.data.filter(m),1)[0];};l.prototype.clear=function(){this.data=[];};l.prototype.remove=function(m){var d,g,h;d=this.data;m=d.indexOf(m);if(-1 !== m){g=d.pop();if(m < d.length){d[m]=g;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(g,d)?this.Zga(m):this.sfa(m);}}};l.prototype.Zqb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + m);}};l.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};l.prototype.Zga=function(m){for(var d=this.data,g=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= g(h,n))break;d[m]=n;m=k;}d[m]=h;};l.prototype.sfa=function(m){for(var d=this.data,g=this.compare,h=this.length >> 1,k=d[m],n,p,q;m < h;){n=(m << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > g(d[p],q) && (n=p,q=d[p]);if(0 <= g(q,k))break;d[m]=q;m=n;}d[m]=k;};return l;})();b.W_=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.h9=void 0;c=a(16);b.h9=function(f){switch(f){case c.ma.ud:f=c.Dc.ud;break;case c.ma.If:f=c.Dc.If;break;case c.ma.qh:case c.ma.Ri:case c.ma.gr:f=c.Dc.Ri;break;default:f=c.Dc.Fj;}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EJ=void 0;c=a(5);f=a(27);r=(function(){function l(m){var d;d=this;void 0 === m && (m=[]);this.items=m;m.forEach(function(g){return d.ixa(g);});}Object.defineProperties(l.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{AX:{get:function(){var m;return null !== (m=this.video) && void 0 !== m?m:this.audio;},enumerable:!1,configurable:!0}});l.prototype.get=function(m){return 1 === m?this.video:this.audio;};l.prototype.every=function(m){return this.items.every(m);};l.prototype.some=function(m){return this.items.some(m);};l.prototype.forEach=function(m){this.items.forEach(m);};l.prototype.find=function(m){return f.dg(this.items,m);};l.prototype.reduce=function(m,d){return this.items.reduce(m,d);};l.prototype.filter=function(m){return new l(this.items.filter(m));};l.prototype.replace=function(m,d){var g;g=this.items.indexOf(m);c.assert(-1 < g);c.assert(m.mediaType === d.mediaType);this.items[g]=d;this.ixa(d);};l.prototype.OVb=function(m,d){(m=this.get(m))?this.replace(m,d):this.add(d);};l.prototype.add=function(m){this.items.push(m);this.ixa(m);};l.prototype.remove=function(m){var d;d=this.items.indexOf(m);if(-1 === d)return !1;this.items.splice(d,1);this.Ktb(m.mediaType);return !0;};l.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};l.prototype.ixa=function(m){1 === m.mediaType?this.video=m:this.audio=m;};l.prototype.Ktb=function(m){1 === m?this.video=void 0:this.audio=void 0;};return l;})();b.EJ=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.QZ=void 0;c=a(2);a(5);r=a(42);f=c.__importDefault(a(28));l=c.__importDefault(a(122));m=c.__importDefault(a(6));d=a(241);g=a(101);h=a(117);k=m.default.$q;n=a(819);a=c.__importDefault(a(820));m=(function(p){function q(v,u,t,w,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 8:g.Dm.xb(B,v,t,A);return B;break;case 2:var Y0g="1";Y0g+="SIY";Y0g+="bZrNJ";Y0g+="Cp9";B=this;Y0g;g00=5;break;case 5:var i0g="e";i0g+="d";i0g+="i";i0g+="t";var z0g="c";z0g+="a";z0g+="c";z0g+="h";z0g+="e";B=[z0g,i0g].filter(function(D,E){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 2:return [x,t.oa][E];break;}}});g00=4;break;case 4:B=B.length?"(" + B.join(",") + ")":"";void 0 === t.responseType && (t.responseType=t.oa || k.dc && !k.dc.dY.yR?0:1);B=p.call(this,v,u,B,t,w,y,z) || this;g00=8;break;}}}var f00;f00=2;for(;f00 !== 9;){switch(f00){case 2:c.__extends(q,p);q.create=function(v,u,t,w,x,y,z,A){var i00,B,D;i00=2;for(;i00 !== 11;){switch(i00){case 8:x=new d.iE(v,w,x,u,z,A);i00=7;break;case 5:i00=w.tN && w.fa > w.tN?4:12;break;case 14:var S0g="subr";S0g+="equ";S0g+="e";S0g+="s";S0g+="t";(B={offset:y,fa:Math.min(D,A),responseType:w.responseType},y+=B.fa,D-=B.fa,x.push(new h.SZ(v,t,S0g,B,x,u,z)));i00=6;break;case 2:i00=!u.og && w.oa && v.mediaType === f.default.Qa.Jb && k.dc && k.dc.dY.yR?1:5;break;case 4:B=Math.ceil(w.fa / w.tN);y=w.offset;D=w.fa;i00=8;break;case 1:return new n.eya(v,t,w,x,y,u,z,A);break;case 12:return new q(v,t,w,x,y,u,z,A);break;case 7:A=Math.ceil(w.fa / B);i00=6;break;case 6:i00=0 < D?14:13;break;case 13:return x;break;}}};q.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var K2g="I";K2g+="D";K2g+=":";K2g+=" ";return K2g + this.ci() + ":" + g.Dm.prototype.toString.call(this);break;}}};f00=4;break;case 4:q.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.ci(),request:g.Dm.prototype.toJSON.call(this)};break;}}};return q;break;}}})(h.SZ);b.QZ=m;l.default(a.default,m.prototype);r.sf(g.Dm,m,!1);},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.iE=void 0;c=a(2);f=a(5);r=a(42);l=a(9);m=a(27);d=a(375);g=a(101);h=a(117);a=(function(k){function n(p,q,v,u,t,w){v=k.call(this,p,q,v,u,t) || this;g.Dm.xb(v,p,q,w);v.Sc=0;v.oa || v.Ih();v.af=!1;return v;}c.__extends(n,k);Object.defineProperties(n.prototype,{Vc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Sc+=p.fa;k.prototype.push.call(this,p);};n.prototype.Xt=function(){var p;return !this.af && ! !this.Da.length && !(null === (p=m.dg(this.Da,function(q){return !q.af;})) || void 0 === p || !p.Xt());};n.prototype.OF=function(p,q){var v,u;f.assert(!this.af);v=h.yj.Mgb;u=l.sq(this);this.af=this.Da.every(function(t){if(t.af)return !0;if(!t.Xt())return !1;v=t.OF(p,q,void 0,void 0,void 0,void 0,u).status;return v === h.yj.hx;});v !== h.yj.hx || this.af || (v=h.yj.hhb);return {status:v};};n.prototype.GTb=function(){this.Da.forEach(function(p){p.QX();});};n.prototype.ci=function(){return this.Da?this.Da[0].ci() + "-" + this.Da[this.Da.length - 1].ci():"empty";};n.prototype.toString=function(){return "ID: " + this.ci() + ":" + g.Dm.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.ci(),request:k.prototype.toJSON.call(this)};};return n;})(d.bba);b.iE=a;r.sf(g.Dm,a);},function(r,b,a){var l,m,d,g,h,k,n,p;function c(q,v){return q.done?q:{value:{value:q.value,HOa:v}};}function f(q){q.HOa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.crb=b.mib=b.TZ=void 0;l=a(2);r=a(18);m=a(148);d=a(20);g=l.__importDefault(a(6));h=a(9);k=a(5);a=a(42);n=(function(){function q(v,u){this.console=v;this.Wf=u;this.pmb=this.ZR=0;this.tg=[];this.console=h.tq(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{Byb:{get:function(){return this.ZR;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TRa:{get:function(){var v,u,t;for(u=0;u < this.tg.length;u++){t=this.tg[u];if(!t.PV || (null === (v=t.item) || void 0 === v?0:v.done))break;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Wf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dz:{get:function(){return 0 === this.Wf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vua:{get:function(){var v;for(v=0;v < this.tg.length && this.tg[v].spa;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var v;v=l.__read(this.tg,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bra:{get:function(){var v;for(v=0;v < this.tg.length && this.tg[v].PV;v++){;}return v;},enumerable:!1,configurable:!0}});q.prototype.q4=function(){var v;if(void 0 === this.Wf){v=this.console;d.ga && v && v.trace("QueueIterator: enqueueEnd");this.gxa(this.Bra - (this.Wf || 0));}};q.prototype.Xo=function(){return this.tg.map(function(v){return v.item;});};q.prototype.T$=function(){this.Dp || (this.Dp=this.tg.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.Dp;};q.prototype.gxa=function(v){var u;d.ga && this.console.trace("updateCount",{C$b:this.Wf,OL:v});if(void 0 !== this.Wf){u=this.tg[this.Wf];u && this.Roa(u);}this.Wf=void 0 === this.Wf?v:void 0 === v?v:this.Wf + v;void 0 !== this.Wf && (this.Wf=Math.max(0,this.Wf),(u=this.tg[this.Wf]) && u.aH.resolve({done:!0}));};q.prototype.enqueue=function(v){var u;d.ga && this.console.trace("Enqueue called");u=this.Bra;this.p3();return this.BSb(u,{value:v,done:!1}).uTa.promise;};q.prototype.C6a=function(){d.ga && this.console.trace("resetEnd");this.gxa(void 0);};q.prototype.clear=function(v){var u,t,w;d.ga && this.console.trace("clear");this.m5a();u=this.vua;t=this.tg.length - u;if(0 < t){w={index:u,Rra:t};d.ga && this.console.trace("Removing items",w);this.tg.splice(u,t);this.p3();this.emit("onRemoved",w);}for(t=1;t < u;t++){this.Roa(this.tg[t]);}this.Wf=void 0;this.gxa(v?v + u:v);this.ZR && (this.ZR=0);};q.prototype.getIterator=function(){var v,u;v=this;u=h.tq(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(t){return v.HXa(t);},u);};q.prototype.PL=function(){var v;if(0 < this.vua){v=l.__read(this.tg,1)[0];if(v.PV)return (d.ga && this.console.trace("dequeue",v.id),this.m5a(1),this.emit("onDequeue",v.aH.promise));}};q.prototype.remove=function(v){var u,t,w;for(u=0;u < this.tg.length;u++){t=this.tg[u];w=t.item;if(w && !w.done && w.value === v){this.tg.splice(u,1);this.Wf && this.Wf > u && this.Wf--;this.p3();d.ga && this.console.trace("removed",{id:t.id});this.emit("onRemoved",{index:u,Rra:1});break;}}};q.prototype.m5a=function(v){var u;v=v || Math.min(this.vua,this.Bra);if(0 < v){u=this.tg.splice(0,v);this.p3();this.Wf && (this.Wf-=v);d.ga && this.console.trace("pruned",v);Promise.resolve().then(function(){u.forEach(function(t){t.uTa.resolve();});});this.emit("onRemoved",{index:0,Rra:v});this.ZR+=v;}};q.prototype.HXa=function(v){var u;d.ga && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.PZa(v);u=this.tg[v];u.sUb.resolve();v=u.aH.promise;d.ga && this.console.trace("getNextItem:return",{id:u.id});}else (d.ga && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};q.prototype.BSb=function(v,u){var t;t=!u.done && u.value;t=t && t.toJSON?t.toJSON():t;d.ga && this.console.trace("Providing result",{pqb:v,item:t});this.PZa(v);v=this.tg[v];t=v.aH.resolve;t(u);return v;};q.prototype.PZa=function(v){var u;if(void 0 === this.tg[v]){u={};this.Roa(u);this.tg[v]=u;v === this.Wf && u.aH.resolve({done:!0});d.ga && this.console.trace("Item initialized",{pqb:v});}};q.prototype.$ja=function(v){var u;u={};u.promise=new Promise(function(t,w){u.resolve=function(x){t(x);v && v(x);};u.reject=w;});return u;};q.prototype.Roa=function(v){var u;u=this;v.aH=this.$ja(function(t){v.item=t;v.PV=!0;d.ga && u.console.trace("Item resolved",{id:v.id});});v.id && v.spa && !v.PV && (v.aH.resolve({done:!0}),d.ga && this.console.warn("Overwriting requested queue item",v.id));v.uTa=this.$ja();v.sUb=this.$ja(function(){v.spa=!0;d.ga && u.console.trace("Item requested",{id:v.id});});v.id=this.pmb++;v.spa=!1;v.PV=!1;v.item=void 0;};q.prototype.p3=function(){this.Dp=void 0;};q.prototype.kDb=function(){var v,u,t;v=this;u=h.tq(g.default,this.console,"QueueIteratorInstance::");t=new p(this,function(w){var x,y;if(0 === v.count)return m.AsyncIterator.Ina();x=v.HXa(w);y=v.tg[0];return x.then(function(z){return c(z,function(){t.aN || (y === v.tg[0]?v.PL():k.assert(!v.tg.filter(function(A){return A.aH.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},u);return t;};return q;})();b.TZ=n;a.sf(r.EventEmitter,n);p=(function(q){function v(u,t,w){var x;x=q.call(this,function(){d.ga && x.console.trace("Next item requested",{index:x.index});return x.NUb(x.index++);}) || this;x.parent=u;x.NUb=t;x.console=w;x.zK=!1;x.index=0;x.Pfa=!1;x.q3a=function(y){var z;z=y.index;y=y.Rra;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ga && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}l.__extends(v,q);v.prototype.wh=function(){this.console.trace("disposed");this.zK=!0;this.Zc();q.prototype.wh.call(this);};v.prototype.next=function(){this.aN || this.ZM();return q.prototype.next.call(this);};v.prototype.cancel=function(){this.Zc();return q.prototype.cancel.call(this);};v.prototype.Zc=function(){this.parent.wD("onRemoved",this.q3a);this.Pfa=!1;};v.prototype.ZM=function(){this.Pfa || (this.Pfa=!0,this.parent.on("onRemoved",this.q3a));};return v;})(m.AsyncIterator);b.mib=p;b.crb=function(q){return m.map(q,f);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qea=void 0;r=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{d0a:{get:function(){var c,f;return null !== (c=this.xHb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.d0a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YV:{get:function(){var c,f;return null !== (c=this.fOb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.YV;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{au:{get:function(){var c,f;return null !== (c=this.ii) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.au;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{h0a:{get:function(){var c,f,l,m;return null !== (c=this.Ge) && void 0 !== c?c:(null === (f=this.track) || void 0 === f?0:f.equals(null === (l=this.parent) || void 0 === l?void 0:l.track))?null === (m=this.parent) || void 0 === m?void 0:m.Ge:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{k0a:{get:function(){var c,f;return null !== (c=this.NXb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.k0a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Npa:{get:function(){var c,f;return null !== (c=this.OXb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.Npa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.uVb;},enumerable:!1,configurable:!0}});a.prototype.Kb=function(){this.parent=void 0;};a.prototype.D7a=function(c){this.xHb=c;};a.prototype.fWb=function(c){this.fOb=c;};a.prototype.Q7a=function(c){this.ii=c;};a.prototype.m$=function(c){this.Ge=c;};a.prototype.qWb=function(c){this.NXb=c;};a.prototype.S7a=function(c){this.OXb=c;};a.prototype.vY=function(c){this.uVb=c;};return a;})();b.qea=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(826),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eJ=void 0;c=a(246);r=(function(){var l00;l00=2;for(;l00 !== 3;){switch(l00){case 2:f.prototype.FTa=function(l,m){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 14:return l;break;n00=3;break;case 4:return l;break;case 2:d=null === this.dia?l * (100 - this.config.M$) / 100:c.Mha(l,this.dia);m=null !== m && void 0 !== m?m:this.rN;this.config.Wpa && m?(l=c.Mha(l,m),l=Math.max(l,d)):l=d;n00=4;break;}}};f.prototype.KO=function(l){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 4:this.dia=l;o00=2;break;o00=1;break;case 2:this.dia=l;o00=1;break;}}};f.prototype.exa=function(l){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:this.config=l;p00=1;break;}}};return f;break;}}function f(l,m){var m00;m00=2;for(;m00 !== 3;){switch(m00){case 2:var X2g="1S";X2g+="IYbZr";X2g+="NJCp9";this.config=l;this.rN=m;this.dia=null;X2g;m00=3;break;}}}})();b.eJ=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mha=b.GD=b.RUa=void 0;c=a(2).__importDefault(a(115)).default.SUa;b.RUa=function(f,l,m){var d,g,h;d=0;if(m){f.some(function(k){var n;n=k.b;k=k.m;if(l <= n)return (d=h && n !== g?h + (k - h) / (n - g) * (l - g):k,!0);g=n;d=h=k;return !1;});}else f.some(function(k){d=k.m;return l <= k.b;});return d;};b.GD=function(f,l,m){var d;l=(null === (d=l.Sa) || void 0 === d?void 0:d.Fa) || 0;return f.orb?(f=c(f.nrb,m.bm - m.Gc,1),l * (1 - f)):l * f.M$ / 100;};b.Mha=function(f,l){return f < 2 * l?f / 2:f - l;};},function(r,b,a){var m;function c(){}function f(d,g){this.Zl=d;void 0 !== g?(m(g <= d.wm,"require remain_sec <= chunk.sec but has " + g + " and " + d.wm),this.Wk=g):this.Wk=d.wm;}function l(d){void 0 === d && (d=[]);this.No=[];this.mh=this.Kl=0;for(var g in d){this.add(d[g],void 0);}}m=a(5).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.tt=function(){return new f(this.Zl,this.Wk);};l.prototype.constructor=l;l.prototype.add=function(d,g){d=new f(d,g);this.No.push(d);this.mh+=d.Wk;this.Kl+=d.Zl.mz() * d.Wk;};l.prototype.tt=function(){var d,g;d=new l(void 0);for(g in this.No){d.add(this.No[g].Zl,this.No[g].Wk);}return d;};l.prototype.Qt=function(){try{return this.No[0];}catch(d){}};l.prototype.z4a=function(d){var g;for(m(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.Qt())throw new c();if(d < this.Qt().Wk){g=this.Qt().Zl.mz() * d;this.Qt().Wk-=d;this.mh-=d;this.Kl-=g;d=0;}else (g=this.No.shift(),this.mh-=g.Wk,this.Kl-=g.Zl.mz() * g.Wk,d-=g.Wk);}};l.prototype.ZQb=function(d){var h;m(0 <= d,"unexpected play_y_kb: y=" + d);for(var g=0;0 < d;){if(void 0 === this.Qt())throw new c();if(d < this.Qt().Wk * this.Qt().Zl.mz()){h=d / this.Qt().Zl.mz();this.Qt().Wk-=h;this.mh-=h;this.Kl-=d;g+=h;d=0;}else (h=this.No.shift(),this.mh-=h.Wk,this.Kl-=h.Zl.mz() * h.Wk,g+=h.Wk,d-=h.Zl.mz() * h.Wk);}return g;};r.exports={bza:l,tcb:c};},function(r){r.exports={JEa:{code:-1,description:"MediaCache is not supported."},H5b:{code:100,description:"Resource was not found"},igb:{code:101,description:"Resource Metadata was not found"},MJ:{code:102,description:"Read failed",Uq:function(b,a){return {code:this.code,description:b,cause:a};}},S0:{code:200,description:"Daily write limit exceeded"},fJ:{code:201,description:"Capacity has been exceeded"},R0:{code:202,description:"Write failed, cause unknown",Uq:function(b,a){return {code:this.code,description:b,cause:a};}},F6b:{code:203,description:"Write failed, cause unknown"},qdb:{code:300,description:"Failed to delete resource",Uq:function(b,a){return {code:this.code,description:b,cause:a};}},kB:{code:900,description:"Invalid partition name"},Jfb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},jAa:{code:701,description:"Failed to initialize underlying disk cache."},hgb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={FYa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(l){c.error && c.error.code == l.error.code && c.error.description === l.error.description && (f=l);});f?f.resources.push(c.Iq):a.push({error:c.error,resources:[c.Iq]});});return a;}},yWa:function(b){var a;a={freeSize:b.jn,dailyBytesRemaining:b.LL,bytesWritten:b.Ek,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.Rk,itemBytes:c.b7,error:c.error};}));return a;},Fw:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IG=void 0;c=a(2).__importDefault(a(6));f=a(879);b.IG=function(){var m;if(!l){m=new c.default.Console("ASEJS","media|asejs");l=new f.Vxa(m);}return l;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.G0=void 0;r=a(18);c=a(42);f=a(21);a=(function(){function l(m){void 0 === m && (m={Pk:!1,currentTime:f.S.bb,speed:1});this.Tc={Pk:function(){return "function" === typeof m.Pk?m.Pk():m.Pk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(l.prototype,{Pk:{get:function(){return this.Tc.Pk();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.Tc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){return this.Tc.speed();},enumerable:!1,configurable:!0}});return l;})();b.G0=a;c.sf(r.EventEmitter,a);},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.zB=void 0;c=a(2);f=a(20);l=a(9);m=a(54);r=(function(){function d(g,h){this.ji=g;this.options=c.__assign({Ntb:!0},h);}Object.defineProperties(d.prototype,{tD:{get:function(){return "trace-" + this.ji.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bj:{get:function(){return this.tD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});d.prototype.uo=function(g){var h,k;if(g.Ei === m.ce.Wp || g.Ei === m.ce.Ln){h=l.hTa(this.ji.cKb);k=this.ji.EHb;g.Ei === m.ce.Wp && this.options.Ntb && this.ji.clear();g=h;Object.keys(k).length && (g=c.__spread(h,[k]));return g;}};d.prototype.Kb=function(){this.ji.Kb();};return d;})();b.zB=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.G5=b.kq=b.isEqual=b.TV=void 0;c=a(9);b.TV=function(f){return ! !f.Z;};b.isEqual=function(f,l){var m,d;m=b.TV(f);d=b.TV(l);return m === d?m?f.Z === l.Z:f.Ga === l.Ga:!1;};b.kq=function(f){if(b.TV(f))return f.Z;f=f.Ga;return f.Aa[f.ff].Z;};b.G5=function(f,l){return f.V2?f.V2 instanceof c.S?{offset:f.V2,ya:l.ff}:f.V2:{offset:c.S.bb,ya:l.ff};};},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var l,m,d,g;function c(h,k,n){for(var p=n.next();!p.done;){if((k=h["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](k);}function f(h,k,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),k));}l=a(948);m=a(950);d=a(951);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(l(n)){for(var p=0,q=n.length;p < q;){if((k=h["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return f(h,k,n,"fantasy-land/reduce");if(null != n[g])return c(h,k,n[g]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return f(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,l){return a.apply(this,arguments);};case 4:return function(c,f,l,m){return a.apply(this,arguments);};case 5:return function(c,f,l,m,d){return a.apply(this,arguments);};case 6:return function(c,f,l,m,d,g){return a.apply(this,arguments);};case 7:return function(c,f,l,m,d,g,h){return a.apply(this,arguments);};case 8:return function(c,f,l,m,d,g,h,k){return a.apply(this,arguments);};case 9:return function(c,f,l,m,d,g,h,k,n){return a.apply(this,arguments);};case 10:return function(c,f,l,m,d,g,h,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oda="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sca="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca="HLSConfigSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(261);c=a(150);b.Vdb=c;c=a(423);b.zea=c;c=a(427);b.Wqb=c;b.F0=r.uq.Ua.sidx;r=a(986);b.dr=r.dr;r=a(269);b.ar=r.ar;r=a(990);b.cr=r.cr;b.Qz=r.Qz;r=a(991);b.yJ=r.yJ;r=a(88);b.Wn=r.Wn;a=a(992);b.Ej=a.Ej;},function(r,b,a){var C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa,O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb,Za;function c(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function f(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function l(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function m(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);this.qI=Sa.config.qI;this.rd=this.sizes=void 0;}function d(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function g(){for(var Sa=new DataView(this),xa="",Ia,Ma=0;Ma < this.byteLength;Ma++){Ia=Sa.getUint8(Ma);xa+=("00" + Ia.toString(16)).slice(-2);}return xa;}function h(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function k(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function n(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function p(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function q(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function v(Sa){function xa(Ia,Ma,Ta,hb,wb){K.call(this,Ia,Ma,Ta,hb,wb);this.KW=Sa;}xa.Oa=!1;xa.prototype=new K();xa.prototype.constructor=xa;Object.defineProperties(xa.prototype,{eQ:{get:function(){return this.KW;}}});xa.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.KW + "'");this.u.offset=this.startOffset + 4;this.la.EZ(this.eQ);this.type=this.eQ;return !0;};return xa;}function u(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function t(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function w(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function x(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function y(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function z(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function A(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function B(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function D(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function E(Sa,xa,Ia,Ma,Ta){K.call(this,Sa,xa,Ia,Ma,Ta);}function F(Sa,xa){Sa.forEach(function(Ia){xa[Ia.Vb]=Ia;});}C=a(149).assert;b=a(105);G=a(262).S;J=a(423);a(150);a(88);a(88);a(88);K=a(32).yc;H=a(969).default;L=a(970).default;R=a(971).default;I=a(972).default;P=a(973).default;N=a(974).default;M=a(975).default;Q=a(976).default;T=a(977).default;a(263);a(177);da=a(424).Gaa;pa=a(424).Rba;wa=a(978).default;ua=a(979).default;X=a(106).default;sa=a(106).Vaa;O=a(106).Waa;S=a(106).Xaa;ka=a(106).Yaa;ia=a(980).default;Pa=a(981).default;Ea=a(106).lca;Va=a(106).fca;Ya=a(982).default;bb=a(983).default;Xa=a(984).default;mb=a(425).default;Za=a(426).default;a(151);a(266);a(267);a(265);a=a(985).default;c.Oa=!0;c.prototype=new K();c.prototype.constructor=c;f.Oa=!0;f.prototype=new K();f.prototype.constructor=f;l.Oa=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.parse=function(){var Sa;this.uc();1 === this.version?(this.u.Sd(),this.u.Sd(),this.U=this.u.wa(),this.duration=this.u.Sd()):(this.u.wa(),this.u.wa(),this.U=this.u.wa(),this.duration=this.u.wa());Sa=this.u.Qc() & 32767;this.language=String.fromCharCode(96 + (Sa >>> 10),96 + (Sa >>> 5 & 31),96 + (Sa & 31));return !0;};m.Oa=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.vga=function(){this.uc();this.u.wa();this.U=this.u.wa();0 === this.version?(this.xU=this.u.wa(),this.PU=this.u.wa()):(this.xU=this.u.Sd(),this.PU=this.u.Sd());this.y6a=this.u.Qc();this.OX=this.u.Qc();};m.prototype.kfa=function(Sa,xa){var Ia,Ma,Ta;Ia=this.U;Sa=Sa && Sa.U || Ia;Ma=Sa / Ia;Ia=this.u.qA(xa,12,!1);Ta=1 === Ma?this.u.qA(xa,12,!1):J.from(Uint32Array,{length:xa},function(){var hb;hb=Math.round(this.u.wa() * Ma);this.u.offset+=8;return hb;},this);this.$ga(xa,Ta,Ia,Sa);};m.prototype.$ga=function(Sa,xa,Ia,Ma){if(this.qI){Ma=this.qI * Ma / 1E3;for(var Ta=0,hb=1;hb < Sa;hb++){Math.abs(xa[Ta] - Ma) > Math.abs(xa[Ta] + xa[hb] - Ma)?(xa[Ta]+=xa[hb],Ia[Ta]+=Ia[hb]):(++Ta,Ta !== hb && (xa[Ta]=xa[hb],Ia[Ta]=Ia[hb]));}++Ta;xa=new Uint32Array(xa.buffer.slice(0,4 * Ta));Ia=new Uint32Array(Ia.buffer.slice(0,4 * Ta));}this.sizes=Ia;this.rd=xa;};m.prototype.parse=function(Sa){var xa,Ia,Ma,Ta;this.vga();this.qa=Sa.qa;xa=this.U;Ia=this.qa && this.qa.U || xa;Ma=this.OX;Ta=this.startOffset + this.length + this.PU;xa=new G(this.xU,xa).Vf(Ia).Zb;this.W={U:Ia,Zk:xa,offset:Ta};this.kfa(this.qa,Ma);this.W.rd=this.rd;this.W.sizes=this.sizes;Sa.rs=this;return !0;};d.Oa=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Sa;this.Rq=[];this.Lsa=[];Sa=(this.length - 11) / 2;this.u.lb();this.u.lb();this.u.lb();for(var xa=0;xa < Sa;xa++){this.Rq.push(this.u.lb());this.Lsa.push(this.u.lb());}return !0;};h.Oa=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.uc();this.u.offset+=4;this.bH=this.u.offset;this.dj=this.u.Mta(16);this.dj.toString=g;return !0;};k.Oa=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){this.uc();this.hg=this.u.Qc();this.Rqa=this.u.qA(this.hg,void 0,!0);return !0;};n.Oa=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Sa){var xa,Ia,Ma,Ta,hb,wb;xa=Sa.rs;C(xa);Sa=Sa.qa;Ia=xa.U;xa=xa.OX;C(Sa);C(Ia);C(xa);this.uc();C(2 > this.version);this.hg=this.u.Qc();this.qu=new Uint16Array(xa + 1);Ma=Sa.J5(Ia);Ta=Ma / Ia;hb=Sa.Vf(Ma).Zb;if(0 === this.version)for((this.Eu=new Uint16Array(),this.Rd=new Uint32Array(),Sa=Ia=0);Sa <= xa;++Sa){if((this.qu[Sa]=Ia,Sa < this.hg)){wb=this.u.lb();if(0 !== wb)for(Ma=0;Ma < wb;(++Ma,++Ia)){this.Eu[Ia]=Math.floor((this.u.wa() + 1) * Ta) / hb;this.Rd[Ia]=this.u.wa();}}}else if(1 === this.version)for((Ma=this.u.Ita(this.hg,10,!1),this.u.offset+=4,this.Rd=this.u.qA(this.hg,10,!1),this.u.offset-=8,this.Eu=J.from(Uint16Array,{length:this.hg},function(){var Eb;Eb=Math.floor((this.u.wa() + 1) * Ta) / hb;this.u.offset+=6;return Eb;},this),Ia=Sa=0);Sa <= xa;++Sa){for(;Ia < Ma.length && Ma[Ia] < Sa;){++Ia;}this.qu[Sa]=Ia;}this.Vh={qu:this.qu,Eu:this.Eu,Rd:this.Rd};return !0;};p.Oa=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Oa=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.Ft=function(){var Sa;Sa=this.Jh("tfhd");Sa && (this.Sj=Sa.wT?Sa.Sj:this.parent.startOffset);return !0;};u.Oa=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(){var Sa,Ob;Sa=this.u.offset;this.uc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var xa=this.u.offset,Ia=this.u.lb(),Ma=this.u.lb(),Ta=this.u.lb(),hb=this.u.lb(),wb=this.u.Qc(),Eb=[],Hb=0;Hb < wb;++Hb){Eb=this.u.lb();}Hb=(Ia & 240) >>> 4;Ob=(Ia & 14) >>> 1;Ia&=1;Ta=16 === Ta?1:0;Ma != hb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ma + " and matrixCoefficients " + hb + " should be the same value!");hb=2;switch(Ma){case 1:hb=2;break;case 6:hb=1;break;case 9:hb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ma + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.la.YA(this.version,Sa);this.la.YA(Hb << 4 | hb,xa++);this.la.YA(Ob << 4 | Ta << 1 | Ia,xa++);wb+=2;Eb.push(0,0);this.la.Mxa(wb,!1);xa+=2;Eb.forEach(function(Cb){this.la.YA(Cb,xa++);});}return !0;};t.Oa=!1;t.prototype=new K();t.prototype.constructor=t;t.Vb="tfhd";Object.defineProperties(t.prototype,{wT:{get:function(){return this.flags & 1;}},Lua:{get:function(){return this.flags & 2;}},xka:{get:function(){return this.flags & 8;}},Aka:{get:function(){return this.flags & 16;}},yka:{get:function(){return this.flags & 32;}}});t.prototype.parse=function(){this.uc();this.NI=this.u.wa();this.Sj=this.wT?this.u.Sd():void 0;this.Lua && this.u.wa();this.Ly=this.xka?this.u.wa():void 0;this.Ny=this.Aka?this.u.wa():void 0;this.My=this.yka?this.u.wa():void 0;return !0;};w.Oa=!1;w.prototype=new K();w.prototype.constructor=w;w.prototype.parse=function(){this.uc();this.ry=1 === this.version?this.u.Sd():this.u.wa();return !0;};w.prototype.oa=function(Sa){var xa;xa=this.startOffset + 12;this.ry+=Sa;1 === this.version?this.la.Nxa(this.ry,xa):this.la.Tg(this.ry,xa);};x.Oa=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{aU:{get:function(){return this.flags & 1;}},yG:{get:function(){return this.flags & 4;}},zA:{get:function(){return this.flags & 256;}},AA:{get:function(){return this.flags & 512;}},fY:{get:function(){return this.flags & 1024;}},fI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.uc();this.AT=this.u.offset;this.Ib=this.u.wa();this.Xj=this.aU?this.u.UH():0;this.yG && this.u.wa();this.Du=(this.zA?4:0) + (this.AA?4:0) + (this.fY?4:0) + (this.fI?4:0);this.cz=this.u.offset;C(this.aU,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Ib * this.Du,"Expected remaining data in box to be sample information");return !0;};x.prototype.Ys=function(Sa,xa,Ia){var Ma,Ta,hb;Ma=this.zA?this.u.wa():Sa.Ly;Ta=this.AA?this.u.wa():Sa.Ny;Sa=this.fY?this.u.wa():Sa.My;hb=0 === this.version?this.fI?this.u.wa():0:this.fI?this.u.UH():0;return {Kua:hb,WUb:Sa,aSb:Ia + hb - (void 0 !== xa?xa:hb),mk:Ta,Fu:Ma};};x.prototype.oa=function(Sa,xa,Ia,Ma,Ta,hb,wb){var Eb,Hb,Ob,Cb;Eb=0;Hb=0;this.la.offset=this.cz;for(Ma=0;Ma < Ta;++Ma){Ob=this.Ys(xa,Cb,Hb);if(0 == Ma)Cb=Ob.Kua;Eb+=Ob.mk;Hb+=Ob.Fu;}Ma=Ta;Ta=this.u.offset;Ob=this.Ys(xa,Cb,Hb);this.Mq=Ma;this.Qva=Hb;if(wb){if((this.Fq=this.Xj + Eb,this.Ji=0,Ma === this.Ib))return !0;}else if((this.Fq=this.Xj,this.Ji=Eb,0 === Ma))return !0;if(0 === Ma || Ma === this.Ib)return !1;this.Uy=!0;if(wb){this.Ji+=Ob.mk;for(wb=Ma + 1;wb < this.Ib;++wb){Ob=this.Ys(xa,Cb,Hb);this.Ji+=Ob.mk;}this.la.offset=this.AT;this.Ib=Ma;this.la.Tg(this.Ib);this.la.YI(hb);this.yG && (this.u.offset+=4);this.Fe(this.length - (Ta - this.startOffset),Ta);}else (xa=Ta - this.cz,this.la.offset=this.AT,this.Ib-=Ma,this.la.Tg(this.Ib),this.Xj+=Eb,this.la.YI(hb,this.Xj),this.yG && (this.u.offset+=4),this.Fe(xa,this.la.offset));Ia.Fe(this.Ji,Sa.Sj + this.Fq);return !0;};x.prototype.mua=function(Sa,xa,Ia,Ma,Ta,hb){var Eb;if(Ma){Ma=this.Fq;for(var wb=this.Ib - 1;0 <= wb && this.Ib - wb <= Ta;--wb){this.la.offset=this.cz + wb * this.Du;Eb=this.Ys(xa);if(Eb.Fu != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Fu + " with silence of duration " + hb.duration);break;}if(this.AA)(this.la.offset-=this.Du - (this.zA?4:0),this.la.Tg(hb.qk.byteLength));else if(hb.qk.byteLength !== Eb.mk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma-=Eb.mk;Ia.Cu(Eb.mk,hb.qk,Sa.Sj + Ma);}}else for((Ma=this.Fq + this.Ji,wb=0);wb < this.Ib && wb < Ta;++wb){this.la.offset=this.cz + (wb + this.Mq) * this.Du;Eb=this.Ys(xa);if(Eb.Fu != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Fu + " with silence of duration " + hb.duration);break;}if(this.AA)(this.la.offset-=this.Du - (this.zA?4:0),this.la.Tg(hb.qk.byteLength));else if(hb.qk.byteLength !== Eb.mk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ia.Cu(Eb.mk,hb.qk,Sa.Sj + Ma);Ma+=Eb.mk;}};y.Oa=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{Xm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.uc();this.Xm && this.u.Gl();this.Xm && this.u.wa();this.zka=this.u.lb();this.Ib=this.u.wa();this.u.rA(this.Ib);return !0;};y.prototype.oa=function(Sa,xa){if(Sa && 0 === this.zka){Sa=xa?this.Ib - Sa:Sa;this.la.offset=this.startOffset + 13 + (this.Xm?8:0);this.Ib-=Sa;this.la.Tg(this.Ib);this.dI=0;if(xa)this.la.offset+=this.Ib;else {for(xa=0;xa < Sa;++xa){this.dI+=this.la.lb();}this.la.offset-=Sa;}this.Fe(Sa,this.u.offset);}return !0;};z.Oa=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Xm:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.uc();this.Xm && this.u.Gl();this.Xm && this.u.wa();this.hg=this.u.wa();C(1 === this.hg,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Xj=0 === this.version?this.u.UH():this.u.Pta();return !0;};z.prototype.oa=function(Sa,xa){this.Xj+=Sa;this.la.offset=this.startOffset + 16 + (this.Xm?8:0) + (0 === this.version?0:4);this.la.YI(xa,this.Xj);return !0;};A.Oa=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{fX:{get:function(){return this.flags & 1;}},yxa:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.uc();this.fX && (this.u.wa(),this.u.rA(16));this.Ib=this.u.wa();return !0;};A.prototype.oa=function(Sa,xa){var Ia,Ma;Ia=xa?this.Ib - Sa:Sa;this.la.offset=this.startOffset + 28 + (this.fX?20:0);this.Ib-=Ia;this.la.Tg(this.Ib);Sa=this.la.offset;if(this.yxa)for(Ia=xa?this.Ib:Ia;0 < Ia;--Ia){this.la.offset+=8;Ma=this.la.Qc();this.la.offset+=6 * Ma;}else this.la.offset+=8 * (xa?this.Ib:Ia);xa?this.Fe(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Fe(this.u.offset - Sa,Sa);};B.Oa=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.uc();return !0;};B.prototype.oa=function(Sa,xa,Ia){Ia?this.Fe(xa - Sa,this.startOffset + 12 + Sa):this.Fe(Sa,this.startOffset + 12);return !0;};D.Oa=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.uc();this.u.Gl();1 === this.version && this.u.wa();this.hg=this.u.wa();this.Gu=[];for(var Sa=0;Sa < this.hg;++Sa){for(var xa=this.u.wa(),Ia=this.u.wa(),Ma=0;Ma < xa;++Ma){this.Gu.push(Ia);}}return !0;};D.prototype.oa=function(Sa,xa){this.Gu=xa?this.Gu.slice(0,Sa):this.Gu.slice(Sa);Sa=this.Gu.reduce(function(Ia,Ma){0 !== Ia.length && Ia[Ia.length - 1].group === Ma || Ia.push({group:Ma,count:0});++Ia[Ia.length - 1].count;return Ia;},[]);this.la.offset=this.startOffset + 16 + (1 === this.version?4:0);this.la.Tg(Sa.length);Sa.forEach((function(Ia){this.la.Tg(Ia.count);this.la.Tg(Ia.group);}).bind(this));this.hg > Sa.length && this.Fe(8 * (this.hg - Sa.length));this.hg=Sa.length;return !0;};E.Oa=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ua:{moov:f,trak:c,mdia:c,mdhd:l,minf:c,encv:X,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:t,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:w,mdat:E,vmaf:d},Nwa:{vpcC:u,SmDm:v("smdm"),CoLL:v("coll")},eZ:{schm:ia},eI:{}};F([Pa,N,M,Q,Ea,Va,H,I,mb,Za,P,T,L,R,a],X.Ua);F([da,wa,sa,O,S,ka,pa,ua,bb,Ya],X.eI);F([Pa,ia],X.eZ);X.Ua[b.jR]=h;X.Ua[b.yx]=k;X.Ua[b.xx]=n;X.Ua[b.iR]=A;X.eI[b.IE]=Xa;X.yc=K;r.exports={uq:X};},function(r,b){function a(c,f){var l,m,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){l=Math;m=l.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=m.call(l,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,l){"object" === typeof f?(this.pc=f.Zb,this.mb=f.U):(this.pc=f,this.mb=l);}c.tb=function(f){return new c(f,1E3);};c.YY=function(f,l){return Math.floor(1E3 * f / l);};c.i8=function(f,l){return Math.floor(f * l / 1E3);};c.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.greaterThan(d)?m:d;});};c.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(m,d){return m.lessThan(d)?m:d;});};Object.defineProperties(c.prototype,{Zb:{get:function(){return this.pc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.mb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{T:{get:function(){return 1E3 * this.pc / this.mb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jh:{get:function(){return this.pc / this.mb;},enumerable:!0,configurable:!0}});c.prototype.Vf=function(f){f/=this.U;return new c(Math.floor(this.Zb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var l;if(this.U === f.U)return new c(this.Zb + f.Zb,this.U);l=a(this.U,f.U);return this.Vf(l).add(f.Vf(l));};c.prototype.Ca=function(f){return this.add(new c(-f.Zb,f.U));};c.prototype.sD=function(f){return new c(this.Zb * f,this.U);};c.prototype.wl=function(f){var l;if(this.U === f.U)return this.Zb / f.Zb;l=a(this.U,f.U);return this.Vf(l).wl(f.Vf(l));};c.prototype.J5=function(f){return a(this.U,f);};c.prototype.Vta=function(){return new c(this.U,this.Zb);};c.prototype.compare=function(f,l){var m;if(this.U === l.U)return f(this.Zb,l.Zb);m=a(this.U,l.U);return f(this.Vf(m).Zb,l.Vf(m).Zb);};c.prototype.equal=function(f){return this.compare(function(l,m){return l === m;},f);};c.prototype.x8=function(f){return this.compare(function(l,m){return l !== m;},f);};c.prototype.lessThan=function(f){return this.compare(function(l,m){return l < m;},f);};c.prototype.greaterThan=function(f){return this.compare(function(l,m){return l > m;},f);};c.prototype.iw=function(f){return this.compare(function(l,m){return l <= m;},f);};c.prototype.zo=function(f){return this.compare(function(l,m){return l >= m;},f);};c.prototype.toJSON=function(){return {ticks:this.Zb,timescale:this.U};};c.prototype.toString=function(){return this.Zb + "/" + this.U;};c.bb=new c(0,1);c.yw=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.offset+=6;this.u.Qc();return !0;};return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(23);r.__exportStar(a(151),b);r.__exportStar(a(265),b);r.__exportStar(a(266),b);r.__exportStar(a(267),b);r=a(266);c=a(267);a=a(265);b.Sp={3:a.nQ,4:r.hQ,5:c.Lba};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.Qc();m=this.u.lb();this.ewa=! !(m & 128);this.Cea=! !(m & 64);this.eda=! !(m & 32);this.ewa && this.u.Qc();this.Cea && this.u.rA(this.u.lb());this.eda && this.u.Qc();this.HS();return !0;};l.tag=3;return l;})(a(151).oE);b.nQ=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Vra=this.u.lb();this.u.lb();this.u.Qc();this.u.lb();this.maxBitrate=this.u.wa();this.mia=this.u.wa();this.HS();return !0;};l.tag=4;return l;})(a(151).oE);b.hQ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(151);f=a(264);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.KX=function(){15 !== this.u.tc(4) || this.u.tc(24);};m.prototype.parse=function(d){if(this.Woa(d) && 64 === d.Vra)switch((this.Um=this.IX(),this.KX(),this.u.tc(4),this.yla=5 === this.Um || 29 === this.Um?5:-1,0 < this.yla && (this.KX(),this.Um=this.IX(),22 === this.Um && this.u.tc(4)),this.Um)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.XU=this.u.tc(1),(this.Gka=this.u.tc(1)) && this.u.tc(14),this.u.tc(1),this.dz=3 === this.Um?256:23 === this.Um?this.XU?480:512:this.XU?960:1024);}this.skip();return !0;};m.prototype.IX=function(){var d;d=this.u.tc(5);31 === d && (d=32 + this.u.tc(6));return d;};m.prototype.Woa=function(d){return d.tag === f.hQ.tag;};m.tag=5;return m;})(r.oE);b.Lba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(l,m){return l + m.byteLength;},0);f=new Uint8Array(c);a.reduce(function(l,m){f.set(new Uint8Array(m),l);return l + m.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(428);f=a(261);l=a(429);r=(function(){function m(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var g;g=new l.iQ(this.view.byteLength);this.mc=new c.lE(f.uq.Ua,g,this.view,this.console,{GH:!0});d=this.mc.parse(d);this.Ua=this.mc.Ua;return d;};return m;})();b.ar=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xc=void 0;r=b.Xc || (b.Xc={});r.Erb="bitraterestriction";r.gRa="cdnsel";r.xL="chgstrm";r.debug="debug";r.jzb="dlreport";r.uG="endplay";r.Toa="intrplay";r.nD="midplay";r.e9="playbackaborted";r.f6a="renderstrmswitch";r.qO="repos";r.zO="resumeplay";r.HVb="serversel";r.TD="startplay";r.K8a="statechanged";r.transition="transition";r.uqb="asereport";r.dQa="audioswitch";r.yQa="blockedautoplay";r.config="config";r.Qka="dlreq";r.E8b="ftlProbeError";r.jYb="subtitleerror";r.kYb="subtitleqoe";r.cZb="timedtextrebuffer";r.O9a="timedtextswitch";r.z8a="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JDa="IsTypeSupportedProviderFactorySymbol";b.BHa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q,v){var u;u=l.Nn.call(this,k,n,p,v) || this;u.cast=q;u.type=m.Ti.xba;k=c.gjb;u.zZ[m.pe.RJ]=d.Ed.sQ + "; " + k;u.zZ[m.pe.px]=d.Ed.px + "; " + k;k=d.Ed.Pcb.find(function(t){return u.yy(h(c.rP,t));});u.zZ[m.pe.Hs]=k;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Bza=b.ZZ=b.yba=void 0;f=a(44);l=a(179);m=a(25);r=a(111);d=a(110);g=a(180);h=new r.xB().format;la(c,l.Nn);c.Uja=function(k,n){return (n=c.H6a(n))?{isTypeSupported:n}:k;};c.H6a=function(k){var n;if("undefined" !== typeof k){if(k.framework && k.framework.CastReceiverContext && k.framework.CastReceiverContext.getInstance){n=k.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(k.framework && k.framework.platform && k.framework.platform.canDisplayType)return k.framework.platform.canDisplayType;if(k.receiver && k.receiver.platform && k.receiver.platform.canDisplayType)return k.receiver.platform.canDisplayType;if(k.__platform__ && k.__platform__.canDisplayType)return k.__platform__.canDisplayType;}};c.prototype.Qw=function(k){var n,p;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().dab){p={};if(n)return (p[m.Bj.zE]="1.4",p[m.Bj.av]="2.2",n().then(function(q){return q === p[k];}));n=this.i1a(k);n=h(c.rP,d.Ed.sQ) + " hdcp=" + n;n=this.yy.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.rM=function(k){return this.zZ[k];};c.prototype.DM=function(){var k;k=this;return this.config().dab?this.Qw(m.Bj.av).then(function(n){return n?Promise.resolve(m.Bj.av):k.Qw(m.Bj.zE).then(function(p){return p?Promise.resolve(m.Bj.zE):Promise.resolve(void 0);});}).then(function(n){return k.VT(n);}):Promise.resolve(void 0);};c.prototype.Pp=function(){var k,n;k=l.Nn.prototype.Pp.call(this);n=c.qHb;k[f.P.cca]=["avc1.4D4028","width=1920; height=1080; "];k[f.P.EQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.P.GQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.P.FQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "];k[f.P.HQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "];k[f.P.kCa]=["hev1.2.6.L90.B0",n];k[f.P.lCa]=["hev1.2.6.L93.B0",n];k[f.P.mCa]=["hev1.2.6.L120.B0",n];k[f.P.nCa]=["hev1.2.6.L123.B0",n];k[f.P.oCa]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.P.pCa]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.P.tQ]=["hev1.2.6.L90.B0",n];k[f.P.vQ]=["hev1.2.6.L93.B0",n];k[f.P.uJ]=["hev1.2.6.L120.B0",n];k[f.P.yQ]=["hev1.2.6.L123.B0",n];k[f.P.AQ]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.P.CQ]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];k[f.P.uQ]=["hev1.2.6.L90.B0",n];k[f.P.wQ]=["hev1.2.6.L93.B0",n];k[f.P.xQ]=["hev1.2.6.L120.B0",n];k[f.P.zQ]=["hev1.2.6.L123.B0",n];k[f.P.BQ]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];k[f.P.DQ]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return k;};c.prototype.EWa=function(){return [g.Te.JZ,g.Te.wCa,g.Te.sJ,g.Te.rE];};c.prototype.Qoa=function(){l.Nn.prototype.Qoa.call(this);!c.H6a(this.cast) && this.Cn.push(g.Te.px);};b.yba=c;c.qHb="eotf=smpte2084";c.gjb="width=3840; height=2160; ";b.ZZ="CastSDKSymbol";b.Bza="CastEmeSymbol";},function(r,b,a){var f,l,m;function c(){this.type=f.Uu.wx;}Object.defineProperty(b,"__esModule",{value:!0});b.nB=void 0;f=a(25);r=a(111);l=a(109);m=new r.xB();c.Uja=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?nb.MSMediaKeys.isTypeSupported(l.Fb.Bx,d):"probably" === c.swa(g[0],g[1]);}catch(h){return !1;}}};};c.D3=function(d,g,h){g=m.format(c.rP,g);if(0 === h.length)return g;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,g,h);};c.swa=function(d,g){var h;try{h=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(k){h="exception";}return h;};b.nB=c;c.rP='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yba=b.gB=void 0;r=b.gB || (b.gB={});r.ljb="unknown";r.Uxa="absent";r.HIa="present";r.Error="error";b.Yba="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N0="TransportConfigSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w;function c(x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q){this.j=x;this.trackId=y;this.Bz=z;this.Zd=A;this.Mr=B;this.fd=D;this.Rv=E;this.Rka=F;this.$i=C;this.displayName=G;this.cl=J;this.zI=K;this.variant=H;this.TH=L;this.profile=R;this.fu=I;this.HN=P;this.vCb=N;this.R6=M;this.St=Q;this.type=d.ri.Q$;this.Cs=void 0;this.pn=!(!R || R != h.Km.FJ);this.kg={bcp47:C,trackId:y,downloadableId:D,isImageBased:this.pn};this.log=g.zh(x,"TimedTextTrack");this.state=w.c0;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.XE=void 0;f=a(1);l=a(73);m=a(14);d=a(90);g=a(8);h=a(44);k=a(22);n=a(19);p=a(1047);q=a(15);v=a(3);u=a(1048);t=a(1051);(function(x){x[x.c0=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.yE=2]="LOADED";x[x.QQ=3]="LOAD_FAILED";})(w || (w={}));c.prototype.s6=function(){var x;x=this;if(this.j.state.value === q.Qb.CLOSED || this.j.state.value === q.Qb.CLOSING)return Promise.reject({$:!1});if(this.pn)return this.FIb();this.VTa || (this.VTa=this.XTa());return this.VTa.then(function(y){return x.GIb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Qr=function(){return this.HN;};c.prototype.oq=function(){return this.vCb;};c.prototype.Ir=function(x,y){var z;try{return null === (z=this.nwa) || void 0 === z?void 0:z.Ir(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.pn});}};c.prototype.dGb=function(){var x,y,z;if(!n.Pc(this.Y))try{z=null === (y=null === (x=this.nwa) || void 0 === x?void 0:x.CG(0)) || void 0 === y?void 0:y[0];this.Y=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.Y;};c.prototype.n$=function(x){return this.j.state.value === q.Qb.CLOSING || this.j.state.value === q.Qb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.ic.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.LSa=function(x){var y,z,A;y=this;z=g.zh(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=p.MSa(this.j,z,this.request,this);A=new (m.config.b0b && !this.pn?u.aEa:t.default)(z,x);A.on("ready",function(){y.nwa=A;});return A;};c.prototype.FIb=function(){var x,y,z,A,B,D,E;x=this;if(!this.XZa){this.state=w.LOADING;y={profile:"nflx-cmisc",url:"",mQa:!1,hra:this.fu.offset,a2a:this.fu.length,Cd:this.j.mediaTime.value || 0,bufferSize:m.config.fIb,X9:{Aa:this.j.bV()}};z=(this.Rka || []).filter(function(F){return (F.id in x.Rv);}).sort(function(F,C){return F.Zd - C.Zd;}).map(function(F){return F.id;});A=0;B={};D=!0;E=function(F,C){var G;if(n.Pc(F)){if(D || x.n$(x.Mt(x.zt,"","image"))){D=!1;x.fu.url=x.Rv[x.zt];y.url=x.fu.url;B[F]=(B[F] || 0) + 1;G=x.LSa(y);G.on("ready",function(){C({$:!0,track:x});});G.on("error",function(J){var K;J=Object.assign({$:!1},J);K=x.Mt(x.zt,x.fu.url,"image");K.details={midxoffset:x.fu.offset,midxsize:x.fu.length};K.errorstring=J.errorString;B[F] <= m.config.N9a?(x.J4(K,!0,"retry with current cdn"),x.nia(B[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Mt(x.zt,"","image"));E(x.zt,C);})):(x.zt=z[A++],x.zt?(x.J4(K,!0,"retry with next cdn"),x.nia(B[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Mt(x.zt,"","image"));E(x.zt,C);})):(x.J4(K,!1,"all cdns tried"),C({$:!1,HNb:"all cdns failed for image subs",track:x})));});G.start();}else C({$:!1,aborted:!0});}else (C({$:!1,HNb:"cdnId is not defined for image subs downloadUrl"}),x.J4(x.Mt(0,"","image"),!1,"cdnId is undefined"));};this.zt=z[A++];this.XZa=new Promise(function(F,C){E(x.zt,function(G){G.$?(x.log.info("Loaded image subtitle manager"),x.state=w.yE,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=w.QQ,C(G));});});}return this.XZa;};c.prototype.GIb=function(x){var y,z;y=this;z=this.j.UA;k.rb(z);return new Promise(function(A,B){var D;D=y.LSa({profile:y.profile,xml:x,fm:m.config.Ewa,preferences:m.config.P$,Cd:y.j.mediaTime.value || 0,mQa:!1,videoSize:z});D.on("ready",function(){A(D);}).on("error",function(E){B({$:!1,error:E});}).start();}).then(function(){y.state=w.yE;return {$:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",v.Ks(A),y.kg,{url:A.url});y.state=w.QQ;A.reason="parseerror";A.track=y;throw A;});};c.prototype.J4=function(x,y,z){x=Object.assign({},x,{kbc:y,status:z});this.j.fireEvent(q.ba.eP,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,Cs:this.Cs,responseType:l.DV,headers:{},kc:this.Dma(this.zt)};this.j.j6.download(x,function(A){z.log.trace("imgsub: request status " + A.$);A.$?y(null,new Uint8Array(A.content)):y({na:A.na,mf:A.mf});});};c.prototype.Mt=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.fd,subtitletype:z,bcp47:this.$i,trackId:this.trackId,cdnCount:Object.keys(this.Rv).length,isImageBased:this.pn};};c.prototype.Dma=function(x){return (this.Rka || []).find(function(y){return y.id === x;});};c.prototype.XTa=function(){var A,B;function x(D){return f.__awaiter(A,void 0,void 0,function F(){var C,G,J;G=this;return Ha(F,function(K){C=z();J=G.Mt(D.kc.id,D.url,"text");J.errorstring=D.reason;return C && G.n$(J)?K.return(G.nia(B[C.id]).then(y)):K.return(Promise.reject({$:!1,aborted:!0}));});});}function y(){return f.__awaiter(A,void 0,void 0,function E(){var F,C,G;C=this;return Ha(E,function(J){G=(F=z()) && C.Rv[F.id];return F && G?(B[F.id]=(B[F.id] || 0) + 1,J.return(C.szb(G,F).catch(x))):J.return(Promise.reject({}));});});}function z(){return (A.Rka || []).find(function(D){return ! !((B[D.id] || 0) < m.config.N9a && A.Rv[D.id]);});}A=this;this.state=w.LOADING;B={};return y();};c.prototype.nia=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.szb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({kc:y.id}),this.Mt(y.id,x,"text"));return new Promise(function(A,B){var D;D={responseType:l.toa,url:x,track:z,kc:y,tC:"tt-" + z.$i};z.j.j6.download(D,function(E){E.$?A(E.content):(E.reason="downloadfailed",E.url=D.url,E.track=z,E.kc=y,B(E));});});};b.XE=c;c.vB=w;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;c=a(8);f=a(3);l=a(464);m=a(465);d=a(61);b.Pxa=function(g,h){var k,n;try{n=l.Tab(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}d.Nf(function(){if(n && n.documentElement)try{k=m.Uab(n);}catch(p){c.log.error("xmlDoc2js exception",p);}d.Nf(function(){k?h({$:!0,object:k}):h({$:!1,na:f.L.QBa});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},sna:function(){return this.buffer.length - this.position;},sA:function(){return this.buffer[this.position++];},Eh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Dq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Lta:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},ih:function(){return this.Dq(2);},Eq:function(){return this.Dq(4);},iO:function(){return this.Dq(8);},Jw:function(a){for(var c,f="";a--;){c=this.sA();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},Ota:function(a){for(var c=0,f=0;f < a;f++){c+=this.sA() << (f << 3);}return c;},hO:function(){return this.Ota(4);},GZ:function(a){this.EP(a,2);},$A:function(a){this.EP(a,4);},Baa:function(a){this.buffer[this.position++]=a;},EP:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},ZA:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},FZ:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},DP:function(a,c){this.FZ(a.Eh(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uEa="LogMessageRulerConfigSymbol";b.wEa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yca="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d0="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vda="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,g,h,k,n,p;function c(q,v,u,t){this.xa=q;this.P5=v;this.za=u;this.profile=t;}function f(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=b.m0=void 0;r=a(1);d=a(0);g=a(37);h=a(4);k=a(13);n=a(17);a=a(94);m.prototype.encode=function(q){return {downloadableId:q.fd,duration:q.duration};};m.prototype.decode=function(q){return {fd:q.downloadableId,duration:q.duration};};l.prototype.encode=function(q){return {total:q.total,totalContentTime:q.JI,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};l.prototype.decode=function(q){var v;return {total:q.total,JI:null !== (v=q.totalContentTime) && void 0 !== v?v:q.total,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};f.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ca,movieId:q.J,position:q.position,clientTime:q.JT,sessionStartTime:q.nY,videoTrackId:q.yP,audioTrackId:q.Wm,timedTextTrackId:q.lP,mediaId:q.vN,playTimes:new l().encode(q.oX),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Ro,mdxControllerEsn:q.Sqa,profileId:q.profileId};};f.prototype.decode=function(q){return {type:q.type,href:q.href,ca:q.xid,J:q.movieId,position:q.position,JT:q.clientTime,nY:q.sessionStartTime,yP:q.videoTrackId,Wm:q.audioTrackId,lP:q.timedTextTrackId,vN:q.mediaId,oX:new l().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Ro:q.sessionParams,Sqa:q.mdxControllerEsn,profileId:q.profileId};};b.m0=f;c.prototype.create=function(q){var v,u,t;return {href:q.sa && q.sa.bk?q.sa.bk.jV("events").href:"",type:"online",ca:q.ca.toString(),J:q.J,position:Math.floor(q.ika || 0),JT:this.xa.lY.da(h.ka),nY:q.XG?q.XG.da(h.ka):-1,yP:null === (v=q.rg.value) || void 0 === v?void 0:v.trackId,Wm:null === (u=q.Uc.value) || void 0 === u?void 0:u.trackId,lP:null === (t=q.ic.value) || void 0 === t?void 0:t.trackId,vN:void 0,oX:this.xFb(q),trackId:void 0 !== q.wj?q.wj.toString():"",sessionId:this.P5().sessionId || this.za.id,appId:this.P5().appId || this.za.id,Ro:q.ab.Ro || ({}),profileId:this.profile};};c.prototype.Lwb=function(q,v){return Object.assign({},this.create(q),{Sqa:v && v.z3});};c.prototype.load=function(q){return new f().decode(q);};c.prototype.nna=function(q){return q.map(function(v){return {fd:v.downloadableId,duration:v.duration};});};c.prototype.xFb=function(q){return (q=q.Fl)?(q=q.wFb(),{total:q.total,JI:q.totalContentTime,audio:this.nna(q.audio),video:this.nna(q.video),text:this.nna(q.timedtext)}):{total:0,JI:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([d.R(),r.__param(0,d.l(g.Lh)),r.__param(1,d.l(k.Rc)),r.__param(2,d.l(n.cd)),r.__param(3,d.l(a.uR))],p);b.kHa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa="PboPlaydataValidatorSymbol";b.hHa="PboPlaydataArrayValidatorSymbol";b.jHa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Z=void 0;f=a(11);c.Sja=function(l){var m;if(f.Ue.queryCommandSupported && f.Ue.queryCommandSupported("copy")){m=f.Ue.createElement("textarea");m.textContent=l;m.style.position="fixed";f.Ue.body.appendChild(m);m.select();try{f.Ue.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.Ue.body.removeChild(m);}}};b.$Z=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hca=void 0;b.Hca=a;a.sdb="display";a.Icb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aW=void 0;b.aW=function(a,c,f){var l;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");l=f.get;f.get=function(){var m,d;m=l.apply(this,arguments);d={enumerable:f.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tda=b.LJ=void 0;r=b.LJ || (b.LJ={});r.JYb="taskstart";r.HYb="taskabort";r.IYb="taskfail";r.KYb="tasksuccess";b.Tda="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vba="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qya="AsePrefetcherAdapterSymbol";b.rya="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fba=b.ce=void 0;r=b.ce || (b.ce={});r[r.Uo=0]="startPlayback";r[r.Wp=1]="endPlayback";r[r.Ln=2]="underflow";b.fba="AseIntegrationFactorySymbol";},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.xI=void 0;c=a(12);f=a(14);l=a(60);m=a(52);d=a(3);g=a(22);h=a(8);k=a(24);n=a(11);p=a(293);q=a(19);r=a(33);h.ja.get(r.oh).register(d.M.jDa,function(v){var w,x,y;function u(){var z;u=c.jl;z=setInterval(t,f.config.tLb);l.df.addListener(l.zl,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):(k.re(x,function(B,D){localStorage.removeItem(D.Sr);}),clearInterval(z));},c.OE);}function t(){var z;z=m.r3();k.re(x,function(A,B){!1;A=localStorage.getItem(B.Sr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.Sr,JSON.stringify(A));});}g.rb(p.storage);w=h.Di("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.xI={gy:function(z,A,B){var E,F,C,G,J,K,H,L,R,I;function D(P){localStorage.setItem(C,JSON.stringify(P));P={Sr:C};x[C]=P;w.trace("Lock acquired",{Name:P.Sr});u();A({$:!0,u7:P});}E=this;B=void 0 === B?!1:B;if(localStorage){F=m.r3();C="lock-" + z;G={updated:F,sessionId:y,count:1};try{if((C in localStorage)){J=localStorage.getItem(C);K=0;H=JSON.parse(J);q.Fz(H.updated) && (K=H.updated);L=n.DE(F - K) * c.il;R=y === H.sessionId;if(L < f.config.F0a){if(R)(H.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:y,count:H.count}),H.updated=F,D(H));else if(B){I=f.config.F0a - L + c.il;w.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:H.count,Epoch:F,LockEpoch:K,waitTimeoutMs:I});nb.setTimeout(function(){return E.gy(z,A,!1);},I);}else A({$:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),D(G));}else D(G);}catch(P){w.error("Error acquiring Lock",{errorSubCode:d.L.Aj,errorDetails:k.Jd(P)});A({$:!0});}}else (n.Zpa?w.error("Local storage access exception",{errorSubCode:d.L.Mib,errorDetails:k.Jd(n.Zpa)}):w.error("No localstorage",{errorSubCode:d.L.Nib}),A({$:!0}));},release:function(z,A){var B,D;g.rb(x[z.Sr] == z);if(localStorage){try{B=localStorage.getItem(z.Sr);D=JSON.parse(B);1 < D.count?(--D.count,localStorage.setItem(z.Sr,JSON.stringify(D)),w.trace("Lock count decremented",{Name:z.Sr,count:D.count})):(localStorage.removeItem(z.Sr),delete x[z.Sr],w.trace("Lock released",{Name:z.Sr}));}catch(E){w.error("Unable to release Lock",{Name:z.Sr},E);}A && A(c.Ve);}}};f.config.o4?b.xI.gy("session",function(z){b.xI.t7a=z;v(c.Ve);}):v(c.Ve);});},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(14);f=a(12);l=a(517);r=a(3);m=a(518);d=a(520);g=a(8);a=a(33);b.storage=b.storage || void 0;g.ja.get(a.oh).register(r.M.iDa,function(h){var k;switch(c.config.MXb){case "idb":k=m.N8a;break;case "none":k=l.P8a;break;case "ls":k=d.O8a;}k(function(n){n.$?(b.storage=n.storage,h(f.Ve)):h(n);});});},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u,t;function c(w,x){var z;function y(){function A(B,D){return D.se && 0 !== D.se.length && D.se[0].hH?l.uA(w,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.TX(D):Promise.resolve();}).catch(function(E){z.error("Unable to send stop command for session",JSON.stringify({Yb:D,error:E}));throw E;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.TX(D):Promise.resolve());}f(z).then(function(B){var D;D=B.g4.filter(function(E){return !1 === E.active;}).map(function(E){return A(B,E);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");x(m.Ve);}).catch(function(E){E=E || ({});E.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",E);x(m.Ve);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(m.Ve);});}z=k.Di("PlayDataManager");x=x || m.jl;d.config.Zo?x(m.Ve):y();}function f(w){var x;if(!b.Vka){x=k.ja.get(n.wba);b.Vka=new Promise(function(y,z){x.z5a().then(function(){y(x);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.Vka;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=b.CHa=b.Vka=void 0;l=a(295);m=a(12);d=a(14);g=a(60);h=a(34);k=a(8);r=a(3);n=a(202);p=a(152);q=a(15);v=a(49);u=a(33);t=a(198);b.CHa=function(w){var z,A,B,D,E,F;function x(){A || (w.Bd("pdsb"),A=k.ja.get(p.nR)().then(function(C){D=C;w.Bd("pdsc");return C;}).catch(function(C){z.error("Unable to initialize the playdata services",C);w.Bd("pdse");throw C;}));return A;}function y(){B=!0;D && D.close();g.df.removeListener(g.zl,y);}z=k.zh(w,"PlayDataManager");B=!1;E=k.ja.get(h.rB);if(!E.pJ || !E.nJ){F=k.ja.get(t.Dda)();E.pJ=F.Yb;E.nJ=F.request;}w.Bd("pdctor");w.addEventListener(q.ba.fg,function(){g.df.removeListener(g.zl,y);});w.addEventListener(q.ba.nN,function(){var C;if(!d.config.Zo && w.lf){C=w.ST.wSa();f(z).then(function(G){return G.NOa(C);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.ba.fg,function(){var C;if(!B){w.S0b();C=[(function(){return d.config.Zo || !w.lf?Promise.resolve():new Promise(function(G){var J;z.info("Sending the expedited playdata");J=w.ST.wSa();w.lf.XUa(J).then(function(){z.info("Sent the expedited playdata");return f(z);}).then(function(K){return K?K.TX(J):Promise.resolve();}).then(function(){G(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);G();});});})(),(function(){return x().then(function(G){return G.GY(w.ia);}).then(function(){z.info("Sent the playdata");}).catch(function(G){z.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){k.ja.get(v.Fm).flush(!1).catch(function(){z.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(C).then(function(){w.z8();}).catch(function(){w.z8();});}});g.df.addListener(g.zl,y);return {zVb:function(C){w.Bd("pdpb");d.config.d$ || x().then(function(G){return G.send(w.J);}).then(function(){d.config.Zo?(w.Bd("pdpc"),C(m.Ve)):c(w,function(){w.Bd("pdpc");C(m.Ve);});}).catch(function(){w.Bd("pdpe");C(m.Ve);});}};};b.DHa=function(){return new Promise(function(w){c({},function(x){w(x);});});};k.ja.get(u.oh).register(r.M.jB,function(w){w(m.Ve);});},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z;function c(A){var B;B=this;this.j=A;this.jQa=this.s0a=!1;this.log=g.zh(this.j,"Playback");this.mN=g.ja.get(v.RQ);this.Ch=g.ja.get(w.Ns);this.wQb=g.ja.get(x.tda);this.dk=g.ja.get(z.mB);this.j.addEventListener(t.ba.nN,function(){return B.Q_b();});h.rb(m.config);m.config.Zo || (this.Dzb=g.ja.get(k.RAa));}function f(A,B){var E;function D(F){return F && 0 < F.length && F[0].hH;}E=g.ja.get(v.RQ);return A.ca && D(A.se)?E.release({ca:A.ca,se:A.se}).then(function(){}):B.ca && D(B.se)?E.release(B).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.uA=b.Xza=void 0;l=a(12);m=a(14);d=a(52);g=a(8);h=a(22);k=a(314);n=a(3);p=a(62);q=a(19);v=a(186);u=a(494);t=a(15);w=a(66);x=a(296);y=a(34);z=a(104);c.prototype.sT=function(A){var B;B=this;h.ML(this.j.J);h.ML(this.j.wj);Promise.all([this.j.sa,m.config.Dw && this.dk.$na(this.j.J)?this.dk.d5(this.j.J).catch(function(){}):void 0]).then(function(D){var E,F;E=aa(D);D=E.next().value;E=E.next().value;D && E?F=E.Wc.expiration > D.Wc.expiration?E:D:D?F=D:E && (F=E);F && 18E5 > F.Wc.expiration - d.vja() && (F=void 0);return F?(B.j.TF=F === D?"ui":"videopreparer",F):B.j.c$();}).then(function(D){try{B.j.e5a(D);A(l.Ve);B.ZBb();}catch(E){B.log.error("Exception processing authorization response",E);A({$:!1,na:n.L.Whb});}}).catch(A);};c.prototype.HG=function(A){var B;B=this;return new Promise(function(D,E){var F,C,G;F=p.Pn.nSa(A.Qf);C=A.Uj.map(function(J){return {sessionId:J.sessionId,dataBase64:g.gC(J.data)};});G=B.j.zFb(A.Uj[0].sessionId);F={lj:G.lj,Qf:q.is.Sm(A.Qf)?A.Qf:F,f4:[G.gm],Uj:C,ca:G.ca,qo:A.qo,bk:G.sa.bk};B.j.CL && B.j.CL.z3 && (F.sW=B.j.CL.z3);B.mN.gy(F).then(function(J){B.j.se=J.se;D(J);B.$Bb(G);}).catch(E);});};c.prototype.release=function(A){return f(this.j,A);};c.prototype.wSa=function(){var A;A=this.Dzb.create();A.se=this.j.se;A.ca=this.j.ca;A.J=this.j.J;return A;};c.prototype.$Bb=function(A){this.s0a || (this.s0a=!0,this.j.fireEvent(t.ba.nN,{J:A.J}));};c.prototype.ZBb=function(){this.jQa || (this.jQa=!0,this.j.fireEvent(t.ba.brb),g.ja.get(u.mHa).Uo(this.j));};c.prototype.Q_b=function(){var A,B;A=this;B=g.ja.get(y.xk);this.Ch.jpa || c.Y$a || (c.Y$a=!0,B.zxa && m.config.P_b && m.config.VI && this.wQb.ig(this.log,{}).then(function(){return A.log.trace("Updated NetflixId");}).catch(function(D){return A.log.error("NetflixId upgrade failed",n.Ks(D));}));};b.Xza=c;c.Y$a=!1;b.uA=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tda="PboBindCommandSymbol";},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u,t;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function f(w,x,y,z,A){var B,D;B=this;this.j=w;this.type=x;this.NLa=z;this.log=A;this.E1=new g.ac(!1);this.gF={data:[],state:"",operation:""};this.mimeType=this.$Ua((this.type === l.Sb.Qa.Jb?this.j.rg.value:this.j.Uc.value).streams);this.Ts=new h.wk();this.ega={Type:this.type};if(d.config.fD){D=!0;this.Vla=new g.ac(!1);}this.log.trace("Adding source buffer",this.ega,{TypeId:this.mimeType});this.pd=y.addSourceBuffer(this.mimeType);this.pd.addEventListener("updatestart",function(){!1;B.gF.state="updatestart";});this.pd.addEventListener("update",function(){!1;B.gF.state="update";});this.pd.addEventListener("updateend",function(){var E;!1;B.E1.set(!1);B.ULa && B.ULa();B.gF.state="updateend";E=0;try{E=B.pd.buffered.length;}catch(F){}D && E && (D=!1,B.Vla.set(!0),!1);});this.pd.addEventListener("error",function(E){var F;!1;try{F=E.target.error && E.target.error.message;(E.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:E.message});}catch(C){}w.Vd(n.M.Qhb,m.n5(B.type));});this.pd.addEventListener("abort",function(){!1;});w.addEventListener(v.ba.closed,function(){B.pd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Tcb=b.Vca=void 0;l=a(47);m=a(183);d=a(14);g=a(80);h=a(72);k=a(8);a(98);n=a(3);a(4);p=a(22);q=a(19);v=a(15);u=a(154);t=a(190);f.prototype.yh=function(){return this.E1.value;};f.prototype.updating=function(){return this.pd?this.pd.updating:!1;};f.prototype.j$=function(w){this.ULa=w;};f.prototype.i5=function(){return this.gF;};f.prototype.buffered=function(){return this.pd.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.c5=function(){var w,x,y,z,A,B,D;try{w=this.pd.buffered;x=0;if(w){y=[];z=0;A=w.length;for(z=0;z < A;z++){B=w.start(z);D=w.end(z);x+=D - B;p.rb(D > B);y.push(B + "-" + D);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(E){}};f.prototype.CPa=function(w,x){!1;try{p.rb(this.pd.buffered && 1 >= this.pd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.c5()));}catch(y){}p.rb(!this.yh());this.a8a("append",w);x=x && x.zu / 1E3;q.Ba(x) && this.pd.timestampOffset !== x && (!1,this.pd.timestampOffset=x);this.pd.appendBuffer(w);!1;this.E1.set(!0);};f.prototype.remove=function(w,x){p.rb(!this.yh());try{this.a8a("remove");!1;this.pd.remove(w,x);this.E1.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.ega);}};f.prototype.a8a=function(w,x){this.gF.data=x || [];this.gF.state="init";this.gF.operation=w;};f.prototype.vWb=function(w,x){this.DKb=Math.floor(1E3 * w / x);};f.prototype.btb=function(w){var x;if(this.pd){if((w=this.$Ua([{type:this.Dub,Zg:w}]),w !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.pd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.pd.changeType(w);this.mimeType=w;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.ega,{From:x,To:w}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(w,x){!x || x.Vc?this.Lha(w,x):this.I2(w,x);return !0;};f.prototype.Lha=function(w,x){this.j.Tf.Lha(this,w,x || ({}));};f.prototype.I2=function(w,x){w=this.xub(w,x);!1;this.j.Tf.I2(w);};f.prototype.xub=function(w,x){var y;y=this.DKb || 0;return {uRa:function(){this.response=void 0;},ci:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.oc.Kc.DONE,pA:x.Y,Gw:x.Y + x.duration,Ty:x.duration,zu:y,Vj:x.Vj,ya:x.ya,Pa:x.Pa,Ld:+x.Ld,location:x.location,rL:x.offset,qL:x.offset + x.fa - 1,bitrate:x.bitrate,response:w,PYa:w && 0 < w.byteLength,ZC:!0,get Vc() {return !this.ZC;},d7a:this.Jj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.ya,isHeader:this.Vc,ptsStart:this.pA,ptsOffset:this.zu,responseType:this.X6b,duration:this.Ty,readystate:this.sh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};f.prototype.endOfStream=function(){var w;this.j.LF("EndOfStream");null === (w=this.j.Tf) || void 0 === w?void 0:w.A8(this.mediaType);};f.prototype.addEventListener=function(w,x,y){this.Ts.addListener(w,x,y);};f.prototype.removeEventListener=function(w,x){this.Ts.removeListener(w,x);};f.prototype.$Ua=function(w){var x;x=k.ja.get(u.zR);return this.type === l.Sb.Qa.Jb?x.F3(w):x.C3(w);};Wa.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},b3:{configurable:!0,enumerable:!0,get:function(){return this.NLa.b3;}},zY:{configurable:!0,enumerable:!0,get:function(){return this.NLa.zY;}},Dub:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Vca=f;la(c,Error);b.Tcb=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.RSa=b.vqa=void 0;c=a(22);f=a(24);l=a(19);(function(){var d,g,h;function m(k){c.rb(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;h=/[", ]/;b.RSa=function(k){return l.Pc(k)?l.Ba(k)?k:l.Oe(k)?k.replace(g,m):l.Voa(k)?k:isNaN(k)?"NaN":"":"";};b.vqa=function(k){var n,p;n=b.RSa;p="";f.re(k,function(q,v){q=n(q) + "=" + n(v);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dj=void 0;r=b.Dj || (b.Dj={});r[r.y8a=1]="sourceopen";r[r.Rp=2]="currentTimeChanged";r[r.iY=3]="seeked";r[r.r0a=5]="licenseadded";r[r.x8a=6]="sourceBuffersAdded";r[r.I8=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qda="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sda="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var f;function c(l,m){var d;d=this;this.jk=l;this.Dh=m;this.addEventListener=function(g,h,k){return d.Dh.addListener(g,d.gTa(g,h),k);};this.removeEventListener=function(g,h){return d.Dh.removeListener(g,d.gTa(g,h));};this.getReady=function(){return d.Dh.isReady();};this.getXid=function(){return d.wb().lz();};this.getMovieId=function(){return d.wb().GXa();};this.getPlaygraphId=function(){return d.Dh.BFb();};this.getElement=function(){return d.Dh.ln();};this.isPlaying=function(){return d.wb().pq();};this.isPaused=function(){return d.wb().RV();};this.isMuted=function(){return d.wb().gpa();};this.isReady=function(){return d.wb().isReady();};this.isBackground=function(){return d.wb().h_a();};this.setBackground=function(g){return d.wb().mva(g);};this.startInactivityMonitor=function(){return d.wb().$O();};this.setTransitionTime=function(g){return d.wb().Cva(g);};this.getDiagnostics=function(){return d.wb().HWa();};this.getTextTrackList=function(g){return d.wb().I5(g);};this.getMaxRecommendedTextIndex=function(g){return d.wb().ana(g);};this.getTextTrack=function(){return d.wb().Jna();};this.setTextTrack=function(g){return d.wb().yva(g);};this.getVolume=function(){return d.wb().CYa();};this.isEnded=function(){return d.wb().Zoa();};this.getBusy=function(){return d.wb().yh();};this.getError=function(){return d.wb().getError();};this.getCurrentTime=function(){return d.wb().cw();};this.getBufferedTime=function(){return d.wb().nWa();};this.getSegmentTime=function(){return d.wb().f5();};this.getDuration=function(){return d.wb().Hma();};this.getVideoSize=function(){return d.wb().BYa();};this.getAudioTrackList=function(){return d.wb().xma();};this.getMaxRecommendedAudioIndex=function(){return d.wb().xXa();};this.getAudioTrack=function(){return d.wb().eWa();};this.getTimedTextTrackList=function(g){return d.wb().I5(g);};this.getMaxRecommendedTimedTextIndex=function(g){return d.wb().ana(g);};this.getTimedTextTrack=function(){return d.wb().Jna();};this.shouldUseProjectSalsaUI=function(){return d.wb().i8a();};this.getAdditionalLogInfo=function(){return d.wb().bWa();};this.getTrickPlayFrame=function(g){return d.wb().yYa(g);};this.getSessionSummary=function(){return d.wb().Ana();};this.getTimedTextSettings=function(){return d.wb().sV();};this.setMuted=function(g){return d.wb().K7a(g);};this.setVolume=function(g){return d.wb().W7a(g);};this.getPlaybackRate=function(){return d.wb().wo();};this.setPlaybackRate=function(g){return d.wb().L7a(g);};this.setAudioTrack=function(g){return d.wb().w7a(g);};this.setTimedTextTrack=function(g){return d.wb().yva(g);};this.setTimedTextSettings=function(g){return d.wb().PO(g);};this.prepare=function(){return d.wb().NH();};this.load=function(){return d.wb().load();};this.close=function(g){return d.EPa(d.Dh.close(),g);};this.play=function(){return d.wb().play();};this.pause=function(){return d.wb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,h){return d.EPa(d.wb().aM(g),h);};this.induceError=function(g){return d.wb().MZa(g);};this.loadCustomTimedTextTrack=function(g,h,k,n){return d.wb().x0a(g,h,k,n);};this.tryRecoverFromStall=function(){return d.wb().qP();};this.getCropAspectRatio=function(){return d.wb().g5();};this.getCropAspectRatioXandY=function(){return d.wb().BWa();};this.generateScreenshots=function(g){return d.wb().YVa(g);};this.getCurrentSegmentId=function(){return d.Dh.DWa();};this.getPlaygraphMap=function(){return d.Dh.KG();};this.updatePlaygraphMap=function(g){return d.Dh.mZ(g);};this.vla=new Map();this.log=f.Di("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.P0=void 0;f=a(8);a(98);c.prototype.wb=function(){return this.Dh.wb();};c.prototype.gTa=function(l,m){var d;this.vla.has(l) || this.vla.set(l,new Map());d=this.vla.get(l);d.has(m) || d.set(m,this.dyb(l,m));return d.get(m);};c.prototype.dyb=function(l,m){var d;d=this;return function(g){return m(Object.assign({},g,{type:l,target:d}));};};c.prototype.EPa=function(l,m){return m?l.then(m,m):l;};b.P0=c;},function(r,b,a){b=a(394);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ea:Date.now;},function(r){r.exports={fx:{vea:0,mJa:1,kl:2,name:["transient","semiTransient","permanent"]},ax:{PBa:0,lJa:1,z0:2,kR:3,Ax:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},D6b:{s6b:0,f4b:1,j2b:2,Ax:100,name:["trailer","montage","content"]},bv:{RDa:0,SIa:1,kjb:2,Rdb:3,Ax:100,name:["left","right","up","down"]},PQ:{Ncb:0,z0:1,D3b:2,a3b:3,C1b:4,C3b:5,Fbb:6,Ax:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},xJ:{kR:0,gAa:1,Ax:100,name:["playFocused","detailsOpened"]}};},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}r.exports=b;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);r=(function(){function f(){}f.prototype.zWa=function(l){var m;m=Reflect.getMetadata(c.ida,l);l=Reflect.getMetadata(c.mKa,l);return {QRa:m,l0b:l || ({})};};f.prototype.EFb=function(l){return Reflect.getMetadata(c.nKa,l) || [];};return f;})();b.Xca=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.D_a=function(f){return f instanceof RangeError || f.message === c.Iib;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);l=a(65);m=a(93);r=(function(){function d(g){this.gkb=g;}d.prototype.j_b=function(){return this.gkb();};return d;})();b.Aca=r;b.l=function(d){return function(g,h,k){var n;if(void 0 === d)throw Error(c.ijb(g.name));n=new l.Metadata(f.NQ,d);"number" === typeof k?m.BI(g,h,k,n):m.RY(g,h,n);};};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(108);l=a(65);m=a(559);r=(function(){function d(g,h,k,n){this.id=f.id();this.type=g;this.Dg=k;this.name=new m.lib(h || "");this.Ac=[];g=null;"string" === typeof n?g=new l.Metadata(c.oB,n):n instanceof l.Metadata && (g=n);null !== g && this.Ac.push(g);}d.prototype.UYa=function(g){for(var h=0,k=this.Ac;h < k.length;h++){if(k[h].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.UYa(c.CE);};d.prototype.gMb=function(g){return this.Gqa(c.CE)(g);};d.prototype.hpa=function(){return this.UYa(c.oB);};d.prototype.upa=function(){return this.Ac.some(function(g){return g.key !== c.NQ && g.key !== c.CE && g.key !== c.Y_ && g.key !== c.ER && g.key !== c.oB;});};d.prototype.w_a=function(){return this.Gqa(c.fGa)(!0);};d.prototype.cFb=function(){return this.hpa()?this.Ac.filter(function(g){return g.key === c.oB;})[0]:null;};d.prototype.PDb=function(){return this.upa()?this.Ac.filter(function(g){return g.key !== c.NQ && g.key !== c.CE && g.key !== c.Y_ && g.key !== c.ER && g.key !== c.oB;}):null;};d.prototype.Gqa=function(g){var h;h=this;return function(k){var q;for(var n=0,p=h.Ac;n < p.length;n++){q=p[n];if(q.key === g && q.value === k)return !0;}return !1;};};return d;})();b.J0=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(195);f=a(196);r=(function(){function l(m){this.zc=m;this.NR=new f.qba(this.zc);this.Wea=new c.UZ(this.zc);}l.prototype.when=function(m){return this.NR.when(m);};l.prototype.CZ=function(){return this.NR.CZ();};l.prototype.ww=function(m){return this.Wea.ww(m);};return l;})();b.jE=r;},function(r,b,a){var l;function c(m){return function(d){function g(h){return null !== h && null !== h.target && h.target.Gqa(m)(d);}g.W1a=new l.Metadata(m,d);return g;};}function f(m,d){m=m.gA;return null !== m?d(m)?!0:f(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(43);l=a(65);b.i$a=f;b.q9a=c;a=c(r.oB);b.A2a=a;b.p$a=function(m){return function(d){var g;if(null !== d){g=d.xT[0];return "string" === typeof m?g.Dg === m:m === d.xT[0].jm;}return !1;};};},function(r,b,a){var l;function c(m,d){this.qg=d;this.Pz=Math.floor(m);this.display=this.Pz + " " + this.qg.name;}function f(m,d,g){this.qg=m;this.name=d;this.rl=g?g:this;l.Go(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Ls=b.FR=void 0;l=a(56);f.prototype.HU=function(m){return this.qg == m.qg;};f.prototype.toJSON=function(){return this.name;};b.FR=f;c.prototype.da=function(m){return this.qg.HU(m)?this.Pz:Math.floor(this.Pz * this.qg.qg / m.qg);};c.prototype.P4a=function(m){return this.qg.HU(m)?this.Pz:this.Pz * this.qg.qg / m.qg;};c.prototype.as=function(m){return new c(this.da(m),m);};c.prototype.to=function(m){return new c(this.da(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Pz,units:this.qg.name};};c.prototype.add=function(m){return this.MRa(m);};c.prototype.Ca=function(m){return this.MRa(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.da(this.qg.rl) * m,this.qg.rl);};c.prototype.ul=function(m){return this.da(this.qg.rl) - m.da(this.qg.rl);};c.prototype.HU=function(m){return 0 == this.ul(m);};c.prototype.P_a=function(){return 0 == this.Pz;};c.prototype.ipa=function(){return 0 > this.Pz;};c.prototype.DJb=function(){return 0 < this.Pz;};c.prototype.MRa=function(m,d){d=void 0 === d?function(g){return g;}:d;return new c(this.da(this.qg.rl) + d(m.da(this.qg.rl)),this.qg.rl);};b.Ls=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RAa="DrmDataFactorySymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k){this.version=m;this.UN=d;this.S8a=g;this.Hn=h;this.Rw=k;this.Kv=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rca=void 0;f=a(3);l=a(41);c.prototype.load=function(m){return this.gLb(m);};c.prototype.add=function(m){this.Kv.push(m);return this.Hsa();};c.prototype.remove=function(m,d){m=this.qWa(this.qM(m,d));return 0 <= m?(this.Kv.splice(m,1),this.Hsa()):Promise.resolve();};c.prototype.update=function(m,d){d=this.qWa(this.qM(m,d));return 0 <= d?(this.Kv[d]=m,this.Hsa()):Promise.resolve();};c.prototype.gLb=function(m){var d;d=this;this.y0a || (this.y0a=new Promise(function(g,h){function k(n){d.uyb().then(function(){h(n);}).catch(function(){h(n);});}d.Cna().then(function(n){d.storage=n;return d.storage.load(d.UN);}).then(function(n){var p;n=n.value;try{p=m(n);d.version=p.version;d.Kv=p.data;g();}catch(q){k(q);}}).catch(function(n){n.na !== f.L.wB?h(n):g();});}));return this.y0a;};c.prototype.Hsa=function(){var m,d,g,h,k;m=this;if(!this.S8a)return Promise.resolve();if(this.z$){h=new Promise(function(n,p){d=n;g=p;});k=function(){m.z$=h;m.Q8a().then(function(){d();}).catch(function(n){g(n);});};this.z$.then(k).catch(k);return h;}return this.z$=this.Q8a();};c.prototype.Q8a=function(){var m,d;m=this;d=this.Rw();return new Promise(function(g,h){m.Cna().then(function(k){return k.save(m.UN,d,!1);}).then(function(){g();}).catch(function(k){h(c.jZb(f.M.Ahb,k));});});};c.prototype.uyb=function(){var m;m=this;return this.S8a?new Promise(function(d,g){m.Cna().then(function(h){return h.remove(m.UN);}).then(function(){d();}).catch(function(h){g(h);});}):Promise.resolve();};c.prototype.Cna=function(){return this.storage?Promise.resolve(this.storage):this.Hn.create();};c.prototype.qM=function(m,d){for(var g=0;g < this.Kv.length;++g){if(d(this.Kv[g],m))return this.Kv[g];}};c.prototype.qWa=function(m){return m?this.Kv.indexOf(m):-1;};c.jZb=function(m,d){var g;if(d.na && d.cause)return new l.md(m,d.na,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.xc){g=d.message?d.message + " ":"";d.code=m;d.message="" === g?void 0:g;return d;}return d instanceof Error?new l.md(m,f.L.Aj,void 0,void 0,void 0,void 0,d.stack,d):new l.md(m,f.L.Nl,void 0,void 0,void 0,void 0,void 0,d);};b.rca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xda="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UFa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TAa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vBa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sBa=b.$E=void 0;r=b.$E || (b.$E={});r[r.Request=0]="Request";r[r.XIa=1]="Renewal";b.sBa="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.E0=void 0;a.uIb=function(c){return "ID" + (c + 1);};a.Z8a=function(c){return Number(c.substr(2)) - 1;};b.E0=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,H,L,R){var I;I=this;this.za=C;this.qy=G;this.config=J;this.th=K;this.Ll=H;this.qo=L;this.Mo=R;this.keyStatuses=new z.ac({});this.isa=function(P){var N,M,Q,T,da,pa;try{M=I.Ll.Rja(P);Q=M.nH;T=M.messageType;da=M.sessionId;I.fw=I.fw || M.fw;I.oY(da);I.log.trace("Received " + P.type + " event",{sessionId:da,messageType:T,keyIds:I.fw});T === b.Mca && (I.log.trace("Received a renewal request"),I.Qf=n.Oh.kp,I.Rk=D.XH);I.Rk === D.zg && I.Gp(p.Is.L5a);I.Rk === D.XH && I.Gp(p.Is.M5a);pa={Uj:Q,iRa:T,Qf:I.Qf};null === (N=I.ePb) || void 0 === N?void 0:N.call(I,pa);I.eW && (I.doa(Q)?I.dD(new y.md(m.M.hBa)):(I.eW.resolve(pa),I.eW=void 0));}catch(wa){I.dD(wa);}};this.gsa=function(P){var N,M,Q,T,da,ua,X,sa,O,S,ka,ia,Va,Ya,bb,Xa,mb,Za;Q=P.target;T=Q.keyStatuses;I.oY(Q.sessionId);I.log.trace("Received event: " + P.type);try{da=null === (M=null === (N=I.context) || void 0 === N?void 0:N.vu) || void 0 === M?void 0:M.reduce(function(Sa,xa){Sa[xa.dj]=xa.bI.height;return Sa;},{});P=[];for(var pa=aa(T),wa=pa.next();!wa.done;wa=pa.next()){ua=aa(wa.value);X=ua.next().value;sa=ua.next().value;O=I.qy.encode(new Uint8Array(X));P.push({dj:O,status:sa,height:null === da || void 0 === da?void 0:da[O]});}P.sort(function(Sa,xa){return (Sa.height || 0) - (xa.height || 0);});S=P.map(function(Sa){return Sa.dj;});ka=P.map(function(Sa){return Sa.height;});ia=P.map(function(Sa){return Sa.status;});I.log.trace("KeyStatus: " + S + ", " + ka + ", " + ia);da={};for(var Pa=aa(T),Ea=Pa.next();!Ea.done;Ea=Pa.next()){Va=aa(Ea.value);Ya=Va.next().value;bb=Va.next().value;Xa=I.qy.encode(new Uint8Array(Ya));mb=E[bb];da[Xa]=mb.status;if(I.N6(Xa,mb.error)){Za=new w.Hg(mb.error);I.UV(Za);}}I.keyStatuses.set(da);}catch(Sa){Za=new w.Hg(m.M.Khb);Za.jU(Sa);}Za?I.Z6(Za):(I.Ll.v3() || I.R_a(),I.Qf !== n.Oh.Qn || I.Ll.jia() || I.ZTb());};this.xn=function(P){var N;N=I.Ll.Gy(P);I.log.error("Received event: " + P.type,N);I.dD(N);I.Z6(N);I.cq || I.bu || I.UV(N);};this.YOb=function(){I.log.error("MediaKeySession closed unexpectedly.");I.UV(new y.md(m.M.neb));};this.dD=function(P){var N;I.cq && I.close().then(function(){var M;I.log.trace("Issuing a generate challenge error");null === (M=I.cq) || void 0 === M?void 0:M.reject(P);I.cq=void 0;},function(M){var Q;I.log.error("EmeSession closed with an error.",I.Ll.Gy(M));null === (Q=I.cq) || void 0 === Q?void 0:Q.reject(P);I.cq=void 0;});null === (N=I.eW) || void 0 === N?void 0:N.reject(P);};this.YJb=function(){var P;null === (P=I.cq) || void 0 === P?void 0:P.resolve();I.cq=void 0;};this.Z6=function(P){I.log.error("Failed to add license",P);return I.close().then(function(){var N;I.log.trace("Issuing a license error");I.cq=void 0;null === (N=I.bu) || void 0 === N?void 0:N.reject(P);I.bu=void 0;},function(N){var M;I.log.error("EmeSession closed with an error.",I.Ll.Gy(N));I.Rk === D.XH && I.Gp(p.Is.aPa);I.cq=void 0;null === (M=I.bu) || void 0 === M?void 0:M.reject(P);I.bu=void 0;}).then(function(){throw P;});};this.R_a=function(){I.bu && (I.log.info("Successfully added license"),I.Rk === D.zg?I.Gp(p.Is.SOa):I.Rk === D.XH && I.Gp(p.Is.$Oa),I.bu.resolve(),I.bu=void 0);};this.UV=function(P){I.close().then(function(){var N;I.log.trace("Issuing a CDM error");I.cq=void 0;I.bu=void 0;null === (N=I.l3a) || void 0 === N?void 0:N.call(I,P);},function(N){var M;I.log.error("EmeSession closed with an error.",I.Ll.Gy(N));I.cq=void 0;I.bu=void 0;null === (M=I.l3a) || void 0 === M?void 0:M.call(I,P);});};this.Gp=function(P){I.jd.push({time:I.za.Wb(),xW:P});};this.g6a=!1;this.log=F.hb("EmeSession");this.Rk=D.c_b;this.jd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=b.Mca=b.Nca=void 0;r=a(1);f=a(0);l=a(4);m=a(3);d=a(17);g=a(7);h=a(35);k=a(69);n=a(57);p=a(323);q=a(205);v=a(136);u=a(203);t=a(320);w=a(95);x=a(64);y=a(41);z=a(80);A=a(610);B=a(63);(function(F){F[F.c_b=0]="unknown";F[F.create=1]="create";F[F.load=2]="load";F[F.zg=3]="license";F[F.XH=4]="renewal";F[F.stop=5]="stop";F[F.closed=6]="closed";})(D || (D={}));b.Nca="license-request";b.Mca="license-renewal";E={usable:{status:q.Yu.Z$a},expired:{status:q.Yu.Dt,error:m.M.tGa},released:{status:q.Yu.released},"output-not-allowed":{status:q.Yu.D3a,error:m.M.uGa},"output-restricted":{status:q.Yu.D3a,error:m.M.nda},"output-downscaled":{status:q.Yu.XPb},"status-pending":{status:q.Yu.HXb},"internal-error":{status:q.Yu.MIb,error:m.M.Jhb}};c.prototype.Lt=function(){var F,C;if(this.Vqa){C=null === (F=this.Vqa) || void 0 === F?void 0:F.keySystem;(F=B.v5(this.Vqa)) && (C+="." + F);return C;}return "n/a";};c.prototype.gz=function(){return this.sessionId;};c.prototype.close=function(){var F;F=this;this.Rk=D.closed;this.jd=[];return this.th.JJb()?(this.log.trace("Closing the session"),this.th.a6a(this.isa),this.th.Z5a(this.gsa),this.th.X5a(this.xn),this.mediaKeys=void 0,this.Mo.Hq(this.config.wPa,this.th.close()).then(function(){F.log.info("Closed the session");}).catch(function(C){F.log.error("Close failed",C);F.Ll.Gy(C).code=m.M.Mhb;throw C;})):Promise.resolve(void 0);};c.prototype.Kt=function(){return this.qo;};c.prototype.Y5=function(){return void 0 !== this.ej;};c.prototype.createSession=function(F,C,G,J){var K;K=this;this.context=J;this.Vqa=F;this.Qf=G;this.Rk=D.create;this.Gp(p.Is.q0a);return (C.QYa()?Promise.resolve():this.Mo.Hq(this.config.xPa,this.th.createMediaKeys(F)).then(function(H){K.log.trace("Created media keys");C.setMediaKeys(H);return K.oqb(H);})).then(function(){K.mediaKeys=C.mediaKeys;try{K.th.createSession(K.mediaKeys,"temporary");K.th.VOa(K.isa);K.th.QOa(K.gsa);K.th.OOa(K.xn);K.th.gpb(K.YOb);K.oY(K.th.gz());}catch(H){return Promise.reject(new w.Hg(m.M.geb,m.L.Aj,void 0,"Unable to create a persisted key session",H));}}).catch(function(H){return H.code && H.xc?Promise.reject(H):Promise.reject(new w.Hg(m.M.lQ,H instanceof x.hr?m.L.mQ:m.L.Aj,void 0,"Unable to create MediaKeys. " + H.message,H));});};c.prototype.iWb=function(F){this.Fi=F;this.log.LOa("xid",F.ca);};c.prototype.SCb=function(F){var C;C=this;return this.generateRequest(F).then(function(){C.log.trace("Returning the challenge promise");return C.eW.promise;});};c.prototype.TCb=function(F){this.generateRequest(F);return this.cq.promise;};c.prototype.ROa=function(F){this.se=F.se;F=F.ej.map(function(C){return C.data;});this.doa(F)?(this.log.error("The license buffer is empty"),this.dD(new w.Hg(m.M.gBa,m.L.eBa))):(this.Rk === D.zg && (this.Gp(p.Is.K5a),this.ej=F,this.bUa=this.Ll.xM(this.fw,F),this.YJb()),this.Rk === D.XH && (this.Gp(p.Is.N5a),this.ej=F,this.bUa=this.Ll.xM(this.fw,F),this.Oha()));};c.prototype.rpb=function(F){this.Rk === D.XH?(this.Gp(p.Is.O5a),this.UV(F)):this.dD(F);};c.prototype.Oha=function(){var F,C;F=this;if(!this.ej)return this.Z6(new w.Hg(m.M.gBa,m.L.jBa));this.bu=new A.q0();C=this.ej;this.ej=void 0;this.Mo.Hq(this.config.BPa,this.th.update(C,this.Rk === D.zg?t.$E.Request:t.$E.XIa,this.fw)).then(function(){F.Ll.v3() && F.R_a();}).catch(function(G){G=F.Ll.Gy(G);G.code=m.M.k0;G.message="Unable to update the EME";F.log.error(G.message,G);F.Z6(G);});return this.bu.promise;};c.prototype.bWb=function(F){this.ePb=F;};c.prototype.WVb=function(F){this.l3a=F;};c.prototype.xM=function(){return this.bUa;};c.prototype.generateRequest=function(F){var C;C=this;this.Rk=D.zg;this.log.trace("Generating a license challenge");this.cq=new A.q0();this.eW=new A.q0();return F?this.doa(F)?(F=new w.Hg(m.M.fBa,m.L.eBa),this.dD(F),Promise.reject(F)):this.Mo.Hq(this.config.yPa,this.th.generateRequest(this.Ll.iV(),F)).then(function(){C.oY(C.th.gz());}).catch(function(G){var J,K;J=new w.Hg(m.M.t_,G instanceof x.hr?m.L.mQ:m.L.Aj);K=C.Ll.Gy(G);J.Kd=K.Kd;J.message="Unable to generate request.";J.jU(G);C.log.error("Unable to generate a license request",J);C.dD(J);return Promise.reject(J);}):(F=new w.Hg(m.M.fBa,m.L.jBa),this.dD(F),Promise.reject(F));};c.prototype.oqb=function(F){var C,G;C=this;G=this.Ll.Ema();return G?(G=this.qy.decode(G),this.Mo.Hq(this.config.APa,this.th.setServerCertificate(F,G)).then(function(J){C.log.trace("Set the server certificate",{result:J});})):Promise.resolve();};c.prototype.oY=function(F){F && F !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + F),this.sessionId=F,this.log.LOa("sessionId",F));};c.prototype.ZTb=function(){var F;F=this;this.g6a || (this.g6a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.fD}),setTimeout(function(){F.WH();},this.config.fD.da(l.ka)));};c.prototype.RJb=function(F){var C,G;return !(null === (G=null === (C=this.context) || void 0 === C?void 0:C.vu) || void 0 === G || !G.some(function(J){return J.dj === F && 1080 < J.bI.height;}));};c.prototype.N6=function(F,C){return C === m.M.nda?this.RJb(F)?this.config.F3a:this.config.E3a:! !C;};c.prototype.WH=function(){this.log.trace("Initiating a renewal request");this.Qf=n.Oh.kp;this.Rk=D.XH;this.Ll.Via()?this.Ll.Soa(this.th):this.E3();};c.prototype.E3=function(){var F;F=this;this.th.E3(this.mediaKeys,"temporary",this.isa,this.gsa,this.xn).then(function(){F.log.debug("Creating session to renew license");F.oY(F.th.gz());}).catch(function(){F.UV(new w.Hg(m.M.t_));});};c.prototype.doa=function(F){return 0 === F.length || F.reduce(function(C,G){return C || 0 === G.length;},!1);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.ob)),r.__param(1,f.l(d.cd)),r.__param(2,f.l(h.mi)),r.__param(3,f.l(k.Zu)),r.__param(4,f.l(t.sBa)),r.__param(5,f.l(u.deb)),r.__param(6,f.l(v.XAa)),r.__param(7,f.l(x.Cx))],a);b.wBa=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.cUa=b.Is=void 0;(function(c){c[c.q0a=0]="licenseStarted";c[c.L5a=1]="receivedLicenseChallenge";c[c.K5a=2]="receivedLicense";c[c.M5a=3]="receivedRenewalChallengeComplete";c[c.N5a=4]="receivedRenewalLicenseComplete";c[c.O5a=5]="receivedRenewalLicenseFailed";c[c.$Sb=6]="receivedIndivChallengeComplete";c[c.aTb=7]="receivedIndivLicenseComplete";c[c.SOa=8]="addLicenseComplete";c[c.$Oa=9]="addRenewalLicenseComplete";c[c.aPa=10]="addRenewalLicenseFailed";})(a=b.Is || (b.Is={}));b.cUa=function(c){switch(c){case a.q0a:return "lg";case a.L5a:return "lc";case a.K5a:return "lr";case a.M5a:return "renew_lc";case a.N5a:return "renew_lr";case a.O5a:return "renew_lr_failed";case a.$Sb:return "ilc";case a.aTb:return "ilr";case a.SOa:return "ld";case a.$Oa:return "renew_ld";case a.aPa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nza="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hGa="OneWayCounterFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oba=void 0;r=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var m=new Uint8Array(l.length / 2),d=0;d < m.length;d++){m[d]=this.W9a(l.substr(2 * d,2));}return m;};c.prototype.encode=function(l){var h;for(var m="",d=l.length,g=0;g < d;g++){h=l[g];m+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return m;};c.prototype.AG=function(l,m){var d;d="";for(m<<=1;m--;){d=(("0123456789ABCDEF")[l & 15] || "0") + d;l>>>=4;}return d;};c.prototype.W9a=function(l){var m;m=l.length;if(7 < m)throw Error("hex to long");for(var d=0,g=0;g < m;g++){d=16 * d + f[l[g]];}return d;};a=r.__decorate([a.R()],c);b.oba=a;},function(r,b,a){var f,l;function c(){this.$p={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.wk=void 0;r=a(1);a=a(0);c.prototype.addListener=function(m,d,g){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.$p){k=this.$p[m]?this.$p[m].slice():[];g && (d[h]=g);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.$p[m]=k;}};c.prototype.removeListener=function(m,d){if(this.$p && this.$p[m]){for(var g=this.$p[m].slice(),h;0 <= (h=g.indexOf(d));){g.splice(h,1);}this.$p[m]=g;}};c.prototype.vc=function(m,d,g){var h;if(this.$p){h=this.Rma(m);for(m={$I:0};m.$I < h.length;(m={$I:m.$I},m.$I++)){g?(function(k){return function(){var n;n=h[k.$I];setTimeout(function(){n(d);},0);};})(m)():h[m.$I].call(this,d);}}};c.prototype.wh=function(){this.$p=void 0;};c.prototype.on=function(m,d,g){this.addListener(m,d,g);};c.prototype.Rma=function(m){var d;return null !== (d=this.$p && (this.$p[m] || (this.$p[m]=[]))) && void 0 !== d?d:[];};l=f=c;l.counter=0;l=f=r.__decorate([a.R()],l);b.wk=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dAa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mba="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ca=b.Ggb=void 0;b.Ggb=function(){};b.$ca="MseConfigSymbol";},function(r,b,a){function c(f){this.Klb=void 0 === f?!1:f;this.Ze={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Vda=void 0;r=a(1);a=a(0);c.prototype.add=function(f,l){var m;l=void 0 === l?0:l;m=this.Ze[l];m?this.Klb && -1 !== m.indexOf(f) || m.push(f):this.Ze[l]=[f];};c.prototype.remove=function(f,l){this.$x(f,void 0 === l?0:l);};c.prototype.removeAll=function(f){this.$x(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ze).sort().reduce(function(l,m){return l.concat(f.Ze[m]);},[]);};c.prototype.$x=function(f,l){Object.entries(this.Ze).forEach(function(m){var d,g;d=aa(m);m=d.next().value;d=d.next().value;if(void 0 === l || l === parseInt(m)){-1 < (g=d.indexOf(f)) && d.splice(g,1);}});};a=r.__decorate([a.R()],c);b.Vda=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ka="UrlFactorySymbol";},function(r,b,a){var f,l,m;function c(d,g,h,k,n,p,q){this.debug=d;this.config=g;this.platform=h;this.L7=k;this.debug.assert(n && n != l.M.Nl,"There should always be a specific error code");this.errorCode=n || l.M.Nl;p && "object" === typeof p?(this.na=p.na || p.xc,this.mf=p.mf || p.Kd,this.pla=p.pla || p.bn,this.Bb=p.Bb || p.details,this.oU=p.Zj,this.s4=p.s4 || p.n$b || p.aA,this.dM=p.dM || p.data,p.uW && (this.uW=p.uW),this.$j=p.$j,this.method=p.method,this.m8=p.m8,this.alert=p.alert,this.Eha=p.Eha,this.QG=p.QG,!this.Bb && this.QG && (this.Bb=JSON.stringify(this.QG)),this.debug.assert(!this.$j || this.$j == this.mf)):(this.na=p,this.mf=q);this.stack=[this.errorCode];this.na?this.stack.push(this.na):this.mf && this.stack.push(l.L.Nl);this.mf && this.stack.push(this.mf);this.a4=this.platform.Yp + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;f=a(12);l=a(3);m=a(19);a(24);c.prototype.toString=function(){var d;d="[PlayerError #" + this.a4 + "]";this.Bb && (d+=" " + this.Bb);this.oU && (d+=" (CustomMessage: " + this.oU + ")");return d;};c.prototype.$Y=function(){var d,g,h,k;this.oU && (h=["streaming_error"]);h || this.L7.Kt() !== f.s_ || ("80080017" == this.mf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.mf && (h=["pause_timeout"]));h || this.L7.Kt() !== f.Qba || this.errorCode !== l.M.dBa && this.errorCode !== l.M.lQ || (h=["no_cdm","platform_error","plugin_error"]);this.LJb() && (h=["received_soad"]);k=this.CDb();k && (h=[k],this.oU=void 0);if(!h)switch(this.errorCode){case l.M.j0:case l.M.P_:case l.M.rbb:case l.M.tGa:h=["pause_timeout"];break;case l.M.rDa:case l.M.sDa:h=this.na?["platform_error"]:["multiple_tabs"];break;case l.M.agb:case l.M.Qib:case l.M.Afb:case l.M.zfb:case l.M.Cfb:h=["should_signout_and_signin"];break;case l.M.pca:case l.M.yGa:case l.M.oda:case l.M.rGa:h=["platform_error","plugin_error"];break;case l.M.lR:h=["no_cdm","platform_error","plugin_error"];break;case l.M.kBa:case l.M.fr:case l.M.k0:switch(this.mf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case l.M.uGa:case l.M.nda:h=["unsupported_output"];}!h && l.GBa(this.na) && (h=this.na == l.L.KQ?["geo"]:["internet_connection_problem"]);h || this.errorCode !== l.M.lQ || this.na !== l.L.Aj || "S" !== this.platform.Yp || (h=["private_mode"]);if(!h)switch(this.b9a(this.na)){case l.L.Jea:h=["should_upgrade"];break;case l.L.pGa:h=["should_reset_device"];break;case l.L.oGa:h=["should_reload_device"];break;case l.L.nGa:h=["should_exit_device"];break;case l.L.Igb:case l.L.OEa:h=["should_signout_and_signin"];break;case l.L.Jgb:h=["internet_connection_problem"];break;case l.L.iAa:h=["platform_error","plugin_error"];break;case l.L.hAa:case l.L.YCa:case l.L.ZCa:h=["private_mode"];break;case l.L.Kca:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.Yp + this.errorCode);if(this.na)switch(this.b9a(this.na)){case l.L.qGa:h.push("incorrect_pin");break;default:h.push("" + this.na);}return {display:{code:this.a4,text:this.oU},messageIdList:h,alert:this.alert,alertTag:this.Eha,preferredAudioLocale:null === (d=this.QG) || void 0 === d?void 0:d.pZa,preferredTextLocale:null === (g=this.QG) || void 0 === g?void 0:g.qZa};};c.prototype.b9a=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.LJb=function(){var d;d=m.Ba(this.mf)?this.mf.toString():m.Oe(this.mf)?this.mf:"";return this.s4 === l.X_.Dea && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.CDb=function(){if(this.errorCode === l.M.zJ && (this.na === l.L.jda || this.na === l.L.mGa))return this.DDb(this.na === l.L.jda);};c.prototype.DDb=function(d){var g,h,k,n;k=this.config().browserInfo || ({});n=null === (g=k.os) || void 0 === g?void 0:g.name;g=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.aIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uca="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oQ="EventSourceFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oQ=b.KBa=void 0;r=a(1);f=a(327);a=a(0);c.prototype.create=function(){return new f.wk();};a=r.__decorate([a.R()],c);b.KBa=a;b.oQ="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qAa="DebouncerFactorySymbol";},function(r,b,a){var f;function c(l,m,d,g,h,k){this.level=l;this.mo=m;this.timestamp=d;this.message=g;this.cc=h;this.index=void 0 === k?0:k;this.Xfb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Eca=void 0;f=a(4);c.prototype.R$=function(l,m){var d;d="" + this.message;this.cc.forEach(function(g){d+=g.II(l,m);});return (this.timestamp.da(f.ka) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Xfb[this.level] || this.level) + "|" + this.mo + "| " + d;};b.Eca=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KFa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CJa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mLa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LKa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GAa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TGa="PboGenerateScreenshotsCommandSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(660),b);r.__exportStar(a(661),b);r.__exportStar(a(662),b);r.__exportStar(a(663),b);r.__exportStar(a(664),b);r.__exportStar(a(665),b);r.__exportStar(a(666),b);r.__exportStar(a(667),b);r.__exportStar(a(668),b);r.__exportStar(a(669),b);r.__exportStar(a(670),b);r.__exportStar(a(671),b);r.__exportStar(a(675),b);r.__exportStar(a(211),b);r.__exportStar(a(676),b);r.__exportStar(a(212),b);r.__exportStar(a(677),b);r.__exportStar(a(678),b);r.__exportStar(a(679),b);r.__exportStar(a(680),b);r.__exportStar(a(681),b);r.__exportStar(a(682),b);r.__exportStar(a(683),b);r.__exportStar(a(684),b);r.__exportStar(a(685),b);r.__exportStar(a(686),b);r.__exportStar(a(687),b);r.__exportStar(a(688),b);r.__exportStar(a(689),b);r.__exportStar(a(690),b);r.__exportStar(a(691),b);r.__exportStar(a(692),b);r.__exportStar(a(693),b);r.__exportStar(a(694),b);r.__exportStar(a(702),b);r.__exportStar(a(704),b);r.__exportStar(a(705),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Nha=void 0;b.Nha=function(a,c,f){var l,m;l=!0;f.forEach(function(d){var g;if(l && a === d.profile){g=d.ranges;l=void 0 === g?c >= d.min && c <= d.max:g.some(function(h){return c >= h.min && c <= h.max;});!l && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:l,Z3:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ME=void 0;b.ME={dn:function(a){return a;}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.er=b.sib=void 0;c=a(2);f=a(213);r=(function(){function l(m,d){this.G=m;this.oz=d?[d]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(m){-1 === this.oz.indexOf(m) && (this.oz=this.oz.slice(),this.oz.push(m));};l.prototype.removeListener=function(m){m=this.oz.indexOf(m);-1 !== m && (this.oz=this.oz.slice(),this.oz.splice(m,1));};return l;})();b.sib=r;r=(function(l){function m(d,g){return l.call(this,d,g) || this;}c.__extends(m,l);m.Ixa=function(d,g,h){return new f.gda(d,g,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var g;g=this.G;g !== d && (this.G=d,this.oz.forEach(function(h){return h({oldValue:g,newValue:d});}));};return m;})(r);b.er=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ce=void 0;r=a(2);r.__exportStar(a(351),b);r.__exportStar(a(721),b);r.__exportStar(a(214),b);r.__exportStar(a(722),b);r.__exportStar(a(723),b);r.__exportStar(a(724),b);r.__exportStar(a(352),b);r.__exportStar(a(726),b);c=a(54);Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return c.ce;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fs=b.QP=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.HLb=2]="lowCpuPlaybackStarting";})(b.QP || (b.QP={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Fs || (b.Fs={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qja=b.pBb=b.oC=b.rI=void 0;c=a(2);f=a(21);l=a(67);Object.defineProperties(b,{rI:{enumerable:!0,get:function(){return l.rI;}}});Object.defineProperties(b,{oC:{enumerable:!0,get:function(){return l.oC;}}});b.pBb=function(m,d){var g,q,v;m=Math.max(m.duration - 3E4,3E4);for(var h={},k,n=0,p=0;p < m;p+=3E4){q="s" + n++;v={Z:d,wc:p,Oc:p + 3E4 < m?p + 3E4:null};void 0 !== k && (k.next=(g={},g[q]={weight:1},g),k.Zh=q);k=h[q]=v;}return {ff:"s0",Aa:h,me:"lazy"};};b.Qja=function(m,d,g){var h,p,q,v;try{for(var k=c.__values(Object.keys(m.Aa)),n=k.next();!n.done;n=k.next()){p=n.value;q=m.Aa[p];if(q.Z === d){v=f.S.tb(q.wc);if(g.zo(v) && (null === q.Oc || void 0 === q.Oc || g.lessThan(f.S.tb(q.Oc))))return {ya:p,offset:g.Ca(v)};}}}catch(t){var u;u={error:t};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(u)throw u.error;}}};},function(r){function b(){}function a(c){this.uOa=c;this.op=[];this.wg=null;}b.prototype.clear=function(){this.Ze=null;this.size=0;};b.prototype.find=function(c){var l;for(var f=this.Ze;null !== f;){l=this.Mm(c,f.data);if(0 === l)return f.data;f=f.dh(0 < l);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.Ze,l=this.iterator(),m=this.Mm;null !== f;){d=m(c,f.data);if(0 === d)return (l.wg=f,l);l.op.push(f);f=f.dh(0 < d);}for(d=l.op.length - 1;0 <= d;--d){if((f=l.op[d],0 > m(c,f.data)))return (l.wg=f,l.op.length=d,l);}l.op.length=0;return l;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),l=this.Mm;null !== f.data() && 0 === l(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.Ze;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ze;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.kf=function(c){for(var f=this.iterator(),l;null !== (l=f.next());){c(l);}};a.prototype.data=function(){return null !== this.wg?this.wg.data:null;};a.prototype.next=function(){var c;if(null === this.wg){c=this.uOa.Ze;null !== c && this.qNa(c);}else if(null === this.wg.right){do {if((c=this.wg,this.op.length))this.wg=this.op.pop();else {this.wg=null;break;}}while(this.wg.right === c);}else (this.op.push(this.wg),this.qNa(this.wg.right));return null !== this.wg?this.wg.data:null;};a.prototype.QH=function(){var c;if(null === this.wg){c=this.uOa.Ze;null !== c && this.mNa(c);}else if(null === this.wg.left){do {if((c=this.wg,this.op.length))this.wg=this.op.pop();else {this.wg=null;break;}}while(this.wg.left === c);}else (this.op.push(this.wg),this.mNa(this.wg.left));return null !== this.wg?this.wg.data:null;};a.prototype.qNa=function(c){for(;null !== c.left;){this.op.push(c);c=c.left;}this.wg=c;};a.prototype.mNa=function(c){for(;null !== c.right;){this.op.push(c);c=c.right;}this.wg=c;};r.exports=b;},function(r){function b(a){this.hga=a;this.bg=[];this.ur=!1;this.BF=void 0;this.Nj={};}b.prototype.z2=function(a){this.bg.length === this.hga && this.bg.shift();Array.isArray(a)?this.bg=this.bg.concat(a):this.bg.push(a);this.ur=!0;};b.prototype.HM=function(){return this.bg.length;};b.prototype.Qia=function(){var a;a=this.bg;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.bg.length:void 0;};b.prototype.l3=function(){var a,c;a=this.bg;if(0 < a.length){c=this.Qia();a=a.reduce(function(f,l){return f + l * l;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.mt=function(a){var c,f,l;if(this.ur || void 0 === this.BF)(this.BF=this.bg.slice(0).sort(function(m,d){return m - d;}),this.Nj={},this.ur=!1);if(void 0 === this.Nj[a]){c=this.BF;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;l=(a / 100 * (c.length - 1) + 1) % 1;this.Nj[a]=f === c.length - 1?c[f]:c[f] + l * (c[f + 1] - c[f]);}return this.Nj[a];};r.exports=b;},function(r,b,a){r.exports={t8b:a(357),zac:a(220),Y1b:a(746),X1b:a(358),Z1b:a(359),VBa:a(749)};},function(r,b,a){var m;function c(d){this.reset();this.hWb(d);}function f(d){this.setInterval(d);this.reset();}function l(d){this.EB=new f(d);this.Ke=0;this.Lc=null;}m=a(10);c.prototype.hWb=function(d){this.ZJ=Math.pow(.5,1 / d);this.iS=d;};c.prototype.reset=function(d){d && d.Fa && m.Ba(d.Fa)?d.Ni && m.Ba(d.Ni)?(this.nv=this.Alb,this.pp=d.Fa,this.BB=d.Ni + d.Fa * d.Fa):(this.nv=this.Alb,this.pp=d.Fa,this.BB=d.Fa * d.Fa):this.BB=this.pp=this.nv=0;};c.prototype.add=function(d){var g;if(m.Ba(d)){this.nv++;g=this.ZJ;this.pp=g * this.pp + (1 - g) * d;this.BB=g * this.BB + (1 - g) * d * d;}};c.prototype.get=function(){var d,g,h;if(0 === this.nv)return {Fa:0,Ni:0};d=this.pp;g=this.BB;h=1 - Math.pow(this.ZJ,this.nv);d/=h;g/=h;h=d * d;return {Fa:Math.floor(d),Ni:Math.floor(g > h?g - h:0)};};c.prototype.getState=function(){return 0 === this.nv?null:{a:Number(this.pp.toPrecision(6)),s:Number(this.BB.toPrecision(6)),n:this.nv};};c.prototype.Re=function(d){if(m.Cb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.BB=this.pp=this.nv=0,!1);this.pp=d.a;this.BB=d.s;m.has(d,"n") && m.Ba(d.n)?this.nv=d.n:this.nv=16 * this.iS;return !0;};f.prototype.setInterval=function(d){this.iS=d;this.ZJ=-Math.log(.5) / d;};f.prototype.reset=function(d){this.sb=this.wf=null;d && m.isFinite(d.Fa)?this.pp=d.Fa:this.pp=0;};f.prototype.start=function(d){m.Cb(this.wf) && (this.sb=this.wf=d);};f.prototype.add=function(d,g,h){var k,n;m.Cb(this.wf) && (this.sb=this.wf=g);this.wf=Math.min(this.wf,g);g=Math.max(h - g,1);k=this.ZJ;n=h > this.sb?h:this.sb;this.pp=this.pp * (n > this.sb?Math.exp(-k * (n - this.sb)):1) + 8 * d / g * (1 - Math.exp(-k * g)) * (h > n?Math.exp(-k * (n - h)):1);this.sb=n;};f.prototype.get=function(d){var g;d=Math.max(d,this.sb);g=this.pp * Math.exp(-this.ZJ * (d - this.sb));d=1 - Math.exp(-this.ZJ * (d - this.wf));0 < d && (g/=d);return {Fa:Math.floor(g)};};f.prototype.toString=function(){return "ewmav(" + this.iS + ")";};l.prototype.setInterval=function(d){this.EB.setInterval(d);};l.prototype.reset=function(d){this.EB.reset(d);this.Ke=0;this.Lc=null;};l.prototype.start=function(d){!m.Cb(this.Lc) && d > this.Lc && (this.Ke+=d - this.Lc,this.Lc=null);this.EB.start(d - this.Ke);};l.prototype.add=function(d,g,h){!m.Cb(this.Lc) && h > this.Lc && (this.Ke+=g > this.Lc?g - this.Lc:0,this.Lc=null);this.EB.add(d,g - this.Ke,h - this.Ke);};l.prototype.stop=function(d){this.Lc=Math.max(m.Cb(this.EB.sb)?0:this.EB.sb + this.Ke,m.Cb(this.Lc)?d:Math.min(this.Lc,d));};l.prototype.get=function(d){return this.EB.get((m.Cb(this.Lc)?d:this.Lc) - this.Ke);};l.prototype.toString=function(){return this.EB.toString();};r.exports={Zdb:c,q2b:f,Xdb:l};},function(r,b,a){var f,l;function c(m,d,g,h){f.call(this,g,h);this.uv=new l(m);this.gmb=d;}f=a(142);l=a(355);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Aw(0);f.prototype.shift.call(this);null !== m && this.uv.z2(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.uv.z2(m);f.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.oV();return {sampleSize:this.HM(),X8:m,PW:m.ik?(m.El - m.Dl) / m.ik:void 0};};c.prototype.HM=function(){return this.uv.HM();};c.prototype.oV=function(){return this.uv.HM() < this.gmb?{Dl:void 0,ik:void 0,El:void 0,sampleSize:void 0,kj:void 0}:{Dl:this.uv.mt(25),ik:this.uv.mt(50),El:this.uv.mt(75),sampleSize:this.uv.HM(),kj:this.uv.mt.bind(this.uv)};};c.prototype.toString=function(){return "biqr(" + this.VK + "," + this.Fd + "," + this.Qj + ")";};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={pW:m.maxc || 25,Fja:m.c || .5,a1b:m.w || 15E3,ty:m.b || 5E3};f.call(this,this.I.a1b,this.I.ty);this.LS();}f=a(142);l=a(218).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var m;m=this.Aw(0);f.prototype.shift.call(this);null !== m && (this.$e.push(m,1),this.ur=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.$e.push(m,1);this.ur=!0;f.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.uYa();};c.prototype.hz=function(){var m;m=this.uYa();return {min:m.min,p10:m.N8,p25:m.Dl,p50:m.ik,p75:m.El,p90:m.O8,max:m.max,centroidSize:m.Ysb,sampleSize:m.sampleSize,centroids:m.Bi};};c.prototype.uYa=function(){var m;if(0 === this.$e.size())return null;m=this.$e.kj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.ur || !this.$f)(this.ur=!1,this.$f={min:m[0],N8:m[1],Dl:m[2],ik:m[3],El:m[4],O8:m[5],max:m[6],kj:this.$e.kj.bind(this.$e),Ysb:this.$e.size(),sampleSize:this.$e.n,Bi:this.FDb(),hz:this.hz.bind(this)});return this.$f;};c.prototype.FDb=function(){var m;if(0 === this.$e.size())return null;if(!this.ur && this.$f)return this.$f.centroids;m=this.$e.kj([.25,.75]);if(m[0] === m[1])return null;this.$e.size() > this.I.pW && this.$e.Ey();m=this.$e.Xo(!1).map(function(d){return {mean:d.mg,n:d.n};});return JSON.stringify(m);};c.prototype.qYa=function(){return this.$e.summary();};c.prototype.size=function(){return this.$e.size();};c.prototype.toString=function(){return "btdtput(" + this.VK + "," + this.Fd + "," + this.Qj + "): " + this.$e.summary();};c.prototype.LS=function(){this.$e=new l(this.I.Fja,this.I.pW);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I={pW:m.maxc || 25,Fja:m.c || .5,bTb:m.rc || "none",LGb:m.hl || 7200};this.LS();this.Hnb=this.I.bTb;this.iS=this.I.LGb;this.Vea=Math.exp(Math.log(2) / this.iS);this.Vea=Math.max(this.Vea,1);this.j1=1;}f=a(10);l=a(218).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.$e.size())return null;m=this.$e.kj([.25,.75]);if(m[0] === m[1])return null;this.$e.size() > this.I.pW && this.$e.Ey();m=this.$e.Xo(!1).reduce((function(d,g){f.Ba(g.mg) && f.Ba(g.n) && d.push({mean:g.mg,n:g.n / this.j1});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Re=function(m){var d;if(f.Cb(m) || !f.has(m,"tdigest") || !f.Oe(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(g){return !1;}d.forEach(function(g){f.isFinite(g.n) || (g.n=1);});m=d.map(function(g){return {mg:g.mean,n:g.n};});this.j1=1;this.$e.Cta(m);void 0 === this.$e.kj(0) && this.LS();};c.prototype.get=function(){var m,d;m=this.$e;d=m.kj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],N8:d[1],Dl:d[2],ik:d[3],El:d[4],O8:d[5],max:d[6],Bi:m.Xo(!1)};};c.tFb=function(m){var d;d=new c({});f.Cb(m) || f.ha(m) || !f.isArray(m.Bi) || (d.$e.Cta(m.Bi),void 0 === d.$e.kj(0) && d.LS());m=d.$e.kj([.25,.75]);return m[0] === m[1]?null:function(g){return d.$e.kj(g);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.Hnb && (this.j1=d=this.j1 * this.Vea);this.$e.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.$e.summary() + ")";};c.prototype.LS=function(){this.$e=new l(this.I.Fja,this.I.pW);};r.exports={tKa:c};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=b.nca=void 0;c=a(2);f=c.__importStar(a(10));l=c.__importDefault(a(6));m=a(760);d=a(761);g=(function(){return function(){this.U2=new d.oR(100);this.p8=new d.oR(100);};})();r=(function(){function h(k,n,p){var q,v,u;this.I=n;this.H=p;this.d2=k;q=this.NK=this.cK=this.bK=0;v=0;u=0;this.d2.length >= this.I.Z7 && (this.d2.forEach(function(t){!(t=t.get().mCb) || f.ha(t.avtp) || f.ha(t.neuhd) || (q+=t.avtp,v+=1 * t.neuhd,u++);}),this.NK=u,this.bK=q / u,this.cK=v / u);}Object.defineProperties(h.prototype,{frb:{get:function(){return this.bK;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hrb:{get:function(){return this.cK;},enumerable:!1,configurable:!0}});h.prototype.P6=function(){return this.NK >= this.I.Z7 && this.bK >= this.I.baselineHighAndStableThreshold.bwThreshold && this.cK < this.I.baselineHighAndStableThreshold.nethreshold;};return h;})();b.nca=r;r=(function(h){function k(n,p,q){n=h.call(this,n,p,q) || this;n.Lea=[];n.xBb={};n.x9a=[];n.Iy=new g();n.d2.length >= n.I.Z7 && (n.zOa("avtp",n.Iy.U2),n.zOa("neuhd",n.Iy.p8));return n;}c.__extends(k,h);k.prototype.P6=function(){var n;this.sFb();n=new m.DEa(this.H,this.x9a,this.yrb);n.gta(this.Lea);n=n.Gtb(this.I.d6.S$b);return this.$_b && 1 === n && this.NK >= this.I.Z7;};k.prototype.eV=function(){var n,p,q,v;n={};p=l.default.time.now();q=new Date(p);v=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=v;return n;};k.prototype.IWa=function(n,p,q){n="avtp" === n?this.bK:this.cK;for(var v=p.l3(),u=0,t="skew" === q?3:4,w=0;w < p.bg.length;w++){f.ha(n) || f.ha(v) || (u+=Math.pow(p.bg[w] - n,t));}u/=p.bg.length;return !f.ha(v) && 0 < v?u / Math.pow(v,t) - 3 * ("skew" === q?0:1):NaN;};k.prototype.bXa=function(n,p,q){var v;v=0;"lte" === q?v=n.reduce(function(u,t){return t <= p?u + 1:u;},0) / (1 * n.length):"gte" === q && (v=n.reduce(function(u,t){return t >= p?u + 1:u;},0) / (1 * n.length));return v;};k.prototype.aFb=function(n){var p,q;p=n.mt(25);q=n.mt(50);n=n.mt(75);return f.ha(p) || f.ha(q) || f.ha(n)?NaN:0 < q?(n - p) / q:NaN;};k.prototype.wDb=function(n,p){n="avtp" === n?this.bK:this.cK;p=p.l3();return !f.ha(p) && !f.ha(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};k.prototype.oV=function(n,p){n=n.mt(p);return f.ha(n)?NaN:n;};k.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};k.prototype.sFb=function(){var n,p,q,v,u,t,w,x,y,z,A,B;n=this;p=this.I.d6.V0a.D9b;q=this.I.d6.V0a.B9b;v=this.I.d6.V0a.C9b;x=[];B=0;this.$_b=!Object.keys(p).some(function(D){var E;A=NaN;if(!(p.hasOwnProperty(D) && q.hasOwnProperty(D) && v.hasOwnProperty(D) && !f.ha(n.Iy) && n.Iy.U2 && n.Iy.p8) || 1 > n.NK || "number" !== typeof p[D] || "number" !== typeof q[D] || "number" !== typeof v[D])return !0;u=p[D];t=q[D];w=v[D];x=D.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":E=n.Iy.U2;break;case "neuhd":E=n.Iy.p8;break;default:E=void 0;}if("avtp" === y || "neuhd" === y){if(E)switch(z){case "last":A=E.bg[n.NK - 1];break;case "mean":A="avtp" === y?n.bK:n.cK;break;case "niqr":A=n.aFb(E);break;case "skew":A=n.IWa(y,E,"skew");break;case "kurtosis":A=n.IWa(y,E,"kurtosis");break;case "std":A=E.l3();break;case "b":A=n.wDb(y,E);break;default:-1 !== D.search("[p][1-9]?[1-9]") && (A=n.oV(E,Number(D.split("_p",2)[1])));}}else switch(D){case "fracAbove20Mbps":E=n.Iy.U2;A=f.ha(E)?NaN:n.bXa(E.bg,2E4,"gte");break;case "fracBelow20p":E=n.Iy.p8;A=f.ha(E)?NaN:n.bXa(E.bg,.15,"lte");break;case "hour_current":A=n.eV().currentHour;break;case "session_ct":A=n.NK;break;case "intercept":(A=u,n.yrb=A);}A=n.normalize(A,t,w);if(isNaN(A))return !0;"intercept" !== D && (n.Lea.push(A),n.x9a.push(u),n.xBb[D]=B,B+=1);});};k.prototype.zOa=function(n,p){this.d2.forEach(function(q){q=q.get().mCb;!q || "avtp" !== n && "neuhd" !== n || f.ha(q[n]) || p.z2(Number(q[n]));});};return k;})(r);b.MCa=r;},function(r,b,a){var f,l,m,d;function c(g){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=g.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.qqb=b.jw=b.yea=b.IKa=void 0;r=a(2);f=a(5);r=r.__importDefault(a(6));l=a(21);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(h,k){this.ed=h;this.Wg=k;}Object.defineProperties(g.prototype,{index:{get:function(){return this.Wg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jc:{get:function(){return new l.S(this.Wa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pd:{get:function(){return new l.S(this.nb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wa:{get:function(){return this.ed.h2 + this.ed.YB[this.Wg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nb:{get:function(){return this.Wa + this.ed.mr[this.Wg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Up:{get:function(){return this.ed.mr[this.Wg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qa:{get:function(){return this.ed.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.ed.U;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Y:{get:function(){return Math.floor(1E3 * this.Wa / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ha:{get:function(){return Math.floor(1E3 * (this.Wa + this.Up) / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{duration:{get:function(){return this.Ha - this.Y;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.Wa / this.qa.U,endPts:1E3 * this.nb / this.qa.U,duration:1E3 * this.Up / this.qa.U,index:this.index};};return g;})();b.IKa=d;a=(function(){function g(h,k,n,p){this.mediaType=h;this.length=n.rd.length;this.mb=n.U;this.mr=n.rd;this.B2=p && p.qu;this.hPa=p && p.Eu;this.uK=k;this.axa=this.bxa=this.iNa=void 0;this.h2=n.Zk;this.YB=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.YB[k]=h;h+=this.mr[k];}this.YB[k]=h;this.Uea=Math.floor((this.Ha - this.Y) / this.length);}}Object.defineProperties(g.prototype,{Zk:{get:function(){return this.H8a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lla:{get:function(){return this.H8a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Y:{get:function(){return this.rj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ha:{get:function(){return this.rj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kk:{get:function(){return new l.S(this.lla,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kqa:{get:function(){return this.iNa || this.ckb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qa:{get:function(){return this.uK;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});g.prototype.H8a=function(h){return this.h2 + this.YB[h];};g.prototype.rj=function(h){return Math.floor(1E3 * (this.h2 + this.YB[h]) / this.U);};g.prototype.GU=function(h){return this.rj(h + 1);};g.prototype.rd=function(h){return this.GU(h) - this.rj(h);};g.prototype.get=function(h){return new d(this,h);};g.prototype.hn=function(h,k,n){if(0 === this.length || h < this.rj(0))return -1;h=Math.max(h,k || 0);for(var p=0,q=this.length - 1,v,u;q >= p;){if((v=p + (q - p >> 1),u=this.rj(v),h < u))q=v - 1;else if(h >= u + this.rd(v))p=v + 1;else {for(;k && v < this.length && this.rj(v) < k;){++v;}return v < this.length?v:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.H4=function(h,k,n){h=this.hn(h,k,n);return 0 <= h?this.get(h):void 0;};g.prototype.Tja=function(h,k){var n,p;n=Math.floor(k * this.U / 1E3);k=Math.min(h + Math.ceil(k / this.Uea),this.length);p=this.YB[k] - this.YB[h];if(p > n){for(;p >= n;){--k;p-=this.mr[k];}return k - h + 1;}for(;p < n && k <= this.length;){p+=this.mr[k];++k;}return k - h;};g.prototype.subarray=function(h,k){f.assert(void 0 === h || 0 <= h && h < this.length);f.assert(void 0 === k || k > h && k <= this.length);return new g(this.mediaType,this.qa,{U:this.U,Zk:this.h2 + this.YB[h],rd:this.mr.subarray(h,k)},this.B2 && ({qu:this.B2.subarray(h,k + 1),Eu:this.hPa}));};g.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};g.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};g.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Uea};};g.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Uea + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace("TrackFragments: " + h + ": [" + k.Y + "-" + k.Ha + "]");}};g.prototype.ckb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.mr[k],h);}return this.iNa=h;};return g;})();b.yea=a;b.jw=c;a.prototype.G8a=c(a.prototype.rj);c(a.prototype.GU);c(a.prototype.rd);b.qqb=function(g){return "[" + Array(g.length).map(function(h,k){return g[k].toString();}).join(",") + "]";};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GUa=b.$y=b.gn=b.o5=void 0;c=a(5);f=a(141);b.o5=function(l,m){return l.hn(m,void 0,!0);};b.gn=function(l,m,d,g,h,k){var n,p,q,v;f.Cm.hq(l);c.assert(d.W,"findFirstFragment called without stream fragments");n=d.W;g=Math.max(d.W.rj(0),g);0 === l && !k && m.Dk && !m.dC && d.ue && (g=Math.max(d.W.rj(0),g + d.ue.T));p=b.o5(n,g);q=d.Mk(p);if(q.Ha < g)return q;v=q.Pla(g);v?(0 < v.Xk && q.Ih({start:v.Xk}),0 !== l || m.N7 || (0 > v.Cd && q.Ih({start:v.Xk}),v.Cd < (m.Dk && !m.dC && d.ue?Math.floor(d.ue.T):0) && q.uU())):g >= q.Ha && p < n.length - 1 && (q=d.Mk(p + 1));1 === l && h && q.Ha === h && p < n.length - 1 && (q=d.Mk(p + 1));0 === l && !q.oa && (m.A6 || m.Ozb) && k && q.Ih({});q.OO(g);return q;};b.$y=function(l,m,d,g,h,k){var n,p;f.Cm.hq(l);n=d.W;void 0 === g && (g=n.Ha);if(h && (h=h.QBb(d,g,l,m,k)))return h;h=n.qa;k=g?g + b.GUa(l,h,m.xA,m.U9):n.GU(n.length - 1);n=n.hn(k,void 0,!0);h=d.Mk(n);0 === n || h.Y !== g || 1 !== l && m.xA || (--n,h=d.Mk(n));k=1 === l?k:g;if(k < h.Ha){p=h.Ola(k);p && 0 !== p.Xk?h.Ih({end:p.Xk}):0 === l && (p || k < h.Y) && 0 !== n?h=d.Mk(n - 1):1 === l && p && 0 !== n && (h=d.Mk(n - 1));}0 === l && !h.oa && m.A6 && h.Ih();h.OO(g);return h;};b.GUa=function(l,m,d,g){var h;return 1 === l || g?0:d?null !== (h=null === m || void 0 === m?void 0:m.T) && void 0 !== h?h:0:m?-m.T:0;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wya=void 0;c=a(766);f=a(21);a(5);l=a(101);r=(function(){function m(d,g,h){var k;this.I=g;this.H=h;this.Pj=d.track;this.rob=d.Fg;this.lw=d.lw;this.Flb=-1 === this.profile.indexOf("none");this.wK=this.Ma=void 0;g=d.Yt;this.Yt=void 0 === g?!0:g;this.Z3=d.Z3;this.tK=void 0;this.kNa=this.ug=0;this.url=this.mI=this.wd=this.ns=this.bqa=this.location=this.Sa=this.ub=void 0;this.pz=!1;this.zpa=this.cf=void 0;g=(d=this.I) && "object" === typeof d.g5a && d.g5a[this.profile];"object" === typeof g && (g=g[this.bitrate]) && (this.T1=new f.S(g.ticks,g.timescale));this.rmb=0 <= (null === (k=d.Uqb) || void 0 === k?void 0:k.indexOf(this.profile));}Object.defineProperties(m.prototype,{ie:{get:function(){return ! !this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{O:{get:function(){return this.Pj.O;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Z:{get:function(){return this.O.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J:{get:function(){return this.Pj.J;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Pj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qa:{get:function(){return this.Pj.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.Pj.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{CN:{get:function(){return this.Pj.CN;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.Pj.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.Pj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fg:{get:function(){return this.rob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pa:{get:function(){return this.lw.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ez:{get:function(){return this.Flb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.lw.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Eb:{get:function(){return this.lw.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yUb:{get:function(){return this.lw.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{M9:{get:function(){return this.lw.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.lw.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rs:{get:function(){return this.lw.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ue:{get:function(){return this.T1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mHb:{get:function(){return this.rmb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{W:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xz:{get:function(){return this.Ma && this.Ma.Xz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lma:{get:function(){return this.Pj.lma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kma:{get:function(){return this.Pj.kma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ht:{get:function(){return void 0 !== this.tK?this.tK:this.NJb();},set:function(d){this.tK=d;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$t:{get:function(){return this.Yt && !this.pz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pg:{get:function(){return this.wK;},enumerable:!1,configurable:!0}});m.prototype.Nk=function(){return this.O.Nk(this.mediaType,this.Pa);};m.prototype.q5=function(){var d;d=this.Nk();return d && d.stream.W;};m.prototype.bE=function(d){return this.O.bE(this,d);};m.prototype.G8=function(){this.track.G8();};m.prototype.F8=function(){this.track.F8();};m.prototype.E8=function(d,g,h,k,n,p,q){k && void 0 !== k.Zk && (this.track.ie || void 0 !== k.rd && k.rd.length) && void 0 !== k.offset && void 0 !== k.sizes && k.sizes.length?(this.I.Dk && this.ue && 0 === k.Zk && (k.Zk+=this.ue.Vf(k.U).Zb),this.wK=d,this.ie || (this.track.E8(this,g,h,k,p),this.Ma=new c.eKa(this.track.Yo,k,n,p,q,this.J),this.track.cPb(this))):k?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== k.Zk) + "," + this.track.ie + "," + this.track.Xka + "," + (void 0 !== k.rd) + "," + !(!k.rd || !k.rd.length) + "," + (void 0 !== k.offset) + "," + (void 0 !== k.sizes) + "," + !(!k.sizes || !k.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};m.prototype.B3=function(d){this.ie || (this.track.Mub(d.track),this.Ma=d.W,this.wK=d.Pg);};m.prototype.Mk=function(d){return new l.Dm(this,this.W.get(d));};m.prototype.XWa=function(d){var g;g=this.Mk(d.index);d.oa && (g.Ih(d.oa),g.OO(d.Lu));return g;};m.prototype.D$a=function(d,g){this.ug=d;this.kNa=g;};m.prototype.Otb=function(){this.Sa=this.ub=this.wd=this.location=this.url=void 0;};m.prototype.toJSON=function(){return {movieId:this.J,mediaType:this.mediaType,streamId:this.Pa,bitrate:this.bitrate,streamIndex:this.Fg,isAvailable:this.Yt,fittable:this.Ht,vmaf:this.Eb,resolutionWidth:this.yUb,resolutionHeight:this.M9};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Pa + ":" + this.bitrate;};m.prototype.NJb=function(){var d,g,h,k,n;if(!this.ie)return !0;if(this.track.ooa >= this.bitrate)return this.tK=!0;if(this.track.T0a <= this.bitrate)return this.tK=!1;n=this.Ma.osb(this.I.DW,this.ug,null !== (g=null === (d=this.O) || void 0 === d?void 0:d.tI.T) && void 0 !== g?g:0,null !== (k=null === (h=this.O) || void 0 === h?void 0:h.tI.fa) && void 0 !== k?k:0,this.kNa);if(n){if(!this.track.Xka || this.Ez)this.track.ooa=this.bitrate;}else this.track.T0a=this.bitrate;return this.tK=n;};return m;})();b.wya=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.dz=1536;return m;}c.__extends(l,f);l.Oa=!0;return l;})(a(170).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ac-3";return l;})(r);b.Gaa=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ec-3";return l;})(r);b.Rba=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);r=a(31);l=f.JE;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.uc();this.fileSize=this.u.Sd();this.U=this.u.Sd();this.duration=this.u.Sd(!1,!0);this.Wra=this.u.Sd();this.u.Sd();this.$ra=this.u.Sd();this.Cra=this.u.wa();this.Xra=this.u.Sd();this.ama=this.u.wa();this.u.tA();this.Pe={moof:{offset:this.Wra},sidx:{offset:this.Xra,size:this.ama}};this.Pe[f.eR]={offset:this.$ra,size:this.Cra};this.u.offset - this.startOffset <= this.length - 24 && (this.Zra=this.u.Sd(),this.wra=this.u.wa(),this.Yra=this.u.Sd(),this.ura=this.u.wa(),this.Pe[f.yx]={offset:this.Zra,size:this.wra},this.Pe[f.xx]={offset:this.Yra,size:this.ura});return !0;};d.Vb=l;d.Oa=!1;return d;})(r.yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(31);f=r.KE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.uc();1 <= this.version && this.u.tA();d=this.u.wa();this.Pe={};for(var g=this.startOffset + this.length,h=0;h < d;++h){k=this.u.Gl();"uuid" === k && (k=this.u.tA());n=this.u.Sd();this.Pe[k]={offset:g,size:n};g+=n;}return !0;};m.Vb=f;m.Oa=!1;return m;})(a.yc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,qk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,qk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,qk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,qk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);l=a(84);r=(function(m){function d(g,h,k,n,p){k=m.call(this,k,n,p) || this;k.wia=g;k.Oq=h;k.Ua={};return k;}c.__extends(d,m);d.prototype.parse=function(g){var h,k,n,p,q,v;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.wa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.Wn(this.wa());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.tA();}if(0 === h.length && this.Oq.VU(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.wia[p];v=void 0;if(q){if((v=new q(this,p,k,n,h[0]),(h[0] || this).dt(v),v.parse(g)))this.config.GH && q.Oa?h.unshift(v):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Bn - 8;){v=h.shift();if(!v.Ft(g))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.Bn;}if(0 === h.length && this.Oq.pU(p,k,n,v))break;}return !this.Oq.done && (g=this.Oq.endOffset?this.Oq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,JW:g}:{done:!0,offset:Math.min(this.Oq.endOffset || Infinity,this.offset)};};d.prototype.dt=function(g){f.yc.dt(this,g);};return d;})(a(786).Fea);b.lE=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(100);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.VU=function(){return this.done;};l.prototype.pU=function(m,d,g){return this.done=d + g >= this.endOffset;};return l;})();b.iQ=r;r=(function(){function l(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.Gh=m;this.Py=d;this.TY=g;this.iX=h;this.done=!1;this.Pe={};}l.prototype.VU=function(m,d,g){-1 !== l.goa.indexOf(m) && (this.Pe[m]={offset:d,size:g});if(-1 !== this.TY.indexOf(m)){if((this.Pe[m]={offset:d,size:g},this.iX))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Gh && -1 !== this.Gh.indexOf(m)?(m=1 < this.Gh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.Py.indexOf(m) && (m=this.Gh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};l.prototype.pU=function(m,d,g,h){var k;k=this;if(-1 !== this.TY.indexOf(m))return this.done=!0;m === f.JE && this.tY(h.Pe);m === f.KE && this.tY(h.Pe);this.Gh && c(m,this.Gh);c(m,this.Py);return this.Gh && 0 === this.Gh.length && !this.Py.some(function(n){return k.Pe[n];})?this.done=!0:this.done;};l.prototype.tY=function(m){var d;d=this;this.Pe=m;this.endOffset=(this.Gh || []).concat(this.Py).reduce(function(g,h){return d.Pe[h]?(h=d.Pe[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};l.goa=["moov","sidx"];return l;})();b.mca=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lea=void 0;c=a(2);f=a(116);a(5);c.__importDefault(a(39));r=(function(){function l(m,d,g,h){this.U=g;this.rd=m;this.sizes=d;this.length=Math.min(m.length,d.length);this.Sc=h;}Object.defineProperties(l.prototype,{fa:{get:function(){return void 0 !== this.Sc?this.Sc:this.Sc=this.afa();},enumerable:!1,configurable:!0}});l.prototype.subarray=function(m,d){return new l(this.rd.subarray(m,d),this.sizes.subarray(m,d),this.U);};l.prototype.concat=function(){var g,h;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spread(m));d=m.reduce(function(k,n){return k + n.length;},0);g=new Uint32Array(d);h=new Uint32Array(d);d=m.reduce(function(k,n){return k || n.U;},void 0);m.reduce(function(k,n){f.zea.set(g,n.rd,k);f.zea.set(h,n.sizes,k);return k + n.length;},0);return new l(g,h,d);};l.prototype.afa=function(){for(var m=this.sizes,d=this.length,g=0,h=0;h < d;++h){g+=m[h];}return g;};return l;})();b.lea=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eba=void 0;c=a(2);f=a(116);r=a(18);l=c.__importDefault(a(6));m=a(9);d=a(42);g=a(5);h=a(232);k=a(374);a=a(375);n=l.default.MediaSource;a=(function(p){function q(v,u,t,w,x,y,z){u=p.call(this,v,w,x,u,z) || this;k.RZ.OZa(u,v,w,z);u.No=t;u.track=t.track;u.Xv=! !w.Xv;u.DN=! !w.DN;u.xC=! !w.xC;u.NPb=w.fa;u.WO=! !w.WO;u.Yfa=(y?"(cache)":"") + u.Pa + " header";t=w.offset;y=w.fa;u.Nm && (t+=u.Nm.byteLength,y-=u.Nm.byteLength);u.QK(v.url || w.url,t,y);return u;}c.__extends(q,p);Object.defineProperties(q.prototype,{Vc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jX:{get:function(){return this.knb;},enumerable:!1,configurable:!0}});q.prototype.Zc=function(){var v;if(!this.complete){v={type:"headerRequestCancelled",request:this};this.emit(v.type,v);}p.prototype.Zc.call(this);};q.prototype.UU=function(v){this.stream.G8();p.prototype.UU.call(this,v);};q.prototype.lM=function(v,u,t){this.stream.F8();p.prototype.lM.call(this,v,u,t);};q.prototype.hk=function(v){this.Nm=this.Nm?m.rC(this.Nm,v.response):v.response;v.QX();this.stream.F8();this.inb()?p.prototype.hk.call(this,v):this.KLa?(this.QK(v.url,v.offset + v.fa,this.KLa),this.stream.G8(),p.prototype.hk.call(this,v)):this.R4(this);};q.prototype.QK=function(v,u,t){v=new h.PP(this.stream,this.track,this.Yfa + " (" + this.Da.length + ")",{offset:u,fa:t,url:v,location:this.location,Ld:this.Ld,responseType:0},this,this.Od,this.H);this.push(v);this.Sc=this.Da.reduce(function(w,x){return w + x.fa;},0);};q.prototype.inb=function(){var v,u,t,w,x,y;t=this.Od;w=new f.dr(q.ENb,this.stream,this.Nm,["sidx"],!0,{wac:this.stream.track.Xka,T8:void 0 === this.qa,Z$:!n.dc || !n.dc.HRa,$$:t.$$,Dk:t.Dk,SA:this.Od.SA,M6a:!0,RD:!n.dc || !n.dc.w2a});x=w.parse({qa:this.qa});this.k0b=t.SA && w.SYa;if(x.qm){g.assert(x.Pg);this.wK=x.Pg;this.knb=x.jX;this.pMa=! !x.EUa;void 0 === this.qa && void 0 === x.qa && this.H.error("No frame duration available for " + this.Pa);w=x.qa?new m.S(x.qa):this.qa;y=void 0;1 === this.uua.mediaType && (null === (v=t.iA) || void 0 === v?0:v.enabled) && (v=this.uua.lw,(null === (u=v.ND) || void 0 === u?0:u.length)?y=v.ND.map(function(z){return z.Eb;}):x.Rq && (y=x.Rq));this.stream.E8(x.Pg,x.U,w,x.W,x.tH,x.Vh,y);this.Nm=void 0;}else this.KLa=x.fPa || 0;return ! !x.qm;};q.ENb=new l.default.Console("MP4","media|asejs");return q;})(a.bba);b.eba=a;d.sf(k.RZ,a,!1,!1);d.sf(r.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.RZ=void 0;c=a(2);f=a(5);l=a(171);r=(function(m){function d(g,h,k){var n;n=m.call(this,g,h) || this;n.WO=!1;n.Xv=!1;n.DN=!1;n.xC=!1;n.No=void 0;d.OZa(n,g,h,k);return n;}c.__extends(d,m);d.OZa=function(g,h,k,n){l.Tu.xb(g,h,k);g.wK=k.Pg;g.Nm=k.xsa;g.pMa=k.Jk;g.H=n;};Object.defineProperties(d.prototype,{Vc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pg:{get:function(){return this.wK;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xsa:{get:function(){return this.Nm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jk:{get:function(){return this.pMa;},enumerable:!1,configurable:!0}});d.prototype.Zc=function(){};d.prototype.nxa=function(){};d.prototype.Upb=function(g){f.assert(this.dd.Pa === g.Pa);!g.ie && this.dd.ie && g.B3(this.dd);!g.location && this.dd.location && (g.location=this.dd.location,g.wd=this.dd.wd,g.mI=this.dd.mI,g.url=this.dd.url,g.ub=this.dd.ub);this.dd=g;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.W});};return d;})(l.Tu);b.RZ=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bba=void 0;c=a(2);c.__importDefault(a(6));a(5);r=(function(f){function l(m,d,g,h,k){m=f.call(this,m,d,g,h,k) || this;m.zMa=!1;m.yMa=!1;m.fS=!1;m.Da=[];m.bo=!1;m.DNa=!1;m.UMa=!1;m.Xe=!1;m.Vl=!1;m.si=!1;m.WJ=!1;m.BK=void 0;m.qv=void 0;return m;}c.__extends(l,f);Object.defineProperties(l.prototype,{kpa:{get:function(){return this.bo && !this.fS;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Xe;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Uta:{get:function(){return this.Vl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.si || (this.si=this.Da.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.WJ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Sg:{get:function(){return this.Da.reduce(function(m,d){return m + d.Sg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.Da.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pf:{get:function(){return this.BK || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{url:{get:function(){return this.Da[0] && this.Da[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{readyState:{get:function(){return this.sh || this.Da.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.qv && this.qv.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ah:{get:function(){return this.qv && this.qv.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hM:{get:function(){return this.qv && this.qv.hM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ij:{get:function(){return this.qv && this.qv.ij;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zt:{get:function(){return ! !this.Da.length && this.Da[0].Zt;},enumerable:!1,configurable:!0}});l.prototype.push=function(m){this.UMa && m.xb(this.Ra);this.Da.push(m);this.bo && m.QN();};l.prototype.xb=function(m){f.prototype.xb.call(this,m);this.Da.forEach(function(d){return d.xb(m);});this.UMa=!0;};l.prototype.QN=function(){this.DNa=!0;(this.bo=this.Da.every(function(m){return m.QN();})) && this.UU(this);this.DNa=!1;return this.bo;};l.prototype.Zc=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Da.forEach(function(m){return m.Zc();});};l.prototype.I$=function(m){this.sh=this.qv=void 0;return this.Da.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.I$(m):!0;});};l.prototype.abort=function(){var m,d,g;m=this.active;d=this.aborted;this.sh=7;this.WJ=!0;this.Vl=this.Xe=!1;g=this.Da.map(function(h){return h.abort();}).every(function(h){return h;});d || this.lM(this,m,this.kpa);return g;};l.prototype.getResponseHeader=function(m){var d;d=null;this.Da.some(function(g){return ! !(d=g.getResponseHeader(m));});return d;};l.prototype.getAllResponseHeaders=function(){var m;m=null;this.Da.some(function(d){return ! !(m=d.getAllResponseHeaders());});return m;};l.prototype.M8=function(){};l.prototype.eA=function(m){this.Xe || (this.Xe=!0);this.zMa || (this.zMa=!0,this.cs=0,this.BK=this.uu=m.pf,this.mM(this));};l.prototype.BH=function(m){this.Vl || (this.Vl=!0);this.yMa || (this.yMa=!0,this.BK=m.pf,this.BC(this));};l.prototype.CH=function(m){this.BK=m.pf;this.zG(this);this.cs=this.bytesReceived;this.uu=m.pf;};l.prototype.hk=function(m){this.BK=m.pf;this.complete?(this.si=!0,this.sh=5,this.Vl=this.Xe=!1,this.fS=!0,this.Jt(this)):this.zG(this);this.cs=this.bytesReceived;this.uu=m.pf;};l.prototype.cX=function(m){this.BK=m.pf;this.qv=m;this.sh=6;this.R4(this);};l.prototype.bX=function(){};l.prototype.ci=function(){return this.Da[0].ci() + "-" + this.Da[this.Da.length - 1].ci();};l.prototype.toString=function(){return "Compound[" + this.Da.map(function(m){return m.toString();}).join(",") + "]";};l.prototype.toJSON=function(){return {requests:this.Da};};return l;})(a(233).cJ);b.bba=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mla=void 0;b.Mla=function(a,c){for(var f,l,m=a.length - 1;0 <= m;--m){if((l=a[m],l.$t)){if(l.bitrate <= c)return m;f=m;}}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.p0=void 0;c=a(21);f=a(20);r=(function(){function l(m){this.ue=m;}l.j3=function(m,d,g,h){var k;k=c.S.bb;d && (g=null === g || void 0 === g?void 0:g.V7b,m.Y_b && void 0 !== g && 0 <= g?(m=new c.S(g,48E3),k=d.add(m),f.ga && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + m) + (" for ASE applied offset of " + k + "."))):m.dC && (k=d));return k;};l.prototype.append=function(m){var d;d=m.Qe;return {yd:m.yd,offset:m.offset.add(this.ue),Qe:d};};return l;})();b.p0=r;},function(r,b,a){var f;function c(l,m){this.mnb=l.iA && l.iA.enabled;this.EF=void 0;this.dmb=m;this.Jga=[];this.fha=[];this.O1=[];this.$f=[];}f=a(39).$G;c.prototype.reset=function(l){this.EF=void 0;this.Jga=[];this.fha=[];this.O1=[];l && (this.$f=[]);};c.prototype.add=function(l,m){var d,g,h;d=m.filter(function(k,n){return f(k) || n === l.Ge;});g=d.map(function(k){return k.bitrate;});m=m[l.Ge];d=d.indexOf(m);if(this.EF && (this.EF.length !== g.length || this.EF.some(function(k,n){return k !== g[n];}))){h=this.CWa();h && (this.$f.push(h),this.reset(!1));}void 0 === this.EF && (this.EF=g);this.Jga.push([d,l.Vwa,l.Cc,l.Kia,l.NQa,l.CRb,l.HOb,l.rf,l.Fp,l.Vj,l.LYb - l.Vwa,l.iRb]);void 0 !== l.ju && this.O1.push([l.Vwa,l.ju.UO,l.ju.BL,l.ju.kO]);this.mnb && void 0 !== m.W && (d=m.W.hn(l.Vj),-1 != d && (d=m.W.get(d),h=d.duration,m=d.Eb || m.Eb,void 0 !== m && this.fha.push({Y:d.Y,duration:h,Eb:m})));};c.prototype.CUa=function(l){for(var m=[],d=[],g=0;g < l.length;g++){for(var h=l[g],k=[],n=0;n < h.length;n++){k.push(h[n] - (d[n] || 0));}m.push(k);d=h;}return m;};c.prototype.CWa=function(){var l,m;l=this.CUa(this.Jga);if(0 !== l.length){m=0 < this.O1.length?this.CUa(this.O1):[];return {dltype:this.dmb,bitrates:this.EF,seltrace:l,vmaftrace:this.fha,paceratetrace:m};}};c.prototype.get=function(){var l,m;l=this.CWa();m=this.$f;l && m.push(l);if(0 !== m.length)return m;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wza=void 0;c=a(810);r=(function(){var q00;function f(l){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var R2g="1SIYbZ";R2g+="rNJCp";R2g+="9";this.H=l;R2g;r00=5;break;}}}q00=2;for(;q00 !== 3;){switch(q00){case 2:f.prototype.Mjb=function(l,m){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 2:m=c.iSa(m,l);d=l.steeringAdditionalInfo;s00=5;break;case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 4:var U2g="applyi";U2g+="ng manifest based s";U2g+="treamingClientConfig";return (l=d.streamingClientConfig,this.H.trace(U2g + JSON.stringify(l)),this.ENa(m,l));break;case 9:s00=!l?8:7;break;case 3:l=l.cdnResponseData;s00=9;break;case 7:var B2g="using";B2g+=" sab c";B2g+="ell >= 100, pipelineEnab";B2g+="led: ";var p2g="using";p2g+=" sab cell >";p2g+="= 200, pipelineEn";p2g+="abled: ";var L2g=", allo";L2g+="wSwitchbac";L2g+="k";var a2g=", probeDe";a2g+="tailDeno";a2g+="min";a2g+="ator: ";var T2g="using";T2g+=" s";T2g+="ab cell >= ";T2g+="300, probeServer";T2g+="WhenError: ";var h2g=", allo";h2g+="wSwitch";h2g+="bac";h2g+="k";var k2g=", probeDe";k2g+="tailDenom";k2g+="inator: ";var P2g="u";P2g+="sing sab cell >= 4";P2g+="00, ";P2g+="probeServer";P2g+="WhenError: ";(l=l.sessionABTestCell) && (l=l.split(".")) && 1 < l.length && (l=parseInt(l[1].replace(/cell/i,""),10),400 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.wu=!0,m.RH=1,m.ly=!0),this.H.trace(P2g + m.wu + k2g + m.RH + h2g + m.ly)):300 <= l?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.wu=!0,m.RH=1,m.ly=!1),this.H.trace(T2g + m.wu + a2g + m.RH + L2g + m.ly)):200 <= l?(m.set?m.set({pipelineEnabled:!1}):m.wq=!1,this.H.trace(p2g + m.wq)):100 <= l && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.y7}),m.set({maxPendingBufferLen:m.E7})):(m.wq=!0,m.sN=1,m.ow=m.y7,m.kD=m.E7),this.H.trace(B2g + m.wq)));return m;break;case 8:return m;break;}}};f.prototype.Ojb=function(l,m){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 1:return m;break;case 6:return m;break;t00=5;break;case 2:t00=!m.Pja || l === this.Llb?1:5;break;case 5:this.Llb=l;for(var d in m.Pja){new RegExp(d).test(l) && (m=this.ENa(m,m.Pja[d]));}return m;break;}}};f.prototype.ENa=function(l,m){var u00,d,g,h;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(g in m){if(m.hasOwnProperty(g)){var q2g="Inv";q2g+="alid";q2g+=" key";h=m[g];l.set?0 === l.set((d={},d[g]=h,d)) && this.H.trace(q2g + g):l[g]=h;}}return l;break;}}};q00=4;break;case 4:return f;break;}}})();b.Wza=r;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=b.WIa=void 0;a=(function(){function f(){var l;l=this;this.KS=[];this.UTb=function(m){m=l.KS.indexOf(m);0 <= m && l.KS.splice(m,1);};}Object.defineProperties(f.prototype,{cC:{get:function(){return 0 !== this.KS.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{g3a:{get:function(){return this.KS.length;},enumerable:!1,configurable:!0}});f.prototype.add=function(){var l;l=new c(this.UTb);this.KS.push(l);return l;};f.prototype.Oab=function(l){var m;m=this.add();try{return Promise.resolve(l()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return f;})();b.WIa=a;c=(function(){function f(l){this.Inb=l;}f.prototype.release=function(){this.Inb(this);};return f;})();r=(function(){function f(l,m){this.uPb=l;this.console=m;this.counter=new a();}f.prototype.gy=function(){var l,m;l=this;this.console.trace("Acquiring lease, total count",this.counter.g3a + 1);m=this.counter.add();return {release:function(){m.release();l.console.trace("Releasing lease, total count",l.counter.g3a);l.uPb(function(){return !l.counter.cC;});}};};return f;})();b.SDa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=b.wR=void 0;c=a(2);f=a(18);l=c.__importStar(a(10));m=c.__importDefault(a(86));d=a(16);g=a(238);h=a(21);r=a(42);k=c.__importDefault(a(6));n=a(815);p=a(383);(function(v){v[v.NVa=0]="forwards";v[v.oia=1]="backwards";v[v.HN=2]="none";})(q=b.wR || (b.wR={}));a=(function(v){function u(t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L){var R,I,P;I=v.call(this,void 0,w,y,E.O,t,E,void 0,F,J,h.S.tb(C),B.Me.bind(B),G,L,void 0,new f.EventEmitter(),void 0) || this;I.qb=t;I.Sh=x;I.jc=z;I.q1=A;I.V=B;I.OK=D;I.ng=G;I.aV=K;I.Jg=H;I.ll=L;I.active=!1;I.MMa=[];I.yga=0;null === (R=I.O) || void 0 === R?void 0:R.$ta(I);I.children=Object.create(null);I.Tw=[];I.je=void 0;void 0 === J && (J=h.S.tb(E.Y));P=[I.I.aQa,I.I.gwa];F.forEach(function(N){var M;M=N.mediaType;N=new p.T_(t,I.Sh,I.H,I,N,J.T,P[M],w,I.q1,I.Jg,I.Gfa[M],null === G || void 0 === G?void 0:G.fb(M));I.de.OVb(M,N);});I.Xs=I.de.AX;return I;}c.__extends(u,v);Object.defineProperties(u.prototype,{J:{get:function(){return this.O.J;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{um:{get:function(){var t,w,x,y;return [null !== (w=null === (t=this.fb(0)) || void 0 === t?void 0:t.um) && void 0 !== w?w:0,null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.um) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ym:{get:function(){var t,w,x,y;return [null !== (w=null === (t=this.fb(0)) || void 0 === t?void 0:t.Ym) && void 0 !== w?w:{T:0,fa:0},null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.Ym) && void 0 !== y?y:{T:0,fa:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Y9:{get:function(){return this.N.Y;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Vsa:{get:function(){return this.Y9 + this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fc:{get:function(){return this.N.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Yd:{get:function(){return this.Fc + this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ec:{get:function(){return this.O.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{weight:{get:function(){return this.N.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{N:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Tk:{get:function(){return this.de;},enumerable:!1,configurable:!0}});u.prototype.xf=function(){var t;this.vh || (this.active=!1,this.ng && (delete this.ng.children[this.N.id],this.ng=void 0),l.kf(this.children,function(w){w && w.ng && (w.ng=void 0);}),this.children=Object.create(null),this.iK=void 0,v.prototype.xf.call(this),null === (t=this.O) || void 0 === t?void 0:t.cxa(this),this.de.clear());};u.prototype.yua=function(t,w){void 0 === w && (w=q.oia);this.Tk.forEach(function(x){(l.ha(t) || x.mediaType === t) && x.reset();});switch(w){case q.oia:this.ng && this.ng.yua(t,w);break;case q.NVa:this.children && l.kf(this.children,function(x){x && x.yua(t,w);});}};u.prototype.NV=function(t){var w,x,y;if(!this.active)return !1;w=this.ng;if(w){x=w.fb(t);y=x.Ra.l4a;if(0 !== y && (w.iL(t),y=x.Ra.l4a,0 !== y))return !1;}return !0;};u.prototype.Qd=function(t){return this.Tk.get(t);};u.prototype.lHb=function(){return this.Tk.every(function(t){return 0 === t.wA;});};u.prototype.toJSON=function(){return c.__assign(c.__assign({},v.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.sd,playerEndPts:this.Yd,pipelines:this.Tk,previousBranch:this.ng});};u.prototype.V7a=function(t,w){this.O.cxa(this);this.O=this.N.O=t;this.vva(this.O);this.O.$ta(this);this.Tk.forEach(function(x){var y;y=w[x.mediaType];y && x.vY(y);});};u.prototype.AFb=function(t){return this.ll[t];};u.prototype.fb=function(t){return this.Tk.get(t);};u.prototype.NFb=function(t){return this.fb(t).wA;};u.prototype.tva=function(t,w,x){var y,z,A,B;y=this;z=this.N;t=this.k3(z.Y,this.O,t,this.J === (t?t.J:this.jc.Nc.J));A=t.eO;B=t.bz;void 0 === w && (w=[0,1]);0 === B.length || w.forEach(function(D){var E,F;E=y.fb(D);x && (E.he=B[D]);F=y.NU(z.Ha);E.l$(F[D]);});return A;};u.prototype.R5a=function(t,w){var x,y,z;x=this.qb;y=this.fb(0);void 0 === w && (w=y.EIb);this.ng && (z=this.ng.Qd(0));x=new p.T_(x,this.Sh,this.H,this,t,w,y.HO,this.I,this.q1,this.Jg,this.Gfa[0],z);this.de.replace(y,x);this.Xs=this.de.AX;this.tva(this.ng,[0],!0);x.oI(w,! !this.ng);y.xf();l.kf(this.children,function(A){A && A.R5a(t);});};u.prototype.Gt=function(t,w){if(w=this.fb(w))return w.Ra.Gt(t);};u.prototype.iL=function(t){void 0 === t?this.Tk.forEach(function(w){w.iL();}):this.fb(t).iL();};u.prototype.DX=function(t,w,x){(t=this.fb(t)) && t.Ra.DX(w,x);};u.prototype.F5=function(t,w){(w=this.fb(w)) && w.Ra.F5(t);};u.prototype.$Lb=function(t){this.MMa[t]=!0;};u.prototype.htb=function(){var t;t=this;return [0,1].every(function(w){return !t.ec(w) || t.MMa[w];});};u.prototype.ftb=function(t,w,x,y){var z,A,B,D,E,F,C,G,J;z=this.I;A=this.qb;B=this.V.getState();D=B === d.ma.ud || B === d.ma.If;if(!D && void 0 === x)return {Le:!0};if(B === d.ma.If && k.default.time.ea() < this.yga + z.ora)return {Le:!1};E=this.fb(0);F=this.fb(1);C=this.jc.Lv(this,0);G=this.jc.Lv(this,1);J=g.h9(B);C=!E || E.mRa(J,this.V.Me(),w,C,this.V.wo(),y);G=!F || F.mRa(J,this.V.Me(),t,G,this.V.wo(),y);void 0 !== x && C && (x=x.trackId,t=this.O.getTrackById(x),this.Tjb(x,t.aE),A.py=void 0);if(C && G)return (this.OK(),this.CT=k.default.time.ea(),B === d.ma.If && (this.yga=k.default.time.ea()),{Le:!0,kt:F?F.QF:E.QF});C=this.xh(0);G=this.xh(1);if(D){A=!F || G > z.hj;if((!E || C > z.hj) && A && (E=this.aV(),E >= z.kA))return (this.Rb("buffering longer than limit: " + E + " >= " + z.kA + ", audio buffer: " + C + " ms, video buffer: " + G + " ms"),this.OK(),this.CT=k.default.time.ea(),B === d.ma.If && (this.yga=k.default.time.ea()),{Le:!0,kt:"prebufferTimeLimit"});this.Sh.vmb();}return {Le:!1};};u.prototype.hja=function(t,w){var x,y,z,A,B,D;x=this.I;y=this.fb(0);z=this.fb(1);w?(w=this.xh(0,t),t=this.xh(1,t)):(w=this.jc.Lv(this,0,t),t=this.jc.Lv(this,1,t));A=x.hj;B=!this.ec(0) || y.Mh && 0 === y.Ra.yD && 0 === y.Ra.As;y=!this.ec(1) || z.Mh && 0 === z.Ra.yD && 0 === z.Ra.As;D=B && y;x=!B && w < x.hj;if(!D && (x || !y && t < A))return !1;if(z && z.Le || !this.ec(1))return !0;if(D)if(this.qb.R1 && 0 === w && 0 === t)this.Rb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};u.prototype.i$=function(t,w){var x,y;x=this;y=this.I;this.Tk.forEach(function(z){z.seeking=void 0;});t && y.$h && this.Tk.forEach(function(z){var A;if(z){A=x.jc.UF(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Ym.fa + ", completedMs: " + z.zL + ", completedBytes: " + A + ", partials: " + z.Ra.yD + ", streamingPts: " + z.Cc + ", completeStreamingPts: " + z.Op + ", fragments: " + JSON.stringify(z.Ra.W) + ", toAppend: " + w(z.mediaType);x.Sh.pm(z);}});};u.prototype.SD=function(t,w,x){var y,z,A;y=this;z=k.default.time.ea();A={};l.kf(this.children,function(B){var D,E,F,C;if(B){if(B.je){B.je.Czb=z - B.je.u6;B.je.u6=void 0;D=B.je.weight;}else D=y.jc.hYa(y.N.id,B.N.id);E=B.DC();F=y.fb(0) && 0 === E.vr;C=y.fb(1) && 0 === E.Mn;A[B.N.id]={weight:D,Br:E,xV:!F && !C};}});x={Gq:z,Qe:t,Bka:x,t$:this.N.id,je:A};t || (t=w.Me(),x.YO=t - (this.N.Y + this.Ce),x.YO=Math.max(0,x.YO),x.V3=0,x.startTime=z);this.Tw.unshift(x);return x;};u.prototype.hub=function(t){var w,x;w=this.Tw[0];w.Qe && (w.YO=this.Fc - this.N.Y,w.YO=Math.max(0,w.YO));w.f$a={};x=t.DC();m.default(x,w.f$a);w.xV=t.Ym.every(function(y){return 0 < y.T;});this.Tw=[];return w;};u.prototype.Gn=function(t){var w;w=this.N;t-=this.Ce;if(w.Y < t && t < w.Ha)this.Tw.shift();else if(w=this.Tw[0])w.Gn=!0;};u.prototype.k3=function(t,w,x,y){var z,A,B,D;z=this;void 0 === w && (w=this.O);A=!1;if(x){A=!0;B=x.fb(1).Bf;x=x.fb(0).Bf;if(!B || !x)return {eO:[],bz:[]};B=B.Ha;y || (B=void 0);}D=this.pVa(t,B,A,w);w.Mb === this.jc.Gxb && [1,0].forEach(function(E){var F;F=z.fb(E);F && (F.he=D[E]);});return {eO:D.map(function(E){return E.Y;}),bz:D};};u.prototype.pVa=function(t,w,x,y){var z;z=this;void 0 === y && (y=this.O);return this.BOa(y)?[1,0].map(function(A){var B;if(!z.ec(A))return {};B=y.eh[A];A=z.fb(A).gn(B.stream,t,w,x);t=A.Y;return A;}).reverse():[];};u.prototype.NU=function(t,w){var x;x=this;void 0 === w && (w=this.O);return this.BOa(w)?[1,0].map(function(y){var z;if(!x.ec(y))return {};z=w.eh[y].stream;y=x.fb(y).$y(z,t);t=x.I.og?new h.S(y.nb,z.qa.U).T:y.Ha;return y;}).reverse():[];};u.prototype.s_b=function(t,w){var x;x=this.N.Ha;x && x < w && (t=this.NU(x));w=this.Qd(1);x=this.Qd(0);w && w.l$(t[1]);x && x.l$(t[0]);};u.prototype.BOa=function(t){var w;w=t.eh;if(!w)return !1;t=w[1];t=!this.ec(1) || t && t.stream.ie;w=w[0];w=!this.ec(0) || w && w.stream.ie;return t && w?!0:!1;};u.prototype.Tjb=function(t,w){this.Sh.tmb(t,w);};return u;})(n.ZDa);b.UDa=a;r.sf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dda=b.Eeb=void 0;c=a(2);f=c.__importDefault(a(6));l=a(20);m=a(816);d=a(9);r=(function(){return function(g,h,k){var n;this.I=h;k=d.tq(f.default,k,"[" + g + "]");this.h2a=1 === g?h.c8:h.U7;n=f.default.vo()[g];this.oW=1 === g?h.CMb:h.jMb;this.oW=Math.min(h.qMb * n,this.oW);l.ga && k.trace("This pipeline's buffer size ",n,this.oW);this.Y7=(1 === g?h.$z:h.uw) || h.Y7;this.C7=(1 === g?h.BMb:h.iMb) || h.C7;this.Gha=h.Gha;};})();b.Eeb=r;r=(function(g){function h(k,n,p){return g.call(this,k,n,p) || this;}c.__extends(h,g);h.prototype.pEb=function(k,n,p,q){var v,u,t,w,x;t=n === p.he.index;w=n === p.Bf.index;if(!w || t && p.he.oa){if(t){x=k.XWa(p.he);x.OO(p.he.Lu);w && (p.he.oa || p.Bf.oa) && x.Ih({start:null === (v=x.oa) || void 0 === v?void 0:v.start,end:null === (u=p.Bf.oa) || void 0 === u?void 0:u.end});}else x=k.Mk(n);}else (x=k.XWa(p.Bf),x.OO(p.Bf.Lu));x.EN=n + 1;if(v=m.$Xa(p,p.Cc))(l.ga && p.Rm("getFragmentForRequest pts:",p.Cc,"in region:",v,"previous region:",p.Gpa),m.hUa(p.H,x,v,{nJb:t,tJb:w,zJb:void 0 === p.Gpa || p.Gpa !== v.region}));w && (x.n1a(),x.nWb(p.gb.N));if(x.EN !== n && !q && (this.Gha || !x.oa))for(++n;n < k.W.length && n < p.Bf.index && (x.fa < this.h2a || x.duration < this.Y7) && (1 === x.stream.Pg.length || this.Hsb(k,n));++n){q=k.Mk(n);if(m.m_a(p,q))break;if(x.duration + q.duration > this.C7)break;if(x.fa + q.fa > this.oW)break;x.E2(q);x.EN=n + 1;l.ga && p.Rm("getFragmentForRequest: extended fragment startPts:",x.Y,"to duration:",x.duration,"size:",x.fa,"min request size:",this.h2a,"max request size:",this.oW,"min request duration:",this.Y7,"max request duration:",this.C7,"edit:",x.oa);}l.ga && p.Rm("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.Yla,"lastRequestInRegion:",x.gw,"nextIndex:",x.EN);return x;};h.prototype.Hsb=function(k,n){return !k.Pg.some(function(p){return n === p.Wd;});};return h;})(r);b.dda=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.T_=void 0;c=a(2);r=a(384);f=c.__importDefault(a(28)).default.Qa;l=a(363);m=a(16);d=c.__importDefault(a(6));g=a(174);h=a(5);k=a(21);n=a(845);a=(function(p){function q(v,u,t,w,x,y,z,A,B,D,E,F){t=p.call(this,w,A,t,w,w,x,k.S.tb(y),z,E,!1,null === F || void 0 === F?void 0:F.Gg) || this;t.qb=v;t.Sh=u;t.gg=B;t.Jg=D;t.Hia=0;t.AC=[];t.Mx=!1;t.fo.$$a=!1;t.eS=new n.VDa(w,t.Jg,A,t.H,t.mediaType,t.Sh,t.Ra,t.qb);t.BKb=d.default.time.ea();t.vKb=void 0;t.mH=A.Noa;t.Z4a=d.default.time.ea();u=g.GM(A);v=u.GD;u=u.l9;t.DRb=0 === t.mediaType?v:u;t.vY(x);return t;}c.__extends(q,p);Object.defineProperties(q.prototype,{et:{get:function(){return this.Ra.et;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zL:{get:function(){return this.Ra.zL;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qC:{get:function(){return this.Ra.qC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wA:{get:function(){return this.Ra.wA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Mh:{get:function(){return this.eS.Mh;},set:function(v){this.eS.Mh=v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xq:{get:function(){return this.eS.Xq;},set:function(v){this.eS.Xq=v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{p7:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{EIb:{get:function(){return this.SMa.T;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HO:{get:function(){return this.$k.HO;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YFb:{get:function(){return this.qb.Cga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Le:{get:function(){return this.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{QF:{get:function(){return this.TLa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.Mh=!1;this.fo.reset();};q.prototype.xf=function(){this.reset();p.prototype.xf.call(this);};q.prototype.$y=function(v,u){return l.$y(this.Pj.mediaType,this.I,v,u,this.og,this.qb.RMb);};q.prototype.gn=function(v,u,t,w){return l.gn(this.Pj.mediaType,this.I,v,u,t,w);};q.prototype.Gn=function(){this.mH=this.I.Noa;};q.prototype.iL=function(){this.Ra.caa();};q.prototype.vY=function(v){var u,t;u=this.qb;t=this.mediaType;h.assert(v.mediaType === t);h.assert(v.O === this.gb.O);this.Pj=v;this.gb.O.mxa(t,v.$d);u.slb(this,v.Rz);this.psb(v.$d);this.Gg.vY(v);this.gb.O.sja();this.Mh=!1;};q.prototype.Jla=function(v){var u;u=this.gb.O.eh[this.mediaType];if(u && u.stream.ie && (v=u.stream.W.hn(v),-1 !== v))return v;};q.prototype.oI=function(v,u){var t,w,x;if(this.he && this.he.Y === v){u=this.he.index;t=v;}else {w=this.gb.O;x=w.eh[this.mediaType];if(!x || !x.stream.ie){this.HH=v;this.DQb=u;return;}t=x.stream.W;this.he=this.gn(x.stream,v,void 0,u);if(void 0 === this.he){if((u=t.length - 1,t=t.rj(u),this.Rb("setStreamingPts out of range of fragments, pts:",v,"last startPts:",t,"fragment index:",u,"fastplay:",w.qf.Og),w.qf.Og)){this.HH=v;return;}}else (u=this.he.index,t=this.he.Y);}this.un=u;this.QS=t;this.HH=void 0;};q.prototype.z0b=function(v){var u,t;u=this.Pj.dw(v);t="verifying streamId: " + v + " stream's track: " + (u?u.Pa:"unknown") + " currentTrack: " + this.Pj.trackId;return u?!0:(this.Sh.pm(t),this.Sh.pm("unknown streamId: " + v),!1);};q.prototype.psb=function(v){this.BHb=v.reduce(function(u,t){return t.$t && t.bitrate > u.bitrate?t:u;},v[0]);};q.prototype.l$=function(v){this.Bf=v;};q.prototype.SLb=function(v,u,t,w,x){this.l$a(v,u,w,x);t && ++this.Hia;this.qb.Oj();};q.prototype.eA=function(v){v.Ha && v.Y && (this.mH-=v.Ha - v.Y);p.prototype.eA.call(this,v);};q.prototype.hk=function(v){this.IYa(v);this.Jt(v);};q.prototype.u_b=function(v){var u;u=d.default.time.ea();this.mH+=v * (u - this.Z4a);this.Z4a=u;};q.prototype.xUb=function(){this.mH=this.I.Noa;};q.prototype.wL=function(v){this.Ra.dja();this.og || this.eS.wL(v,this.Fc);};q.prototype.IYa=function(v){var u,t,w;t=this.p7;w=this.qb;this.gg.nOa() || (this.Sh.Smb(v.mediaType,v.O.Mb,v.stream.track.bC,this.Op,this.ya),null === (u=this.og) || void 0 === u?void 0:u.rIb(v),u=t.V.Me() || 0,w.Ab.Ox() || (t=t.fb(f.Jb)) && !t.Le && t.W5 && w.Ab.Dna(t),this.wL(u),this.qb.HYa(v),this.gg.f1(this) && this.gg.Oj());};q.prototype.qsa=function(v){this.qb.T5(v);};q.prototype.mRa=function(v,u,t,w,x,y){var z,A;z=this.I;A=z.hj;if(t >= z.hj && (z.I9 && (A=t + 1E3),z.J9 && !this.connected))return !1;if(this.og)return this.og.By();t=this.Mh && 0 === this.Ra.wsa && 0 === this.Ra.As;return !t && w < A?!1:t?y && 0 === w?(this.Rb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.ptb(v,u,x);};q.prototype.eWb=function(v){this.QS=v;};q.prototype.i$=function(v){this.Mx=!0;this.TLa=v;};q.prototype.qja=function(){this.Mx=!1;this.TLa=void 0;};q.prototype.ptb=function(v,u,t){if(this.Le || 0 === this.mediaType)return !0;if(void 0 === this.au)return !1;u=this.flb(u,v);this.track.O.lm.nZ(this.track.O.Z,this.track.$d);this.$k.hta([this.au],!1,u,this.DRb);v=this.$k.By(u,v,t,this.au,this.gb.O.Xp);v.complete?this.i$(v.reason):(this.qja(),this.hD=v.hD,this.progress=v.progress);return this.Le;};q.prototype.flb=function(v,u){var t,w,x,y,z;y=d.default.vo()[this.mediaType];z=this.Ra.F5();v={Mv:y,Y:null !== (t=z.sd) && void 0 !== t?t:0,Gc:v,Cc:null !== (w=z.$N || v) && void 0 !== w?w:0,bm:null !== (x=z.PT || v) && void 0 !== x?x:0,Sg:z.Sg,Sk:z.Sk,QVa:z.W.length,W:z.W};"number" !== typeof v.Y?(v.Y=0,v.Cc=0):u === m.Dc.ud && v.Gc !== v.Y && (v.Gc=v.Y);return v;};return q;})(r.zda);b.T_=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.zda=void 0;c=a(2);f=a(18);l=a(817);m=a(83);d=a(818);g=a(825);h=a(243);k=a(244);n=a(9);p=a(5);q=a(21);v=c.__importDefault(a(6));r=a(102);u=a(42);t=a(387);w=a(123);a=(function(x){function y(z,A,B,D,E,F,C,G,J,K,H,L,R){var I;I=x.call(this,z) || this;I.I=A;I.Ud=E;I.Pj=F;I.SMa=C;I.dlb=J;I.zv=R;I.events=new f.EventEmitter();I.connected=!1;I.coa=!1;I.Pl=!1;I.H=n.tq(v.default,B,"[" + I.mediaType + "]");I.Ak=I.H.error.bind(I.H);I.Rb=I.H.warn.bind(I.H);I.Rm=I.H.trace.bind(I.H);I.QS=C.T;"string" === typeof G || void 0 === G?(z=0 === I.mediaType && A.cla || 1 === I.mediaType && A.dla,I.Tga=new k.rea(G,A,new h.qea(H),z)):I.Tga=G;I.Pm=new l.yHa(I,D,I.I,I.H,I.mediaType);I.fo=new d.gJa(I,A,I.H,I.Pm,I.Ud,I.mediaType,I.zv,function(){return I.oj;});A.og && (I.og=new g.WJa(A.og,I.H));K && (I.Cf=null !== L && void 0 !== L?L:t.xt(I.mediaType,I.track.O,I.I,I.H,I.Pm.xCb.bind(I.Pm),function(){}),I.Cf.on("created",function(){return I.events.emit("requestQueueCreated");}));return I;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Pj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.Pj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gb:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ya:{get:function(){return this.Ud.N.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ra:{get:function(){return this.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$d:{get:function(){return this.Pj.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ym:{get:function(){return this.fo.Ym;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{um:{get:function(){return this.fo.um;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cc:{get:function(){return this.QS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{v$:{get:function(){var z;return null !== (z=this.mj) && void 0 !== z?z:this.Or;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OT:{get:function(){var z;return null !== (z=this.Ra.OT) && void 0 !== z?z:this.v$;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nha:{get:function(){return this.Ra.OT;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Op:{get:function(){return this.Ra.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Dja:{get:function(){return this.Ra.Dja;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sKb:{get:function(){var z;z=this.Ra.tKb;return null === z || void 0 === z?void 0:z.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hw:{get:function(){return ! !this.Bf && (this.un > this.Bf.index || this.QS >= this.Bf.Fc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ql:{get:function(){return this.hw && 0 === this.fo.yD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{et:{get:function(){return this.Ra.et;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qq:{get:function(){return this.te?q.S.max(this.te.Ca(this.Li),q.S.bb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{az:{get:function(){return this.gb.az;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{SSa:{get:function(){return this.Ra.W.wU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$k:{get:function(){return this.Tga;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Gg:{get:function(){return this.$k.Gg;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{au:{get:function(){return this.$k.Gg.au;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){var z,A;return null !== (A=null === (z=this.he) || void 0 === z?void 0:z.U) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wa:{get:function(){var z;return null === (z=this.he) || void 0 === z?void 0:z.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nb:{get:function(){var z;return null === (z=this.Bf) || void 0 === z?void 0:z.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oj:{get:function(){return this.gb.eg.Vf(this.U).Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W5:{get:function(){return this.Ra.W5;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Pw:{get:function(){return this.Ra.Pw;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Xva:{get:function(){return this.Ra.Xva;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Or:{get:function(){return this.SMa.add(this.gb.eg);},enumerable:!1,configurable:!0}});y.prototype.YS=function(){var z;z=this;this.fo.YS(void 0,function(A){var B;B=A[0];A=B.$c;B=B.index;B < z.un && z.NO(A,B);});};y.prototype.reset=function(){this.Ra.reset();this.he && this.NO(this.he.$c,this.he.index);this.Cf && this.gb.O.XK(this.mediaType,this.Cf);};y.prototype.xf=function(){var z;this.Pl=!0;this.fo.xf();null === (z=this.Tga) || void 0 === z?void 0:z.Gg.Kb();this.Cf && (this.gb.O.XK(this.mediaType,this.Cf),w.fp.instance.QL(this.Cf),this.Cf.removeAllListeners(),this.Cf=void 0);};y.prototype.toJSON=function(){return {started:this.Pw,startOfSequence:this.Xva,segmentId:this.ya,requestedBufferLevel:this.um,viewableId:this.Ud.O.Z,hasFragments:this.W5};};y.prototype.Am=function(){return this.Ra.Am();};y.prototype.NO=function(z,A){this.QS=z;this.un=A;};y.prototype.jz=function(){return this.Ra.jz();};y.prototype.tG=function(){this.Ra.close();};y.prototype.cG=function(z){return (z=this.Ra.Gt(z.T))?z.complete:!1;};Object.defineProperties(y.prototype,{Rg:{get:function(){return this.Ud.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Li:{get:function(){var z,A,B,D;return null !== (D=null !== (z=this.Ra.Li) && void 0 !== z?z:null === (B=null === (A=this.he) || void 0 === A?void 0:A.Jc) || void 0 === B?void 0:B.add(this.gb.eg)) && void 0 !== D?D:this.Or;},enumerable:!1,configurable:!0}});y.prototype.m$a=function(z,A){var B;p.assert(this.Cf);p.assert(!this.Pl,"pipeline.tryIssueRequest on disabled pipeline");B=z.q5();return B?this.l$a(z,B,this.Cf,A):(z=z.bE(this.Cf))?{rn:z,reason:"success"}:{rn:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.z6=function(z,A){z && (this.he=z);A && (this.Bf=A);p.assert(this.he);p.assert(this.Bf);p.assert(void 0 === this.un);this.NO(this.he.$c,this.he.index);};y.prototype.truncate=function(z){var A;A=this;p.assert(this.he,"expected first fragment to exist on updateStreaming");this.Bf=z;this.hw && (z=c.__read(this.fo.Uob(z),2),this.NO(z[0],z[1]),this.Pr() && (this.Ra.v7a(),this.Ra.dja(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.aD=function(){return this.Pr()?!1:this.di()?!0:this.track.l8;};y.prototype.di=function(){return void 0 !== this.he && void 0 !== this.Bf;};y.prototype.Pr=function(){return this.Pl || this.hw;};Object.defineProperties(y.prototype,{X4a:{get:function(){var z;z=!0;this.I.J9 && (z=this.connected);this.I.I9 && (z=z && this.coa);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZPb:{get:function(){return void 0 !== this.og;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G3a:{get:function(){var z;return (null === (z=this.og) || void 0 === z?0:z.By())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.hk=function(z){this.Pm.oOb(z);"oncomplete" === this.I.LZa && (this.coa=!0);this.Jt(z);};y.prototype.eA=function(z){z.Vc || this.Pm.Y2a(z.stream,z.Y,z.$c);this.Pm.lOb(this.ya,z.stream,z.Vc);this.mM(z);};y.prototype.BH=function(z){z.D2 || (this.connected=!0);"onfirstbyte" === this.I.LZa && (this.coa=!0);this.BC(z);};y.prototype.cXa=function(z){var A,B;A=this.Ra.W;if(0 === A.length)return {W:[],U8:0,Sk:0};B=A.jM(z.T);0 > B && (B=void 0 === A.Y || z.T <= A.Y?0:A.length);return {W:A.rVb(B),U8:Math.max(0,A.URa - B),Sk:A.Sk};};y.prototype.l$a=function(z,A,B,D){var E,F,C,G,J,K;C=this.Ud;G=C.O;J=this.mediaType;K=this.un;if(K >= A.length)return (this.Rb("makeRequest nextFragmentIndex:",K,"past fragments length:",A.length),{rn:!1,reason:"insufficientFragments"});if(!this.he || !this.Bf)return (this.Rb("makeRequest delayed, first or last fragment not set","first:",! !this.he,"last:",! !this.Bf),{rn:!1,reason:"noFirstOrLastFragment"});A=this.dlb.pEb(z,K,this,G.Cz());this.Gpa=A.region;null === (E=this.og) || void 0 === E?void 0:E.tIb(A,z);A.rq && 1 === J && this.Pm.nga(C.N,A.Ha);this.I.tN && (A.tN=this.I.tN);void 0 !== z && (A.location=z.location,A.Ld=z.wd,A.kva=z.ns);if(E=C.O.p$)(J=0 === J && this.I.cla || 1 === J && this.I.dla,K=this.I.vAb && 1 === this.mediaType && this.I.wq,A.$H=J?D:void 0,A.q$=E.vt({mL:C.xh(this.mediaType),u8:this.I.qAb?this.I.u8:void 0,Q9a:String(v.default.time.ea()),TT:J?D:void 0,xia:K?{start:A.offset,size:A.fa}:void 0}));v.default.time.ea();B=this.Ra.lxb(A,B,z);if(!B.QN()){this.Rb("MediaRequest.open error: " + B.ah + " native: " + B.ij);if(7 === B.readyState)return {rn:!1,reason:"requestAborted"};this.Rb("makeRequest caught:",B.ah);G.Fh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {rn:!1,reason:"openAseMediaRequest"};}null === (F=this.og) || void 0 === F?void 0:F.MAb(B,A,z);this.Pm.pOb(B);this.NO(B.Fc,A.EN);this.Pr() && (this.Ra.v7a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {rn:!0,reason:"success"};};return y;})(m.Su);b.zda=a;u.sf(r.cB,a);u.sf(r.bx,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Nw=void 0;r=a(2);c=r.__importStar(a(10));f=a(27);l=a(101);m=r.__importDefault(a(28));d=r.__importDefault(a(39));g=r.__importDefault(a(832));h=a(16);k=d.default.assert;n=d.default.lp;b.Nw=p;(function(){function v(u,t,w,x,y){var x00,z;x00=2;for(;x00 !== 3;){switch(x00){case 2:a000.O0g(0);z=a000.Z0g(x,y,w);w=f.Ip(u,function(A){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 4:return A.bitrate <= z;break;y00=1;break;case 2:return A.bitrate > z;break;}}});w=0 < w?w - 1:0 === w?0:u.length - 1;x00=4;break;case 4:return u[Math.max(t,w)];break;case 14:return u[Math.max(t,w)];break;x00=3;break;}}}function q(u,t,w){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:u=new n();u.ii=w[0];return u;break;}}}var v00;v00=2;for(;v00 !== 5;){switch(v00){case 2:var N2g="1";N2g+="SIY";N2g+="bZr";N2g+="NJCp9";b.Nw=p=function(u,t,w,x,y,z,A){var z0q=a000;var z00,ua,X,T,da,E,pa,wa,F,C,G,J,K,H,L,R,I,P,N,M,Q;function B(sa,O,S){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return sa.W?sa.W.Tja(O,S):0;break;case 4:return sa.W?sa.W.Tja(O,S):2;break;A00=1;break;}}}z00=2;for(;z00 !== 31;){switch(z00){case 27:z00=D(y,w[Math.max(x - 1,0)],y,E,Q,!1,t.playbackRate)?26:35;break;case 34:(ua=B(y,L,u.moa),X=B(y,L + ua,u.pqa));z00=33;break;case 14:return (y=v(w,x,y.Sa || 0,u.fVa,t.playbackRate),null !== (E=y.W) && void 0 !== E && E.length || (y.A$=!0),F.ii=y,F);break;case 35:z00=y.W && y.W.length?34:22;break;case 18:return q.call(this,t,u,w,y);break;case 23:y=f.dg(w.slice(x + 1,A),function(sa,O){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return D(sa,w[x + O],C,pa,wa,!1,t.playbackRate);break;}}});z00=22;break;case 19:z00=R === m.default.C_.jjb || !y.Sa?18:17;break;case 17:y.W && y.W.length || (y.A$=!0);(T=l.Dm.ISa(t.buffer.W),da=t.buffer.Mv - T.fa);R=w[0];z00=27;break;case 22:F.ii=y || C;return F;break;case 2:var t2g="i";t2g+="nvalid player fragment";t2g+="Ind";t2g+="ex";var l2g="Must have at le";l2g+="ast on";l2g+="e";l2g+=" selected stream";k(!c.ha(x),l2g);void 0 === t.Wd && (t.Wd=0);k(c.Ba(t.Wd),t2g);z00=3;break;case 26:z00=x + 1 < w.length && A > u.Nz && (void 0 === this.j7 || this.Rpa && this.Rpa > this.j7 || K - this.j7 > u.t7 && A > u.sqa)?25:22;break;case 25:A=u.Nva && A >= u.Kxa?w.length:x + 2;(pa=B(y,L,u.noa),wa=B(y,L + pa,u.qqa));z00=23;break;case 3:var j2g="num";j2g+="be";j2g+="r";var n2g="nu";n2g+="m";n2g+="be";n2g+="r";k(n2g === typeof t.buffer.Mv);k(j2g === typeof t.Tka);F=new n();y=w[x];z00=6;break;case 13:(C=y,G=t.buffer.Y,J=t.buffer.Gc,K=t.buffer.Cc,H=t.buffer.bm,L=t.Wd);z0q.O0g(1);A=z0q.Z0g(J,H);(R=this.Gg.d0a || m.default.C_.qh,I=t.state === h.ma.Ec || t.state === h.ma.Vg?t.buffer.Sk:0,P=u.G7,N=u.Oz?u.Oz:1E3);E=B(y,L,u.loa);z0q.Q0g(3);Q=B(y,z0q.w0g(L,E),u.oqa);z00=19;break;case 33:z00=(y=f.dg(w.slice(0,x).reverse(),function(sa,O){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return D(sa,w[Math.max(x - O - 2,0)],C,ua,X,!0,t.playbackRate);break;}}})) && y.Fg < R.Fg || !y?32:22;break;case 6:z00=A?14:13;break;case 32:y=R;z00=22;break;}}function D(sa,O,S,ka,ia,Pa,Ea){var B00,Xa,mb,Za,Sa,xa,Ia,Ma,Ta,hb,wb,Eb,Hb,Va,Ya,bb;B00=2;for(;B00 !== 41;){switch(B00){case 6:B00=Va >= sa.bitrate * Ea * bb?14:13;break;case 1:B00=M && !M.F4 && M.Sa >= Va && M.bitrate <= sa.bitrate?5:4;break;case 5:return !1;break;case 31:B00=0 < Ta?30:29;break;case 32:Ta=ka;B00=31;break;case 27:k(S.length === mb);u.tqa && (xa=Math.min(xa,wb));B00=25;break;case 24:O=!1;B00=23;break;case 33:B00=Ta?32:42;break;case 10:var g2g="Second str";g2g+="eam un";g2g+="defined";var D2g="First s";D2g+="tream unde";D2g+="fin";D2g+="e";D2g+="d";Ea=P;z0q.O0g(1);Ya=z0q.Z0g(G,H);z0q.O0g(1);bb=z0q.w0g(G,K);(Xa=L,mb=T.length,Za=I,Sa=da,xa=N,Ia=t.Tka,Ma=t.playbackRate,Ta=! !t.O0a);k(sa,D2g);k(O,g2g);(hb=sa.Sa,wb=Ya - Pa,Eb=sa.W && sa.W.length,Hb=O.W && O.W.length);B00=27;break;case 4:Pa || Ya || (sa.A$=!0);B00=3;break;case 29:Ta=ia;B00=28;break;case 43:O=0 < ka || 0 < ia?g.default(S.concat(wb),mb + ka + ia,Pa,Ya,Ea,Za,bb,mb,mb + ka,Ia,Sa,hb / Ma,xa,u.DW,u.HY):hb > sa.Xz?{result:!0,kW:0,Ht:!0}:{result:!1,kW:0,Ht:!0};B00=23;break;case 2:(Va=sa.Sa || 0,Ya=sa.W && sa.W.length,bb=Pa?u.Dla:Ya?u.E4:u.fVa);B00=1;break;case 22:M={F4:O && O.result,Sa:Va,bitrate:sa.bitrate};return O && O.result;break;case 25:B00=!hb || hb < sa.bitrate * Ma * u.koa || !Eb?24:35;break;case 3:B00=!Pa || !Ya?9:13;break;case 28:B00=0 < Ta?44:43;break;case 23:O && O.result && (F.A9b=O.kW);B00=22;break;case 7:return !0;break;case 9:B00=Ya && !u.HY?8:6;break;case 42:(ka=Math.max(0,Math.min(ka,sa.W.length - Xa)),ia=Math.max(0,Math.min(ia,O.W.length - Xa - ka)),0 < ka && wb.push(sa.W.SO.subarray(Xa,Xa + ka)),0 < ia && wb.push(O.W.SO.subarray(Xa + ka,Xa + ka + ia)));B00=43;break;case 13:Pa=!u.Lja || sa === S || sa.wd === S.wd && z?0:(S=sa.ub) && S.pj && S.pj.Fa?S.pj.Fa + u.Ija * (S.pj.Ni?Math.sqrt(S.pj.Ni):0):0;S=T;z0q.Q0g(2);Pa=z0q.w0g(J,Pa,G);B00=10;break;case 14:return !0;break;case 8:B00=Va >= Math.max(sa.Xz * Ea,sa.bitrate * Ea * bb) && sa.Ht?7:13;break;case 35:Hb || (O=sa);wb=[];B00=33;break;case 44:(Eb=Math.min(Ta,O.W.length - Xa),wb.push(O.W.SO.subarray(Xa,Xa + Eb)),Ta-=Eb,Xa+=Eb,Xa >= O.W.length && (Xa=0));B00=28;break;case 30:(Eb=Math.min(Ta,sa.W.length - Xa),wb.push(sa.W.SO.subarray(Xa,Xa + Eb)),Ta-=Eb,Xa+=Eb,Xa >= sa.W.length && (Xa=0));B00=31;break;}}}};N2g;v00=5;break;}}})();},function(r,b,a){var l,m,d,g,h,k;function c(n,p,q,v){g(!l.ha(v),"Must have at least one selected stream");return new k(v);}function f(n,p,q,v){g(!l.ha(v),"Must have at least one selected stream");return new k(v);}l=a(10);b=a(39);m=b.console;d=b.debug;g=b.assert;h=b.$G;k=b.lp;r.exports={STARTING:function(n,p,q){var u,t,w,x;function v(y,z){var A,B,D,E;A=y.id;B=y.bitrate;D=y.Sa || 0;E=! !D;d && m.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.$t)return (d && !y.Yt && m.log("  Not available"),d && y.pz && m.log("  Failed"),!1);if(B > n.nW)return (d && m.log("  Above maxInitAudioBitrate (" + n.nW + " Kbps)"),!1);if(!(B * n.a8 / 8 < p.buffer.Mv))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(E){d && m.log("  Have throughput history = " + E + " : available throughput = " + D + " Kbps");if(B * p.playbackRate < D / t)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.BW;p.cpa && (y=Math.max(y,n.AW));if(B <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.BW + " Kbps) " + (p.cpa?" and also minHCInitAudioBitrate (" + n.AW + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}u=new k();t=n.i7b || 1;for(w=q.length - 1;0 <= w;--w){x=q[w];if(v(x,w)){u.Ge=w;break;}h(x) && (u.Ge=w);}return u;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xt=void 0;c=a(20);f=a(123);l=a(5);b.xt=function(m,d,g,h,k,n){var p;c.ga && h.trace("AsePlaygraph.createRequestQueue()");p=f.fp.instance.xt(m,d.J,!0,!1,{Vy:g.Vy},g);p.Qg.on(p,"networkfailing",function(){var q;c.ga && h.trace("requestQueue OnNetworkFailing: ",p);p.D4 && (l.assert(p.LU),null === (q=d.Xp) || void 0 === q?void 0:q.fs(p.LU,void 0,p.ah,p.ij));d.Am();});p.Qg.on(p,"error",function(){n(p.ah,p.ij);});p.on("transportreport",k);p.xb();return p;};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gba=void 0;c=a(2);r=a(18);f=a(20);l=c.__importDefault(a(6));m=a(9);d=a(847);g=a(148);h=a(848);k=a(21);n=a(851);a=(function(p){function q(){var v;v=null !== p && p.apply(this,arguments) || this;v.ZNa=0;v.Gga=0;v.g1=0;v.ifa=0;return v;}c.__extends(q,p);q.prototype.sua=function(v){var u,t;p.prototype.sua.call(this,v);this.ZNa++;this.Gga++;this.sOa=l.default.time.ea();this.sK || (this.sK={Fc:v.Fc,$c:v.$c,index:v.index},this.v1 || (this.v1=this.sK));u=this.I1;t=!1;u && 100 > Math.abs(u.Yd - v.sd) && (this.g1+=v.Yd - u.Yd,this.ifa++,t=!0);t || (this.g1=v.Ty,this.ifa=1);this.I1=v;};q.prototype.stop=function(){p.prototype.stop.call(this);this.Gga=0;this.sK=void 0;};q.prototype.kXa=function(){var v,u,t,w;v=this.RB;u=v.J3;if(u){w=u.fb(this.Lg);w && w.Ra && (t=w.Ra.qna());return {RM:t,currentBranch:{sId:u.N && u.N.id,cancelled:u.vh},currentReceivedCount:v && v.Fxb,totalReceivedCount:this.ZNa,currentState:v && v.TSa || "Uninitialized",lastRequestPushed:this.I1 && ({contentEndPts:this.I1.Fc,fragmentIndex:this.I1.index}),tslp:this.sOa && l.default.time.ea() - this.sOa,cpts:this.g1,crq:this.ifa,rslp:this.Gga,firstRequestSSPushed:this.sK && ({contentStartPts:this.sK.$c,fragmentIndex:this.sK.index}),firstRequestPushed:this.v1 && ({contentStartPts:this.v1.$c,fragmentIndex:this.v1.index})};}};return q;})((function(p){function q(v,u,t,w,x,y,z,A,B){var D;D=p.call(this) || this;D.Ig=v;D.Lg=u;D.I=w;D.H=x;D.LB=new m.er(!1);D.KB=new m.er(k.S.tb(-Infinity));D.H=m.tq(l.default,D.H,"AsePlayerBuffer [" + u + "]:");D.RB=new d.Xya(D.H,t,u);D.resume();y && z && A && (D.jta=new h.JIa(u,x,y,D.Ig,y.events,z,A,B),v=new n.MBa(null === y || void 0 === y?void 0:y.pu,k.S.tb(D.I.EW),x),D.RB.Cpb(v));D.Ig.on("requestAppended",function(E){D.LB.set(!0);E.request.te && D.KB.set(E.request.te);D.emit("requestAppended");});return D;}c.__extends(q,p);Object.defineProperties(q.prototype,{Yz:{get:function(){return this.LB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{WV:{get:function(){return this.KB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$Ib:{get:function(){return this.RB.Pk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JA:{get:function(){return this.Ig.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.Lg;},enumerable:!1,configurable:!0}});q.prototype.kXa=function(){};q.prototype.resume=function(){f.ga && this.H.trace("resume");this.Uva();};q.prototype.j_a=function(v){return this.Ig.Zma() > v;};Object.defineProperties(q.prototype,{Kqb:{get:function(){return this.aK;},enumerable:!1,configurable:!0}});q.prototype.reset=function(v){var u;void 0 === v && (v=!1);f.ga && this.H.trace("reset");this.stop();this.Ig.reset(v);this.LB.set(!1);this.KB.set(k.S.tb(-Infinity));v || (this.aK=void 0);v || (null === (u=this.jta) || void 0 === u?void 0:u.reset());};q.prototype.vm=function(v){void 0 === v && (v=!1);f.ga && this.H.trace("restart");this.reset(v);this.Uva(!0);};q.prototype.stop=function(){f.ga && this.H.trace("stop");this.RB.L8a();};q.prototype.close=function(){var v;f.ga && this.H.trace("start");null === (v=this.jta) || void 0 === v?void 0:v.close();};q.prototype.Kb=function(){this.stop();this.close();};q.prototype.XW=function(){this.I.N4 && this.Ig.HVa();this.Ig.Sy();};q.prototype.fCb=function(v){this.Ig.T2a(v,!0);};q.prototype.Ai=function(v){var u;return !(null === (u=this.jta) || void 0 === u || !u.Ai(v));};q.prototype.Uva=function(v){if(!this.RB.Pk || v)(this.RB.FUb(),g.AsyncIterator.$Jb(this.RB,this.d7.bind(this)));};q.prototype.d7=function(v){v.done || this.sua(v.value);};q.prototype.sua=function(v){f.ga && this.H.trace("requestReceived: " + v.toString());this.Ig.endOfStream?f.ga && this.H.error("Buffer manager has declared EOS, ignoring request",v.toString()):(this.aK?(this.aK.wKb=v.Fc,this.aK.xKb=v.Yd,this.aK.g0a=v.te):this.aK={x8b:v.$c,y8b:v.sd,wKb:v.Fc,xKb:v.Yd,g0a:v.te},this.Ig.Jqb(v));};return q;})(r.EventEmitter));b.gba=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=void 0;c=a(2);f=a(18);l=a(9);m=a(20);d=a(71);g=l.S.tb(1E3);r=(function(){function h(k,n,p,q,v,u,t,w,x){var y,z,A;y=this;this.mediaType=k;this.console=n;this.Ea=p;this.events=v;this.yv=u;this.Uf=t;this.zZb=w;this.Io=[];this.ysa=g.add(l.S.tb(null !== (A=null === (z=u.TO) || void 0 === z?void 0:z.T) && void 0 !== A?A:0));this.listeners=new f.Nh();this.listeners.on(p.V,"skipped",function(){return y.ZW();});this.listeners.on(q,"requestAppended",function(B){return y.Yz(B.request);});this.OS=!0;this.zU=t.jG(function(){return y.Xzb();},"Presentation Emit",x);this.s9=t.jG(function(){return y.ESb();},"Presentation Prune");}h.prototype.ZW=function(){this.trace("skipped, scheduler clock " + this.Uf.xa.currentTime.Xd());this.OS=!0;this.zU.vm();};h.prototype.Xzb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.PH=this.XNb(this.OS),k=this.F2a(),p.label=1);case 1:if(!k)return [3,3];n=this.OS?this.Ea.Hd:null === k || void 0 === k?void 0:k.timestamp;this.trace("queuing task for " + k.OI + (" at player time " + k.timestamp.Xd()) + (" scheduler clock is " + this.Uf.xa.currentTime.Xd()));return [4,d.zk.BP(k.timestamp)];case 2:return (p.kd(),this.trace("executing task for " + k.OI + (" at player time " + k.timestamp.Xd()) + (" scheduler clock is " + this.Uf.xa.currentTime.Xd())),this.OS=!1,this.mUa(k,n),this.PH++,k=this.F2a(),n=null === k || void 0 === k?void 0:k.timestamp,[3,1]);case 3:return [2];}});};h.prototype.F2a=function(){if(void 0 !== this.PH)return this.Io[this.PH];};h.prototype.XNb=function(k){var n,p,v;void 0 === k && (k=!1);for(var q=k?0:null !== (n=this.PH) && void 0 !== n?n:0;q < this.Io.length;q++){n=this.Io[q];v=l.S.tb(null !== (p=this.yv.Usa) && void 0 !== p?p:0);if(n.timestamp.greaterThan(this.Ea.Hd.add(v)))return k && 0 < q?q - 1:q;}return Math.max(this.Io.length - 1,0);};h.prototype.ESb=function(){var k,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.Io.length))return [3,2];k=c.__read(this.Io,2);n=k[1];this.trace("queuing pruning task for " + n.OI + (" at player time " + this.ysa.add(n.timestamp).Xd()) + (" scheduler clock is " + this.Uf.xa.currentTime.Xd()));return [4,d.zk.BP(this.ysa.add(n.timestamp))];case 1:return (p.kd(),this.trace("executing pruning task for " + n.OI + (" at player time " + this.ysa.add(n.timestamp).Xd()) + (" scheduler clock is " + this.Uf.xa.currentTime.Xd())),this.Io.shift(),this.PH && this.PH--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.Io=[];m.ga && this.trace("reset");this.OS=!0;this.h7=void 0;this.PH=0;this.s9.vm();this.zU.vm();};h.prototype.close=function(){this.zU.Kb();this.s9.Kb();this.listeners.clear();};h.prototype.Ai=function(k){var n;m.ga && this.trace("canSkip() " + k);if(0 === this.Io.length)return (m.ga && this.trace("canSkip false, no media sequence"),!1);n=this.Io[0];return n.timestamp.greaterThan(k)?(m.ga && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.h7 || this.h7.lessThan(k)?(m.ga && this.trace("canSkip false, later than last appended at " + this.h7),!1):!0;};h.prototype.trace=function(k){m.ga && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.zZb + ": " + k);};h.prototype.UOa=function(k,n,p){p && (this.h7=p);p=this.Io.length?this.Io[this.Io.length - 1]:void 0;return void 0 === p || p.OI !== k?(this.Io.push({OI:k,timestamp:n}),this.zU.state === d.Jm.complete && this.zU.vm(),this.s9.state === d.Jm.complete && this.s9.vm(),!0):!1;};return h;})();b.Uda=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.rba=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(86));l=r.__importDefault(a(6));m=a(852);d=a(16);g=a(242);h=a(9);k=a(5);n=a(21);p=a(347);q=a(381);a=(function(){function v(u,t,w,x,y,z,A,B,D,E){this.qb=u;this.Sh=t;this.H=w;this.OK=x;this.I=A;this.q1=B;this.JNa=D;this.aV=E;this.Rb=this.H.warn.bind(this.H);this.Rm=this.H.trace.bind(this.H);this.xg=this.H.log.bind(this.H);this.Ph=[];this.Xg={};y.no?(k.assert(!y.Lo),this.Yea=!0,this.jnb(y,y.no,z)):(this.Yn=this.Px(y.Lo || "",y,0,void 0,void 0,{},!0),this.Yn.Wr=!0,this.Yn.Ha=Infinity,this.o2=[this.Yn]);this.Ud=this.i1(this.Yn,void 0,z);this.Ud.active=!0;u=h.tq(l.default,this.H,"BranchQueue::");this.Ui=new g.TZ(u);this.Ui.enqueue(this.Ud);this.zga=this.pS=void 0;}v.rma=function(u){return "m" + u;};Object.defineProperties(v.prototype,{Cz:{get:function(){return ! !this.Yea;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ak:{get:function(){return this.Ud.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ff:{get:function(){return this.Yn;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Yh:{get:function(){return this.Ud.N.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Gxb:{get:function(){return this.Ud.O.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Nc:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hb:{get:function(){return this.Ph;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ce:{get:function(){return this.Ud.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Jg:{get:function(){return this.qb.Jg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ei:{get:function(){return this.pS?this.pS:this.Hb[0];},enumerable:!1,configurable:!0}});v.prototype.Kb=function(){this.Ph.forEach(function(u){u.xf();});this.Ph=[];this.Ui.clear();};v.prototype.Ne=function(u){return this.Xg[u];};v.prototype.iYa=function(){return this.Ui.getIterator();};v.prototype.hYa=function(u,t){var w;w=this.Xg[u];if(w)return (u=w.vl[t]) && u.weight;this.Rb("getSegmentWeight, unknown segment:",u);};v.prototype.UFb=function(u){var t;t=this.Xg[u];if(t)return t.Y;this.Rb("getSegmentStartPts, unknown segment:",u);};v.prototype.TFb=function(u){var t;t=this.Xg[u];if(!t)this.Rb("getSegmentDuration, unknown segment:",u);else if(c.Ba(t.Ha) && isFinite(t.Ha) && c.Ba(t.Y) && isFinite(t.Y))return t.Ha - t.Y;};v.prototype.dua=function(u){var t;t=-1;this.Ph.some(function(w,x){return w === u?(t=x,!0):!1;});-1 !== t?this.Ph.splice(t,1):this.Rb("Unable to find branch:",u,"in branches array");};v.prototype.UF=function(u,t){var w;w=0;this.elb(u).forEach(function(x){(x=x.Qd(t)) && (w+=x.qC);});return w;};v.prototype.Lv=function(u,t,w){var x;if(!u.ec(t))return 0;x=u.fb(t);for(x=w?x.Cc:x.Op;void 0 === x;){if(!u.ng)return 0;u=u.ng;x=u.fb(t);x=w?x.Cc:x.Op;}u=this.JNa.Me();return Math.max(x - u,0);};v.prototype.Hla=function(u){return this.Ph.filter(function(t){if(t.O.Mb === u)return !0;});};v.prototype.OBb=function(u,t){return this.sMa(u,!1,t);};v.prototype.NBb=function(u,t){return this.sMa(u,!0,t);};v.prototype.aUb=function(u,t,w){c.kf(this.Ph,function(x){x.O === u && x.V7a(t,w);});c.kf(this.Xg,function(x){x.O === u && (x.O=t);});};v.prototype.D6a=function(){var u;u=this;c.kf(this.Ph,function(t){var w;w=u.qb.bh(t.O.Mb);t.Vw(n.S.tb(w.kw));});};v.prototype.Jq=function(u){var t;t=this;c.kf(this.Ph,function(w){w.fb(1).track.$d.forEach(function(x){var y;y=p.Nha(x.Zg,x.bitrate,u,t.H);f.default(y,x);});});};v.prototype.Gt=function(u,t,w,x){var y;for(;t;){y=t.Gt(u,w);if(y)return y;if(x)break;t=t.ng;}};v.prototype.YSa=function(u){var t,w;t=this;void 0 === u && (u=!1);w=this.Ph;u && (w=w.filter(function(x){return x !== t.Ud;}));w.forEach(function(x){x.active=!1;t.Ui.remove(x);});u || this.Ui.clear();return w;};v.prototype.DSb=function(){var u;for(;0 < this.Ph.length;){u=this.Ph[0];u.fb(0);u.fb(1);if(!u.active)break;if(u === this.Ud)break;if(!u.lHb())break;u.xf();this.Ph.shift();}};v.prototype.DX=function(u,t,w,x,y){if(w > x){for(w-=x;u;){u.DX(t,w,y);u=u.ng;}return w;}};v.prototype.b1a=function(u,t){for(var w={PT:null,$N:null,sd:null,Sk:0,Sg:0,W:[]};u;){u.F5(w,t);u=u.ng;}return w;};v.prototype.Vtb=function(u){var t,w,x;t=this.Ud;if(t.P0a)w=t.P0a;else {x=this.Ud.Ce;w=this.i1(t.N,t);d.uf.forEach(function(y){var z;z=w.Qd(y);z && (z.oI(0),y=t.Qd(y),z.l$(y.Bf));});w.Vw(n.S.tb(x + u));t.P0a=w;}this.XJ(w,t);};v.prototype.Bpb=function(u,t,w){var x,y;k.assert(!u.Cz());if(!this.Yea){this.Yea=!0;this.pS=this.ei;x=this.Yn.id || v.rma(0);this.Yn.id=x;this.Xg[x]=this.Yn;this.Yn.Ha=this.qb.BEb().mXa();this.Yn.ED=!0;}y=void 0 !== u.Lo?u.Lo:v.rma(u.Mb);u=this.Px(y,u,t,w,void 0,{},!0);u.ED=!0;this.o2.forEach(function(z){z.vl={};z.vl[y]={weight:100};z.fU=y;z.Ou=!1;});this.o2=[u];};v.prototype.ot=function(u,t){var w,x,y,z;w=this.ei;x=w.SD(t,this.qb.V);y=w.N;z=w.children[u];if(t){if(!y.vl[u])return (this.Ud.Rb("chooseNextSegment, invalid destination:",u,"for current segment:",y.id),!1);if(w.Ik)return w.Ik === u;w.Ik=u;z && w.Q4 && this.XJ(z,w);return !0;}if(void 0 !== w.Ik)return !1;if(!z)return (x.B2a=!0,!1);x.B2a=!z.hja();this.qb.Hga(void 0,q.wR.HN);w.Q4=void 0;w.Ik=u;this.XJ(z,w);w.tG();this.qb.MS();return !0;};v.prototype.FHb=function(u,t){var w,x,y,z;w=this;z=u.N;t && !u.Ik && (u.Ik=z.fU,u.SD(!0,this.qb.V,!0));u.children=Object.create(null);c.kf(z.vl,function(A,B){u.Ik && B !== u.Ik || (x=w.Xg[B],y=w.wkb(x,u),u.children[B]=y);});u.Ik && (t=u.children[u.Ik]) && this.XJ(t,u);u.Q4=!0;};v.prototype.sZb=function(){var u;u=0;c.kf(this.Ph,function(t){d.uf.forEach(function(w){t.ec(w) && (w=t.Qd(w),u+=w.Ra.Fp);});});return u;};v.prototype.wYb=function(u,t){var w,x,y;w=this;x=this.blb(u,t);if(x){if(x !== this.Ud.N){this.YSa();y=this.i1(x,this.Ud,u);y.ng=void 0;y.tva(void 0,void 0,!0);this.Ajb(this.Ud);this.XJ(y,this.Ud);}else this.YSa(!0).forEach(function(z){z.xf();w.dua(z);w.Ui.remove(z);});x === this.ei.N && (this.ei.Tw.shift(),y && (y.Tw=this.ei.Tw,y.Ik=this.ei.Ik));this.Sh.M1(x,this.Ud.Ce);this.Ud.Q4=void 0;}else this.Rb("findSegment no segment for manifestIndex:",t);};v.prototype.$0a=function(u,t){var w;w=u.N;t || (t=w.fU);u.Ik || (u.Ik=t,u.SD(!0,this.qb.V,!0));(t=u.children[u.Ik]) && this.XJ(t,u);};v.prototype.A7a=function(u,t){if(this.Ud !== u){if(t)for(t=this.Ud;t && t !== u;){t.active=!1;this.Ui.remove(t);t=t.ng;}this.Ud=u;}};v.prototype.Bs=function(u,t){var w,x,y,z,A;w=this;if(this.Cz){x=this.I;y=this.ei;z=y.N;A=h.nVb(z.id);!y.Ik && !z.Ou && y.Fc - t <= x.pD && (this.Rb(A + "updatePts making fork decision at playerPts:",u,"contentPts:",t),this.$0a(y));}d.uf.forEach(function(B){w.Ud.ec(B) && w.Jg[B].Bs();});};v.prototype.qOb=function(u,t){var w,x;if(this.Cz){w=this.pS;if(!(this.I.dIb && u && this.zga && u.Y === this.zga || (u=u.Ra.gb,w && u.N.id === w.N.id))){x=null === w || void 0 === w?void 0:w.Qd(1);x=null === x || void 0 === x?void 0:x.Bf;this.zga=null === x || void 0 === x?void 0:x.Y;this.pS=u;this.Xjb(w);w=w && w.hub(u);this.Sh.Omb(u.N,t,w);}}};v.prototype.v8=function(u,t,w){t.Wr || (t.Y=this.IXa(u,t.Y,!0),w || (t.Ha=this.IXa(u,t.Ha,!1)),t.Wr=!0,!1);};v.prototype.sP=function(u,t){var w;w=this.Xg[u];w?c.kf(w.vl,function(x,y){x.weight=t[y] || 0;}):this.Rb("updateChoiceMapEntry, unknown segment:",u);};v.prototype.IXa=function(u,t,w){u=w?u.pVa(t):u.NU(t);if(!u.length)return t;t=u[1];return w?t.Y:t.Ha;};v.prototype.WMa=function(u,t,w){var x;x=t?w.Fc:w.Yd;return (t?w.Y9:w.Vsa) <= u && u < x;};v.prototype.sMa=function(u,t,w){var A;for(var x=this.qb,y=this.Ud;y;){if((!c.Ba(w) || x.$oa(w,y.O.Mb)) && this.WMa(u,t,y))return y;y=y.ng;}if(t){y=Object.keys(this.Ud.children);for(var z=0;z < y.length;z++){A=this.Ud.children[y[z]];if((!c.Ba(w) || x.$oa(w,A.O.Mb)) && this.WMa(u,t,A))return A;}}};v.prototype.wkb=function(u,t){var w,x;w=this.i1(u,t);x=w.tva(t,void 0,this.I.Wta);d.uf.forEach(function(y){var z,A,B;if(w.ec(y)){z=w.Qd(y);A=t.Qd(y);B=x[y];1 === y && w.Vw(n.S.tb(A.Cc + t.Ce - B));z.oI(B);}});this.Sh.M1(u,w.Ce);return w;};v.prototype.Ajb=function(u){for(var t=[u.N.id];u.ng;){u=u.ng;t.unshift(u.N.id);}this.Pea(u);};v.prototype.Pea=function(u){var t,w;t=this;w=u.N;c.kf(u.children,function(x){x && t.Pea(x);});this.Ui.remove(u);u.xf();this.dua(u);this.Sh.oga(w);};v.prototype.XJ=function(u,t){var w,x,y,z;w=this;x=t.N;t.O !== u.O && this.qb.gNa(u.O.Mb);u.active=!0;this.Ui.enqueue(u);u.iL();y=l.default.time.ea();z={};c.kf(t.children,function(A){var B,D;if(A){if(A.je){B=A.Qd(0);D=A.Qd(1);A.je.mL=[B?B.Ym.T:0,D?D.Ym.T:0];A.je.Czb=y - A.je.u6;A.je.u6=void 0;z[A.N.id]=A.je;}A.N.id !== u.N.id && w.Pea(A);}});t.children=Object.create(null);t.children[u.N.id]=u;t.iK=void 0;this.A7a(u);this.Sh.Mmb(u.N,z);1 < Object.keys(x.vl).length && u.hja();};v.prototype.Xjb=function(u){var t,w;if(u){t=l.default.time.ea();w=u.Tw[0];w && void 0 === w.V3?w.V3=t - w.Gq:w || (this.Rb("missing metrics for branch:",u.N.id),w={t$:u.N.id,Qe:!0,V3:0,je:{}},u.Tw.unshift(w));void 0 === w.startTime && (w.startTime=t);}};v.prototype.blb=function(u,t){var x,y,z,A;k.assert(0 <= u);for(var w in this.Xg){x=this.Xg[w];if(this.qb.$oa(x.O.Mb,t)){if(x.Y <= u && (Infinity === x.Ha || void 0 === x.Ha || u < x.Ha))return x;y=Math.min(Math.abs(u - x.Y),Math.abs(u - x.Ha));if(c.ha(z) || y < z)(z=y,A=x);}}return A;};v.prototype.Px=function(u,t,w,x,y,z,A,B,D){t=new m.AJa(u,t,w,x,y,z,A,B,void 0,D);return this.Xg[u]=t;};v.prototype.jnb=function(u,t,w){var x,y,z;x=this;this.Yn=void 0;this.o2=[];y=null;z=null;c.kf(t.segments,function(A,B){var D,E,F,C,G;D=A.startTimeMs;E=A.endTimeMs;F={};c.kf(A.next,function(J,K){F[K]={weight:J.weight || 0,GZb:J.transitionHint || A.transitionHint,j8b:"number" === typeof J.earliestSkipRequestOffset?J.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});C=A.defaultNext;c.ha(C) && (C=Object.keys(F)[0]);G=c.ha(C);C=x.Px(B,u,D,E,C,F,G,A.exitZones,A.transitionHint);D <= w && (w < E || c.ha(E))?x.Yn=C:D > w && (!y || D < z) && (y=B,z=D);G && x.o2.push(C);});this.Yn || (this.Yn=y?this.Xg[y]:this.Xg[t.initialSegment]);};v.prototype.i1=function(u,t,w){var x,y,z,A;x=u.O;y=this.qb.bh(x.Mb);z=y.kw;A=[];[0,1].forEach(function(B){x.ec(B) && A.push(y.gq(B));});u=new q.UDa(this.qb,this.I,this.Sh,this.H,this,this.q1,this.JNa,this.OK,u,A,z,t,w?n.S.tb(w):void 0,this.aV,this.qb.Jg,this.qb.xv);this.Bjb(u);this.Ph.push(u);return u;};v.prototype.Bjb=function(u){var w;function t(x){w.qb.emit(x.type,x);}w=this;u.addListener("locationSelected",t);u.addListener("logdata",t);u.addListener("serverSwitch",t);u.addListener("streamSelected",t);u.addListener("lastSegmentPts",t);u.addListener("managerdebugevent",t);u.addListener("requestCreated",function(x){x=x.request;w.qb.Lga(x.mediaType,x.Y);});};v.prototype.elb=function(u){for(var t=[u];u.ng;){u=u.ng;t.push(u);}return t;};return v;})();b.rba=a;},function(r,b,a){var m,d,g;function c(h,k,n){this.DD=k;this.sl=n;this.GA=this.IV=this.Bsa=this.i4a=this.h4a=this.KN=this.$d=this.dRb=this.sl=this.xm=this.Cc=this.Y=this.Ww=this.Mn=this.W=this.a_a=this.rT=void 0;}function f(h,k,n){this.Ha=k;this.A_a=n;this.IPa=this.Eab=this.vr=this.Mn=this.kH=this.Tv=void 0;}function l(h,k,n,p,q,v,u){var t;t=new c(n,k,h.sl);h.forEach(function(w){var x,y;x=w.buffer;y=x.W;w.mediaType === m.Qa.Lb?t.rT=y.length?y[0].bitrate:void 0:w.mediaType === m.Qa.Jb && (t.a_a=y.length?y[0].bitrate:void 0,t.W=y,t.Mn=x.bm - x.Gc,t.Ww=x.Sg,t.Y=x.Gc,t.Cc=x.Cc,t.xm=w.Wd,t.sl=w.sl,t.dRb=k - w.sl,t.$d=w.$d,t.KN=y.filter(function(z){return t.Y <= z.Gw;}).length);});this.sj=t;this.Ct=void 0;this.cTa=p;this.Lw=q;this.FQa=v;this.Sta=this.y9=this.w3a=this.MA=this.cL=this.mVa=this.Xw=this.$d=this.Ct=void 0;this.Ypb=u;this.$sa={};}m=a(28).default;d=a(39).assert;g=a(16).ma;c.prototype.constructor=c;f.prototype.constructor=f;l.prototype.constructor=l;l.prototype.Ft=function(h,k){var n,p,q,v,u,t,w,x,y,z,A,B,D,G,J,K,H,L,R;n=this.sj;p=[];q=h[m.Qa.Jb];v=h[m.Qa.Lb];if(void 0 === q || void 0 === v)return !1;u=q.buffer;t=v.buffer;w=n.$d.filter(function(I){return I.q5();});if(void 0 === u || void 0 === t || void 0 === w || 0 === w.length)return !1;x=new f(k?g[k]:"maxbitratechanged",q.Gc,k === g.If);y=0;z=0;A=0;B=0;D=n.Y;h=h[m.Qa.Jb].Gc;for(var E=n.W,F=n.KN,C=0;C < F;C++){G=E[C];J=G.offset;K=G.offset + G.fa - 1;H=G.Ty;L=G.pA;R=L + H;G && L <= h && R > D && (H=G.Ty,L=Math.min(H,Math.min(h,R) - Math.max(L,D) + 1),B+=L,y+=L / H * (K - J + 1),z+=G.bitrate * L,A+=G.Eb * L);}n.h4a=y;n.i4a=B;n.Bsa=0 < B?z / B:0;n.BQb=0 < B?A / B:0;n.IV || (n.IV=0,w.some(function(I,P){if(I.bitrate === n.a_a)return (n.IV=P,!0);}));w.forEach(function(I){var P,M;I=I.q5();P=[];n.GA || (n.GA=I.hn(n.Y,void 0,!0));x.Tv || (x.Tv=I.hn(x.Ha,void 0,!0),x.kH=I.length - 1);n.xm !== n.GA + n.KN && (n.xm=n.GA + n.KN);F=Math.min(x.kH,x.Tv + 1);for(var N=n.GA;N <= F;N++){M=I.get(N);P[N]=M;}p.push(P);});k === g.If && (x.Mn=u.bm - u.Gc,x.vr=t.bm - t.Gc,x.Eab=q.H5a,x.IPa=v.H5a);this.Ct=x;this.$d=w;this.Xw=p;return this.mVa=!0;};l.prototype.hz=function(){var h,k,n,p,q,v,u,t,w,A,B,D,E,F;if(this.ck)return this.ck;h=this.MA;k=this.sj;n=this.Ct;p=this.$d;q=this.w3a;v=this.Ypb;d(void 0 !== h,"throughput object must be defined before retrieving the logdata from PlaySegment");if(h.trace && 0 === h.trace.length || void 0 === h.timestamp){if(n.A_a)(u=!1,t=!0);else n.Tv - k.GA + 1 <= k.KN?t=u=!0:(u=!0,t=!1);w=!0;}if(q)for(var x=q.E6,y=q.fM,z=0;z < v.length;z++){A=v[z];(h=q[A]) && h.Dra && (t=!0);}n={bst:k.sl,pst:k.DD,s:k.GA,e:n.Tv,prebuf:k.KN,brsi:k.xm,pbdlbytes:k.h4a,pbdur:k.i4a,pbtwbr:k.Bsa,pbvmaf:k.BQb};this.Lw && (n.fragmentsPrebuffered=k.W);w && (n.nt=w);t && (n.nd=t);x && (n.invalid=x);y && (n.exception=y);this.Sta && (n.rr=this.Sta);this.y9 && (n.ra=this.y9);if(!t && !x && !y && (this.cTa || this.Lw)){n.bitrate=p.map(function(G){return G.bitrate;});h=this.MA;A=h.trace;B=[];E=0;A.forEach(function(G){G=Number(G).toFixed(0);B.push(G - E);E=G;});n.tput={ts:h.timestamp,trace:B,bkms:h.ty};}if(t || w || x || y)n.feasible=u;else for((n.sols={},n.elapsed=q.Rzb,z=0);z < v.length;z++){A=v[z];h=q[A];t={};if(h && h.Nq){t.algelapsed=h.Xpb;t.maxHeapTotal=h.Tz;t.f=h && h.YC || !1;t.dltwbr=h.JTa;t.dlvmaf=h.MTa;t.dlvdur=h.LTa;t.dlvbytes=h.KTa;t.dlabytes=h.HTa;if(this.cTa || this.Lw){D=h.Nq.filter(function(G){return G;}).map(function(G){return G.Ge;});E=0;F=[];D.forEach(function(G){F.push(G - E);E=G;});t.strmsel=F;}if(this.Lw){w=[];u=this.sj.xm;for(var C in D){x=D[C];y=this.Xw[x][u];y.Fg=x;w.push(y);u++;}t.fragsel=w;t.streamList=this.$d;t.pause_dlnd_sec=h.Nq.filter(function(G){return G;}).map(function(G){return G.zsa;});t.buffer_sec=h.Nq.filter(function(G){return G;}).map(function(G){return G.Fia;});t.buffer_kb=h.Nq.filter(function(G){return G;}).map(function(G){return G.Eia;});t.buffer_frags=h.Nq.filter(function(G){return G;}).map(function(G){return G.JQa;});t.elapsed_secs=h.Nq.filter(function(G){return G;}).map(function(G){return G.iUa;});t.throughput=h.Nq.filter(function(G){return G;}).map(function(G){return G.Sa;});}}n.sols[A]=t;}return this.ck=n;};l.prototype.VBb=function(h){var p;if(void 0 !== this.$sa[h])return this.$sa[h];for(var k=this.Xw[this.sj.IV],n=0;n < k.length;n++){p=k[n];if(p && p.Y <= h && p.Y + p.duration > h)return this.$sa[h]=p;}throw Error("findPlayingFragment: missing");};r.exports=l;},function(r,b,a){var l;function c(m,d,g){this.fa=m;this.wm=d;this.quality=g;}function f(m,d){this.yqa=d;void 0 === d && (this.yqa=!0);this.Gk=m;this.Pjb();}l=a(5).assert;c.prototype.constructor=c;c.prototype.mz=function(){return 8 * this.fa / 1E3 / this.wm;};f.prototype.constructor=f;f.prototype.tt=function(m,d,g,h,k){void 0 === d && (d=0);void 0 === g && (g=m.OM());void 0 === h && (h=0);void 0 === k && (k=m.Gk.length);for(var n=[],p,q=h;q < k;q++){h=[];for(var v=d;v < g;v++){p=m.Gk[q][v];h.push(p);}n.push(h);}return new f(n,m.yqa);};f.prototype.Pjb=function(){var m,d;m=this.Gk[0].length;for(d in this.Gk.slice(1)){l(this.Gk[d].length === m,"expect this.chunkss[chunksIndex].length === n but got " + this.Gk[d].length + " and " + m);}this.yqa && this.Qjb();this.Rjb();};f.prototype.OM=function(){return this.Gk[0].length;};f.prototype.Qjb=function(){for(var m=0;m < this.Gk.length - 1;m++){for(var d=0;d < this.OM();d++){l(this.Gk[m][d].fa <= this.Gk[m + 1][d].fa,"Chunk size for epoch " + d + " is not monotonic");}}};f.prototype.Rjb=function(){for(var m=0;m < this.Gk.length - 1;m++){for(var d=0;d < this.OM();d++){l(1E-8 > Math.abs(this.Gk[m][d].wm - this.Gk[m + 1][d].wm),"Chunk duration for epoch " + d + " is not consistent");}}};f.prototype.FGb=function(){var m;m=[];this.Gk[0].forEach(function(d){m.push(d.wm);});return m;};r.exports={Qcb:c,Rcb:f};},function(r,b,a){var m;function c(){}function f(d,g,h){void 0 === h && (h=!1);m(d.length === g.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(d),"bitrate zero, won't be able to send anything.");this.iC=d;this.eUa=g;this.repeat=h;this.cm=this.po=0;}function l(d){return d.reduce(function(g,h){return g + h;},0);}m=a(5).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.tt=function(){var d;d=new f(this.iC,this.eUa,this.repeat);d.po=this.po;d.cm=this.cm;return d;};f.prototype.Tna=function(){return this.iC[this.po % this.iC.length];};f.prototype.MC=function(){return this.eUa[this.po % this.iC.length];};f.prototype.yzb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.po && this.po < this.iC.length))throw new c();m(this.cm < this.MC(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g;;){g=this.MC() - this.cm;g=d < g?d:g;d-=g;this.cm+=g;if(this.cm < this.MC())break;this.cm-=this.MC();this.po+=1;if(!this.repeat && this.po >= this.iC.length){if(0 < d)throw new c();break;}}};f.prototype.f4a=function(d){this.yzb(d);};f.prototype.zzb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.po && this.po < this.iC.length))throw new c();m(this.cm < this.MC(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g,h=0;;){g=this.MC() - this.cm;g=d < g * this.Tna()?d / this.Tna():g;d-=this.Tna() * g;h+=g;this.cm+=g;if(this.cm < this.MC())return h;this.cm-=this.MC();this.po+=1;if(!this.repeat && this.po >= this.iC.length){if(0 < d)throw new c();return h;}}};r.exports={ejb:f,fjb:c};},function(r){var h,k,n,p,q,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(u){if(h === setTimeout)return setTimeout(u,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(u,0));try{return h(u,0);}catch(t){try{return h.call(null,u,0);}catch(w){return h.call(this,u,0);}}}function f(u){if(k === clearTimeout)return clearTimeout(u);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(u));try{return k(u);}catch(t){try{return k.call(null,u);}catch(w){return k.call(this,u);}}}function l(){p && q && (p=!1,q.length?n=q.concat(n):v=-1,n.length && m());}function m(){var u;if(!p){u=c(l);p=!0;for(var t=n.length;t;){q=n;for(n=[];++v < t;){q && q[v].Mw();}v=-1;t=n.length;}q=null;p=!1;f(u);}}function d(u,t){this.LCb=u;this.ny=t;}function g(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;v=-1;r.v$b=function(u){var t;t=Array(arguments.length - 1);if(1 < arguments.length)for(var w=1;w < arguments.length;w++){t[w - 1]=arguments[w];}n.push(new d(u,t));1 !== n.length || p || c(m);};d.prototype.Mw=function(){this.LCb.apply(null,this.ny);};r.title="browser";r.u7b=!0;r.o8b={};r.g7b=[];r.version="";r.hbc={};r.on=g;r.addListener=g;r.once=g;r.wD=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.W4a=g;r.XRb=g;r.listeners=function(){return [];};r.q7b=function(){throw Error("process.binding is not supported");};r.Q7b=function(){return "/";};r.E7b=function(){throw Error("process.chdir is not supported");};r.$ac=function(){return 0;};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Sib=b.Wca=b.Uib=b.$Ja=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(6));l=r.__importDefault(a(39)).default.$G;m=r.__importStar(a(9)).tq;d=r.__importDefault(a(391));g=a(376);h=a(212);k=a(16);n=a(27);p=a(5);q=a(99);v=a(238);a=(function(){function x(y,z,A,B,D,E,F,C,G,J,K){var H;H=this;this.H=y;this.sg=z;this.I=A;this.ec=B;this.V=D;this.JO=E;this.Pb=F;this.Db=C;this.gg=G;this.Y2=J;this.vF=K;this.j2=[];this.Rga=[];this.pNa=[];this.OLa=void 0;[0,1].forEach(function(L){H.ec(L) && (H.j2[L]=new w(H.H,L),H.Rga[L]=new u(L),H.pNa[L]=new t(L));});this.sab=new q.aF(this.H);this.VA=q.hG(this.I,this.sab);this.eia=q.gG();this.hF=void 0;}Object.defineProperties(x.prototype,{Ef:{get:function(){return this.j2;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{HA:{get:function(){return this.Rga;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tw:{get:function(){return this.pNa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{py:{get:function(){return this.OLa;},set:function(y){this.OLa=y;},enumerable:!1,configurable:!0}});x.prototype.Jq=function(y,z){this.sab.Jq(y,z);};x.prototype.xqa=function(y){var z,A,B,D,E,F;z=this.I;A=y.mediaType;B=f.default.vo()[A];D=z.X_b?0 === A?z.kT:z.tZ:1 === A?z.kT:z.tZ;E=this.V.getState();F=this.V.Me();z=y.Ra.gb;A=this.Y2.b1a(z,A);B={Mv:B,Y:A.sd,Gc:F,Cc:A.$N || F,bm:A.PT || F,Sg:A.Sg,Sk:A.Sk,QVa:A.W.length,W:[]};D={state:E,pq:this.V.pq(),Wd:y.un,buffer:B,Tka:D,O0a:! !this.JO.jW,XL:! !this.JO.gs,Fp:this.Pb && this.Pb.Fp,z9:y.YFb,playbackRate:this.V.wo()};void 0 === D.Wd && (D.Wd=y.Jla(B.Cc));D.CT=z.CT;B.W=A.W;c.Ba(B.Y)?y.seeking && B.Gc != B.Y && (B.Gc=B.Y):(B.Y=0,B.Cc=0);this.sg.ktb(D);this.sg.Apb(D);return D;};x.prototype.gja=function(y,z,A){var C,G;y=this.j2[y];for(var B=y.maxBitrate,D="manifest",E=0,F=z.length - 1;0 <= F;F--){C=z[F];G=C.bitrate;if(l(C)){E=Math.max(E,G);break;}else this.I.HY && !C.Ht?D="bc":C.Yt?C.pz && (D="hf"):D="av";}if(void 0 === B || E !== B)(y.maxBitrate=E,this.Db.mOb(B,E,D,A));};x.prototype.WFb=function(y){return this.Dna(y).Fg;};x.prototype.Dna=function(y){var z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q;z=this.I;A=y.mediaType;B=1 == A;D=0;E=this.j2[A];F=this.Rga[A];if(!E.Cf)return {Fg:void 0};C=this.xqa(y);G=y.Gg;J=G.au;K=y.p7.O;H=y.track.$d;if(!K.lm.nZ(K.Z,H))return (y.Ak("location selector did not find any urls"),{Fg:void 0});L=v.h9(C.state);R=B?this.VA:this.eia;try{I=R.dn(H,L);}catch(T){this.H.error("StreamFilters: filterStreams: " + T);I=[H[0]];}0 === I.length && (this.H.error("StreamFilters: empty list"),I=[H[0]]);if(this.vF.Gr && (y.AC.length !== I.length || 0 < n.ft(y.AC,I).length || 0 < n.ft(I,y.AC).length)){try{this.hF && this.MBb();}catch(T){this.Db.vn("Hindsight: Error when handling maxbitrate chagned: " + T);}y.AC=I;}L=J?J.Fg:E.$la;try{if(J && (D=J.bitrate,J && G.track && !J.track.equals(G.track))){P=g.Mla(I,D) || 0;N=I[P];if(J.bitrate !== N.bitrate || 1 === A)C.state=k.ma.qh;J=N;L=H.indexOf(N);}}catch(T){this.H.error("StreamFilters: track change: " + T);}if(!B && (D=z.gP,!(D && 0 < D.length) && L && H[L] && J && J.location === H[L].location))return {Fg:L};try{M=this.sg.GM(A);Q=y.$k.bva(C,I,void 0,M,E.Cf.config.Bw,K.Xp);if(!Q)return (y.Ak("stream selector did not find a stream"),{Fg:void 0});}catch(T){this.H.error("StreamFilters: stream selector: " + T);Q={Ge:0};}Q.Ge=H.indexOf(I[Q.Ge]);this.JO.gs && this.JO.gs.Epb(y.mediaType,Q,H);B && this.gja(A,I,y.Cc);C=Q.Ge;J=H[C];I=J.bitrate;C != L && (B && z.ZL && this.gg.GLa(y,I),B || this.sg.KO(I));c.Ba(E.$la) || (E.$la=C);y.Le || (Q.Le?(p.assert(void 0 !== Q.Z2),y.i$(Q.Z2),F.kt=Q.Z2):(y.hD=Q.hD,y.aI=Q.aI,y.progress=Q.progress));this.Ox();if(B)if(Q.Qy)K.LO(Q.Qy);else if(!K.V5() && !z.r8a)for(y=0;y < H.length;++y){if((z=H[y],z.$t && !K.Nk(A,z.Pa))){K.LO([z.Pa]);break;}}Q.eQa && this.Db.sOb(Q.eQa);return {Pa:J.Pa,Fg:C,ju:Q.ju};};x.prototype.Ox=function(){var y,z,A,B,D,E;A=this.Ef[0];B=this.Ef[1];D=this.HA[1];E=this.HA[0];A=this.Y2.Nc.ftb(null !== (y=null === B || void 0 === B?void 0:B.ru) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.ru) && void 0 !== z?z:0,this.py,this.JO.aO);A.kt && (this.JO.Bm && D?D.kt=A.kt:E && (E.kt=A.kt));return A.Le;};x.prototype.Gla=function(y,z){var A,B,D,E;A=this;if(this.hF){B=this.hF;D=this.V.Me();E=[];z && (D=z.Ha);h.uf.forEach(function(F){var C,G;C=A.Y2.Nc.Qd(F);if(C){G=A.xqa(C);G.mediaType=F;G.Gc=D;y === k.ma.If && (G.H5a=C.Ra.Jha(D));E[F]=G;}});B.mVa || B.Ft(E,y) || this.xua();return B;}};x.prototype.MBb=function(){var y,z;y=this.hF;z=this.I;y && (this.Gla(void 0),y && !y.cL && this.sg.Dta.ula(y));this.CSa(z);};x.prototype.xua=function(){this.hF=void 0;};x.prototype.y_b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.hF;B=this.I;y === k.ma.Ec && z !== k.ma.Ec?(A && this.H.warn("override an existing play segment!"),this.CSa(B,z,!0)):y !== k.ma.Ec && z === k.ma.Ec && A && (this.Gla(y),A && !A.cL && this.sg.Dta.ula(A),this.xua());};x.prototype.CSa=function(y,z,A){var B,D,E;B=this;D=[];h.uf.forEach(function(F){var C,G,J;C=B.Y2.Nc.Qd(F);if(C){G=B.xqa(C);if(A){J=B.Ef[F];J.Pva?(G.sl=J.Pva,J.Pva=void 0):G.sl=J.sl;}else G.sl=f.default.time.ea();G.$d=C.AC;G.mediaType=F;D[F]=G;}});E=f.default.vo();E={c7b:E[0],qab:E[1],N9b:y.uN,Vz:y.Vz};this.hF=new d.default(D,f.default.time.ea(),z,this.vF.BU,y.Lw,E,y.e6);};return x;})();b.$Ja=a;u=(function(){function x(y){this.mediaType=y;this.ET=this.Yv=this.xz=this.kt=this.yz=void 0;}x.prototype.C_b=function(y,z,A){this.yz=y?y:this.yz;this.kt=this.kt;this.xz=z?z:this.xz;this.Yv=A?A:this.Yv;};return x;})();b.Uib=u;t=(function(){return function(x){this.mediaType=x;this.Mpa=this.Spa=this.Opa=this.gH=void 0;};})();b.Wca=t;w=(function(){return function(x,y){this.mediaType=y;this.H=m(f.default,x,"[" + y + "]");this.Ak=this.H.error.bind(this.H);this.Rb=this.H.warn.bind(this.H);this.Rm=this.H.trace.bind(this.H);this.xg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.$la=this.sl=this.io=this.Cf=void 0;this.uX=this.ru=0;this.CP=!1;this.maxBitrate=void 0;};})();b.Sib=w;},function(r,b,a){var q,v,u,t,w,x,y,z,A,B,D,E,F;function c(){}function f(C,G){var J,K,H,L;J=q.ad(G)?G:c;this.I=C || ({});(function(R,I,P){this.Lj[R].Ae[I]=P;}).bind(this);(function(R,I){return this.Lj[R].Ae?this.Lj[R].Ae[I]:void 0;}).bind(this);this.on=this.addEventListener=E.addEventListener;this.removeEventListener=E.removeEventListener;this.emit=this.Va=C.n8b?E.Va:c;K=t.Fwb(C);H=this.I.dailyDiskCacheWriteLimit;if(K){this.pv=K;L=k(C.a$b || F,t.WDb());this.fy=function(R){return q.ha(L) || null === L || void 0 === this.Lj[R]?!1:!q.ha(L[R]);};L?(this.Lj={},G=v.Promise.all(Object.keys(L).map(function(R){return new v.Promise(function(I,P){var N;N=L[R];N.hab=C.hab;new w(R,K,N,function(M,Q){M?P(M):I(Q);},H);});})).then((function(R){R.map((function(I){var P;P=I.wv;this.Lj[P]=I;L[P].BCb=L[P].Mv - I.ey;this.Lj[P].on(w.Je.REPLACE,(function(N){N=N || ({});N.partition=P;N.type="save";this.Va("mediacache",N);}).bind(this));this.Lj[P].on(w.Je.vLa,(function(N){N=N || ({});N.partition=P;N.type="save";this.Va("mediacache",N);}).bind(this));this.Lj[P].on(w.Je.Gf,(function(N){N=N || ({});N.partition=P;N.type=w.Je.Gf;this.Va("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(R){g(K,v.storage.fR,Object.keys(L));return R;}).bind(this)).then((function(R){Object.keys(R.Lj).map(function(I){R.Lj[I].Sma().map(function(P){R.delete(I,P);});});R.nn=!0;J(null,R);}).bind(this)).catch((function(R){u.error("Failed to initialize media cache ",R);this.YG=B.jAa;J(this.YG,this);}).bind(this)),D.Fw(G)):(this.YG=B.Jfb,J(this.YG,this));}else (this.YG=B.jAa,J(this.YG,this));}function l(C,G,J,K,H,L){var R;R=L?"mediacache-error":"mediacache";G={partition:J,type:G,resource:K,time:v.time.now()};L && (G.error=L);H && (q.Ba(H.duration) && (G.duration=H.duration),q.Ba(H.vy) && (G.bytesRead=H.vy));try{C.Va(R,G);}catch(I){u.warn("caught exception while emitting basic event",I);}}function m(C,G,J,K,H){var L;L=H?"mediacache-error":"mediacache";G={partition:J,type:G,resources:K,time:v.time.now()};H && (G.error=H);try{C.Va(L,G);}catch(R){u.warn("caught exception while emitting basic event",R);}}function d(C){return !x.fN(C) && !z.sJb(C);}function g(C,G,J){C.query(G,"",function(K,H){K || Object.keys(H).filter(function(L){return 0 > J.indexOf(L.slice(0,L.indexOf(".")));}).map(function(L){C.remove(G,L,c);});});}function h(C,G,J){var H,L;function K(R){C.delete(H,function(I){I?J(I):(delete C.Ae[L],I=Object.keys(R.resourceIndex),I=v.Promise.all(I.map(function(P){return new v.Promise(function(N,M){C.delete(P,function(Q){Q?M(Q):N(P);});});})).then(function(){J();},function(P){J(P);}),D.Fw(I));});}if(x.fN(G))(H=G,L=x.C4(G));else (H=x.Vja(G),L=G);(G=C.Ae[L])?K(G):C.read(H,function(R,I){R?J(R):K(I);});}function k(C,G){var J,K,H;J={};K=C.partitions.reduce(function(L,R){return L + R.capacity;},0);H=G / K;C.partitions.map(function(L){var R;R=L.key;J[R]={};J[R].Mv=Math.floor(H * L.capacity);J[R].Hxb=L.dailyWriteFactor || 1;J[R].I$b=L.owner;J[R].YAb=L.evictionPolicy;});return J;}function n(C,G,J){if(J)return z.ezb(C,G).reduce(function(K,H){Object.keys(H).map(function(L){K[L]=H[L];});return K;},{});J={};J[C]=G;return J;}function p(C,G,J,K,H,L,R,I,P,N,M){return function(Q,T){Q?q.isArray(Q)?(T=Q.map(function(da){return da.error;}),T.some(function(da){return da.code === B.fJ.code;}) && !T.some(function(da){return da.code === B.S0.code;})?M(N,Q,function(){P.save(G,J,K,H,L,R);}):(N.delete(I),delete N.Ae[J],L({error:Q[0].error,ku:Q[0].ku,type:Q[0].type,lPa:Q}))):L({error:Q,ku:G,type:"save"}):(Q=T.items.filter(function(da){return 0 <= Object.keys(C).indexOf(da.key);}).reduce(function(da,pa){return da + pa.b7;},0),N.Ae[J].R7a(Q),Q={BCb:T.jn,S7b:T.LL,Ek:0,items:T},0 < T.Ek && (Q.Ek=T.Ek),0 < T.duration && (Q.duration=T.duration),L(null,Q));};}q=a(10);v=a(125);u=new v.Console("MEDIACACHE","media|asejs");t=a(866);w=a(867);x=a(397);y=a(126);z=a(874);A=a(875);B=a(248);D=a(249);E=a(398).EventEmitter;F={N$b:[]};f.prototype.FX=function(C,G,J){var K;K=q.ad(J)?J:c;this.fy(C)?this.Lj[C].query(G,function(H,L){H?(u.error("Failed to query resources",H),K([])):K(L.filter(d));}):K([]);};f.prototype.read=function(C,G,J){var K,H,L,R;K=q.ad(J)?J:c;if(this.fy(C)){H=this.Lj[C];L=H.Ae[G];if(!x.fN(G) && this.I.NMb){R=(function(I){H.x9(Object.keys(I),(function(P,N,M){P?K(B.MJ.Uq("Failed to read " + G,P)):(l(this,"read",C,G,M),K(null,z.LIb(N)));}).bind(this),I);}).bind(this);L?R(L.resourceIndex):this.SSb(C,G,function(I,P){I?K(B.MJ.Uq("Failed to read " + G,I)):R(P.resourceIndex);});}else H.read(G,(function(I,P,N){I?K(B.MJ.Uq("Failed to read " + G,I)):(L && L.convertToBinaryData && (P=A.Jub(P)),l(this,"read",C,G,N),K(null,P));}).bind(this));}else K(B.kB);};f.prototype.x9=function(C,G,J){var K,H;K=q.ad(J)?J:c;if(this.fy(C)){H={};G=v.Promise.all(G.map((function(L){return new v.Promise((function(R,I){this.read(C,L,function(P,N){P?(N={},N[L]=P,I(N)):(H[L]=N,R());});}).bind(this));}).bind(this))).then(function(){K(null,H);},function(L){K(L);});D.Fw(G);}else K(B.kB);};f.prototype.W6a=function(C,G,J){var K;K=q.ad(J)?J:c;this.fy(C)?"[object Object]" !== Object.prototype.toString.call(G)?K(B.R0.Uq("items must be a map of keys to objects")):(J=new v.Promise((function(H){var L,R;L=this.Lj[C].Sma();R=Object.keys(G);(L=L.filter(function(I){return -1 === R.indexOf(I);})) && 0 < L.length?this.sTa(C,L,function(){H();}):H();}).bind(this)).then((function(){return v.Promise.all(Object.keys(G).map((function(H){return new v.Promise((function(L,R){this.save(C,H,G[H].Iq,G[H].Ac,function(I,P){I?(u.error("Received an error saving",H,I),R(I)):L(P);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(H){var L,R,I;try{L=Number.MAX_VALUE;R=Number.MAX_VALUE;I=H.reduce(function(P,N){N.jn && N.jn < L && (L=N.jn);N.LL && N.LL < R && (R=N.LL);L < Number.MAX_VALUE && (P.freeSize=L);R < Number.MAX_VALUE && (P.dailyBytesRemaining=R);q.Ba(N.Ek) && (P.bytesWritten+=N.Ek);q.Ba(N.duration) && (P.duration+=N.duration);return P;},{partition:C,type:"saveMultiple",keys:Object.keys(G),time:v.time.now(),bytesWritten:0,duration:0});this.Va("mediacache",I);K(null,I);}catch(P){K(err);}}).bind(this),(function(H){q.isArray(H.lPa)?H.lPa.forEach((function(L){this.Va("mediacache-error",{partition:C,type:"saveMultiple",error:L.error,resources:L.resources});}).bind(this)):this.Va("mediacache-error",{partition:C,type:"saveMultiple",error:H});K(H);}).bind(this)),D.Fw(J)):(q.ad(J)?J:c)(B.kB);};f.prototype.save=function(C,G,J,K,H,L){var R,I,P,N,M,Q,T,da,pa;R=q.ad(H)?H:c;if(this.fy(C)){I=this.Lj[C];P=x.Vja(G);H=I.Sma();H=H.filter(function(wa){return wa !== G;});if(q.ha(K) || q.Cb(K) || !q.Ba(K.lifespan))R(B.hgb);else {N=n(G,J,this.I.NMb);M=I.Ae[G] || ({});Q=M.resourceIndex;Q && Object.keys(Q).map(function(wa){q.ha(N[wa]) && I.delete(wa);});K.convertToBinaryData && (J=A.Kub(N),N=n(G,J,!1));Q=v.time.now();T={};T.partition=C;T.resourceIndex=Object.keys(N).reduce(function(wa,ua){wa[ua]=y.Ona(N[ua]);return wa;},{});T.creationTime=M.creationTime || Q;T.lastRefresh=Q;T.lifespan=K.lifespan;T.lastMetadataUpdate=Q;T.size=M.size;T.convertToBinaryData=K.convertToBinaryData;da=(function(wa,ua,X){wa.yyb((function(sa,O){sa && u.error("Evicting","Failed to delete some orphaned records",sa);O.Yta?X():(sa=wa.hEb())?this.delete(wa.wv,sa,(function(S){S?(L || (q.isArray(ua)?ua.forEach((function(ka){m(this,"save",wa.bFb,ka.resources,ka.error);}).bind(this)):l(this,"save",wa.wv,G,void 0,ua)),R(ua)):X();}).bind(this)):R(B.fJ);}).bind(this));}).bind(this);pa=(function(){var wa,ua,X;wa=this.Lj;ua=0;X=v.time.now();if(!q.ha(wa))for(var sa in wa){ua+=wa[sa].xDb(X);}return ua;}).bind(this);this.sTa(C,H,(function(){I.replace(P,T,(function(wa,ua){ua?(I.Ae[G]=x.nma(T),I.bUb(N,p(N,C,G,J,K,R,L,P,this,I,da),L,pa)):wa.code === B.fJ.code?da(I,wa,(function(){this.save(C,G,J,K,R,L);}).bind(this)):R(wa);}).bind(this),L,pa);}).bind(this));}}else R(B.kB);};f.prototype.delete=function(C,G,J){var K;K=q.ad(J)?J:c;this.fy(C)?h(this.Lj[C],G,(function(H){l(this,"delete",C,G,void 0,H);K(H);}).bind(this)):K(B.kB);};f.prototype.sTa=function(C,G,J){var K,H;K=q.ad(J)?J:c;if(this.fy(C)){H=this.Lj[C];J=v.Promise.all(G.map((function(L){return new v.Promise((function(R){h(H,L,(function(I){R({$:q.ha(I),error:I,Iq:L});}).bind(this));}).bind(this));}).bind(this))).then((function(L){var M,Q;for(var R=[],I=[],P=[],N=0;N < L.length;N++){M=L[N];M.$?R.push(M.Iq):M.error && I.push(M);}0 < R.length && m(this,"delete",C,R);if(0 < I.length){P=I.map(function(T){return T.Iq;});L=D.FYa(I);Q=L[0];L.forEach((function(T){u.error("Failed to delete resources ",T.error,T.resources);m(this,"delete",C,T.resources,T.error);}).bind(this));}L={};L.cac=R;0 < P.length && (L.dac=P);Q?K(Q,L):K(void 0,L);}).bind(this),(function(L){m(this,"delete",C,G,L);K(L);}).bind(this));D.Fw(J);}else K(B.kB);};f.prototype.clear=function(C,G){var J;J=q.ad(G)?G:c;this.fy(C)?this.Lj[C].clear(function(K){J(K.filter(d));}):J(B.kB);};f.prototype.SSb=function(C,G,J){var K,H;K=q.ad(J)?J:c;if(this.fy(C)){H=this.Lj[C];H.read(x.Vja(G),function(L,R){var I;if(L)K(B.igb);else {I=x.nma(R) || ({});H.PXa(Object.keys(I.Cua),function(P){I.size=P;(P=H.Ae[G]) && (I.lastMetadataUpdate && P.lastMetadataUpdate && P.lastMetadataUpdate <= I.lastMetadataUpdate?H.Ae[G]=I:P.lastMetadataUpdate && (P.lastMetadataUpdate > I.lastMetadataUpdate || q.ha(I.lastMetadataUpdate)) && (I=P));K(null,I);});}});}else K(B.kB);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var m,d;function c(g,h,k,n,p,q){return new l(g,h,k,n,p,q);}function f(g){return g && 0 <= g.indexOf(".__metadata__");}function l(g,h,k,n,p,q){this.partition=g;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.Y9a();}m=a(10);d=a(125);a(126);new d.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.Y9a();};l.prototype.R7a=function(g){this.size=g;};l.prototype.YRa=function(){var g;g=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - g) / 1E3;};l.prototype.Y9a=function(){this.lastMetadataUpdate=d.time.now();return this;};l.prototype.constructor=l;r.exports={create:c,nma:function(g){var h;h=g;"string" === typeof g && (h=JSON.parse(g));if(h && h.partition && !m.ha(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (g=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (g.lastMetadataUpdate=h.lastMetadataUpdate),!m.ha(h.size) && 0 <= h.size && g.R7a(h.size),g.YRa(),g.convertToBinaryData=h.convertToBinaryData,g);},Vja:function(g){return g + ".__metadata__";},C4:function(g){return f(g)?g.slice(0,g.length - 13):g;},fN:f};},function(r,b,a){r.exports={EventEmitter:a(870),Nh:a(871)};},function(r){r.exports="4.1.1789";},function(r,b,a){var p,q,v,u;function c(t){return t.Li.Ca(t.Hd).T;}function f(t,w){return Math.exp(-(Math.log(2) / t) * w);}function l(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function m(t,w){var x,y,z,A,B;x=w.mta;y=w.lta;z=w.yX;if(0 === w.Rg.length)return {C2:!1};A=w.Rg[0];w=A.Qe;B=A.TC;A=A.duration;if(!B || 1 === z)return {C2:!1};q.assert(A,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < z,"presenting segment seamless probability cannot be zero");y=y.T - A;if(x.T < y)return {C2:!1};y=x.T - y;x=z + y / A * (1 - z);A-=y;B=B * (1 - x) / (1 - z);t=w * x / z * f(t,A) + B * l(t,A);q.assert(1 >= t);return {C2:!0,Ppb:t};}function d(t){var w,x,y,z,A;w=t.duration;x=t.V8a;y=t.BA;z=t.Li;A=t.Hd;t=t.az;q.assert(x);q.assert(w);y=1 - y;z=z.Ca(A);t.Zb?(A=x.Ca(t).Ca(z),w=w.T - t.T,A.iw(v.S.bb)?t=Math.max(0,(x.T - t.T) / w):(x=w - A.T,t=0 < x?z.T / x:0,y*=0 < x?x / w:1)):(A=x.Ca(z),A.iw(v.S.bb)?t=x.T / w.T:(x=w.Ca(A).T,t=0 < x?z.T / x:0,y*=0 < x?x / w.T:1));q.assert(0 <= t);q.assert(1 >= t);q.assert(0 <= y);q.assert(1 >= y);return 1 - t * y;}function g(t,w){t=Math.log(2) / t.I5a;return h(w) * Math.exp(-t * c(w));}function h(t){var w;return (null !== (w=t.MG) && void 0 !== w?w:1) * t.Rg.reduce(function(x,y){var z;z=y.TC;return x * (y.Qe + (void 0 === z?0:z));},1);}function k(t){var w,x,y,z;if(0 === t.Rg.length)return 0;x=0;if(1 > t.yX){x=t.mta.T;y=t.lta.T;z=null !== (w=t.Rg[0].duration) && void 0 !== w?w:0;x=Math.max(0,Math.min(z,x - (y - z)));}return t.Rg.reduce(function(A,B){B=B.duration;return A + (void 0 === B?0:B);},0) - x;}function n(t){return t.Rg.filter(function(w){return !w.TC;}).reduce(function(w,x){return w * x.Qe;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Sia=b.bRa=b.zsb=b.aRa=b.Dsb=void 0;p=a(16);q=a(5);v=a(9);u=a(20);b.Dsb=c;b.aRa=function(t,w,x){var y,z,A,B,D,E,F,C,G,J;if(!t.k4 || p.nq(w.Lf))return g(t,w);B=t.I5a;t=c(w);D=k(w);E=n(w);F=m(B,w);C=F.C2;F=F.Ppb;F=void 0 === F?1:F;G=1 > w.BA?d(w):1;J=(null !== (y=w.MG) && void 0 !== y?y:1) * E * f(B,t - D) * F * G * w.Rg.filter(function(K,H){return K.TC && (0 < H || !C);}).reduce(function(K,H){var L,R;L=H.TC;R=H.duration;R=void 0 === R?0:R;L=void 0 === L?0:L;H=H.Qe * f(B,R) + L * l(B,R);return K * H;},1);u.ga && (null === x || void 0 === x?void 0:x.log("{" + w.groupId + "} [" + w.mediaType + "] calculateStreamablePriority: sp: " + (w.BA + ", pssp: ") + (w.yX + ", streamingDuration: ") + ((null === (z=w.V8a) || void 0 === z?void 0:z.T) + ", duration: ") + ((null === (A=w.duration) || void 0 === A?void 0:A.T) + ", seamlessProbability: ") + (E + ", distance: ") + (t + ", immediateDistance: " + D + ", risk:") + (f(B,t - D) + ", adjustedFirstTerm: ") + (F + ", streamingAdjustment: " + G + ", probabilities: ") + (JSON.stringify(w.Rg) + " => " + J)));return J;};b.zsb=g;b.bRa=h;b.Sia=n;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Pda=void 0;c=a(2);f=a(18);l=a(9);m=a(5);d=a(16);r=(function(){function g(){this.SN=[];this.LB=new l.er(!1);this.KB=new l.er(l.S.tb(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(g.prototype,{Sw:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{playbackRate:{get:function(){return this.wo();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Yz:{get:function(){return this.LB;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{WV:{get:function(){return this.KB;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{JA:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ao:{get:function(){return this.QM;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hd:{get:function(){return this.vM();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cj:{get:function(){var h,k;h=this.Hd;k=this.$r(h);m.assert(k,"Could not find current branch for " + h.T);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{CIb:{get:function(){return this.Hb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cH:{get:function(){return this.QM?this.Hb[this.Hb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ei:{get:function(){var h,k;h=this.Hd;k=this.Z4(h);m.assert(k,"Could not find presenting branch for " + h.T);return k;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QM:{get:function(){return 0 < this.Hb.length;},enumerable:!1,configurable:!0}});g.prototype.LYa=function(h){return -1 !== this.Hb.indexOf(h);};g.prototype.O2=function(){return void 0 !== this.pa?!1:!0;};g.prototype.Kb=function(){};g.prototype.tV=function(h){var k,n,p;k=this.Hb.filter(function(q){return q.N.id === h.ya;});if(0 !== k.length){n=this.vM();p=new l.S(Infinity,1);k.forEach(function(q){q=q.LH.add(h.offset);n.DTa(q).lessThan(n.DTa(p)) && (p=q);});return p;}};g.prototype.$r=function(h){var k,n,p;k=this.Z4(h);if(k){n=k.N;p=n.id;h=h.Ca(n.Eg.add(k.eg));return {ya:p,offset:h};}};g.prototype.reset=function(){};g.prototype.cY=function(){};g.prototype.pause=function(h){void 0 === h && (h=d.uf);this.SN=null === h || void 0 === h?void 0:h.reduce(function(k,n){-1 === k.indexOf(n) && k.push(n);return k;},this.SN);};g.prototype.resume=function(h){var k;k=this;void 0 === h && (h=d.uf);h.forEach(function(n){n=k.SN.indexOf(n);-1 !== n && k.SN.splice(n,1);});};g.prototype.Lwa=function(h){var k;m.assert(this.pa);m.assert(h !== this);this.wI();k=h.O2(this.pa,this);k && (h.pause(this.SN),h.nla.apply(h,c.__spread(this.Hb)),this.Ika(this.pa));return k;};g.prototype.vM=function(){return this.jXa();};g.prototype.jXa=function(){var h,k;m.assert(this.QM,"Attempted to get initial time before any branches were queued");k=c.__read(this.Hb,1)[0];m.assert(k);return null !== (h=k.mj) && void 0 !== h?h:k.Or;};g.prototype.wo=function(){return 1;};g.prototype.Z4=function(h){var k;if(this.QM){k=this.jXa();return h.lessThan(k)?this.Hb[0]:l.wVa(this.Hb,h);}};g.prototype.KDb=function(){var h,k,q,v,u,t,w,x;k={};try{for(var n=c.__values(this.Hb),p=n.next();!p.done;p=n.next()){q=p.value;v=void 0;u=void 0;t=q.DC();for(v in t){w=v;x=t[w];x && (k[w]=(null !== (u=k[w]) && void 0 !== u?u:0) + x);}if(!q.ql)break;}}catch(z){var y;y={error:z};}finally{try{p && !p.done && (h=n.return) && h.call(n);}finally{if(y)throw y.error;}}return k;};return g;})();b.Pda=r;},function(r,b,a){var l,m,d;function c(g,h,k,n,p){var q,v;k=null !== (q=h.he) && void 0 !== q?q:h.track.gn(g,k.T,void 0,p);g=null !== (v=h.Bf) && void 0 !== v?v:h.track.$y(g,null === n || void 0 === n?void 0:n.T,h.og);return [!h.di(),k,g];}function f(g,h){var B,D;for(var k=[],n=0,p=g[n],q=null === p || void 0 === p?void 0:p[0],v=null === p || void 0 === p?void 0:p[1],u=h.Bf.index,t=h.track.Yo,w=0,x=h.he.Jc,y=h.he.Pd.T > p[0],z=y,A=h.he.index;A <= u;++A){B=!1;if(p){D=t.get(A);y && (D.Jc.T >= v?(y=!1,++n >= g.length?v=q=p=void 0:(p=g[n],q=null === p || void 0 === p?void 0:p[0],v=null === p || void 0 === p?void 0:p[1])):z?z=!1:(k.push(new m.y0(w,x,D.Jc)),x=D.Jc,B=!0));!y && p && D.Pd.T > q && (y=!0,B=D.Jc,(D=h.track.YM.Mk(A).vVa(q)) && 0 !== D.Xk && (B=d.S.tb(D.Cd)),k.push(new m.y0(w,x,B)),x=B,B=!0);}B && ++w;}k.push(new m.y0(w,x,h.Bf.Pd));return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.dMb=b.o1a=b.P2a=b.N2a=b.lua=void 0;l=a(2);m=a(403);d=a(9);b.lua=function(g,h,k){var n,p,q;q=h.get(0);h=h.get(1);h=null === h || void 0 === h?void 0:h.track.$y(g,null === k || void 0 === k?void 0:k.T,h.og);return [null === q || void 0 === q?void 0:q.track.$y(g,null !== (p=null === (n=null === h || void 0 === h?void 0:h.Pd) || void 0 === n?void 0:n.T) && void 0 !== p?p:null === k || void 0 === k?void 0:k.T,q.og),h];};b.N2a=function(g,h,k,n,p){var q,v,u,t;q=h.get(0);h=h.get(1);v=l.__read(h?c(g,h,k,n,p):[!1],3);u=v[0];t=v[1];v=v[2];n=l.__read(q?c(g,q,u && void 0 !== (null === t || void 0 === t?void 0:t.Y)?d.S.tb(t.Y):k,void 0 !== (null === v || void 0 === v?void 0:v.Ha)?d.S.tb(null === v || void 0 === v?void 0:v.Ha):n,p):[!1],3);g=n[0];k=n[1];n=n[2];g && (null === q || void 0 === q?void 0:q.z6(k,n));u && (null === h || void 0 === h?void 0:h.z6(t,v));return [g,u];};b.P2a=function(g,h,k){return h.track.gn(g,k.T,void 0,!0).Jc;};b.o1a=function(g,h,k){var n;n=h.N;if(!n.bq || 0 === n.bq.length)return [];g=n.bq.map(function(p){return [n.wc + p[0],n.wc + p[1]];});return f(g,k.AX);};b.dMb=f;},function(r,b,a){var f,l;function c(m){return "immediate" === m;}Object.defineProperties(b,{__esModule:{value:!0}});b.tIa=b.y0=b.o_a=void 0;f=a(9);l=a(5);b.o_a=c;r=(function(){function m(d,g,h){this.region=d;this.Jc=g;this.Pd=h;}m.prototype.toJSON=function(){return {region:this.region,Y:this.Jc.MH,Ha:this.Pd.MH};};return m;})();b.y0=r;r=(function(){function m(d,g,h){var k,n;k=this;this.id=d;this.N=g;this.uNa=!1;this.MM=function(p){var q,v,u,t;return (null === (q=k.Kw) || void 0 === q?0:q.length)?"immediate":null !== (t=null === (u=null === (v=k.N.next) || void 0 === v?void 0:v[p]) || void 0 === u?void 0:u.me) && void 0 !== t?t:k.me;};this.PS=new f.S(g.wc,1E3);this.cS=void 0 !== g.Oc && null !== g.Oc?new f.S(g.Oc,1E3):f.S.vz;this.Aob=null !== (n=g.me) && void 0 !== n?n:h;this.ZZa();l.assert(this.PS.lessThan(this.cS),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(m.prototype,{Z:{get:function(){return this.N.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wr:{get:function(){return this.uNa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Eg:{get:function(){return this.PS;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Kk:{get:function(){return this.cS;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{duration:{get:function(){return this.cS.Ca(this.PS);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Y:{get:function(){return this.PS.T;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ha:{get:function(){return this.cS.T;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ED:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ou:{get:function(){return this.cA.length?!this.N.Zh && 0 === this.GN.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{YNb:{get:function(){return this.MB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cA:{get:function(){var d,g;return Object.keys(null !== (g=null === (d=this.N) || void 0 === d?void 0:d.next) && void 0 !== g?g:{});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{GN:{get:function(){var d;d=this;return this.cA.filter(function(g){return ! !d.MB[g];});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pwa:{get:function(){var d;return null !== (d=this.oOa) && void 0 !== d?d:this.oOa=this.Esb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{E$:{get:function(){var d;return null !== (d=this.pOa) && void 0 !== d?d:this.pOa=this.Fsb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BA:{get:function(){return this.N.weight?this.N.weight / (this.N.weight + this.E$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{me:{get:function(){var d;return (null === (d=this.Kw) || void 0 === d?0:d.length)?"immediate":this.Aob;},enumerable:!1,configurable:!0}});m.prototype.normalize=function(d,g,h){this.PS=d;this.cS=g;this.Kw=h;this.uNa=!0;this.Lab();};m.prototype.FWa=function(){var d;return this.GN.length?null !== (d=this.GN.map(this.MM).reduce(function(g,h){return g === h?h:void 0;})) && void 0 !== d?d:this.me:this.me;};m.prototype.ki=function(d){this.ZZa(d);};m.prototype.tsb=function(d){var g,h;if(this.pwa){g=(this.MB[d] || 0) / this.pwa;if(void 0 === this.N.weight || 0 === this.E$)return {Qe:g};h=this.BA;return 1 !== h && c(this.MM(d)) && this.MB[d]?{Qe:h * g,TC:this.MB[d] / this.E$ * (1 - h)}:{Qe:h * g};}return {Qe:(null === (g=this.N.next) || void 0 === g?0:g[d])?1 / this.cA.length:0};};m.prototype.kHb=function(d){return -1 < this.cA.indexOf(d);};m.prototype.ZZa=function(d){var g;if(void 0 === this.N.next)this.MB={};else {g=this.N.next;this.MB=Object.keys(g).reduce(function(h,k){var n;n=d?d[k] || 0:g[k].weight;void 0 !== n && null !== n && 0 <= n && (h[k]=n);return h;},{});}this.Lab();};m.prototype.Esb=function(){var d;d=this;return this.GN.reduce(function(g,h){return g + d.MB[h];},0);};m.prototype.Fsb=function(){var d;d=this;return this.GN.filter(function(g){return c(d.MM(g));}).reduce(function(g,h){return g + d.MB[h];},0);};m.prototype.Lab=function(){this.pOa=this.oOa=void 0;};return m;})();b.tIa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kWa=b.QXa=b.Bma=b.fJa=void 0;c=a(2);f=a(20);l=a(54);r=(function(){function m(d){this.Ea=d;}Object.defineProperties(m.prototype,{bj:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tD:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});m.prototype.uo=function(d){var g,h,p;d=d.Ei;if(d === l.ce.Wp || d === l.ce.Ln)if(d=this.Ea.yma()){h={};try{for(var k=c.__values(d.eRb),n=k.next();!n.done;n=k.next()){p=n.value;h[p.mediaType]=this.YLb(p);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (g=k.return) && g.call(k);}finally{if(q)throw q.error;}}return {branchQueue:b.kWa(d.OSb),playerIterator:h,driftStats:this.Ea.Jxa};}};m.prototype.YLb=function(d){return null === d || void 0 === d?void 0:d.kXa();};return m;})();b.fJa=r;b.Bma=function(m){var d,g;if(m){d=m.N;g={};m.iq().forEach(function(h){g[h.mediaType]=b.QXa(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.vh,RM:g};}return m;};b.QXa=function(m){var d;if(m && m.Ra)return c.__assign(c.__assign({},m.Ra.qna()),{unsentRequests:m.Ra.As,lastFragmentContentEndPts:null === (d=m.Bf) || void 0 === d?void 0:d.Fc});};b.kWa=function(m){return m.map(function(d){return b.Bma(d);});};},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.ELa);}function c(d){return (a(d)?d:Object.defineProperties(d,{ELa:{value:{},configurable:!1,enumerable:!1}})).ELa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Yda=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.id=m=(m + 1) % l;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,h){c(g)[this.id]=h;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Yda=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bR=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.uha=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.bR=r;0;1;},function(r,b,a){var f,l,m,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(250));})];case 1:return (g=h.kd().IG,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.mV=void 0;f=a(2);l=a(925);m=f.__importDefault(a(6));b.mV=function(g){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new l.CIa(function(){return c();},g,h));return d;};},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,f,l,m,d,g;b=a(59);c=a(410);f=a(947);l=a(408);m=a(255);d=a(952);g=a(413);a=b(c(["filter"],d,function(h,k){return l(k)?m(function(n,p){h(k[p]) && (n[p]=k[p]);return n;},{},g(k)):f(h,k);}));r.exports=a;},function(r,b,a){var c,f;c=a(411);f=a(946);r.exports=function(l,m,d){return function(){var g,h;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);h=g.pop();if(!c(h)){for(var k=0;k < l.length;){if("function" === typeof h[l[k]])return h[l[k]].apply(h,g);k+=1;}if(f(h))return m.apply(null,g)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={xb:function(){return this.HZ["@@transducer/init"]();},result:function(b){return this.HZ["@@transducer/result"](b);}};},function(r,b,a){var c,f,l,m,d;b=a(128);c=a(254);f=a(953);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var h,k,n,p;if(Object(g) !== g)return [];h=[];k=d && f(g);for(n in g){!c(n,g) || k && "length" === n || (h[h.length]=n);}if(l)for(k=m.length - 1;0 <= k;){n=m[k];if(p=c(n,g)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--k;}return h;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=Array(f);c < f;){l[c]=b(a[c]);c+=1;}return l;};},function(r,b,a){var c,f,l;c=a(256);f=a(128);b=a(59);l=a(956);a=b(function(m,d){return 1 === m?f(d):c(m,l(m,[],d));});r.exports=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tCa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cIa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pea="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WQ="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HCa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RCa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LCa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,l){a=new a(c.length);for(var m="function" === typeof f,d=0;d < c.length;++d){a[d]=m?f.call(l,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){var m;m=null !== f && f.apply(this,arguments) || this;m.dz=1536;return m;}c.__extends(l,f);l.Oa=!0;return l;})(a(177).default);b.default=r;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ac-3";return l;})(r);b.Gaa=a;r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="ec-3";return l;})(r);b.Rba=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(105);r=a(32);l=f.JE;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.uc();this.fileSize=this.u.Sd();this.U=this.u.Sd();this.duration=this.u.Sd(!1,!0);this.Wra=this.u.Sd();this.u.Sd();this.$ra=this.u.Sd();this.Cra=this.u.wa();this.Xra=this.u.Sd();this.ama=this.u.wa();this.u.tA();this.Pe={moof:{offset:this.Wra},sidx:{offset:this.Xra,size:this.ama}};this.Pe[f.eR]={offset:this.$ra,size:this.Cra};this.u.offset - this.startOffset <= this.length - 24 && (this.Zra=this.u.Sd(),this.wra=this.u.wa(),this.Yra=this.u.Sd(),this.ura=this.u.wa(),this.Pe[f.yx]={offset:this.Zra,size:this.wra},this.Pe[f.xx]={offset:this.Yra,size:this.ura});return !0;};d.Vb=l;d.Oa=!1;return d;})(r.yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(105);a=a(32);f=r.KE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){var d,k,n;this.uc();1 <= this.version && this.u.tA();d=this.u.wa();this.Pe={};for(var g=this.startOffset + this.length,h=0;h < d;++h){k=this.u.Gl();"uuid" === k && (k=this.u.tA());n=this.u.Sd();this.Pe[k]={offset:g,size:n};g+=n;}return !0;};m.Vb=f;m.Oa=!1;return m;})(a.yc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,qk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,qk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,qk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,qk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(32);l=a(88);r=(function(m){function d(g,h,k,n,p){k=m.call(this,k,n,p) || this;k.wia=g;k.Oq=h;k.Ua={};return k;}c.__extends(d,m);d.prototype.parse=function(g){var h,k,n,p,q,v;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.wa();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=l.Wn(this.wa());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.tA();}if(0 === h.length && this.Oq.VU(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.wia[p];v=void 0;if(q){if((v=new q(this,p,k,n,h[0]),(h[0] || this).dt(v),v.parse(g)))this.config.GH && q.Oa?h.unshift(v):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Bn - 8;){v=h.shift();if(!v.Ft(g))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.Bn;}if(0 === h.length && this.Oq.pU(p,k,n,v))break;}return !this.Oq.done && (g=this.Oq.endOffset?this.Oq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,JW:g}:{done:!0,offset:Math.min(this.Oq.endOffset || Infinity,this.offset)};};d.prototype.dt=function(g){f.yc.dt(this,g);};return d;})(a(988).Fea);b.lE=r;},function(r,b,a){var f;function c(l,m){l=m.indexOf(l);-1 !== l && m.splice(l,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(105);r=(function(){function l(m){this.endOffset=m;this.done=!1;}l.prototype.VU=function(){return this.done;};l.prototype.pU=function(m,d,g){return this.done=d + g >= this.endOffset;};return l;})();b.iQ=r;r=(function(){function l(m,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.Gh=m;this.Py=d;this.TY=g;this.iX=h;this.done=!1;this.Pe={};}l.prototype.VU=function(m,d,g){-1 !== l.goa.indexOf(m) && (this.Pe[m]={offset:d,size:g});if(-1 !== this.TY.indexOf(m)){if((this.Pe[m]={offset:d,size:g},this.iX))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Gh && -1 !== this.Gh.indexOf(m)?(m=1 < this.Gh.length?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0)):-1 !== this.Py.indexOf(m) && (m=this.Gh?4096:0,this.endOffset=Math.max(d + g + m,this.endOffset || 0));return this.done;};l.prototype.pU=function(m,d,g,h){var k;k=this;if(-1 !== this.TY.indexOf(m))return this.done=!0;m === f.JE && this.tY(h.Pe);m === f.KE && this.tY(h.Pe);this.Gh && c(m,this.Gh);c(m,this.Py);return this.Gh && 0 === this.Gh.length && !this.Py.some(function(n){return k.Pe[n];})?this.done=!0:this.done;};l.prototype.tY=function(m){var d;d=this;this.Pe=m;this.endOffset=(this.Gh || []).concat(this.Py).reduce(function(g,h){return d.Pe[h]?(h=d.Pe[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};l.goa=["moov","sidx"];return l;})();b.mca=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vCa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hza="CdnPartitionerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Oba=void 0;f=a(44);l=a(110);c.Pp=function(){var m;m={};m[f.P.sJ]="avc1.4D401E";m[f.P.rE]="avc1.4D401F";m[f.P.cca]="avc1.4D4028";m[f.P.Jeb]="hev1.2.6.L90.B0";m[f.P.Keb]="hev1.2.6.L93.B0";m[f.P.Leb]="hev1.2.6.L120.B0";m[f.P.Meb]="hev1.2.6.L123.B0";m[f.P.D_]="hev1.2.6.L90.B0";m[f.P.F_]="hev1.2.6.L93.B0";m[f.P.H_]="hev1.2.6.L120.B0";m[f.P.J_]="hev1.2.6.L123.B0";m[f.P.EQ]="hev1.2.6.L150.B0";m[f.P.GQ]="hev1.2.6.L153.B0";m[f.P.E_]="hev1.2.6.L90.B0";m[f.P.G_]="hev1.2.6.L93.B0";m[f.P.I_]="hev1.2.6.L120.B0";m[f.P.K_]="hev1.2.6.L123.B0";m[f.P.FQ]="hev1.2.6.L150.B0";m[f.P.HQ]="hev1.2.6.L153.B0";m[f.P.kCa]="hev1.2.6.L90.B0";m[f.P.lCa]="hev1.2.6.L93.B0";m[f.P.mCa]="hev1.2.6.L120.B0";m[f.P.nCa]="hev1.2.6.L123.B0";m[f.P.oCa]="hev1.2.6.L150.B0";m[f.P.pCa]="hev1.2.6.L153.B0";m[f.P.tQ]="hev1.2.6.L90.B0";m[f.P.vQ]="hev1.2.6.L93.B0";m[f.P.uJ]="hev1.2.6.L120.B0";m[f.P.yQ]="hev1.2.6.L123.B0";m[f.P.AQ]="hev1.2.6.L150.B0";m[f.P.CQ]="hev1.2.6.L153.B0";m[f.P.uQ]="hev1.2.6.L90.B0";m[f.P.wQ]="hev1.2.6.L93.B0";m[f.P.xQ]="hev1.2.6.L120.B0";m[f.P.zQ]="hev1.2.6.L123.B0";m[f.P.BQ]="hev1.2.6.L150.B0";m[f.P.DQ]="hev1.2.6.L153.B0";m[f.P.d_]=l.Ed.c_;m[f.P.f_]=l.Ed.Fba;m[f.P.fQ]=l.Ed.Gba;m[f.P.i_]=l.Ed.Hba;m[f.P.k_]=l.Ed.Iba;m[f.P.m_]=l.Ed.Jba;m[f.P.e_]=l.Ed.c_;m[f.P.g_]=l.Ed.Fba;m[f.P.h_]=l.Ed.Gba;m[f.P.j_]=l.Ed.Hba;m[f.P.l_]=l.Ed.Iba;m[f.P.n_]=l.Ed.Jba;m[f.P.iCa]="avc1.640016";m[f.P.qQ]="avc1.64001E";m[f.P.rQ]="avc1.64001F";m[f.P.bca]="avc1.640028";m[f.P.O0]=l.Ed.GR;m[f.P.SJ]=l.Ed.GR;m[f.P.TJ]=l.Ed.GR;m[f.P.HR]=l.Ed.GR;m[f.P.ubb]=l.Ed.xj;m[f.P.vbb]=l.Ed.xj;m[f.P.Paa]=l.Ed.xj;m[f.P.Qaa]=l.Ed.xj;m[f.P.Raa]=l.Ed.xj;m[f.P.Saa]=l.Ed.xj;m[f.P.Taa]=l.Ed.xj;m[f.P.Uaa]=l.Ed.xj;return m;};b.Oba=c;},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Nba=void 0;f=a(44);c.Pp=function(){var l;l={};l[f.xe.sE]="mp4a.40.2";l[f.xe.qCa]="mp4a.40.2";l[f.xe.tE]="mp4a.40.2";l[f.xe.cF]="mp4a.40.42";l[f.xe.cQ]="ec-3";l[f.xe.Aba]="ec-3";l[f.xe.dQ]="ec-3";return l;};b.Nba=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a4b="LogblobBuilderSymbol";b.TQ="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yKa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BKa="ThroughputTrackerSymbol";b.zKa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OBa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aza="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eya={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var f,l,m;function c(d,g,h,k){this.config=d;this.gj=g;this.mediaType=h;this.rw=k;this.ara={};this.ara[f.Ej.Audio]="audio";this.ara[f.Ej.jLa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.aQ=void 0;f=a(25);r=a(111);l=a(180);m=new r.xB().format;c.prototype.sYa=function(d){return this.Oyb(this.ZXa(d));};c.prototype.yy=function(d){return this.gj.isTypeSupported(d);};c.prototype.EWa=function(){return [l.Te.JZ,l.Te.wCa,l.Te.pQ];};c.prototype.Qoa=function(){this.Cn=[];this.xu=[];this.config().$Pb && this.xu.push(l.Te.cF);this.config().K3a && this.xu.push(l.Te.rCa);this.config().J3a && this.xu.push(l.Te.jCa);this.config().I3a && this.xu.push(l.Te.Hs);this.config().FH && this.xu.push(l.Te.aB);this.config().L3a && this.xu.push(l.Te.Ix);this.config().H3a && this.xu.push(l.Te.xj);this.xu=this.xu.concat(this.EWa());!this.config().DAb && this.Cn.push(l.Te.cF);!this.config().qUa && this.Cn.push(l.Te.Xcb);!this.config().pUa && this.Cn.push(l.Te.Ycb);!this.config().AU && this.Cn.push(l.Te.Zcb);!this.config().rAb && this.Cn.push(/prk$/);this.config().I3a || this.config().cAb || this.Cn.push(l.Te.Hs);this.config().K3a || this.config().eAb || this.Cn.push(l.Te.rCa);this.config().J3a || this.config().ela || this.Cn.push(l.Te.jCa);this.config().FH || this.config().YL || this.Cn.push(l.Te.aB);this.config().L3a || this.config().BAb || this.Cn.push(l.Te.Ix);this.config().H3a || this.config().Zzb || this.Cn.push(l.Te.xj);!this.config().zAb && this.Cn.push(l.Te.RJ);};c.prototype.kVa=function(d){var g,h;g=this;h=d.map(function(k){for(var n=aa(g.xu),p=n.next();!p.done;p=n.next()){if(p.value.test(k))return Promise.resolve(!0);}n=aa(g.Cn);for(p=n.next();!p.done;p=n.next()){if(p.value.test(k))return Promise.resolve(!1);}return g.Zy(k).catch(function(){return !1;});});return Promise.all(h).then(function(k){return d.filter(function(n,p){return k[p];});});};c.prototype.Zy=function(d){return this.config().oAb?this.rw.Zy(d):this.JBb(d);};c.prototype.JBb=function(d){var g;d=this.wta[d];g="";return d?(Array.isArray(d) && (g=1 < d.length?" " + d[1]:"",d=d[0]),d=m("{0}/mp4;codecs={1};{2}",this.ara[this.mediaType],d,g),d=this.yy(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.Oyb=function(d){var g;g={};this.Qoa();return this.kVa(d).then(function(h){return h.map(function(k){return g[k]=1;});}).then(function(){return Object.keys(g);});};Wa.Object.defineProperties(c.prototype,{wta:{configurable:!0,enumerable:!0,get:function(){this.ONa || (this.ONa=this.Pp());return this.ONa;}}});b.aQ=c;},function(r,b,a){var f,l,m,d,g;function c(h,k,n){n=l.aQ.call(this,h,k,f.Ej.Audio,n) || this;n.config=h;n.gj=k;n.type=f.Uu.Xu;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.p_=void 0;f=a(25);l=a(440);m=a(110);r=a(111);d=a(433);g=new r.xB().format;la(c,l.aQ);c.prototype.IY=function(){var h;h=g(c.rP,m.Ed.Wcb);return Promise.resolve(this.config().AU && this.gj.isTypeSupported(h));};c.prototype.Pp=function(){return d.Nba.Pp();};c.prototype.ZXa=function(h){return h || this.config().fC;};b.p_=c;c.rP="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lFa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kFa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IIa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.R_="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oea="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$za="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iEa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EFa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sya="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qya="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pya="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iza="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XEa="ManifestProviderConfigSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tea=void 0;f=a(11);c.YXa=function(){var l;l=f.fv && f.fv.height;return l?1080 <= l?1080:720:720;};b.tea=c;},function(r,b){function a(c,f){this.log=c;this.X$=f;}Object.defineProperty(b,"__esModule",{value:!0});b.aR=void 0;a.prototype.e$a=function(c,f){var l,m;l=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);m=c.map(function(d){var g,h,k,n,p,q,v;v=l.X$(f,f.type,d.Er,d.bitrate,d.Eb,d.size,l.ZDb(d.urls),d.eG,d.VVa / d.UVa,d.Ez);v.zWb(d.x6a,d.w6a,d.t4a,d.s4a);v.PVb(null !== (g=d.Dxb) && void 0 !== g?g:void 0,null !== (h=d.Exb) && void 0 !== h?h:void 0,null !== (k=d.Cxb) && void 0 !== k?k:void 0,null !== (n=d.Bxb) && void 0 !== n?n:void 0,null !== (p=d.t4a) && void 0 !== p?p:void 0,null !== (q=d.s4a) && void 0 !== q?q:void 0);f.gm && (v.gm=f.gm);d.eG && (v.Zg=d.eG);return v;});m.sort(function(d,g){return d.bitrate - g.bitrate;});m.forEach(function(d,g){d.lower=m[g - 1];d.AHb=m[g + 1];});return m;};a.prototype.ZDb=function(c){return c.reduce(function(f,l){f[l.Np]=l.url;return f;},{});};b.aR=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dIa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JKa="TrackStreamFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RKa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aFa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZGa="PboLinksManagerSymbol";b.XGa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="ManifestEnricherSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Tab=void 0;c=a(8);f=a(19);b.Tab=function(l){var m,d;if(f.Gz(l)){m=new DOMParser().parseFromString(l,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:l.slice(0,300),fileSize:l.length});}catch(g){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var f;function c(l){var m,d,g,h,k,n,p;d={};d[f.HP]=l.localName;g={};d[f.uk]=g;h=[];d[f.GP]=h;k=l.attributes;n=k.length;for(m=0;m < n;m++){p=k[m];g[p.localName]=p.value;}l=l.childNodes;n=l.length;g={};for(m=0;m < n;m++){switch((k=l[m],k.nodeType)){case b.Xab:k=c(k);p=k[f.HP];k[f.Caa]=d;h.push(k);d[p]?g[p][f.gE]=k:d[p]=k;g[p]=k;break;case b.Yab:case b.Vab:(k=k.text || k.nodeValue,h.push(k),d[f.Es] || (d[f.Es]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Wab=b.Vab=b.Yab=b.m1b=b.Xab=b.n1b=b.Uab=void 0;f=a(157);b.Uab=function(l){return c(l.nodeType == b.Wab?l.documentElement:l);};b.n1b=c;b.Xab=1;b.m1b=2;b.Yab=3;b.Vab=4;b.Wab=9;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ocb=b.xza=void 0;c=a(12);f=a(24);l=a(19);m=a(90);b.xza=function(d,g,h,k,n,p,q,v,u,t){var w,x;w=this;x={Type:g,Bitrate:k,DownloadableId:h};f.Xb(w,{track:d,type:g,fd:h,bitrate:k,Eb:n,Zg:v,size:p,Rv:q,header:null,zWb:function(y,z,A,B){if(l.Pc(y) || l.Pc(z))(w.width=y,w.height=z,l.Ba(A) && l.Ba(B) && (w.Dha=A / B * y),x.Resolution=(w.width || "") + ":" + (w.height || ""));},PVb:function(y,z,A,B,D,E){l.Pc(y) && l.Pc(z) && l.Pc(A) && l.Pc(B) && (w.eka=y,w.I3=z,w.H3=A,w.G3=B);l.Pc(D) && l.Pc(E) && (w.u4a=D,w.v4a=E);},framerate:u,Ez:t,kg:x,toJSON:function(){return x;}});};b.Ocb=function(d,g,h,k,n){if(d == c.U_ || d === m.ri.audio)return g;if(d == c.DJ || d === m.ri.video)return h;if(d == m.ri.Q$)return k;if(d == m.ri.Qwa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ada="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BAa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,f,l){if(null != l){if(0 < l(c,f))throw a.GSa(c,f);}else if(c.ul && 0 < c.ul(f))throw a.GSa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.bea=void 0;a.GSa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.bea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EAa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bAa="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JGa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AEa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GFa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aHa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fLa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aya="AppLogSinkSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F;function c(C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa){var O;O=this;this.j=C;this.va=G;this.D9a=J;this.Rf=K;this.Uqa=H;this.Ala=L;this.Ie=R;this.d4=I;this.ef=P;this.config=N;this.Dd=M;this.xa=Q;this.za=T;this.xq=da;this.Mz=pa;this.Uk=wa;this.Hr=ua;this.pH=X;this.qc=sa;this.VY=[];this.gra=this.XC=this.YX=0;this.UL=[];this.xha=!1;this.TD=function(S){var ka,ia,Pa,Ea,Va,Ya,bb;ia={};try{ia={playdelaysdk:n.Of(O.j.FT()),applicationPlaydelay:n.Of(O.j.Pia()),playdelay:n.Of(O.j.Ria()),trackid:O.j.wj,bookmark:n.Of(O.j.Jv || 0),pbnum:O.j.index,endianness:d.VWa()};O.config().CAb && (ia.transitiontime=O.j.zm,ia.uiplaystarttime=O.j.ab.jZ,ia.playbackrequestedat=O.j.jk.da(p.ka),ia.clockgettime=O.getTime(),ia.clockgetpreciseepoch=O.xa.bf.da(p.ka),ia.clockgetpreciseappepoch=O.za.Jz.da(p.ka),ia.absolutestarttime=O.j.BG(),ia.relativetime=O.j.rna());O.W4(ia,"startplay");}catch(Xa){O.log.error("error in startplay log fields",Xa);}O.j.Wh && (ia.blocked=O.j.Wh);O.qc.zZa(ia);O.AZa(ia);if(O.config().waa && O.j.ab.Iab){Pa={};Object.entries(O.j.ab.Iab).reverse().forEach(function(Xa){var mb;mb=aa(Xa);Xa=mb.next().value;mb=mb.next().value;Pa[Xa.toLowerCase()]=mb;});ia.vui=Pa;}z.Ba(O.j.BQa) && (ia.bookmarkact=n.Of(O.j.BQa));Ea=O.j.jd.at && O.j.jd.ats?O.j.jd.at - O.j.jd.ats:void 0;Ea && (ia.nccpat=Ea);(Ea=O.j.jd.lr && O.j.jd.lc?O.j.jd.lr - O.j.jd.lc:void 0) && (ia.nccplt=Ea);(Ea=O.Azb()) && (ia.downloadables=Ea);nb._cad_global.device && z.Pc(nb._cad_global.device.u4) && (ia.esnSource=nb._cad_global.device.u4);n.Xb(ia,O.xq,{prefix:"pi_"});O.j.ko && O.j.ko.initBitrate && (ia.initvbitrate=O.j.ko.initBitrate);O.j.ko && O.j.ko.selector && (ia.selector=O.j.ko.selector);ia.fullDlreports=O.cab;if(O.j.state.value >= y.Qb.oe)try{Va=O.j.ut();if(Va){O.maxBitrate=d.NP(Va.map(function(Xa){return Xa.bitrate;}));O.G1a=d.NP(Va.map(function(Xa){return Xa.height;}));Ya=0 < Va.length?A.u1a(Va,function(Xa){return Xa.bitrate;}):void 0;ia.maxbitrate=O.maxBitrate;ia.maxresheight=O.G1a;}}catch(Xa){O.log.error("Exception computing max bitrate",Xa);}try{bb=d.JG();bb && (ia.pdltime=bb);}catch(Xa){}try{n.Xb(ia,O.j.jd,{prefix:"sm_"});n.Xb(ia,O.j.M5(),{prefix:"vd_"});}catch(Xa){}"undefined" !== typeof nrdp && nrdp.device && (ia.firmware_version=nrdp.device.firmwareVersion);S && O.j.yu && (ia.pssh=O.j.yu);O.HZa(O.j,ia);ia.avtp=O.EI.Nt().Bwa;(null === (ka=O.j.Na) || void 0 === ka?0:ka.HB) && O.n6(ia);if(O.j.ic.value)try{ia.ttTrackFields=O.j.ic.value.kg;}catch(Xa){}O.qc.vZa(ia,O.j.Uc.value);O.qc.XM(ia,O.j.rg.value);O.j.sa && "boolean" === typeof O.j.sa.Wc.bD && (ia.isSupplemental=O.j.sa.Wc.bD);O.j.sa && (ia.packageId=O.j.sa.Wc.Ko);O.j.sa && O.j.sa.Wc.no && (ia.hasChoiceMap=!0);O.config().IVa && (ia.forceL3WidevineCdm=!0);O.oKb(Ya);O.nKb();O.xZa(O.j,ia);O.UG(O.j,ia);O.VG(O.j,ia);O.UC(O.j,ia,O.xha);O.Hoa(ia);O.Ioa(ia);O.qc.WM(ia);O.EZa(ia);O.wZa(ia);O.qc.p6(ia,O.va);O.FZa(ia);O.Bc(B.Xc.TD,S,F.ye | F.Ms | F.li | F.Os | F.mE | F.WZ | F.pE | F.cp,ia);};this.zO=function(S,ka,ia){ka={playdelay:n.Of(S),reason:ia,intrplayseq:O.XC - 1,skipped:ka};"repos" === ia && (ka.prstate=!0 === O.j.paused.value?"paused":"playing");O.VG(O.j,ka);O.Bc(B.Xc.zO,!1,F.ye | F.Ms | F.li,ka);"rebuffer" !== ia && "force_rebuffer" !== ia || O.j.Fl.opb(Number(n.Of(S)));};this.xL=function(S,ka,ia,Pa){S={moff:n.so(ia),moffms:n.Of(ia),vbitrate:ka.bitrate,vbitrateold:S.bitrate,vdlid:ka.fd,vdlidold:S.fd,vheight:ka.height,vheightold:S.height,vwidth:ka.width,vwidthold:S.width,bw:Pa};O.VG(O.j,S);O.UC(O.j,S);O.Bc(B.Xc.xL,!1,F.li,S);};this.kua=function(S,ka,ia){S={moff:n.so(ia),moffms:n.Of(ia),vdlidold:S.fd,vbitrateold:S.bitrate};O.VG(O.j,S);O.UC(O.j,S);O.qc.lq(S,ka,O.j.gf.value && O.j.gf.value.stream);O.Bc(B.Xc.f6a,!1,F.li,S);};this.Osa=function(){var S,ka;S={waittime:n.Of(O.j.rna()),abortedevent:"startplay",trackid:O.j.wj,prstate:O.iz(),paustate:O.j.paused.value};O.W4(S,"endplay");O.Hr.DU && (S.eventlist_version=1,S.eventlist=O.pH.SXa(O.j));O.j.ko && O.j.ko.initBitrate && (S.initvbitrate=O.j.ko.initBitrate);try{ka=d.JG();ka && (S.pdltime=ka);n.Xb(S,O.j.jd,{prefix:"sm_"});}catch(ia){}O.Eoa(S,!0);O.qc.p6(S,O.va);O.qc.XM(S,O.j.rg.value);O.CZa(S);O.qc.lq(S,O.j.Se.value,O.j.Yg.value);O.HZa(O.j,S);O.UG(O.j,S);O.Bc(B.Xc.e9,!1,F.ye | F.li | F.mE | F.Os | F.cp,S);};this.Nsa=function(S,ka){S={waittime:n.Of(S),abortedevent:"resumeplay",resumeplayreason:ka};O.j.ko && O.j.ko.initBitrate && (S.initvbitrate=O.j.ko.initBitrate);O.qc.lq(S,O.j.Se.value,O.j.Yg.value);O.Bc(B.Xc.e9,!1,F.ye | F.li | F.cp,S);};this.$va=function(S,ka){S={newstate:ka?"Paused":"Playing",oldstate:S?"Paused":"Playing"};O.VG(O.j,S);O.UC(O.j,S);O.qc.lq(S,O.j.ke.value && O.j.ke.value.stream,O.j.gf.value && O.j.gf.value.stream);O.Bc(B.Xc.K8a,!1,F.ye | F.li,S);};this.Toa=function(S,ka,ia){var Pa,Ea;S=n.Xb({vdlid:O.j.Se.value.fd,playingms:S,pausedms:ka,intrplayseq:O.XC++,prstate:O.iz(),paustate:O.j.paused.value},ia);O.W4(S,"intrplay");ka=O.j.kc[f.Sb.Qa.Jb].value;ia=O.j.kc[f.Sb.Qa.Lb].value;S.cdnid=S.vcdnid=ka && ka.id;S.acdnid=ia && ia.id;S.locid=O.XV && O.XV.cqa;S.loclv=O.XV && O.XV.G0a;S.avtp=O.EI.Nt().Bwa;S.mediabuffered=null === (Pa=O.j.Tf) || void 0 === Pa?void 0:Pa.b5();if(null === (Ea=O.j.Na) || void 0 === Ea?0:Ea.HB)(O.Eoa(S,!0),O.n6(S),O.DZa(S));try{n.Xb(S,O.j.M5(),{prefix:"vd_"});}catch(Va){}O.VG(O.j,S);O.UC(O.j,S);O.qc.lq(S,O.j.ke.value && O.j.ke.value.stream,O.j.gf.value && O.j.gf.value.stream);O.Bc(B.Xc.Toa,!1,F.ye | F.li,S);};this.qO=function(S,ka,ia){S={moffold:n.so(S),reposseq:O.YX++,prstate:O.iz(),paustate:O.j.paused.value};O.UC(O.j,S);O.qc.lq(S,ia && ia.stream,ka && ka.stream);O.Bc(B.Xc.qO,!1,F.ye | F.li,S);};this.fia=function(){var S;O.Bc(B.Xc.dQa,!1,F.ye | F.li,{switchdelay:n.Of(O.getTime() - O.Epa),newtrackinfo:O.j.Uc.value.trackId,oldtrackinfo:O.Hz.trackId,oldAudioDownloadableId:null === (S=O.Dpa) || void 0 === S?void 0:S.fd,newAudioDownloadableId:O.j.Yg.value.fd});};this.AY=function(S){O.Bc(B.Xc.z8a,!1,F.ye | F.li,{speedold:Math.floor(1E3 * S.oldValue),speed:Math.floor(1E3 * S.newValue)});};this.jP=function(){O.Bc(B.Xc.cZb,!1,F.ye | F.li,{track:O.j.ic.value.kg});};this.LA=function(S){var ka,ia;ka=O.j.ic.value;if(S.newValue || ka && ka.Qr() && !ka.oq()){ia={};ia.newtrack=S.newValue?S.newValue.kg:null === ka || void 0 === ka?void 0:ka.kg;ia.oldtrack=O.$V?O.$V.kg:{};ia.switchDelay=n.Of(O.getTime() - O.Qpa);O.qc.lq(ia,O.j.ke.value && O.j.ke.value.stream,O.j.gf.value && O.j.gf.value.stream);O.Bc(B.Xc.O9a,!1,F.ye | F.li,ia);}};this.Jp=function(S){O.Bc(B.Xc.Erb,!1,F.ye | F.li,S.newValue);};this.Wsb=function(S,ka){var ia,Pa;ia=ka.serverid;Pa={locid:ka.location,loclv:ka.locationlv,selocaid:ia,selcdnid:ia,selocaname:ka.servername};Pa.mediatype=ka.mediatype;Pa.selreason=ka.selreason || "unknown";Pa.seldetail=ka.seldetail;Pa.cdnbwdata=JSON.stringify([{id:ia}]);S && (Pa.oldlocid=S.cqa,Pa.oldloclv=S.G0a,Pa.oldocaid=S.FVb,Pa.oldocaname=S.mI);O.Bc(B.Xc.gRa,!1,F.WZ,Pa);};this.GTa=function(){var S,ka,ia;if(O.j.Tj)try{S=!1;O.cab || (S=!0,O.UL=O.UL.filter(function(Pa){return !Pa.$;}));if(0 < O.UL.length){ka=O.d4.construct(O.UL,O.j.jk.da(p.ka));O.UL=[];ka.erroronly=S;ia={};n.re(ka,function(Pa,Ea){ia[Pa]=JSON.stringify(Ea);});O.Bc(B.Xc.jzb,!1,F.li,ia);}}catch(Pa){O.log.error("Exception in dlreport.",Pa);}};this.iz=function(){var S;S=O.j.zb.value;return S === y.cb.Ec?"playing":S === y.cb.Vg?"paused":S === y.cb.Wq?"ended":"waiting";};this.nD=function(){var S,ka,ia;if(O.j.state.value == y.Qb.oe){ia=O.qX();O.config().qua && (ia.avtp=O.EI.Nt().Bwa,(null === (S=O.j.Na) || void 0 === S?0:S.HB) && O.n6(ia));ia.mediabuffered=null === (ka=O.j.Tf) || void 0 === ka?void 0:ka.b5();ia.midplayseq=O.gra++;ia.prstate=O.iz();ia.paustate=O.j.paused.value;O.config().DVb && O.c9a("midplay");O.config().Dw && O.Joa(ia);O.Hoa(ia);O.Ioa(ia);O.qc.WM(ia);O.Bc(B.Xc.nD,!1,F.ye | F.li | F.mE | F.Os,ia);}};this.c9a=function(S){var ka,ia;ka={};ka.trigger=S;try{ia=O.j.lna();ka.subtitleqoescore=O.j.Pq.jGb(ia);ka.metrics=JSON.stringify(O.j.Pq.Gna(ia));}catch(Pa){O.log.error("error getting subtitle qoe data",Pa);}O.Bc(B.Xc.kYb,!1,F.ye | F.mE | F.Ms,ka,"info");};this.transition=function(S){O.UC(O.j,S);O.Bc(B.Xc.transition,!1,0,S);};this.uG=function(S){var ka,ia,Pa,Ea,Va,Ya,bb,Xa;ia=O.qX();O.W4(ia,"endplay");ia.prstate=O.iz();ia.paustate=O.j.paused.value;ia.muted=O.j.muted.value;O.j.NA && "downloaded" === O.j.NA.H5() && (ia.trickplay_ms=O.j.gZ.offset,ia.trickplay_res=O.j.gZ.v6a);O.config().kab && (ia.rtinfo=O.j.PFb());O.config().qua && (null === (ka=O.j.Na) || void 0 === ka?0:ka.HB) && O.n6(ia);O.AZa(ia);ia.endreason=S?"error":O.j.zb.value === y.cb.Wq?"ended":"stopped";ka=O.xq;O.iIb(ka);ka && n.Xb(ia,ka,{prefix:"pi_"});ka=O.j.bi;S && ka && q.Uba(ka.errorCode) && (Pa="info");try{n.Xb(ia,O.j.jd,{prefix:"sm_"});}catch(Sa){}O.j.Doa && (ia.inactivityTime=O.j.Doa);O.Eoa(ia,"info" !== Pa && S);O.DZa(ia);if(O.j.Trb){ka=O.j.Trb;Ea=O.config().nL;Va=O.j.loadTime;Ya={iv:Ea,seg:[]};bb=function(Sa,xa,Ia){return 0 === xa || void 0 === Ia[xa - 1]?Sa:Sa - Ia[xa - 1];};Xa=ka.lT.map(bb);bb=ka.vZ.map(bb);for(var mb,Za=0;Za < Xa.length;Za++){if(Xa[Za] || bb[Za])mb?(mb.ams.push(Xa[Za]),mb.vms.push(bb[Za])):mb={ams:[ka.lT[Za]],vms:[ka.vZ[Za]],soffms:ka.startTime + Za * Ea - Va};Za !== Xa.length - 1 && Xa[Za] && bb[Za] || !mb || (Ya.seg.push(mb),mb=void 0);}ia.bt=JSON.stringify(Ya);}S && O.CZa(ia);O.c9a("endplay");O.config().Dw && O.Joa(ia);O.qc.XM(ia,O.j.rg.value);O.xZa(O.j,ia);O.UG(O.j,ia);O.VG(O.j,ia);O.UC(O.j,ia,O.xha);O.Hoa(ia);O.Ioa(ia);O.qc.WM(ia);O.EZa(ia);O.jIb(ia);O.wZa(ia);O.lIb(ia);O.kIb(ia);O.oIb(ia);O.FZa(ia);O.Bc(B.Xc.uG,S,F.ye | F.Ms | F.li | F.mE | F.Os | F.pE | F.cp,ia,Pa);};this.qzb=function(S){O.UL.push(O.d4.Lub(S.response));};this.Qka=function(S){var ka,ia,Pa,Ea,Va,Ya;S=S.response;ka=S.request;ia=S.request.Zz;Pa=ka.track;if(Pa){Ea=!S.$ && S.na != q.L.iB;Va=Pa.type;Ya=S.mm;if(Ea || O.va.hqa){ia={dltype:Va,url1:ka.url,url2:S.url || "",cdnid:ka.kc && ka.kc.id,tresp:n.Of(Ya.hi - Ya.Gq),brecv:n.LVa(Ya.Oja),trecv:n.Of(Ya.Oo - Ya.hi),sbr:ia && ia.bitrate};S.ds && (ia.range=S.ds);switch(Va){case g.ri.audio:ia.adlid=ka.stream.fd;break;case g.ri.video:ia.vdlid=ka.stream.fd;break;case g.ri.Q$:ia.ttdlid=Pa.fd;}(ka=D.gna(S.na)) && (ia.nwerr=ka);S.$j && (ia.httperr=S.$j);O.Bc(B.Xc.Qka,Ea,F.li,ia);}}};this.Wh=function(){O.Bc(B.Xc.yQa,!1,F.ye | F.mE | F.cp,{});};this.Ztb=function(S){var ka,ia;ka=S.response.mm;S=p.Hc(ka.hi);ia=p.Hc(ka.Oo);ka=u.fa(ka.Oja || 0);ka.P_a() || ka.ipa() || (S=new t.bea(S,ia),O.EI.hpb(new w.JAa(S,ka)));};this.V8=function(S){var ka;ka=S.newValue;S.dm && S.dm.Hra && ka || ka == O.eH || (O.$va(O.eH,ka),O.eH=ka);};this.uy=function(S){function ka(ia){var Pa;if(O.j.Ub && O.j.Ub.sourceBuffers){Pa=O.j.Ub.sourceBuffers.filter(function(Ea){return Ea.type === ia;}).pop();if(Pa)return {busy:Pa.yh(),updating:Pa.updating(),ranges:Pa.c5()};}}S={cause:S.cause};S.cause && S.cause === m.Eda && (S.mediaTime=O.j.mediaTime.value,S.buf_audio=ka(l.U_),S.buf_video=ka(l.DJ));O.Toa(O.VY[y.cb.Ec] || 0,O.VY[y.cb.Vg] || 0,S);};this.$9a=function(S){var ka;S=S.oldValue;ka=O.getTime();S === y.cb.Jf?O.VY=[]:O.VY[S]=(O.VY[S] || 0) + (ka - O.yKb);O.yKb=ka;};this.Vm=function(S){O.Epa=O.getTime();O.Hz=S.oldValue;};this.Jn=function(S){O.Qpa=O.getTime();O.$V=S.oldValue;};this.nT=function(S){O.Dpa=S.oldValue;};this.Lz=function(S){function ka(ia,Pa){var Ea;if(!ia || ia.cqa !== Pa.location){Ea={cqa:Pa.location,G0a:Pa.locationlv,FVb:Pa.serverid,mI:Pa.servername};O.Wsb(ia,Pa);return Ea;}}if("audio" === S.mediatype){if(S=ka(O.uKb,S))O.uKb=S;}else if(S=ka(O.XV,S))O.XV=S;};this.mY=function(S){var ka,ia;ka=S.mediatype;ia=S.reason;"video" === ka?"serverswitchaway" === ia?(O.uj.summary.Fab++,O.uj.l7=O.xa.bf.da(p.ka)):"serverswitchback" === ia && (O.uj.summary.Gab++,O.uj.l7 && (O.uj.summary.Hab.push(O.xa.bf.da(p.ka) - O.uj.l7),O.uj.l7=void 0)):"audio" === ka && ("serverswitchaway" === ia?(O.uj.summary.QPa++,O.uj.g7=O.xa.bf.da(p.ka)):"serverswitchback" === ia && (O.uj.summary.RPa++,O.uj.g7 && (O.uj.summary.SPa.push(O.xa.bf.da(p.ka) - O.uj.g7),O.uj.g7=void 0)));O.Bc(B.Xc.HVb,!1,F.ye | F.li,{mediatype:S.mediatype,server:S.server,selreason:S.reason,location:S.location,bitrate:S.bitrate,confidence:S.confidence,throughput:S.throughput,oldserver:S.oldserver});};this.eL=function(S){O.Bc(B.Xc.uqb,!1,F.li,{strmsel:S.strmsel});};this.eP=function(S){S=v.QO(S);S.details && (S.details=JSON.stringify(S.details));O.Bc(B.Xc.jYb,!0,F.ye | F.Ms | F.WZ,S);};this.xha=wa.wxa || wa.maa || wa.JVa;this.EI=J();this.log=h.zh(C,"LogblobBuilder");this.eH=C.paused.value;this.ca=this.va.ca;this.uj={summary:{Fab:0,Gab:0,Hab:[],QPa:0,RPa:0,SPa:[]},l7:void 0,g7:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.UQ=void 0;f=a(47);l=a(12);m=a(58);d=a(50);g=a(90);h=a(8);k=a(22);n=a(24);p=a(4);q=a(3);v=a(30);u=a(51);t=a(470);w=a(1082);x=a(11);y=a(15);z=a(19);A=a(1083);B=a(270);D=a(159);E=a(130);c.prototype.HZa=function(C,G){var J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa;if(this.config().Dw)try{J={};K=this.Dd.getStats(void 0,void 0,C.J);H=C.BG();L=K.DI.iub || [];J.attempts=K.m9 || 0;J.num_completed_tasks=L.length;R=this.Ie.GBb;I={};P=E.yk.fP;N=E.yk.Et;M=E.yk.Xia;K.yl && (I.scheduled=K.yl - H);Q=C.sa;Q && z.Ba(Q.ZH) && (I.preauthsent=Q.ZH - C.loadTime,I.preauthreceived=Q.tO - C.loadTime);T=L.filter(function(O){return "manifest" === O.type;});J.mf_succ=T.filter(R("status",P)).length;J.mf_fail=T.filter(R("status",N)).length;da=C.jd;z.Pc(da.lg) && 0 > da.lg && C.loadTime && (I.ldlsent=da.lc,I.ldlreceived=da.lr);pa=L.filter(function(O){return "ldl" === O.type;});J.ldl_succ=pa.filter(R("status",P)).length;J.ldl_fail=pa.filter(R("status",N)).length;K=!0;H=[];"notcached" === C.TF && (K=!1,H.push("Missing cached manifest"));this.config().CU || (K=!1,H.push("LDL prefetch disabled"));wa=pa.filter(R("status",M)).length;this.config().CU && 0 === wa && (!I.ldlreceived || 0 <= I.ldlreceived) && (K=!1,H.push("LDL received after start"));if(this.config().wUa)if(G.isPrefetchItem){ua=G.prefetchedAudioMs / G.bcABufferLevelMs;if(1 > G.prefetchedVideoMs / G.bcVBufferLevelMs || 1 > ua)(K=!1,H.push("Insufficient media fetched"));}else (K=!1,H.push("aseStats not initialized"));X=L.filter(function(O){return "getHeaders" === O.type;});J.header_succ=X.filter(R("status",P)).length;J.header_fail=X.filter(R("status",N)).length;sa=L.filter(function(O){return "getMedia" === O.type;});J.media_succ=sa.filter(R("status",P)).length;J.media_fail=sa.filter(R("status",N)).length;J.hm_succ=J.header_succ + J.media_succ;J.hm_fail=J.header_fail + J.media_fail;n.Xb(G,J,{prefix:"pr_"});this.Hr.DU && (G.eventlist_version=1,G.eventlist=this.pH.SXa(C));(G.prefetchCompleted=K) || (G.prefetchFailed=H,n.Xb(G,I,{prefix:"pe_"}));this.Joa(G);}catch(O){this.log.warn("error in collecting video prepare data",O);}};c.prototype.VFb=function(C,G){if(C=C.bV())if(G=C[G])return G.wc;};c.prototype.xZa=function(C,G){C.ab.Al && (G.isBranching=!0);};c.prototype.UG=function(C,G){var J,K;K=(null === (J=C.sa) || void 0 === J?void 0:J.s_a) || "videopreparer" === C.SF;G.cachedManifest=C.TF;G.cachedLicense=C.SF;G.usedldl=this.config().CU?K.toString():"not_capable";};c.prototype.VG=function(C,G){var J,K;if(this.config().nIb){J=C.mna();K=C.ia.sa;J && K && (G.segment=J,K=C.IC(),G.segmenttime=K,C=this.VFb(C,J),null !== K && void 0 !== C && (G.segmentoffset=K - C));}};c.prototype.UC=function(C,G,J){G.pxid=C.i9;(void 0 === J?0:J) && (G.playgraph_trace=C.J4a);};c.prototype.DZa=function(C){var G,J;G=this.j.a9b;J=G && G.$$b;G && G.RHb && (C.htwbr=G.RHb,C.pbtwbr=G.Bsa,C.hptwbr=G.c9b);G && G.QUb && (C.rr=G.QUb,C.ra=G.W$b);G && J && 0 < (J.length || 0) && (C.qe=JSON.stringify(J));};c.prototype.CZa=function(C){var G,J,K;try{G=this.Ie.createElement("canvas");J=G.getContext("webgl") || G.getContext("experimental-webgl");if(J){K=J.getExtension("WEBGL_debug_renderer_info");K && (C.WebGLRenderer=J.getParameter(K.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=J.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.oIb=function(C){C.switchAwaySummary={vsa:this.uj.summary.Fab,vsb:this.uj.summary.Gab,vsbt:this.uj.summary.Hab,asa:this.uj.summary.QPa,asb:this.uj.summary.RPa,asbt:this.uj.summary.SPa};};c.prototype.Xkb=function(C){var G;G=[];return C?Object.keys(C).map(function(J){return +J;}):G;};c.prototype.Azb=function(){var C,G;C=this;if(this.j.$o && this.j.Rj){G=[];this.j.$o.concat(this.j.Rj).forEach(function(J){J.streams.forEach(function(K){G.push({dlid:K.fd,type:K.type,bitrate:K.bitrate,vmaf:K.Eb,cdn_ids:C.Xkb(K.Rv)});});});return JSON.stringify(G);}};c.prototype.Vsb=function(){var G,J,K;function C(H,L){var R,I,P;R=H.cdnId;I=K[R];P=H.vmaf;I || (I={cdnid:R,dls:[]},K[R]=I,J.push(I));k.ML(H.bitrate);k.ML(H.duration);R={bitrate:H.bitrate,tm:x.Oi(H.duration)};P && (k.ML(H.vmaf),R.vf=P);R[L]=n.Ee(H.downloadableId);I.dls.push(R);}G=this.j.Fl.hDb();J=[];K={};G.audio.forEach(function(H){C(H,"adlid");});G.video.forEach(function(H){C(H,"dlid");});return JSON.stringify(J);};c.prototype.qX=function(){var C,G,J,K,H,L,R,I,P,N,M,Q,T;C=this.j.Fl;G={totaltime:n.so(C.LM()),totalcontenttime:n.so(C.Nna()),cdndldist:this.Vsb(),reposcount:this.YX,intrplaycount:this.XC};try{J={numskip:0,numlowqual:0};K=this.j.Tf;H=K.FC();z.Ba(H) && (G.totfr=H,J.numren=H);H=K.DG();z.Ba(H) && (G.totdfr=H,J.numrendrop=H);H=K.dV();z.Ba(H) && (G.totcfr=H,J.numrenerr=H);H=K.p5();z.Ba(H) && (G.totfdl=H);G.playqualvideo=JSON.stringify(J);L=this.j.Se.value;L && (G.videofr=L.framerate.toFixed(3));R=C.zma();R && (G.abrdel=R);I=C.WYa() && C.hWa();I && (G.tw_vmaf=I);P=C.fWa();P && n.Xb(G,P);G.rbfrs=this.XC;G.maxbitrate=this.maxBitrate;G.maxresheight=this.G1a;N=this.j.LG();for(C=0;C < N.length;C++){M=N[C];Q=this.va.xN.Ju(M);if(Q){k.rb(T);G.maxbitrate=T?T.bitrate:0;G.maxresheight=T?T.height:0;G.bitratefilters=Q.join("|");break;}T=M;}this.j.NA && (G.trickplay=this.j.NA.H5());null !== this.j.Pq.oQa && (G.avg_subt_delay=this.j.Pq.oQa);}catch(da){this.log.error("Exception reading some of the endplay fields",da);}n.Xb(G,this.j.M5(),{prefix:"vd_"});return G;};c.prototype.getTime=function(){return this.za.Wb().da(p.ka);};c.prototype.Joa=function(C){var G;try{G=this.Dd.getStats();C.pr_cache_size=JSON.stringify(G.cache);C.pr_stats=JSON.stringify(G.NCb);}catch(J){}};c.prototype.Hoa=function(C){this.log.debug("httpstats",this.ef.Md);n.Xb(C,this.ef.Md,{prefix:"http_"});};c.prototype.Eoa=function(C,G){var J,K,H;J=this.config().aTa && !(this.ca % this.config().aTa);K=this.j.Na;H=null === K || void 0 === K?void 0:K.Rh;J && H && (C.ASEstats=JSON.stringify(K.D6(G)));};c.prototype.n6=function(C){Object.assign(C,this.j.Na.Pb.pGb());};c.prototype.Ioa=function(C){var G;try{G=x.ev.memory;z.M_a(G) && (C.totalJSHeapSize=G.totalJSHeapSize,C.usedJSHeapSize=G.usedJSHeapSize,C.jsHeapSizeLimit=G.jsHeapSizeLimit);}catch(J){}};c.prototype.EZa=function(C){var G;G=this.j.lf;this.config().Qsb && G && !this.config().Zo && (G=this.j.dOb(G.J8b()),C.keystatuses=G,this.log.trace("keystatuses",G));};c.prototype.wZa=function(C){var G;try{if(this.config().IT){G=this.j.rDb();C.battery=G;this.log.trace("batterystatuses",G);}}catch(J){}};c.prototype.jIb=function(C){this.j.O3 && (C.dqec=this.j.O3);};c.prototype.iIb=function(C){this.j.n3 && n.Xb(C,{cast_interaction_counts:this.j.n3.R8b()});};c.prototype.FZa=function(C){var G,J,K;if(null === (G=this.j.lf) || void 0 === G?0:G.Lt)C.keysys=this.j.lf.Lt();else if(null === (K=null === (J=this.j.lf) || void 0 === J?void 0:J.mediaKeys) || void 0 === K?0:K.keySystem)C.keysys=this.j.lf.mediaKeys.keySystem;};c.prototype.kIb=function(C){this.zla && (C.externaldisplay=this.zla.JU);};c.prototype.lIb=function(C){this.dE && this.dE.dc && (C.media_capabilities_smooth=this.dE.dc.smooth,C.media_capabilities_efficient=this.dE.dc.powerEfficient,C.media_capabilities_bitrate=this.dE.dc.bitrate,C.media_capabilities_height=this.dE.dc.height,C.media_capabilities_width=this.dE.dc.width);};c.prototype.AZa=function(C){var G,J;if(this.j.CL){G=this.j.CL;G.z3 && (C.controllerESN=G.z3);G.Iub && (C.controllerUiVer=G.Iub);if(G.Hub)try{J=JSON.parse(G.Hub);C.controllerGroupNames=J;}catch(K){this.log.error("Exception parsing controller group names",K);}}};c.prototype.nKb=function(){void 0 === this.zla && (this.zla=this.Ala.yBb());};c.prototype.oKb=function(C){void 0 === this.dE && void 0 !== C && (this.dE=this.Uqa.Fla(C));};c.prototype.W4=function(C,G){(G=this.j.hz(G)) && Object.entries(G).forEach(function(J){var K;K=aa(J);J=K.next().value;K=K.next().value;C[J]=K;});};c.prototype.Bc=function(C,G,J,K,H){this.pha(K,this.j,G,J);C=this.Mz.vt(C,H || (G?"error":"info"),K,this.va);this.Rf.Bc(C);};c.prototype.pha=function(C,G,J,K){var H,L,R,I,P;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);this.qc.yZa(C,G);K & F.ye && (k.rb(!C || void 0 === C.moff),this.qc.GZa(C,G));K & F.Ms && this.qc.IZa(C,G);K & F.li && (null === (H=G.Na) || void 0 === H?0:H.Rh) && (C.abuflbytes=null !== (L=C.abuflbytes) && void 0 !== L?L:G.$ha(),C.abuflmsec=null !== (R=C.abuflmsec) && void 0 !== R?R:G.jT(),C.vbuflbytes=null !== (I=C.vbuflbytes) && void 0 !== I?I:G.Bxa(),C.vbuflmsec=null !== (P=C.vbuflmsec) && void 0 !== P?P:G.sZ());K & F.Os && this.qc.JZa(C,G.Cg);K & F.mE && (H=x.hf.hardwareConcurrency,0 <= H && (C.numcores=H),H=this.va.Zka) && (L=H.mDb(),C.droppedFrames=JSON.stringify(L),H=H.oV(this.config().Kzb),n.re(H,function(N,M){C["droppedFramesP" + N]=JSON.stringify(M);}));if(K & F.WZ)try{G.Tj && (C.cdninfo=JSON.stringify(G.Tj.map(function(N){return {id:N.id,nm:N.name,rk:N.Zd,wt:N.location.weight,lv:N.location.level};})));}catch(N){}J && K & F.pE && (k.rb(G.bi),this.qc.BZa(C,G,G.bi));K & F.cp && this.qc.Goa(C);};Wa.Object.defineProperties(c.prototype,{cab:{configurable:!0,enumerable:!0,get:function(){return this.j.Vy || this.j.XL;}}});b.UQ=c;(function(C){C[C.ye=1]="MOFF";C[C.Ms=2]="PRESENTEDSTREAMS";C[C.li=4]="BUFFER";C[C.Os=8]="SCREEN";C[C.mE=16]="CPU";C[C.WZ=32]="CDN";C[C.pE=64]="FATALERROR";C[C.cp=128]="BROWSERINFO";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LAa="DownloadReportBuilderSymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;r=a(1);f=a(159);l=a(90);m=a(24);d=a(3);g=a(22);h=a(11);k=a(19);n=a(0);a=a(13);c.prototype.construct=function(q,v){var u,t,w;u=this;t={};q.forEach(function(x){var y;y=x.url;t[y] || (t[y]=[]);t[y].push(x);});w=[];m.re(t,function(x,y){w.push(u.xGb(y,v));});return {urls:w};};c.prototype.xGb=function(q,v){var u,t,w,x;u=this;t=q[0];w={url:t.url,bitrate:t.bitrate,cdnid:k.Ah(t.kc)?t.kc.id:t.kc,dltype:t.lzb,id:t.fd};x={};q.forEach(function(y){var z;z=u.lJb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});m.re(x,function(y,z){"fail" === y?w.failures=u.jEb(z,v):"success" === y && (w.downloads=u.aEb(z,v));});return w;};c.prototype.aEb=function(q,v){var u,t,w;u=this;t={};q.forEach(function(x){var y;y=x.Rtb;t[y] || (t[y]=[]);t[y].push(x);});w=[];m.re(t,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);u.XIb(A) && (w.push(u.JWa(z,v,x)),z=[]);});0 < z.length && w.push(u.JWa(z,v,x));});return w;};c.prototype.JWa=function(q,v,u){var t,w,x,y,A;t=q.sort(function(B,D){return B.mm.hi < D.mm.hi?-1:B.mm.hi > D.mm.hi?1:0;});w=t[0].mm;x=w.Gq;y=w.hi;w=w.Oo;for(var z=1;z < q.length;z++){A=q[z].mm;A.Gq < x && (x=A.Gq);A.hi < y && (y=A.hi);A.Oo > w && (w=A.Oo);}z=this.HFb(t);A=t[t.length - 1];return {time:x - v,tcpid:u?parseInt(u):-1,tresp:y - x,first:z,ranges:this.IFb(t,z),dur:w - y,trace:this.KC(q),status:this.H5(A)};};c.prototype.HFb=function(q){var v;v=0;q.forEach(function(u){u.ds && (v=h.hp(v,u.ds[0]));});return v;};c.prototype.IFb=function(q,v){var u;u=[];q.forEach(function(t){t.ds?u.push([t.ds[0] - v,t.ds[1] - v]):u.push([0,-1]);});return u;};c.prototype.KC=function(q){var v,u;v=[];q.forEach(function(t){var w;t=t.mm;if(u){w=t.Gq - u.Oo;0 < w && v.push([w,-2]);w=h.Rn(u.Oo,t.Gq);w=t.hi - w;0 < w && v.push([w,-3]);}v.push([t.Oo - t.hi,t.Oja || 0]);u=t;});return v;};c.prototype.XIb=function(q){if(q.na === d.L.iB || q.na === d.L.uE)return !0;};c.prototype.H5=function(q){if(q.$)return "complete";if(q.na === d.L.iB)return "abort";if(q.na === d.L.uE)return "stall";g.rb(!1,"download status should never be: other");return "other";};c.prototype.jEb=function(q,v){var u,t;u=this;t=[];q.forEach(function(w){var x;x=w.mm;w={time:x.hi - v,tresp:x.hi - x.Gq,dur:x.Oo - x.hi,range:w.ds,reason:u.KFb(w),httpcode:w.$j,nwerr:f.gna(w.na)};t.push(w);});return t;};c.prototype.KFb=function(q){return q.$j || q.na === d.L.JQ?"http":q.na === d.L.LQ?"timeout":"network";};c.prototype.lJb=function(q){return q.$ || void 0 === q.$ || q.na === d.L.iB || q.na === d.L.uE?!1:!0;};c.prototype.Lub=function(q){var v,u,t,w,x,y;v=q.request;u=v.stream;t=v.track;w=v.url;x=this.YDb(t,w);switch(x){case l.ri.audio:case l.ri.video:y=v.stream.fd;break;case l.ri.Q$:case l.ri.Qwa:y=t.fd;}q={bitrate:u && u.bitrate,lzb:x,fd:y,mm:q.mm,kc:v.kc,url:w,mf:q.mf,$j:q.$j,na:q.na,$:q.$,Rtb:this.lBb(q)};void 0 !== v.offset && void 0 != v.length && (q.ds=[v.offset,v.offset + v.length - 1]);return q;};c.prototype.YDb=function(q,v){if(q)return q.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};c.prototype.lBb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?m.Ee(q):q;};p=c;p=r.__decorate([n.R(),r.__param(0,n.l(a.Rc))],p);b.KAa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WQ="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DLa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WFa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XBa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UCa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GGa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,g,h,k,n,p;function c(q){var v;q=new h.gQ(q);if(1481462272 != q.Eq())throw Error("Invalid header");v={XMR:{Version:q.Eq(),RightsID:q.Jw(16)}};f(q,v.XMR,q.buffer.length);return v;}function f(q,v,u){var t,w,x,y,z;for(;q.position < u;){t=q.ih();w=q.Eq();w-=8;switch(t){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:l(t)};z=v[x];z?p.isArray(z)?z.push(y):(v[x]=[],v[x].push(z),v[x].push(y)):v[x]=y;switch(t){case 1:case 2:case 4:case 7:case 9:case 54:f(q,y,q.position + w);break;case 5:y.Reserved1=q.ih();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.ih();y.MinimumAnalogVideoOutputProtectionLevel=q.ih();y.Reserved2=q.ih();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.ih();break;case 10:y.Reserved=q.Jw(16);y.SymmetricCipherType=q.ih();y.AsymmetricCipherType=q.ih();w=q.ih();y.EncryptedKeyLength=w;t=q.Jw(w);y.EncryptedKeyData=10 >= w?t:t.substring(0,4) + "..." + t.substring(t.length - 4,t.length);break;case 11:y.SignatureType=q.Jw(2);w=q.ih();t=q.Jw(w);y.SignatureData=10 >= w?t:t.substring(0,4) + "..." + t.substring(t.length - 4,t.length);break;case 13:y.Reserved=q.ih();break;case 18:y.BeginDate=q.Eq();y.EndDate=q.Eq();break;case 42:y.CurveType=q.Jw(2);w=q.ih();t=q.Jw(w);y.Key=10 >= w?t:t.substring(0,4) + "..." + t.substring(t.length - 4,t.length);break;case 48:y.ExpireAfterFirstPlay=q.Eq();break;case 50:y.Sequence=q.Eq();break;case 51:y.LicenseProcessingIndicator=q.ih();break;case 52:y.MinimumSecurityLevel=q.ih();break;case 57:y.PlayEnablerType=m(q.Jw(16));break;case 85:break;default:y.OtherData=q.Jw(w);}}}function l(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Xxb=b.Yxb=b.Wxb=b.Vxb=b.Uxb=void 0;d=a(12);g=a(8);h=a(164);k=a(157);n=a(277);p=a(19);b.Uxb=function(q,v,u){switch(v){case d.s_:q && (q=g.qQa(q),n.Pxa(q,function(t){t.$ && (t=t.object) && (t=k.GWa(t,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (t=k.c4a(t)) && (t=g.Ar(t)) && (t=c(t)) && u(t);}));}};b.Vxb=c;b.Wxb=f;b.Yxb=l;b.Xxb=m;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VGa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XHa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uda={VV:"keepAlive",splice:"splice"};b.RGa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mHa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YAa="DxDisplaySymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.ae=h;this.is=k;this.prefix=n;this.zX=this.isVisible=!1;this.jb=new d.QKa(k);}Object.defineProperty(b,"__esModule",{value:!0});b.CR=b.gJ=b.tza=b.sza=b.rza=void 0;r=a(1);f=a(0);l=a(29);m=a(26);d=a(1114);g=a(11);b.rza="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.sza="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.tza="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.gJ="";c.prototype.show=function(){this.isVisible || (this.yub(),this.DL && g.Ue.body.appendChild(this.DL),this.Cg && g.Ue.body.appendChild(this.Cg),this.yT && g.Ue.body.appendChild(this.yT),this.yI && g.Ue.getElementsByTagName("head")[0].appendChild(this.yI),this.isVisible=!0,this.refresh());};c.prototype.Kr=function(){this.isVisible && (this.Cg && g.Ue.body.removeChild(this.Cg),this.yT && g.Ue.body.removeChild(this.yT),this.DL && g.Ue.body.removeChild(this.DL),this.yI && g.Ue.getElementsByTagName("head")[0].removeChild(this.yI),this.yI=this.QY=this.DL=this.yT=this.Cg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Kr():this.show();};c.prototype.oZb=function(){(this.zX=!this.zX) || this.refresh();};c.prototype.yDb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.yub=function(){var h;h=this;this.yI=g.Ue.createElement("style");this.yI.type="text/css";this.yI.innerHTML=this.yDb(this.prefix);this.yT=this.ae.createElement("div",b.rza,void 0,{"class":this.prefix + "-display-blur"});this.Cg=this.ae.createElement("div",b.sza,void 0,{"class":this.prefix + "-display"});this.DL=this.ae.createElement("div",b.tza,void 0,{"class":this.prefix + "-display"});this.AWa().forEach(function(k){return h.DL.appendChild(k);});};c.prototype.Aub=function(h){h=this.ae.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var k=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < k.length;n++){k[n].addEventListener("click",function(p){var q,v;if(p=p.target.parentElement){q=p.classList;if(q.contains("open")){q.remove("open");try{v=p.querySelectorAll(":scope .open");for(p=0;p < v.length;p++){v[p].classList.remove("open");}}catch(u){}}else q.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.zX?Promise.resolve():this.T5a().then(function(k){if(k && (k=h.Aub(k),h.Cg)){h.QY && (h.Cg.removeChild(h.QY),h.QY=void 0);h.QY=k;h.Cg.appendChild(h.QY);k=h.Cg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < k.length;++n){k[n].addEventListener("click",h.Q6a);}(k=h.Cg.querySelector("#" + h.prefix + "-display-close-btn")) && k.addEventListener("click",function(){h.toggle();});}});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Zf)),r.__param(1,f.l(m.Yf)),r.__param(2,f.el())],a);b.CR=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aBa="DxManagerSymbol";b.$Aa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zLa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FHa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FIa="PreparerManifestFetcherSymbol";b.EIa="PreparerLicenseFetcherSymbol";b.DIa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var f,l,m,d;function c(g){this.Aq=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Rda=b.sIa=void 0;r=a(1);f=a(14);l=a(0);m=a(188);d=a(67);c.prototype.l1a=function(g){var h,k;h=this;if(g.we.key.Ga)return Promise.resolve(g.we.key.Ga);k=g.we.key.Z;return g.we.fl.fq(k).XA.then(function(n){n=n.sa;return n.no?d.oC(n.no,{config:f.config}):d.rI(k,h.Aq.Zv(k));});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.o0))],a);b.sIa=a;b.Rda="PlaygraphResolverSymbol";},function(r,b){function a(){this.fE=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Hea=void 0;a.prototype.remove=function(c){this.S2a(c,!1);this.fE.delete(c);};a.prototype.store=function(c,f){this.S2a(c,!0);this.fE.set(c,f);};a.prototype.fq=function(c){return this.fE.get(c);};a.prototype.has=function(c){return this.fE.has(c) && !this.fE.get(c).Dt;};a.prototype.clear=function(){this.fE.clear();};a.prototype.S2a=function(c,f){var l;this.fE.has(c) && (c=this.fE.get(c),null === (l=c.events) || void 0 === l?void 0:l.emit("viewableEvicted",{type:"viewableEvicted"}),c.g9a=f);};b.Hea=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qFa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kGa="OpenConnectSideChannelSymbol";b.xFa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vFa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OKa="TransportFactorySymbol";b.PFa="MslTransportSymbol";b.VJa="SslTransportSymbol";},function(r,b,a){var h,k;function c(n){return !(!n || !n.AD && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.xc);}function l(n){return ! !(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.L.jhb;case "STREAM_QUOTA_EXCEEDED":return k.L.nhb;case "INSUFFICICENT_MATURITY":return k.L.qhb;case "TITLE_OUT_OF_WINDOW":return k.L.xhb;case "CHOICE_MAP_ERROR":return k.L.mhb;case "BadRequest":return k.L.shb;case "Invalid_SemVer_Format":return k.L.rhb;case "RESTRICTED_TO_TESTERS":return k.L.vhb;case "AGE_VERIFICATION_REQUIRED":return k.L.khb;case "BLACKLISTED_IP":return k.L.lhb;case "DEVICE_EOL_WARNING":return k.L.jda;case "DEVICE_EOL_FINAL":return k.L.mGa;case "INCORRECT_PIN":return k.L.qGa;case "MOBILE_ONLY":return k.L.uhb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.L.thb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.L.yhb;case "RESET_DEVICE":return k.L.pGa;case "RELOAD_DEVICE":return k.L.oGa;case "EXIT_DEVICE":return k.L.nGa;case "FREE_PREVIEW_ENDED":return k.L.phb;case "STREAMING_LOCATION_DISALLOWED":return k.L.whb;default:return k.L.cCa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.md(n,m(p.code),"BadRequest" === p.code?k.O_.Wbb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function g(n,p){return new h.md(n,p.xc,p.Kd,void 0,p.aA,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.PQa=b.QQa=b.DCb=b.HCb=b.kn=b.GCb=b.jJb=b.eJb=b.x_a=void 0;h=a(41);k=a(3);b.x_a=c;b.eJb=f;b.jJb=l;b.GCb=m;b.kn=function(n,p){return f(p)?g(n,p):c(p)?d(n,p):l(p)?h.md.mma(n,p):new h.md(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.HCb=d;b.DCb=g;b.QQa=function(n,p,q,v,u){var t,w,x,y;t=p.q7a[q];if(void 0 === t)throw {AD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=t.version;if(void 0 === w)throw {AD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=t.service;if(void 0 === x)throw {AD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=t.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {AD:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return t.isPlayApiDirect?n.vFb(v) + "/" + y + "/" + x + "/" + w:n.kFb(v) + "/" + y + "/" + x + "/" + w + "/" + (void 0 === u?"router":u);};b.PQa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.ePa && p && (q["X-Esn"]=p.Lk);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vHa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.np=void 0;r=b.np || (b.np={});r[r.c0=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.yE=2]="LOADED";r[r.QQ=3]="LOAD_FAILED";r[r.lGa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jya="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PHa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eJa="RepositionTraceSymbol";b.cJa="RepositionTraceFactorySymbol";},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa;function c(O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb,Za,Sa,xa,Ia,Ma,Ta,hb,wb,Eb,Hb,Ob,Cb,Kb,Vb,mc,Dc,Md,re,Nd,fd,pc,ac){var ub,fc;function ec(ob){ob.newValue !== Q.cb.Jf && ob.newValue !== Q.cb.Vg && (ub.zb.removeListener(ec),ub.XG=ub.xa.lY,ub.Ob.vc(Q.ba.zq));}function bc(ob){ob.newValue !== Q.cb.Jf && (ub.zb.removeListener(bc),ub.rX=ub.xa.bf.da(F.ka),ub.Ob.vc(Q.ba.yq));}ub=this;this.yb=Pa;this.tk=Ea;this.rz=Va;this.za=bb;this.hL=Xa;this.xa=mb;this.mW=Za;this.Bqa=Ia;this.pN=Ma;this.Dd=Ta;this.Hi=hb;this.Uk=wb;this.kL=Eb;this.sX=Hb;this.dk=Ob;this.Pwa=Cb;this.Rf=Kb;this.Ie=Vb;this.Psa=mc;this.rm=Dc;this.k6a=Md;this.Tha=re;this.pH=Nd;this.dL=fd;this.n3=pc;this.J4a=[];this.Yr=new Map();this.Uc=new v.ac(null);this.rg=new v.ac(null);this.ic=new v.ac(null);this.Uh=new v.ac(null);this.Pu=new v.ac(void 0);this.Se=new v.ac(null);this.Yg=new v.ac(null);this.mediaTime=new v.ac(void 0);this.playbackRate=new X.THa(1,u.config.Mqa);this.dxa=function(ob){return ub.Uc.set(ob.newValue);};this.M_b=function(ob){return ub.rg.set(ob.newValue);};this.J_b=function(ob){return ub.ic.set(ob.newValue);};this.k_b=function(ob){return ub.Uh.set(ob.newValue);};this.I_b=function(ob){return ub.Pu.set(ob.newValue);};this.L_b=function(ob){return ub.Se.set(ob.newValue);};this.l_b=function(ob){return ub.Yg.set(ob.newValue);};this.A_b=function(ob){return ub.ke.set(ob.newValue);};this.z_b=function(ob){return ub.gf.set(ob.newValue);};this.w_b=function(ob){return ub.mediaTime.set(ob.newValue);};this.haa=function(ob){return ub.playbackRate.set(ob.newValue);};this.ck={};this.Dua=this.Iwa=0;this.Ob=new t.wk();this.uZ={};this.EY=!1;this.state=new v.ac(Q.Qb.GJ);this.nj=new v.ac(!1);this.paused=new v.ac(!1);this.muted=new v.ac(!1);this.volume=new v.ac(u.config.ryb / 100);this.zb=new v.ac(Q.cb.Jf);this.Lf=new v.ac(Q.tf.ud);this.zr=new v.ac(Q.tf.ud);this.ym=new v.ac(Q.tf.ud);this.gf=new v.ac(null);this.ke=new v.ac(null);this.Mia=new v.ac(null);this.j6=p.SCa(this);this.kc=[new v.ac(null),new v.ac(null)];this.tia={};this.XL=!1;this.Sa=this.pj=-1;this.xna=function(ob,Rb){var hc;ob=void 0 === ob?null:ob;return L.Ba(ob)?Rb && !ub.im(Rb).sa?ob:(null === (hc=ub.Na) || void 0 === hc?0:hc.Rh)?ub.Na.st(ob):ob:null;};this.k3a=function(){ub.Tva();};this.IL=O;this.addEventListener=this.Ob.addListener;this.removeEventListener=this.Ob.removeListener;this.fireEvent=this.Ob.vc;this.XOa({Z:O,ya:ia,ab:ka || ({})},u.config.Dw?this.Dd.lz(O):void 0,S);this.log=E.zh(this);this.X3=Ya(this);this.prb=Sa(this);this.Cg=N.createElement("DIV",q.aea,void 0,{id:this.J});this.xIb();fc=xa(F.jh(1));this.gd=this.log.Yja("Playback");this.VQb=d.CHa(this);y.sB.r2a=this;y.sB.Xla || (y.sB.Xla=this);this.gd.info("Playback created",this.kg);this.hqa?this.gd.info("Playback selected for trace playback info logging"):this.gd.trace("Playback not selected for trace playback info logging");u.config.Dw && (this.Dd.WGb(this.J),this.addEventListener(Q.ba.zq,function(){ub.Dd.XGb(ub.J);ub.ic.addListener(function(){ub.Dd.JYa();});ub.Uc.addListener(function(){ub.Dd.JYa();});}),this.addEventListener(Q.ba.fg,function(){ub.Dd.VGb(ub.J);}));this.state.addListener(function(ob){ub.gd.info("Playback state changed",{From:ob.oldValue,To:ob.newValue});G.rb(ob.newValue > ob.oldValue);});x.df.addListener(x.zl,this.k3a,q.i0);this.mediaTime.addListener(function(){ub.bCb();fc.Il(function(){return ub.yVa();});});this.zb.addListener(function(ob){ub.gd.info("PresentingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:J.Qi(ub.mediaTime.value)},ub.eu());});this.zb.addListener(function(){ub.nj.set(ub.zb.value === Q.cb.Ec);});this.Lf.addListener(function(ob){ub.gd.info("BufferingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:J.Qi(ub.mediaTime.value)},ub.eu());});this.zr.addListener(function(ob){ub.gd.info("AV BufferingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:J.Qi(ub.mediaTime.value)},ub.eu());});this.ym.addListener(function(ob){ub.gd.info("Text BufferingState changed",{From:ob.oldValue,To:ob.newValue,MediaTime:J.Qi(ub.mediaTime.value)},ub.eu());});this.Uc.addListener(function(ob){G.rb(ob.newValue);ub.gd.info("AudioTrack changed",ob.newValue && ({ToBcp47:ob.newValue.$i,To:ob.newValue.trackId}),ob.oldValue && ({FromBcp47:ob.oldValue.$i,From:ob.oldValue.trackId}),{MediaTime:J.Qi(ub.mediaTime.value)});});this.ic.addListener(function(ob){ub.gd.info("TimedTextTrack changed",ob.newValue?{ToBcp47:ob.newValue.$i,To:ob.newValue.trackId}:{To:"none"},ob.oldValue?{FromBcp47:ob.oldValue.$i,From:ob.oldValue.trackId}:{From:"none"},{MediaTime:J.Qi(ub.mediaTime.value)});});this.zb.addListener(bc,q.OE);this.zb.addListener(ec);this.addEventListener(Q.ba.zq,function(){ub.EY=!0;ub.D8a=ub.FT();ub.Bd("start");ub.y6=ub.ke.value.stream.bitrate;});D.LHa(this);y.Tn.push(this);u.config.VX && (this.b9=this.Psa(this),this.d9=new A.VHa(this));y.Jda.forEach(function(ob){ob(ub);});this.xpb=function(){ub.addEventListener(Q.ba.YH,function(ob){var Rb;ob=ob.cause;ob !== Q.ze.qx && ob !== Q.ze.OJ && (null === (Rb=ub.Na) || void 0 === Rb?void 0:Rb.stop());});ub.addEventListener(Q.ba.kk,function(ob){var Rb,hc,Lc,qc,dc,Ec,Mc,uc,rd,sd;ub.k6a.kk(ob);Lc=ob.cause;qc=ob.skip;dc=ob.r8;Ec=ob.csa;Mc=ob.J;uc=ob.Vj;ub.ia.Fl.Nra(Ec,dc);if(Lc !== Q.ze.OJ && (u.config.kCb && Lc === Q.ze.AR && ub.Na.g3(),Lc !== Q.ze.qx))if(qc){if(null !== (Rb=ub.Na) && void 0 !== Rb && Rb.Ai(dc)){ub.gd.trace("Repositioned. Skipping from " + Ec + " to " + dc);ob=function(Ub){ub.log.error("streamingSession.skipped threw an exception",Ub);Ub=T.md.mma(C.M.ibb,Ub);ub.Bq(Ub.code,Ub);};try{ub.Na.Gn(dc).then(function(Ub){var Fc;Ub.aN || (null === (Fc=ub.Na) || void 0 === Fc?void 0:Fc.play());}).catch(ob);}catch(Ub){ob(Ub);}}else ub.log.error("can skip returned false");}else {ub.gd.trace("Repositioned. Seeking from " + Ec + " to " + dc);try{rd=ub.yb.D5(ub.ia);sd=Object.keys(rd.Aa).find(function(Ub){var Fc;Ub=rd.Aa[Ub];return Ub.Z === Mc && Ub.wc <= uc && (null !== (Fc=Ub.Oc) && void 0 !== Fc?Fc:Infinity) > uc;});null === (hc=ub.Na) || void 0 === hc?void 0:hc.ls(uc,sd);}catch(Ub){ub.log.error("streamingSession.seekByContentPts threw an exception",Ub);dc=T.md.mma(C.M.gbb,Ub);ub.Bq(dc.code,dc);}}});};this.playbackRate.addListener(function(){var ob,Rb;if(null === (ob=ub.Na) || void 0 === ob?0:ob.Rh)null === (Rb=ub.Na) || void 0 === Rb?void 0:Rb.Rsa();});this.addEventListener(Q.ba.uy,function(ob){var Rb;ob.cause == y.Fda && (ub.Lf.set(Q.tf.ud),null === (Rb=ub.Na) || void 0 === Rb?void 0:Rb.Ln(ub.Tf.SWa()));});ac && (this.ia.sa=ac,this.dk.y$(O,ac));}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;f=a(1);l=a(47);m=a(292);d=a(294);g=a(132);h=a(521);k=a(1161);n=a(1162);p=a(524);q=a(12);v=a(80);u=a(14);t=a(72);w=a(525);x=a(60);y=a(58);z=a(107);A=a(527);B=a(1165);D=a(531);E=a(8);F=a(4);C=a(3);G=a(22);J=a(92);K=a(24);H=a(61);L=a(19);R=a(532);I=a(127);P=a(299);N=a(30);M=a(103);Q=a(15);T=a(41);da=a(295);pa=a(534);wa=a(129);ua=a(1168);X=a(1169);sa=a(67);c.prototype.Bd=function(O,S){var ka;S=void 0 === S?this.IL:S;null === (ka=this.Yr.get(S)) || void 0 === ka?void 0:ka.Bd(O);};c.prototype.uz=function(O){this.ia.uz(O);};c.prototype.xIb=function(){var O;O=this;this.Uc.addListener(function(S){return O.ia.Uc.set(S.newValue);});this.rg.addListener(function(S){return O.ia.rg.set(S.newValue);});this.ic.addListener(function(S){return O.ia.ic.set(S.newValue);});this.Uh.addListener(function(S){return O.ia.Uh.set(S.newValue);});this.Pu.addListener(function(S){return O.ia.Pu.set(S.newValue);});this.Se.addListener(function(S){return O.ia.Se.set(S.newValue);});this.Yg.addListener(function(S){return O.ia.Yg.set(S.newValue);});this.ke.addListener(function(S){return O.ia.ke.set(S.newValue);});this.gf.addListener(function(S){return O.ia.gf.set(S.newValue);});this.kc[l.Sb.Qa.Lb].addListener(function(S){return O.ia.kc[l.Sb.Qa.Lb].set(S.newValue);});this.kc[l.Sb.Qa.Jb].addListener(function(S){return O.ia.kc[l.Sb.Qa.Jb].set(S.newValue);});this.mediaTime.addListener(function(S){return O.ia.mediaTime.set(S.newValue);});this.playbackRate.addListener(function(S){return O.ia.playbackRate.set(S.newValue);});this.O6a();};c.prototype.O6a=function(){var O;O=this;this.ia !== this.$ua && (this.ia.mediaTime.set(this.mediaTime.value),this.ia.playbackRate.set(this.playbackRate.value),this.Tq(function(S){return S.Uc;},this.dxa),this.Tq(function(S){return S.rg;},this.M_b),this.Tq(function(S){return S.Pu;},this.I_b),this.Tq(function(S){return S.ic;},this.J_b),this.Tq(function(S){return S.Uh;},this.k_b),this.Tq(function(S){return S.Se;},this.L_b),this.Tq(function(S){return S.Yg;},this.l_b),this.Tq(function(S){return S.gf;},this.z_b),this.Tq(function(S){return S.ke;},this.A_b),this.Tq(function(S){return S.kc[l.Sb.Qa.Lb];},function(S){return O.kc[l.Sb.Qa.Lb].set(S.newValue);}),this.Tq(function(S){return S.kc[l.Sb.Qa.Jb];},function(S){return O.kc[l.Sb.Qa.Jb].set(S.newValue);}),this.Tq(function(S){return S.mediaTime;},this.w_b),this.Tq(function(S){return S.playbackRate;},this.haa),this.ic.set(this.ia.ic.value),this.Uc.set(this.ia.Uc.value,{rPa:!0}),this.rg.set(this.ia.rg.value),this.Uh.set(this.ia.Uh.value),this.Pu.set(this.ia.Pu.value),this.Se.set(this.ia.Se.value),this.Yg.set(this.ia.Yg.value),this.$ua=this.ia);};c.prototype.Tq=function(O,S){this.$ua && O(this.$ua).removeListener(S);O(this.ia).addListener(S);};c.prototype.load=function(O){var S,ka;S=this;this.load=function(){};this.L4a=O;if(this.state.value == Q.Qb.GJ){this.gd.info("Playback loading",this);this.jOb();this.Bd("asl_load_start");O=this.hL;ka=O.endTime;L.Pc(O.startTime)?L.Pc(ka)?this.Bd("asl_ended"):this.Bd("asl_in_progress"):this.Bd("asl_not_started");this.hL.gW(function(ia){S.Bd("asl_load_complete");ia.$?S.Awb():S.Bq(ia.errorCode || C.M.$Ca,ia);});}};c.prototype.uRb=function(){var O;try{if(this.state.value === Q.Qb.LOADING){O={width:1,height:1,Dha:1};this.LG().forEach(function(S){O.width * O.height < S.width * S.height && (O.width=S.width,O.height=S.height,O.Dha=S.Dha);});this.UA=O;this.Jv=this.kL.Opb({SI:F.Hc(this.Y),J:this.J,a9:this.Fy,ab:this.ab}).da(F.ka);this.Pha();this.zxb();}}catch(S){this.Bq(C.M.xfb,{na:C.L.Aj,Bb:K.Jd(S)});}};c.prototype.xw=function(){var O,S;S=this.yb.D5(this);this.DSa(S);null === (O=this.Na) || void 0 === O?void 0:O.mZ(S);};c.prototype.S5=function(O,S){var ka,ia,Pa,Ea;ka=this;Pa=this.yb.Ne(O);if(this.Uk.maa && this.yb.ia.Z === Pa.Z)return Promise.resolve(this.Tf.seek(Pa.wc,Q.ze.uB,void 0));S=I.R7(this.tk.NM(Pa.Z).Nb,S);if(null === (ia=this.Na) || void 0 === ia || !ia.Rh)throw (this.log.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.log.debug("going to next segment: " + this.yb.Yh + " -> " + O);this.LF("Transition " + this.yb.Yh + "->" + O);Ea=this.im(O);Ea.zm=this.za.Wb().da(F.ka);Ea.ab=S;return (this.Na.CM(O).oL?this.HGb(O,Ea.J):this.hY(O,Ea.J)).then(function(){ka.uCb(Ea.J);});};c.prototype.hY=function(O,S){var ka;ka=this.yb.Vk.Aa[O].wc;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.LF("NO DATA " + O + ", SEEKING " + ka + ", viewableId: " + S);return Promise.resolve(this.Tf.seek(ka,Q.ze.uB,O,!0));};c.prototype.HGb=function(O,S){var ka,ia,Pa,Ea,Va;ka=this;ia=this.Na;if(null === ia || void 0 === ia || !ia.Rh)throw Error("No streaming session");Pa=new Promise(function(Ya){function bb(){ka.log.debug("Stopped ASE");ia.removeEventListener("stop",bb);Ya();}ia.addEventListener("stop",bb);});Ea=!1;Va=new Promise(function(Ya){function bb(mb){ka.log.debug("Repositioned");ka.removeEventListener(Q.ba.kk,bb);Ea=mb.skip;Ya();}function Xa(){ka.log.debug("Repositioning");ka.removeEventListener(Q.ba.YH,Xa);ia.stop();}ka.addEventListener(Q.ba.YH,Xa);ka.addEventListener(Q.ba.kk,bb);});Pa=Promise.all([Pa,Va]).then(function(){var Ya;Ya=!1;Ea && (Ya=ia.ot(O,!1,!0));if(!Ya)return (ka.LF("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ka.hY(O,S));});Va=ia.EL(O,this.yb.Vk.Aa[O].wc);this.log.debug("Calling seek on internal player to " + Va);this.Tf.seek(Va,Q.ze.OJ,O,!0);return Pa;};c.prototype.XOa=function(O,S,ka){var ia,Pa,Ea,Va;S=void 0 === S?this.rz.Hy():S;ka=void 0 === ka?this.za.Wb():ka;Pa=! !u.config.rab && !(S % u.config.rab);Ea=O.Z;Va=O.ya;O=O.ab;this.Yr.has(Ea)?this.Yr.get(Ea):(S=this.sX(y.sB.index++,Ea,Va,O,S,ka,Pa,this.ia,this.xna),this.Yr.set(Ea,S),1 < this.Yr.size && (S.hW=this.pN.create(this,S,!1)),S.xN=new z.AFa(this,S),null === (ia=this.Na) || void 0 === ia?void 0:ia.YT(S.ya,{ca:S.ca,zw:S.Wj}));};c.prototype.EM=function(O){if(!this.Yr.has(O))throw Error("Playback segment not found: " + O);return this.Yr.get(O);};c.prototype.im=function(O){var S;O=this.yb.Ne(O);return null !== (S=this.Yr.get(null === O || void 0 === O?void 0:O.Z)) && void 0 !== S?S:this.ia;};c.prototype.zFb=function(O){for(var S,ka,ia=aa(this.tX),Pa=ia.next();!Pa.done;Pa=ia.next()){if((Pa=Pa.value,(null === (ka=null === (S=Pa.lf) || void 0 === S?void 0:S.Gb) || void 0 === ka?void 0:ka.sessionId) === O))return Pa;}return this.ia;};c.prototype.LSb=function(O){var S,ka;S=this;ka=O.J;this.tk.YVb(ka);return this.c$(O).then(function(ia){S.e5a(ia,O);return (O.cD?S.Ub.Bl.l6a(O):Promise.resolve()).then(function(){return S.tk.B7a(ka);});}).catch(function(ia){S.log.error("queueManifest failed",ia);S.tk.XVb(ka,ia);throw S.Hi(ia.code,ia);});};c.prototype.jDb=function(){if(L.Ba(this.jd.ats) && L.Ba(this.jd.at))return this.jd.at - this.jd.ats;};c.prototype.mWa=function(){var O,S;O=this.sZ();S=this.jT();return Math.min(O,S);};c.prototype.$O=function(){this.background || (this.gd.info("Starting inactivity monitor for movie " + this.J),new w.wDa(this));};c.prototype.close=function(O){O && (this.state.value == Q.Qb.CLOSED?O():this.addEventListener(Q.ba.closed,function(){O();}));this.Tva();};c.prototype.Vd=function(O,S,ka){O=this.Hi(O,S,ka);this.YF(O,void 0);};c.prototype.YF=function(O,S){var ka,ia,Pa,Ea;ka=this;if(this.state.value == Q.Qb.GJ)this.bi || (this.bi=O,this.load());else {S && (this.state.value == Q.Qb.CLOSED?S():this.addEventListener(Q.ba.closed,function(){S();}));ia=function(){ka.Tva(O);};Pa=u.config.qTa && O && u.config.qTa[O.errorCode];Ea=-1;L.Gz(Pa) && (Ea=K.Ee(Pa));this.gd.error("Fatal playback error",{Error:"" + O,HandleDelay:"" + Pa});0 <= Ea?setTimeout(ia,Ea):ia();}};c.prototype.qP=function(){this.Ob.vc(Q.ba.qP);};c.prototype.LF=function(O){var S;S=void 0 === S?this.ya:S;this.J4a.push(this.za.Wb().da(F.ka) + "-" + S + "-" + O);};c.prototype.lCb=function(){this.yVa();};c.prototype.mna=function(){var O;if(null === (O=this.Na) || void 0 === O?0:O.Rh)if((O=this.Na.xo().id,void 0 !== O))return O;return null;};c.prototype.IC=function(){var O,S;S=null === (O=this.Na) || void 0 === O?void 0:O.Rh;return void 0 === this.ia.RT || S?this.xna(this.mediaTime.value):this.ia.RT;};c.prototype.lna=function(){var O;O=this.xna(this.Tf.SWa());return null === O?null:Math.min(this.Fy.da(F.ka),Math.max(0,O));};c.prototype.bV=function(){var O,S;return null === (S=null === (O=this.sa) || void 0 === O?void 0:O.Wc.no) || void 0 === S?void 0:S.Aa;};c.prototype.gaa=function(O){this.ab=I.R7(this.ab,O);this.Pha();};c.prototype.eDb=function(){return this.Uc.value?this.Uc.value.streams:[];};c.prototype.LG=function(O){O=void 0 === O?this.J:O;return (O=this.EM(O).rg) && O.value?O.value.streams:[];};c.prototype.bHb=function(O){for(var S=aa(this.tX),ka=S.next();!ka.done;ka=S.next()){if(ka=(ka=ka.value.Tj) && ka.find(function(ia){return ia.id === O;}))return ka;}};c.prototype.HRb=function(O){O=void 0 === O?this.ia:O;O.ic.value?this.Pq.ERb(O.ic.value):Promise.resolve();};c.prototype.KYa=function(O){for(var S=aa(this.tX),ka=S.next();!ka.done;ka=S.next()){ka=aa(ka.value.Rj);for(var ia=ka.next();!ia.done;ia=ka.next()){if(ia=ia.value.streams.find(function(Pa){return Pa.fd === O;}))return ia;}}};c.prototype.VYa=function(O){for(var S=aa(this.tX),ka=S.next();!ka.done;ka=S.next()){ka=aa(ka.value.$o);for(var ia=ka.next();!ia.done;ia=ka.next()){if(ia=(ia=ia.value) && ia.streams.find(function(Pa){return Pa.fd === O;}))return ia;}}};c.prototype.ut=function(){var O,S,ka;return null !== (ka=null === (S=null === (O=this.d9) || void 0 === O?void 0:O.UT) || void 0 === S?void 0:S.call(O)) && void 0 !== ka?ka:this.Kwb().AC;};c.prototype.T7a=function(O){var S,ka;null !== (S=this.Na) && void 0 !== S && S.Rh && this.Yr.has(O) && ((null === (ka=this.d9) || void 0 === ka?0:ka.UT)?this.d9.A$a():(S=this.dka(O),this.Na.Jq(S,O)));};c.prototype.QJb=function(){return "trailer" === this.ve;};c.prototype.bJb=function(){return ! !this.ve && 0 <= this.ve.indexOf("billboard");};c.prototype.VJb=function(){return ! !this.ve && 0 <= this.ve.indexOf("video-merch");};c.prototype.wJb=function(){return ! !this.ve && 0 <= this.ve.indexOf("mini-modal");};c.prototype.bD=function(){return this.QJb() || this.bJb() || this.VJb() || this.wJb();};c.prototype.g5=function(){var Pa,Ea,Va;if(this.$o){for(var O,S=0;S < this.$o.length;S++){for(var ka=this.$o[S],ia=0;ia < ka.streams.length;ia++){Pa=ka.streams[ia];if(L.Ba(Pa.eka) && L.Ba(Pa.I3) && L.Ba(Pa.H3) && L.Ba(Pa.G3) && (0 < Pa.eka || 0 < Pa.I3)){Ea=1;Va=1;L.Ba(Pa.u4a) && L.Ba(Pa.v4a) && (Ea=Pa.u4a,Va=Pa.v4a);Pa=Pa.G3 * Va / (Pa.H3 * Ea);O=L.Ba(O)?Math.min(O,Pa):Pa;}}}return O;}};c.prototype.PFb=function(){return {tr:this.Iwa,rt:this.Dua};};c.prototype.hz=function(O){return this.ck[O];};c.prototype.Pia=function(){return this.zm?this.za.Wb().da(F.ka) - this.zm:this.xa.bf.da(F.ka) - this.BG();};c.prototype.FT=function(){var O;if(this.zm)return this.za.Wb().da(F.ka) - this.zm;O=this.za.Jz;return this.rX - (this.jk.da(F.ka) + O.da(F.ka));};c.prototype.Ria=function(){return this.zm?this.za.Wb().da(F.ka) - this.zm:this.rX - this.BG();};c.prototype.dOb=function(O){var S,ka;S=this.loadTime;ka={};K.re(O,function(ia,Pa){ka[ia]=Pa.map(function(Ea){return Ea - S;});});return ka;};c.prototype.rDb=function(){var O,S;O=this.loadTime;S={};K.re(this.tia,function(ka,ia){S[ka]=ia.map(function(Pa){return Pa - O;});});return h.Iv?{level:h.Iv.oXa(),charging:h.Iv.Fma(),statuses:S}:null;};c.prototype.M5=function(){this.xVa();return this.uZ;};c.prototype.BG=function(){var O;O=this.ab.jZ;O=L.Ba(O)?O:this.jk.da(F.ka) + this.za.Jz.da(F.ka);G.rb(L.Fz(O));return O;};c.prototype.rna=function(){return this.za.Wb().da(F.ka) - this.jk.da(F.ka);};c.prototype.U7a=function(O,S){this.uZ[O]=S;};c.prototype.S0b=function(){this.$Wb=!0;};c.prototype.z8=function(){this.V5a();};c.prototype.sZ=function(){var O;O=this.M2();return O && O.vbuflmsec || 0;};c.prototype.jT=function(){var O;O=this.M2();return O && O.abuflmsec || 0;};c.prototype.Bxa=function(){var O;O=this.M2();return O && O.vbuflbytes || 0;};c.prototype.$ha=function(){var O;O=this.M2();return O && O.abuflbytes || 0;};c.prototype.c$=function(O){var S,ka,ia;S=this;O=void 0 === O?this.ia:O;ka=O !== this.ia;ia=u.config.u9.enabled?M.Gm.kib:ka?M.Gm.QE:this.bD()?M.Gm.C0:M.Gm.kp;ka=this.bD()?void 0:this.Ub.Bl.t5(ka);return this.dk.zM({ca:O.ca,ab:O.ab,Z:O.J,It:ia,Qf:ka}).then(function(Pa){Pa.r_a && S.fireEvent(Q.ba.nN,{J:O.J});return Pa;});};c.prototype.e5a=function(O,S){S=void 0 === S?this.ia:S;S.sa=O;O=this.mW.create(this).b4a(O);S.bd=O;S.rg.set(O.U3);S.Uc.set(O.eU);S.ic.set(O.gU);};c.prototype.uCb=function(O){this.kI(O,!1);};c.prototype.NYa=function(O,S){if(!this.Uk.wxa)return !0;O=this.ou.da(F.ka) - O;return 0 > O || O > S;};c.prototype.GUb=function(){this.Tf.seek(this.IC() || 0,Q.ze.x_);};c.prototype.kI=function(O,S){var ka,ia;if(this.cO){if(O === this.IL){this.cO=O;return;}ka=this.EM(O);ia=ka.sa;ia && L.Pc(ia.ZH) && L.Pc(ia.tO) && ka.uz({pr_ats:ia.ZH,pr_at:ia.tO});this.fireEvent(Q.ba.zqa,{J:this.IL});this.IL=O;this.Pha();S || this.O6a();this.XG=this.xa.lY;this.ia.zm || (this.ia.zm=this.za.Wb().da(F.ka));}("boolean" === typeof this.ab.$L?this.ab.$L:u.config.$L) && !S && this.Pwa.$L(this);S={J:O,N6:S,cO:this.cO};this.cO=O;this.fireEvent(Q.ba.iH,S);};c.prototype.Awb=function(){try{this.Ub=new k.oFa(this);this.ST=new da.Xza(this);this.hW=this.pN.create(this,this.ia,!0);u.config.Rsb && new pa.LBa(this,this.Rf,this.log);u.config.IT && this.IT(this);this.u0b();}catch(O){this.Bq(C.M.wfb,{na:C.L.Aj,Bb:K.Jd(O)});}};c.prototype.u0b=function(){this.bi?this.YF(this.bi):L.opa(this.J)?this.otb():this.Bq(C.M.ifb,{Bb:"" + this.J});};c.prototype.otb=function(){var O;O=m.xI.t7a;O?O.$?this.wja():this.Bq(C.M.sDa,O):(G.rb(!u.config.o4),this.kha());};c.prototype.wja=function(){var O;O=this;!this.background && u.config.wja?y.Ida(function(){O.kha();},this):this.kha();};c.prototype.kha=function(){var O;O=this;this.state.value == Q.Qb.LOADING && (u.config.mla && !this.bD()?m.xI.gy(y.KHa,function(S){S.$?(O.u7=S.u7,u.config.d$?O.sT():O.fva()):O.Bq(C.M.rDa);},!0):u.config.d$?this.sT():this.fva());};c.prototype.fva=function(){var O;O=this;this.state.value == Q.Qb.LOADING && (this.Bd("ic"),this.VQb.zVb(function(S){S.error && O.log.error("Error sending persisted playdata",C.Ks(S));try{O.sT();}catch(ka){O.log.error("playback.authorize threw an exception",ka);O.Bq(C.M.sbb,{na:C.L.Aj,Bb:K.Jd(ka)});}}));};c.prototype.sT=function(){var O,S;O=this;if(this.state.value == Q.Qb.LOADING){this.log.info("Authorizing",this);S=this.za.Wb().da(F.ka);this.Bd("ats");this.ST.sT(function(ka){var ia;if(O.state.value == Q.Qb.LOADING){O.Bd("at");ia=O.sa;O.uz({pr_ats:ia && L.Pc(ia.ZH)?ia.ZH:S,pr_at:ia && L.Pc(ia.tO)?ia.tO:O.za.Wb().da(F.ka)});ka.$?0 < O.bd.Tj.length && O.bd.eU && O.bd.U3 && O.bd.gU?O.sSb():O.Bq(C.M.cgb,O.Bqa(O.bd)):O.Bq(C.M.YQ,ka);}});}};c.prototype.sSb=function(){var O;O=this;this.L4a?(this.log.info("Processing post-authorize",this),this.L4a(this,function(S){S.$?O.E$a():O.Bq(C.M.Bfb,S);})):this.E$a();};c.prototype.E$a=function(){var O,S;f.__awaiter(this,void 0,void 0,function ia(){var Pa;Pa=this;return Ha(ia,function(Ea){if(Pa.state.value != Q.Qb.LOADING)return Ea.return();(null === (O=Pa.ia.sa) || void 0 === O?0:O.Wc.no) && Pa.yb.reset(sa.oC(null === (S=Pa.ia.sa) || void 0 === S?void 0:S.Wc.no,{config:u.config}));Pa.Na=Pa.Tha(Pa.yb,Pa);Pa.Na.CWb({Tm:g.Tm,config:u.config,Ie:Pa.Ie,gd:Pa.gd,eu:Pa.eu.bind(Pa),Di:E.Di,pY:Pa.pY.bind(Pa),kI:Pa.kI.bind(Pa)});Pa.uRb();Ea.xH=0;});});};c.prototype.zxb=function(){var O,S,ka,ia,Pa,Ea;O=this;try{if(this.state.value === Q.Qb.LOADING){this.Ub.open();S=new Promise(function(Va){O.Ub.addEventListener(P.Dj.y8a,Va);});this.Tf=new R.tFa(this);ka=this.bd.eU.cl === wa.mp.NONE;ia={Og:!1,jW:!1,Xh:!this.cD,aO:! !this.ab.U6,Ha:this.ab.Ha,eE:this.bd.eU.Qr || ka};Pa={ca:this.ca,zw:this.Wj,Vy:this.Vy};try{if(this.state.value !== Q.Qb.LOADING)return;Ea=this.Na;Ea.z6({flags:ia,Pv:Pa,ya:this.yb.xxa?this.yb.Yh:this.ia.ya,dka:this.dka.bind(this)});this.DSa(this.yb.D5(this));this.xpb();Ea.Crb({ck:this.ck,loadTime:this.loadTime});}catch(Va){throw (this.log.error("Failed to initialize ASE streaming",{error:Va,startPts:this.Y,flags:ia}),Va);}S.then(function(){var Va;O.state.value !== Q.Qb.CLOSING && O.state.value !== Q.Qb.CLOSED && (null === (Va=O.Na) || void 0 === Va?void 0:Va.open());});this.mediaTime.set(this.Y);this.Pq=new n.EKa(this);if("boolean" === typeof this.ab.D9?this.ab.D9:u.config.D9)this.WY=new B.FKa(this);this.$O();y.Kda.forEach(function(Va){Va(O);});this.iOb();}}catch(Va){this.Bq(C.M.yfb,{na:C.L.Aj,Bb:K.Jd(Va)});}};c.prototype.jOb=function(){G.rb(this.state.value == Q.Qb.GJ);this.loadTime=this.za.Wb().da(F.ka);this.state.set(Q.Qb.LOADING);};c.prototype.Bq=function(O,S){this.done || (this.done=!0,S instanceof T.md?this.Vd(S.code,S):this.Vd(O,S));};c.prototype.IT=function(O){var ka,ia;function S(){var Pa,Ea;Pa=h.Iv.Fma() + "";Ea=O.tia[Pa];Ea || (Ea=O.tia[Pa]=[]);Ea.push(ka.za.Wb().da(F.ka));ka.log.trace("charging change event",{level:h.Iv.oXa(),charging:h.Iv.Fma()});}ka=this;ia=h.Iv.wcb;h.Iv.addEventListener(ia,S);O.addEventListener(Q.ba.fg,function(){h.Iv.removeEventListener(ia,S);});};c.prototype.Tva=function(O){var S,ka;S=this;if(this.state.value == Q.Qb.GJ || this.state.value == Q.Qb.LOADING || this.state.value == Q.Qb.oe){this.gd.info("Playback closing",this,O?{ErrorCode:O.a4}:void 0);this.LF("Closing");x.df.removeListener(x.zl,this.k3a);this.bi=O;this.ia.RT=this.IC();this.xVa();(null === (ka=this.Na) || void 0 === ka?0:ka.Rh) && this.Na.flush();try{this.Ob.vc(Q.ba.fg,{movieId:this.IL});}catch(ia){this.gd.error("Unable to fire playback closing event",ia);}this.state.set(Q.Qb.CLOSING);this.fbb();this.$Wb || H.Nf(function(){return S.V5a();});}};c.prototype.bCb=function(){this.Ob.vc(Q.ba.y$a);};c.prototype.yVa=function(){var O;O=this.mediaTime.value;this.CKb != O && (!1,this.CKb=O,this.Ob.vc(Q.ba.zwa));};c.prototype.V5a=function(){var O,S;O=this;G.rb(this.state.value == Q.Qb.CLOSING);S=this.u7;this.u7=void 0;S?m.xI.release(S,function(ka){G.rb(ka.$);O.Cja();}):this.Cja();};c.prototype.fbb=function(){var O;null === (O=this.Na) || void 0 === O?void 0:O.Zc();delete this.Na;delete this.Kac;delete this.Jac;};c.prototype.Cja=function(){var O;this.Cja=q.jl;G.rb(this.state.value == Q.Qb.CLOSING);O=y.Tn.indexOf(this);G.rb(0 <= O);y.Tn.splice(O,1);this.state.set(Q.Qb.CLOSED);this.Ob.vc(Q.ba.closed,void 0,!0);this.Ob.wh();delete this.lf;this.ia.z8();};c.prototype.Pha=function(){this.ab.playbackState && ("number" === typeof this.ab.playbackState.volume && this.volume.set(J.ip(this.ab.playbackState.volume,0,1)),"boolean" === typeof this.ab.playbackState.muted && this.muted.set(this.ab.playbackState.muted),"number" === typeof this.ab.playbackState.playbackRate && this.playbackRate.set(this.ab.playbackState.playbackRate));};c.prototype.xVa=function(){this.Ob.vc(Q.ba.h8a,{uZ:this.uZ});};c.prototype.pY=function(O,S,ka){var ia;O=this.im(O);ia=O.Tj.filter(function(Pa){return Pa.id === S;})[0];ia && O.kc[ka].set(ia);};c.prototype.eu=function(){return {AudioBufferLength:this.jT(),VideoBufferLength:this.sZ()};};c.prototype.M2=function(){var O;if(null === (O=this.Na) || void 0 === O?0:O.Rh)return this.Na.D6(!1);};c.prototype.iOb=function(){this.state.value == Q.Qb.LOADING && this.state.set(Q.Qb.oe);};c.prototype.Kwb=function(){var O,S,ka;O=void 0 === O?this.J:O;S=this.LG(O);ka=this.EM(O);return ua.ut(S,function(ia){return ka.xN.Ju(ia);});};c.prototype.dka=function(O){var S,ka;O=void 0 === O?this.J:O;S=this.LG(O);ka=this.EM(O);return ua.AYa(S,function(ia){return ka.xN.Ju(ia);});};c.prototype.DSa=function(O){var S;S=this;Object.keys(O.Aa).filter(function(ka){return !S.Yr.has(S.yb.Ne(ka).Z);}).forEach(function(ka){var ia,Pa,Ea;Pa=S.yb.Ne(ka);Ea=Pa.Z;Pa=Object.assign(null !== (ia=S.tk.NM(Ea).Nb) && void 0 !== ia?ia:{},{Y:Pa.wc,Ha:Pa.Oc,Al:!1,jZ:Date.now(),U6:!0});S.XOa({Z:Ea,ya:ka,ab:Pa});});};Wa.Object.defineProperties(c.prototype,{tX:{configurable:!0,enumerable:!0,get:function(){return this.Yr.values();}},ia:{configurable:!0,enumerable:!0,get:function(){return this.Yr.get(this.IL);}},Y:{configurable:!0,enumerable:!0,get:function(){var O,S;return void 0 !== this.Jv?this.Jv:null !== (S=null === (O=this.tX.next()) || void 0 === O?void 0:O.value.ab.Y) && void 0 !== S?S:0;}},bd:{configurable:!0,enumerable:!0,get:function(){return this.ia.bd;},set:function(O){this.ia.bd=O;}},O4:{configurable:!0,enumerable:!0,get:function(){return this.ia.ab.O4;}},P4:{configurable:!0,enumerable:!0,get:function(){return this.ia.ab.P4;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ia.index;}},ya:{configurable:!0,enumerable:!0,get:function(){return this.ia.ya;}},lf:{configurable:!0,enumerable:!0,get:function(){return this.ia.lf;},set:function(O){this.ia.lf=O;}},zm:{configurable:!0,enumerable:!0,get:function(){return this.ia.zm;},set:function(O){this.ia.zm=O;}},TF:{configurable:!0,enumerable:!0,get:function(){return this.ia.TF;},set:function(O){this.ia.TF=O;}},SF:{configurable:!0,enumerable:!0,get:function(){return this.ia.SF;},set:function(O){this.ia.SF=O;}},y6:{configurable:!0,enumerable:!0,get:function(){return this.ia.y6;},set:function(O){this.ia.y6=O;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ia.sa;},set:function(O){this.ia.sa=O;}},Jv:{configurable:!0,enumerable:!0,get:function(){return this.ia.Jv;},set:function(O){this.ia.Jv=O;}},OY:{configurable:!0,enumerable:!0,get:function(){return this.ia.OY;},set:function(O){this.ia.OY=O;}},ab:{configurable:!0,enumerable:!0,get:function(){return this.ia.ab;},set:function(O){this.ia.ab=O;}},hW:{configurable:!0,enumerable:!0,get:function(){return this.ia.hW;},set:function(O){this.ia.hW=O;}},Fl:{configurable:!0,enumerable:!0,get:function(){return this.ia.Fl;}},J:{configurable:!0,enumerable:!0,get:function(){return this.ia.J;}},ve:{configurable:!0,enumerable:!0,get:function(){return this.ia.ve;}},Rj:{configurable:!0,enumerable:!0,get:function(){return this.ia.Rj;}},$o:{configurable:!0,enumerable:!0,get:function(){return this.ia.$o;}},OA:{configurable:!0,enumerable:!0,get:function(){return this.ia.OA;}},vj:{configurable:!0,enumerable:!0,get:function(){return this.ia.vj;}},lj:{configurable:!0,enumerable:!0,get:function(){return this.ia.lj;}},cD:{configurable:!0,enumerable:!0,get:function(){return this.ia.cD;}},yu:{configurable:!0,enumerable:!0,get:function(){return this.ia.yu;}},gm:{configurable:!0,enumerable:!0,get:function(){return this.ia.gm;}},Tj:{configurable:!0,enumerable:!0,get:function(){return this.ia.Tj;}},Fy:{configurable:!0,enumerable:!0,get:function(){return this.ia.Fy;},set:function(O){this.ia.Fy=O;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ia.ca;}},wj:{configurable:!0,enumerable:!0,get:function(){return this.ia.wj;}},jk:{configurable:!0,enumerable:!0,get:function(){return this.ia.jk;}},XG:{configurable:!0,enumerable:!0,get:function(){return this.ia.XG;},set:function(O){this.ia.XG=O;}},Wj:{configurable:!0,enumerable:!0,get:function(){return this.ia.Wj;}},nI:{configurable:!0,enumerable:!0,get:function(){return this.ia.nI;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ia.background;},set:function(O){this.ia.background=O;}},ika:{configurable:!0,enumerable:!0,get:function(){return this.ia.ika;}},jd:{configurable:!0,enumerable:!0,get:function(){return this.ia.jd;}},Jp:{configurable:!0,enumerable:!0,get:function(){return this.ia.Jp;}},Zka:{configurable:!0,enumerable:!0,get:function(){return this.ia.Zka;}},xN:{configurable:!0,enumerable:!0,get:function(){return this.ia.xN;}},Vy:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.e4 && 0 === this.ia.ca % u.config.e4;}},kg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.J,TrackingId:this.wj,Xid:this.ca};}},i9:{configurable:!0,enumerable:!0,get:function(){return this.yb.i9;}}});b.OHa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.P8a=void 0;c=a(12);f=a(8);l=a(3);a(24);b.P8a=function(m){var d;f.Di("Storage");d={};m({$:!0,storage:{load:function(g,h){var k;if(d.hasOwnProperty(g)){k=d[g];!1;h({$:!0,data:k,x$:g});}else (!1,h({na:l.L.wB}));},save:function(g,h,k,n){k && d.hasOwnProperty(g)?n({$:!1}):(d[g]=h,!1,n && n({$:!0,x$:g}));},remove:function(g,h){delete d[g];!1;h && h(c.Ve);}}});};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.N8a=void 0;c=a(8);f=a(78);l=a(29);m=a(519);b.N8a=function(d){c.ja.get(f.bB).create().then(function(g){d({$:!0,storage:new m.Bca(g,c.ja.get(l.Zf))});}).catch(function(g){d(g);});};},function(r,b){function a(c,f){this.Gv=c;this.Ie=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Bca=void 0;a.prototype.load=function(c,f){var l;l=this;this.Gv.load(c).then(function(m){f && f(a.e9a(m));}).catch(function(m){f && f(l.sla(c,m));});};a.prototype.save=function(c,f,l,m){var d;d=this;this.Gv.save(c,f,l).then(function(){m && m(a.e9a({key:c,value:f}));}).catch(function(g){m && m(d.sla(c,g));});};a.prototype.remove=function(c,f){var l;l=this;this.Gv.remove(c).then(function(){f && f({$:!0,x$:c});}).catch(function(m){f && f(l.sla(c,m));});};a.e9a=function(c){return {$:!0,data:c.value,x$:c.key};};a.prototype.sla=function(c,f){return {$:!1,x$:c,na:f.na,Bb:f.cause?this.Ie.Jd(f.cause):void 0};};b.Bca=a;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.O8a=void 0;c=a(519);f=a(8);l=a(449);m=a(29);b.O8a=function(d){d({$:!0,storage:new c.Bca(f.ja.get(l.iEa),f.ja.get(m.Zf))});};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Iv=void 0;c=a(12);f=a(14);r=a(3);l=a(8);m=a(30);d=a(11);g=a(33);h=a(19);k=a(64);n=a(4);a=l.ja.get(g.oh);p=l.ja.get(k.Cx);a.register(r.M.bDa,function(q){var w,x;function v(){q(c.Ve);v=m.jl;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!h.ad(y[z]))throw z + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=d.hf.getBattery();if(!h.ad(y.then))throw "getBattery did not return a promise";return y;});}w=l.Di("BatteryManager");b.Iv={wcb:"chargingchange",oXa:function(){return x?x.level:null;},Fma:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};f.config.IT && h.ad(d.hf.getBattery)?p.Hq(n.Hc(f.config.qDb),t()).then(function(y){u(y);x=y;}).catch(function(y){w.error("getBattery failed",y);}).then(v):v();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cEa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,f){var l;l=this;this.CXa=c;this.i3a=f;this.Gwa=!1;this.PN=function(){l.Wo=void 0;l.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;a.prototype.update=function(c){var f,l,m,d,g;m=this.CXa();if(this.V$a !== m){d=null === (l=null === (f=this.Ho) || void 0 === f?void 0:f.CG(m)) || void 0 === l?void 0:l[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){g=d;this.J$a(d.endTime - m);}else this.J$a(d.startTime - m);this.V$a=m;this.mha !== g && (this.mha=g,!c && this.i3a && this.i3a());}};a.prototype.start=function(){this.Gwa=!0;this.update();};a.prototype.H7a=function(c){this.Ho=c;this.mha=this.V$a=void 0;c || this.stop();};a.prototype.stop=function(){this.Gwa=!1;this.us();};a.prototype.ZCb=function(){this.update(!0);return this.mha;};a.prototype.J$a=function(c){this.us();this.Gwa && 0 < c && (this.Wo=setTimeout(this.PN,c + a.Kgb));};a.prototype.us=function(){this.Wo && (clearTimeout(this.Wo),this.Wo=void 0);};b.GKa=a;a.Kgb=10;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;c=a(15);f=a(73);b.SCa=function(l){function m(d){l.fireEvent(c.ba.pG,{response:d,J:l.ia.J});}return {download:function(d,g){d.j=l;d=f.ef.download(d,g);d.oha(m);return d;}};};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;c=a(14);f=a(52);l=a(3);m=a(526);d=a(11);g=a(19);h=a(15);k=a(8);n=a(206);b.wDa=function(p){var v,u,t,w;function q(){p.state.value !== h.Qb.oe || p.zb.value !== h.cb.Vg && p.zb.value !== h.cb.Wq?u.us():u.vG();}v=c.config.vQb;if(!p.bD() && v){u=k.ja.get(n.K0)(v,function(){p.fireEvent(h.ba.VM,l.M.j0);});p.zb.addListener(q);p.state.addListener(q);if(c.config.Coa){t=f.aj();w=new m.VIa(c.config.Coa,function(){var x,y;x=f.aj();y=x - t;y > v && (p.fireEvent(h.ba.VM,l.M.P_),w.BRa());y > 2 * c.config.Coa && (p.Doa=d.Rn(y,p.Doa || 0));t=x;});w.uWb();}p.addEventListener(h.ba.fg,function(){u.us();g.Pc(w) && w.BRa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VIa=void 0;b.VIa=function(a,c){var f;this.uWb=function(){f || (f=setInterval(c,a));};this.BRa=function(){f && (clearInterval(f),f=void 0);};};},function(r,b,a){var f,l,m,d,g,h,k;function c(n){var p,q,v,u;p=this;this.j=n;this.UT=void 0;this.ufa=m.createElement("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.jfa=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.$ea=m.createElement("DIV","width:100%;text-align:center");this.Sjb=this.lfa("Audio Bitrate");this.dha=this.lfa("Video Bitrate");this.cfa=this.lfa("CDN");this.zS={};this.P5=d.ja.get(g.Em);this.ufa.appendChild(this.jfa);this.jfa.appendChild(this.$ea);q=m.createElement("BUTTON",void 0,"Override");q.addEventListener("click",this.Ljb.bind(this),!1);this.$ea.appendChild(q);q=m.createElement("BUTTON",void 0,"Reset");q.addEventListener("click",this.Wnb.bind(this),!1);this.$ea.appendChild(q);v=this.enb.bind(this);l.df.addListener(l.NC,v);n.addEventListener(k.ba.iH,function(){p.zS={};});n.addEventListener(k.ba.fg,function(){l.df.removeListener(l.NC,v);});u=this.Jnb.bind(this);n.kc.forEach(function(t){t.addListener(u);});n.Uc.addListener(u);n.rg.addListener(u);}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;f=a(47);l=a(60);m=a(30);d=a(8);g=a(40);h=a(131);k=a(15);c.prototype.show=function(){this.VS || (this.XNa(),document.body.appendChild(this.ufa),this.VS=!0);};c.prototype.Kr=function(){this.VS && (document.body.removeChild(this.ufa),this.VS=!1);};c.prototype.toggle=function(){this.VS?this.Kr():this.show();};c.prototype.A$a=function(){var q,v,u,t;function n(w,x,y){var z,A,B;A=[];x.filter(function(D){return D.Zg === w;}).forEach(function(D){0 <= y.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,x,y){var z;z=[];x.filter(function(A){return A.Zg === w;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.ut();u=this.j.LG().sort(function(w,x){return w.bitrate - x.bitrate;});t=u.reduce(function(w,x){0 > w.indexOf(x.Zg) && w.push(x.Zg);return w;},[]).map(function(w){return {profile:w,ranges:n(w,u,v),disallowed:p(w,u,v)};});!1;null === (q=this.j.Na) || void 0 === q?void 0:q.Jq(t,this.j.J);};c.prototype.Ljb=function(){var q,v;this.zS={};for(var n=this.dha.options,p=n.length;p--;){q=n[p];q.selected && (this.zS[q.value]=1);}this.UT=this.qkb.bind(this);this.A$a();if(n=this.j.Tj){v=this.cfa.value;n=n.filter(function(u){return u.id == v;})[0];p=this.j.kc[f.Sb.Qa.Jb].value;n && n != p && (n.gRa={testreason:"streammanager",selreason:"userselection"},this.j.kc[f.Sb.Qa.Jb].set(n));}this.Kr();};c.prototype.Wnb=function(){this.UT=void 0;this.j.T7a(this.j.J);this.Kr();};c.prototype.qkb=function(){var n;n=this;return this.j.LG().filter(function(p){return n.zS[p.bitrate];});};c.prototype.XNa=function(){var n,p,q,v;n=this;p=this.j.Uc.value;q=this.j.rg.value;v=this.j.Tj;p && (v=v.slice(),v.sort(function(u,t){return u.Zd - t.Zd;}),this.Mga(this.Sjb,p.streams.map(function(u){return {value:u.bitrate,caption:u.bitrate,selected:u == n.j.Yg.value};})));q && (this.Mga(this.dha,q.streams.map(function(u){var t,w;t=n.j.xN.Ju(u);u=u.bitrate;w="" + u;t && (w+=" (" + t.join("|") + ")");return {value:u,caption:w,selected:n.UT?n.zS[u]:!t};})),this.dha.removeAttribute("disabled"));v && (this.Mga(this.cfa,v.map(function(u){return {value:u.id,caption:"[" + u.id + "] " + u.name,selected:u == n.j.kc[f.Sb.Qa.Jb].value};})),this.cfa.removeAttribute("disabled"));};c.prototype.Jnb=function(){this.VS && this.XNa();};c.prototype.lfa=function(n){var p,q;p=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");n=m.createElement("DIV",void 0,n);q=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.jfa.appendChild(p);return q;};c.prototype.Mga=function(n,p){n.innerHTML="";p.forEach(function(q){var v;v={title:q.caption};q.selected && (v.selected="selected");v=m.createElement("option",void 0,q.caption,v);v.value=q.value;n.appendChild(v);});};c.prototype.enb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.$u.vib && this.P5.vpa && this.toggle();};b.VHa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.bma=h;this.sG={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.C7a(k);this.FVa=this.nEb(this.bma);}Object.defineProperty(b,"__esModule",{value:!0});b.DKa=void 0;f=a(30);l=a(529);m=a(530);d=a(11);g=a(24);c.prototype.ln=function(){return this.element;};c.prototype.KVb=function(h){this.Vha=h;};c.prototype.UVb=function(h){this.entry=h;this.nO();};c.prototype.aWb=function(h){this.C7a(h);this.nO();};c.prototype.nO=function(){var h,k,n,p,q,v,u,t,w,x,y,A,B,D;h=this;k=this.ln();n=k.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;v=n=0;u={width:p,height:q};if(0 < p && 0 < q && this.entry){this.Vha && (u=f.kM(p,q,this.Vha),n=Math.round((p - u.width) / 2),v=Math.round((q - u.height) / 2));w=this.Bsb(u);x=f.kM(w.width,w.height,this.Vha);w=(t=this.entry.blocks) && t.map(function(E){var F;F=m.ola(E,x,h.bma,h.FVa);E=m.LUa(E) + ";position:absolute";return f.createElement("div",E,F,c.Bba);});}Object.assign(this.sG,{left:n + "px",right:n + "px",top:v + "px",bottom:v + "px"});k.style.display="none";k.style.direction=this.sG.direction;k.innerHTML="";if(w && w.length){p=u.width;n=u.height;y=u;this.zT && (y=this.Xob(u,this.zT,q,v));this.sG.margin=this.Ur?this.i3(u,"top") + "px " + this.i3(u,"right") + "px " + this.i3(u,"bottom") + "px " + this.i3(u,"left") + "px ":void 0;w.forEach(function(E){return k.appendChild(E);});q=f.fG(this.sG);k.style.cssText=q + ";visibility:hidden;z-index:-1";v=[];for(var z=w.length - 1;0 <= z;z--){A=w[z];B=t[z];D=this.M2a(A,B,p,n);D.width > p && (A.innerHTML=m.ola(B,u,this.bma,this.FVa,p / D.width),D=this.M2a(A,B,p,n));v[z]=D;}v=l.s$a(v,y);if(z=t && t[0] && t[0].textNodes && t[0].textNodes[0] && t[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (u=m.NUa(t,v,Math.round(n / 50),y,u),u=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,u,c.Bba),k.insertBefore(u,k.firstChild)));k.style.display="none";for(u=v.length - 1;0 <= u;u--){y=w[u].style;z=m.MUa(t[u].region,v[u],p,n,0);Object.assign(y,z);}k.style.cssText=q;}};c.prototype.zva=function(h){this.zT=h;this.nO();};c.prototype.Kna=function(){return this.zT;};c.prototype.Ava=function(h){this.Ur=h;this.nO();};c.prototype.Lna=function(){return this.Ur;};c.prototype.Mna=function(){return "block" === this.sG.display;};c.prototype.Bva=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.sG.display=k;h && this.nO();};c.prototype.nEb=function(h){var k,n;k=this;n={};g.re(h,function(p,q){n[p]=k.LMb(q);});return n;};c.prototype.C7a=function(h){this.sG.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.i3=function(h,k){if(this.Ur){if("left" === k || "right" === k)return h.width * (this.Ur[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.Ur[k] || 0);}return 0;};c.prototype.Bsb=function(h){return this.Ur?{height:h.height * (1 - (this.Ur.top || 0) - (this.Ur.bottom || 0)),width:h.width * (1 - (this.Ur.left || 0) - (this.Ur.right || 0))}:h;};c.prototype.LMb=function(h){var k;h=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Bba);d.Ue.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Ue.body.removeChild(h);return k;};c.prototype.M2a=function(h,k,n,p){var q,v,u,t,w;q=k.region;v=(q.marginTop || 0) * p;u=(q.marginBottom || 0) * p;t=(q.marginLeft || 0) * n;w=(q.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=v;break;case "center":p=(v + p - u - h) / 2;break;default:p=p - u - h;}switch(q.horizontalAlignment){case "left":n=t;break;case "right":n=n - w - k;break;default:n=(t + n - w - k) / 2;}return {top:p,left:n,width:k,height:h};};c.prototype.Xob=function(h,k,n,p){return {height:n - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};b.DKa=c;c.Bba={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.s$a=void 0;c=a(11);b.s$a=function(f,l){function m(h,k,n){var u,w,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],v=0;v < h.length;v++){p[v]=0;q[v]=0;}u=!1;for(v=0;v < h.length;v++){for(var t=v + 1;t < h.length;t++){w=h[v];x=h[t];if(0 > w.width || 0 > x.width || x.left > w.left + w.width || x.left + x.width < w.left || x.top > w.top + w.height?0:x.top + x.height >= w.top){y=c.Rn(w.left,x.left);z=c.Rn(w.top,x.top);y={width:c.Rn(c.hp(w.left + w.width,x.left + x.width) - y,0),height:c.Rn(c.hp(w.top + w.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,w=d(h[v]),x=d(h[t]),z && k || !z && !k))(y=c.Rn(y.width / 2,.25),w.x <= x.x?(q[v]-=y,q[t]+=y):(q[t]-=y,q[v]+=y));else if(z && !k || !z && k)(w=c.Rn(y.height / 2,.25),p[v]-=w,p[t]+=w);}}for(v=0;v < h.length;v++){if(-.25 > q[v] && 0 <= h[v].left + q[v] || .25 < q[v] && h[v].left + h[v].width + q[v] <= n.width)(h[v].left+=q[v],u=!0);if(-.25 > p[v] && 0 <= h[v].top + p[v] || .25 < p[v] && h[v].top + h[v].height + p[v] <= n.height)(h[v].top+=p[v],u=!0);}return u;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}f=f.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=c.hp(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=c.hp(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=c.hp(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=c.hp(n.top + n.height - k.height,n.top));});})(f,l);for(var g=0;50 > g && m(f,!0,l);g++){;}for(g=0;50 > g && m(f,!1,l);g++){;}return f;};},function(r,b,a){var g,h,k;function c(n,p,q,v,u){var t;t={};"right" == n.horizontalAlignment?t.right=100 * (q - p.left - p.width - u) / q + "%":t.left=100 * (p.left - u) / q + "%";"bottom" == n.verticalAlignment?t.bottom=100 * (v - p.top - p.height - u) / v + "%":t.top=100 * (p.top - u) / v + "%";return t;}function f(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function l(n,p,q,v,u){var t,w;t=n.style;w=h.CV(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return m(w,t,p,q,v,u);}function m(n,p,q,v,u,t){var w;w=p.characterStyle;u=u[w];w=0 <= w.indexOf("MONOSPACE")?f(u,p.cellResolution) || u.lineHeight:u.lineHeight;v=p.characterSize * v.height / (w || 1);v=0 < t?k.vx(v * t):k.Oi(v);t={"font-size":v + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (t["font-style"]="italic");p.characterUnderline && (t["text-decoration"]="underline");p.characterColor && (t.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (t["background-color"]=d(p.backgroundColor,p.backgroundOpacity));v=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":t["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":t["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":t["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":t["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}t=g.fG(t);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (t+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + t + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.LUa=b.QAb=b.OAb=b.RAb=b.PAb=b.MUa=b.NUa=b.ola=void 0;g=a(50);h=a(24);k=a(11);b.ola=function(n,p,q,v,u){var t;t="";n.textNodes.forEach(function(w){t+=l(w,q,p,v,u);});return t;};b.NUa=function(n,p,q,v,u){var t,w,y,z,A;t="";w=u.width;u=u.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + v + ";width:" + k.Oi(y.width + 2 * q) + "px;height:" + k.Oi(y.height + 2 * q) + "px;";y=c(z,y,w,u,q);h.re(y,function(B,D){A+=B + ":" + D + ";";});t+='<div style="' + A + '"></div>';}return t;};b.MUa=c;b.PAb=f;b.RAb=l;b.OAb=m;b.QAb=d;b.LUa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return g.fG(p);};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;c=a(12);f=a(14);l=a(52);m=a(92);d=a(11);g=a(61);h=a(19);k=a(15);b.LHa=function(n){var u,t,w,x,y,z;function p(){return n.state.value === k.Qb.LOADING || n.state.value === k.Qb.oe && n.zb.value === k.cb.Jf;}function q(){p()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,g.Nf(v));}function v(){var A,B,D,E,F,C,G,J;A=l.aj();B=u.value;D=B?B.progress:0;E=n.state.value == k.Qb.LOADING || p() && A - t > f.config.csb;if(E && n.state.value == k.Qb.oe){if(n.Lf.value === k.tf.pJa)(F=D,C=!0);else {G=A;w=w || A;x=x || w + f.config.nNb + 1;h.Ba(G) && (G=d.Rn(G,x),F=d.Oi(1E3 * m.ip((A - w) / (G - w),0,.99)) / 1E3);}if(F < D)if(D - F < f.config.zSb / 100)(F=D,y=void 0);else if(y){if(A - y > f.config.ySb){J=!0;y=void 0;}else F=D;}else (y=A,F=D);}else y=x=w=void 0;A=E?{ss:C,progress:F,ASb:J}:null;(!A || !u || !B || h.Ba(A.progress) && !h.Ba(B.progress) || h.Ba(A.progress) && h.Ba(B.progress) && .01 < d.DE(A.progress - B.progress) || A.ss !== B.ss) && u.set(A);}u=n.Mia;t=0;n.state.addListener(function(){q();v();},c.i0);n.zb.addListener(function(A){if(A.oldValue !== k.cb.Jf || A.newValue !== k.cb.Jf)t=l.aj();q();});n.Lf.addListener(function(){q();});n.zr.addListener(function(){q();});n.ym.addListener(function(){q();});z || (z=setInterval(v,100));};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K;function c(H){var L;L=this;this.j=H;this.Ub=this.j.Ub;this.log=n.zh(this.j,"MediaPresenterASE");this.o8=this.N3=0;this.X=this.Ub.X;this.x4a=this.o4a=this.W6=this.Qsa=!1;this.zYb=n.ja.get(D.PJ)(B.Hc(z.A0));this.dL=void 0;this.Po=n.ja.get(F.xJa)(this.j);this.Yw={};this.S1a={};this.DYa={};this.Ag=new G.fFa(this.j);this.xYb=function(){var R,I,P;L.j.OY=k.aj();if(!L.ak() && L.nn){R=L.Ub.gYa();R || (L.FQb(),L.Ag.Swa(L.mediaTime));L.j.paused.value || !L.Ag.vka(L.mediaTime) || !L.Jia() || R || L.Po.lpa?L.Iua():L.Qsa || L.Jua();L.EQb();if(!L.Ub.gYa() && !L.W6){R=L.Ub.eV(!0);I=L.j.zb.value;P=L.kub();I !== P && !1;P === x.cb.Wq?(L.mediaTime=L.j.ou.da(B.ka),L.Iua()):P !== x.cb.Jf && L.x_b(R);L.N$a();L.Ag.eja(L.mediaTime);L.j.zb.set(P);P !== x.cb.Jf || I !== x.cb.Ec && I !== x.cb.Vg || L.sPb();}}};this.Jl=C.j5a(this.xYb);this.mediaTime=H.Y;this.j.Wh=!1;this.Ub.addEventListener(A.Dj.x8a,function(){L.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{L.xb();}catch(R){L.log.error("Exception while initializing",R);L.Vd(p.M.Dhb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;f=a(47);l=a(12);m=a(14);d=a(58);g=a(60);h=a(50);k=a(52);n=a(8);a(98);p=a(3);q=a(329);v=a(22);u=a(92);t=a(30);w=a(61);x=a(15);y=a(19);z=a(183);A=a(299);B=a(4);D=a(112);E=a(206);F=a(533);C=a(1166);G=a(1167);J=a(260);K=a(205);c.prototype.SWa=function(){return this.Ub.eV(!1);};c.prototype.k5=function(){return this.Ub.k5();};c.prototype.FC=function(){return this.Ub.FC();};c.prototype.DG=function(){return this.Ub.DG();};c.prototype.dV=function(){return this.Ub.dV();};c.prototype.p5=function(){return this.Ub.p5();};c.prototype.xb=function(){var H;H=this;this.log.trace("Video element initializing");this.Ub.sourceBuffers.forEach(function(L){return H.Ag.pWb(L);});this.yIb(this.j.cD);};c.prototype.yIb=function(H){var L,R;L=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.J}),null === (R=this.j.Na) || void 0 === R?void 0:R.Sy(this.j.J));this.log.trace("Waiting for loadedmetadata");this.Ub.addEventListener(A.Dj.r0a,function(I){var P;I=I.Z;L.j.Bd("ld",I);null === (P=L.j.Na) || void 0 === P?void 0:P.Sy(I);L.j.fireEvent(x.ba.o0a);});h.bPa(this.X,"loadedmetadata",function(){L.log.trace("Video element event: loadedmetadata");L.j.Bd("md");});g.df.addListener(g.zl,this.DYa[g.zl]=function(){return L.close();},l.OE);this.j.addEventListener(x.ba.fg,function(){return L.close();},l.OE);this.j.addEventListener(x.ba.V6a,function(){return L.Jua();});this.j.addEventListener(x.ba.iH,function(){return L.fPb();});this.j.paused.addListener(function(){return L.Jl();});this.j.muted.addListener(function(){return L.oxa();});this.j.volume.addListener(function(){return L.oxa();});this.j.playbackRate.addListener(function(){return L.haa();});this.j.zr.addListener(function(){return L.Jl();});this.j.ym.addListener(function(){return L.Jl();});this.oxa();this.haa();this.Ag.j$(function(){return L.K7();});this.K7();this.RZb();};c.prototype.I2=function(H){var L;L=this;!1;this.Ag.lqb(H);this.atb(H).then(function(){L.K7();L.j.fireEvent(x.ba.J7);}).catch(function(R){L.Vd(p.M.Hhb,{Bb:t.Jd(R)});});};c.prototype.Lha=function(H,L,R){R=void 0 === R?{}:R;L=this.Pzb(H,L);this.Ag.jqb(H,L,R);this.K7();this.o4a || H.type !== f.Sb.gl.Jb || (this.Po.lpa || this.seek(this.j.Y,x.ze.qx),this.o4a=!0);};c.prototype.RZb=function(){var H;H=this;this.Ub.addEventListener(A.Dj.iY,this.Yw[A.Dj.iY]=function(){return H.xPb();});this.Ub.addEventListener(A.Dj.Rp,this.Yw[A.Dj.Rp]=function(){return H.D8();});this.X.addEventListener("ended",this.Yw.ended=function(){return H.aPb();});this.X.addEventListener("play",this.Yw.play=function(){return H.jPb();});this.X.addEventListener("pause",this.Yw.pause=function(){return H.hPb();});this.X.addEventListener("playing",this.Yw.playing=function(){return H.pPb();});this.nn=!0;this.Ag.Swa(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Bd("vi");m.config.rTa?setTimeout(function(){H.bsa=!0;H.Jl();},m.config.rTa):this.bsa=!0;this.yXb();w.Nf(function(){return H.Jl();});};c.prototype.yXb=function(){var R;function H(){var I;R.j.zb.value === x.cb.Ec && 0 === (null === (I=R.j.Tf) || void 0 === I?void 0:I.k5())?(R.L2a.vG(),I="ensureTimer"):(R.L2a.us(),I="stopTimer");R.log.trace("No render timer update: " + I,{presentingState:x.cb[R.j.zb.value]});}function L(I){var P,N;I=void 0 === I?!0:I;P=R.j.Na;N=(null === P || void 0 === P?void 0:P.Rh) && P.Y5();R.j.zb.value == x.cb.Jf && R.j.state.value == x.Qb.oe && R.j.zr.value == x.tf.oe && R.j.ym.value == x.tf.oe && !R.j.Wh && N?(I && R.P3.us(),R.P3.vG(),P="ensureTimer"):(R.P3.us(),P="stopTimer");R.log.trace("Timer update: " + P,{presentingState:x.cb[R.j.zb.value],playbackState:x.Qb[R.j.state.value],avBufferingState:x.tf[R.j.zr.value],textBufferingState:x.tf[R.j.ym.value],autoplayWasBlocked:R.j.Wh,hasLicense:N,restartTimer:I});}R=this;m.config.fTa && (v.rb(!this.P3),this.P3=n.ja.get(E.K0)(m.config.fTa,function(){var I;I=n.ja.get(q.Mba).ATa(R.j);R.Vd(I.code,I);}),this.j.zb.addListener(function(){return L();}),this.j.zr.addListener(function(){return L();}),this.j.ym.addListener(function(){return L();}),this.j.state.addListener(function(){return L();}),this.j.addEventListener(x.ba.o0a,function(){return L();}),this.j.addEventListener(x.ba.Wh,function(){return L();}),this.j.addEventListener(x.ba.kia,function(){return L();}),this.j.addEventListener(x.ba.YH,function(){return L(!0);}),L());m.config.K2a && (this.L2a=n.ja.get(E.K0)(m.config.K2a,function(){var I;0 === (null === (I=R.j.Tf) || void 0 === I?void 0:I.FC()) && (I=n.ja.get(q.Mba).ATa(R.j),R.Vd(I.code,I));R.j.zb.removeListener(H);}),this.j.zb.addListener(H),H());};c.prototype.Pzb=function(H,L){var R;R=this.j.lf;(R=K.Yoa(R)?R.xM():void 0) && H.type === f.Sb.gl.Jb && ((H=new J.yJ(this.log,{mediaType:J.Ej.Jb,url:"http://some-url"},L).oa(R))?L=H:!1);return L;};c.prototype.K7=function(){this.nn?this.Jl():m.config.kqb && this.Ag.Swa(this.mediaTime);};c.prototype.EXb=function(){!1;this.j.zb.set(x.cb.Jf);this.W6=!0;this.Jl();};c.prototype.gub=function(){var H;H=this;this.W6 && (!1,this.W6=!1,w.Nf(function(){return H.tOb();}));};c.prototype.b5=function(){return this.Ag.b5();};c.prototype.tOb=function(){var H,L;H=this.j.IC() || 0;if(this.j.ab.Al){if(m.config.Orb){H=H - (this.Ub.Xua + 1) - m.config.Wua;L=this.j.Na.xo().$c;H=Math.max(H,L);}}else (H-=m.config.jVb,H=Math.max(H,this.Po.Lpa));this.seek(H,x.ze.AR);};c.prototype.A8=function(H){var L;L=this;this.Ag.rWb(H);w.Nf(function(){return L.Jl();});};c.prototype.GEb=function(){return {N3:this.N3,o8:this.o8};};c.prototype.atb=function(H){var L;L=this.Ub && this.Ub.BXa();this.j.ou && L && Infinity !== H.d7a && (H=H.d7a + H.zu,H > this.j.ou.P4a(B.ka) && (this.j.ou=B.Hc(H)));return Promise.resolve();};c.prototype.EQb=function(){var H;H=this;this.Po.W8 && (!1,this.Jia() && this.Ag.vka(this.mediaTime) && (this.Ub.seek(this.mediaTime),this.Po.W8=!1,w.Nf(function(){return H.Jl();})));};c.prototype.x_b=function(H){var L;if(H < this.mediaTime){L=this.mediaTime - H;m.config.GQb && H && L > z.A0 && (H={ElementTime:u.Qi(H),MediaTime:u.Qi(this.mediaTime)},L > z.RIa?this.Vd(p.M.Rhb,{Bb:Object.assign({Trace:this.Ub.KC()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=u.ip(H,0,this.j.ou.da(B.ka));};c.prototype.Jia=function(){return this.j.zr.value === x.tf.oe && this.j.ym.value === x.tf.oe;};c.prototype.kub=function(){var H,L,R;H=this;L=this.j.zb.value;R=L;this.Po.lpa?R=x.cb.Jf:this.X && this.X.ended?L === x.cb.Ec && (R=x.cb.Wq):this.Jia() && this.Ag.vka(this.mediaTime)?this.Ub.Ryb()?R=this.X && this.X.paused?x.cb.Vg:x.cb.Ec:this.zYb.Il(function(){return H.yYb();}):R=this.j.ou?this.j.NYa(this.mediaTime,this.Ag.M3())?x.cb.Jf:x.cb.Wq:x.cb.Jf;return R;};c.prototype.sPb=function(){var H;if(this.j.zb.value === x.cb.Jf){H=this.Ag.gZb() > this.Ag.M3();this.j.ym.value !== x.tf.oe?this.j.Uh.value?(this.j.fireEvent(x.ba.uy,{cause:d.JHa}),this.log.warn("rebuffer due to timed text",this.j.Uh.value.kg)):this.j.fireEvent(x.ba.jP):H?(this.N3++,this.j.fireEvent(x.ba.uy,{cause:d.Eda})):(this.o8++,this.j.fireEvent(x.ba.uy,{cause:d.Fda}));}};c.prototype.yYb=function(){this.ak() || (m.config.xOb && this.Ag.wOb(),this.Jl());};c.prototype.xPb=function(){this.Jl();};c.prototype.D8=function(){this.Jl();this.j.fireEvent(x.ba.Rp);};c.prototype.aPb=function(){this.log.trace("Video element event: ended");this.Jl();};c.prototype.jPb=function(){this.log.trace("Video element event: play");this.Jl();};c.prototype.hPb=function(){this.log.trace("Video element event: pause");this.Jl();};c.prototype.pPb=function(){this.log.trace("Video element event: playing");this.Jl();};c.prototype.oxa=function(){this.ak() || (this.X && this.X.volume !== this.j.volume.value && (this.X.volume=this.j.volume.value),this.X && this.X.muted !== this.j.muted.value && (this.X.muted=this.j.muted.value));};c.prototype.haa=function(){!this.ak() && this.X && (this.X.playbackRate=this.j.playbackRate.value);};c.prototype.Jua=function(){var H;H=this;this.ak() || !y.Pc(this.X) || this.X.ended || !this.bsa || !this.wP && void 0 !== this.wP || (this.log.trace("Calling play on element"),Promise.resolve(this.X.play()).then(function(){H.closed || (H.wP=!1,H.Qsa=!1,H.X.style.display=null,H.j.Wh=!1,H.j.fireEvent(x.ba.kia,{j:H.j}));}).catch(function(L){"NotAllowedError" === L.name?(H.log.warn("Playback is blocked by the browser settings",L),H.j.Wh=!0,H.closed || (H.Qsa=!0,H.X.style.display="none",H.j.fireEvent(x.ba.Wh,{player:{play:function(){return H.Jua();}}}))):H.closed || (H.wP=!1,H.x4a || (H.x4a=!0,H.log.error("Play promise rejected",L)));}));};c.prototype.fPb=function(){this.Po.Lpa=this.j.IC() || 0;};c.prototype.Iua=function(){this.ak() || !y.Pc(this.X) || this.X.ended || !this.bsa || this.wP && void 0 !== this.wP || (this.log.trace("Calling pause on element"),this.X.pause(),this.wP=!0);};c.prototype.N$a=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.lCb();};c.prototype.seek=function(H,L,R,I){var P,N;R=void 0 === R?this.j.ya:R;I=void 0 === I?!1:I;N=null === (P=this.j.Na) || void 0 === P?void 0:P.Rh;!this.ak() && N && (this.j.fireEvent(x.ba.YH,{cause:L}),this.Po.mX={time:H,cause:L,ya:R,sCb:I},this.j.zb.set(x.cb.Jf),this.Jl());};c.prototype.FQb=function(){var H,L,R,I,P,N,M,Q;if(this.Po.mX){H=this.Po.mX;L=H.time;R=H.cause;I=H.ya;P=H.sCb;if(!this.Ag.yh() || R === x.ze.qx){H=this.j.im(I).J;N=this.Ag.yh()?void 0:this.Ag.vDb();N=this.Po.dFb(L,R,I,P,N);I=N.r8;P=N.Vj;M=N.gRb;N=N.Ai;this.Ag.eja(this.mediaTime);Q=this.mediaTime;L=u.Qi(L);this.j.LF("SEEKING: Requested: (" + H + ":" + R + ":" + L + ") - Actual: (contentPts: " + P + ",playerPts: " + (M + ", newMediaTime: " + I + ")"));this.log.info("Seeking",{Requested:L,Actual:u.Qi(I),Cause:R,Skip:N});R === x.ze.qx || N || (this.Ag.A6a(),this.Ag.mWb());this.mediaTime=I;this.Po.Lpa=P;L=this.j.gf.value;M=this.j.ke.value;this.j.gf.set(null);this.j.ke.set(null);this.N$a(!0);this.Po.mX=void 0;this.Po.W8=!0;this.j.fireEvent(x.ba.kk,{csa:Q,r8:I,Vj:P,cause:R,skip:N,gf:L,ke:M,J:H});N && this.Ag.skip(I);}}};c.prototype.Vd=function(H,L,R){this.closed || this.j.Vd(H,L,R);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Ag.close();this.Ub.removeEventListener(A.Dj.iY,this.S1a[A.Dj.iY]);this.Ub.removeEventListener(A.Dj.Rp,this.S1a[A.Dj.Rp]);this.X.removeEventListener("ended",this.Yw.ended);this.X.removeEventListener("play",this.Yw.play);this.X.removeEventListener("pause",this.Yw.pause);this.X.removeEventListener("playing",this.Yw.playing);g.df.removeListener(g.zl,this.DYa[g.zl]);this.closed=!0;try{m.config.NNb && (this.X.volume=0,this.X.muted=!0);this.Iua();this.Ub.close();}catch(H){}this.X=void 0;this.Ag.A6a();}};c.prototype.ak=function(){return this.closed?!0:y.Pc(this.X)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.tFa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xJa="SeekManagerFactorySymbol";},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;c=a(14);f=a(60);l=a(24);m=a(3);d=a(15);b.LBa=function(g,h,k){function n(q){var v,u;v=q.error || q;u=l.Jd(v);k.error("uncaught exception",v,u);(v=(v=v && v.stack) && c.config.u$a && c.config.b_b?0 <= v.indexOf(c.config.u$a):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.Vd(m.M.ZKa));}function p(){f.df.removeListener(f.Q5,n);g.removeEventListener(d.ba.fg,p);g.removeEventListener(d.ba.zq,p);}try{f.df.addListener(f.Q5,n);g.addEventListener(d.ba.fg,p);c.config.eIb && g.addEventListener(d.ba.zq,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.X0a=void 0;c=a(14);f=a(12);l=a(52);r=a(3);m=a(11);d=a(19);g=a(8);a=a(33);g.ja.get(a.oh).register(r.M.fDa,function(h){var n,p,q,v,u;function k(){var t;t=m.vx(l.aj() / q);if(t != u){for(var w=m.hp(t - u,30);w--;){v.push(0);}(w=m.Rn(v.length - 31,0)) && v.splice(0,w);u=t;}v[v.length - 1]++;}n=c.config.KLb;p=-6 / (n - 2 - 2);q=f.il;v=[];u=m.vx(l.aj() / q);d.opa(n) && (setInterval(k,1E3 / n),b.X0a={xEb:function(){var x;for(var t=[],w=v.length - 1;w--;){x=v[w];t.unshift(0 >= x?9:1 >= x?8:x >= n - 1?0:m.Oi((x - 2) * p + 7));}return t;}});h(f.Ve);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mda="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cHa="PboManifestRequestTransformerSymbol";},function(r,b,a){var f,l,m,d,g;function c(h,k){this.Ub=h;this.j=k;this.cW=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TP=void 0;r=a(1);f=a(3);l=a(0);m=a(19);d=a(30);g=a(8);c.prototype.K4=function(h){this.cW.forEach(function(k){return k(h);});};c.prototype.Vd=function(h,k,n){this.j.Vd(h,k,n);};c.prototype.qpb=function(h){-1 === this.cW.indexOf(h) && this.cW.push(h);};c.prototype.QTb=function(h){h=this.cW.indexOf(h);0 <= h && this.cW.splice(h,1);};c.prototype.zYa=function(h){var k,n;k={};m.Pc(h.code)?k.na=f.IBa(h.code):k.na=f.L.Aj;try{n=h.message.match(/\((\d*)\)/)[1];k.mf=g.sia(n,4);}catch(p){}k.Bb=d.Jd(h);return k;};a=r.__decorate([l.R()],c);b.TP=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qIa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uIa="PlaygraphStateFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Nda=void 0;a.prototype.Cqa=function(c){c=void 0 === c?{}:c;return {wj:c.trackingId,S2:c.authParams,Ro:c.sessionParams,ve:c.uiLabel,oaa:c.uxLabels,Oka:c.disableTrackStickiness,jZ:c.uiPlayStartTime,O4:c.forceAudioTrackId,P4:c.forceTimedTextTrackId,Al:c.isBranching,Iab:c.vuiCommand,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,$L:c.enableTrickPlay,joa:c.heartbeatCooldown,U6:c.isPlaygraph,q7:c.loadImmediately || !1,q4a:c.pin,vX:c.preciseSeeking,Y:c.startPts,Ha:c.endPts,fj:c.logicalEnd,D9:c.renderTimedText,YUa:c.extraManifestParams,Xha:c.assetId,Rqb:c.audioLanguages,NYb:c.textLanguages,vab:c.videoLanguage,Ko:c.packageId,wTa:c.desiredDownloadables,tua:c.requestReference};};b.Nda=a;},function(r,b,a){var f;function c(l,m,d,g,h){var k;k=this;this.yb=l;this.tk=m;this.Hu=d;this.Ob=g;this.Aq=h;this.n9=new Map();this.EWb();this.Ob.addListener(f.Ka.loaded,function(){return k.V4a();});}Object.defineProperty(b,"__esModule",{value:!0});b.HE=void 0;f=a(15);c.prototype.dPa=function(l){var m,d;m=this;d=Object.keys(this.yb.Vk.Aa).find(function(g){return m.yb.Vk.Aa[g].Z === l.J;});l.id || (l.id=null !== d && void 0 !== d?d:this.Aq.Zv(l.J));d || (this.yb.Vk=this.Aq.mqb(this.yb.Vk,l));d=this.OH(l.id);l.fj && this.yb.D_b(l.id,l.fj);return d;};c.prototype.o$a=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Vna=function(l,m){var d;d=this;m=void 0 === m?{}:m;return this.Hu.transition(l,m).then(function(){d.yb.Yh=l;});};c.prototype.close=function(l){return this.Hu.close(l);};c.prototype.isReady=function(){return this.Hu.JFb();};c.prototype.ln=function(){return this.Hu.ln();};c.prototype.FM=function(){return this.Hu.FM();};c.prototype.OH=function(l){this.n9.has(l) || this.n9.set(l,this.Hu.jo(this.bsb(l)));return this.n9.get(l);};c.prototype.EWb=function(){var l;l=this;this.Hu.addListener(f.TE.jY,function(){return l.Ob.vc(f.TE.jY);});Object.values(f.Ka).forEach(function(m){l.Hu.addListener(m,function(d){return l.Ob.vc(m,d);});});};c.prototype.xw=function(){this.V4a();};c.prototype.ksa=function(l){this.Hu.B_b({id:l,J:this.yb.Ne(l).Z,fj:this.yb.aGb(l)});};c.prototype.V4a=function(){var l,m;if(this.isReady()){l=this.yb.Yh;m=this.yb.ina(l);m && !this.n9.has(m) && (this.ksa(l),this.OH(m));}};c.prototype.bsb=function(l){var m,d,g,h;d=this.yb.Ne(l);g=this.tk.NM(d.Z);h=null === g || void 0 === g?void 0:g.Nb;g=null === g || void 0 === g?void 0:g.sa;return {id:l,J:d.Z,Y:d.wc,fj:null !== (m=null === h || void 0 === h?void 0:h.fj) && void 0 !== m?m:d.Oc,Nb:h,sa:g};};b.HE=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;b.bCa=function(a){var l,m,d,g;function c(){if(d)for(var h;h=l.pop();){h(g);}}function f(h){d=!0;g=h;c();}l=[];return function(h){l.push(h);m || (m=!0,a(f));c();};};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});b.a$a=void 0;c=a(73);f=a(12);l=a(14);m=a(50);d=a(52);g=a(8);h=a(3);k=a(24);n=a(70);p=a(11);q=a(121);v=a(33);u=a(38);t=a(34);w=a(17);b.a$a=(function(){var z,A,B,D;function x(E){var F,C,G;F="info";C="";G=g.ja.get(n.YE).sXa();E.$ || (F="error",C+="&errorcode=" + (E.errorCode || ""),C+="&errorsubcode=" + (E.na || ""));C="type=startup&sev=" + F + C + "&" + m.MN(k.Xb({},G,{prefix:"m_"}));!1;y("startup",C,z);}function y(E,F,C){C && A && l.config.c$a[E] && (E=B + "&jsoffms=" + d.aj() + "&do=" + p.hf.onLine + "&" + F + "&" + m.MN(k.Xb({},D.jd,{prefix:"im_"})),!1,c.ef.download({url:C,cta:E,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},tC:"track"},f.jl));}A=!1;B="";g.Di("TrackingLog");D=g.ja.get(v.oh);D.register(h.M.kDa,function(E){var F,C,G;if(A=l.config.b$a && ! !l.config.Kwa){z=g.ja.get(q.bJ).host + l.config.Kwa;F=g.ja.get(t.xk);C=g.ja.get(t.rB);G=g.ja.get(w.cd).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.Ry) + "&ep=" + encodeURIComponent(C.v_) + "&ver=" + encodeURIComponent("0.0032.989.910") + "&jssid=" + G + "&browserua=" + p.qB;l.config.nz && (B+="&groupname=" + encodeURIComponent(l.config.nz));l.config.QI && (B+="&uigroupname=" + encodeURIComponent(l.config.QI));F=B;C=g.ja.get(u.qR);C=k.Xb({},C,{prefix:"pi_"});C="&" + m.MN(C);B=F + C;D.gW(x);}E(f.Ve);});return y;})();},function(r,b,a){var f,l,m,d,g;function c(h){var k;f.Di("MediaSourceASE").trace("Inside MediaSourceASE");k=h.kV();this.readyState=g.Kc.CLOSED;this.sourceBuffers=k.sourceBuffers;this.addSourceBuffer=function(n){return k.addSourceBuffer(n);};this.A2=function(n){return k.A2(n);};this.removeSourceBuffer=function(n){return k.removeSourceBuffer(n);};this.Tp=function(n){return k.Tp(n);};this.zY=d++;this.duration=void 0;k.JVb(this.zY);this.readyState=g.Kc.OPEN;this.dc=l.ja.get(m.Zf).rH(g.dc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;f=a(8);l=a(8);m=a(29);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Jj;},set:function(h){var k;this.Jj=h || Infinity;k=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.Jj=k;});}});g={Kc:{CLOSED:0,OPEN:1,Wq:2,name:["CLOSED","OPEN","ENDED"]},dc:{HRa:!0,w2a:!0}};b.yFa=Object.assign(c,g);},function(r,b,a){var h,k,n,p,q,v,u,t;function c(w){return w.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function f(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function l(w,x,y){var z;if("string" === typeof w)return l.call(this,c(w),x,y);z=0;Object.keys(w).forEach(function(A){var B,D,E;B=q[A];D=w[A];if(B){if(E=v[A] || t[typeof h[B]])try{D=E(D);}catch(F){y && y.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}E=p[B];this[B]=D;p[B] !== E && (y && y.debug("Config changed for '" + A + "' from " + f(E) + " (" + typeof E + ") to " + f(D) + " (" + typeof D + ")"),++z);}else x?(B=(B=u[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),u[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(w,x){var y,z;y=q[x];z=w[y];z?(z.push(x),w[y]=z.sort(function(A,B){return B.length - A.length;})):w[y]=[x];return w;},{});}function d(w,x){return w.hasOwnProperty(x)?f(w[x]):void 0;}function g(w,x){return "undefined" === typeof w?x:w;}b=a(86);a=a(1250).EventEmitter;h={};k=Object.create(h);n=Object.create(k);p=Object.create(n);q={};v={};u={};p.declare=function(w){Object.keys(w).forEach(function(x){var y,z,A,B;y=w[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var E;if(q.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);q[D]=x;"function" === typeof B && (v[D]=B);if(E=u[D])(E.forEach(function(F){var C,G;C=F[0];G={};G[D]=F[1];l.call(C,G,!1);}),delete u[D]);});});return p;};t={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=l.bind(k);p.eX=l.bind(n);p.dump=function(w,x){var z,A,B,D;function y(){D && w && w.log("===========================================");}z=Object.keys(u).sort();A={};B=m();x=g(x,!0);Object.keys(q).sort().forEach(function(E){var F,C,G;E=q[E];if(!A[E]){A[E]=!0;F=d(k,E);C=d(n,E);if(x || "undefined" !== typeof F || "undefined" !== typeof C){G=B[E].join(",");G+=" = " + f(p[E]) + " (" + typeof p[E] + ") [";G+=g(C,"<unset>") + ",";G+=g(F,"<unset>") + ",";G+=d(h,E) + "]";D || (D=!0,w && w.log("Current config values"),y());w && w.log(G);}}});(x || z.length) && w && w.log("<undeclared> :",z);y();};p.tt=function(w){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});w && l.call(x,w);return x;};p.p4a=function(){var w;w=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[w[y][0]]=k[y];return x;},{});};p.reset=function(){Object.keys(k).forEach(function(w){delete k[w];});};p.xd={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var f;function c(l){for(var m="",d=0;d < l.length;d++){m+=l[d].Z + "|";}return m;}f=a(304);r.exports={assert:function(l,m){if(!l)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},k9b:function(l,m,d){Array.prototype.splice.apply(l,[m,0].concat(d));},LDb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.PQ.Ncb){m=l[d].list;break;}}return m;},sDb:function(l){for(var m=[],d=0;d < l.length;d++){if(l[d].context === f.PQ.Fbb){m=l[d].list;break;}}return m;},Myb:function(l,m){for(var d=0,g,h,k,n=0,p=l.length - 1;n < p;n++){g=c(l[n].list || []);k=!1;for(var q=0,v=m.length;q < v;q++){if((h=c(m[q].list || []),h == g)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},MOb:function(l,m,d){for(var g=[],h,k=0;k < Math.min(m,l.length);k++){h=l[k].list || [];g=g.concat(h.slice(0,d));}return g;},LOb:function(l,m){for(var d=[],g,h=0;h < l.length && (g=l[h].list || [],g=g.slice(0,Math.min(g.length,m)),m-=g.length,d=d.concat(g),0 !== m);h++){;}return d;},KOb:function(l,m,d){var g;m < l.length && 0 <= m && (l=l[m].list || [],d < l.length && (g=l[d]));return g;},sVa:function(l){for(var m={},d=l.length,g,h=0;h < d;h++){g=l[h].list || [];for(var k=0;k < g.length;k++){if(g[k].property === f.xJ.kR || g[k].property === f.xJ.gAa){m.lk=h;m.$l=k;break;}}}void 0 === m.lk && void 0 === m.$l && (m.lk=0,m.$l=0);return m;}};},function(r,b,a){var m;function c(d,g,h,k,n,p,q){this.rZ=k;this.Zab=d;this.J2a=g;this.rra=h;this.XJb=p;this.MD=q;this.split=n;}function f(){this.K={};this.K["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.K["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.K["3"]=new c("7","8","7","10","1.5",0,0);this.K["7"]=new c("15","16","15","9","4.5",0,0);this.K["15"]=new c("31","32","31","2","5.5",0,0);this.K["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.K["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.K["123"]=new c("123","124","123","0","0",1,.207298);this.K["124"]=new c("123","124","123","0","0",1,.49076);this.K["64"]=new c("125","126","125","4","40.5",0,0);this.K["125"]=new c("125","126","125","0","0",1,-.00157835);this.K["126"]=new c("125","126","125","0","0",1,.934205);this.K["32"]=new c("65","66","65","135","5.5",0,0);this.K["65"]=new c("127","128","128","4","1272.5",0,0);this.K["127"]=new c("127","128","128","0","0",1,-.510333);this.K["128"]=new c("127","128","128","0","0",1,.18363);this.K["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.K["129"]=new c("129","130","129","0","0",1,-.0464542);this.K["130"]=new c("129","130","129","0","0",1,.458833);this.K["16"]=new c("33","34","34","10","2.00001",0,0);this.K["33"]=new c("67","68","67","0","29.5",0,0);this.K["67"]=new c("131","132","131","2","39.5",0,0);this.K["131"]=new c("131","132","131","0","0",1,-.37577);this.K["132"]=new c("131","132","131","0","0",1,.512087);this.K["68"]=new c("133","134","134","140","1.5",0,0);this.K["133"]=new c("133","134","134","0","0",1,.321272);this.K["134"]=new c("133","134","134","0","0",1,-.675396);this.K["34"]=new c("69","70","70","2","24.5",0,0);this.K["69"]=new c("135","136","136","9","28.5",0,0);this.K["135"]=new c("135","136","136","0","0",1,-.0573845);this.K["136"]=new c("135","136","136","0","0",1,-.507455);this.K["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.K["137"]=new c("137","138","137","0","0",1,-.503909);this.K["138"]=new c("137","138","137","0","0",1,.450886);this.K["8"]=new c("17","18","17","4","44189.5",0,0);this.K["17"]=new c("35","36","35","2","21.5",0,0);this.K["35"]=new c("71","72","72","0","19.5",0,0);this.K["71"]=new c("139","140","140","9","2.5",0,0);this.K["139"]=new c("139","140","140","0","0",1,.00403497);this.K["140"]=new c("139","140","140","0","0",1,-.312656);this.K["72"]=new c("141","142","141","135","96",0,0);this.K["141"]=new c("141","142","141","0","0",1,-.465786);this.K["142"]=new c("141","142","141","0","0",1,.159633);this.K["36"]=new c("73","74","73","130","89.5",0,0);this.K["73"]=new c("143","144","144","10","4.5",0,0);this.K["143"]=new c("143","144","144","0","0",1,-.76265);this.K["144"]=new c("143","144","144","0","0",1,-.580804);this.K["74"]=new c("145","146","146","10","16.5",0,0);this.K["145"]=new c("145","146","146","0","0",1,.296357);this.K["146"]=new c("145","146","146","0","0",1,-.691659);this.K["18"]=new c("37","38","38","9","1.5",0,0);this.K["37"]=new c("37","38","38","0","0",1,.993951);this.K["38"]=new c("75","76","75","0","19",0,0);this.K["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.K["147"]=new c("147","148","147","0","0",1,-.346535);this.K["148"]=new c("147","148","147","0","0",1,-.995745);this.K["76"]=new c("147","148","147","0","0",1,-.99978);this.K["4"]=new c("9","10","9","5","4.5",0,0);this.K["9"]=new c("19","20","19","2","4.5",0,0);this.K["19"]=new c("39","40","39","140","7.5",0,0);this.K["39"]=new c("77","78","78","134","6.5",0,0);this.K["77"]=new c("149","150","150","7","11.5",0,0);this.K["149"]=new c("149","150","150","0","0",1,.729843);this.K["150"]=new c("149","150","150","0","0",1,.383857);this.K["78"]=new c("151","152","151","133","4.5",0,0);this.K["151"]=new c("151","152","151","0","0",1,.39017);this.K["152"]=new c("151","152","151","0","0",1,.0434342);this.K["40"]=new c("79","80","79","133","3.5",0,0);this.K["79"]=new c("153","154","154","8","4.5",0,0);this.K["153"]=new c("153","154","154","0","0",1,-.99536);this.K["154"]=new c("153","154","154","0","0",1,-.00943396);this.K["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.K["155"]=new c("155","156","155","0","0",1,.266272);this.K["156"]=new c("155","156","155","0","0",1,.959904);this.K["20"]=new c("41","42","42","10","65.5",0,0);this.K["41"]=new c("81","82","82","7","10.5",0,0);this.K["81"]=new c("157","158","158","2","37.5",0,0);this.K["157"]=new c("157","158","158","0","0",1,-.701873);this.K["158"]=new c("157","158","158","0","0",1,.224649);this.K["82"]=new c("159","160","159","133","9.5",0,0);this.K["159"]=new c("159","160","159","0","0",1,.0955181);this.K["160"]=new c("159","160","159","0","0",1,-.58962);this.K["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.K["83"]=new c("161","162","161","135","31",0,0);this.K["161"]=new c("161","162","161","0","0",1,-.229692);this.K["162"]=new c("161","162","161","0","0",1,.88595);this.K["84"]=new c("163","164","164","1","13.5",0,0);this.K["163"]=new c("163","164","164","0","0",1,-.992157);this.K["164"]=new c("163","164","164","0","0",1,.922159);this.K["10"]=new c("21","22","22","4","486",0,0);this.K["21"]=new c("43","44","44","133","4.5",0,0);this.K["43"]=new c("85","86","86","10","4.5",0,0);this.K["85"]=new c("165","166","166","4","158.5",0,0);this.K["165"]=new c("165","166","166","0","0",1,-.127778);this.K["166"]=new c("165","166","166","0","0",1,.955189);this.K["86"]=new c("165","166","166","0","0",1,-.994012);this.K["44"]=new c("87","88","88","1","3.5",0,0);this.K["87"]=new c("167","168","168","135","7",0,0);this.K["167"]=new c("167","168","168","0","0",1,-.997015);this.K["168"]=new c("167","168","168","0","0",1,.400821);this.K["88"]=new c("169","170","169","130","36",0,0);this.K["169"]=new c("169","170","169","0","0",1,-.898638);this.K["170"]=new c("169","170","169","0","0",1,.56129);this.K["22"]=new c("45","46","45","9","2.5",0,0);this.K["45"]=new c("89","90","90","9","1.5",0,0);this.K["89"]=new c("171","172","171","10","10.5",0,0);this.K["171"]=new c("171","172","171","0","0",1,.573986);this.K["172"]=new c("171","172","171","0","0",1,-.627266);this.K["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.K["173"]=new c("173","174","173","0","0",1,.925273);this.K["174"]=new c("173","174","173","0","0",1,-.994805);this.K["46"]=new c("91","92","91","136","5.5",0,0);this.K["91"]=new c("175","176","175","10","10.5",0,0);this.K["175"]=new c("175","176","175","0","0",1,.548352);this.K["176"]=new c("175","176","175","0","0",1,-.879195);this.K["92"]=new c("177","178","178","8","14.5",0,0);this.K["177"]=new c("177","178","178","0","0",1,.457305);this.K["178"]=new c("177","178","178","0","0",1,-.998992);this.K["2"]=new c("5","6","5","10","2.5",0,0);this.K["5"]=new c("11","12","11","9","4.5",0,0);this.K["11"]=new c("23","24","24","10","4.00001",0,0);this.K["23"]=new c("47","48","48","133","5.5",0,0);this.K["47"]=new c("93","94","93","3","13.5",0,0);this.K["93"]=new c("179","180","179","138","15.5",0,0);this.K["179"]=new c("179","180","179","0","0",1,.658398);this.K["180"]=new c("179","180","179","0","0",1,-.927007);this.K["94"]=new c("181","182","182","3","15.5",0,0);this.K["181"]=new c("181","182","182","0","0",1,-.111351);this.K["182"]=new c("181","182","182","0","0",1,-.99827);this.K["48"]=new c("95","96","95","7","167",0,0);this.K["95"]=new c("183","184","183","132","36.5",0,0);this.K["183"]=new c("183","184","183","0","0",1,.895161);this.K["184"]=new c("183","184","183","0","0",1,-.765217);this.K["96"]=new c("185","186","186","137","6.00001",0,0);this.K["185"]=new c("185","186","186","0","0",1,-.851095);this.K["186"]=new c("185","186","186","0","0",1,.674286);this.K["24"]=new c("49","50","49","137","5.5",0,0);this.K["49"]=new c("97","98","97","5","23.5",0,0);this.K["97"]=new c("187","188","187","3","28.5",0,0);this.K["187"]=new c("187","188","187","0","0",1,.951654);this.K["188"]=new c("187","188","187","0","0",1,-.993808);this.K["98"]=new c("187","188","187","0","0",1,-.99705);this.K["50"]=new c("187","188","187","0","0",1,-.997525);this.K["12"]=new c("25","26","25","8","8.5",0,0);this.K["25"]=new c("51","52","52","10","4.00001",0,0);this.K["51"]=new c("99","100","100","133","5.5",0,0);this.K["99"]=new c("189","190","190","7","40.5",0,0);this.K["189"]=new c("189","190","190","0","0",1,.151839);this.K["190"]=new c("189","190","190","0","0",1,-.855517);this.K["100"]=new c("191","192","192","133","14.5",0,0);this.K["191"]=new c("191","192","192","0","0",1,.86223);this.K["192"]=new c("191","192","192","0","0",1,.544394);this.K["52"]=new c("101","102","101","135","47.5",0,0);this.K["101"]=new c("193","194","194","4","24.5",0,0);this.K["193"]=new c("193","194","194","0","0",1,.946185);this.K["194"]=new c("193","194","194","0","0",1,.811859);this.K["102"]=new c("193","194","194","0","0",1,-.991561);this.K["26"]=new c("53","54","54","132","6.5",0,0);this.K["53"]=new c("103","104","103","131","85",0,0);this.K["103"]=new c("195","196","196","134","16.5",0,0);this.K["195"]=new c("195","196","196","0","0",1,.0473538);this.K["196"]=new c("195","196","196","0","0",1,-.999401);this.K["104"]=new c("197","198","198","8","15.5",0,0);this.K["197"]=new c("197","198","198","0","0",1,.816129);this.K["198"]=new c("197","198","198","0","0",1,-.99322);this.K["54"]=new c("105","106","105","133","3.5",0,0);this.K["105"]=new c("105","106","105","0","0",1,-.998783);this.K["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.K["199"]=new c("199","200","199","0","0",1,.528588);this.K["200"]=new c("199","200","199","0","0",1,-.998599);this.K["6"]=new c("13","14","14","10","7.5",0,0);this.K["13"]=new c("27","28","28","133","7.5",0,0);this.K["27"]=new c("55","56","56","10","4.5",0,0);this.K["55"]=new c("107","108","107","3","3.5",0,0);this.K["107"]=new c("201","202","201","4","17.5",0,0);this.K["201"]=new c("201","202","201","0","0",1,-.379512);this.K["202"]=new c("201","202","201","0","0",1,.15165);this.K["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.K["203"]=new c("203","204","203","0","0",1,-.884606);this.K["204"]=new c("203","204","203","0","0",1,.265406);this.K["56"]=new c("109","110","109","136","6.5",0,0);this.K["109"]=new c("205","206","205","4","157.5",0,0);this.K["205"]=new c("205","206","205","0","0",1,-.0142737);this.K["206"]=new c("205","206","205","0","0",1,.691279);this.K["110"]=new c("205","206","205","0","0",1,-.998086);this.K["28"]=new c("57","58","58","138","11.5",0,0);this.K["57"]=new c("111","112","112","2","6.5",0,0);this.K["111"]=new c("207","208","208","7","67.5",0,0);this.K["207"]=new c("207","208","208","0","0",1,.763925);this.K["208"]=new c("207","208","208","0","0",1,-.309645);this.K["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.K["209"]=new c("209","210","209","0","0",1,-.306635);this.K["210"]=new c("209","210","209","0","0",1,.556696);this.K["58"]=new c("113","114","113","138","50.5",0,0);this.K["113"]=new c("211","212","212","8","25.5",0,0);this.K["211"]=new c("211","212","212","0","0",1,.508234);this.K["212"]=new c("211","212","212","0","0",1,.793551);this.K["114"]=new c("211","212","212","0","0",1,-.998438);this.K["14"]=new c("29","30","29","134","27.5",0,0);this.K["29"]=new c("59","60","60","7","17.5",0,0);this.K["59"]=new c("115","116","115","135","5.5",0,0);this.K["115"]=new c("213","214","214","137","5.5",0,0);this.K["213"]=new c("213","214","214","0","0",1,.401747);this.K["214"]=new c("213","214","214","0","0",1,.0367503);this.K["116"]=new c("215","216","216","8","5.5",0,0);this.K["215"]=new c("215","216","216","0","0",1,-.0241984);this.K["216"]=new c("215","216","216","0","0",1,-.999046);this.K["60"]=new c("117","118","117","0","12.5",0,0);this.K["117"]=new c("217","218","218","132","5.5",0,0);this.K["217"]=new c("217","218","218","0","0",1,-.997294);this.K["218"]=new c("217","218","218","0","0",1,.210398);this.K["118"]=new c("219","220","219","137","1.5",0,0);this.K["219"]=new c("219","220","219","0","0",1,-.55763);this.K["220"]=new c("219","220","219","0","0",1,.074493);this.K["30"]=new c("61","62","62","133","42.5",0,0);this.K["61"]=new c("119","120","119","135","5.5",0,0);this.K["119"]=new c("221","222","222","4","473.5",0,0);this.K["221"]=new c("221","222","222","0","0",1,-.920213);this.K["222"]=new c("221","222","222","0","0",1,-.17615);this.K["120"]=new c("223","224","224","5","144",0,0);this.K["223"]=new c("223","224","224","0","0",1,-.954295);this.K["224"]=new c("223","224","224","0","0",1,-.382538);this.K["62"]=new c("121","122","121","133","50",0,0);this.K["121"]=new c("225","226","226","10","18.5",0,0);this.K["225"]=new c("225","226","226","0","0",1,-.0731343);this.K["226"]=new c("225","226","226","0","0",1,.755454);this.K["122"]=new c("227","228","228","0","30",0,0);this.K["227"]=new c("227","228","228","0","0",1,.25);this.K["228"]=new c("227","228","228","0","0",1,-.997101);}function l(d,g,h,k,n,p){this.Q9=n;this.t3=p;}b=a(546);m=a(303);a={};a.Mqb=new (function(){this.clb=m();this.G=0;this.update=function(){this.G=m() - this.clb;};this.getValue=function(){return this.G;};this.type="num";})();a.PKb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouAdded" === h.Ya[d].context || null;};this.type="cat";})();a.QKb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouLiked" === h.Ya[d].context || null;};this.type="cat";})();a.SKb=new (function(){this.getValue=function(d,g,h){return this.G="billboard" === h.Ya[d].context || null;};this.type="cat";})();a.TKb=new (function(){this.getValue=function(d,g,h){return this.G="continueWatching" === h.Ya[d].context || null;};this.type="cat";})();a.RKb=new (function(){this.getValue=function(d,g,h){return this.G="bigRow" === h.Ya[d].context || null;};this.type="cat";})();a.UKb=new (function(){this.getValue=function(d,g,h){return this.G="genre" === h.Ya[d].context || null;};this.type="cat";})();a.VKb=new (function(){this.getValue=function(d,g,h){return this.G="netflixOriginals" === h.Ya[d].context || null;};this.type="cat";})();a.WKb=new (function(){this.getValue=function(d,g,h){return this.G="newRelease" === h.Ya[d].context || null;};this.type="cat";})();a.XKb=new (function(){this.getValue=function(d,g,h){return this.G="popularTitles" === h.Ya[d].context || null;};this.type="cat";})();a.YKb=new (function(){this.getValue=function(d,g,h){return this.G="queue" === h.Ya[d].context || null;};this.type="cat";})();a.ZKb=new (function(){this.getValue=function(d,g,h){return this.G="recentlyAdded" === h.Ya[d].context || null;};this.type="cat";})();a.$Kb=new (function(){this.getValue=function(d,g,h){return this.G="similars" === h.Ya[d].context || null;};this.type="cat";})();a.bLb=new (function(){this.getValue=function(d,g,h){return this.G="trendingNow" === h.Ya[d].context || null;};this.type="cat";})();a.cLb=new (function(){this.getValue=function(d,g,h){return this.G="ultraHD" === h.Ya[d].context || null;};this.type="cat";})();a.dLb=new (function(){this.getValue=function(d,g,h){return this.G="watchAgain" === h.Ya[d].context || null;};this.type="cat";})();a.aLb=new (function(){this.getValue=function(d,g,h){return this.G="topTen" === h.Ya[d].context || null;};this.type="cat";})();a.wrb=new (function(){this.update=function(d){for(var g in d.Ya){if("becauseYouAdded" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.xrb=new (function(){this.update=function(d){for(var g in d.Ya){if("becauseYouLiked" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Arb=new (function(){this.update=function(d){for(var g in d.Ya){if("billboard" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Gub=new (function(){this.update=function(d){for(var g in d.Ya){if("continueWatching" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.zrb=new (function(){this.update=function(d){for(var g in d.Ya){if("bigRow" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.WCb=new (function(){this.update=function(d){for(var g in d.Ya){if("genre" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.QNb=new (function(){this.update=function(d){for(var g in d.Ya){if("netflixOriginals" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.SNb=new (function(){this.update=function(d){for(var g in d.Ya){if("newRelease" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.sRb=new (function(){this.update=function(d){for(var g in d.Ya){if("popularTitles" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.No=new (function(){this.update=function(d){for(var g in d.Ya){if("queue" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.cTb=new (function(){this.update=function(d){for(var g in d.Ya){if("recentlyAdded" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.hXb=new (function(){this.update=function(d){for(var g in d.Ya){if("similars" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.IZb=new (function(){this.update=function(d){for(var g in d.Ya){if("trendingNow" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.$Zb=new (function(){this.update=function(d){for(var g in d.Ya){if("ultraHD" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.W0b=new (function(){this.update=function(d){for(var g in d.Ya){if("watchAgain" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.rZb=new (function(){this.update=function(d){for(var g in d.Ya){if("topTen" === d.Ya[g].context){this.G=Math.max(d.Ya[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Rub=new (function(){this.getValue=function(d,g,h){return this.G="AR" === h.Xa || null;};this.type="cat";})();a.Sub=new (function(){this.getValue=function(d,g,h){return this.G="AT" === h.Xa || null;};this.type="cat";})();a.Tub=new (function(){this.getValue=function(d,g,h){return this.G="AU" === h.Xa || null;};this.type="cat";})();a.Uub=new (function(){this.getValue=function(d,g,h){return this.G="AZ" === h.Xa || null;};this.type="cat";})();a.Vub=new (function(){this.getValue=function(d,g,h){return this.G="BB" === h.Xa || null;};this.type="cat";})();a.Wub=new (function(){this.getValue=function(d,g,h){return this.G="BE" === h.Xa || null;};this.type="cat";})();a.Xub=new (function(){this.getValue=function(d,g,h){return this.G="BO" === h.Xa || null;};this.type="cat";})();a.Yub=new (function(){this.getValue=function(d,g,h){return this.G="BR" === h.Xa || null;};this.type="cat";})();a.Zub=new (function(){this.getValue=function(d,g,h){return this.G="BS" === h.Xa || null;};this.type="cat";})();a.$ub=new (function(){this.getValue=function(d,g,h){return this.G="CA" === h.Xa || null;};this.type="cat";})();a.avb=new (function(){this.getValue=function(d,g,h){return this.G="CH" === h.Xa || null;};this.type="cat";})();a.bvb=new (function(){this.getValue=function(d,g,h){return this.G="CL" === h.Xa || null;};this.type="cat";})();a.cvb=new (function(){this.getValue=function(d,g,h){return this.G="CO" === h.Xa || null;};this.type="cat";})();a.dvb=new (function(){this.getValue=function(d,g,h){return this.G="CR" === h.Xa || null;};this.type="cat";})();a.evb=new (function(){this.getValue=function(d,g,h){return this.G="CW" === h.Xa || null;};this.type="cat";})();a.fvb=new (function(){this.getValue=function(d,g,h){return this.G="DE" === h.Xa || null;};this.type="cat";})();a.gvb=new (function(){this.getValue=function(d,g,h){return this.G="DK" === h.Xa || null;};this.type="cat";})();a.hvb=new (function(){this.getValue=function(d,g,h){return this.G="DM" === h.Xa || null;};this.type="cat";})();a.ivb=new (function(){this.getValue=function(d,g,h){return this.G="DO" === h.Xa || null;};this.type="cat";})();a.jvb=new (function(){this.getValue=function(d,g,h){return this.G="EC" === h.Xa || null;};this.type="cat";})();a.kvb=new (function(){this.getValue=function(d,g,h){return this.G="EE" === h.Xa || null;};this.type="cat";})();a.lvb=new (function(){this.getValue=function(d,g,h){return this.G="EG" === h.Xa || null;};this.type="cat";})();a.mvb=new (function(){this.getValue=function(d,g,h){return this.G="ES" === h.Xa || null;};this.type="cat";})();a.nvb=new (function(){this.getValue=function(d,g,h){return this.G="FI" === h.Xa || null;};this.type="cat";})();a.ovb=new (function(){this.getValue=function(d,g,h){return this.G="FR" === h.Xa || null;};this.type="cat";})();a.pvb=new (function(){this.getValue=function(d,g,h){return this.G="GB" === h.Xa || null;};this.type="cat";})();a.qvb=new (function(){this.getValue=function(d,g,h){return this.G="GF" === h.Xa || null;};this.type="cat";})();a.rvb=new (function(){this.getValue=function(d,g,h){return this.G="GP" === h.Xa || null;};this.type="cat";})();a.svb=new (function(){this.getValue=function(d,g,h){return this.G="GT" === h.Xa || null;};this.type="cat";})();a.tvb=new (function(){this.getValue=function(d,g,h){return this.G="HK" === h.Xa || null;};this.type="cat";})();a.uvb=new (function(){this.getValue=function(d,g,h){return this.G="HN" === h.Xa || null;};this.type="cat";})();a.vvb=new (function(){this.getValue=function(d,g,h){return this.G="HR" === h.Xa || null;};this.type="cat";})();a.wvb=new (function(){this.getValue=function(d,g,h){return this.G="HU" === h.Xa || null;};this.type="cat";})();a.xvb=new (function(){this.getValue=function(d,g,h){return this.G="ID" === h.Xa || null;};this.type="cat";})();a.yvb=new (function(){this.getValue=function(d,g,h){return this.G="IE" === h.Xa || null;};this.type="cat";})();a.zvb=new (function(){this.getValue=function(d,g,h){return this.G="IL" === h.Xa || null;};this.type="cat";})();a.Avb=new (function(){this.getValue=function(d,g,h){return this.G="IN" === h.Xa || null;};this.type="cat";})();a.Bvb=new (function(){this.getValue=function(d,g,h){return this.G="IT" === h.Xa || null;};this.type="cat";})();a.Cvb=new (function(){this.getValue=function(d,g,h){return this.G="JE" === h.Xa || null;};this.type="cat";})();a.Dvb=new (function(){this.getValue=function(d,g,h){return this.G="JM" === h.Xa || null;};this.type="cat";})();a.Evb=new (function(){this.getValue=function(d,g,h){return this.G="JP" === h.Xa || null;};this.type="cat";})();a.Fvb=new (function(){this.getValue=function(d,g,h){return this.G="KE" === h.Xa || null;};this.type="cat";})();a.Gvb=new (function(){this.getValue=function(d,g,h){return this.G="KN" === h.Xa || null;};this.type="cat";})();a.Hvb=new (function(){this.getValue=function(d,g,h){return this.G="KR" === h.Xa || null;};this.type="cat";})();a.Ivb=new (function(){this.getValue=function(d,g,h){return this.G="LU" === h.Xa || null;};this.type="cat";})();a.Jvb=new (function(){this.getValue=function(d,g,h){return this.G="MK" === h.Xa || null;};this.type="cat";})();a.Kvb=new (function(){this.getValue=function(d,g,h){return this.G="MU" === h.Xa || null;};this.type="cat";})();a.Lvb=new (function(){this.getValue=function(d,g,h){return this.G="MX" === h.Xa || null;};this.type="cat";})();a.Mvb=new (function(){this.getValue=function(d,g,h){return this.G="MY" === h.Xa || null;};this.type="cat";})();a.Nvb=new (function(){this.getValue=function(d,g,h){return this.G="NI" === h.Xa || null;};this.type="cat";})();a.Ovb=new (function(){this.getValue=function(d,g,h){return this.G="NL" === h.Xa || null;};this.type="cat";})();a.Pvb=new (function(){this.getValue=function(d,g,h){return this.G="NO" === h.Xa || null;};this.type="cat";})();a.Qvb=new (function(){this.getValue=function(d,g,h){return this.G="NZ" === h.Xa || null;};this.type="cat";})();a.Rvb=new (function(){this.getValue=function(d,g,h){return this.G="OM" === h.Xa || null;};this.type="cat";})();a.Svb=new (function(){this.getValue=function(d,g,h){return this.G="PA" === h.Xa || null;};this.type="cat";})();a.Tvb=new (function(){this.getValue=function(d,g,h){return this.G="PE" === h.Xa || null;};this.type="cat";})();a.Uvb=new (function(){this.getValue=function(d,g,h){return this.G="PF" === h.Xa || null;};this.type="cat";})();a.Vvb=new (function(){this.getValue=function(d,g,h){return this.G="PH" === h.Xa || null;};this.type="cat";})();a.Wvb=new (function(){this.getValue=function(d,g,h){return this.G="PK" === h.Xa || null;};this.type="cat";})();a.Xvb=new (function(){this.getValue=function(d,g,h){return this.G="PL" === h.Xa || null;};this.type="cat";})();a.Yvb=new (function(){this.getValue=function(d,g,h){return this.G="PT" === h.Xa || null;};this.type="cat";})();a.Zvb=new (function(){this.getValue=function(d,g,h){return this.G="PY" === h.Xa || null;};this.type="cat";})();a.$vb=new (function(){this.getValue=function(d,g,h){return this.G="QA" === h.Xa || null;};this.type="cat";})();a.awb=new (function(){this.getValue=function(d,g,h){return this.G="RO" === h.Xa || null;};this.type="cat";})();a.bwb=new (function(){this.getValue=function(d,g,h){return this.G="RS" === h.Xa || null;};this.type="cat";})();a.cwb=new (function(){this.getValue=function(d,g,h){return this.G="RU" === h.Xa || null;};this.type="cat";})();a.dwb=new (function(){this.getValue=function(d,g,h){return this.G="SA" === h.Xa || null;};this.type="cat";})();a.ewb=new (function(){this.getValue=function(d,g,h){return this.G="SE" === h.Xa || null;};this.type="cat";})();a.fwb=new (function(){this.getValue=function(d,g,h){return this.G="SG" === h.Xa || null;};this.type="cat";})();a.gwb=new (function(){this.getValue=function(d,g,h){return this.G="SV" === h.Xa || null;};this.type="cat";})();a.hwb=new (function(){this.getValue=function(d,g,h){return this.G="SX" === h.Xa || null;};this.type="cat";})();a.iwb=new (function(){this.getValue=function(d,g,h){return this.G="TH" === h.Xa || null;};this.type="cat";})();a.jwb=new (function(){this.getValue=function(d,g,h){return this.G="TR" === h.Xa || null;};this.type="cat";})();a.kwb=new (function(){this.getValue=function(d,g,h){return this.G="TT" === h.Xa || null;};this.type="cat";})();a.lwb=new (function(){this.getValue=function(d,g,h){return this.G="TW" === h.Xa || null;};this.type="cat";})();a.mwb=new (function(){this.getValue=function(d,g,h){return this.G="US" === h.Xa || null;};this.type="cat";})();a.nwb=new (function(){this.getValue=function(d,g,h){return this.G="UY" === h.Xa || null;};this.type="cat";})();a.owb=new (function(){this.getValue=function(d,g,h){return this.G="VE" === h.Xa || null;};this.type="cat";})();a.pwb=new (function(){this.getValue=function(d,g,h){return this.G="ZA" === h.Xa || null;};this.type="cat";})();a.eTb=new (function(){this.getValue=function(d,g,h){return this.G=1 === h.gi || null;};this.type="cat";})();a.fTb=new (function(){this.getValue=function(d,g,h){return this.G=10 === h.gi || null;};this.type="cat";})();a.gTb=new (function(){this.getValue=function(d,g,h){return this.G=11 === h.gi || null;};this.type="cat";})();a.hTb=new (function(){this.getValue=function(d,g,h){return this.G=12 === h.gi || null;};this.type="cat";})();a.iTb=new (function(){this.getValue=function(d,g,h){return this.G=13 === h.gi || null;};this.type="cat";})();a.jTb=new (function(){this.getValue=function(d,g,h){return this.G=14 === h.gi || null;};this.type="cat";})();a.kTb=new (function(){this.getValue=function(d,g,h){return this.G=15 === h.gi || null;};this.type="cat";})();a.lTb=new (function(){this.getValue=function(d,g,h){return this.G=16 === h.gi || null;};this.type="cat";})();a.mTb=new (function(){this.getValue=function(d,g,h){return this.G=17 === h.gi || null;};this.type="cat";})();a.nTb=new (function(){this.getValue=function(d,g,h){return this.G=18 === h.gi || null;};this.type="cat";})();a.oTb=new (function(){this.getValue=function(d,g,h){return this.G=19 === h.gi || null;};this.type="cat";})();a.pTb=new (function(){this.getValue=function(d,g,h){return this.G=2 === h.gi || null;};this.type="cat";})();a.qTb=new (function(){this.getValue=function(d,g,h){return this.G=20 === h.gi || null;};this.type="cat";})();a.rTb=new (function(){this.getValue=function(d,g,h){return this.G=21 === h.gi || null;};this.type="cat";})();a.sTb=new (function(){this.getValue=function(d,g,h){return this.G=22 === h.gi || null;};this.type="cat";})();a.tTb=new (function(){this.getValue=function(d,g,h){return this.G=23 === h.gi || null;};this.type="cat";})();a.uTb=new (function(){this.getValue=function(d,g,h){return this.G=3 === h.gi || null;};this.type="cat";})();a.vTb=new (function(){this.getValue=function(d,g,h){return this.G=4 === h.gi || null;};this.type="cat";})();a.wTb=new (function(){this.getValue=function(d,g,h){return this.G=5 === h.gi || null;};this.type="cat";})();a.xTb=new (function(){this.getValue=function(d,g,h){return this.G=6 === h.gi || null;};this.type="cat";})();a.yTb=new (function(){this.getValue=function(d,g,h){return this.G=7 === h.gi || null;};this.type="cat";})();a.zTb=new (function(){this.getValue=function(d,g,h){return this.G=8 === h.gi || null;};this.type="cat";})();a.ATb=new (function(){this.getValue=function(d,g,h){return this.G=9 === h.gi || null;};this.type="cat";})();a.lYb=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.nYb=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.mYb=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.oYb=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.DMb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.EMb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.yja);};this.getValue=function(){return this.G;};this.type="num";})();a.JMb=new (function(){this.WR=this.G=0;this.update=function(d){this.WR++;this.G=1 * (this.G + d.rowIndex) / this.WR;};this.getValue=function(){return this.G;};this.type="num";})();a.KMb=new (function(){this.WR=this.G=0;this.update=function(d){this.WR++;return this.G=1 * (this.G + d.yja) / this.WR;};this.getValue=function(){return this.G;};this.type="num";})();a.ZRb=new (function(){this.getValue=function(d,g,h){return this.G=h.yja + g;};this.type="num";})();a.$Rb=new (function(){this.getValue=function(d,g,h){return this.G=h.rowIndex + d;};this.type="num";})();f.prototype.MD=function(d){return this.eOa(this.K["0"].$6a(d),d);};f.prototype.eOa=function(d,g){return "string" == typeof d?this.eOa(this.K[d].$6a(g),g):d;};c.prototype.$6a=function(d){switch(this.XJb){case 0:switch(d.features[this.rZ].type){case "cat":return null === d.features[this.rZ].value?this.J2a:"missing" == d.features[this.rZ].value?this.rra:this.Zab;case "num":return null === d.features[this.rZ].value?this.rra:d.features[this.rZ].value < this.split?this.Zab:this.J2a;default:return this.rra;}case 1:return this.MD;default:return this.MD;}};b.declare({FW:["modelSelector","modelone"],Ytb:["colEpisodeList",5],GHb:["holdDuration",15E3],P6a:["rowFirst",2],JRa:["colFirst",5],R6a:["rowScroll",2],KRa:["colScroll",6],PUb:["rowScrollHorizontal",6],gVb:["searchTop",3],XSa:["cwFirst",2],BV:["horizontalItemsFocusedMode",3],ZJb:["itemsPerRank",1],rMb:["maxNumberPayloadsStored",10],D1a:["maxNumberTitlesScheduled",5],m8b:["enableDetailedLogging",!0],hac:["rowStep",20],M7b:["colStep",15],K$b:["pageRows",100],J$b:["pageColumns",75],Fqa:["maskParamsList",new (function(){var d,g;this.Fqa=[];this.Pe={};this.Q9=20;this.t3=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.Q9) + "_" + Math.floor(g / this.t3) in this.Pe) || (this.Pe[Math.floor(d / this.Q9) + "_" + Math.floor(g / this.t3)]=1,this.Fqa.push(new l("grid",10,5,5,Math.floor(d / this.Q9),Math.floor(g / this.t3))));}}})().Fqa],K:["nodes",new f().K],mapping:["mapping",{EMb:"0",KMb:"1",DMb:"2",JMb:"3",Mqb:"4",oYb:"5",mYb:"6",nYb:"7",lYb:"8",$Rb:"9",ZRb:"10",PKb:"11",QKb:"12",SKb:"13",TKb:"14",RKb:"15",UKb:"16",VKb:"17",WKb:"18",XKb:"19",YKb:"20",ZKb:"21",$Kb:"22",aLb:"23",bLb:"24",cLb:"25",dLb:"26",eTb:"27",fTb:"28",gTb:"29",hTb:"30",iTb:"31",jTb:"32",kTb:"33",lTb:"34",mTb:"35",nTb:"36",oTb:"37",pTb:"38",qTb:"39",rTb:"40",sTb:"41",tTb:"42",uTb:"43",vTb:"44",wTb:"45",xTb:"46",yTb:"47",zTb:"48",ATb:"49",Rub:"50",Sub:"51",Tub:"52",Uub:"53",Vub:"54",Wub:"55",Xub:"56",Yub:"57",Zub:"58",$ub:"59",avb:"60",bvb:"61",cvb:"62",dvb:"63",evb:"64",fvb:"65",gvb:"66",hvb:"67",ivb:"68",jvb:"69",kvb:"70",lvb:"71",mvb:"72",nvb:"73",ovb:"74",pvb:"75",qvb:"76",rvb:"77",svb:"78",tvb:"79",uvb:"80",vvb:"81",wvb:"82",xvb:"83",yvb:"84",zvb:"85",Avb:"86",Bvb:"87",Cvb:"88",Dvb:"89",Evb:"90",Fvb:"91",Gvb:"92",Hvb:"93",Ivb:"94",Jvb:"95",Kvb:"96",Lvb:"97",Mvb:"98",Nvb:"99",Ovb:"100",Pvb:"101",Qvb:"102",Rvb:"103",Svb:"104",Tvb:"105",Uvb:"106",Vvb:"107",Wvb:"108",Xvb:"109",Yvb:"110",Zvb:"111",$vb:"112",awb:"113",bwb:"114",cwb:"115",dwb:"116",ewb:"117",fwb:"118",gwb:"119",hwb:"120",iwb:"121",jwb:"122",kwb:"123",lwb:"124",mwb:"125",nwb:"126",owb:"127",pwb:"128",W0b:"129",cTb:"130",hXb:"131",No:"132",Gub:"133",WCb:"134",IZb:"135",rZb:"136",Arb:"137",SNb:"138",$Zb:"139",sRb:"140",wrb:"141",zrb:"142",xrb:"143",QNb:"144"}],features:["features",a],U6b:["_modelName","tree"],P6b:["_format","xgboost"],T6b:["_itemsToKeep",5],S6b:["_itemsThreshold",null],w7b:["cacheLimit",20]});r.exports={config:b,H9b:l,R7b:c};},function(r,b,a){r.exports=a(550);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(551);nb._cad_global={};nb.DEBUG=!1;a(12);a(11);a(19);a(24);a(50);a(92);a(1236);a(543);a(61);a(52);a(22);a(72);a(60);a(1237);a(298);a(333);a(1238);a(526);a(1239);a(523);a(530);a(528);a(529);a(544);a(517);a(518);a(520);a(293);a(292);a(1240);a(14);a(535);a(1241);a(192);a(73);a(524);a(157);a(464);a(465);a(277);a(1242);a(1243);a(488);a(1244);a(481);a(295);a(479);a(294);a(516);a(1245);a(297);a(532);a(189);a(545);a(132);a(1246);a(107);a(1253);a(1254);a(1255);a(1256);a(1258);a(1260);a(531);a(58);a(1261);a(527);a(467);a(525);a(534);a(1262);a(1263);a(302);a(162);a(1264);a(1265);a(1266);a(1268);a(1269);a(521);},function(r,b,a){(function(c){var f;(function(l){var C,G,J,K,H,L,R,I,P;function m(N,M,Q){var T;T=P.get(N);if(!T){if(!Q)return;T=new R();P.set(N,T);}N=T.get(M);if(!N){if(!Q)return;N=new R();T.set(M,N);}return N;}function d(N,M,Q){if(g(N,M,Q))return !0;M=w(M);return null !== M?d(N,M,Q):!1;}function g(N,M,Q){M=m(M,Q,!1);return void 0 !== M && ! !M.has(N);}function h(N,M,Q){if(g(N,M,Q))return k(N,M,Q);M=w(M);return null !== M?h(N,M,Q):void 0;}function k(N,M,Q){M=m(M,Q,!1);return void 0 === M?void 0:M.get(N);}function n(N,M){var Q,da;Q=p(N,M);N=w(N);if(null === N)return Q;M=n(N,M);if(0 >= M.length)return Q;if(0 >= Q.length)return M;N=new I();for(var T=0;T < Q.length;T++){da=Q[T];N.add(da);}for(Q=0;Q < M.length;Q++){da=M[Q];N.add(da);}return z(N);}function p(N,M){var Q;N=m(N,M,!1);Q=[];N && y(N,function(T,da){return Q.push(da);});return Q;}function q(N){return void 0 === N;}function v(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function u(N){return "object" === typeof N?null !== N:"function" === typeof N;}function t(N){return "symbol" === typeof N?N:String(N);}function w(N){var M,Q;M=Object.getPrototypeOf(N);if("function" !== typeof N || N === L || M !== L)return M;Q=N.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return M;Q=Q.constructor;return "function" !== typeof Q || Q === N?M:Q;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,M,Q){var T,da,pa;T=N.entries;if("function" === typeof T){T=T.call(N);try{for(;da=x(T);){pa=da.value;M.call(Q,pa[1],pa[0],N);}}finally{da && (N=T["return"]) && N.call(T);}}else (T=N.forEach,"function" === typeof T && T.call(N,M,Q));}function z(N){var M;M=[];y(N,function(Q,T){M.push(T);});return M;}function A(N,M,Q){var T;T=0;return {next:function(){var da;if((N || M) && T < (N || M).length){da=T++;switch(Q){case "key":return {value:N[da],done:!1};case "value":return {value:M[da],done:!1};case "key+value":return {value:[N[da],M[da]],done:!1};}}M=N=void 0;return {value:void 0,done:!0};},"throw":function(da){if(N || M)M=N=void 0;throw da;},"return":function(da){if(N || M)M=N=void 0;return {value:da,done:!0};}};}function B(){var N;N={};return (function(){function M(){this.Vs=[];this.Dp=[];this.$0=N;this.Z0=-2;}Object.defineProperty(M.prototype,"size",{get:function(){return this.Vs.length;},enumerable:!0,configurable:!0});M.prototype.has=function(Q){return 0 <= this.u1(Q,!1);};M.prototype.get=function(Q){Q=this.u1(Q,!1);return 0 <= Q?this.Dp[Q]:void 0;};M.prototype.set=function(Q,T){Q=this.u1(Q,!0);this.Dp[Q]=T;return this;};M.prototype.delete=function(Q){var T;T=this.u1(Q,!1);if(0 <= T){Q=this.Vs.length;for(T+=1;T < Q;T++){this.Vs[T - 1]=this.Vs[T];this.Dp[T - 1]=this.Dp[T];}this.Vs.length--;this.Dp.length--;this.$0=N;this.Z0=-2;return !0;}return !1;};M.prototype.clear=function(){this.Vs.length=0;this.Dp.length=0;this.$0=N;this.Z0=-2;};M.prototype.keys=function(){return A(this.Vs,void 0,"key");};M.prototype.values=function(){return A(void 0,this.Dp,"value");};M.prototype.entries=function(){return A(this.Vs,this.Dp,"key+value");};M.prototype.u1=function(Q,T){var da;if(this.$0 === Q)return this.Z0;da=this.Vs.indexOf(Q);0 > da && T && (da=this.Vs.length,this.Vs.push(Q),this.Dp.push(void 0));return (this.$0=Q,this.Z0=da);};return M;})();}function D(){return (function(){function N(){this.Rl=new R();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Rl.size;},enumerable:!0,configurable:!0});N.prototype.has=function(M){return this.Rl.has(M);};N.prototype.add=function(M){return (this.Rl.set(M,M),this);};N.prototype.delete=function(M){return this.Rl.delete(M);};N.prototype.clear=function(){this.Rl.clear();};N.prototype.keys=function(){return this.Rl.keys();};N.prototype.values=function(){return this.Rl.values();};N.prototype.entries=function(){return this.Rl.entries();};return N;})();}function E(){var T,da;function N(pa,wa){for(var ua=0;ua < wa;++ua){pa[ua]=255 * Math.random() | 0;}return pa;}function M(){var pa,X;do {pa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);pa[6]=pa[6] & 79 | 64;pa[8]=pa[8] & 191 | 128;for(var wa="",ua=0;16 > ua;++ua){X=pa[ua];if(4 === ua || 6 === ua || 8 === ua)wa+="-";16 > X && (wa+="0");wa+=X.toString(16).toLowerCase();}pa="@@WeakMap@@" + wa;}while(H.has(T,pa));T[pa]=!0;return pa;}function Q(pa,wa){if(!C.call(pa,da)){if(!wa)return;Object.defineProperty(pa,da,{value:K()});}return pa[da];}T=K();da=M();return (function(){function pa(){this.oS=M();}pa.prototype.has=function(wa){wa=Q(wa,!1);return void 0 !== wa?H.has(wa,this.oS):!1;};pa.prototype.get=function(wa){wa=Q(wa,!1);return void 0 !== wa?H.get(wa,this.oS):void 0;};pa.prototype.set=function(wa,ua){Q(wa,!0)[this.oS]=ua;return this;};pa.prototype.delete=function(wa){wa=Q(wa,!1);return void 0 !== wa?delete wa[this.oS]:!1;};pa.prototype.clear=function(){this.oS=M();};return pa;})();}function F(N){N.M6b=1;delete N.N6b;return N;}C=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;J=(function(){var M;function N(){}M={};N.prototype=M;return new N().__proto__ === M;})();K=G?function(){return F(Object.create(null));}:J?function(){return F({__proto__:null});}:function(){return F({});};(function(N){var M;M=!G && !J;N.has=M?function(Q,T){return C.call(Q,T);}:function(Q,T){return (T in Q);};N.get=M?function(Q,T){return C.call(Q,T)?Q[T]:void 0;}:function(Q,T){return Q[T];};})(H || (H={}));L=Object.getPrototypeOf(Function);R="function" === typeof Map?Map:B();I="function" === typeof Set?Set:D();P=new ("function" === typeof WeakMap?WeakMap:E())();l.Dr=function(N,M,Q,T){var pa;if(q(T)){if(q(Q)){if(!v(N))throw new TypeError();if("function" !== typeof M)throw new TypeError();for(Q=N.length - 1;0 <= Q;--Q){if((T=(0,N[Q])(M),!q(T))){if("function" !== typeof T)throw new TypeError();M=T;}}return M;}if(!v(N))throw new TypeError();if(!u(M))throw new TypeError();Q=t(Q);for(T=N.length - 1;0 <= T;--T){(0,N[T])(M,Q);}}else {if(!v(N))throw new TypeError();if(!u(M))throw new TypeError();if(q(Q))throw new TypeError();if(!u(T))throw new TypeError();Q=t(Q);for(var da=N.length - 1;0 <= da;--da){pa=(0,N[da])(M,Q,T);if(!q(pa)){if(!u(pa))throw new TypeError();T=pa;}}return T;}};l.Ac=function(N,M){return function(Q,T){if(q(T)){if("function" !== typeof Q)throw new TypeError();m(Q,void 0,!0).set(N,M);}else {if(!u(Q))throw new TypeError();T=t(T);m(Q,T,!0).set(N,M);}};};l.Cka=function(N,M,Q){var T;if(!u(Q))throw new TypeError();q(T) || (T=t(T));m(Q,T,!0).set(N,M);};l.jHb=function(N,M){var Q;if(!u(M))throw new TypeError();q(Q) || (Q=t(Q));return d(N,M,Q);};l.eoa=function(N,M){var Q;if(!u(M))throw new TypeError();q(Q) || (Q=t(Q));return g(N,M,Q);};l.getMetadata=function(N,M,Q){if(!u(M))throw new TypeError();q(Q) || (Q=t(Q));return h(N,M,Q);};l.M8b=function(N,M,Q){if(!u(M))throw new TypeError();q(Q) || (Q=t(Q));return k(N,M,Q);};l.K8b=function(N,M){if(!u(N))throw new TypeError();q(M) || (M=t(M));return n(N,M);};l.N8b=function(N,M){if(!u(N))throw new TypeError();q(M) || (M=t(M));return p(N,M);};l.U7b=function(N,M,Q){var T;if(!u(M))throw new TypeError();q(Q) || (Q=t(Q));T=m(M,Q,!1);if(q(T) || !T.delete(N))return !1;if(0 < T.size)return !0;N=P.get(M);N.delete(Q);if(0 < N.size)return !0;P.delete(M);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== l)for(var M in l){C.call(l,M) && (N.Reflect[M]=l[M]);}}else N.Reflect=l;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(305));},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v;c=this && this.__awaiter || (function(u,t,w,x){return new (w || (w=Promise))(function(y,z){function A(E){try{D(x.next(E));}catch(F){z(F);}}function B(E){try{D(x["throw"](E));}catch(F){z(F);}}function D(E){E.done?y(E.value):new w(function(F){F(E.value);}).then(A,B);}D((x=x.apply(u,t || [])).next());});});f=this && this.__generator || (function(u,t){var y,z,A,B,D;function w(E){return function(F){return x([E,F]);};}function x(E){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[E[0] & 2?"return":E[0]?"throw":"next"]) && !(B=B.call(A,E[1])).done))return B;if((A=0,B))E=[0,B.value];switch(E[0]){case 0:case 1:B=E;break;case 4:return (y.label++,{value:E[1],done:!1});case 5:y.label++;A=E[1];E=[0];continue;case 7:E=y.zn.pop();y.Kn.pop();continue;default:if(!(B=y.Kn,B=0 < B.length && B[B.length - 1]) && (6 === E[0] || 2 === E[0])){y=0;continue;}if(3 === E[0] && (!B || E[1] > B[0] && E[1] < B[3]))y.label=E[1];else if(6 === E[0] && y.label < B[1])(y.label=B[1],B=E);else if(B && y.label < B[2])(y.label=B[2],y.zn.push(E));else {B[2] && y.zn.pop();y.Kn.pop();continue;}}E=t.call(u,y);}catch(F){E=[6,F];A=0;}finally{z=B=0;}}if(E[0] & 5)throw E[1];return {value:E[0]?E[1]:void 0,done:!0};}y={label:0,kd:function(){if(B[0] & 1)throw B[1];return B[1];},Kn:[],zn:[]};return (D={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});l=a(553);m=a(55);d=a(75);a(43);g=a(306);h=a(554);k=a(561);n=a(563);p=a(108);q=a(133);a(566);v=a(567);r=(function(){function u(t){t=t || ({});if("object" !== typeof t)throw Error("" + m.Mcb);if(void 0 === t.mG)t.mG=d.Gs.M0;else if(t.mG !== d.Gs.mea && t.mG !== d.Gs.M0 && t.mG !== d.Gs.Request)throw Error("" + m.Kcb);if(void 0 === t.tT)t.tT=!1;else if("boolean" !== typeof t.tT)throw Error("" + m.Jcb);if(void 0 === t.sI)t.sI=!1;else if("boolean" !== typeof t.sI)throw Error("" + m.Lcb);this.options={tT:t.tT,mG:t.mG,sI:t.sI};this.id=p.id();this.eK=new v.bgb();this.mob=[];this.parent=this.kga=null;this.emb=new g.Xca();}u.prototype.load=function(){var y,z;for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}w=this.BMa();for(var x=0;x < t.length;x++){y=t[x];z=w(y.id);y.aua(z.sQa,z.r$a,z.Q_a,z.F5a);}};u.prototype.gW=function(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}c(this,void 0,void 0,function(){var x,y,z,A,B;return f(this,function(D){switch(D.label){case 0:(x=this.BMa(),y=0,z=t,D.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.aua(B.sQa,B.r$a,B.Q_a,B.F5a)];case 2:(D.kd(),D.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};u.prototype.bind=function(t){var w;w=new l.Ybb(t,this.options.mG || d.Gs.M0);this.eK.add(t,w);return new n.$bb(w);};u.prototype.ZSb=function(t){this.q$a(t);return this.bind(t);};u.prototype.q$a=function(t){try{this.eK.remove(t);}catch(w){throw Error(m.vcb + " " + q.IM(t));}};u.prototype.i_a=function(t){var w;w=this.eK.OYa(t);!w && this.parent && (w=this.parent.i_a(t));return w;};u.prototype.restore=function(){var t;t=this.mob.pop();if(void 0 === t)throw Error(m.Qgb);this.eK=t.xT;this.kga=t.iNb;};u.prototype.wwb=function(){var t;t=new u(this.options);t.parent=this;return t;};u.prototype.get=function(t){return this.AMa(!1,!1,d.Gx.Eea,t);};u.prototype.getAll=function(t){return this.AMa(!0,!0,d.Gx.Eea,t);};u.prototype.resolve=function(t){var w;w=this.wwb();w.bind(t).U9a();return w.get(t);};u.prototype.BMa=function(){var z;function t(A){return function(B){B=z.ZSb.bind(z)(B);B.zc.CNb=A;return B;};}function w(){return function(A){return z.i_a.bind(z)(A);};}function x(){return function(A){z.q$a.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.zc.CNb=A;return B;};}z=this;return function(A){return {sQa:y(A),Q_a:w(A),F5a:t(A),r$a:x(A)};};};u.prototype.AMa=function(t,w,x,y){var z;z=null;t={jrb:t,Fub:function(A){return A;},xJb:w,key:void 0,Dg:y,GYb:x,value:void 0};if(this.kga){if((z=this.kga(t),void 0 === z || null === z))throw Error(m.Ifb);}else z=this.qnb()(t);return z;};u.prototype.qnb=function(){var t;t=this;return function(w){var x;x=h.WN(t.emb,t,w.xJb,w.GYb,w.Dg,w.key,w.value,w.jrb);x=w.Fub(x);return k.resolve(x);};};return u;})();b.a_=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(108);r=(function(){function l(m,d){this.id=f.id();this.lha=!1;this.Dg=m;this.scope=d;this.type=c.zj.Ufb;this.bG=function(){return !0;};this.VL=this.ww=this.oA=this.gM=this.cache=this.jm=null;}l.prototype.clone=function(){var m;m=new l(this.Dg,this.scope);m.lha=!1;m.jm=this.jm;m.VL=this.VL;m.scope=this.scope;m.type=this.type;m.gM=this.gM;m.oA=this.oA;m.bG=this.bG;m.ww=this.ww;m.cache=this.cache;return m;};return l;})();b.Ybb=r;},function(r,b,a){var d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z,A,B,D){var E,F;E=m(A.eb,D.Dg);F=[];E.length === d.pba.XFa && A.eb.options.tT && "function" === typeof D.Dg && y.zWa(D.Dg).QRa && (A.eb.bind(D.Dg).U9a(),E=m(A.eb,D.Dg));F=z?E:E.filter(function(C){var G;G=new w.Request(C.Dg,A,B,C,D);return C.bG(G);});f(D.Dg,F,D,A.eb);return F;}function f(y,z,A,B){switch(z.length){case d.pba.XFa:if(A.w_a())return z;y=p.IM(y);z=g.Ogb;z+=p.OKb(y,A);z+=p.u0a(B,y,m);throw Error(z);case d.pba.fhb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.IM(y);z=g.bbb + " " + y;z+=p.u0a(B,y,m);throw Error(z);}}function l(y,z,A,B,D,E){var F;if(null === D){z=c(y,z,B,null,E);F=new w.Request(A,B,null,z,E);A=new u.cib(B,F);B.wpb(A);}else (z=c(y,z,B,D,E),F=D.KOa(E.Dg,z,E));z.forEach(function(C){var G,J,K;G=null;if(E.isArray())G=F.KOa(C.Dg,C,E);else {if(C.cache)return;G=F;}if(C.type === h.zj.Instance && null !== C.jm){J=t.RDb(y,C.jm);if(!B.eb.options.sI){K=t.oDb(y,C.jm);if(J.length < K)throw (C=g.dbb(t.getFunctionName(C.jm)),Error(C));}J.forEach(function(H){l(y,!1,H.Dg,B,G,H);});}});}function m(y,z){var A,B;A=[];B=y.eK;B.OYa(z)?A=B.get(z):null !== y.parent && (A=m(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(555);g=a(55);h=a(75);k=a(43);n=a(307);p=a(133);q=a(556);v=a(65);u=a(557);t=a(558);w=a(560);x=a(309);b.F8b=function(y){return y.eK;};b.WN=function(y,z,A,B,D,E,F,C){void 0 === C && (C=!1);z=new q.Vza(z);A=new v.Metadata(A?k.CE:k.NQ,D);B=new x.J0(B,"",D,A);void 0 !== E && (E=new v.Metadata(E,F),B.Ac.push(E));try{return (l(y,C,D,z,null,B),z);}catch(G){throw (n.D_a(G) && z.WN && p.Atb(z.WN.Hua),G);}};b.N7b=function(y,z,A,B){A=new x.J0(h.Gx.Eea,"",z,new v.Metadata(A,B));y=new q.Vza(y);return new w.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pba={n4b:2,XFa:0,fhb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);r=(function(){function f(l){this.id=c.id();this.eb=l;}f.prototype.wpb=function(l){this.WN=l;};return f;})();b.Vza=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cib=(function(){return function(a,c){this.RN=a;this.Hua=c;};})();},function(r,b,a){var d,g,h,k,n,p;function c(q,v,u,t){var w,x,y,z,B,D,E,F,C,G,J,K;w=q.zWa(u);x=w.QRa;if(void 0 === x)throw Error(g.lgb + " " + v + ".");w=w.l0b;y=Object.keys(w);z=0 === u.length && 0 < y.length?y.length:u.length;y=[];for(var A=0;A < z;A++){B=A;D=t;E=v;F=x;C=w[B.toString()] || [];G=m(C);J=!0 !== G.el;F=F[B];K=G.l || G.uH;F=K?K:F;F instanceof d.Aca && (F=F.j_b());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!D && J)throw Error(g.mgb + " argument " + B + " in class " + E + ".");B=new p.J0(h.Gx.Uza,G.SY,F);B.Ac=C;C=B;}else C=null;null !== C && y.push(C);}q=f(q,u);return y.concat(q);}function f(q,v){var y,z,A;for(var u=q.EFb(v),t=[],w=0,x=Object.keys(u);w < x.length;w++){y=x[w];z=u[y];A=m(u[y]);y=new p.J0(h.Gx.Lza,A.SY || y,A.l || A.uH);y.Ac=z;t.push(y);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (q=f(q,v),t=t.concat(q));return t;}function l(q,v){var u,t;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){u=n.getFunctionName(v);u=c(q,u,v,!0);t=u.map(function(w){return w.Ac.filter(function(x){return x.key === k.ER;});});t=[].concat.apply([],t).length;u=u.length - t;return 0 < u?u:l(q,v);}return 0;}function m(q){var v;v={};q.forEach(function(u){v[u.key.toString()]=u.value;});return {l:v[k.NQ],uH:v[k.CE],SY:v[k.Y_],el:v[k.ER]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(308);g=a(55);h=a(75);k=a(43);n=a(133);b.getFunctionName=n.getFunctionName;p=a(309);b.RDb=function(q,v){var u;u=n.getFunctionName(v);return c(q,u,v,!1);};b.oDb=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.cP=c;}a.prototype.startsWith=function(c){return 0 === this.cP.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.cP.split("").reverse().join("");return this.startsWith.call({cP:c},f);};a.prototype.contains=function(c){return -1 !== this.cP.indexOf(c);};a.prototype.equals=function(c){return this.cP === c;};a.prototype.value=function(){return this.cP;};return a;})();b.lib=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);r=(function(){function f(l,m,d,g,h){this.id=c.id();this.Dg=l;this.RN=m;this.gA=d;this.target=h;this.lja=[];this.xT=Array.isArray(g)?g:[g];this.pUb=null === d?new Map():null;}f.prototype.KOa=function(l,m,d){l=new f(l,this.RN,this,m,d);this.lja.push(l);return l;};return f;})();b.Request=r;},function(r,b,a){var l,m,d,g,h;function c(k){return function(n){var p,q,v,u,t;p=n.xT;q=n.lja;v=n.target && n.target.isArray();u=!n.gA || !n.gA.target || !n.target || !n.gA.target.gMb(n.target.Dg);if(v && u)return q.map(function(w){return c(k)(w);});v=null;if(!n.target.w_a() || 0 !== p.length){t=p[0];p=t.scope === m.Gs.mea;u=t.scope === m.Gs.Request;if(p && t.lha)return t.cache;if(u && null !== k && k.has(t.id))return k.get(t.id);if(t.type === m.zj.Sza)v=t.cache;else if(t.type === m.zj.Function)v=t.cache;else if(t.type === m.zj.Tza)v=t.jm;else if(t.type === m.zj.bBa && null !== t.VL)v=f("toDynamicValue",t.Dg,function(){return t.VL(n.RN);});else if(t.type === m.zj.Zba && null !== t.gM)v=f("toFactory",t.Dg,function(){return t.gM(n.RN);});else if(t.type === m.zj.NIa && null !== t.oA)v=f("toProvider",t.Dg,function(){return t.oA(n.RN);});else if(t.type === m.zj.Instance && null !== t.jm)v=h.zUb(t.jm,q,c(k));else throw (q=g.IM(n.Dg),Error(l.Efb + " " + q));"function" === typeof t.ww && (v=t.ww(n.RN,v));p && (t.cache=v,t.lha=!0);u && null !== k && !k.has(t.id) && k.set(t.id,v);return v;}};}function f(k,n,p){try{return p();}catch(q){if(d.D_a(q))throw Error(l.ycb(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(75);d=a(307);g=a(133);h=a(562);b.resolve=function(k){return c(k.WN.Hua.pUb)(k.WN.Hua);};},function(r,b,a){var l,m,d;function c(g,h,k){var n;h=h.filter(function(p){return null !== p.target && p.target.type === m.Gx.Lza;});n=h.map(k);h.forEach(function(p,q){p=p.target.name.value();g[p]=n[q];});return g;}function f(g,h){var k;if(Reflect.jHb(d.mR,g)){k=Reflect.getMetadata(d.mR,g);try{h[k.value]();}catch(n){throw Error(l.Uhb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);m=a(75);d=a(43);b.zUb=function(g,h,k){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === m.Gx.Uza;}).map(k),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,h,k)):n=new g();f(g,n);return n;};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(75);l=a(564);m=a(310);r=(function(){function d(g){this.zc=g;}d.prototype.to=function(g){this.zc.type=f.zj.Instance;this.zc.jm=g;return new l.Mya(this.zc);};d.prototype.U9a=function(){if("function" !== typeof this.zc.Dg)throw Error("" + c.Kfb);this.to(this.zc.Dg);};d.prototype.Mi=function(g){this.zc.type=f.zj.Sza;this.zc.cache=g;this.zc.VL=null;this.zc.jm=null;new m.jE(this.zc);};d.prototype.$D=function(g){this.zc.type=f.zj.bBa;this.zc.cache=null;this.zc.VL=g;this.zc.jm=null;return new l.Mya(this.zc);};d.prototype.kZb=function(g){this.zc.type=f.zj.Tza;this.zc.jm=g;new m.jE(this.zc);};d.prototype.Ff=function(g){this.zc.type=f.zj.Zba;this.zc.gM=g;new m.jE(this.zc);};d.prototype.lZb=function(g){if("function" !== typeof g)throw Error(c.Hfb);this.Mi(g);this.zc.type=f.zj.Function;};d.prototype.S9a=function(g){this.zc.type=f.zj.Zba;this.zc.gM=function(h){return function(){return h.eb.get(g);};};new m.jE(this.zc);};d.prototype.ZY=function(g){this.zc.type=f.zj.NIa;this.zc.oA=g;new m.jE(this.zc);};d.prototype.mZb=function(g){this.$D(function(h){return h.eb.get(g);});};return d;})();b.$bb=r;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(565);f=a(195);l=a(196);r=(function(){function m(d){this.zc=d;this.NR=new l.qba(this.zc);this.Wea=new f.UZ(this.zc);this.PLa=new c.Zbb(d);}m.prototype.aa=function(){return this.PLa.aa();};m.prototype.Boa=function(){return this.PLa.Boa();};m.prototype.when=function(d){return this.NR.when(d);};m.prototype.CZ=function(){return this.NR.CZ();};m.prototype.ww=function(d){return this.Wea.ww(d);};return m;})();b.Mya=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(310);r=(function(){function l(m){this.zc=m;}l.prototype.aa=function(){this.zc.scope=c.Gs.mea;return new f.jE(this.zc);};l.prototype.Boa=function(){this.zc.scope=c.Gs.M0;return new f.jE(this.zc);};return l;})();b.Zbb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o2b=(function(){function a(){}a.of=function(c,f){var l;l=new a();l.xT=c;l.iNb=f;return l;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function f(){this.Rl=new Map();}f.prototype.add=function(l,m){var d;if(null === l || void 0 === l)throw Error(c.gR);if(null === m || void 0 === m)throw Error(c.gR);d=this.Rl.get(l);void 0 !== d?(d.push(m),this.Rl.set(l,d)):this.Rl.set(l,[m]);};f.prototype.get=function(l){if(null === l || void 0 === l)throw Error(c.gR);l=this.Rl.get(l);if(void 0 !== l)return l;throw Error(c.MDa);};f.prototype.remove=function(l){if(null === l || void 0 === l)throw Error(c.gR);if(!this.Rl.delete(l))throw Error(c.MDa);};f.prototype.OYa=function(l){if(null === l || void 0 === l)throw Error(c.gR);return this.Rl.has(l);};f.prototype.clone=function(){var l;l=new f();this.Rl.forEach(function(m,d){m.forEach(function(g){return l.add(d,g.clone());});});return l;};return f;})();b.bgb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);b.od=(function(){return function(f){this.id=c.id();this.aua=f;};})();b.Aya=(function(){return function(f){this.id=c.id();this.aua=f;};})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);b.R=function(){return function(l){var m;if(Reflect.eoa(f.ida,l))throw Error(c.Tdb);m=Reflect.getMetadata(f.rdb,l) || [];Reflect.Cka(f.ida,m,l);return l;};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(65);f=a(93);b.p9a=function(l,m){return function(d,g,h){var k;k=new c.Metadata(l,m);"number" === typeof h?f.BI(d,g,h,k):f.RY(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.z2a=function(m){return function(d,g,h){var k;k=new f.Metadata(c.oB,m);"number" === typeof h?l.BI(d,g,h,k):l.RY(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.optional=function(){return function(m,d,g){var h;h=new f.Metadata(c.fGa,!0);"number" === typeof g?l.BI(m,d,g,h):l.RY(m,d,h);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.el=function(){return function(m,d,g){var h;h=new f.Metadata(c.ER,!0);l.BI(m,d,g,h);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.uH=function(m){return function(d,g,h){var k;k=new f.Metadata(c.CE,m);"number" === typeof h?l.BI(d,g,h,k):l.RY(d,g,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);f=a(65);l=a(93);b.SY=function(m){return function(d,g,h){var k;k=new f.Metadata(c.Y_,m);l.BI(d,g,h,k);};};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);f=a(43);l=a(65);b.M4a=function(){return function(m,d){d=new l.Metadata(f.mR,d);if(Reflect.eoa(f.mR,m.constructor))throw Error(c.zgb);Reflect.Cka(f.mR,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v2a=function(a){return function(c){return function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.forEach(function(m){return a.bind(m).mZb(c);});};};};},function(r,b,a){var d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D;function c(E,F){E=E.ew || E.cN?u.PWa(F):E.OV?w.ZWa(F):E.S6?t.LXa(F):E.hN?x.cYa(F):v.vWa(F);this.v_=E.v_;this.Cba=E.Cba;}function f(E){this.fe=E;}function l(E){var F;F=k.Cda.call(this) || this;E.eN?Object.assign(F,x.iXa()):E.OV?Object.assign(F,w.YWa()):E.S6?Object.assign(F,t.KXa()):E.ew || E.cN?Object.assign(F,u.OWa()):E.hN?Object.assign(F,x.bYa()):Object.assign(F,v.uWa(E));return F;}function m(E){this.data=E.OV?w.aXa(E):E.S6?t.NXa(E):E.ew || E.cN?u.RWa(E):E.hN?x.eYa(E):v.xWa(E);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.rcb=b.qcb=b.pcb=b.ocb=void 0;r=a(1);d=a(0);g=a(34);h=a(134);k=a(579);n=a(163);p=a(313);q=a(198);v=a(580);u=a(581);t=a(582);w=a(583);x=a(584);y=a(585);z=a(586);Wa.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},j8:{configurable:!0,enumerable:!0,get:function(){return this.data.j8;}},Yp:{configurable:!0,enumerable:!0,get:function(){return this.data.Yp;}},ro:{configurable:!0,enumerable:!0,get:function(){return this.data.ro;}},oM:{configurable:!0,enumerable:!0,get:function(){return this.data.oM;}},Ry:{configurable:!0,enumerable:!0,get:function(){return this.data.Ry;}},Kka:{configurable:!0,enumerable:!0,get:function(){return this.data.Kka;}},lTa:{configurable:!0,enumerable:!0,get:function(){return this.data.lTa;}},iqa:{configurable:!0,enumerable:!0,get:function(){return this.data.iqa;}},kU:{configurable:!0,enumerable:!0,get:function(){return this.data.kU;}},zxa:{configurable:!0,enumerable:!0,get:function(){return this.data.zxa;}},F2:{configurable:!0,enumerable:!0,get:function(){return this.data.F2;}},RX:{configurable:!0,enumerable:!0,get:function(){return this.data.RX;}}});A=m;A=r.__decorate([d.R(),r.__param(0,d.l(n.eB))],A);b.ocb=A;la(l,k.Cda);B=l;B=r.__decorate([d.R(),r.__param(0,d.l(n.eB))],B);b.pcb=B;f.prototype.apply=function(){this.fe.OV?Object.assign(this,w.$Wa(this.fe)):this.fe.S6?Object.assign(this,t.MXa(this.fe)):this.fe.ew || this.fe.cN?Object.assign(this,u.QWa(this.fe)):this.fe.hN?Object.assign(this,x.dYa(this.fe)):Object.assign(this,v.wWa(this.fe));return this;};D=f;D=r.__decorate([d.R(),r.__param(0,d.l(n.eB))],D);b.qcb=D;c=r.__decorate([d.R(),r.__param(0,d.l(n.eB)),r.__param(1,d.l(g.xk))],c);b.rcb=c;b.platform=new d.od(function(E){E(g.xk).to(A).aa();E(h.pR).to(B).aa();E(p.AHa).to(D).aa();E(g.rB).to(c).aa();E(q.Dda).Ff(function(F){return function(){var C;C=F.eb.get(n.eB);return C.ew || C.cN?{Yb:function(G,J,K){return new z.Kea(G,J,K);},request:y.ALa}:C.hN?{Yb:function(G,J,K){return new (a(587))(G,J,K);},request:a(588)}:{};};});});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Cda=void 0;c=a(4);f=a(51);l=a(197);m=a(44);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Cda=function(){this.iQa=this.jL=l.cx.S_;this.iva=!0;this.fC=[];this.Zw=[];this.FH=this.YL=!1;this.Qu=[m.Km.Dba,m.Km.Eib,m.Km.FJ];this.km=void 0;this.mla=!0;this.o4=!1;this.gT=f.fa(288E4);this.hT=f.fa(335544320);this.Sz=c.Hc(15E3);this.oMb=f.fa(6291456);this.oN=1E3;this.Uia=!0;this.Dwa=d;this.kP=f.fa(0);this.S$=c.Hc(0);this.FV=!0;this.kaa=!1;};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.vWa=b.wWa=b.uWa=b.xWa=void 0;c=a(25);f=a(44);l=a(135);b.xWa=function(m){return Object.assign(Object.assign({},l.uM()),{Yp:m.H_a?"T":m.bN?"C":"M",ro:m.H_a?"NFCDTS-01-":m.Y6?"NFCDCH-02-":m.fpa?"NFCDCH-MC-":m.bN?"NFCDCH-01-":m.G6?"NFCDCH-AP-":m.F6?"NFCDCH-AT-":m.eN?"NFCDCH-PH-":"NFCDCH-LX-",Ry:m.bN?"chromeos-cadmium":"chrome-cadmium",RX:m.bN});};b.uWa=function(m){var d;d=Object.assign(Object.assign({},l.sM()),{YL:!0,FH:!0});m.bN && (d.Zw=[].concat(ca(f.P.aca),ca(f.P.Zaa),ca(f.P.gLa),ca(f.P.Aea),ca(f.P.Bea),ca(f.P.eca),ca(f.P.dca)));return d;};b.wWa=function(m){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Ti.hJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= m.Lp && (d=Object.assign(Object.assign({},d),{enableVP9:!0}));80 <= m.Lp && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));m.bN && 89 <= m.Lp && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= m.Lp && m.Y6 && (d=Object.assign(Object.assign({},d),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));return d;};b.vWa=function(m){return l.tM(m);};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.PWa=b.QWa=b.OWa=b.RWa=void 0;c=a(25);f=a(109);l=a(44);m=a(197);d=a(135);g=a(110);b.RWa=function(h){return Object.assign(Object.assign({},d.uM()),{Yp:h.ew?"D":"H",ro:h.ew?h.fpa?"NFCDIE-04-":h.G6?"NFCDIE-AP-":h.F6?"NFCDIE-AT-":h.eN?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",Ry:"edge-cadmium",F2:!1,RX:!1});};b.OWa=function(){return Object.assign(Object.assign({},d.sM()),{jL:nb.crypto?m.cx.S_:m.cx.LDa,iQa:nb.crypto?m.cx.S_:m.cx.LDa,fC:[l.xe.sE,l.xe.tE,l.xe.cQ,l.xe.dQ],Zw:[].concat(ca(l.P.aca),ca(l.P.Zaa),ca(l.P.gLa),ca(l.P.Aea),ca(l.P.Bea),ca(l.P.eca),ca(l.P.dca),ca(l.P.oAa),ca(l.P.nAa),ca(l.P.xj)),km:void 0,FV:!1});};b.QWa=function(h){var k,n,p,q,v,u,t;p={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.Uu.wx,videoCapabilityDetectorType:c.Ti.wx,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};q=h.cN;v=h.ew;u=h.Y6;t=null === (k=nb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(f.Fb.Td,g.Ed.ira);k=t || (null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(f.Fb.RE,g.Ed.ira));n={prepareCadmium:!0,enableLdlPrefetch:!k || t,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};t={audioCapabilityDetectorType:c.Uu.Xu,videoCapabilityDetectorType:c.Ti.hJ,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.Fb.wLa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[l.xe.sE,l.xe.tE],videoProfiles:[l.P.sJ,l.P.rE,l.P.qQ,l.P.rQ],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};q && (14 <= h.Lp && (p=Object.assign(Object.assign(Object.assign({},p),n),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Lp && (p=Object.assign(Object.assign({},p),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Lp && (p=Object.assign(Object.assign({},p),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Lp && (p=Object.assign(Object.assign({},p),{enableDDPlusAtmos:!0})));v && (p=Object.assign(Object.assign({},p),n),u && (p=Object.assign(Object.assign({},p),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),k?(p=Object.assign(Object.assign({},p),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.Fb.eib,f.Fb.GHa]}),94 === h.Lp && (p=Object.assign(Object.assign({},p),{enableHWDRM:!1})),95 <= h.Lp && (p=Object.assign(Object.assign({},p),{enableHWDRM:!0}))):p=Object.assign(Object.assign({},p),t));return p;};b.PWa=function(h){return d.tM(h);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.LXa=b.MXa=b.KXa=b.NXa=void 0;c=a(25);f=a(135);b.NXa=function(l){return Object.assign(Object.assign({},f.uM()),{Yp:"O",ro:l.G6?"NFCDOP-AP-":l.F6?"NFCDOP-AT-":l.eN?"NFCDOP-PH-":"NFCDOP-01-",Ry:"opera-cadmium"});};b.KXa=function(){return Object.assign(Object.assign({},f.sM()),{YL:!0,FH:!0});};b.MXa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Ti.hJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.Lp && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};b.LXa=function(l){return f.tM(l);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.ZWa=b.$Wa=b.YWa=b.aXa=void 0;c=a(25);f=a(135);b.aXa=function(l){return Object.assign(Object.assign({},f.uM()),{Yp:"F",ro:l.fpa?"NFCDFF-MC-":l.Y6?"NFCDFF-02-":l.G6?"NFCDFF-AP-":l.F6?"NFCDFF-AT-":l.eN?"NFCDFF-PH-":"NFCDFF-LX-",Ry:"firefox-cadmium"});};b.YWa=function(){return Object.assign(Object.assign({},f.sM()),{YL:!0,FH:!0});};b.$Wa=function(l){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.Ti.hJ,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};58 <= l.Lp && (m=Object.assign(Object.assign({},m),{enableVP9:!0,preciseSeeking:!0}));return m;};b.ZWa=function(l){return f.tM(l);};},function(r,b,a){var f,l,m,d,g;function c(){return Object.assign(Object.assign({},g.sM()),{fC:[d.xe.sE,d.xe.tE,d.xe.cF],Zw:[].concat(ca(d.P.aca),ca(d.P.Zaa),ca(d.P.Aea),ca(d.P.Bea),ca(d.P.eca),ca(d.P.dca),ca(d.P.oAa),ca(d.P.nAa)),km:m.Fb.Beb,Sz:f.Hc(7E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.cYa=b.dYa=b.bYa=b.iXa=b.eYa=void 0;f=a(4);l=a(25);m=a(109);d=a(44);g=a(135);b.eYa=function(h){return Object.assign(Object.assign({},g.uM()),{Yp:"S",ro:h.eN?"NFCDSF-PH-":"NFCDSF-01-",Ry:"safari-cadmium"});};b.iXa=function(){return Object.assign(Object.assign({},c()),{kaa:!0,Qu:[d.Km.Q0]});};b.bYa=c;b.dYa=function(h){var k;k={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:l.Ti.Xu,enableSeamless:!0};g.QV(h,10,12,2) && (k=Object.assign(Object.assign({},k),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));g.QV(h,10,13,6) && (k=Object.assign(Object.assign({},k),{enableLdlPrefetch:!0}));g.QV(h,10,15,5) && (k=Object.assign(Object.assign({},k),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));g.QV(h,10,15,6) && (k=Object.assign(Object.assign({},k),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));g.N_a(h,9) && (k=Object.assign(Object.assign({},k),{maxDecoderBufferMilliseconds:31E3}));return k;};b.cYa=function(h){return g.tM(h);};},function(r,b,a){var f;function c(l,m,d,g){this.log=l;this.HG=m;this.uA=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;f=a(3);c.prototype.zg=function(l){var m;m=this;(this.context.nf || this.context.Ok) && this.log.trace("Requesting license",{drmType:l.qo});return this.HG(l).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.ebc)throw d;throw {$:!1,code:f.M.zJ,xc:d.xc,Kd:d.Kd,bn:d.bn,Zj:d.message || d.Zj,dM:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Zj)};});};c.prototype.release=function(l){var m;m=this;this.log.trace("Requesting stop data");return this.uA(l).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.xc,extCode:d.Kd,edgeCode:d.bn,message:d.message || d.Zj});throw {$:!1,code:f.M.$da,xc:d.xc,Kd:d.Kd,bn:d.bn,Zj:d.message || d.Zj,message:"Unable to release the PlayReady license. " + (d.message || d.Zj)};});};b.ALa=c;nb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Kea=void 0;c=a(3);f=a(194);l=a(199);m=a(29);d=a(76);g=a(35);h=a(25);k=a(62);(function(){var z;function n(A,B,D){var E;E=this;this.log=A;this.yn=B || y.bind(this);this.context=D;this.kX=this.challenge=this.keySystem=this.keySessionId=this.Gb=this.mediaKeys=void 0;this.jd={};this.Xpa=this.cwa=!1;this.YW=u.bind(this);this.kX=void 0;this.Fxa=new Promise(function(F,C){E.Aua=F;E.bua=C;});this.Fxa.catch(function(F){E.log.error("wait for license rejected",F);});f.bc.get(h.ix).l5().then(function(F){(E.context.nf || E.context.Ok) && E.log.debug("DRIVERINFO: ",F);}).catch(function(F){E.log.error("DRIVERINFO",F);});this.xn=function(F,C){E.bua(F,C);E.context.onerror(F,C);};this.hsa=function(){E.Aua();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return f.bc.get(g.mi);}function q(){return f.bc.get(m.Zf);}function v(A){var B,D;B=f.bc.get(l.sea);D="";A.forEach(function(E){D+="<KeyID>" + E + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Y8a(A));(this.context.nf || this.context.Ok) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function u(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Gb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Xf.fr,z.yB.Js,B);this.Gb=void 0;}function t(A,B,D){var F,C,G;for(var E=2;E < arguments.length;++E){;}E="";C=A.length;for(F=0;F < C;F++){G=A[F];0 < G && (E+=String.fromCharCode(G));}C="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > E.search(G))return;G="(?:[^:].*:|)" + G;C="[\\s\\S]*<" + G + "[^>]*>" + C + "</" + G + ">[\\s\\S]*";}if(E=E.match(new RegExp(C)))return E[1];}function w(A,B,D,E){var F,C;F=A.target && A.target.sessionId;C=p().decode(t(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.nf || D.context.Ok || D.context.TA) && D.log.debug("LICENSE: License challenge",p().encode(C));D.keySessionId=F;A={Qf:B,messageType:"license-request",qo:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",Uj:[{data:C,sessionId:F}]};12 === D.state && (D.yn("lc"),C={data:C,qo:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.IH || (D.kX=C));D.context.Hl.zg(A).then(function(G){if(12 === D.state && (D.yn("lr"),D.hsa(),!D.context.IH))(D.lX=G.ej[0].data,D.state=13,E({$:!0,state:D.state}));else if(D.Gb)return x(D,G.ej[0].data,D.Gb).then(function(){D.state=30;E({$:!0,state:D.state});});}).catch(function(G){E(q().rH(G,{state:D.state}));});}function x(A,B,D){A.K6() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:p().encode(B)});return new Promise(function(E,F){try{A.Gb.update(B);E(void 0);A.K6() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(C){F({$:!1,code:z.Xf.k0,message:"Unable to update the EME.",Bb:q().Jd(C)});}});}function y(A){this.context.xa && (this.jd[A]=this.context.xa.getTime(),this.log.trace("Milestone: " + A + ", " + this.jd[A]));}z={};z.Xf=c.M;z.yB=c.L;n.prototype.Lt=function(){return this.keySystem;};n.prototype.O$a=function(A,B){A.log && (this.log=A.log);A.yn && (this.yn=A.yn);B.Hl && (this.context.Hl=B.Hl);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):f.bc.get(h.ix).Lt()).then(function(D){B.yn("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;if(B.context.BX)D=Promise.reject({$:!1,code:z.Xf.lQ,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(D);}catch(E){D=Promise.reject({$:!1,code:z.Xf.rGa,message:"create MSMediaKeys(" + D + ") failed",Bb:q().Jd(E)});break a;}try{B.context.X && B.context.X.msSetMediaKeys(B.mediaKeys);}catch(E){D=Promise.reject({$:!1,code:z.Xf.IJ,message:"set MSMediaKeys failed",Bb:q().Jd(E)});break a;}D=Promise.resolve({$:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){if(this.Gb){this.log.info("Closing the session",{sessionId:this.Gb.sessionId});this.Gb.removeEventListener("mskeyerror",this.YW);try{this.Gb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Gb=void 0;}};n.prototype.zg=function(A,B,D){var E;if(1 < B.length)return Promise.reject({code:z.Xf.wGa});if(0 === B.length)return Promise.reject({code:z.Xf.vGa});B=B[0];E=this;E.context.nf && E.log.trace("LICENSE: Setting license");return E.context.BX?Promise.reject({$:!1,code:z.Xf.iBa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,C){var G,J,K,H,L,R,I;try{J=function(P){E.Gb && (E.Gb.removeEventListener("mskeymessage",H),E.Gb.removeEventListener("mskeyadded",L),E.Gb.removeEventListener("mskeyerror",R),E.Gb.addEventListener("mskeyerror",E.YW));P.state=11;P.$?F(P):(E.close(),C(P));};K=function(P){var N,M;N=[];M=Array.prototype.map.call(P,function(T){return T?String.fromCharCode(T):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(M)N.push(M[1]);else {P=t(P,"KIDS");M=/VALUE="(.+?)">/g;for(var Q=M.exec(P);null != Q;){N.push(Q[1]);Q=M.exec(P);}}return N;};H=function(P){G && clearTimeout(G);w(P,A,E,J);};L=function(P){(E.context.nf || E.context.Ok) && E.log.trace("LICENSE: Received " + P.type + " event",{keySystem:P.target.keySystem,sessionId:P.target.sessionId});J({$:!0});};R=function(P){var N,M;G && clearTimeout(G);if(P.target && P.target.error)(N=P.target.error.systemCode,M=P.target.error.code);N={code:z.Xf.fr,xc:z.yB.Js,Kd:N?f.bc.get(d.dx).AG(N,4):M,details:q().Jd(P),cause:P.target && P.target.error,K$:N,y4:M};E.log.error("LICENSE: Received " + P.type + " event",{sessionId:E.Gb && E.Gb.sessionId,keySystem:P.target.keySystem,systemCode:N.K$,code:N.y4});E.yn("le");E.xn && E.xn(z.Xf.fr,N);J({$:!1,code:z.Xf.fr,xc:z.yB.Js,Kd:N.Kd,message:"Received a key error.",Bb:N.details,cause:N.cause});};E.log.trace("LICENSE: Executing prefix based EME");(E.context.nf || E.context.Ok) && E.log.debug("LICENSE: PSSH",p().encode(B));E.fw || (E.fw=K(B));if(D){I=v.call(E,E.fw);E.Gb=E.mediaKeys.createSession("video/mp4",new Uint8Array(0),I);}else E.Gb=E.mediaKeys.createSession("video/mp4",B,null);(E.context.nf || E.context.Ok) && E.log.debug("LICENSE: Created the media keys sessions",{keySystem:E.Gb.keySystem,sessionId:E.Gb.sessionId});E.Gb.addEventListener("mskeymessage",H);E.Gb.addEventListener("mskeyadded",L);E.Gb.addEventListener("mskeyerror",R);E.context.IKb && (G=setTimeout(function(){J({$:!1,code:z.Xf.lR,xc:z.yB.oeb});},E.context.IKb));}catch(P){C({code:z.Xf.lR,xc:z.yB.Aj});}});})();};n.prototype.WH=function(){var A;(this.context.nf || this.context.Ok) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.zg(k.Pn.zca.kp,A,!0);};n.prototype.J2=function(A){this.lX || this.log.error("pending license must exist at this point");this.context.IH=!0;try{A && (this.context.X=A,this.context.X.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({$:!1,code:z.Xf.IJ,message:"setMediaKeys failed",Bb:q().Jd(B)});}return x(this,this.lX,this.Gb);};n.prototype.XUa=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ca:A.ca,se:A.se};return new Promise(function(E,F){(function(){B.context.Hl.release.call(B.context.Hl,D).then(function(){var C;B.log.trace("successfully released the license",JSON.stringify(A));C={$:!0};B.close();C.$?E(C):F(C);}).catch(function(C){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:C.code,subCode:C.xc,extCode:C.Kd,edgeCode:C.bn,message:C.Zj});B.close();C.$?E(C):F(C);});})();});};n.prototype.K6=function(){return this.context.nf || this.context.Ok;};b.Kea=n;nb._cad_global.WindowsEmeSession=b.Kea;})();},function(r,b,a){var w,x,y,z,A,B,D,E,F,C,G,J;function c(K,H,L){var R;R=this;this.log=K;this.yn=H || t.bind(this);this.context=L;this.kX=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.jd={};this.gj=void 0;this.url="";this.Xpa=this.cwa=!1;this.YW=k.bind(this);this.Cg=this.kX=void 0;this.Fxa=new Promise(function(I,P){R.Aua=I;R.bua=P;});this.xn=function(I,P){R.bua(I,P);R.context.onerror(I,P);};this.hsa=function(){R.Aua();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return w.ja.get(A.jv);}function l(){return w.ja.get(z.mi);}function m(){return w.ja.get(x.Zf);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function g(K){var H;K=(function(L){var I,P;function R(N,M,Q,T){var da,pa;da=new Uint8Array("piff" == M?88:72);pa=new C.gQ(da);pa.$A(12);pa.ZA("frma");pa.ZA(N);pa.$A(20);pa.ZA("schm");pa.GZ(0);pa.GZ(0);pa.ZA(M);pa.$A(Q);"piff" == M?(pa.$A(56),pa.ZA("schi"),pa.$A(48),pa.ZA("uuid"),pa.FZ([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(pa.$A(40),pa.ZA("schi"),pa.$A(32),pa.ZA("tenc"));pa.GZ(0);pa.GZ(0);pa.$A(264);pa.FZ(T);return da;}I=R("avc1","piff",65537,L);I=f().decode(l().encode(I));L=R("avc1",G.gx,65536,L);L=f().decode(l().encode(L));P=new Uint8Array(7 + I.length + 8 + L.length + 5);P.set([91,10,32,32,32,32,34],0);P.set(I,7);P.set([34,44,10,32,32,32,32,34],7 + I.length);P.set(L,7 + I.length + 8);P.set([34,10,32,32,93],7 + I.length + 8 + L.length);return P;})(K);H=new Uint8Array(13 + K.length + 2);H.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);H.set(K,13);H.set([10,125],13 + K.length);return H;}function h(K){var H;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=l().decode(K);K=K.subarray(4);H=new Uint8Array(16);H.set(K);return H;}function k(K){var H;H=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.Gb?this.Gb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:H.K$,code:H.y4});this.xn && this.xn(J.Xf.fr,H);this.Gb=void 0;}function n(K){var H,L;if(K.target.error)(H=K.target.error.systemCode,L=K.target.error.code);return {code:J.Xf.fr,xc:J.yB.Js,Kd:H?w.ja.get(y.dx).AG(H,4):L,details:m().Jd(K),cause:K.target.error,K$:H,y4:L};}function p(K,H,L,R){var I,P,N;I=K.target.sessionId;P=K.message;N=m().pt(P,f().decode("certificate"));L.Xpa=H === F.Pn.zca.Qn;L.state=N?2:12;L.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:I});(L.context.nf || L.context.Ok || L.context.TA) && L.log.debug("LICENSE: License challenge",l().encode(P));L.keySessionId=I;K={dj:L.dj,Qf:H,messageType:"license-request",qo:(/clearkey/i).test(L.keySystem)?"clearkey":"fps",Uj:[{data:P,sessionId:I}]};12 === L.state && (L.yn("lc"),P={data:P,qo:(/clearkey/i).test(L.keySystem)?"clearkey":"fps"},L.context.IH || (L.kX=P));L.context.Hl.zg(K).then(function(M){if(12 === L.state && (L.yn("lr"),L.hsa(),!L.context.IH))(L.lX=M.ej[0].data,L.state=13,R({$:!0,state:L.state}));else if(L.Gb)return (M=u(L,N,M.ej[0].data,L.Gb),2 === L.state?M:M.then(function(){L.state=30;R({$:!0,state:L.state});}));}).catch(function(M){R(m().rH(M,{state:L.state}));});}function q(K,H,L){H.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});L({$:!0});}function v(K,H,L){var R;R=n(K);H.xn && H.xn(J.Xf.fr,R);H.log.error("LICENSE Error: Received event: " + K.type,{sessionId:H.Gb?H.Gb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:R.K$,code:R.y4});L({$:!1,code:J.Xf.fr,xc:J.yB.Js,Kd:R.Kd,message:"Received a key error.",Bb:R.details,cause:R.cause});}function u(K,H,L,R){R={sessionId:R.sessionId};K.K6() && (R.license=l().encode(L));K.log.trace("calling keysession update",R);return new Promise(function(I,P){function N(){K.Gb.removeEventListener("webkitkeyadded",N);I(void 0);}try{H || K.Gb.addEventListener("webkitkeyadded",N);K.Gb.update(L);H && I(void 0);}catch(M){P({$:!1,code:J.Xf.k0,message:"Unable to update the EME.",e:M});}});}function t(K){this.jd[K]=w.ja.get(B.cd).Wb().da(D.ka);this.log.trace("Milestone: " + K + ", " + this.jd[K]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(8);b=a(3);x=a(29);y=a(76);z=a(35);A=a(77);B=a(17);D=a(4);E=a(11);F=a(62);C=a(164);G=a(63);J={};J.Xf=b.M;J.yB=b.L;c.prototype.Lt=function(){return this.keySystem;};c.prototype.O$a=function(K,H){K.log && (this.log=K.log);K.yn && (this.yn=K.yn);H.Hl && (this.context.Hl=H.Hl);H.onerror && (this.context.onerror=H.onerror);};c.prototype.create=function(K){var H;H=this;H.yn("lg");H.log.trace("CREATE: Creating the media keys",{keySystem:K});H.keySystem=K;return H.context.BX?Promise.reject({$:!1,code:J.Xf.lQ,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function L(){var R,I;R=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");I=R.lastChild;H.Cg=R;H.context.X=E.Ue.createElement("VIDEO");I?H.Cg.insertBefore(H.context.X,I):H.Cg.appendChild(H.context.X);}return new Promise(function(R,I){function P(N){(H.context.nf || H.context.Ok || H.context.TA) && H.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{H.mediaKeys=new nb.WebKitMediaKeys(K);H.context.X.webkitSetMediaKeys(H.mediaKeys);R({$:!0,mediaKeys:H.mediaKeys});}catch(M){H.log.error("CREATE: Exception on webkitSetMediaKeys",M);I({$:!1,code:J.Xf.lR,Bb:m().Jd(M)});}}if(d(H.keySystem))try{H.mediaKeys=new nb.WebKitMediaKeys(K);H.context.X && (H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.X.webkitSetMediaKeys(H.mediaKeys));R({$:!0,mediaKeys:H.mediaKeys});}catch(N){I({$:!1,code:J.Xf.lR,Bb:m().Jd(N)});}else (H.mediaKeys=new nb.WebKitMediaKeys(K),H.context.X?(H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.X.webkitSetMediaKeys(H.mediaKeys)):(L(),H.gj=new E.LE(),H.gj.addEventListener("sourceopen",P),H.url=URL.createObjectURL(H.gj),H.context.X.src=H.url),R({$:!0,mediaKeys:H.mediaKeys}));});})();};c.prototype.close=function(){this.Gb && (this.log.info("Closing the session",{sessionId:this.Gb.sessionId}),this.Gb.removeEventListener("webkitkeyerror",this.YW),this.Gb.close(),this.Gb=void 0);};c.prototype.zg=function(K,H){var L;if(1 < H.length)return Promise.reject({code:J.Xf.wGa});if(0 === H.length)return Promise.reject({code:J.Xf.vGa});H=H[0];L=this;L.context.nf && L.log.trace("LICENSE: Setting license",{initData:l().encode(H)});return L.context.BX?Promise.reject({$:!1,code:J.Xf.iBa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(R,I){var N,M,Q;function P(T){L.Gb && (L.Gb.removeEventListener("webkitkeymessage",N),L.Gb.removeEventListener("webkitkeyadded",M),L.Gb.removeEventListener("webkitkeyerror",Q),L.Gb.addEventListener("webkitkeyerror",L.YW));T.$?R(T):(L.close(),I(T));}N=function(T){p(T,K,L,P);};M=function(T){q(T,L,P);};Q=function(T){v(T,L,P);};d(L.keySystem) && (L.dj=h(H),H=g(L.dj));L.log.trace("LICENSE: Executing prefix based EME");L.context.nf | L.context.Ok && L.log.debug("LICENSE: PSSH",l().encode(H));L.Gb=L.mediaKeys.createSession("video/mp4",H,null);(L.context.nf || L.context.Ok) && L.log.debug("LICENSE: Created the media keys sessions",{keySystem:L.Gb.keySystem,sessionId:L.Gb.sessionId});L.Gb.addEventListener("webkitkeymessage",N);L.Gb.addEventListener("webkitkeyadded",M);L.Gb.addEventListener("webkitkeyerror",Q);});})();};c.prototype.WH=function(){var K;K=this;return K.cwa?Promise.resolve({$:!0}):new Promise(function(H,L){var I,P,N;function R(M){K.Gb && (K.Gb.removeEventListener("webkitkeymessage",I),K.Gb.removeEventListener("webkitkeyadded",P),K.Gb.removeEventListener("webkitkeyerror",N));M.$?H(M):(L(M),K.close());}I=function(M){p(M,F.Pn.zca.kp,K,R);};P=function(M){q(M,K,R);H({$:!0});};N=function(M){v(M,K,R);};K.Xpa=!1;K.Gb.addEventListener("webkitkeymessage",I);K.Gb.addEventListener("webkitkeyadded",P);K.Gb.addEventListener("webkitkeyerror",N);K.Gb.update(f().decode("renew"));});};c.prototype.J2=function(K){this.lX || this.log.error("pending license must exist at this point");this.context.IH=!0;try{K && (this.context.X=K,this.log.trace("calling setmediakeys on video element"),this.context.X.webkitSetMediaKeys(this.mediaKeys));}catch(H){return new Promise(function(L,R){R({$:!1,code:J.Xf.IJ,message:"setMediaKeys failed",Bb:m().Jd(H)});});}return u(this,!1,this.lX,this.Gb);};c.prototype.XUa=function(K){var H,L;H=this;H.log.trace("Releasing the license of the current session",JSON.stringify(K));H.cwa=!0;L={ca:K.ca,se:K.se};return new Promise(function(R,I){(function(){H.context.Hl.release.call(H.context.Hl,L).then(function(){var P;H.log.trace("successfully released the license",JSON.stringify(K));P={$:!0};P.$?R(P):(H.close(),I(P));}).catch(function(P){H.log.error("RELEASE: Unable to get the release the license",{sessionId:H.Gb?H.Gb.sessionId:void 0,code:P.code,subCode:P.xc,extCode:P.Kd,edgeCode:P.bn,message:P.Zj});P.$?R(P):(H.close(),I(P));});})();});};c.prototype.K6=function(){return this.context.nf || this.context.Ok;};r.exports=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q){this.log=k;this.HG=n;this.uA=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);l=a(8);m=a(29);d=a(77);g=a(35);h=a(63);c.prototype.zg=function(k){var n,p;n=this;(this.context.nf || this.context.Ok) && this.log.debug("Requesting a license",k);if(l.ja.get(m.Zf).pt(l.ja.get(d.jv).decode("certificate"),k.Uj[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({ej:[{sessionId:k.Uj[0].sessionId,data:l.ja.get(g.mi).decode(h.w_)}]});}else p=l.ja.get(m.Zf).pt(l.ja.get(d.jv).decode("content"),k.Uj[0].data)?Promise.resolve({ej:[{sessionId:k.Uj[0].sessionId,data:k.dj}]}):(function(){n.log.trace("Requesting license",{drmType:k.qo});return n.HG(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:f.M.zJ,xc:q.xc,Kd:q.Kd,bn:q.bn,Zj:q.message || q.Zj,dM:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Zj),cause:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.uA(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.xc,extCode:p.Kd,edgeCode:p.bn,message:p.message || p.Zj});throw {$:!1,code:f.M.$da,xc:p.xc,Kd:p.Kd,bn:p.bn,Zj:p.message || p.Zj,message:"Unable to release the FairPlay license. " + (p.message || p.Zj),cause:p};});};r.exports=c;},function(r,b,a){var m,d,g,h,k,n,p,q;function c(v,u,t){var w;w=this;this.is=v;this.Hn=u;this.config=t;this.Rw=function(){return {version:w.version,drmData:w.g4.map(function(x){return x.Rw();})};};this.oma=function(x){var y;w.is.Sm(x) && (x=f(x));1 === x.version && (x=l(w.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.q_(z);});}catch(z){throw new k.md(g.M.wJ,g.L.fB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !w.is.wi(x.version))throw new k.md(g.M.wJ,g.L.fB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.md(g.M.wJ,g.L.dza,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.ps=new n.rca(2,this.config.sU,this.is.Sm(this.config.sU),this.Hn,this.Rw);}function f(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new k.md(g.M.wJ,g.L.fB);return {version:1,drmData:[v]};}function l(v,u){if(v.my(u.drmData))return {version:2,drmData:u.drmData.map(function(t){var w;w=t.keySessionIds;return new q.q_({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(x){return {id:x,licenseContextId:t.licenseContextId,licenseId:void 0};}),xid:t.xid,movieId:t.movieId}).Rw();})};throw new k.md(g.M.wJ,g.L.fB);}Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;r=a(1);m=a(0);d=a(69);g=a(3);h=a(26);k=a(41);n=a(315);p=a(78);q=a(201);c.prototype.z5a=function(){return this.CXb();};c.prototype.NOa=function(v){return this.ps.add(v);};c.prototype.TX=function(v){return this.ps.remove(v,function(u,t){return u.ca === t.ca;});};c.prototype.toString=function(){return JSON.stringify(this.Rw(),null,"  ");};c.prototype.CXb=function(){var v;v=this;this.D5a || (this.D5a=new Promise(function(u,t){v.ps.load(v.oma).then(function(){u();}).catch(function(w){w.na && w.cause?t(new k.md(g.M.wJ,w.na,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):t(w);});}));return this.D5a;};Wa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ps.version;}},g4:{configurable:!0,enumerable:!0,get:function(){return this.ps.Kv;}}});a=c;a=r.__decorate([m.R(),r.__param(0,m.l(h.Yf)),r.__param(1,m.l(p.bB)),r.__param(2,m.l(d.Zu))],a);b.wza=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.k5a=void 0;c=a(3);f=a(95);l=a(120);m=a(200);b.k5a=function(g){m.WL.parent=g.eb;return function(){d || (d=new Promise(function(h,k){try{h(m.WL.get(l.VAa));}catch(n){k(new f.Hg(c.M.lfb,c.L.Gfb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;a.prototype.QYa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.RTb=function(){this.QYa() && (this.mediaKeys=void 0);};b.sFa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u,t){this.rG=p;this.Mc=q;this.wN=u;this.ek=t;this.log=v.hb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;r=a(1);f=a(0);l=a(120);m=a(35);d=a(7);g=a(137);h=a(79);k=a(136);n=a(593);c.prototype.zna=function(p){var q;q=this;return Promise.all([this.rG(),this.zEb()]).then(function(v){var u;u=aa(v);v=u.next().value;u=u.next().value;return v.PCb({type:p,initData:u},q.wN());}).then(function(v){var u;u=aa(v);v=u.next().value;u=u.next().value;u=q.Mc.encode(u.data[0]);q.log.trace("Challenge generated",u);return {Yb:v,bja:u};});};c.prototype.zEb=function(){var p;p=this;return this.ek.Kt().then(function(q){switch(q){case k.On.xG:return n.Ceb;case k.On.FD:return n.dib;default:return n.sjb;}}).then(function(q){return q.map(p.Mc.decode);});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.r_)),r.__param(1,f.l(m.mi)),r.__param(2,f.l(d.ob)),r.__param(3,f.l(g.$Q)),r.__param(4,f.l(h.cv))],a);b.yza=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sjb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Ceb=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.dib=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(13);f=a(595);l=a(36);m=a(40);d=a(596);g=a(317);h=a(598);k=a(166);n=a(599);p=a(69);q=a(600);b.config=new r.od(function(v){v(c.Rc).Ff(function(){return function(){return nb._cad_global.config;};});v(l.zba).to(f.Rza).aa();v(l.Ol).to(f.hLa).aa();v(l.OQ).to(f.CDa).aa();v(m.Em).to(d.eCa).aa();v(g.UFa).to(h.TFa).aa();v(k.ZBa).to(n.YBa).aa();v(p.Zu).to(q.tBa).aa();});},function(r,b,a){var m,d,g,h,k;function c(){this.Jy={};this.N6a=0;}function f(n,p,q,v,u){this.debug=n;this.wz=p;this.SW=q;this.Sf=v;this.v9=u;}function l(n,p,q){this.wz=n;this.SW=p;this.v9=q;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=b.hLa=b.Rza=void 0;r=a(1);m=a(0);d=a(96);g=a(7);h=a(138);k=a(316);a=a(36);l=r.__decorate([m.R(),r.__param(0,m.l(a.OQ)),r.__param(1,m.l(h.I0)),r.__param(2,m.l(k.Xda))],l);b.Rza=l;f=r.__decorate([m.R(),r.__param(0,m.l(d.Wu)),r.__param(1,m.l(a.OQ)),r.__param(2,m.l(h.I0)),r.__param(3,m.l(g.ob)),r.__param(4,m.l(k.Xda))],f);b.hLa=f;c.prototype.YMb=function(n){this.Jy=Object.assign({},this.Jy,n);this.N6a++;};Wa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Jy;}},P9:{configurable:!0,enumerable:!0,get:function(){return this.N6a;}}});a=r.__decorate([m.R()],c);b.CDa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v){p=d.We.call(this,p,void 0 === v?"GeneralConfigImpl":v) || this;p.fm=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=b.cM=void 0;r=a(1);f=a(4);l=a(0);m=a(45);d=a(46);g=a(40);h=a(36);a=a(134);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.cM=function(p,q){return p.A5a(k[q] || q,g.nx);};la(c,d.We);Wa.Object.defineProperties(c.prototype,{cM:{configurable:!0,enumerable:!0,get:function(){return g.nx.jib;}},dwa:{configurable:!0,enumerable:!0,get:function(){return f.jh(8);}},nz:{configurable:!0,enumerable:!0,get:function(){return "";}},tL:{configurable:!0,enumerable:!0,get:function(){return "";}},QI:{configurable:!0,enumerable:!0,get:function(){return "";}},u9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},K2:{configurable:!0,enumerable:!0,get:function(){return !0;}},FV:{configurable:!0,enumerable:!0,get:function(){return this.fm.FV;}},aBb:{configurable:!0,enumerable:!0,get:function(){return !1;}},fe:{configurable:!0,enumerable:!0,get:function(){return {};}},L6a:{configurable:!0,enumerable:!0,get:function(){return !1;}},vpa:{configurable:!0,enumerable:!0,get:function(){return !1;}},waa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Cs:{configurable:!0,enumerable:!0,get:function(){return !1;}},DU:{configurable:!0,enumerable:!0,get:function(){return !0;}},VD:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Uv:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.nx.uKa,g.nx.GDa].indexOf(this.cM);}}});n=c;r.__decorate([m.config(b.cM,"environment")],n.prototype,"cM",null);r.__decorate([m.config(m.Qk,"storageTimeout")],n.prototype,"dwa",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"nz",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"tL",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"QI",null);r.__decorate([m.config(m.Yc,"testIndexDBForCorruptedDatabase")],n.prototype,"u9a",null);r.__decorate([m.config(m.Yc,"applyIndexedDbOpenWorkaround")],n.prototype,"K2",null);r.__decorate([m.config(m.Yc,"ignoreIdbOpenError")],n.prototype,"FV",null);r.__decorate([m.config(m.Yc,"executeStorageMigration")],n.prototype,"aBb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"fe",null);r.__decorate([m.config(m.Yc,"retryAllMslRequestsOnError")],n.prototype,"L6a",null);r.__decorate([m.config(m.Yc,"isTestAccount")],n.prototype,"vpa",null);r.__decorate([m.config(m.Yc,"vuiCommandLogging")],n.prototype,"waa",null);r.__decorate([m.config(m.Yc,"useRangeHeader")],n.prototype,"Cs",null);r.__decorate([m.config(m.Yc,"enableMilestoneEventList")],n.prototype,"DU",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"VD",null);n=r.__decorate([l.R(),r.__param(0,l.l(h.Ol)),r.__param(1,l.l(a.pR)),r.__param(2,l.l(h.bQ)),r.__param(2,l.optional())],n);b.eCa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.hda=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.hda=a;},function(r,b,a){var f,l,m,d;function c(g,h){return m.We.call(this,g,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;r=a(1);f=a(0);l=a(45);m=a(46);a=a(36);la(c,m.We);Wa.Object.defineProperties(c.prototype,{gab:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([l.config(l.Yc,"useNetworkMonitor")],d.prototype,"gab",null);d=r.__decorate([f.R(),r.__param(0,f.l(a.Ol)),r.__param(1,f.l(a.bQ)),r.__param(1,f.optional())],d);b.TFa=d;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v){n=d.We.call(this,n,void 0 === v?"FtlProbeConfigImpl":v) || this;n.th=p;n.xa=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;r=a(1);f=a(37);l=a(0);m=a(4);d=a(46);g=a(121);h=a(45);a=a(36);la(c,d.We);Wa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.qma + (-1 === this.qma.indexOf("?")?"?":"&") + "monotonic=" + this.xa.q2a + "&device=web";}},C8a:{configurable:!0,enumerable:!0,get:function(){return m.bb;}},hma:{configurable:!0,enumerable:!0,get:function(){return "";}},qma:{configurable:!0,enumerable:!0,get:function(){return this.th.endpoint + "/ftl/probe" + (this.hma?"?force=" + this.hma:"");}}});k=c;r.__decorate([h.config(h.Yc,"ftlEnabled")],k.prototype,"enabled",null);r.__decorate([h.config(h.Qk,"ftlStartDelay")],k.prototype,"C8a",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],k.prototype,"hma",null);r.__decorate([h.config(h.url,"ftlEndpoint")],k.prototype,"qma",null);k=r.__decorate([l.R(),r.__param(0,l.l(a.Ol)),r.__param(1,l.l(g.bJ)),r.__param(2,l.l(f.Lh)),r.__param(3,l.l(a.bQ)),r.__param(3,l.optional())],k);b.YBa=k;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){k=l.We.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.fe=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);d=a(4);g=a(45);a=a(163);la(c,l.We);Wa.Object.defineProperties(c.prototype,{YZa:{configurable:!0,enumerable:!0,get:function(){return this.fe.k_a || this.fe.OV || this.fe.hN?!0:!1;}},fD:{configurable:!0,enumerable:!0,get:function(){return d.jh(5);}},Jsa:{configurable:!0,enumerable:!0,get:function(){return d.jh(10);}},sU:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},TU:{configurable:!0,enumerable:!0,get:function(){return !1;}},Dw:{configurable:!0,enumerable:!0,get:function(){return !0;}},wPa:{configurable:!0,enumerable:!0,get:function(){return d.jh(30);}},xPa:{configurable:!0,enumerable:!0,get:function(){return d.jh(30);}},APa:{configurable:!0,enumerable:!0,get:function(){return d.jh(30);}},yPa:{configurable:!0,enumerable:!0,get:function(){return d.jh(30);}},BPa:{configurable:!0,enumerable:!0,get:function(){return d.jh(30);}},jva:{configurable:!0,enumerable:!0,get:function(){return "";}},E3a:{configurable:!0,enumerable:!0,get:function(){return this.fe.ew?!1:!0;}},F3a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([g.config(g.Yc,"initializeKeySystemAtStartup")],h.prototype,"YZa",null);r.__decorate([g.config(g.Qk,"licenseRenewalRequestDelay")],h.prototype,"fD",null);r.__decorate([g.config(g.Qk,"persistedReleaseDelay")],h.prototype,"Jsa",null);r.__decorate([g.config(g.string,"drmPersistKey")],h.prototype,"sU",null);r.__decorate([g.config(g.Yc,"forceLimitedDurationLicense")],h.prototype,"TU",null);r.__decorate([g.config(g.Yc,"prepareCadmium")],h.prototype,"Dw",null);r.__decorate([g.config(g.Qk,"apiCloseTimeout")],h.prototype,"wPa",null);r.__decorate([g.config(g.Qk,"apiCreateMediaKeysTimeout")],h.prototype,"xPa",null);r.__decorate([g.config(g.Qk,"apiSetServerCertificateTimeout")],h.prototype,"APa",null);r.__decorate([g.config(g.Qk,"apiGenerateRequestTimeout")],h.prototype,"yPa",null);r.__decorate([g.config(g.Qk,"apiUpdateTimeout")],h.prototype,"BPa",null);r.__decorate([g.config(g.string,"serverCertificate")],h.prototype,"jva",null);r.__decorate([g.config(g.Yc,"outputRestrictedIsFatal")],h.prototype,"E3a",null);r.__decorate([g.config(g.Yc,"outputRestrictedIsFatalForUhd")],h.prototype,"F3a",null);h=r.__decorate([f.R(),r.__param(0,f.l(m.Ol)),r.__param(1,f.l(a.eB)),r.__param(2,f.l(m.bQ)),r.__param(2,f.optional())],h);b.tBa=h;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.jUa=void 0;r=a(0);c=a(120);f=a(602);l=a(79);m=a(603);d=a(319);g=a(611);b.jUa=new r.od(function(h){h(c.VAa).to(f.UAa).aa();h(l.cv).to(m.rFa).aa();h(d.vBa).to(g.uBa);});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w;function c(x,y,z,A,B,D,E,F,C,G){var J;J=this;this.Ic=y;this.oA=z;this.config=A;this.Hr=B;this.Szb=D;this.sL=E;this.ek=F;this.wN=C;this.rm=G;this.eYb=function(K,H){var L;J.rm.mark(w.Ia.A_,K.Fi.ca,"generate-challenge");L=!1;H.bWb(function(R){L || (L=!0,J.rm.mark(w.Ia.z_,K.Fi.ca,"generate-challenge"));J.HG(K,H,R).then(function(I){H.ROa(I);J.fsb(H);}).catch(function(I){return H.rpb(I);});});};this.log=x.hb("DrmServices");this.Hr().Zo && this.sL.z5a().then(function(){J.ETb();}).catch(function(K){J.log.error("Unable to load the persisted DRM data",K);});this.config.YZa && this.ek.aw().then(function(K){return J.zSa(C(),K,h.Oh.kp).then(function(H){return H.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;r=a(1);f=a(0);l=a(7);m=a(48);d=a(318);g=a(70);h=a(57);k=a(69);n=a(202);p=a(201);q=a(319);v=a(13);u=a(79);t=a(137);w=a(62);c.prototype.PCb=function(x,y){return this.iG(y,x.type,x.context).then(function(z){return z.SCb(x.initData).then(function(A){return [z,{qo:z.Kt(),data:A.Uj}];});});};c.prototype.zg=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.pXa(x,x.type));return this.iG(y,x.type,x.context).then(function(A){z.o2a(x,A);return A.TCb(x.initData).then(function(){return A;});});};c.prototype.o2a=function(x,y){y.iWb(x.Fi);this.eYb(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.jYa(x));return this.LFb(x).then(function(){var A;A=Object.assign({active:!1,se:[]},x.Fi);z.sL.TX(A);y.RTb();return x;});};c.prototype.pXa=function(x,y){return {movieId:x.Fi.J,xid:x.Fi.ca,type:h.Vpa(y)};};c.prototype.jYa=function(x){return {movieId:x.Fi?x.Fi.J:void 0,xid:x.Fi?x.Fi.ca:void 0,keySessionId:x.gz()};};c.prototype.HG=function(x,y,z){this.log.info("Sending license request",this.pXa(x,z.Qf));return this.oA.zg({ca:x.Fi.ca,lj:x.Fi.lj,f4:[x.Fi.gm],Uj:[{sessionId:y.gz() || "session",data:z.Uj}],Qf:z.Qf,qo:y.Kt(),iRa:z.iRa,sW:x.Fi.sW,bk:x.Fi.bk});};c.prototype.LFb=function(x){this.log.info("Sending release request",this.jYa(x));return this.oA.release({ca:x.Fi.ca,se:x.se});};c.prototype.iG=function(x,y,z){var A;A=this;return this.ek.aw().then(function(B){return A.zSa(x,B,y,z);});};c.prototype.zSa=function(x,y,z,A){return this.Szb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.DTb=function(x){var y;y=this;return this.oA.release({ca:x.ca,se:x.se}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.ETb=function(){var x;x=this;this.Ic.nk(this.config.Jsa,function(){x.log.trace("Removing cached sessions",{"count:":x.sL.g4.length});x.sL.g4.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.DTb(z);}).then(function(){return x.sL.TX(z);});},Promise.resolve(void 0));});};c.prototype.fsb=function(x){var y;if(x.gz() && x.Fi){y=new p.q_();y.se=x.se;y.ca=x.Fi.ca;y.J=x.Fi.J;this.sL.NOa(y);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.Gj)),r.__param(2,f.l(d.TAa)),r.__param(3,f.l(k.Zu)),r.__param(4,f.l(v.Rc)),r.__param(5,f.l(q.vBa)),r.__param(6,f.l(n.wba)),r.__param(7,f.l(u.cv)),r.__param(8,f.l(t.$Q)),r.__param(9,f.l(g.cR))],a);b.UAa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,H,L,R,I,P){this.Tr=F;this.Ie=C;this.Kh=G;this.Zi=J;this.Mc=K;this.is=H;this.HW=L;this.config=R;this.Vp=I;this.Ch=P;this.log=this.Tr.hb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;r=a(1);f=a(0);l=a(3);m=a(7);d=a(95);g=a(136);h=a(604);k=a(605);n=a(606);p=a(204);q=a(29);v=a(76);u=a(35);t=a(26);w=a(38);x=a(607);y=a(609);z=a(77);A=a(13);B=a(109);D=a(69);a=a(66);c.prototype.aw=function(){this.promise || (this.promise=this.SUb());return this.promise;};c.prototype.Rwb=function(F){var C;C=this;return new Promise(function(G,J){var K,H;K=B.Fb.Pma(F);H=C.TWa(K);K=C.MWa(K);H.kUb(F,K.tna()).then(function(L){C.log.trace("Created the media keys system access",{keySystem:F,supportedconfig:L.getConfiguration?JSON.stringify(L.getConfiguration()):void 0});G(L);}).catch(function(L){C.log.error("Unable to create the media key system access object",{keySystem:F,error:L.message});J(new d.Hg(l.M.dBa,l.L.Aj,void 0,"Unable to create media keys system access. " + L.message,L));});});};c.prototype.Kt=function(){var F;F=this;return this.aw().then(function(C){return F.NWa(C);});};c.prototype.bEb=function(){var F,C;F=this;C=this.config().$_a || [this.config().km];if(1 < C.length)return this.aw().then(function(G){return F.NWa(G);}).then(function(G){return B.Fb.LWa(G);});C=B.Fb.Pma(C[0]);return Promise.resolve(B.Fb.LWa(C));};c.prototype.cEb=function(){var F;F=this;return this.Kt().then(function(C){return F.MWa(C);});};c.prototype.eEb=function(){var F;F=this;return this.Kt().then(function(C){return F.TWa(C);});};c.prototype.NWa=function(F){return B.Fb.Pma(F.keySystem);};c.prototype.MWa=function(F){switch(F){case g.On.FD:return new h.rBa(this.Zi,this.Mc);case g.On.xG:return new y.uJa(this.Zi,this.Mc,this.Kh,this.Ch);default:return new n.Jza(this.Zi,this.Vp,this.config);}};c.prototype.TWa=function(F){switch(F){case g.On.FD:return new k.yIa(this.HW,this.is,this.Mc,this.Ie,this.Vp,this.Kh);case g.On.xG:return new x.TBa(this.HW,this.is,this.Mc,this.Ie,this.Vp,this.Kh);default:return new p.hv(this.HW,this.is,this.Mc,this.Ie,this.Vp,this.Kh);}};c.prototype.SUb=function(){var F,C;F=this;C=(this.config().$_a || [this.config().km]).map(function(G){return function(){return F.Rwb(G);};});return this.TUb(C);};c.prototype.TUb=function(F){return F.reduce(function(C,G){return C.then(function(J){return Promise.resolve(J);}).catch(function(){return G();});},Promise.reject(Error("keySystem missing")));};E=c;E=r.__decorate([f.R(),r.__param(0,f.l(m.ob)),r.__param(1,f.l(q.Zf)),r.__param(2,f.l(z.jv)),r.__param(3,f.l(v.dx)),r.__param(4,f.l(u.mi)),r.__param(5,f.l(t.Yf)),r.__param(6,f.l(w.HJ)),r.__param(7,f.l(A.Rc)),r.__param(8,f.l(D.Zu)),r.__param(9,f.l(a.Ns))],E);b.rFa=E;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v){this.Zi=q;this.Mc=v;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(1);f=a(0);l=a(3);m=a(76);d=a(35);g=a(203);h=a(95);k=a(64);n=a(41);p=a(63);c.prototype.v3=function(){return !0;};c.prototype.jia=function(){return !1;};c.prototype.Via=function(){return !1;};c.prototype.iV=function(){return p.gx;};c.prototype.Ema=function(){return p.mda;};c.prototype.tna=function(){return [{initDataTypes:[this.iV()],audioCapabilities:[{contentType:g.CJ}],videoCapabilities:[{contentType:g.ux}],sessionTypes:["temporary"]}];};c.prototype.Soa=function(){Promise.reject(new n.md(l.M.Sba));};c.prototype.Rja=function(q){var v;v=new Uint8Array(q.message);v=this.Bla(v,"PlayReadyKeyMessage","Challenge");v=this.Mc.decode(v);return {type:q.type,sessionId:q.target.sessionId,nH:[v],messageType:q.messageType};};c.prototype.Gy=function(q){var v,u,t;v=new h.Hg(l.M.fr);u=q.code;null != u && void 0 !== u?(u=parseInt(u,10),v.xc=1 <= u && 9 >= u?l.L.Js + u:l.L.Js):v.xc=q instanceof k.hr?l.L.mQ:l.L.Aj;try{t=(/\((\d+)\)/).exec(q.message);v.Kd=this.Zi.AG(Number(t && t[1]),4);}catch(w){}v.jU(q);return v;};c.prototype.Bla=function(q,v){var t,w,x;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=q.length;for(t=0;t < w;t++){x=q[t];0 < x && (u+=String.fromCharCode(x));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){x=arguments[t];if(0 > u.search(x))return "";x="(?:[^:].*:|)" + x;w="[\\s\\S]*<" + x + "[^>]*>" + w + "</" + x + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.xM=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.dx)),r.__param(1,f.l(d.mi))],a);b.rBa=a;},function(r,b,a){var f,l,m,d;function c(){return l.hv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;r=a(1);f=a(0);l=a(204);m=a(95);d=a(3);la(c,l.hv);c.prototype.E3=function(g,h,k,n,p){this.a6a(k);this.Z5a(n);this.X5a(p);this.Olb=this.qb;this.qb=g.createSession(h);this.VOa(k);this.QOa(n);this.OOa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function g(k){return k && k.sessionId?k.close().then(function(){return k=void 0;}):Promise.resolve();}h=this;this.xja=void 0;return this.qb?g(this.qb).then(function(){g(h.Olb);}):Promise.reject(new m.Hg(d.M.cBa,d.L.oJ,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,h){this.initDataType=g;this.initData=h;return l.hv.prototype.generateRequest.call(this,g,h);};a=r.__decorate([f.R()],c);b.yIa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t){this.Zi=v;this.Vp=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;r=a(1);f=a(0);l=a(3);m=a(76);d=a(203);g=a(95);h=a(64);k=a(69);n=a(13);p=a(41);q=a(63);c.prototype.v3=function(){return !0;};c.prototype.jia=function(){return !0;};c.prototype.Via=function(){return !0;};c.prototype.iV=function(){return q.gx;};c.prototype.Ema=function(){return this.Vp.jva?this.Vp.jva:q.uLa;};c.prototype.tna=function(){var v,u;v=[{contentType:d.ux,robustness:q.vJ},{contentType:d.ux,robustness:q.iea},{contentType:d.ux,robustness:q.D0}];u=[{contentType:d.ux,robustness:q.D0}];return [{initDataTypes:[this.iV()],persistentState:"required",videoCapabilities:this.config().IVa?u:v}];};c.prototype.Soa=function(){Promise.reject(new p.md(l.M.Sba));};c.prototype.Rja=function(v){return {type:v.type,sessionId:v.target.sessionId,nH:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.Gy=function(v){var u,t,w;u=new g.Hg(l.M.fr);t=v.code;null != t && void 0 !== t?(t=parseInt(t,10),u.xc=1 <= t && 9 >= t?l.L.Js + t:l.L.Js):u.xc=v instanceof h.hr?l.L.mQ:l.L.Aj;try{w=v.message.match(/\((\d*)\)/)[1];u.Kd=this.Zi.AG(w,4);}catch(x){}u.jU(v);return u;};c.prototype.xM=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.dx)),r.__param(1,f.l(k.Zu)),r.__param(2,f.l(n.Rc))],a);b.Jza=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t,w,x,y,z){u=l.hv.call(this,u,t,w,x,y,z) || this;u.Mc=w;u.ae=x;u.Vp=y;u.Kh=z;u.gZa=new m.SBa(u.Mc,u.ae,u.Kh);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;r=a(1);f=a(0);l=a(204);m=a(608);d=a(38);g=a(26);h=a(35);k=a(29);n=a(69);p=a(77);q=a(320);v=a(321);la(c,l.hv);c.prototype.generateRequest=function(u,t){var w,x,y;w=this;try{x=t.map(function(z){return w.gZa.LEb(z);});this.NZa=x.map(function(z){return w.Mc.encode(z);});y=this.gZa.zub(x);return l.hv.prototype.generateRequest.call(this,u,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(u,t,w){var x,y,z,A,B;x=this;if(w)try{y=this.Kh.encode(u[0]);z=JSON.parse(y).RESPONSES.map(function(D){var E;E=v.E0.Z8a(D.ID);return {keyID:t === q.$E.XIa?x.NZa[x.NZa.length - 1]:w[E],payload:D.PAYLOAD};});if(t === q.$E.Request){A=z.map(function(D){return D.keyID;});w.forEach(function(D){-1 === A.indexOf(D) && z.push({keyID:D,error:1});});}B=JSON.stringify(z);u=[this.Kh.decode(B)];}catch(D){return Promise.reject(D);}return l.hv.prototype.update.call(this,u,t);};c.prototype.WH=function(){return l.hv.prototype.update.call(this,[this.Kh.decode("renew")],q.$E.Request);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(d.HJ)),r.__param(1,f.l(g.Yf)),r.__param(2,f.l(h.mi)),r.__param(3,f.l(k.Zf)),r.__param(4,f.l(n.Zu)),r.__param(5,f.l(p.jv))],a);b.TBa=a;},function(r,b){function a(c,f,l){var m;m=this;this.Mc=c;this.ae=f;this.Kh=l;this.LEb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.Mc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.Deb={gx:1667591779,g2b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;a.prototype.zub=function(c){var f;f=this.Deb.gx;c=c.map(function(l){return {t9b:"",mKb:l,Xha:l,uXb:l,A0b:[1]};});return this.NLb(f,c);};a.prototype.MLb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.wqa("fpsi",[f]);};a.prototype.LLb=function(c,f,l,m){c=[this.wqa("fkri",[c])];f.byteLength && c.push(this.lW("fkai",[f]));l.byteLength && c.push(this.lW("fkcx",[l]));m.length && c.push(this.lW("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.lW("fpsk",c);};a.prototype.NLb=function(c,f){var l,d;l=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.MLb(c)];for(var m in f){d=f[m];c.push(this.LLb(d.mKb,d.Xha,d.uXb,d.A0b));}f=this.lW("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,f.byteLength);return this.wqa("pssh",[l,m,f]);};a.prototype.wqa=function(c,f){var l,m,d;l=0;for(d in f){l+=f[d].byteLength;}l=new Uint8Array(12 + l);m=new DataView(l.buffer);d=0;m.setUint32(d,l.byteLength);d+=4;l.set(this.Kh.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var g in f){c=f[g];l.set(c,d);d+=c.byteLength;}return l;};a.prototype.lW=function(c,f){var l,m;l=0;for(m in f){l+=f[m].byteLength;}l=new Uint8Array(8 + l);m=0;new DataView(l.buffer).setUint32(m,l.byteLength);m+=4;l.set(this.Kh.decode(c),m);m+=4;for(var d in f){c=f[d];l.set(c,m);m+=c.byteLength;}return l;};b.SBa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u;function c(t,w,x,y){this.Zi=t;this.Mc=w;this.Kh=x;this.Ch=y;}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=void 0;r=a(1);f=a(0);l=a(3);m=a(76);d=a(77);g=a(95);h=a(64);k=a(35);n=a(63);p=a(322);q=a(41);v=a(66);u=a(321);c.prototype.v3=function(){return !1;};c.prototype.jia=function(){return !1;};c.prototype.Via=function(){return !0;};c.prototype.iV=function(){return n.gx;};c.prototype.Ema=function(){return n.w_;};c.prototype.tna=function(){return [{initDataTypes:[n.gx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.Soa=function(t){t.WH();};c.prototype.Rja=function(t){var w,x;w=[];if(t.messageType === p.Nca || t.messageType === p.Mca){if(t.messageType === p.Nca){x=this.Kh.encode(new Uint8Array(t.message));w=JSON.parse(x);x=w.map(function(y){return y.keyID;});w=w.map(function(y){return y.payload;});}else w=[this.Mc.encode(new Uint8Array(t.message))];if(0 === w.length || !w.every(function(y){return y && y.length;}))throw new q.md(l.M.hBa);w=this.iZb(w);w=this.Kh.decode(JSON.stringify(w));}else w=new Uint8Array(t.message);return {type:t.type,sessionId:t.target.sessionId,nH:[w],messageType:t.messageType,fw:x};};c.prototype.Gy=function(t){var w,x,y,z;x=null === (w=t.target) || void 0 === w?void 0:w.error;if(x)(y=x.systemCode,z=x.code);w=new g.Hg(l.M.fr,t instanceof h.hr?l.L.mQ:l.L.Js,y?this.Zi.AG(y,4):z,"",x);w.jU(t);return w;};c.prototype.iZb=function(t){t=t.map(function(w,x){return {ID:u.E0.uIb(x),PAYLOAD:w};});return {VERSION:this.Ch.u3?3:1,CHALLENGES:t};};c.prototype.xM=function(t,w){var x,y;x=this;if(w && this.Ch.u3)try{y=this.Kh.encode(w[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=u.E0.Z8a(z.ID);z=x.Mc.decode(z.DHB).subarray(4,12);A=x.Mc.decode(t[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Hg(l.M.Ihb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.dx)),r.__param(1,f.l(k.mi)),r.__param(2,f.l(d.jv)),r.__param(3,f.l(v.Ns))],a);b.uJa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q0=void 0;b.q0=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u,t,w){this.Tr=p;this.za=q;this.Mc=v;this.config=u;this.Mo=t;this.ek=w;}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;r=a(1);f=a(0);l=a(7);m=a(17);d=a(35);g=a(69);h=a(64);k=a(322);a=a(79);c.prototype.create=function(){var p;p=this;return Promise.all([this.ek.eEb(),this.ek.cEb(),this.ek.Kt()]).then(function(q){var v,u;v=aa(q);q=v.next().value;u=v.next().value;v=v.next().value;return new k.wBa(p.Tr,p.za,p.Mc,p.config,q,u,v,p.Mo);});};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.cd)),r.__param(2,f.l(d.mi)),r.__param(3,f.l(g.Zu)),r.__param(4,f.l(h.Cx)),r.__param(5,f.l(a.cv))],n);b.uBa=n;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M;Object.defineProperty(b,"__esModule",{value:!0});b.w0a=void 0;c=a(613);f=a(638);l=a(647);m=a(650);d=a(656);g=a(966);h=a(1004);k=a(1007);n=a(1019);p=a(1029);q=a(1033);v=a(1035);u=a(1066);t=a(1068);w=a(1072);x=a(1087);y=a(1095);z=a(1102);A=a(1105);B=a(1112);D=a(200);E=a(1120);F=a(1121);C=a(1128);G=a(1141);J=a(1147);K=a(1149);H=a(1156);L=a(1185);R=a(1207);I=a(1211);P=a(1215);N=a(1229);M=a(1232);b.w0a=function(Q){Q.load(c.Dy,h.EI,f.M0a,k.Zm,l.n2a,m.Aa,d.wab,g.kZa,n.storage,p.kL,q.TQa,v.g1a,u.rD,t.Yj,w.L0a,x.C2a,y.WVa,z.l5a,A.KH,B.fUa,D.eme,E.crypto,F.Ie,C.Dd,G.Na,J.t2a,K.j4a,H.j,L.NRa,R.transports,I.Bl,P.Dh,N.YPa,M.sa);};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa,O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb,Za,Sa,xa,Ia,Ma,Ta,hb,wb,Eb,Hb,Ob;Object.defineProperty(b,"__esModule",{value:!0});b.Dy=void 0;r=a(0);c=a(38);f=a(37);l=a(48);m=a(81);d=a(139);g=a(614);h=a(615);k=a(616);n=a(617);p=a(77);q=a(76);v=a(35);u=a(29);t=a(26);w=a(97);x=a(64);y=a(325);z=a(618);A=a(326);B=a(619);D=a(620);E=a(621);F=a(193);C=a(327);G=a(622);J=a(199);K=a(111);H=a(623);L=a(17);R=a(328);I=a(624);P=a(625);N=a(96);M=a(626);Q=a(7);T=a(324);da=a(627);pa=a(70);wa=a(628);ua=a(329);X=a(629);sa=a(630);O=a(112);S=a(11);ka=a(631);ia=a(331);Pa=a(332);Ea=a(632);Va=a(333);Ya=a(13);bb=a(34);Xa=a(140);mb=a(334);Za=a(163);Sa=a(633);xa=a(335);Ia=a(336);Ma=a(206);Ta=a(634);hb=a(337);wb=a(635);Eb=a(207);Hb=a(636);Ob=a(637);b.Dy=new r.od(function(Cb){Cb(c.qR).$D(function(){return {};}).aa();Cb(c.xE).Mi(JSON);Cb(c.xLa).Mi(nb);Cb(d.lKa).Mi(Math);Cb(c.jEa).Mi(S.a0);Cb(c.yda).Mi(S.ev);Cb(c.bLa).Mi(S.qB);Cb(c.pAa).Mi(Date);Cb(c.HJ).Mi(S.hf);Cb(c.Cgb).Mi(S.LE);Cb(T.Nza).to(da.Mza).aa();Cb(L.cd).to(H.cya).aa();Cb(f.Lh).to(n.Oza).aa();Cb(l.Gj).to(g.vJa).aa();Cb(m.rx).to(h.vDa).aa();Cb(x.Cx).to(E.MIa).aa();Cb(d.x0).to(k.TIa).aa();Cb(mb.Uca).to(Ob.nFa).aa();Cb(N.Wu).to(P.vAa).aa();Cb(N.tAa).to(M.sAa).aa();Cb(p.jv).to(z.cLa).aa();Cb(q.dx).to(A.oba).aa();Cb(v.mi).to(B.Lya).aa();Cb(u.Zf).to(D.dLa).aa();Cb(t.Yf).Mi(F.wE);Cb(xa.oQ).to(Ia.KBa).aa();Cb(w.Xba).to(C.wk).Boa();Cb(w.o_).to(C.wk).aa();Cb(w.FAa).to(C.wk).aa();Cb(w.$ba).to(C.wk).aa();Cb(J.sea).to(K.xB).aa();Cb(R.dAa).to(I.cAa).aa();Cb(pa.YE).to(wa.xea).aa();Cb(pa.cR).to(wa.xea).aa();Cb("Factory<LoggerFactory>").S9a(Q.ob);Cb(ua.Mba).to(X.wAa).aa();Cb(O.PJ).Ff(function(Kb){return function(Vb){return new sa.wKa(Kb.eb.get(L.cd),Kb.eb.get(l.Gj),Vb);};});Cb(hb.qAa).Ff(function(Kb){return function(Vb){return new wb.rAa(Kb.eb.get(l.Gj),Vb);};});Cb(ka.Wda).kZb(ia.Vda);Cb(ka.hib).Ff(function(Kb){var Vb;Vb=Kb.eb.get(ka.Wda);return function(){return new Vb(!1);};});Cb(ka.iib).Ff(function(Kb){var Vb;Vb=Kb.eb.get(ka.Wda);return function(){return new Vb(!0);};});Cb(Pa.$Ka).Ff(function(){return function(Kb){return new Ea.aLa(Kb);};});Cb(Xa.rR).Ff(function(Kb){return function(Vb,mc,Dc){return new Va.aIa(Kb.eb.get(N.Wu),Kb.eb.get(Ya.Rc),Kb.eb.get(bb.xk),Kb.eb.get(mb.Uca),Vb,mc,Dc);};});Cb(y.hGa).Ff(function(){return function(Kb){return new G.iGa(Kb);};});Cb(Za.eB).to(Sa.aza);Cb(Ma.K0).Ff(function(Kb){return function(Vb,mc){return new Ta.HKa(Kb.eb.get(l.Gj),Vb,mc);};});Cb(Eb.DBa).to(Hb.CBa).aa();});},function(r,b,a){var l,m,d,g;function c(h){this.mP=h;m.Go(this,"timers");}function f(h,k){this.mP=h;this.Osb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.vJa=void 0;r=a(1);l=a(0);m=a(56);d=a(38);g=a(4);f.prototype.cancel=function(){this.Osb(this.mP);};c.prototype.Il=function(h){return this.nk(g.bb,h);};c.prototype.nk=function(h,k){var n;n=this.mP.setTimeout(k,h.da(g.ka));return new f(this.mP,function(p){p.clearTimeout(n);});};c.prototype.T9=function(h,k){var n;n=this.mP.setInterval(k,h.da(g.ka));return new f(this.mP,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.xLa))],a);b.vJa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.xa=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;r=a(1);l=a(0);m=a(4);d=a(37);a=a(139);c.prototype.Hy=function(){return this.xa.bf.da(m.Un) * f.qza + Math.floor(this.random.random() * f.qza);};g=f=c;g.qza=1E8;g=f=r.__decorate([l.R(),r.__param(0,l.l(d.Lh)),r.__param(1,l.l(a.x0))],g);b.vDa=g;},function(r,b,a){var f,l;function c(m){this.BYb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.TIa=void 0;r=a(1);f=a(0);a=a(139);c.prototype.random=function(){return this.BYb.random();};c.prototype.t5a=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.lKa))],l);b.TIa=l;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v){var u;u=this;this.config=n;this.Jxb=p;this.Ob=q;this.performance=v;this.zPb=function(t){u.m7a=t.Ca(u.bf);};f.Go(this,"date");f.Go(this,"performance");this.gqb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.m7a=l.bb;this.Ob.addListener(k.tca.p7a,this.zPb);}Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;r=a(1);f=a(56);l=a(4);m=a(0);d=a(38);g=a(324);h=a(97);k=a(15);Wa.Object.defineProperties(c.prototype,{bf:{configurable:!0,enumerable:!0,get:function(){return this.q2a?l.timestamp(this.performance.timing.navigationStart + this.performance.now()):l.Hc(this.Jxb.now());}},lY:{configurable:!0,enumerable:!0,get:function(){return this.bf.add(this.m7a);}},q2a:{configurable:!0,enumerable:!0,get:function(){return this.config.iab && this.gqb;}}});a=c;a=r.__decorate([m.R(),r.__param(0,m.l(g.Nza)),r.__param(1,m.l(d.pAa)),r.__param(2,m.l(h.$ba)),r.__param(3,m.l(d.yda)),r.__param(3,m.optional())],a);b.Oza=a;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;r=a(1);a=a(0);c.prototype.encode=function(m){return f.ila(m);};c.prototype.decode=function(m){return f.uka(m);};c.ila=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,g,h=m.length,k="";d < h;){g=m[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (m[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(g);}return k;};c.uka=function(m){var d,g,h,k,n;d=m.length;g=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?g[k++]=n:(2048 > n?g[k++]=192 | n >>> 6:(g[k++]=224 | n >>> 12,g[k++]=128 | n >>> 6 & 63),g[k++]=128 | n & 63);}return g;};l=f=c;l=f=r.__decorate([a.R()],l);b.cLa=l;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;r=a(1);a=a(0);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};h={};k={};n=/\s+/g;[m,l].forEach(function(p){var v;for(var q=p.length;q--;){v=p[q];d[v]=q << 18;g[v]=q << 12;h[v]=q << 6;k[v]=q;}});c.prototype.encode=function(p){return f.ila(p,m,"=");};c.prototype.decode=function(p){return f.uka(p);};c.uka=function(p){var q,v,u;p=p.replace(n,"");q=p.length;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=3 * (q >> 2);u=0;switch(q % 4){case 2:u=1;break;case 3:u=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(v + u);for(var t=0,w=0,x;w < v;){x=d[p[t++]] + g[p[t++]] + h[p[t++]] + k[p[t++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[w++]=x >>> 16;q[w++]=x >>> 8 & 255;q[w++]=x & 255;}if(0 < u && (x=d[p[t++]] + g[p[t++]],q[w++]=x >>> 16,1 < u && (x+=h[p[t++]],q[w++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < u?255:65535)))))throw Error("bad base64");return q;};c.ila=function(p,q,v){for(var u="",t=0,w=p.length,x=w - 2,y;t < x;){y=(p[t++] << 16) + (p[t++] << 8) + p[t++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");u+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(t == x){y=(p[t++] << 8) + p[t++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");u+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + v;}else if(t == w - 1){y=p[t++];if(!(0 <= y && 255 >= y))throw Error("not bytes");u+=q[y >>> 2] + q[y << 4 & 63] + v + v;}return u;};l=f=c;l=f=r.__decorate([a.R()],l);b.Lya=l;},function(r,b,a){var f,l,m,d;function c(g,h){this.is=g;this.Zi=h;}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;r=a(1);f=a(0);a(3);l=a(26);m=a(76);d=a(11);c.prototype.rH=function(g,h,k){var n,p,q,v;n=this;if(h)if(k){p=k.qN;q=k.prefix;v=k.dA;this.zC(h,function(u,t){if(!v || n.is.yg(t))g[(q || "") + (p?u.toLowerCase():u)]=t;});}else this.zC(h,function(u,t){g[u]=t;});return g;};c.prototype.zC=function(g,h){for(var k in g){g.hasOwnProperty(k) && h(k,g[k]);}};c.prototype.pt=function(g,h){if(g.length == h.length){for(var k=g.length;k--;){if(g[k] != h[k])return !1;}return !0;}return !1;};c.prototype.gSa=function(g,h){if(g.length != h.length)return !1;g.sort();h.sort();for(var k=g.length;k--;){if(g[k] !== h[k])return !1;}return !0;};c.prototype.Jd=function(g){var h,k,n;if(g){h=g.stack;k=g.number;n=g.message;n || (n="" + g);h?(g="" + h,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;k && (g+="\nnumber:" + k);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.Gma=function(g){return this.getFunctionName(g.constructor);};c.prototype.Ura=function(g){var h,k;h=this;k="";this.is.my(g) || this.is.tPa(g)?k=Array.prototype.reduce.call(g,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Ep(g)?k=g:this.zC(g,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (h.is.x2(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.Gma(g) + " " + k + "]";};c.prototype.createElement=function(g,h,k,n){var p;p=d.Ue.createElement(g);h && (p.style.cssText=h);k && (p.innerHTML=k);n && this.zC(n,function(q,v){p.setAttribute(q,v);});return p;};c.prototype.GBb=function(g,h){return function(k){return k[g] === h;};};c.prototype.hX=function(g){var h;h={};(g || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Yf)),r.__param(1,f.l(m.dx))],a);b.dLa=a;},function(r,b,a){var f,l,m;function c(d){this.Ic=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(1);f=a(0);l=a(48);m=a(64);c.prototype.Hq=function(d,g){var h;h=this;return new Promise(function(k,n){var p;p=h.Ic.nk(d,function(){n(new m.hr(d));});g.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Gj))],a);b.MIa=a;},function(r,b,a){var f;function c(l){this.$Cb=l;this.U5=!1;this.l6=this.Wf=this.hP=0;this.GV=!1;this.m6=0;}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;f=a(19);c.prototype.vpb=function(l){l < this.hP && (this.Wf+=this.hP);this.hP=l;this.U5=!0;};c.prototype.MDb=function(){if(this.U5)return this.GV?this.m6 - this.l6:this.Wf + this.hP - this.l6;};c.prototype.refresh=function(){var l;l=this.$Cb();f.Ba(l) && this.vpb(l);};c.prototype.wXb=function(){this.GV || (this.U5 && (this.m6=this.Wf + this.hP),this.GV=!0);};c.prototype.JXb=function(){this.GV && (this.U5 && (this.l6+=this.Wf + this.hP - this.m6),this.m6=0,this.GV=!1);};b.iGa=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.xa=g;this.V4=this.xa.bf.da(m.ka) - 1;this.zLb=this.k7=0;this.id="" + h.Hy();}Object.defineProperty(b,"__esModule",{value:!0});b.cya=void 0;r=a(1);f=a(0);l=a(37);m=a(4);a=a(81);c.prototype.Wb=function(){var g,h;g=this.xa.bf.da(m.ka) - this.V4;if(g < this.k7){h=this.k7 + 1;this.V4-=h - g;g=h;}this.k7=g;return m.Hc(this.k7);};c.prototype.TEb=function(){return this.zLb++;};Wa.Object.defineProperties(c.prototype,{Jz:{configurable:!0,enumerable:!0,get:function(){return m.Hc(this.V4);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.Lh)),r.__param(1,f.l(a.rx))],d);b.cya=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.is=g;this.Ie=h;}Object.defineProperty(b,"__esModule",{value:!0});b.cAa=void 0;r=a(1);l=a(0);m=a(26);a=a(29);c.prototype.encode=function(g){var h,k;h=this;k="";this.Ie.zC(g,function(n,p){n=h.DUa(n) + "=" + h.DUa(p);k=k?k + ("," + n):n;});return k;};c.prototype.DUa=function(g){return this.is.nG(g)?this.is.wi(g)?"" + g:this.is.Ep(g)?(g=g.replace(f.Zta,this.Dqa.bind(this)),!f.PSb.test(g) && f.ONb.test(g) && (g='"' + g + '"'),g):this.is.WS(g)?"" + g:this.is.gha(g)?"NaN":"":"";};c.prototype.Dqa=function(g){return f.map[g];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.Zta=/(?!^.+)["\r\n](?=.+$)/g;d.PSb=/["].*["]/g;d.ONb=/[", ]/;d=f=r.__decorate([l.R(),r.__param(0,l.l(m.Yf)),r.__param(1,l.l(a.Zf))],d);b.cAa=d;},function(r,b,a){var f,l,m,d;function c(g,h,k){this.config=g;this.ib=h;this.ta=k.hb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;r=a(1);f=a(0);l=a(26);m=a(96);a=a(7);c.prototype.assert=function(){};c.prototype.wqb=function(g,h){this.assert(this.ib.nG(g),h);};c.prototype.xqb=function(g,h){this.assert(this.ib.yg(g),h);};c.prototype.N2=function(g,h){this.assert(this.ib.Ep(g),h);};c.prototype.Dqb=function(g,h){this.assert(this.ib.Sm(g),h);};c.prototype.Bqb=function(g,h){this.assert(this.ib.Ep(g) || null === g || void 0 === g,h);};c.prototype.Wha=function(g,h){this.assert(this.ib.wi(g),h);};c.prototype.zqb=function(g,h){this.assert(this.ib.Iha(g),h);};c.prototype.Cqb=function(g,h){this.assert(this.ib.eT(g),h);};c.prototype.Aqb=function(g,h){this.assert(this.ib.XS(g),h);};c.prototype.vqb=function(g,h){this.assert(this.ib.WS(g),h);};c.prototype.yqb=function(g,h){this.assert(this.ib.x2(g),h);};c.prototype.SIb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(m.tAa)),r.__param(1,f.l(l.Yf)),r.__param(2,f.l(a.ob))],d);b.vAa=d;},function(r,b,a){var f,l,m,d;function c(g){g=l.SP.call(this,g,"DebugConfigImpl") || this;g.T7b=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;r=a(1);f=a(45);l=a(46);m=a(0);a=a(36);la(c,l.SP);Wa.Object.defineProperties(c.prototype,{Prb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.Yc,"breakOnError")],d.prototype,"Prb",null);d=r.__decorate([m.R(),r.__param(0,m.l(a.zba))],d);b.sAa=d;},function(r,b,a){var f,l,m,d;function c(g){return l.SP.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;r=a(1);f=a(45);l=a(46);m=a(0);a=a(36);la(c,l.SP);Wa.Object.defineProperties(c.prototype,{iab:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.Yc,"usePerformanceApi")],d.prototype,"iab",null);d=r.__decorate([m.R(),r.__param(0,m.l(a.zba))],d);b.Mza=d;},function(r,b,a){var f,l,m,d;function c(g,h){this.za=g;this.entries=new Set();this.ta=h.hb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.xea=void 0;r=a(1);f=a(0);l=a(17);m=a(4);a=a(7);c.prototype.mark=function(g,h,k){g={name:g,xs:this.za.Wb()};h && (g.ca=h);k && (g.Wj=k);this.entries.add(g);return g;};c.prototype.$ma=function(){var g;g=[];this.entries.forEach(function(h){return g.push(h);});return g;};c.prototype.uXa=function(g){return this.$ma().filter(function(h){return h.ca === g;});};c.prototype.sXa=function(){var g;g={};try{g=this.$ma().filter(function(h){return !h.ca;}).reduce(function(h,k){h[k.name]=k.xs.da(m.ka);return h;},{});}catch(h){this.ta.error(" getMapOfCommonMarks exception",h);}return g;};c.prototype.$5a=function(g){var h;h=this;this.$ma().forEach(function(k){k.ca === g && h.entries.delete(k);});};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.cd)),r.__param(1,f.l(a.ob))],d);b.xea=d;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v){this.za=q;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;r=a(1);l=a(0);m=a(17);d=a(41);g=a(3);h=a(15);k=a(4);n=a(11);a=a(330);c.prototype.ATa=function(q){var v,u,t,w,x,y,z,A,B,D;v=this;w=q.mediaTime.value;x=q.zr.value;y=q.zb.value;z=q.state.value;A={segmentId:q.mna(),mediaTime:w,segmentTime:q.IC(),bufferingState:f.Wrb[x],presentingState:f.bSb[y],playbackState:f.bRb[z],mseBuffersBusy:this.bGb(q),intBuffersBusy:this.FEb(q),tabVisible:this.CYb(),decodedFrameCount:this.cyb(q),videoElementInDom:this.J0b(q),lastVideoSync:this.za.Wb().Ca(k.Hc(q.OY)).da(k.ka)};B=y === h.cb.Jf?q.ab.Al?this.config.z3a:this.config.y3a:this.config.k2a;if(x !== h.tf.oe){if((x=g.L.$cb,this.DQa(A.mseBuffersBusy,A.intBuffersBusy)))D=f.Iya;}else (y !== h.cb.Ec?x=g.L.bdb:(x=g.L.adb,(y=q.Tf) && 0 === y.k5() && (D=f.wjb)),(y=q.Tf) && y.Ub.sourceBuffers.forEach(function(E){var F,C;F=f.zd[E.mediaType];A[F + "Ranges"]=E.c5();try{C=E.buffered();}catch(G){C=void 0;}C && 0 !== C.length?(E=1E3 * C.end(0) - w,A[F + "Undecoded"]=E,1 < C.length && (D=f.Rbb),w < 1E3 * C.start(0) || w > 1E3 * C.end(0)?D=f.Sbb:E < B.da(k.ka)?D=f.Tbb:v.DQa(A.mseBuffersBusy,A.intBuffersBusy) && (D=f.Iya)):(A[F + "Undecoded"]=0,D=f.Qbb);}));y=q.k6a.qYa();z=w === (null === (u=y.repositionTrace) || void 0 === u?void 0:u[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (t=q.Na) || void 0 === t?void 0:t.LI;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(E){q="Cannot stringify details: " + E;}return new d.md(g.M.sGa,x,D,void 0,void 0,void 0,q,void 0);};c.prototype.bGb=function(q){var v;if(q.Ub){v={};q.Ub.sourceBuffers.forEach(function(u){v[0 === u.type?"audio":"video"]={updating:u.updating()};});return v;}};c.prototype.FEb=function(q){var v;if(q.Ub){v={};q.Ub.sourceBuffers.forEach(function(u){v[0 === u.type?"audio":"video"]={updating:u.yh()};});return v;}};c.prototype.CYb=function(){return !n.Ue.hidden;};c.prototype.cyb=function(q){return (q=q.Tf) && (q=q.Ub.X) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.J0b=function(q){if(q=q.Tf)if(q=q.Ub.X)return n.Ue.body.contains(q);return !1;};c.prototype.DQa=function(q,v){var u,t,w,x;return !((null === (u=q.audio) || void 0 === u?void 0:u.updating) === (null === (t=v.audio) || void 0 === t?void 0:t.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (x=v.video) || void 0 === x?void 0:x.updating));};p=f=c;p.Qbb="1";p.Rbb="2";p.Sbb="3";p.Iya="4";p.Tbb="5";p.wjb="6";p.zd=["Audio","Video"];p.Wrb=["","NORMAL","BUFFERING","STALLED"];p.bSb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.bRb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=f=r.__decorate([l.R(),r.__param(0,l.l(m.cd)),r.__param(1,l.l(a.$ca))],p);b.wAa=p;},function(r,b,a){var f,l,m,d;function c(g,h,k){var n;n=this;this.cg=g;this.Ic=h;this.A3=k;this.PN=function(p){n.qj=void 0;n.TZb(p || n.A3);};this.b0a=m.Hc(-this.A3.da(m.ka));}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;r=a(1);f=a(0);l=a(17);m=a(4);a=a(48);c.prototype.Il=function(g){this.Rua=g;this.qj=this.qj || this.Nf(this.PN);};c.prototype.wh=function(){this.qj && this.qj.cancel();this.qj=void 0;};c.prototype.TZb=function(g){var h,k;h=this.cg.Wb();if(this.Rua){k=g.Ca(h.Ca(this.b0a));0 >= k.ul(m.bb)?(g=this.Rua,this.Rua=void 0,this.b0a=h,g()):this.qj=this.qj || this.Ic.nk(k,this.PN.bind(this,g));}};c.prototype.Nf=function(g){return this.Ic.nk(m.bb,g);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.cd)),r.__param(1,f.l(a.Gj))],d);b.wKa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wda="PrioritizedSetOfListsSymbol";b.hib="PrioritizedSetOfListsFactorySymbol";b.iib="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(f){this.rl=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.aLa=void 0;c.prototype.toString=function(){return this.href;};Wa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.rl + this.searchParams.toString();}}});b.aLa=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,l){this.searchParams[f]=l;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,l,m){var d;d=aa(l);l=d.next().value;d=d.next().value;return "" + f + (0 == m?"?":"&") + l + "=" + d;},"");};},function(r,b,a){var f,l,m,d,g;function c(h,k){this.fe=this.kBb(h,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=b.aza=void 0;r=a(1);f=a(0);l=a(13);m=a(36);a=a(38);c.prototype.L5=function(h,k){var n;if(k=this.zGb(k))switch(h){case g.uqa:n=0 < k.length?Number(k[0]):0;break;case g.m2a:n=1 < k.length?Number(k[1]):0;break;case g.e4a:n=2 < k.length?Number(k[2]):0;break;case g.P9:n=3 < k.length?Number(k[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.zGb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.$M=function(h){return this.fe.name === h;};c.prototype.ZG=function(h){return this.fe.fA.name === h;};c.prototype.qJb=function(h){return this.fe.Zna === h;};c.prototype.kBb=function(h,k){return Object.assign(Object.assign({Zna:this.mBb(h,k)},this.jBb(h,k)),{fA:this.nBb(h,k)});};c.prototype.mBb=function(h,k){return k && k.Zna?k.Zna:(/Mobile|iPhone/).test(h)?l.N_.phone:(/Android/).test(h)?l.N_.DYb:l.N_.mub;};c.prototype.jBb=function(h,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(h)?{name:l.ep.opera,version:""}:(k=h.match(/Edge\/(\d*)\./))?{name:l.ep.Fr,version:k[1]}:(k=h.match(/Edg\/(\d*)\./))?{name:l.ep.gUa,version:k[1]}:(k=h.match(/Chrome\/(\d*)\./))?{name:l.ep.nja,version:k[1]}:(k=h.match(/Firefox\/(\d*)\./))?{name:l.ep.BVa,version:k[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.ep.T6a,version:h[1]}:{name:l.ep.nja,version:""};};c.prototype.nBb=function(h,k){return k && k.fA && k.fA.name && k.fA.version?{name:k.fA.name,version:k.fA.version}:(/CrOS/).test(h)?{name:l.Sn.sRa,version:""}:(/Tesla/).test(h)?{name:l.Sn.t9a,version:""}:(k=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.Sn.W0a,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(h)?{name:l.Sn.Lxa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:l.Sn.H2,version:""}:(/Linux/).test(h)?{name:l.Sn.NKb,version:""}:{name:l.Sn.Lxa,version:""};};Wa.Object.defineProperties(c.prototype,{k_a:{configurable:!0,enumerable:!0,get:function(){return this.$M(l.ep.nja);}},cN:{configurable:!0,enumerable:!0,get:function(){return this.$M(l.ep.Fr);}},ew:{configurable:!0,enumerable:!0,get:function(){return this.$M(l.ep.gUa);}},OV:{configurable:!0,enumerable:!0,get:function(){return this.$M(l.ep.BVa);}},S6:{configurable:!0,enumerable:!0,get:function(){return this.$M(l.ep.opera);}},hN:{configurable:!0,enumerable:!0,get:function(){return this.$M(l.ep.T6a);}},F6:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.H2);}},eN:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.UIb);}},G6:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.H2) && this.qJb(l.N_.phone);}},bN:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.sRa);}},fpa:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.W0a);}},H_a:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.t9a);}},Y6:{configurable:!0,enumerable:!0,get:function(){return this.ZG(l.Sn.Lxa);}},Lp:{configurable:!0,enumerable:!0,get:function(){return this.L5(g.uqa,this.fe.version);}},TPb:{configurable:!0,enumerable:!0,get:function(){return this.L5(g.uqa,this.fe.fA.version);}},UPb:{configurable:!0,enumerable:!0,get:function(){return this.L5(g.m2a,this.fe.fA.version);}},VPb:{configurable:!0,enumerable:!0,get:function(){return this.L5(g.e4a,this.fe.fA.version);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.bLa)),r.__param(1,f.l(m.OQ))],d);b.aza=d;(function(h){h[h.uqa=0]="major";h[h.m2a=1]="minor";h[h.e4a=2]="patch";h[h.P9=3]="revision";})(g=b.iLa || (b.iLa={}));},function(r,b,a){var f,l,m;function c(d,g,h){this.Ic=d;this.dZb=g;this.NG=h;}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=void 0;r=a(1);f=a(48);l=a(0);m=a(4);c.prototype.vG=function(){this.qj || (this.qj=this.Ic.nk(m.Hc(this.dZb),this.NG));};c.prototype.us=function(){this.qj && this.qj.cancel();this.qj=void 0;};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(f.Gj))],a);b.HKa=a;},function(r,b,a){var f,l;function c(m,d){this.Ic=m;this.A3=d;}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;r=a(1);f=a(0);a=a(48);c.prototype.Il=function(m){this.wh();this.qj=this.Ic.nk(this.A3,m);};c.prototype.wh=function(){this.qj && this.qj.cancel();this.qj=void 0;};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Gj))],l);b.rAa=l;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;r=a(1);f=a(0);l=a(207);c.prototype.bM=function(m,d){var g;g=this;m && Object.entries(d).forEach(function(h){var k,n,p;k=aa(h);h=k.next().value;k=k.next().value;if(g.gJb(k)){n=aa(k);k=n.next().value;p=n.next().value;n=m[k];Array.isArray(n)?(g.Dka(m,h,k),n.forEach(function(q){g.bM(q,p);})):k === l.Ps?Object.values(m).forEach(function(q){g.bM(q,p);}):(g.Dka(m,h,k),"object" === typeof n && g.bM(n,p));}else g.Dka(m,h,k);});};c.prototype.gJb=function(m){return Array.isArray(m);};c.prototype.Dka=function(m,d,g){m.hasOwnProperty(d) || d === g || Object.defineProperty(m,d,{get:function(){return m[g];},enumerable:!1});};a=r.__decorate([f.R()],c);b.CBa=a;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;r=a(1);f=a(13);l=a(12);a=a(0);c.prototype.Kt=function(){return this.fJb()?l.WAa:(/widevine/i).test(this.config().km)?l.Qba:(/fps/i).test(this.config().km)?"fairplay":l.s_;};c.prototype.fJb=function(){return (/clearkey/i).test(this.config().km);};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(f.Rc))],m);b.nFa=m;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.M0a=void 0;c=a(639);f=a(640);r=a(0);l=a(113);m=a(7);d=a(645);b.M0a=new r.od(function(g){g(m.ob).to(f.BEa).aa();g(l.BJ).to(c.CEa).aa();g(m.Fca).to(d.qEa).aa();});},function(r,b,a){function c(){this.o8a={};this.Fn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.CEa=void 0;r=a(1);a=a(0);c.prototype.C9=function(f,l){l && (this.o8a[f]=l,this.Fn=Object.values(this.o8a));};a=r.__decorate([a.R()],c);b.CEa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q){this.za=n;this.Fn=p;this.eqa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(1);f=a(208);l=a(0);m=a(642);d=a(17);g=a(113);h=a(7);k=a(643);c.prototype.hb=function(n,p,q,v,u){q=void 0 === q?this.Fn:q;return p?new m.RHa(this.za,this.eqa,q,p,n):u?new k.lya(this.za,this.eqa,q,n,v || "",u):new f.AJ(this.za,this.eqa,q,n);};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.cd)),r.__param(1,l.l(g.BJ)),r.__param(2,l.l(h.Fca))],a);b.BEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OQa=void 0;b.OQa=function(a,c){var l;a=a.REb();for(var f=0;f < c.length;++f){l=c[f];void 0 != l && null != l && (l.kg && (l=l.kg),l.constructor === Uint8Array?a.Hpb(l):"MediaRequest" === l.constructor.name?a.tpb(l):"string" === typeof l?a.Fpb(l):"function" === typeof l?a.npb(l):l instanceof Error?a.kpb(l):l instanceof Object?a.upb(l):a.Ipb(l));}return a.zi();};},function(r,b,a){var f,l,m;function c(d,g,h,k,n){d=m.AJ.call(this,d,g,h,n) || this;d.j=k;f.Go(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;f=a(56);l=a(338);m=a(208);la(c,m.AJ);c.prototype.Yja=function(d){return new c(this.za,this.d3,this.Fn,this.j,d);};c.prototype.aC=function(d,g,h){d=new l.Eca(d,this.mo,this.za.Wb(),g,h,this.j.index);g=aa(this.Fn.Fn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d,this.j);}};b.RHa=c;},function(r,b,a){var f,l;function c(m,d,g,h,k,n){m=f.AJ.call(this,m,d,g,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;f=a(208);l=a(644);la(c,f.AJ);c.prototype.aC=function(m,d,g){m=new l.kya(m,this.mo,this.za.Wb(),d,g,this.prefix);d=aa(this.Fn.Fn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(m);}};c.prototype.Yja=function(m){return new c(this.za,this.d3,this.Fn,m,this.groups,this.prefix);};b.lya=c;},function(r,b,a){var f,l;function c(m,d,g,h,k,n,p){this.level=m;this.mo=d;this.timestamp=g;this.message=h;this.cc=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.kya=void 0;f=a(4);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.R$=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.bYb(! !m));return (this.timestamp.da(f.ka) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.mo + "| " + m;};c.prototype.bYb=function(m){var k;for(var d=this.cc.length,g="",h=0;h < d;++h){k=this.cc[h].Au;h && g.length && (g+=" ");if("object" === typeof k){if(null === k)g+="null";else if(k instanceof Error)g+=this.aYb(k,m);else try{g+=JSON.stringify(k);}catch(n){g+=this.$Xb(k);}}else g+=k;}return g;};c.prototype.aYb=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.$Xb=function(m){var d;d=[];return JSON.stringify(m,function(g,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.kya=c;},function(r,b,a){var f,l,m,d;function c(g,h){this.Mc=g;this.Ie=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;r=a(1);f=a(0);l=a(646);m=a(35);a=a(29);c.prototype.REb=function(){return new l.rEa(this.Mc,this.Ie);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(m.mi)),r.__param(1,f.l(a.Zf))],d);b.qEa=d;},function(r,b,a){var p,q,v;function c(u,t){this.Mc=u;this.Ie=t;this.cc=[];}function f(u){return n.call(this,u,function(t){return {Details:t};}) || this;}function l(u){return n.call(this,u,function(t){return JSON.parse(t.toJSON());}) || this;}function m(u,t){t=n.call(this,t,function(w){return {Base64:u.encode(w)};}) || this;t.Mc=u;return t;}function d(u,t){t=n.call(this,t,function(w){return w();}) || this;t.Ie=u;return t;}function g(u){return n.call(this,u,function(t){return {Exception:t.message || "" + t,StackTrace:t.stack || "nostack"};}) || this;}function h(u,t,w){t=n.call(this,t,w) || this;t.Ie=u;return t;}function k(u){return n.call(this,u,function(t){return {Details:t};}) || this;}function n(u,t){this.Au=u;this.value=t?t(u):u;}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;r=a(1);p=a(0);q=a(29);a=a(35);n.prototype.HU=function(u){return this.Au === u;};la(k,n);k.prototype.II=function(u,t){return t?"":"\r\n" + this.Au;};la(h,n);h.prototype.II=function(){var u;u="";this.Ie.zC(this.value,function(t,w){try{u+=", " + t + ": " + w;}catch(x){try{u+=", " + t + ": " + JSON.stringify(w);}catch(y){u+=", error stringifying " + t;}}});return u.replace(/[\r\n]+ */g," ");};la(g,n);g.prototype.II=function(u){var t;t="\r\n" + this.Au.message;u || (t+="\r\n" + this.Au.stack);return t;};la(d,n);d.prototype.II=function(){var u;u="";this.Ie.zC(this.value,function(t,w){u+=", " + t + ": " + w;});return u.replace(/[\r\n]+ */g," ");};la(m,n);m.prototype.II=function(u,t){return this.Au && !t?"\r\n" + this.Mc.encode(this.Au):"";};la(l,n);l.prototype.II=function(){return this.Au?this.Au.toJSON():"";};la(f,n);f.prototype.II=function(){return ", " + (this.Au.toString?"" + this.Au.toString():"");};c.prototype.Fpb=function(u){this.cc.push(new k(u));};c.prototype.upb=function(u){this.cc.push(new h(this.Ie,u));};c.prototype.kpb=function(u){this.cc.push(new g(u));};c.prototype.npb=function(u){this.cc.push(new d(this.Ie,u));};c.prototype.Hpb=function(u){this.cc.push(new m(this.Mc,u));};c.prototype.tpb=function(u){this.cc.push(new l(u));};c.prototype.Ipb=function(u){this.cc.push(new f(u));};c.prototype.zi=function(){return this.cc;};v=c;v=r.__decorate([p.R(),r.__param(0,p.l(a.mi)),r.__param(1,p.l(q.Zf))],v);b.rEa=v;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.n2a=void 0;r=a(0);c=a(339);f=a(648);b.n2a=new r.od(function(l){l(c.KFa).to(f.JFa).aa();});},function(r,b,a){var f,l,m;function c(d){this.Ic=d;}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;r=a(1);f=a(0);l=a(649);a=a(48);c.prototype.ASa=function(d,g){return new l.LFa(this.Ic,d,g);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.Gj))],m);b.JFa=m;},function(r,b){function a(c,f,l){this.Ic=c;this.config=f;this.getTime=l;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;a.prototype.observe=function(c,f){var l;l=this;this.cancel();this.qj=this.Ic.T9(this.config.XXa(),function(){l.getTime() >= c && (l.cancel(),f());});};a.prototype.cancel=function(){this.qj && (this.qj.cancel(),this.qj=void 0);};b.LFa=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Aa=void 0;r=a(0);c=a(209);f=a(340);l=a(651);m=a(654);d=a(343);g=a(655);b.Aa=new r.od(function(h){h(c.kea).to(l.EJa).aa();h(f.CJa).to(m.BJa).aa();h(d.LKa).to(g.KKa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t;function c(w,x,y,z,A,B,D,E,F,C){this.za=w;this.Sf=x;this.BN=y;this.Dxa=z;this.pX=A;this.Ic=B;this.dL=D;this.Hi=E;this.wla=F;this.ae=C;}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;r=a(1);f=a(0);l=a(17);m=a(7);d=a(339);g=a(140);h=a(341);k=a(342);n=a(652);p=a(653);q=a(98);v=a(48);u=a(336);a=a(29);c.prototype.Vwb=function(w,x,y){return new n.FJa(this.za,this.Sf,this.BN,this.Dxa,x,w,this.Hi,this.pX,this.ae,this.wla,y);};c.prototype.swb=function(w,x){return new p.$ya(this.Sf,w,x,this.BN,this.Ic,this.dL);};t=c;t=r.__decorate([f.R(),r.__param(0,f.l(l.cd)),r.__param(1,f.l(m.ob)),r.__param(2,f.l(d.KFa)),r.__param(3,f.l(k.mLa)),r.__param(4,f.l(h.NHa)),r.__param(5,f.l(v.Gj)),r.__param(6,f.l(q.OP)),r.__param(7,f.l(g.rR)),r.__param(8,f.l(u.oQ)),r.__param(9,f.l(a.Zf))],t);b.EJa=t;},function(r,b,a){var d,g,h;function c(k,n,p,q,v,u,t,w,x,y,z){var A;A=this;this.za=k;this.BN=p;this.Tsa=q;this.config=v;this.yb=u;this.Hi=t;this.pX=w;this.ae=x;this.tk=z;this.XAb=Object.values(d.Ka).map(function(B){return {event:B,NG:function(D){return A.Ob.vc(B,D);}};});this.Ob=y.create();this.KD=[];this.log=n.hb("SegmentManager");this.Zla=!0;this.Cg=this.ae.createElement("div",h.aea);}function f(k,n,p,q,v,u,t,w,x,y,z){var A;A=this;this.log=k;this.config=n;this.JOb=p;this.Tsa=q;this.Hi=v;this.pX=u;this.Hu=t;this.N=w;this.Cg=x;this.yb=y;this.tk=z;this.uL=function(){A.vD && (A.vD.cancel(),A.vD=void 0);};this.Yna=function(B){A.log.trace("Received the transition event",{movieId:B.J});A.WSb();};this.Ypa=function(){};this.log.debug("Constructing session data",l(w));this.fZb=new Promise(function(B){A.WSb=B;});}function l(k){return {movieId:k.J};}function m(k){return JSON.stringify({movieId:k.J,startPts:k.Y,logicalEnd:k.fj,params:k.Nb?{trackingId:k.Nb.wj,authParams:k.Nb.S2,sessionParams:k.Nb.Ro,disableTrackStickiness:k.Nb.Oka,uiPlayStartTime:k.Nb.jZ,loadImmediately:k.Nb.q7,playbackState:k.Nb.playbackState?{currentTime:k.Nb.playbackState.currentTime,volume:k.Nb.playbackState.volume,muted:k.Nb.playbackState.muted,playbackRate:k.Nb.playbackState.playbackRate}:void 0,pin:k.Nb.q4a,heartbeatCooldown:k.Nb.joa,uiLabel:k.Nb.ve,uxLabels:k.Nb.oaa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;d=a(15);g=a(4);h=a(12);f.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",l(this.N));this.V=this.Tsa.Zja(this.config,this.pX,this.Hi,this.N,this.yb,this.tk);this.V.addEventListener(d.Ka.VM,function(q){n.log.trace("Segment is inactive",l(n.N));n.Hu.close(n.Hi(q.errorCode));});this.V.addEventListener(d.Ka.closed,this.uL);if(k)(this.log.debug("Pausing background segment",l(this.N)),this.V.addEventListener(d.Ka.rpa,this.Yna),this.V.pause());else {this.Cg.appendChild(this.V.ln());p=function(q){n.Yna(q);n.V.removeEventListener(d.Ka.loaded,p);};this.V.addEventListener(d.Ka.loaded,p);}};f.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",m(this.N));if(this.vD)this.log.trace("Segment is currently observing",l(this.N));else if(this.N.Nb && this.N.Nb.q7)this.Ypa(this);else {n=this.JOb.ASa(this.config,function(){var q;if(k.V){q=k.V.cw();if(q)return q;}return 0;});p=this.qsb(this.N);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",l(k.N));k.Ypa(k);k.uL();});}};f.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.N),error:k});return this.V?(this.V.removeEventListener(d.Ka.rpa,this.Yna),this.V.close(k)):Promise.resolve();};f.prototype.CPb=function(k){this.Ypa=k;};f.prototype.qsb=function(k){var n,p;n=k.fj;k=k.Nb?k.Nb.q7:!1;p=0;n && !k && (p=n - this.config.rXa(),p < this.config.tXa() && (k=n - this.config.tXa(),p=n - k / 2));return p;};c.prototype.JFb=function(){return this.$g && this.$g.V?this.$g.V.isReady():!1;};c.prototype.ln=function(){return this.Cg;};c.prototype.FM=function(){if(!this.$g || !this.$g.V)throw Error("Player not ready");return this.$g.V;};c.prototype.B_b=function(k){var n,p;p=this.Nla(k);p?this.P$a(p,k):this.yb.Ne(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.$g.N.J,queuedMovieIds:this.KD.map(function(q){return q.N.J;}),xid:null === (n=this.$g.V) || void 0 === n?void 0:n.lz()});};c.prototype.jo=function(k){var n;this.log.info("Adding segment",m(k));if(this.Zla){this.log.trace("First segment, loading",l(k));n=this.z0a(k);this.Zla=!1;}else (this.log.trace("Subsequent segment, caching",l(k)),(n=this.Nla(k))?this.P$a(n,k):(n=this.createSession(k),this.KD.push(n),this.$g.observe()));return n?n.fZb:null;};c.prototype.transition=function(k,n){var p,q,v;q=this.yH;v=null === q || void 0 === q?void 0:q.V;if(q && v)return (this.yH=void 0,this.log.info("Transitioning segment",m(q.N)),v.Cva(this.za.Wb().da(g.ka)),this.g$a(q,n));n=null === q || void 0 === q?void 0:q.N;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.$g.N.J,xid:null === (p=this.$g.V) || void 0 === p?void 0:p.lz(),nextSegmentId:k,currentSegment:m(this.$g.N),nextSegment:n?m(n):void 0,queuedMovieIds:this.KD.map(function(u){return u.N.J;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.$g.N)),nextSession:this.yH?JSON.stringify(l(this.yH.N)):void 0});k=[this.$g.close(k)];this.yH && k.push(this.yH.close());return Promise.all(k).then(function(){n.yH=void 0;n.KD=[];n.Zla=!0;});};c.prototype.addListener=function(k,n,p){this.Ob.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Ob.removeListener(k,n);};c.prototype.P$a=function(k,n){this.aQb(k.N,n);this.log.trace("Overwrote existing segment data",m(k.N));};c.prototype.z0a=function(k){var n,p;n=this;this.log.info("Loading the next episode",l(k));if(this.$g){this.config.Ama()[k.J]=k.Y;p=this.Nla(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",l(k)),p.CPb(function(q){n.H9a(q);}),this.$g?(this.log.trace("Subsequent playback, caching player and pausing",l(k)),this.yH=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",l(k)),p.load(!1),this.g$a(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",l(k));};c.prototype.g$a=function(k,n){var p,q,v,u,t;n=void 0 === n?{}:n;u=k.V?null === (p=k.V) || void 0 === p?void 0:p.getError():"missing player";if(u)return (null === (q=k.V) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.$g.N.J,mid:k.N.J,error:u,xid:null === (v=k.V) || void 0 === v?void 0:v.lz()}),Promise.reject());this.log.trace("Playing episode",l(k.N));p=this.$g;this.$g=k;k=this.$g.V;k.mva(!1);this.XI(k,p?p.V:void 0);if(p && p.V){t=p.V.ln();q=k.ln();t.style.display="none";p=p.close();this.Cg.appendChild(q);p.then(function(){t.parentElement && t.parentElement.removeChild(t);});q.style.display="block";k.gaa(n);k.$O();k.play();}return Promise.resolve();};c.prototype.H9a=function(k){var n,p,q,v,u;if(this.KD.length && k.V){n=k.V.cw();p=this.KD[0];q=this.$g.N.fj;v=this.$g.N.Nb?this.$g.N.Nb.q7:!1;if(q || v){v?u=0:q && (u=q - this.config.rXa());null !== n && n >= u && (this.log.info("Got a time change, loading the next player",l(p.N)),this.z0a(p.N),this.KD.splice(0,1),this.H9a(k));}}};c.prototype.Nla=function(k){return this.$g.N.J === k.J?this.$g:this.KD.find(function(n){return n.N.J === k.J;});};c.prototype.aQb=function(k,n){k.Y=n.Y || k.Y;k.fj=n.fj || k.fj;k.Nb=n.Nb || k.Nb;k.sa=n.sa || k.sa;};c.prototype.createSession=function(k){return new f(this.log,this.config,this.BN,this.Tsa,this.Hi,this.pX,this,k,this.Cg,this.yb,this.tk);};c.prototype.XI=function(k,n){this.XAb.forEach(function(p){n && n.removeEventListener(p.event,p.NG);k.addEventListener(p.event,p.NG);});this.Ob.vc(d.TE.jY);};b.FJa=c;},function(r,b,a){var m,d,g,h;function c(k,n,p,q,v,u){var t;t=this;this.V=n;this.j=p;this.BN=q;this.Ic=v;this.dL=u;this.uL=function(){t.vD && (t.vD.cancel(),t.vD=void 0);};this.log=k.hb("SegmentManager",this.j);this.Aa=new Map();this.j.ab.Al && (this.j.addEventListener(g.ba.jI,function(w){return t.xD(w);}),this.j.addEventListener(g.ba.closed,this.uL));}function f(k,n){this.id=k;this.mja=n;}function l(k,n,p,q){return d.md.call(this,k,p,void 0,void 0,void 0,n,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;m=a(3);d=a(41);g=a(15);h=a(4);la(l,d.md);l.prototype.toString=function(){return this.code + "-" + this.xc + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.wc,contentEndPts:this.Oc};};Wa.Object.defineProperties(f.prototype,{wc:{configurable:!0,enumerable:!0,get:function(){return this.mja.startTimeMs;}},Oc:{configurable:!0,enumerable:!0,get:function(){return this.mja.endTimeMs;}},cA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.mja.next);}}});c.prototype.xD=function(k){var n;n=this;!1;k=k.position.segmentId;0 === this.Aa.size && Object.entries(this.j.bV()).forEach(function(p){var q;q=aa(p);p=q.next().value;q=q.next().value;n.Aa.set(p,new f(p,q));});this.ia=this.Aa.get(k);};c.prototype.play=function(k){this.Hw && (this.Hw=void 0);this.uL();this.log.trace("Playing segment",k);return this.v_a(k)?this.YQb(k):this.nX(k);};c.prototype.No=function(k){this.log.trace("Queueing segment",k);return this.v_a(k)?this.MSb(k):this.NSb(k);};c.prototype.ki=function(k,n){var p,q;p=this;q=this.j.Na;if(null === q || void 0 === q || !q.Rh)return Promise.reject(this.getError(m.M.Hya,"ASE session manager is not yet initialized",m.L.nba,{segmentId:k,updates:n}));this.log.trace("Updating next segment weights",k,n);return new Promise(function(v,u){try{q.sP(k,n);p.j.fireEvent(g.ba.jxa,{ya:k,N_b:n});v();}catch(t){u(p.getError(m.M.Hya,"updateNextSegmentWeights threw an exception",m.L.Pbb,{segmentId:k,updates:n,error:t}));}});};c.prototype.v_a=function(k){return this.ia?void 0 !== this.j.bV()[this.ia.id].next[k]:!1;};c.prototype.pna=function(){var k;k=this.j.Na;if(null === k || void 0 === k?0:k.Rh)return k.xo().Yd;};c.prototype.CFb=function(){var k;k=this.j.Na;if(null === k || void 0 === k?0:k.Rh)return k.xo().id;};c.prototype.GDb=function(k){var n;n=this.j.Na;if(null === n || void 0 === n?0:n.Rh)return (k=n.e5(k)) && k.Ce;};c.prototype.YQb=function(k){var n,p;n=this;p=this.j.Na;return null !== p && void 0 !== p && p.Rh?this.ia && 1 === this.ia.cA.length?this.nX(k):this.j.Tf?void 0 === this.GDb(k)?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.nX(k)):new Promise(function(q,v){var y,z,A,B,D,E;function u(){!A && z && y && (E.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:k,stopped:z,repositioned:y,completed:A}),p.ot(k,!1,!0)?(q(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),n.nX(k).then(q).catch(v)));}function t(){y=!0;n.log.trace("Player is repositioned",{id:k,stopped:z,repositioned:y,completed:A});n.j.removeEventListener(g.ba.kk,t);u();}function w(){n.j.removeEventListener(g.ba.YH,w);p.stop();}function x(){z=!0;n.log.trace("ASE is stopped",{id:k,stopped:z,repositioned:y,completed:A});p.removeEventListener("stop",x);u();}y=!1;z=!1;A=!1;B=n.Aa.get(k);D=n.pna();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),n.nX(k));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:D,currentSegment:n.ia,nextSegment:B},null,"  "));n.j.fireEvent(g.ba.s8,{Yh:n.ia && n.ia.id,MW:k});p.addEventListener("stop",x);n.j.addEventListener(g.ba.YH,w);n.j.addEventListener(g.ba.kk,t);E=n.Ic.nk(h.jh(10),function(){A=!0;E.cancel();v(n.getError(m.M.RP,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.L.Lbb,{id:k,stopped:z,repositioned:y,completed:A}));});n.V.seek(D,g.ze.OJ);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(m.M.RP,"MediaPresenter is not initialized",m.L.Mbb,{id:k}))):Promise.reject(this.getError(m.M.RP,"ASE session manager is not yet initialized",m.L.nba,{id:k}));};c.prototype.nX=function(k){var n;n=this.Aa.get(k);return n?this.hY(n,m.M.RP):Promise.reject(this.getError(m.M.RP,"Unable to find the separated segment",m.L.Gya,{id:k}));};c.prototype.MSb=function(k){var n;n=this.j.Na;if(null === n || void 0 === n || !n.Rh)return Promise.reject(this.getError(m.M.dJ,"ASE session manager is not yet initialized",m.L.nba,{id:k}));this.j.fireEvent(g.ba.s8,{Yh:this.ia && this.ia.id,MW:k});if(n.ot(k,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:k});return Promise.reject(this.getError(m.M.dJ,"ASE chooseNextSegment failed",m.L.Jbb,{id:k}));};c.prototype.NSb=function(k){var n,p;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.J,srcsegment:this.CFb()});if(this.Hw)return Promise.reject(this.getError(m.M.dJ,"Unable to queue a non-next segment because there is currently already a segment queued",m.L.Obb,{currentSegment:this.ia?this.ia.id:void 0,queuedSegment:this.Hw.id,failedSegment:k}));if(!this.ia)return Promise.reject(this.getError(m.M.dJ,"Unable to queue a non-next segment because there is no currently playing segment",m.L.Kbb,{nextSegmentid:k}));p=this.Aa.get(k);if(!p)return Promise.reject(this.getError(m.M.dJ,"Unable to find the separated segment",m.L.Gya,{nextSegmentid:k,currentSegmentId:this.ia.id}));this.Hw={id:k,promise:new Promise(function(q,v){var u;n.vD=n.BN.ASa({XXa:function(){return h.Hc(100);}},function(){return n.V.cw() || 0;});u=n.pna() - 500;n.log.trace("Adding moment for queued segment",{segment:k,pts:u});n.vD.observe(u,function(){n.log.trace("Moment has arrived",{segment:k,currentSegment:n.ia.id,playerEndPts:n.pna(),pts:u});n.Hw=void 0;n.uL();n.hY(p,m.M.dJ).then(q).catch(v);});})};this.Hw.promise.catch(function(q){n.j.Vd(q.code,q);});return Promise.resolve();};c.prototype.hY=function(k,n){var p;p=this;return new Promise(function(q,v){var u;try{u=k.wc;!1;p.V.seek(u,g.ze.uB);q();}catch(t){v(p.getError(n,"Seek threw an exception",m.L.Nbb,{id:k.id,error:t}));}});};c.prototype.getError=function(k,n,p,q){this.log.warn(n,q);return new l(k,n,p,q);};b.$ya=c;},function(r,b,a){var l,m;function c(){}function f(d,g,h,k,n){this.debug=d;this.version=g;this.fKb=h;this.UQb=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;r=a(1);l=a(0);m=a(4);f.prototype.sEb=function(){return this.config().nz;};f.prototype.Ama=function(){return this.config().zQa;};f.prototype.XXa=function(){return m.Hc(this.config().rRb);};f.prototype.rXa=function(){return this.config().nLb;};f.prototype.tXa=function(){return this.config().ZLb;};c.prototype.EC=function(d,g,h,k,n){return new f(d,g,h,k,n);};a=r.__decorate([l.R()],c);b.BJa=a;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(1);f=a(0);a=a(13);c.prototype.uSb=function(m,d,g,h){var k;if(this.config().EVb){k=m.metrics;void 0 !== k && k.segment !== k.srcsegment && d.hW.jb.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.J,xid:d.ca,srcxid:g.ca,srcmid:g.J,segment:m.position.segmentId,srcsegment:k.srcsegment,srcsegmentduration:k.srcsegmentduration,srcoffset:k.srcoffset,seamlessRequested:k.seamlessRequested,transitionType:k.transitionType,transitionTypeAtRequest:k.transitionTypeAtRequest,nextExitPositionAtRequest:k.nextExitPositionAtRequest,delayToTransition:k.delayToTransition,durationOfTransition:k.durationOfTransition,atRequest:k.atRequest,atTransition:k.atTransition,discard:k.discard});}};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Rc))],l);b.KKa=l;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.wab=void 0;r=a(0);c=a(342);f=a(657);b.wab=new r.od(function(l){l(c.mLa).to(f.lLa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K;function c(H){this.bc=H;}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;r=a(1);f=a(0);l=a(94);m=a(29);d=a(26);g=a(7);h=a(97);k=a(209);n=a(344);p=a(658);q=a(210);v=a(82);u=a(345);t=a(659);w=a(257);x=a(81);y=a(17);z=a(104);A=a(258);B=a(416);D=a(13);E=a(417);F=a(418);C=a(37);G=a(259);J=a(419);K=a(66);c.prototype.Zja=function(H,L,R,I,P,N){return this.bc.get(D.Rc)().kaa?new t.nLa(this.bc.get(g.ob),this.bc.get(w.Oda),this.bc.get(x.rx),this.bc.get(y.cd),this.bc.get(z.mB),this.bc.get(h.Xba),this.bc.get(A.Sca),this.bc.get(B.tCa),this.bc.get(E.cIa),this.bc.get(F.pea),this.bc.get(F.pea),this.bc.get(C.Lh),this.bc.get(J.WQ),this.bc.get(G.gca),I,R):new p.HDa(this.bc.get(m.Zf),this.bc.get(d.Yf),this.bc.get(g.ob),this.bc.get(h.Xba),this.bc.get(k.kea),this.bc.get(q.xda),this.bc.get(v.Wba),this.bc.get(u.TGa),this.bc.get(n.GAa),H,L,R,I,P,N,this.bc.get(K.Ns).gla);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.EDa))],a);b.lLa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F){var C;C=this;this.Ie=k;this.ib=n;this.Ob=q;this.lu=u;this.NT=t;this.ZVa=w;this.config=y;this.Hi=A;this.N=B;this.FJb=F;this.j=z.create(B.J,B.jk,x,D,E,B.Nb,B.id,B.sa);this.j.background=!0;this.log=p.hb("VideoPlayer",this.j);this.m4a=[];this.ended=!1;this.XI();this.j.state.addListener(function(G){G.newValue === l.Qb.oe && C.Tb(l.Ka.rpa,{movieId:B.J});});this.j.ab.Al && (this.lL=v.swb(this,this.j),this.j.addEventListener(l.ba.jI,function(G){G=G.position.segmentId;C.AKb !== G && (C.AKb=G,C.Tb(l.Ka.qVb,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;f=a(3);l=a(15);m=a(4);d=a(11);g=a(82);h=a(24);c.prototype.isReady=function(){return this.j.state.value === l.Qb.oe;};c.prototype.GXa=function(){return this.j.J;};c.prototype.lz=function(){return this.j.ca;};c.prototype.ln=function(){return this.j.Cg;};c.prototype.pq=function(){return this.j.nj.value;};c.prototype.RV=function(){return this.j.paused.value;};c.prototype.Zoa=function(){return this.ended;};c.prototype.yh=function(){var k;k=this.j.Mia.value;return k?{networkStalled:! !k.ss,stalled:! !k.ss,progress:k.progress,progressRollback:! !k.ASb}:null;};c.prototype.getError=function(){var k;k=this.j.bi;return k?k.$Y():null;};c.prototype.cw=function(){return this.j.mediaTime.value;};c.prototype.nWa=function(){var k;k=(this.f5() || 0) + this.j.mWa();return Math.min(k,this.Hma());};c.prototype.f5=function(){return this.j.IC();};c.prototype.Hma=function(){return this.j.Fy.da(m.ka);};c.prototype.BYa=function(){return this.j.UA?{width:this.j.UA.width,height:this.j.UA.height}:null;};c.prototype.g5=function(){var v;if(this.j.$o){for(var k,n=0;n < this.j.$o.length;n++){for(var p=this.j.$o[n],q=0;q < p.streams.length;q++){v=p.streams[q];this.ib.wi(v.eka) && this.ib.wi(v.I3) && this.ib.wi(v.H3) && this.ib.wi(v.G3) && 0 < v.I3 && (v=v.G3 / v.H3,k=this.ib.wi(k)?Math.min(k,v):v);}}return k;}};c.prototype.BWa=function(){return this.j.g5();};c.prototype.YVa=function(k){var n,p;return (null === (n=this.j.sa) || void 0 === n?0:n.bk.jV("generateScreenshots"))?this.ZVa.aq(this.log,this.j.sa.bk,k):(n=null === (p=this.j.ab) || void 0 === p?void 0:p.Ko)?this.ZVa.ig(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.HWa=function(){return this.UDb(this.j.X3);};c.prototype.xma=function(){var k;k=this;return this.j.Rj.map(function(n){return k.yo(n);});};c.prototype.xXa=function(){var k;return this.yXa(this.j.Rj,null === (k=this.j.sa) || void 0 === k?void 0:k.Wc.uMb);};c.prototype.I5=function(k){var n;n=this;return this.UXa(k).map(function(p){return n.yo(p);});};c.prototype.ana=function(k){var n;return this.yXa(this.UXa(k),null === (n=this.j.sa) || void 0 === n?void 0:n.Wc.vMb);};c.prototype.i8a=function(){return this.FJb;};c.prototype.gpa=function(){return this.j.muted.value;};c.prototype.CYa=function(){return this.j.volume.value;};c.prototype.eWa=function(){var k;k=this.j.Uc.value;return k && this.yo(k);};c.prototype.Jna=function(){var k;k=this.j.ic.value;return k && this.yo(k);};c.prototype.h_a=function(){return ! !this.j.background;};c.prototype.K7a=function(k){this.j.muted.set(! !k);};c.prototype.W7a=function(k){this.j.volume.set(this.AOb(k));};c.prototype.L7a=function(k){this.j.playbackRate.set(k);};c.prototype.wo=function(){return this.j.playbackRate.value;};c.prototype.w7a=function(k){var n;if(k=this.tVa(k)){if(k.Mr)this.j.Uc.set(k);else {n=this.j.ic.value;n=n && this.I_a(k,n)?n:void 0;this.close(this.Hi(f.M.YQ,{na:f.L.Kca,QG:{UHb:k.trackId,pZa:k.$i,VHb:null === n || void 0 === n?void 0:n.trackId,qZa:null === n || void 0 === n?void 0:n.$i}}));}}else this.log.error("Invalid setAudioTrack call");};c.prototype.yva=function(k){var n,v;n=this.j.Uc.value;if(null !== n){for(var p=n.vj,q=0;q < p.length;q++){v=p[q];if(!k && null === v){this.j.ic.set(null);return;}if(this.yo(v) === k){v.Mr?(this.log.info("Setting Timed Text, profile: " + v.profile),this.j.ic.set(v)):this.close(this.Hi(f.M.YQ,{na:f.L.Kca,QG:{UHb:n.trackId,pZa:n.$i,VHb:v.trackId,qZa:v.$i}}));return;}}this.log.error("Invalid setTextTrack call");}};c.prototype.mva=function(k){this.j.background=k;};c.prototype.$O=function(){this.j.$O();};c.prototype.gaa=function(k){this.j.gaa(k);};c.prototype.im=function(k){return this.j.im(k);};c.prototype.TXa=function(){return this.j.ab;};c.prototype.xw=function(){this.j.xw();};c.prototype.S5=function(k,n){return this.j.S5(k,n);};c.prototype.wha=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,p){this.Ob.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Ob.removeListener(k,n);};c.prototype.NH=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.Tb(l.Ka.B0a,void 0,!0);n.sa && (n.sa.Wc.Kab && k.Tb(l.Ka.Y0b,n.sa.Wc.Kab,!0),n.sa.Wc.no && k.Tb(l.Ka.pVb,{segmentMap:n.sa.Wc.no},!0));p({$:!0});}catch(q){p({na:f.L.Aj,Bb:k.Ie.Jd(q)});}}));};c.prototype.close=function(k){var n;n=this;this.FRa || (this.FRa=new Promise(function(p){k?n.j.YF(k,p):n.j.close(p);}));return this.FRa;};c.prototype.play=function(){this.j.Wh?this.j.fireEvent(l.ba.V6a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.ba.oab)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.ba.n0b));};c.prototype.seek=function(k,n,p,q){n=void 0 === n?l.ze.uB:n;this.j.Tf?this.j.Tf.seek(k,n,p,q):this.j.Jv=k;};c.prototype.y4a=function(k){return this.lL?(this.log.trace("Playing a segment",k),this.lL.play(k)):Promise.resolve();};c.prototype.r5a=function(k){return this.lL?(this.log.trace("Queueing a segment",k),this.lL.No(k)):Promise.resolve();};c.prototype.ki=function(k,n){return this.lL?(this.log.trace("Updating next segment weights",k,n),this.lL.ki(k,n)):Promise.resolve();};c.prototype.qP=function(){this.j.qP();};c.prototype.sV=function(){var k;k=this.j.Pq.sV();return {bounds:k.zT,margins:k.Ur,size:k.size,visibility:k.visibility};};c.prototype.PO=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.WY && (n && this.j.WY.zva(n),p && this.j.WY.Ava(p),"boolean" === typeof k && this.j.WY.Bva(k));this.j.Pq && q && this.j.Pq.tWb(q);};c.prototype.Cva=function(k){this.j.zm=k;};c.prototype.yYa=function(k){return this.j.NA && this.j.NA.qEb(k) || null;};c.prototype.bWa=function(){return this.Ie.rH({playerver:this.config.version,jssid:this.config.fKb,groupName:this.config.sEb(),xid:this.j.ca,pbi:this.j.index},this.config.UQb,{prefix:"pi_"});};c.prototype.MZa=function(k){this.j.Vd(f.M.qBa,f.L.Nl,k);};c.prototype.x0a=function(k,n,p,q){if(!this.ib.uPa(k))throw Error("invalid url");this.m4a.push({url:k,name:n,erb:p,options:q});this.f5a();};c.prototype.Ana=function(){var k,n,p,q,v,u,t,w;k={};n=this.j.EY;try{if((this.j.bi && (k.errorCode=this.j.bi.a4,k.errorType=n?"endplay":"startplay"),k.playdelay=h.Of(this.j.FT()),k.xid=this.j.ca,this.j.sa && this.ib.Ep(this.j.sa.Wc.Ko) && (k.packageId=Number(this.j.sa.Wc.Ko)),k.auth=this.j.jDb(),n)){k.totaltime=this.j.Fl?this.so(this.j.Fl.LM()):0;k.abrdel=this.j.Fl?this.j.Fl.zma():0;p=this.j.Tf;q=p?p.DG():null;this.ib.wi(q) && (k.totdfr=q);q=p?p.dV():null;this.ib.wi(q) && (k.totcfr=q);v=p?p.GEb():null;v && (k.rbfrs_decoder=v.N3,k.rbfrs_network=v.o8);k.rbfrs_delay=this.j.Fl?this.j.Fl.Uoa:0;k.init_vbr=this.j.y6;u=this.JG();this.ib.nG(u) && (k.pdltime=u);t=this.j.ke.value;w=t && t.stream;w && (k.vbr=w.bitrate,k.vdlid=w.fd);k.bufferedTime=this.j.mWa();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.aM=function(k){this.j.ab.Ro && (this.j.ab.Ro.userEngageAction=1);return this.ib.wi(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.lu.create(this.j)),{action:k}),this.NT(g.gp.aM).aq(this.log,this.j.sa.bk,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.xc,errorExternalCode:n.Kd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.UDb=function(k){return {register:k.register.bind(k),notifyUpdated:k.Ora.bind(k),getModel:k.EXa.bind(k),getGroups:k.yM.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.yo=function(k){var n;n=k.Ata=k.Ata || ({trackId:k.trackId,bcp47:k.$i,displayName:k.displayName,trackType:k.cl,rawTrackType:k.TH,channels:k.channels});k.pn && (n.isImageBased=!0);this.mpa(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.MY);this.npa(k) && (n.isNoneTrack=k.Qr(),n.isForcedNarrative=k.oq());n.subType=k.zI;n.variant=k.variant;return n;};c.prototype.mpa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.npa=function(k){return "undefined" !== typeof k.Qr && "undefined" !== typeof k.oq;};c.prototype.tVa=function(k){var n;n=this;return k && this.j.Rj.find(function(p){return n.yo(p) === k;});};c.prototype.UXa=function(k){var n;k=this.tVa(k) || this.j.Uc.value;return null !== (n=null === k || void 0 === k?void 0:k.vj) && void 0 !== n?n:[];};c.prototype.yXa=function(k,n){var p;p=k.length - 1;if("number" !== typeof n)return p;k=k.findIndex(function(q){return q.Zd > n;});return -1 === k?p:k - 1;};c.prototype.I_a=function(k,n){return 0 <= k.vj.indexOf(n);};c.prototype.AOb=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.so=function(k){return this.ib.wi(k)?(k / 1E3).toFixed(0):"";};c.prototype.Tb=function(k,n,p){n=n || ({});n.target=this;this.Ob.vc(k,n,!p);};c.prototype.XI=function(){var k;k=this;this.j.addEventListener(l.ba.zwa,function(){k.Tb(l.Ka.Rp);});this.j.addEventListener(l.ba.y$a,function(){k.Tb(l.Ka.x$a);});this.j.addEventListener(l.ba.J7,function(){k.Tb(l.Ka.Gia);});this.j.addEventListener(l.ba.kk,function(){k.Tb(l.Ka.Gia);});this.j.addEventListener(l.ba.VM,function(n){k.Tb(l.Ka.VM,{errorCode:n});});this.j.addEventListener(l.ba.kia,function(n){k.Tb(l.Ka.lQa,n.j);});this.j.addEventListener(l.ba.Wh,function(n){k.Tb(l.Ka.T2,n);});this.j.nj.addListener(function(){k.Tb(l.Ka.Zsa);});this.j.paused.addListener(function(){k.Tb(l.Ka.g4a);});this.j.muted.addListener(function(){k.Tb(l.Ka.x2a);});this.j.volume.addListener(function(){k.Tb(l.Ka.Dab);});this.j.zb.addListener(function(){k.G$a();});this.j.state.addListener(function(){k.G$a();});this.j.Mia.addListener(function(n){k.oLb || k.j.state.value != l.Qb.oe || n.newValue || (k.oLb=!0,k.Tb(l.Ka.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.Ana());}));k.Tb(l.Ka.pL);});this.j.Uc.addListener(function(n){k.Tb(l.Ka.Vm);n.oldValue && n.newValue && n.oldValue.vj == n.newValue.vj || k.Tb(l.Ka.KA);setTimeout(function(){var p,q;p=k.j.Uc.value;q=k.j.ic.value;null === p || null === q || k.I_a(p,q) || (k.log.info("Changing timed text track to match audio track"),k.j.ic.set(p.vj[0]));},0);});this.j.ic.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.Tb(l.Ka.Jn);});this.j.addEventListener(l.ba.KA,function(){k.Tb(l.Ka.KA);});this.j.addEventListener(l.ba.fZ,function(){k.Tb(l.Ka.fZ);});this.j.state.addListener(function(n){switch(n.newValue){case l.Qb.oe:k.Tb(l.Ka.dUa);k.Tb(l.Ka.xab);k.Tb(l.Ka.gia);k.Tb(l.Ka.KA);k.Tb(l.Ka.A0a);k.f5a();k.d1b();break;case l.Qb.CLOSING:k.j.bi && k.Tb(l.Ka.e_a,k.j.bi);break;case l.Qb.CLOSED:(k.Tb(l.Ka.closed),k.Ob.wh());}});};c.prototype.d1b=function(){var k;k=this;this.j.Pq.addEventListener("showsubtitle",function(n){k.Tb(l.Ka.Hva,n,!0);});this.j.Pq.addEventListener("removesubtitle",function(n){k.Tb(l.Ka.hua,n,!0);});};c.prototype.f5a=function(){if(this.j.state.value == l.Qb.oe){for(var k,n,p;n=this.m4a.shift();){k=this.j.Pq.qha(n.url,n.name,n.options);n.erb && (p=k);}p && this.j.ic.set(p);}};c.prototype.G$a=function(){var k;k=this.j.state.value == l.Qb.oe && this.j.zb.value == l.cb.Wq;this.ended !== k && (this.ended=k,this.j.LF("Ended changed: " + k),(k || this.j.state.value === l.Qb.CLOSING) && this.Tb(l.Ka.IUa));};c.prototype.JG=function(){var k,n;try{k=/playercore.*js/;n=d.ev.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.HDa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u;function c(t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L){var R,I,P;R=this;this.sX=w;this.rz=x;this.za=y;this.dk=z;this.Ob=A;this.mW=B;this.oRb=D;this.C4a=E;this.taa=F;this.R2=C;this.xa=G;this.pN=J;this.config=K;this.N=H;this.Hi=L;this.r7=new p.ac(!0);this.nj=new p.ac(!1);this.ss=new p.ac(!1);this.ended=new p.ac(!1);this.e3=new p.ac(0);this.zb=new p.ac(l.cb.Jf);this.rO=new p.ac(void 0);this.loaded=this.EY=this.closed=!1;this.Y4a=function(N,M){return function(Q){var T,da,pa,wa,ua;T=Q.newValue;da=T.nC;Q=T.Zl;pa=T.stream;T=N.value;wa=T.streams.find(function(X){return X.bitrate === pa.stream.bitrate;});ua=R.va.Tj.find(function(X){return X.id === da;});R.log.info("Presenting " + wa.type + " request with bitrate " + wa.bitrate + ", track " + (T.trackId + " [" + Q.startTime + "..." + Q.endTime + "]"));M.set({stream:wa,Zl:Q,kc:ua});};};this.W8a=function(N,M,Q){return function(T){var da,pa;da=N.value;pa=da.streams.find(function(wa){return wa.bitrate === T.newValue.stream.bitrate;});R.log.info("Streaming " + pa.type + " stream with bitrate " + pa.bitrate + ", track " + da.trackId);M.set(pa,{VF:T.dm.VF,vT:void 0});da=R.va.Tj.filter(function(wa){return wa.id === T.dm.nC;})[0];Q.set(da);};};this.AVa=new Set();this.log=t.hb("HLSVideoPlayer");this.X=m.createElement("VIDEO","position:absolute;width:100%;height:100%");this.X.ata=this.config.ata;this.va=this.sX(d.sB.index++,H.J,H.id,null !== (I=H.Nb) && void 0 !== I?I:{},this.rz.Hy(),this.za.Wb(),!1,void 0,function(){return R.cw();});this.va.mediaTime.set(null !== (P=this.va.Jv) && void 0 !== P?P:0);this.XI();this.Vlb=this.pN.create(this);this.Vlb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;f=a(47);l=a(15);m=a(30);d=a(58);g=a(103);h=a(57);k=a(3);n=a(62);p=a(80);q=a(4);v=a(19);u=a(127);c.prototype.XI=function(){var t;t=this;this.X.addEventListener("loadedmetadata",function(){t.Tb(l.Ka.B0a);t.Tb(l.Ka.A0a);t.Tb(l.Ka.Vm);t.Tb(l.Ka.gia);t.Tb(l.Ka.Jn);t.Tb(l.Ka.KA);});this.X.addEventListener("error",function(w){w=t.Hi(k.M.xGa,w);t.close(w);});this.X.addEventListener("timeupdate",function(){t.ended.set(!1);t.va.mediaTime.set(t.cw());t.Jka();t.Tb(l.Ka.Rp);t.Tb(l.Ka.x$a);});this.X.addEventListener("durationchange",function(){t.Tb(l.Ka.dUa);});this.X.addEventListener("resize",function(){t.Tb(l.Ka.xab);});this.X.addEventListener("playing",function(){t.Jka();t.ss.set(!1);t.nj.set(!0);t.ended.set(!1);t.zb.set(l.cb.Ec);});this.X.addEventListener("pause",function(){t.nj.set(!1);t.ss.set(!1);t.zb.set(l.cb.Vg);});this.X.addEventListener("waiting",function(){t.zb.set(l.cb.Jf);});this.X.addEventListener("stalled",function(){t.ss.set(!0);});this.X.addEventListener("seeking",function(){t.ss.set(!1);t.rO.set(t.va.mediaTime.value);t.zb.set(l.cb.Jf);});this.X.addEventListener("seeked",function(){void 0 !== t.rO.value && (t.va.Fl.Nra(t.rO.value,t.cw()),t.rO.set(void 0));t.zb.set(t.pq()?l.cb.Ec:l.cb.Vg);});this.X.addEventListener("progress",function(){t.Tb(l.Ka.Gia);t.n_b();});this.X.addEventListener("ended",function(){t.zb.set(l.cb.Wq);t.ss.set(!1);t.nj.set(!1);t.ended.set(!0);});this.X.addEventListener("volumechange",function(){t.Tb(l.Ka.Dab);t.Tb(l.Ka.x2a);});this.nj.addListener(function(){t.Tb(l.Ka.Zsa);t.Tb(l.Ka.g4a);t.vL();});this.e3.addListener(function(){t.Tb(l.Ka.pL);});this.ss.addListener(function(){t.Tb(l.Ka.pL);});this.r7.addListener(function(){t.vL();});this.ended.addListener(function(){t.Tb(l.Ka.IUa);});this.va.playbackRate.addListener(function(w){t.X.playbackRate=w.newValue;});};c.prototype.vL=function(){!this.pq() || this.r7.value || this.EY || this.kQa || (this.EY=!0,this.va.XG=this.xa.lY,this.C4a.Uo(this,this.va));};c.prototype.FT=function(){return this.rX - (this.va.jk.da(q.ka) + this.za.Jz.da(q.ka));};c.prototype.BG=function(){var t;t=this.va.ab.jZ;return v.Ba(t)?t:this.va.jk.da(q.ka) + this.za.Jz.da(q.ka);};c.prototype.Pia=function(){return this.xa.bf.da(q.ka) - this.BG();};c.prototype.Ria=function(){return this.rX - this.BG();};c.prototype.n_b=function(){var t;t=this.X.readyState <= n.Pn.L_.HAVE_METADATA?0:this.X.readyState <= n.Pn.L_.HAVE_CURRENT_DATA?.5:1;1 === t && (this.rX=this.xa.bf.da(q.ka),this.r7.set(!1),this.Qla(l.Ka.loaded));this.e3.set(t);};c.prototype.Jka=function(){var t;t=this.cw();this.taa.z7a(t);this.R2.z7a(t);};c.prototype.c$=function(){var t;t=this;this.va.Bd("ats");return this.dk.zM({ca:this.va.ca,ab:this.va.ab,Z:this.va.J,It:g.Gm.C0,Qf:h.Oh.kp}).then(function(w){var x;t.va.Bd("at");x=t.mW.create({}).b4a(w);t.va.sa=w;t.va.bd=x;t.X.hia.addEventListener("addtrack",function(){t.R$a(t.va.Uc.value);});t.X.hia.addEventListener("change",function(){for(var y,z,A={},B=aa(t.X.hia),D=B.next();!D.done;(A={KP:A.KP},D=B.next())){A.KP=D.value;A.KP.enabled && A.KP.label !== (null === (y=t.va.Uc.value) || void 0 === y?void 0:y.displayName) && (!1,D=null !== (z=t.va.Rj.find((function(E){return function(F){return F.displayName === E.KP.label;};})(A))) && void 0 !== z?z:null,t.va.Uc.set(D));}});t.va.Uc.addListener(function(y){t.R$a(y.newValue);t.Tb(l.Ka.Vm);t.Tb(l.Ka.KA);});t.X.textTracks.addEventListener("addtrack",function(){t.S$a(t.va.ic.value);});t.X.textTracks.addEventListener("change",function(){var E;for(var y,z,A=t.X.textTracks,B={},D=0;D < A.length;(B={LP:B.LP},D++)){if((B.LP=A[D],"showing" === B.LP.mode && B.LP.label !== (null === (y=t.va.ic.value) || void 0 === y?void 0:y.displayName))){!1;E=null !== (z=t.va.vj.find((function(F){return function(C){return C.displayName === F.LP.label;};})(B))) && void 0 !== z?z:null;t.va.ic.set(E);t.va.Uh.set(E);}}});t.va.ic.set(x.gU);t.va.Uh.set(x.gU);t.va.ic.addListener(function(y){t.S$a(y.newValue);t.Tb(l.Ka.Jn);});return t.oRb.zi(w,function(y){return t.va.Bd(y);});}).then(function(w){var x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I;x=w.XLb;y=w.Xsb;w=w.QXb;z=w.audio;A=w.iTa;B=w.video;D=t.va;E=D.Yg;F=D.Uc;C=D.Rj;G=D.Se;J=D.rg;w=D.Jv;K=D.ke;H=D.gf;L=D.Fl;D=D.bd;D.Rj=C.filter(function(P){return z.find(function(N){return N.track.hh === P.trackId;});});J.set(D.U3);F.set(C.find(function(P){return P.trackId === A;}));D=B[0];R=D.stream;C=z.find(function(P){return P.track.hh === A;});I=C.stream;t.KV=R.bitrate;t.taa.kta.addListener(t.Y4a(J,K));t.taa.mwa.addListener(t.W8a(J,G,t.va.kc[f.Sb.Qa.Jb]));G=y.get(R.Er).dO.Np;t.taa.xb(B,D,G);t.R2.kta.addListener(t.Y4a(F,H));t.R2.mwa.addListener(t.W8a(F,E,t.va.kc[f.Sb.Qa.Lb]));y=y.get(I.Er).dO.Np;t.R2.xb(z,C,y);t.X.src=x;t.X.currentTime=(null !== w && void 0 !== w?w:0) / 1E3;t.X.load();L.Nra(0,w && 0 < w?w:1);}).catch(function(w){var x;return t.close(t.Hi(null !== (x=w.code) && void 0 !== x?x:k.M.ZKa,w));});};c.prototype.S$a=function(t){var y;for(var w=this.X.textTracks,x=0;x < w.length;x++){y=w[x];y.label === t.displayName && "showing" !== y.mode && (!1,y.mode="showing");y.label !== t.displayName && "showing" === y.mode && (!1,y.mode="hidden");}};c.prototype.R$a=function(t){for(var w=aa(this.X.hia),x=w.next();!x.done;x=w.next()){x=x.value;x.label !== t.displayName || x.enabled || (!1,x.enabled=!0);x.label !== t.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.cw=function(){return Math.floor(1E3 * this.X.currentTime);};c.prototype.f5=function(){return Math.floor(1E3 * this.X.currentTime);};c.prototype.Hma=function(){return Math.floor(1E3 * this.X.duration);};c.prototype.GXa=function(){return this.N.J;};c.prototype.lz=function(){return this.va.ca;};c.prototype.ln=function(){return this.X;};c.prototype.isReady=function(){return null === this.yh();};c.prototype.pq=function(){return this.nj.value;};c.prototype.RV=function(){return !this.nj.value;};c.prototype.Zoa=function(){return this.X.ended;};c.prototype.yh=function(){return 1 !== this.e3.value?{stalled:this.ss.value,progress:this.e3.value,progressRollback:!1}:null;};c.prototype.getError=function(){var t,w;return null !== (w=null === (t=this.bi) || void 0 === t?void 0:t.$Y()) && void 0 !== w?w:null;};c.prototype.nWa=function(){return 1 === this.X.buffered.length?1E3 * this.X.buffered.end(0):null;};c.prototype.BYa=function(){return {width:this.X.videoWidth,height:this.X.videoHeight};};c.prototype.gpa=function(){return this.X.muted;};c.prototype.CYa=function(){return this.X.volume;};c.prototype.K7a=function(t){this.X.muted=t;};c.prototype.W7a=function(t){this.X.volume=t;};c.prototype.addEventListener=function(t,w,x){this.Ob.addListener(t,w,x);};c.prototype.removeEventListener=function(t,w){this.Ob.removeListener(t,w);};c.prototype.load=function(){this.loaded || (this.loaded=!0,this.c$());};c.prototype.close=function(t){if(this.closed)return Promise.resolve();this.va.mediaTime.set(this.cw());this.Jka();this.va.RT=this.f5();this.closed=!0;this.X.removeAttribute("src");this.X.load();(this.bi=t) && this.Tb(l.Ka.error,t.$Y());this.Tb(l.Ka.closed);return this.C4a.GY(this.va);};c.prototype.play=function(){var t,w;t=this;w=this.X.play();this.kQa=!1;w && w.then(function(){t.Qla(l.Ka.lQa);}).catch(function(x){t.Tb(l.Ka.pL);"NotAllowedError" === x.name && (t.log.warn("Playback is blocked by the browser settings",x),t.kQa=!0,t.Wh=!0,t.Qla(l.Ka.T2,{player:{play:function(){return t.play();}}}));});};c.prototype.Tb=function(t,w,x){w=w || ({});w.target=this;this.Ob.vc(t,w,!x);};c.prototype.Qla=function(t,w){this.AVa.has(t) || (this.AVa.add(t),this.Tb(t,w,void 0));};c.prototype.pause=function(){this.X.pause();};c.prototype.seek=function(t){this.X.currentTime=t / 1E3;};c.prototype.MZa=function(t){this.close(this.Hi(k.M.qBa,k.L.Nl,t));};c.prototype.wo=function(){return this.va.playbackRate.value;};c.prototype.L7a=function(t){this.va.playbackRate.set(t);};c.prototype.xma=function(){var t;t=this;return this.va.Rj?this.va.Rj.map(function(w){return t.yo(w);}).filter(function(w){return null !== w;}):[];};c.prototype.I5=function(t){var w,x;w=this;x=t && this.va.Rj.find(function(y){return w.yo(y) === t;}) || this.va.Uc.value;return null === x?[]:x.vj.map(function(y){return w.yo(y);}).filter(function(y){return null !== y;});};c.prototype.eWa=function(){return this.yo(this.va.Uc.value);};c.prototype.Jna=function(){return this.yo(this.va.ic.value);};c.prototype.w7a=function(t){var w,x;w=this;x=this.va.Rj.find(function(y){return w.yo(y) === t;});x?this.va.Uc.set(x):this.log.error("Invalid setAudioTrack call");};c.prototype.yva=function(t){var w,x;w=this;x=this.va.vj.find(function(y){return w.yo(y) === t;});x?(this.va.ic.set(x),this.va.Uh.set(x)):this.log.error("Invalid setTextTrack call");};c.prototype.xXa=function(){return this.xma().length - 1;};c.prototype.ana=function(t){return this.I5(t).length - 1;};c.prototype.yo=function(t){var w;if(null !== t){w=t.Ata=t.Ata || ({trackId:t.trackId,bcp47:t.$i,displayName:t.displayName,trackType:t.cl,rawTrackType:t.TH,channels:t.channels});t.pn && (w.isImageBased=!0);this.mpa(t) && (w.isNative=t.isNative,w.surroundFormatLabel=t.MY);this.npa(t) && (w.isNoneTrack=t.Qr(),w.isForcedNarrative=t.oq());w.subType=t.zI;w.variant=t.variant;return w;}return null;};c.prototype.mpa=function(t){return "undefined" !== typeof t.isNative;};c.prototype.npa=function(t){return "undefined" !== typeof t.Qr && "undefined" !== typeof t.oq;};c.prototype.gaa=function(t){this.va.ab=u.R7(this.va.ab,t);};c.prototype.im=function(t){if(t !== this.va.ya)throw (!1,Error("Unknown segmentId " + t));return this.va;};c.prototype.TXa=function(){return this.va.ab;};c.prototype.wha=function(){!1;};c.prototype.xw=function(){!1;};c.prototype.S5=function(){!1;return Promise.reject();};c.prototype.Ana=function(){return {};};c.prototype.g5=function(){};c.prototype.BWa=function(){};c.prototype.bWa=function(){return {};};c.prototype.mva=function(){};c.prototype.$O=function(){};c.prototype.h_a=function(){return !1;};c.prototype.HWa=function(){return {addEventListener:function(){},removeEventListener:function(){},yM:function(){return [];},register:function(){},Ora:function(){},EXa:function(){},getTime:function(){return 0;}};};c.prototype.aM=function(){!1;return Promise.resolve({success:!0});};c.prototype.yYa=function(){!1;};c.prototype.sV=function(){!1;};c.prototype.PO=function(){!1;};c.prototype.qP=function(){!1;};c.prototype.Cva=function(){!1;};c.prototype.x0a=function(){!1;};c.prototype.YVa=function(){!1;return Promise.reject();};c.prototype.y4a=function(){!1;return Promise.reject();};c.prototype.r5a=function(){!1;return Promise.reject();};c.prototype.ki=function(){!1;return Promise.reject();};c.prototype.NH=function(){!1;};c.prototype.i8a=function(){return !1;};b.nLa=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Dc=b.nq=void 0;(function(c){c[c.Ri=0]="STOPPED";c[c.ud=1]="BUFFERING";c[c.If=2]="REBUFFERING";c[c.Fj=3]="STREAMING";c[c.BR=4]="TRACK_SWITCH";})(a || (a={}));b.Dc=a;b.nq=function(c){return c === a.ud || c === a.If || c === a.BR;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(672),b);r.__exportStar(a(673),b);r.__exportStar(a(674),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bda=void 0;r=b.bda || (b.bda={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.hB=1]="HAVE_SOMETHING";r[r.ox=2]="HAVE_MINIMUM";r[r.tJ=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ma=void 0;r=a || (a={});r[r.qh=0]="STARTING";r[r.ud=1]="BUFFERING";r[r.If=2]="REBUFFERING";r[r.Ec=3]="PLAYING";r[r.gr=4]="STOPPING";r[r.Ri=5]="STOPPED";r[r.Vg=6]="PAUSED";b.ma=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(695),b);r.__exportStar(a(696),b);r.__exportStar(a(697),b);r.__exportStar(a(698),b);r.__exportStar(a(699),b);r.__exportStar(a(700),b);r.__exportStar(a(701),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(703),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hx=void 0;r=b.Hx || (b.Hx={});r[r.Bhb=0]="PLAYGRAPH_CHANGED";r[r.Chb=1]="PLAYGRAPH_UNCHANGED";r[r.Pgb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.reb=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.qeb=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Aib=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.cbb=6]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xya=void 0;c=a(16);r=(function(){function f(l){this.config=l;}f.prototype.dn=function(l,m){return this.config.HY || m !== c.Dc.Fj?l.filter(function(d){return d.Ht;}):l;};return f;})();b.xya=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aF=void 0;r=a(2);c=a(20);f=r.__importDefault(a(6));l=a(347);a=(function(){function m(d){this.console=d;this.jTa=[];this.vQa={};this.BTa=!1;}m.prototype.Jq=function(d,g){this.jTa=d;void 0 !== g?this.vQa[g]=d:this.BTa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.BTa=!0);};m.prototype.dn=function(d){var g,h,k,n,p;g=this;if(0 === d.length)return d;n=d[0].Z;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=f.default.ut) || void 0 === h?void 0:h.call(f.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.vQa[n]) && void 0 !== k?k:this.jTa;c.ga && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return l.Nha(q.profile,q.bitrate,p,g.console).inRange;});c.ga && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return m;})();b.aF=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yya=void 0;r=(function(){function a(c){var f;f=this;c.dP && c.dP.enabled && c.dP.profiles && c.dP.profiles.length && "keepLowest" === c.dP.action && (this.Y_a={},c.dP.profiles.forEach(function(l){return f.Y_a[l]=!0;}));}a.prototype.dn=function(c){var f,l;f={};l=this.Y_a;return void 0 === l?c:c.filter(function(m){return !l[m.profile] || (f[m.profile]?!1:f[m.profile]=!0);});};return a;})();b.yya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vya=void 0;r=(function(){function a(c){this.config=c;}a.prototype.dn=function(c){var f;f=this.config;return c.filter(function(l){return !(void 0 !== l.Eb && (l.Eb < f.qH || l.Eb > f.r1a) || (void 0 === l.Eb || 0 >= f.qH) && l.bitrate < f.jra || (void 0 === l.Eb || Infinity === f.r1a) && l.bitrate > f.hMb);});};return a;})();b.vya=r;},function(r,b,a){var f;function c(l,m){m=Math.max(l,m);return isNaN(m)?l || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.gya=void 0;f=a(16);r=(function(){function l(m){this.config=m;this.z9=0;this.state=f.Dc.Ri;this.l2a=c(m.jra,m.T7);this.qra=c(m.qH,m.yW);}l.prototype.dn=function(m,d){var g;g=this;if(d !== this.state){this.state=d;if(d === f.Dc.ud || d === f.Dc.BR)return m;d === f.Dc.If && this.G5a();}return m.filter(function(h){return !(void 0 !== h.Eb && h.Eb < g.qra || (void 0 === h.Eb || 0 > g.qra) && h.bitrate < g.l2a);});};l.prototype.G5a=function(){++this.z9;this.qra=c(this.config.qH,this.config.yW - this.config.jNb * this.z9);this.l2a=this.config.jra || -Infinity;};return l;})();b.gya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uya=void 0;c=a(27);r=(function(){function f(l){this.config=l;}f.prototype.NWb=function(l){return l % 100 + 1 <= this.config.Gsa;};f.prototype.dn=function(l){var m,d,g,h,k,n,p,q,v,u,t;p=Number(null === (m=l[0]) || void 0 === m?void 0:m.J);if(!(this.config.n4 && this.NWb(p) && 0 < this.config.N9.length))return l;m=l.length;q=null !== (d=l[m - 1].M9) && void 0 !== d?d:0;if(d=c.dg(this.config.N9,function(w){return w.aac >= q && w.G6a <= q;})){for(p=0;p < m;p++){v=l[Math.max(p - 1,0)];u=l[p];if(!((null !== (g=u.M9) && void 0 !== g?g:0) < d.G6a || (null !== (h=v.M9) && void 0 !== h?h:0) < d.G6a)){t=null !== (k=u.Eb) && void 0 !== k?k:Infinity;v=null !== (n=v.Eb) && void 0 !== n?n:Infinity;if(!(v < d.l$b || v < d.k$b && u.bitrate < d.maxBitrate || !t && u.bitrate < d.I9b))break;}}return l.slice(0,p);}return l;};return f;})();b.uya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=b.jba=void 0;c=a(27);b.jba={dn:function(f){return f.filter(function(l){return l.Yt && !l.pz;});}};b.Ica={dn:function(f){return (f=c.dg(f,function(l){return ! !l.Yt && !l.pz;}))?[f]:[];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WE=void 0;c=a(348);r=(function(){function f(l,m){void 0 === m && (m=!1);this.Ksb=m;this.filters=[];Array.isArray(l)?l.forEach(this.and.bind(this)):this.and(l);}f.prototype.and=function(l){l !== c.ME && this.filters.push({filter:l,cSa:!0});return this;};f.prototype.or=function(l){this.filters.push({filter:l,cSa:!1});return this;};f.prototype.dn=function(l,m){return this.filters.reduce(function(d,g){g.cSa?d=g.filter.dn(d,m):0 === d.length && (d=g.filter.dn(l,m));return d;},l);};return f;})();b.WE=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jca=void 0;b.Jca={dn:function(a){return [a[0]];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hG=b.gG=void 0;c=a(99);b.gG=function(f,l){l && (null === f || void 0 === f?0:f.tZa) && (l=new c.WE(l).or(c.ME));return new c.WE(c.jba).and(null !== l && void 0 !== l?l:c.ME).or(c.Ica).or(c.Jca);};b.hG=function(f,l){l && f.tZa && (l=new c.WE(l).or(c.ME));return new c.WE(c.jba).and(new c.xya(f)).and(new c.vya(f)).and(new c.gya(f)).and(new c.yya(f)).and(f.n4?new c.uya(f):c.ME).and(null !== l && void 0 !== l?l:c.ME).or(c.Ica).or(c.Jca);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(725),b);r.__exportStar(a(352),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xxa=void 0;c=a(2);r=(function(f){function l(m,d){m=f.call(this,l.QCb(m,d)) || this;m.Rkb=d;m.name="AggregateError";return m;}c.__extends(l,f);l.QCb=function(m,d){return d.reduce(function(g,h){return g + "\n" + h;},m);};Object.defineProperties(l.prototype,{t4:{get:function(){return this.Rkb;},enumerable:!1,configurable:!0}});return l;})(Error);b.Xxa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gib=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.ff,segments:a.byb(c.Aa)},void 0 !== c.me?{transitionType:c.me}:{});};a.encode=function(c){return Object.assign({ff:c.initialSegment,Aa:a.HAb(c.segments)},void 0 !== c.transitionType?{me:c.transitionType}:{});};a.HAb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.GAb(c[l]);return f;},{});};a.GAb=function(c){return Object.assign({Z:c.viewableId,wc:c.startTimeMs},c.endTimeMs?{Oc:c.endTimeMs}:{},c.defaultNext?{Zh:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{me:c.transitionType}:{},c.next?{next:a.EAb(c.next)}:{},c.exitZones?{bq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.EAb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.FAb(c[l]);return f;},{});};a.FAb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{me:c.transitionType}:{});};a.byb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.ayb(c[l]);return f;},{});};a.ayb=function(c){return Object.assign({viewableId:c.Z,startTimeMs:c.wc},c.Oc?{endTimeMs:c.Oc}:{},c.Zh?{defaultNext:c.Zh}:{},c.weight?{weight:c.weight}:{},c.me?{transitionType:c.me}:{},c.next?{next:a.Zxb(c.next)}:{},c.bq?{exitZones:c.bq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Zxb=function(c){return Object.keys(c).reduce(function(f,l){f[l]=a.$xb(c[l]);return f;},{});};a.$xb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.me?{transitionType:c.me}:{});};return a;})();},function(r,b,a){var m;function c(d){return Object.keys(d.segments).some(function(g){var h,k;return (null === (h=d.segments[g].ui) || void 0 === h?void 0:h.interactionZones) || (null === (k=d.segments[g].ui) || void 0 === k?void 0:k.interactionZonesV2);});}function f(d){return Object.keys(d).reduce(function(g,h){var k,n;k=d[h];n=k.weight;k=k.transitionType || k.transitionHint;h=g[h]={};void 0 !== n && (h.weight=n);k && (h.me=k);return g;},{});}function l(d){var g,h;g=Object.keys(d);h=g.length;return h?g.reduce(function(k,n){return k + (d[n].weight || 0);},0) / h:void 0;}Object.defineProperty(b,"__esModule",{value:!0});m=a(216);b.oC=function(d,g){var h,k,n,p,q,v;h=void 0 === g?{}:g;g=h.zd;k=h.ff;n=h.Aa;h=h.config;p=!(!h || -1 === h.gma.indexOf(d.viewableId));q=c(d)?0:(null === h || void 0 === h?void 0:h.fma) || 0;h=new m.SE();v=n || d.segments;h.sY(null !== k && void 0 !== k?k:d.initialSegment).J7a(null !== g && void 0 !== g?g:d.mediaTypes).Dva(p?"immediate":d.transitionType).P7a(Object.keys(v).reduce(function(u,t){var w,x,y,z,A;w=v[t];z=w.weight;if(null === z || void 0 === z)z=w.next && (p || (null === (x=w.exitZones) || void 0 === x?0:x.length))?l(w.next):void 0;x=w.exitZones;if(null === x || void 0 === x)a:{if(p && w.endTimeMs){x=w.endTimeMs - w.startTimeMs;b:{if(w.ui){A=w.ui.interactionZones;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0] - w.startTimeMs;break b;}A=w.ui.interactionZonesV2;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0];break b;}}A=void 0;}if(A && A < x){x=[[A,x]];break a;}if(q && x > q){x=[[x - q,x]];break a;}}x=void 0;}A=w.transitionHint || (!p || q || x?void 0:"lazy");z={Z:d.viewableId,wc:w.startTimeMs,Oc:(y=w.endTimeMs,null !== y && void 0 !== y?y:Infinity),me:A,bq:x,weight:z};w.defaultNext && (z.Zh=w.defaultNext);w.next && (z.next=f(w.next));u[t]=z;return u;},{}));return h.zi();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(216);b.rI=function(f,l,m){var d;d=new c.SE();d.sY(l).Dva("lazy").J7a(m).jo(l,{Z:f,wc:0,Oc:Infinity});return d.zi();};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.REa=void 0;c=a(2);f=a(18);l=a(217);m=a(350);r=c.__importDefault(a(6));d=a(757);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function k(n,p){var q;q=h.call(this) || this;q.I=n;q.fh=new d.YDa(n,p);n.EU && q.fSa(p);q.Qg=new f.Nh();g.forEach(function(v){q.Qg.on(q.fh,v,function(u){return q.emit(v,u);});q.So && q.Qg.on(q.So,v,function(u){return q.emit(v,u);});});return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{Pb:{get:function(){return this.fh.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tn:{get:function(){return this.fh.tn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Iu:{get:function(){return this.fh.Iu;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{EA:{get:function(){return this.fh.EA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xpa:{get:function(){return this.fh.xpa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{QD:{get:function(){return this.fh.QD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Af:{get:function(){return this.fh.Af;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bh:{get:function(){return this.fh.Bh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xoa:{get:function(){return this.fh.xoa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{iW:{get:function(){return this.fh.iW.bind(this.fh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Y4:{get:function(){return this.fh.Y4.bind(this.fh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{g3:{get:function(){var n;n=this;return function(){n.zua();n.fh.g3();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Oia:{get:function(){var n;n=this;return function(){n.zua();n.fh.Oia();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wy:{get:function(){var n;n=this;return function(){n.zua();n.fh.wy();};},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hp:{get:function(){var n;n=this;return function(p,q,v){var u;null === (u=n.Af) || void 0 === u?void 0:u.Hp(p,q,v);};},enumerable:!1,configurable:!0}});k.prototype.fSa=function(n){return this.So=new (a(878).JJa)(this.I,this.wy,this.Hp,n);};k.prototype.xb=function(n,p,q,v,u,t,w,x){void 0 === w && (w=262144);void 0 === x && (x=1048576);this.fh.xb(n,p,q,v,u,t);this.So?this.So.xb(n,p,q,v,u,t,w,x):this.e0a={Oqb:n,G0b:p,Pv:q,EA:v,QD:u,MMb:t,cia:w,Cxa:x};};k.prototype.uY=function(n,p,q){this.fh.uY(n,p,q);this.So?this.So.uY(n,p,q):this.j0a={WXb:n,EA:p,QD:q};};k.prototype.createSession=function(n,p,q,v,u,t,w,x,y,z){var A,B,D,E,F;A=this;x || (x=this.fh.config);if(x.EU && !this.So){B=this.fSa(this.fh.ZD);g.forEach(function(C){A.Qg.on(A.So,C,function(G){return A.emit(C,G);});});if(this.e0a){D=this.e0a;E=D.EA;F=D.QD;B.xb(D.Oqb,D.G0b,D.Pv,E,F,D.MMb,D.cia,D.Cxa);}this.j0a && (F=this.j0a,D=F.WXb,E=F.EA,F=F.QD,B.uY(D,E,F));}return this.So && x && x.laa?(x.wr || x.wH || this.fh.wy(),this.So.createSession(n,p,q,v,u,t,w,x,y,z)):this.fh.createSession(n,p,q,v,u,t,w,x,y,z);};k.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};k.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};k.prototype.Kb=function(){var n;this.Qg.clear();this.fh.Kb();null === (n=this.So) || void 0 === n?void 0:n.Kb();l.iJ.reset();};k.prototype.zua=function(){var n,p;this.I.wr || this.I.wH || (null === (n=this.So) || void 0 === n?void 0:n.Na.state) !== m.Fs.OPEN || (null === (p=this.So) || void 0 === p?void 0:p.Na.tu.reset());};return k;})(f.EventEmitter);b.REa=r;},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,l,m){l=m?l.bind(m):l;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addListener)c.addListener(f,l);else if("function" === typeof c.addEventListener)c.addEventListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={nib:a(735),V1b:a(736)};},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function f(g){this.Ze=null;this.Mm=g;this.size=0;}function l(g){return null !== g && g.red;}function m(g,h){var k;k=g.dh(!h);g.Kq(!h,k.dh(h));k.Kq(h,g);g.red=!0;k.red=!1;return k;}function d(g,h){g.Kq(!h,m(g.dh(!h),!h));return m(g,h);}b=a(354);c.prototype.dh=function(g){return g?this.right:this.left;};c.prototype.Kq=function(g,h){g?this.right=h:this.left=h;};f.prototype=new b();f.prototype.mq=function(g){var h,k,n,p,q,v,u,t,w;h=!1;if(null === this.Ze)(this.Ze=new c(g),h=!0,this.size++);else {k=new c(void 0);n=0;p=0;q=null;v=k;u=null;t=this.Ze;for(v.right=this.Ze;;){null === t?(t=new c(g),u.Kq(n,t),h=!0,this.size++):l(t.left) && l(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(l(t) && l(u)){w=v.right === q;t === u.dh(p)?v.Kq(w,m(q,!p)):v.Kq(w,d(q,!p));}w=this.Mm(t.data,g);if(0 === w)break;p=n;n=0 > w;null !== q && (v=q);q=u;u=t;t=t.dh(n);}this.Ze=k.right;}this.Ze.red=!1;return h;};f.prototype.remove=function(g){var h,k,u,t,w;if(null === this.Ze)return !1;h=new c(void 0);k=h;k.right=this.Ze;for(var n=null,p,q=null,v=1;null !== k.dh(v);){u=v;p=n;n=k;k=k.dh(v);t=this.Mm(g,k.data);v=0 < t;0 === t && (q=k);if(!l(k) && !l(k.dh(v)))if(l(k.dh(!v)))(p=m(k,v),n.Kq(u,p),n=p);else if(!l(k.dh(!v)) && (t=n.dh(!u),null !== t))if(l(t.dh(!u)) || l(t.dh(u))){w=p.right === n;l(t.dh(u))?p.Kq(w,d(n,u)):l(t.dh(!u)) && p.Kq(w,m(n,u));u=p.dh(w);u.red=!0;k.red=!0;u.left.red=!1;u.right.red=!1;}else (n.red=!1,t.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.Kq(n.right === k,k.dh(null === k.left)),this.size--);this.Ze=h.right;null !== this.Ze && (this.Ze.red=!1);return null !== q;};r.exports=f;},function(r,b,a){function c(l){this.data=l;this.right=this.left=null;}function f(l){this.Ze=null;this.Mm=l;this.size=0;}b=a(354);c.prototype.dh=function(l){return l?this.right:this.left;};c.prototype.Kq=function(l,m){l?this.right=m:this.left=m;};f.prototype=new b();f.prototype.mq=function(l){if(null === this.Ze)return (this.Ze=new c(l),this.size++,!0);for(var m=0,d=null,g=this.Ze;;){if(null === g)return (g=new c(l),d.Kq(m,g),ret=!0,this.size++,!0);if(0 === this.Mm(g.data,l))return !1;m=0 > this.Mm(g.data,l);d=g;g=g.dh(m);}};f.prototype.remove=function(l){var m,d,n;if(null === this.Ze)return !1;m=new c(void 0);d=m;d.right=this.Ze;for(var g=null,h=null,k=1;null !== d.dh(k);){g=d;d=d.dh(k);n=this.Mm(l,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,g.Kq(g.right === d,d.dh(null === d.left)),this.Ze=m.right,this.size--,!0):!1;};r.exports=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QFa=void 0;c=a(27);f=a(5);r=(function(){function l(){this.data={};}Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,g){return d + m.data[g].length;},0);},enumerable:!1,configurable:!0}});l.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};l.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};l.prototype.count=function(m){return (m=this.data[m])?m.length:0;};l.prototype.keys=function(){return Object.keys(this.data);};l.prototype.values=function(){var m;m=this;return c.flatten(this.keys().map(function(d){return m.data[d];}));};l.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};l.prototype.clear=function(){this.data={};};l.prototype.delete=function(m,d){var g,h;g=this.data[m];if(void 0 === g)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[m],!0);h=g.indexOf(d);if(-1 === h)return !1;1 === g.length?delete this.data[m]:g.splice(h,1);return !0;};l.prototype.forEach=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return g.data[h].forEach(function(k){return m(k,h,g);});});};l.prototype.reduce=function(m,d,g){var h,k;h=this;m=void 0 !== g?m.bind(g):m;k=d;this.forEach(function(n,p){k=m(k,n,p,h);});return k;};l.prototype.map=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].map(function(k){return m(k,h,g);});}));};l.prototype.filter=function(m,d){var g;g=this;m=void 0 !== d?m.bind(d):m;return c.flatten(this.keys().map(function(h){return g.data[h].filter(function(k){return m(k,h,g);});}));};return l;})();b.QFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wVa=void 0;b.wVa=function(a,c){return a.filter(function(f){var l,m;f=null !== (m=null !== (l=f.mj) && void 0 !== l?l:f.Or) && void 0 !== m?m:f.Eg;return ! !f && f.iw(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NJa=b.MJa=void 0;c=a(27);r=(function(){function f(l){this.G=l;this.listeners=[];this.aX=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(l){var m;this.G=l;m=this.aX;this.aX=[];this.listeners.forEach(function(d){return d(l);});m.forEach(function(d){return d(l);});};f.prototype.F6a=function(){this.G=void 0;};f.prototype.on=function(l){this.listeners=this.listeners.concat([l]);void 0 !== this.G && l(this.G);};f.prototype.once=function(l){void 0 !== this.G?l(this.G):this.aX.push(l);};f.prototype.wD=function(l){this.listeners=this.listeners.filter(function(m){return m !== l;});this.aX=this.aX.filter(function(m){return m !== l;});};return f;})();b.MJa=r;r=(function(){function f(){this.listeners=[];}f.prototype.on=function(l,m){this.listeners.push({signal:l,listener:m});l.on(m);};f.prototype.once=function(l,m){var d,g;d=this;if(void 0 === l.value){g=function(h){d.remove(l,m);m(h);};this.listeners.push({signal:l,listener:m,Qab:g});l.once(g);}else l.once(m);};f.prototype.wD=function(l,m){var d,g;g=c.dg(this.listeners,function(h){return h.signal === l && h.listener === m;});void 0 !== g && l.wD(null !== (d=g.Qab) && void 0 !== d?d:g.listener);this.remove(l,m);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(l){var m,d;m=l.listener;d=l.Qab;return l.signal.wD(null !== d && void 0 !== d?d:m);});this.listeners=[];};f.prototype.remove=function(l,m){this.listeners=this.listeners.filter(function(d){return d.signal !== l || d.listener !== m;});};return f;})();b.NJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jQ=b.y_a=void 0;b.y_a=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.bOa=!1;this.promise=new Promise(function(f){c.Znb=f;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{J6a:{get:function(){return this.bOa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.bOa=!0;this.Znb(c);};return a;})();b.jQ=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hTa=void 0;b.hTa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var f;function c(l,m,d){var g,k,n;if(l === m || !d.WD && l == m)return !0;if(typeof l !== typeof m)return !1;if(l && "object" === typeof l){for(var h in l){if(!c(l[h],m[h],d))return !1;}if(!d.jtb){k=Object.keys(l);n=Object.keys(m).filter(function(u){return 0 > k.indexOf(u);});try{for(var p=f.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(l[h],m[h],d)))return !1;}}catch(u){var v;v={error:u};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.fyb=void 0;f=a(2);b.fyb=function(l,m,d){void 0 === d && (d={});d=f.__assign({WD:!1,jtb:!1},d);return c(l,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.H0=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Fa=NaN;}Object.defineProperties(a.prototype,{ds:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Fa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Fa+=(c - this.Fa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Fa};};return a;})();b.H0=r;},function(r,b,a){var f;function c(l){this.CO=new Uint16Array(l.length);for(var m=0;m < l.length;++m){this.CO[m]=l.charCodeAt(m);}}f=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(l){var m;m=this.CO.length;if(void 0 === this.CO)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",g=0;g < l.length;++g){d+=String.fromCharCode(this.CO[g % m] ^ l.charCodeAt(g));}return encodeURIComponent(d);}};c.prototype.decrypt=function(l){var m,d;m="";d=this.CO.length;l=decodeURIComponent(l);for(var g=0;g < l.length;g++){m+=String.fromCharCode(this.CO[g % d] ^ l.charCodeAt(g));}return m;};r.exports=c;},function(r){function b(a,c){this.Fa=a;this.Ni=c;}b.prototype.dta=function(a){var c,f,l,m,g,h;c=this.Fa;f=Math.sqrt(2 * this.Ni);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {l=1 > a?a:2 - a;m=Math.sqrt(-2 * Math.log(l / 2));m=-.70711 * ((2.30753 + .27061 * m) / (1 + m * (.99229 + .04481 * m)) - m);for(var d=0;2 > d;d++){g=Math.abs(m);h=1 / (1 + g / 2);g=h * Math.exp(-g * g - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));g=(0 <= m?g:2 - g) - l;m+=g / (1.1283791670955126 * Math.exp(-(m * m)) - m * g);}a=1 > a?m:-m;}return c - f * a;};r.exports=b;},function(r,b,a){var l,m,d,g;function c(h,k,n){l.call(this,h,k,n);}function f(h,k){m.call(this,new c(h,k,!1));}l=a(747);m=a(748);d=a(115).lDb;g=a(115).yGb;c.prototype=Object.create(l.prototype);c.prototype.Fa=function(){return Math.floor(8 * d(this.Nd) / this.Fd);};c.prototype.Ni=function(){return Math.floor(64 * g(this.Nd) / (this.Fd * this.Fd));};c.prototype.get=function(){return {Fa:this.Fa(),Ni:this.Ni(),v7b:this.Nd.length};};c.prototype.toString=function(){return "bsw(" + this.VK + "," + this.Fd + "," + this.Qj + ")";};f.prototype=Object.create(m.prototype);f.prototype.setInterval=function(h){this.lK.setInterval(h);};r.exports=f;},function(r){function b(a,c,f){this.VK=a;this.Qj=Math.floor((a + c - 1) / c);this.Fd=c;this.Gnb=f;this.reset();}b.prototype.shift=function(){this.Nd.shift();this.Th.shift();};b.prototype.update=function(a,c){this.Nd[a]+=c;};b.prototype.push=function(a){this.Nd.push(0);this.Th.push(a?a:0);this.sb+=this.Fd;};b.prototype.add=function(a,c,f,l){var m,d;if(null === this.sb){m=Math.max(Math.floor((f - c + this.Fd - 1) / this.Fd),1);for(this.sb=c;this.Nd.length < m;){this.push(l);}}for(;this.sb < f;){if((this.push(l),this.Gnb))for(;1 < this.Nd.length && f + l - (this.sb - this.Fd * this.Nd.length + this.Th[0]) > this.VK;){this.shift();}else this.Nd.length > this.Qj && this.shift();}if(c > this.sb - this.Fd)this.update(this.Nd.length - 1,a);else if(c == f)(l=this.Nd.length - Math.max(Math.ceil((this.sb - f) / this.Fd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.Nd.length;++l){m=this.sb - l * this.Fd;d=m + this.Fd;if(!(m > f)){if(d < c)break;this.update(this.Nd.length - l,Math.round(a * (Math.min(d,f) - Math.max(m,c)) / (f - c)));}}for(;this.Nd.length > this.Qj;){this.shift();}};b.prototype.reset=function(){this.Nd=[];this.Th=[];this.sb=null;};b.prototype.setInterval=function(a){this.Qj=Math.floor((a + this.Fd - 1) / this.Fd);};r.exports=b;},function(r){function b(a){this.lK=a;this.Ke=0;this.RK=null;}b.prototype.add=function(a,c,f){null !== this.RK && c > this.RK && (this.Ke+=c - this.RK,this.RK=null);this.lK.add(a,c - this.Ke,f - this.Ke,this.Ke);};b.prototype.stop=function(a){null === this.RK && (this.RK=a);};b.prototype.gta=function(a,c){return this.lK.gta(a,c);};b.prototype.get=function(){return this.lK.get();};b.prototype.reset=function(){this.lK.reset();};b.prototype.toString=function(){return this.lK.toString();};r.exports=b;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v){this.Dkb=v;}b=a(357);f=b.Zdb;l=b.Xdb;m=a(220).Ydb;d=a(220).rjb;g=a(358);h=a(359);k=a(360).tKa;n=a(750);p=a(751);q=a(169);c.prototype.constructor=c;c.prototype.create=function(v,u){var t,w,x,y;t=this.Dkb[v];w=u[v];x={};t && Object.keys(t).forEach(function(z){x[z]=t[z];});w && Object.keys(w).forEach(function(z){x[z]=w[z];});switch(x.type){case "slidingwindow":y=new m(x.mw);break;case "discontiguous-ewma":y=new l(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new g(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new k(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new q();break;case "entropy":y=new p(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var f;function c(){this.Nj=void 0;this.TB=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.TB && this.Nj?{p25:this.Nj.Dl,p50:this.Nj.ik,p75:this.Nj.El,c:this.TB}:null;};c.prototype.Re=function(l){if(!(!f.Cb(l) && f.has(l,"p25") && f.has(l,"p50") && f.has(l,"p75") && f.has(l,"c") && f.isFinite(l.p25) && f.isFinite(l.p50) && f.isFinite(l.p75) && f.isFinite(l.c)))return (this.Nj=void 0,this.TB=0,!1);this.Nj={Dl:l.p25,ik:l.p50,El:l.p75};this.TB=l.c;};c.prototype.get=function(){return {X8:this.Nj,AO:this.TB};};c.prototype.set=function(l,m){this.Nj=l;this.TB=m;};c.prototype.reset=function(){this.Nj=void 0;this.TB=0;};c.prototype.toString=function(){return "IQRHist(" + this.Nj + "," + this.TB + ")";};r.exports=c;},function(r,b,a){var f;function c(l){var m,d;m=l.sw;d=l.mw;this.UK=m;this.Xea={uhd:l.uhdl,hd:l.hdl};this.Qj=Math.max(Math.ceil(1 * m / d),1);this.kmb=l.mins || 1;f.call(this,m,d);this.reset();}f=a(142);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Nd.map(function(l,m){this.cPa(l,this.sma(m));},this);};c.prototype.jsb=function(){var l,m,d,g,h,k,n,u;l=this.Xea;for(m in l){if(l.hasOwnProperty(m)){d=l[m];g=this.Yga[m];h=this.Xga[m];if(g.first){k=g.first;n=g.QH;void 0 !== n && (h[k][n]+=1);g.first=void 0;}g=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,v=0;v < d;v++){q+=h[v][p];}k+=q;g.push(q);}q=-1;if(k > this.kmb){for(p=q=0;p < n;p++){if(0 < g[p])for(v=0;v < d;v++){u=h[v][p];0 < u && (q-=u * Math.log(1 * u / g[p]));}}q/=k * Math.log(2);}this.vfa[m]=q;}}return this.vfa;};c.prototype.cPa=function(l,m){var k,n;for(var d=this.Qj,g=this.Xea;this.o1.length >= d;){this.o1.shift();}for(;this.p1.length >= d;){this.p1.shift();}this.o1.push(l);this.p1.push(m);l=this.o1.reduce(function(p,q){return p + q;},0);m=this.p1.reduce(function(p,q){return p + q;},0);if(0 < m){l=8 * l / m;for(var h in g){if(g.hasOwnProperty(h)){m=this.Yga[h];d=this.Xga[h];k=this.ISb(l,g[h]);n=m.QH;void 0 !== n?d[k][n]+=1:m.first=k;m.QH=k;}}}};c.prototype.ISb=function(l,m){for(var d=0;d < m.length && l > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.cPa(this.Nd[0],this.sma(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var l,m,d,g,h,k,n;this.Yga={};this.o1=[];this.p1=[];this.Xga={};this.vfa={};l=this.Xea;for(m in l){if(l.hasOwnProperty(m)){d=this.Xga;g=m;k=void 0;n=Array(k);k=h=l[m].length + 1;for(var p=0;p < k;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[g]=n;this.Yga[m]={first:void 0,QH:void 0};this.vfa[m]=0;}}f.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var f,l;function c(m){this.I=m;this.sS();}f=a(10);l=a(6).default;new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();l.storage.set("nh",m);};c.prototype.DXb=function(){this.FF || (this.FF=!0,this.Zx=l.time.ea());};c.prototype.KXb=function(){var m;if(this.FF){m=l.time.ea();this.dy+=m - this.Zx;this.Zx=m;this.FF=!1;this.rS=null;}};c.prototype.f_a=function(m,d){this.FF && (d > this.Zx && (this.dy+=d - this.Zx,this.Zx=d),null === this.rS || m > this.rS) && (m=d - m,this.yK.push([this.dy - m,m]),this.Bob(),this.rS=d);};c.prototype.Bob=function(){var m;m=this.dy - this.I.RNb;this.yK=this.yK.filter(function(d){return d[0] > m;});};c.prototype.sS=function(){var m;m=l.storage.get("nh");this.Nga(m) || (this.Zx=l.time.ea(),this.dy=0,this.FF=!1,this.rS=null,this.yK=[]);};c.prototype.Nga=function(m){if(!(m && f.has(m,"t") && f.has(m,"s") && f.has(m,"i") && f.Ba(m.t) && f.Ba(m.s) && f.isArray(m.i)))return !1;this.Zx=l.time.Pra(1E3 * m.t);this.dy=1E3 * m.s;this.FF=!1;this.yK=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.rS=null;return !0;};c.prototype.getState=function(){return this.FF?{t:l.time.now() / 1E3 | 0,s:(this.dy + (l.time.ea() - this.Zx)) / 1E3 | 0,i:this.yK.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:l.time.sra(this.Zx) / 1E3 | 0,s:this.dy / 1E3 | 0,i:this.yK.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yBa=void 0;r=a(2);c=a(754);new (r.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var E00;E00=2;for(;E00 !== 7;){switch(E00){case 5:f.prototype.ZX=function(l,m){var I00,d;I00=2;for(;I00 !== 9;){switch(I00){case 1:I00=this.Foa?5:4;break;case 5:this.YD.stop(l,m.ai);I00=9;break;case 2:I00=m.ai?1:9;break;case 4:d=this.Xy[m.ai];1 === m.type && d && (--d.wZ,0 === d.wZ && (d.G4 && this.YD.stop(l,m.ai),d.G4=!1,delete this.Xy[m.ai]),this.B$a(l));I00=9;break;}}};f.prototype.Ev=function(l,m,d,g){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:g.ai && (this.Foa?this.YD.add(l,m,d,g.ai):this.bT === g.ai && this.YD.add(l,m,d,g.ai));J00=1;break;}}};f.prototype.Nt=function(){var K00;K00=2;for(;K00 !== 1;){switch(K00){case 4:return this.YD.get();break;K00=1;break;case 2:return this.YD.get();break;}}};f.prototype.B$a=function(l){var L00,m,d;L00=2;for(;L00 !== 5;){switch(L00){case 1:1 === m.length && !1 === d.G4?(this.YD.start(l,d.ai),this.bT=d.ai):1 < m.length && this.bT && (m=this.Xy[this.bT],this.YD.stop(l,this.bT),m.G4=!1,this.bT=void 0);L00=5;break;case 2:(m=Object.keys(this.Xy),d=this.Xy[m[0]]);L00=1;break;}}};E00=8;break;case 2:f.prototype.reset=function(){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 4:this.YD=new c.Eza();G00=0;break;G00=1;break;case 2:this.YD=new c.Eza();G00=1;break;}}};f.prototype.sO=function(l,m){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:m.ai && (this.Foa?this.YD.start(l,m.ai):1 === m.type && (this.Xy[m.ai]?this.Xy[m.ai].wZ+=1:this.Xy[m.ai]={ai:m.ai,wZ:1,G4:!1},this.B$a(l)));H00=1;break;}}};E00=5;break;case 8:return f;break;}}function f(l){var F00;F00=2;for(;F00 !== 4;){switch(F00){case 2:this.Foa=l;this.Xy={};F00=5;break;case 5:var C2g="1S";C2g+="I";C2g+="Y";C2g+="bZ";C2g+="rNJCp9";C2g;F00=4;break;}}}})();b.yBa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Eza=void 0;c=a(2).__importDefault(a(169));r=(function(){var M00;M00=2;for(;M00 !== 9;){switch(M00){case 2:f.prototype.add=function(l,m,d,g){var O00,h;O00=2;for(;O00 !== 4;){switch(O00){case 2:h=this.U1;void 0 === h[g] && (h[g]=new c.default());h[g].add(l,m,d);O00=4;break;}}};f.prototype.start=function(l,m){var P00,d;P00=2;for(;P00 !== 4;){switch(P00){case 2:d=this.U1;void 0 === d[m] && (d[m]=new c.default());d[m].start(l);P00=4;break;}}};f.prototype.stop=function(l,m){var Q00,d;Q00=2;for(;Q00 !== 5;){switch(Q00){case 2:d=this.U1;void 0 !== d[m] && d[m].stop(l);Q00=5;break;}}};f.prototype.get=function(){var R00,l,m,d,g,h,k;R00=2;for(;R00 !== 8;){switch(R00){case 2:(l=this.U1,m=Object.keys(l),d=[],g=0);R00=1;break;case 9:return d;break;case 1:R00=g < m.length?5:9;break;case 3:g++;R00=1;break;case 5:(h=m[g],k=l[h].get());k && d.push({cdnid:h,avtp:k.Fa,tm:k.vC});R00=3;break;}}};return f;break;}}function f(){var N00;N00=2;for(;N00 !== 5;){switch(N00){case 2:var m2g="1SI";m2g+="Yb";m2g+="ZrNJCp9";this.U1={};m2g;N00=5;break;case 3:this.U1={};"";N00=6;break;N00=5;break;}}}})();b.Eza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CGa=void 0;c=a(2).__importDefault(a(169));r=(function(){var S00;S00=2;for(;S00 !== 3;){switch(S00){case 2:f.prototype.reset=function(){var U00;U00=2;for(;U00 !== 4;){switch(U00){case 2:this.bY=[0,0];this.Sg=[0,0];this.gX=[0,0];U00=4;break;}}};f.prototype.Ev=function(l,m,d,g){var V00,h,k;V00=2;for(;V00 !== 8;){switch(V00){case 2:V00=1;break;case 1:this.Sg[g.type]+=l;V00=5;break;case 4:(this.bY[g.type]+=l,this.N3a.add(l,m,d),this.rsa[g.type].add(l,m,d));V00=3;break;case 3:V00=(null === (k=g.$H) || void 0 === k?0:k.q1a(l,m,d,this.P8))?9:8;break;case 9:this.gX[g.type]+=l;V00=8;break;case 5:V00=(null === (h=g.$H) || void 0 === h?0:h.T6())?4:3;break;}}};f.prototype.B5=function(){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return {bytesRequestedPacingVideo:this.bY[1],bytesRequestedPacingAudio:this.bY[0],estimatedBytesPacedVideo:this.gX[1],estimatedBytesPacedAudio:this.gX[0],bytestotalVideo:this.Sg[1],bytestotalAudio:this.Sg[0],pacedAvtpVideo:this.rsa[1].get().Fa,pacedAvtpAudio:this.rsa[0].get().Fa,pacedAvtp:this.N3a.get().Fa};break;}}};S00=4;break;case 4:return f;break;}}function f(l){var T00;T00=2;for(;T00 !== 7;){switch(T00){case 2:var c2g="1SIY";c2g+="bZrN";c2g+="JCp9";this.bY=[0,0];this.Sg=[0,0];this.gX=[0,0];c2g;this.P8=l.P8;this.rsa=[new c.default(),new c.default()];T00=8;break;case 8:this.N3a=new c.default();T00=7;break;}}}})();b.CGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;c=a(2).__importDefault(a(169));r=(function(){function f(l){var Y00;Y00=2;for(;Y00 !== 8;){switch(Y00){case 2:var d2g="1SI";d2g+="YbZrNJCp";d2g+="9";this.aZ=[0,0];this.WG=new c.default();this.w9=!1;this.JN=this.LN=0;d2g;this.xMb=l?l:3;Y00=8;break;}}}var X00;X00=2;for(;X00 !== 9;){switch(X00){case 4:f.prototype.r5=function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return {WG:this.WG.get().Fa,vC:this.WG.get().vC,UZa:this.aZ[0],VZa:this.aZ[1],LN:this.LN,JN:this.JN};break;}}};X00=3;break;case 2:f.prototype.reset=function(){var Z00;Z00=2;for(;Z00 !== 3;){switch(Z00){case 2:this.aZ=[0,0];this.w9=!1;this.WG=new c.default();Z00=4;break;case 4:this.JN=this.LN=0;Z00=3;break;}}};f.prototype.Ev=function(l,m,d){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:this.w9 || (this.WG.add(l,m,d),this.LN++,1 === d - m && this.JN++);a10=1;break;}}};f.prototype.qIb=function(l){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:this.w9 || (++this.aZ[l],this.aZ[1] >= this.xMb && (this.w9=!0));b10=1;break;}}};X00=4;break;case 3:return f;break;case 12:return f;break;X00=9;break;}}})();b.DDa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.YDa=void 0;c=a(2);f=c.__importStar(a(10));r=a(18);l=c.__importDefault(a(28));m=c.__importDefault(a(758));d=c.__importDefault(a(6));g=a(167);h=a(217);c.__importDefault(a(219));k=c.__importDefault(a(759));a(361);n=a(5);p=a(762);q=a(863);v=new d.default.Console("ASEJS","media|asejs");u=v.trace.bind(v);t=v.warn.bind(v);r=(function(w){function x(y,z){var e10,A;e10=2;for(;e10 !== 13;){switch(e10){case 2:var A2g="D";A2g+="EB";A2g+="U";A2g+="G";A2g+=":";var r2g="nf-ase ver";r2g+="s";r2g+="ion:";A=w.call(this) || this;A.config=y;A.ZD=z;y=a(399);u(r2g,y,A2g,!1);A.Rfa=!1;A.pnb=!1;e10=7;break;case 7:var b2g="1SI";b2g+="YbZrNJ";b2g+="Cp9";A.AF=[];b2g;return A;break;}}}var d10;d10=2;for(;d10 !== 26;){switch(d10){case 4:Object.defineProperties(x.prototype,{Iu:{get:function(){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:return this.Kga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{EA:{get:function(){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:return this.e2;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xpa:{get:function(){var j10;j10=2;for(;j10 !== 1;){switch(j10){case 2:return !f.ha(this.mOa);break;case 4:return ~f.ha(this.mOa);break;j10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{QD:{get:function(){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 2:return this.jOa;break;case 4:return this.jOa;break;k10=1;break;}}},enumerable:!1,configurable:!0}});d10=7;break;case 20:x.prototype.Knb=function(y){var v10,z;v10=2;for(;v10 !== 4;){switch(v10){case 2:var o2g="can't find";o2g+=" sess";o2g+="ion in arra";o2g+="y, movieId:";this.Pb.MO(null);z=this.AF.indexOf(y);f.ha(z)?t(o2g,y.De.O.J):(this.AF.splice(z,1),0 === this.AF.length && this.tn.KXb(),this.tn.save(),this.Bh.save());v10=4;break;}}};x.prototype.Y4=function(y,z,A){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 4:return g.zXa(y,z,A);break;w10=1;break;case 2:return g.zXa(y,z,A);break;}}};x.prototype.g3=function(){var x10,y;x10=2;for(;x10 !== 5;){switch(x10){case 2:null === (y=this.sv) || void 0 === y?void 0:y.flush();x10=5;break;}}};x.prototype.Oia=function(){var y10,y;y10=2;for(;y10 !== 5;){switch(y10){case 2:null === (y=this.sv) || void 0 === y?void 0:y.EVa();y10=5;break;}}};x.prototype.wy=function(){var z10,y;z10=2;for(;z10 !== 5;){switch(z10){case 2:null === (y=this.sv) || void 0 === y?void 0:y.Lyb();z10=5;break;}}};d10=15;break;case 2:c.__extends(x,w);Object.defineProperties(x.prototype,{Pb:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return this.e1.Pb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tn:{get:function(){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:return this.e1.tn;break;}}},enumerable:!1,configurable:!0}});d10=4;break;case 7:Object.defineProperties(x.prototype,{Af:{get:function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 4:return this.sv;break;l10=1;break;case 2:return this.sv;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Bh:{get:function(){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 2:return this.e1.Bh;break;case 4:return this.e1.Bh;break;m10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xoa:{get:function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.pnb;break;case 4:return this.pnb;break;n10=1;break;}}},enumerable:!1,configurable:!0}});x.prototype.xb=function(y,z,A,B,D,E){var o10,F,C;o10=2;for(;o10 !== 11;){switch(o10){case 6:this.Kga=new k.default(C);o10=14;break;case 4:f.ha(y) && (this.mOa=z);this.e2=B;this.jOa=D;m.default(C);this.e1=h.iJ.OXa(C,this.ZD);o10=6;break;case 14:o10=C.eab || C.sxa?13:12;break;case 12:this.Rfa=!0;o10=11;break;case 2:(F=this,C=this.config);h.iJ.reset();0 < C.du && (!f.ha(y) && y > C.du && (y=C.du),z > C.du && (z=C.du));o10=4;break;case 13:var e2g="me";e2g+="diacac";e2g+="h";e2g+="e";var G2g="c";G2g+="ac";G2g+="heEvict";var I2g="fl";I2g+="u";I2g+="shedByt";I2g+="es";var f2g="d";f2g+="is";f2g+="carded";f2g+="Bytes";var M2g="pre";M2g+="b";M2g+="uffs";M2g+="tat";M2g+="s";(z=new q.FCa(this,C,A,E),y=function(G){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 4:F.emit(G.type,G);q10=8;break;q10=1;break;case 2:F.emit(G.type,G);q10=1;break;}}},z.addListener(M2g,y),z.addListener(f2g,y),z.addListener(I2g,y),z.addListener(G2g,y),(C.vxa || C.uxa) && z.addListener(e2g,function(G){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 4:F.emit("",G);r10=9;break;r10=1;break;case 2:var F2g="med";F2g+="i";F2g+="ac";F2g+="a";F2g+="che";F.emit(F2g,G);r10=1;break;}}}),this.sv=z);o10=12;break;}}};x.prototype.uY=function(y,z,A){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:this.mOa=y;this.e2=z || 0;this.jOa=A || 0;s10=4;break;}}};x.prototype.createSession=function(y,z,A,B,D,E,F,C,G,J){var t10;t10=2;for(;t10 !== 4;){switch(t10){case 7:t("");t10=9;break;t10=4;break;case 1:return (C=C || this.config,this.Pb.reset(),this.tn.DXb(),this.Kga.reset(),void 0 === E && (E=this.Y4(y,z)),f.ha(this.e2) && (this.e2=d.default.vo()[l.default.Qa.Jb] <= C.pNb?0:C.wO),y=new p.IJa(this,y,J,z,A,B,D,E,F,C,G),this.AF.push(y),y);break;case 2:t10=this.Rfa?1:5;break;case 5:var E2g="ope";E2g+="n: streamingM";E2g+="anager not initted";t(E2g);t10=4;break;}}};x.prototype.iW=function(y,z){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.sv && (y=this.sv.iW(y,z))?y:!1;break;}}};d10=20;break;case 15:x.prototype.Kb=function(){var A10;A10=2;for(;A10 !== 6;){switch(A10){case 2:var H2g="Attempted to destruct Manager before all Session";H2g+="s r";H2g+="emove";H2g+="d";n.assert(0 === this.AF.length,H2g);this.Rfa=!1;delete this.e1;A10=4;break;case 7:h.iJ.reset();A10=6;break;case 4:delete this.Kga;delete this.ZD;this.wy();delete this.sv;A10=7;break;}}};return x;break;}}})(r.EventEmitter);b.YDa=r;},function(r,b,a){var f,l,m,d;function c(g){var h;h=nrdp.Yj.Cac.match(/android-(\d*)/);h?23 < h[1]?g.rwa=!1:(h=nrdp.Yj.M5b.qt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),g.rwa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):g.rwa=!1;g.F$=!1;}f=a(5).assert;a(122);l=a(6).default;m=l.$q;d=l.Bgb;r.exports=function(){var g,h,k,n;g=new l.Console("ASEJSMONKEY","media|asejs");if(!l.$q.dc){h=function(p){this.cmb=p;};k=d.prototype.appendBuffer;l.MediaSource.dc || (l.MediaSource.dc={});"undefined" !== typeof nrdp && nrdp.H2 && (c(l.MediaSource.dc,g),l.MediaSource.dc.HRa=!1,l.MediaSource.dc.w2a=!1);l.$q.dc={dY:{ebb:!0,yR:!0,Ngb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.tob || this.Bkb;},set:function(p){this.Bkb=p;}});n=m.prototype.open;m.prototype.open=function(p,q,v,u,t,w,x){1 === v && (this.tob=new h(this));return n.call(this,p,q,v,u,t,w,x);};m.prototype.QX=function(){this.MK=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof h)return this.I2(p.cmb);f(!1);};}};},function(r,b,a){var l,m;function c(){this.Wx=this.aS=this.w1=this.J1=this.r1=null;}function f(d){this.I=d;this.VB=[];this.kr=new c();this.sS();}l=a(10);a(28);a(9);m=a(6).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Re=function(d){var g;g=!1;d && l.has(d,"ens") && l.has(d,"lns") && l.has(d,"fns") && l.has(d,"d") && l.has(d,"t") && (this.r1=d.ens,this.J1=d.lns,this.w1=d.fns,this.aS=d.d,this.Wx=d.t,g=!0);return g;};c.prototype.getState=function(){var d;if(l.Cb(this.r1) || l.Cb(this.J1) || l.Cb(this.w1) || l.Cb(this.aS) || l.Cb(this.Wx))return null;d={d:this.aS,t:this.Wx};d.ens=this.r1;d.lns=this.J1;d.fns=this.w1;return d;};c.prototype.get=function(){var d,g;d=this.getState();if(d){g=new Date(this.Wx);d.dateint=1E4 * g.getFullYear() + 100 * (g.getMonth() + 1) + g.getDate();d.hour=g.getHours();}return d;};f.prototype.sS=function(){var d;d=m.storage.get("sth");d && this.Re(d);};f.prototype.Re=function(d){var g,h;g=null;h=this.I;d.forEach(function(k){var n;n=new c();n.Re(k)?(g=!0,this.VB.push(n)):l.Cb(g) && (g=!1);},this);this.VB=this.VB.filter(function(k){return k.aS >= h.b8;});this.VB.sort(function(k,n){return k.Wx - n.Wx;});return l.Cb(g)?!0:g;};f.prototype.Jfa=function(){var d;d=[];this.VB.forEach(function(g){d.push(g.getState());},this);return d;};f.prototype.save=function(){var d,g,h;d=this.Jfa();g=this.I;h=this.kr.getState();h && h.d >= g.b8 && (d.push(h),this.VB.push(this.kr));d.length > g.D7 && (d=d.slice(d.length - g.D7,d.length));this.kr=new c();d && m.storage.set("sth",d);};f.prototype.reset=function(){this.kr=new c();};f.prototype.ODb=function(){return this.kr.get();};f.prototype.XFb=function(){return this.VB.length + 1;};f.prototype.ipb=function(d){this.kr.r1=d;this.kr.Wx=m.time.ea();};f.prototype.spb=function(d){this.kr.J1=d;this.kr.Wx=m.time.ea();};f.prototype.mpb=function(d,g){this.kr.w1=d;this.kr.Wx=m.time.ea();this.kr.aS=g;};r.exports=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DEa=void 0;r=(function(){function a(c,f,l){this.xob=f;this.Wjb=l;this.H=c;}a.prototype.gta=function(c){c=this.HIb(c,this.xob) + this.Wjb;return this.Aga=isNaN(c)?NaN:this.Iva(c);};a.prototype.Gtb=function(c){return isNaN(this.Aga)?0:this.Aga > c?1:0;};a.prototype.HIb=function(c,f){var l;l=0;if(c.length !== f.length)l=NaN;else for(var m=0;m < c.length;m++){l+=c[m] * f[m];}return l;};a.prototype.Iva=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.DEa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oR=void 0;r=(function(){function a(c){this.Nj={};this.hga=c;this.bg=[];this.ur=!1;this.BF=void 0;}a.prototype.z2=function(c){this.bg.length === this.hga && this.bg.shift();Array.isArray(c)?this.bg=this.bg.concat(c):this.bg.push(c);this.ur=!0;};a.prototype.HM=function(){return this.bg.length;};a.prototype.Qia=function(){var c;c=this.bg;return 0 < c.length?c.reduce(function(f,l){return f + l;},0) / this.bg.length:void 0;};a.prototype.l3=function(){var c,f;c=this.bg;f=this.Qia();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(l,m){return l + m * m;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.mt=function(c){var f,l,m;if(this.ur || void 0 === this.BF)(this.BF=this.bg.slice(0).sort(function(d,g){return d - g;}),this.ur=!1);if(void 0 === this.Nj[c]){f=this.BF;l=Math.floor(c / 100 * (f.length - 1) + 1) - 1;m=(c / 100 * (f.length - 1) + 1) % 1;this.Nj[c]=l === f.length - 1?f[l]:f[l] + m * (f[l + 1] - f[l]);}return this.Nj[c];};return a;})();b.oR=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I;Object.defineProperties(b,{__esModule:{value:!0}});b.IJa=void 0;r=a(2);c=a(18);f=r.__importStar(a(10));l=a(141);m=a(763);d=a(167);g=a(16);h=a(212);k=a(234);n=a(235);p=a(808);q=a(809);v=r.__importDefault(a(6));u=v.default.MediaSource;t=a(9);w=a(5);x=a(168);y=a(379);z=a(811);A=a(812);B=a(380);r=a(42);D=a(813);E=a(814);F=a(381);C=a(846);G=a(390);J=a(853);K=a(395);H=a(859);L=a(860);R=a(861);I=a(862);a=(function(){var B10;B10=2;for(;B10 !== 91;){switch(B10){case 72:P.prototype.g2=function(N,M){var y30,Q,T,da,pa,wa;y30=2;for(;y30 !== 19;){switch(y30){case 3:this.Db.xmb(M);y30=9;break;case 9:var W2g="startBuf";W2g+="fer";W2g+="in";W2g+="g";this.Mx.reset();this.De.O.dsa();this.emit(W2g);h.uf.forEach(function(ua){var z30;z30=2;for(;z30 !== 5;){switch(z30){case 1:(ua.Hia=0,ua.seeking=0 === N || 1 === N,ua.qja());z30=5;break;case 2:z30=(ua=Q.La.Nc.Qd(ua))?1:5;break;}}});this.Zea=v.default.time.ea();da.sl=pa.sl=this.Zea;0 === N && (!this.Bm || 0 < pa.ru) && (!this.yr || 0 < da.ru) && this.Ab.Ox();y30=11;break;case 11:T.FU && (this.tfa=setTimeout(function(){var A30;A30=2;for(;A30 !== 1;){switch(A30){case 2:Q.Onb();A30=1;break;case 4:Q.Onb();A30=0;break;A30=1;break;}}},T.ala));this.V.jg() && (this.fK=setTimeout(function(){var B30;B30=2;for(;B30 !== 1;){switch(B30){case 2:Q.Ab.Ox();B30=1;break;case 4:Q.Ab.Ox();B30=5;break;B30=1;break;}}},T.kA));this.gg.Oj();y30=19;break;case 2:(Q=this,T=this.I,da=this.Ab.Ef[0] || ({}),pa=this.Ab.Ef[1] || ({}),wa=this.Ab.HA[1] || ({}));(this.Ab.HA[0] || ({})).ET=void 0;wa.ET=void 0;this.V.Re(2 === N?g.ma.If:g.ma.ud);y30=3;break;}}};P.prototype.TS=function(N){var C30,M;C30=2;for(;C30 !== 3;){switch(C30){case 2:var J2g="Adopti";J2g+="ngData stil";J2g+="l";J2g+=" has loc";J2g+="k:";var x2g="w";x2g+="ip";x2g+="eHeaderCache:";a000.Q0g(3);N=a000.w0g(x2g,N);this.Kx.cC && this.Ak(J2g + N);M=this.I;C30=4;break;case 4:M.wH || (M.$h && this.Db.pm(N),this.jc.wy(),this.rh && (this.rh=void 0));C30=3;break;}}};P.prototype.YLa=function(N){function M(wa,ua){var E30,X,sa,O,S,ka,ia,Pa;E30=2;for(;E30 !== 10;){switch(E30){case 1:E30=sa?5:11;break;case 2:(X=wa.mediaType,sa=ua[X],O=Promise.resolve(void 0));E30=1;break;case 13:ua=Q.De.O;E30=12;break;case 7:return O;break;case 5:(S=sa.Pa,ka=sa.header.stream,ia=Q.Ab.Ef[X],Pa=Q.Ab.HA[X]);f.ha(ua.RC) || Q.sg.E7a(ua.RC,ua.Bo,ua.Co);Pa.yz=ua.yz;Pa.Yv=ua.Yv;E30=8;break;case 8:E30=!wa.z0b(S)?7:6;break;case 6:E30=!sa.header?14:13;break;case 14:var y2g="adoptPi";y2g+="peline no h";y2g+="eader";y2g+=" for streamId:";return (wa.Ak(y2g,S),O);break;case 12:ua.y2(sa.header,!ua.qf.Og && !ua.Xh && 1 === X,!0) && (void 0 !== wa.HH && wa.oI(wa.HH),O=ua.Nk(X,S).stream.W.hn(wa.Cc,void 0,!0),ua=ka.Mk(O),ka=ua.Y,(ua=ua.Pla(wa.Cc)) && 0 < ua.Cd && (ka=ua.Cd),wa.Cc !== ka && (wa.NO(ka,O),Q.Lga(X,ka)),O=Q.Gjb(wa,sa.data).then(function(){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 2:return S;break;case 4:return S;break;F30=1;break;}}}),ia.gCb=!0,0 === X && Q.sg.KO(sa.header.bitrate));E30=11;break;case 11:return O;break;}}}var D30,pa,Q,T,da;D30=2;for(;D30 !== 13;){switch(D30){case 8:var u2g="che";u2g+="ckForHcdSt";u2g+="ar";u2g+="t";this.Db.Ul(u2g);this.Gd.forEach(function(wa){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 2:wa.O.J === N && (pa=wa);G30=1;break;}}});return this.jc.Af.GLb(N,pa?pa.O:void 0).then(function(wa){var H30,ua,X;H30=2;for(;H30 !== 8;){switch(H30){case 1:H30=f.ha(wa)?5:4;break;case 5:var v2g="headerCache";v2g+="Da";v2g+="taNotFound";return (da.wr || Q.Kx.cC || Q.TS(v2g),Promise.resolve());break;case 2:var s2g="checkForHc";s2g+="dEn";s2g+="d";Q.Db.Ul(s2g);H30=1;break;case 4:var Z2g="adop";Z2g+="tHcdS";Z2g+="t";Z2g+="art";(ua=Q.La.Nc.Qd(0),X=Q.La.Nc.Qd(1));Q.Db.Ul(Z2g);return Q.Kx.Oab(function(){var I30,sa,O;I30=2;for(;I30 !== 7;){switch(I30){case 3:var w2g="a";w2g+="dop";w2g+="t";w2g+="Hcd";w2g+="End";Q.NMa=wa;Q.Db.Ul(w2g);return Promise.all([sa,O]);break;case 2:sa=Promise.resolve();Q.Bm && (sa=M(X,wa));O=Promise.resolve();!Q.yr || da.bZa && !sa || (O=da.bZa?sa.then(function(S){var J30;J30=2;for(;J30 !== 1;){switch(J30){case 2:return S?M(ua,wa):Promise.resolve();break;}}}):M(ua,wa));I30=3;break;}}});break;}}}).then(function(){var K30,wa;K30=2;for(;K30 !== 5;){switch(K30){case 2:var O2g="a";O2g+="dopt";O2g+="edCompletedRe";O2g+="ques";O2g+="ts";da.wr || (null === (wa=Q.rh) || void 0 === wa?0:wa.PC()) || Q.Kx.cC || !Q.V.Do(Q.De.O) || Q.TS(O2g);K30=5;break;}}}).catch(function(wa){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:var Q2g="he";Q2g+="aderCache:lookupDataP";Q2g+="romise caugh";Q2g+="t er";Q2g+="ror:";Q.Rb(Q2g,wa);L30=1;break;}}});break;case 2:var V2g="Previou";V2g+="sly adopted request list still retained ";V2g+="was une";V2g+="xpected";Q=this;(null === (T=this.rh) || void 0 === T?0:T.PC()) && this.Ak(V2g);this.rh=void 0;da=this.I;D30=3;break;case 3:D30=!this.Iob || !this.jc.Af?9:8;break;case 9:return (this.jc.Oia(),Promise.resolve());break;}}};P.prototype.Gjb=function(N,M){var M30,Q,T,da,pa,wa,ua,X;M30=2;for(;M30 !== 9;){switch(M30){case 2:Q=this;M30=1;break;case 5:return Promise.resolve();break;case 7:Q=this;M30=0;break;M30=1;break;case 4:(T=N.p7,da=T.N,pa=Math.min(this.Gd[0].Ha || Infinity,T.Fc || Infinity),wa=N.mediaType,ua=this.Ab.Ef[wa]);return this.Kx.Oab(function(){function sa(){var O30,S;O30=2;for(;O30 !== 5;){switch(O30){case 2:var z2g="adop";z2g+="tData, not adoptin";z2g+="g failed mediaRequest";z2g+=":";var Y2g="ad";Y2g+="optDat";Y2g+="a, not adopting aborted";Y2g+=" mediaRequest:";S=M.shift();7 === S.readyState?N.Rb(Y2g,S.toString()):6 === S.readyState?(N.Rb(z2g,S.toString()),Q.JF(S,!1)):N.Cc >= S.$c && N.Cc < S.Fc && (N.Cc < pa || !f.Ba(pa))?(O.push(Q.Hjb(N,S).then(function(){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 4:S.complete || Q.HYa(S);P30=8;break;P30=1;break;case 2:S.complete && Q.HYa(S);P30=1;break;}}})),N.eWb(S.Fc),f.Ba(pa) && N.Cc >= pa && Q.Db.nga(da,S.Fc),0 === wa && Q.sg.KO(S.bitrate),S.complete?(ua.ru+=S.duration,S.pLb && (ua.uX+=S.duration),X=S):(Q.rh || (Q.rh=new E.Wxa(Q.H)),Q.rh.push(S))):Q.JF(S,!1);O30=5;break;}}}var N30,O;N30=2;for(;N30 !== 3;){switch(N30){case 2:O=[];N30=1;break;case 1:N30=0 < M.length?5:4;break;case 4:return Promise.all(O);break;case 5:sa();N30=1;break;}}}).then(function(){var Q30,sa,O;Q30=2;for(;Q30 !== 8;){switch(Q30){case 5:Q30=X || (null === (sa=Q.rh) || void 0 === sa?0:sa.PC())?4:8;break;case 2:X && N.IYa(X);Q30=5;break;case 4:sa=Q.Gd[T.O.Mb];O=N.Jla(N.Cc);void 0 !== O?(N.un=O,N.he=sa.O.eh[wa].stream.Mk(N.un)):N.un=N.Bf?N.Bf.index + 1:N.un + 1;Q30=8;break;}}});break;case 1:M30=0 === M.length?5:4;break;case 14:return Promise.resolve();break;M30=4;break;}}};P.prototype.Hjb=function(N,M){var R30,Q,T;R30=2;for(;R30 !== 3;){switch(R30){case 2:var K9g=",";K9g+=" p";K9g+="ts";K9g+=":";K9g+=" ";var S2g=", ";S2g+="sta";S2g+="t";S2g+="e";S2g+=": ";var i2g="adoptMediaR";i2g+="eque";i2g+="st: type: ";(Q=this,T=N.mediaType);this.I.$h && this.Db.pm(i2g + T + S2g + M.readyState + K9g + M.$c);this.Lga(T,M.$c);return N.Ra.Vpb(M).catch(function(da){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:var X9g="Error adoptin";X9g+="g reques";X9g+="ts";Q.Ak(X9g,da);S30=1;break;}}});break;}}};P.prototype.Hga=function(N,M,Q){var T30,T;T30=2;for(;T30 !== 9;){switch(T30){case 4:this.Mx.reset();(void 0 === N?h.uf:[N]).forEach(function(da){var U30;U30=2;for(;U30 !== 1;){switch(U30){case 2:T.ec(da) && (T.xv[da].reset(),T.Xnb(da),T.sg.iPb(da));U30=1;break;}}});T30=9;break;case 2:T=this;void 0 === M && (M=F.wR.oia);(Q || this.La.Nc).yua(N,M);T30=4;break;}}};P.prototype.bwa=function(){var V30,N;V30=2;for(;V30 !== 5;){switch(V30){case 2:N=this;h.uf.forEach(function(M){var W30,Q;W30=2;for(;W30 !== 5;){switch(W30){case 2:null === (Q=N.xv[M]) || void 0 === Q?void 0:Q.stop();W30=5;break;}}});V30=5;break;}}};P.prototype.vI=function(N){var X30,M;X30=2;for(;X30 !== 4;){switch(X30){case 2:M=this;(void 0 === N?h.uf:[N]).forEach(function(Q){var Y30,T;Y30=2;for(;Y30 !== 5;){switch(Y30){case 2:null === (T=M.xv[Q]) || void 0 === T?void 0:T.resume();Y30=5;break;}}});return Promise.resolve();break;}}};P.prototype.MS=function(N){var Z30,M,Q;Z30=2;for(;Z30 !== 3;){switch(Z30){case 2:M=this;N=void 0 === N?h.uf:[N];null === (Q=this.Mx) || void 0 === Q?void 0:Q.reset();N.forEach(function(T){var a40,da;a40=2;for(;a40 !== 5;){switch(a40){case 2:null === (da=M.xv[T]) || void 0 === da?void 0:da.resume();a40=5;break;}}});Z30=3;break;}}};P.prototype.Xnb=function(N){var b40,M;b40=2;for(;b40 !== 3;){switch(b40){case 2:M=this.Ab.Ef[N];this.Ab.tw[N].Opa=void 0;b40=5;break;case 5:M.ru=0;M.uX=0;b40=3;break;}}};B10=87;break;case 2:Object.defineProperties(P.prototype,{addEventListener:{get:function(){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{removeEventListener:{get:function(){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{RMb:{get:function(){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:return this.Kf.dc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{mediaSourceId:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.Kf?this.Kf.zY:void 0;break;case 4:return this.Kf?this.Kf.zY:-8;break;K10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{yr:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.ec(0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Bm:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.ec(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{attributes:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 4:return this.Tea;break;N10=1;break;case 2:return this.Tea;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Qg:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 4:return this.ti;break;O10=1;break;case 2:return this.ti;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{xX:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return 0 <= this.H1?this.H1:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{De:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:return this.Gd[this.EK];break;Q10=1;break;case 2:return this.Gd[this.EK];break;}}},enumerable:!1,configurable:!0}});B10=13;break;case 87:P.prototype.Lga=function(N,M){var c40,Q,T,da;c40=2;for(;c40 !== 9;){switch(c40){case 6:c40=Q.fb(N)?8:5;break;c40=Q.fb(N)?5:9;break;case 2:Q=this.La.Nc;c40=1;break;case 1:c40=Q.fb(N)?5:9;break;case 5:var R9g="pt";R9g+="s";R9g+="chan";R9g+="ge";R9g+="d";(T=this.Ab.Ef[N],da=this.Ab.HA[N]);f.ha(T.io) && (T.io=M,1 === N && this.yr && (N=this.Ab.Ef[0],f.ha(N.io) && (Q=Q.fb(0),Q.oI(M)),this.emit(R9g,M)));f.ha(da.ET) && (da.ET=M);c40=9;break;}}};P.prototype.HYa=function(N){var d40;d40=2;for(;d40 !== 1;){switch(d40){case 2:this.rh && (this.rh.cMb(N),this.kRa());d40=1;break;}}};P.prototype.T5=function(N){var e40;e40=2;for(;e40 !== 1;){switch(e40){case 2:this.rh && (this.rh.bMb(N),this.kRa());e40=1;break;}}};P.prototype.kRa=function(){var f40,N;f40=2;for(;f40 !== 4;){switch(f40){case 1:var U9g="allC";U9g+="ompl";U9g+="et";U9g+="ed";N=this.I;this.rh.PC() || (this.rh=void 0,N.wr || this.Kx.cC || this.TS(U9g));f40=4;break;case 2:f40=this.rh?1:4;break;}}};P.prototype.US=function(){var g40,N,M,Q,T,da,pa,wa,ua;g40=2;for(;g40 !== 7;){switch(g40){case 3:ua=Math.max(ua,1);this.ZB && clearTimeout(this.ZB);this.ZB=setTimeout(this.US.bind(this),ua);g40=7;break;case 2:(N=this,M=this.I,Q=this.xX,T=this.Gd[Q],da=this.La.Nc,pa=this.V.Me() || 0,wa=this.st(Q,pa),ua=M.iaa);g40=1;break;case 1:this.jc.Af && void 0 !== T.zH && T.zH - pa <= M.d2a && this.jc.Af.Hp(!0,this.Ql.sessionId);this.V.getState() === g.ma.Ec && ([1,0].forEach(function(X){var h40,ka,ia,Pa,Ea,O,S,sa;h40=2;for(;h40 !== 35;){switch(h40){case 23:N.Cnb(O,pa);N.La.DSb();h40=35;break;case 26:ia != ka.Opa && (ka.Opa=ia,X=N.Gd[Pa].O.dw(X,ia),Pa=N.st(Pa,S.sd),N.Db.Pmb(X,S.sd,Pa,X.O.Mb));S=S.bitrate;h40=24;break;case 10:h40=(N.La.qOb(S,S.zu),Pa > N.H1)?20:16;break;case 24:f.ha(S) || S == sa.A4a || (sa.A4a=S);h40=23;break;case 16:N.DK && S.zu != ka.zKb && N.Db.Umb(S.zu);h40=15;break;case 7:h40=S?6:21;break;case 17:wa=N.st(Pa,pa);h40=15;break;case 12:O=S.Ra;h40=11;break;case 2:h40=N.ec(X)?1:35;break;case 6:O=S.Yd - pa;O < ua && (ua=O);(ka=N.Ab.tw[X],ia=S.O,Pa=ia.Mb);h40=12;break;case 11:h40=!N.Bm || 1 === X?10:15;break;case 20:N.H1=Pa;Ea=0 < Pa?Pa - 1:null;N.Db.Fmb(ia,pa,S.zu,null !== Ea?N.Gd[Ea].O.J:null,Ea);h40=17;break;case 4:O=sa.Ra;sa.wL(pa);(S=N.La.Gt(pa,da,X)) && !S.af && (S=N.Jg[X].rKb);h40=7;break;case 15:ka.zKb=S.zu;ia=S.Pa;h40=26;break;case 21:var P9g="Unable to find request";P9g+=" prese";P9g+="n";P9g+="ting ";P9g+="at playerPts:";sa.Rb(P9g,pa);h40=23;break;case 1:sa=da.fb(X);h40=5;break;case 5:h40=sa?4:35;break;}}}),this.La.Bs(pa,wa));this.gg.Oj();g40=3;break;}}};P.prototype.f1=function(N){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:return this.gg.f1(N);break;case 4:return this.gg.f1(N);break;i40=1;break;}}};P.prototype.Oj=function(){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 4:return this.gg.Oj();break;j40=1;break;case 2:return this.gg.Oj();break;}}};P.prototype.JF=function(N,M){var k40,T,Q;k40=2;for(;k40 !== 13;){switch(k40){case 6:!0 === M && this.gg.Oj();k40=13;break;case 5:T=N.mediaType;N.abort();N.Zc();N.ti && N.ti.clear();Q.F9(N);this.Jg[T].F9(N);k40=6;break;case 2:Q=N.Ra;k40=1;break;case 1:k40=Q?5:14;break;case 14:var k9g="abort";k9g+="Reque";k9g+="st ";k9g+="with no requestMana";k9g+="gaer:";this.Rb(k9g,N);k40=13;break;}}};P.prototype.oob=function(N){var l40,M,Q;l40=2;for(;l40 !== 5;){switch(l40){case 2:var h9g="no ne";h9g+="wAudio";h9g+="Trac";h9g+="k";h9g+=" set";(M=N.mediaType,Q=this.Ab.Ef[M]);f.ha(Q.q8)?N.Rb(h9g):(this.Jg[M].pause(),Q.CP=!0,N=this.De.gq(0),Q=this.De.O.getTrackById(Q.q8.trackId),this.Db.umb(N,Q));l40=5;break;}}};P.prototype.xnb=function(N){var m40,M,Q,T,da,pa,wa,ua,X;m40=2;for(;m40 !== 27;){switch(m40){case 17:++Q;m40=19;break;case 2:(M=this,T=this.I);N=N.gb;da=this.Ab.Ef[0];this.Ab.py=da.q8;m40=3;break;case 20:Q=this.EK;m40=19;break;case 9:m40=(null === (Q=this.rh) || void 0 === Q?0:Q.PC())?8:7;break;case 3:(pa=this.De,wa=pa.O.getTrackById(this.Ab.py.trackId),ua=wa.aE,X=this.V.Me() - N.Ce);m40=9;break;case 12:this.sg.KO(null);this.Hga(0,F.wR.NVa,N);this.La.A7a(N,!0);m40=20;break;case 18:this.oSb(Q,ua,X);m40=17;break;case 7:Q=this.jc.Y4(pa.O.sa,[ua],0);this.Tea[0]=Q[0];this.rU.TNa(0,N.O);da.q8=void 0;m40=12;break;case 8:var T9g="au";T9g+="di";T9g+="oSwitch";(this.rh.XTb(function(sa){var n40;n40=2;for(;n40 !== 5;){switch(n40){case 3:n40=2 !== sa.mediaType?7:2;break;n40=0 === sa.mediaType?1:5;break;case 2:n40=0 === sa.mediaType?1:5;break;case 1:return (M.JF(sa,!1),!0);break;}}}),this.rh.PC() || (this.rh=void 0,T.wr || this.Kx.cC || this.TS(T9g)));m40=7;break;case 19:m40=Q < this.Gd.length?18:16;break;case 16:N.R5a(wa,X);this.vI(0);m40=27;break;}}};B10=104;break;case 27:P.prototype.AM=function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.Gd.length;break;}}};P.prototype.$oa=function(N,M){var g20;g20=2;for(;g20 !== 9;){switch(g20){case 2:g20=N === M?1:5;break;case 1:return !0;break;case 5:N=this.Gd[N];M=this.Gd[M];return N.O.qf.Og && M.O.qf.rW || M.O.qf.Og && N.O.qf.rW;break;}}};P.prototype.e5=function(N){var h20;h20=2;for(;h20 !== 5;){switch(h20){case 1:return {id:N.N.id,Ce:N.Ce,sd:N.Vsa,Yd:N.Yd,$c:N.Y9,Fc:N.Fc};break;case 2:h20=(N=this.La.ei.children[N])?1:5;break;}}};P.prototype.xo=function(){var i20,N;i20=2;for(;i20 !== 5;){switch(i20){case 2:N=this.La.ei;i20=1;break;case 1:return {id:N.N.id,Ce:N.Ce,sd:N.Vsa,Yd:N.Yd,$c:N.Y9,Fc:N.Fc};break;}}};P.prototype.sP=function(N,M){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.La.sP(N,M);break;case 4:return this.La.sP(N,M);break;j20=1;break;}}};P.prototype.open=function(){var k20,wa,ua,X,N,sa,M,Q,T,da,pa;k20=2;for(;k20 !== 33;){switch(k20){case 34:var p9g="NFErr_MC_Streami";p9g+="ngInitFa";p9g+="i";p9g+="lure";var L9g="e";L9g+="xcepti";L9g+="on in in";L9g+="it";var a9g="E";a9g+="r";a9g+="r";a9g+="o";a9g+="r:";(this.Rm(a9g,X.error),this.xp(L9g,void 0,p9g));k20=33;break;case 21:var q9g="s";q9g+="ta";q9g+="rt";q9g+="pla";q9g+="y";var B9g="l";B9g+="og";B9g+="data";Q={type:B9g,target:q9g,fields:{audiogapconfig:M.zN,audiogapdpi:this.Kf.dc && this.Kf.dc.zN,aseApiVersion:this.NF}};this.emit(Q.type,Q);k20=33;break;case 16:var l9g="Err";l9g+="o";l9g+="r";l9g+=":";throw (this.Rm(l9g,X.error),X.error);k20=15;break;case 5:var n9g="NFErr_MC_Stream";n9g+="ingIn";n9g+="itFailure";var t9g="startPt";t9g+="s must be a positive number, n";t9g+="ot ";this.xp(t9g + this.XB,void 0,n9g);k20=33;break;case 17:k20=!X.A2(da)?16:15;break;case 7:var D9g="createMe";D9g+="diaSourceS";D9g+="t";D9g+="art";wa=M.wr;this.jc.Af && this.jc.Af.Hp(wa,this.Ql.sessionId);ua=this.rU.tkb(pa,Q);pa.forEach(function(O,S){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:var j9g="he";j9g+="a";j9g+="ders";j9g === O?N.kS=ua[S]:N.Ab.Ef[O].Cf=ua[S];l20=1;break;}}});this.Db.Ul(D9g);X=new u(this.V.XF);k20=10;break;case 10:k20=1 === X.readyState?20:34;break;case 1:k20=!f.Ba(this.XB) || 0 > this.XB?5:4;break;case 2:N=this;k20=1;break;case 15:X.sourceBuffers.forEach(function(O){var m20,S,ka;m20=2;for(;m20 !== 13;){switch(m20){case 5:var C9g="err";C9g+="o";C9g+="r";var N9g="re";N9g+="ques";N9g+="tAp";N9g+="pended";var g9g="h";g9g+="eaderA";g9g+="ppended";ka=new C.TDa(O,S,N.La,N.I,ka.H);O.addListener(g9g,N.olb.bind(N));O.addListener(N9g,N.rlb.bind(N));O.addListener(C9g,function(ia){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:var m9g="NFErr_MC";m9g+="_Str";m9g+="eamingFailu";m9g+="re";N.xp(ia.errorstr,void 0,m9g);n20=1;break;}}});m20=8;break;case 2:(S=O.mediaType,ka=N.Ab.Ef[S]);O=new n.sba(ka.H,S,X,O,M,!1,N.V,void 0,N.bh.bind(N));m20=5;break;case 8:var d9g="managerdebu";d9g+="ge";d9g+="ve";d9g+="nt";var c9g="l";c9g+="o";c9g+="gdata";O.addListener(c9g,function(ia){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:t.Va(N,ia.type,ia);o20=1;break;case 4:t.Va(N,ia.type,ia);o20=8;break;o20=1;break;}}});M.$h && O.addListener(d9g,function(ia){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:t.Va(N,ia.type,ia);p20=1;break;case 4:t.Va(N,ia.type,ia);p20=3;break;p20=1;break;}}});N.Jg[S]=O;N.xv[S]=ka;m20=13;break;}}});this.Mx=new D.YHa(this.xv,this.OK.bind(this),this.V.Me.bind(this.V));this.gs && this.Db.smb();Q=this.vXa();this.Db.yNa(Q);sa=function(){var q20;q20=2;for(;q20 !== 5;){switch(q20){case 2:var r9g="sh";r9g+="utdown detected befo";r9g+="re startRequests";N.Db.Kmb();N.Om()?N.Rb(r9g):N.pob();q20=5;break;}}};M.syb?setTimeout(function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 4:N.YLa(T).then(sa);r20=0;break;r20=1;break;case 2:N.YLa(T).then(sa);r20=1;break;}}},0):this.YLa(T).then(function(){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:setTimeout(sa,0);s20=1;break;}}});k20=21;break;case 4:var A9g="h";A9g+="e";A9g+="a";A9g+="de";A9g+="rs";(M=this.I,Q=this.De.O,T=Q.J,da=[],pa=[A9g]);this.Bm && (da.push(1),pa.push(1));this.yr && (da.push(0),pa.push(0));this.rU.Blb();k20=7;break;case 20:var b9g="createMedia";b9g+="So";b9g+="urc";b9g+="eEn";b9g+="d";this.Db.Ul(b9g);X.dc || (X.dc=u.dc);this.Kf=X;k20=17;break;}}};Object.defineProperties(P.prototype,{NF:{get:function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:var o9g="1";o9g+=".";o9g+="0";return o9g;break;case 4:return "";break;t20=1;break;}}},enumerable:!1,configurable:!0}});P.prototype.qna=function(){};P.prototype.flush=function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:this.Ei.flush();u20=1;break;}}};P.prototype.paused=function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:this.V.paused();v20=1;break;}}};B10=32;break;case 39:P.prototype.stop=function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:this.Ei.stop();I20=1;break;}}};P.prototype.ls=function(N,M){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:return this.Dn.ls(N,M);break;}}};P.prototype.seek=function(N,M){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:return this.Dn.seek(N,M);break;case 4:return this.Dn.seek(N,M);break;K20=1;break;}}};P.prototype.Ln=function(N){var L20,pa,O20,M,Q,T,da;L20=2;for(;L20 !== 18;){switch(L20){case 4:this.Jg.forEach(function(wa){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 2:da=Math.max(0,Math.min(da,wa.Zma - N));M20=1;break;}}});this.Cga+=1;pa=this.La.Nc;h.uf.forEach(function(wa){var N20,ua,X,sa,O;N20=2;for(;N20 !== 6;){switch(N20){case 1:N20=X?5:6;break;case 2:X=pa.Qd(wa);N20=1;break;case 5:N20=Q.$h?4:9;break;case 9:Q.$h && M.Db.pm(sa);X.qja();null === (ua=X.og) || void 0 === ua?void 0:ua.hUb();N20=6;break;case 3:var W9g=", ";W9g+="toApp";W9g+="end";W9g+=": ";var H9g=",";H9g+=" f";H9g+="rag";H9g+="men";H9g+="ts: ";var E9g=", ";E9g+="completeStreamin";E9g+="gPts: ";var F9g=", ";F9g+="s";F9g+="t";F9g+="reamingP";F9g+="ts: ";var e9g=", pa";e9g+="rt";e9g+="i";e9g+="als";e9g+=": ";var G9g=",";G9g+=" complet";G9g+="edBytes";G9g+=": ";var I9g=", compl";I9g+="etedMs:";I9g+=" ";var f9g=", me";f9g+="di";f9g+="a";f9g+="Type:";f9g+=" ";var M9g="un";M9g+="d";M9g+="e";M9g+="r";M9g+="flow: ";sa=M9g + N + f9g + wa + I9g + X.zL + G9g + O + e9g + X.Ra.yD + F9g + X.Cc + E9g + X.Op + H9g + JSON.stringify(X.Ra.W) + W9g + (sa && sa.g$());N20=9;break;case 4:(sa=M.Jg[wa],O=M.La.UF(pa,wa));N20=3;break;}}});L20=7;break;case 11:try{O20=2;for(;O20 !== 1;){switch(O20){case 4:this.v4(g.ma.ud);O20=3;break;O20=1;break;case 2:this.v4(g.ma.ud);O20=1;break;}}}catch(wa){var x9g="Hindsight: Error ";x9g+="when evaluating QoE at Bu";x9g+="ffering:";x9g+=" ";a000.Q0g(3);this.Db.vn(a000.w0g(x9g,wa));}L20=10;break;case 10:T=this.jc.Pb.get();T=T.confidence?T.Sa.Fa:0;da > Q.tBb && T > Q.sBb && this.Oga();L20=18;break;case 12:L20=this.Gr?11:10;break;case 7:var J9g="u";J9g+="nder";J9g+="flow";this.De.O.gk();this.emit(J9g);this.g2(2);this.gg.Oj();L20=12;break;case 2:var s9g="branc";s9g+="hOf";s9g+="f";s9g+="set";s9g+=":";var v9g="entry.";v9g+="man";v9g+="ifestOffs";v9g+="et:";var u9g="con";u9g+="t";u9g+="e";u9g+="ntPts";u9g+=":";var y9g="underflow: going t";y9g+="o BUFFERING";y9g+=" at player pts:";(M=this,Q=this.I,T=this.st(this.xX,N));this.Rb(y9g,N,u9g,T,v9g,this.De.kw,s9g,this.La.Ce);da=Q.Vz;L20=4;break;}}};P.prototype.Gn=function(N){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 4:return this.Dn.Gn(N);break;P20=1;break;case 2:return this.Dn.Gn(N);break;}}};P.prototype.ot=function(N,M,Q){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.Dn.ot(N,M,Q);break;case 4:return this.Dn.ot(N,M,Q);break;Q20=1;break;}}};P.prototype.gNa=function(N){var R20,M;R20=2;for(;R20 !== 3;){switch(R20){case 2:this.EK=N;M=this.Gd[N];this.Db.Hmb(N,M);this.Db.yNa(M.O.pw);R20=3;break;}}};P.prototype.$K=function(N,M){var S20,wa,ua,X,sa,da,pa,Q,T;S20=2;for(;S20 !== 35;){switch(S20){case 7:M.aO && (this.R1=!0);da=this.Gd.length;S20=14;break;case 8:var Z9g="addMa";Z9g+="nifest ignored, pipelines already set";Z9g+=" EOS:";this.Rb(Z9g,da.Xq,pa.Xq);S20=35;break;case 18:var w9g="b";w9g+="ool";w9g+="ea";w9g+="n";M.replace && X.forEach(function(O,S){var T20,ka,ia;T20=2;for(;T20 !== 3;){switch(T20){case 1:T20=ka?5:3;break;case 2:ka=ua.JC(S);T20=1;break;case 5:ia=Q.Gd[0].O;Object.keys(ka).forEach(function(Pa){var U20,Ea;U20=2;for(;U20 !== 5;){switch(U20){case 2:Ea=ia.dw(S,Pa);Ea && Ea.ie && (ka[Pa].B3(Ea),Pa=ua.pw,Pa[S] > sa[S] && (sa[S]=Pa[S]));U20=5;break;}}});T20=3;break;case 7:T20=ka?6:4;break;T20=ka?5:3;break;case 8:ka=ua.JC(S);T20=7;break;T20=1;break;}}});X.forEach(function(O,S){var V20,ka;V20=2;for(;V20 !== 5;){switch(V20){case 2:ka=ua.JC(S);ka && Object.keys(ka).forEach(function(ia){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:ka[ia].D$a(v.default.vo()[S],ua.Cz()?T.y1a:0);W20=1;break;}}});V20=5;break;}}});N.fT=w9g === typeof M.drb?M.drb:!0;this.Gd[da] && this.Gd[da].Zc();this.Gd[da]=N;N.WQa();S20=25;break;case 5:var O9g="addManifest";O9g+=": pipeline";O9g+="s already shutd";O9g+="own";this.Rb(O9g);S20=35;break;case 22:var S9g=",";S9g+=" ";var i9g=") ";i9g+="las";i9g+="tStreamAppend";i9g+="ed: (";var z9g=",";z9g+=" ";var Y9g=" stre";Y9g+="amCount: ";Y9g+="(";var V9g=" ";V9g+="pla";V9g+="yer";V9g+="Sta";V9g+="te: ";var Q9g="addMan";Q9g+="ifest, c";Q9g+="urrentPt";Q9g+="s: ";T.$h && this.Db.pm(Q9g + this.V.Me() + V9g + this.V.getState() + Y9g + N.gq(0).$d.length + z9g + N.gq(1).$d.length + i9g + M + S9g + da + ")");this.yr && f.ha(M) || this.Bm && f.ha(da) || (N.O.uO([N.gq(0),N.gq(1)]),this.t2());S20=35;break;case 14:var R1g="vide";R1g+="o_trac";R1g+="ks";var X1g="audio";X1g+="_";X1g+="t";X1g+="r";X1g+="acks";var K1g="addMa";K1g+="nifest in fastplay bu";K1g+="t not";K1g+=" drm manifest, lea";K1g+="ving space for it";M.replace && 1 !== da?da=1:this.De.O.qf.Og && !M.replace && 1 === da && (this.Rb(K1g),da=this.Gd[0].clone(),this.Gd.push(da),da=this.Gd.length);pa=M.Y || 0;wa=M.Ha;N=m.Rca.create({Mb:da,sa:N,Lo:void 0,h7a:M.nP || [this.De.j5(0),this.De.j5(1)],Og:!1,t_a:! !M.replace,Xh:! !M.Xh,zd:h.P7(! !M.mT,! !M.eE),Y:pa,Ha:wa,Db:this.Db,Jr:this.KMa.bind(this),Yb:this,config:this.I,H:this.H,gg:this.gg,Dn:this.Dn,Af:this.AOa?this.jc.Af:void 0,QC:this.QC});ua=N.O;(M.Drb || this.QLa) && this.Ab.Jq(M.Drb || this.QLa,ua.Z);(X=[X1g,R1g],sa=this.vXa());S20=18;break;case 4:M || (M={});(da=this.La.Nc.Qd(0),pa=this.La.Nc.Qd(1));S20=9;break;case 9:S20=!M.g9b && (this.yr && da.Xq || this.Bm && pa.Xq)?8:7;break;case 2:(Q=this,T=this.I);S20=1;break;case 1:S20=this.Om()?5:4;break;case 25:M.replace || this.La.Bpb(ua,pa,wa);M=this.Ab.tw[0].gH;da=this.Ab.tw[1].gH;S20=22;break;}}};P.prototype.$S=function(N){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:return this.Dn.$S(N);break;}}};P.prototype.Sy=function(N){var Y20,M,Q,T,da,pa;Y20=2;for(;Y20 !== 7;){switch(Y20){case 2:T=this.I;Y20=1;break;case 5:var T1g="dr";T1g+="mR";T1g+="e";T1g+="ady";var h1g=" r";h1g+="eadySt";h1g+="ate:";h1g+=" ";var k1g=" for mo";k1g+="v";k1g+="ieId";k1g+=":";k1g+=" ";var P1g=",";P1g+=" ";var U1g="dr";U1g+="mReady at st";U1g+="reaming p";U1g+="ts: ";f.ha(M) && (M=!0);(da=this.La.Nc.Qd(0),pa=this.La.Nc.Qd(1));T.$h && this.Db.pm(U1g + (da?da.Cc:null) + P1g + (pa?pa.Cc:null) + k1g + N + h1g + M);a000.Q0g(3);this.V.rY(a000.w0g(N,""),M);M && (this.Jg.forEach(function(wa){var Z20;Z20=2;for(;Z20 !== 5;){switch(Z20){case 2:T.N4 && wa.HVa();wa.Sy();Z20=5;break;}}}),T.yaa && this.MS(),this.De.O.qf.Og && this.s2(this.Dn.OB?this.Dn.OB.Mb:this.EK + 1),T.wr || (null === (Q=this.rh) || void 0 === Q?0:Q.PC()) || this.Kx.cC || this.TS(T1g),this.Dn.Afa());Y20=7;break;case 1:Y20=!this.Om()?5:7;break;}}};B10=48;break;case 94:P.prototype.slb=function(N,M){var B40;B40=2;for(;B40 !== 5;){switch(B40){case 2:M=d.AXa(M);this.Tea[N.mediaType]=M;B40=5;break;}}};Object.defineProperties(P.prototype,{py:{set:function(N){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:this.Ab.py=N;C40=1;break;}}},enumerable:!1,configurable:!0}});return P;break;case 59:P.prototype.v4=function(N,M){var l30,Q,T,m30;l30=2;for(;l30 !== 6;){switch(l30){case 2:Q=this.Ab;N=Q.Gla(N,M);T=this.sg.Dta;N && !N.cL && T.ula(N);l30=3;break;case 3:l30=M?9:8;break;case 9:Q.xua();l30=6;break;case 8:M=T.zDb();try{m30=2;for(;m30 !== 1;){switch(m30){case 2:this.Db.Cmb(M);m30=1;break;}}}catch(da){var L1g="]";L1g+=" ";L1g+="[";var a1g="excep";a1g+="tion:";a1g+=" [";this.H.error(a1g + da.message + L1g + da.Eac + "]");}l30=6;break;}}};P.prototype.Tia=function(N,M){var n30;n30=2;for(;n30 !== 5;){switch(n30){case 2:a000.O0g(4);w.assert(a000.Z0g(0,M));return this.Gd[M].Csb(N);break;}}};P.prototype.st=function(N,M){var o30,T,Q;o30=2;for(;o30 !== 7;){switch(o30){case 4:T=Q.Ce;o30=3;break;case 5:o30=Q?4:8;break;case 8:(Q=this.La.Hla(N),0 < Q.length && (Q=Q[0],T=Q.Ce));o30=3;break;case 2:void 0 === N && (N=this.xX);Q=this.La.OBb(M,N);o30=5;break;case 3:f.Ba(T) || (T=this.Gd[N].kw);o30=9;break;case 9:a000.O0g(1);return a000.w0g(T,M);break;}}};P.prototype.EL=function(N,M){var p30,Q,T;p30=2;for(;p30 !== 7;){switch(p30){case 3:f.Ba(T) || (T=this.Gd[N].kw);a000.Q0g(3);return a000.w0g(M,T);break;case 2:void 0 === N && (N=this.xX);Q=this.La.NBb(M,N);p30=5;break;case 8:(Q=this.La.Hla(N),0 < Q.length && (Q=Q[0],T=Q.Ce));p30=3;break;case 5:p30=Q?4:8;break;case 4:T=Q.Ce;p30=3;break;}}};P.prototype.OK=function(){var q30,N;q30=2;for(;q30 !== 4;){switch(q30){case 2:N=this.V.jg();q30=1;break;case 1:q30=N || this.Ab.py?5:4;break;case 5:(N && this.Db.mga(),this.US(),this.V.Re(g.ma.Ec),this.gg.Oj());q30=4;break;case 8:q30=N && this.Ab.py?2:5;break;q30=N || this.Ab.py?5:4;break;}}};P.prototype.Oga=function(){var r30,N,M;r30=2;for(;r30 !== 3;){switch(r30){case 4:this.Mx.eMb();r30=3;break;case 2:(N=this,M=this.V.jg());r30=1;break;case 1:this.La.Nc.i$(M,function(Q){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 2:return N.Jg[Q]?N.Jg[Q].g$():"";break;}}});this.fK && (clearTimeout(this.fK),this.fK=void 0);r30=4;break;}}};P.prototype.fOa=function(N){var t30,M,u30;t30=2;for(;t30 !== 7;){switch(t30){case 2:N.Mh=!0;N.Xq=!1;M=this.V.Me() || 0;t30=4;break;case 4:N.wL(M);this.Ab.Ox();t30=9;break;case 9:t30=this.Gr && 1 === N.mediaType?8:7;break;case 8:try{u30=2;for(;u30 !== 1;){switch(u30){case 2:this.v4(g.ma.gr,{Ha:N.Fc});u30=1;break;}}}catch(Q){var p1g="Hindsight: Erro";p1g+="r evaluat";p1g+="ing QoE at";p1g+=" endOfStream:";p1g+=" ";a000.O0g(3);this.Db.vn(a000.Z0g(p1g,Q));}t30=7;break;}}};P.prototype.Onb=function(){var v30,N;v30=2;for(;v30 !== 5;){switch(v30){case 2:N=this.jc.Pb;N && (N=N.get()) && N.avtp && this.Iu.ipb({avtp:N.avtp.Fa});v30=5;break;}}};P.prototype.pob=function(){var w30,N,M,Q;w30=2;for(;w30 !== 4;){switch(w30){case 2:var l1g="st";l1g+="ar";l1g+="tup, pla";l1g+="yerState no longer STARTING:";var q1g="failed";q1g+=" to star";q1g+="t";q1g+=" audio pipeline";var B1g="fa";B1g+="i";B1g+="l";B1g+="ed to start video ";B1g+="pipeline";this.V.Re(g.ma.qh);(N=this.La.Nc,M=N.Qd(0),Q=N.Qd(1));this.Bm && !this.kOa(Q)?this.Rb(B1g):this.yr && !this.kOa(M)?this.Rb(q1g):(this.INa=!0,this.Gd[0].O.c6=!0,M=this.Ab.Ef[1],Q=this.Ab.Ef[0],(M && 0 < M.ru || Q && 0 < Q.ru) && this.Db.Amb(String(N.O.J),Q?Q.ru:0,M?M.ru:0,Q?Q.uX:0,M?M.uX:0),this.V.E_a()?(this.g2(0),this.yr && (N=this.De.j5(0),M=this.De.gq(0).trackId,this.Db.Dmb(N,M))):this.Rb(l1g,this.V.getState()));w30=4;break;}}};P.prototype.kOa=function(N){var x30,M,Q;x30=2;for(;x30 !== 14;){switch(x30){case 4:N=N.track.$d[Q];x30=3;break;case 5:var n1g="NFErr_MC_Stre";n1g+="amingIni";n1g+="tFai";n1g+="lure";var t1g="st";t1g+="art";t1g+="Pipeline failed";return (this.Om() || this.xp(t1g,N.gb.O.Mb,n1g),!1);break;case 2:(M=N.mediaType,Q=this.Ab.WFb(N));x30=1;break;case 3:x30=N.Nk()?9:8;break;case 1:x30=f.ha(Q)?5:4;break;case 6:return !0;break;case 9:return !0;break;case 8:Q=this.De.O;N.O.ySa(N,{offset:0,xC:!Q.qf.Og && !Q.Xh && 1 === M,Xv:!this.Ab.Ef[M].gCb});x30=6;break;}}};B10=72;break;case 32:P.prototype.Rsa=function(){};P.prototype.close=function(){var w20;w20=2;for(;w20 !== 4;){switch(w20){case 2:this.s7a.Kb();this.Gd.forEach(function(N){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:N.close();x20=1;break;}}});this.Ei.close();w20=4;break;}}};P.prototype.c6a=function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 4:this.jc.Knb(this);y20=4;break;y20=1;break;case 2:this.jc.Knb(this);y20=1;break;}}};P.prototype.Zc=function(){var z20,N;z20=2;for(;z20 !== 20;){switch(z20){case 5:this.b1();this.La.Kb();this.rU.Fkb();null === (N=this.Mx) || void 0 === N?void 0:N.reset();this.xv.forEach(function(M){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:M.reset();A20=1;break;}}});z20=7;break;case 7:this.V.Re(g.ma.Ri);this.Gd.forEach(function(M){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 4:M.Zc();B20=2;break;B20=1;break;case 2:M.Zc();B20=1;break;}}});this.Gd=[];this.ti.clear();N=this.Kf;this.Kf=void 0;z20=10;break;case 2:this.sg.VOb();z20=5;break;case 10:var j1g="Err";j1g+="or o";j1g+="n MediaSource destroy: ";f.ha(N) || N.Tp() || this.Rb(j1g,N.error);z20=20;break;}}};P.prototype.suspend=function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 2:this.Ei.suspend();C20=1;break;}}};P.prototype.resume=function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:this.Ei.resume();D20=1;break;}}};P.prototype.Om=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:return this.Ei.Om();break;case 4:return this.Ei.Om();break;E20=1;break;}}};P.prototype.kob=function(){var F20,N;F20=2;for(;F20 !== 8;){switch(F20){case 2:N=this.I;this.ZB && clearTimeout(this.ZB);this.ZB=setTimeout(this.US.bind(this),N.iaa);this.Lx || (this.Lx=setInterval(this.Db.wNa.bind(this.Db),N.nL));F20=3;break;case 3:this.l2 || (this.l2=setInterval(this.Db.Tmb.bind(this.Db),N.lwa));this.gs && !this.W0 && (this.W0=setInterval(this.Db.vNa.bind(this.Db),N.L2));F20=8;break;}}};P.prototype.b1=function(){var G20;G20=2;for(;G20 !== 7;){switch(G20){case 2:this.ZB && (clearTimeout(this.ZB),this.ZB=void 0);this.Lx && (clearInterval(this.Lx),this.Lx=void 0);this.l2 && (clearInterval(this.l2),this.l2=void 0);G20=4;break;case 4:this.W0 && (clearInterval(this.W0),this.W0=void 0);this.fK && (clearTimeout(this.fK),this.fK=void 0);G20=9;break;case 9:this.tfa && (clearTimeout(this.tfa),this.tfa=void 0);this.gg.b1();G20=7;break;}}};P.prototype.play=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:this.Ei.play();H20=1;break;}}};B10=39;break;case 13:Object.defineProperties(P.prototype,{Iu:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.jc.Iu;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{gs:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 4:return this.Snb;break;S10=1;break;case 2:return this.Snb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{jW:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.DK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{aO:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 4:return this.R1;break;U10=1;break;case 2:return this.R1;break;}}},enumerable:!1,configurable:!0}});P.prototype.ec=function(N){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 4:return this.vob[N];break;V10=1;break;case 2:return this.vob[N];break;}}};P.prototype.aV=function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return v.default.time.ea() - this.Zea;break;case 4:return v.default.time.ea() / this.Zea;break;W10=1;break;}}};P.prototype.vXa=function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return (this.Gd || []).reduce(function(N,M){var Y10,Q;Y10=2;for(;Y10 !== 4;){switch(Y10){case 2:Q=M.O;h.uf.forEach(function(T){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:Q.pw[T] > N[T] && (N[T]=Q.pw[T]);Z10=1;break;}}});return N;break;}}},[0,0]);break;}}};P.prototype.rN=function(){var a20,N;a20=2;for(;a20 !== 4;){switch(a20){case 2:N=0;f.forEach(this.De.O.sa.audio_tracks,function(M){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:f.forEach(M.streams,function(Q){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:N=Math.max(N,Q.bitrate);c20=1;break;}}});b20=1;break;}}});return N;break;}}};P.prototype.bh=function(N){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 4:return this.Gd[N];break;d20=1;break;case 2:return this.Gd[N];break;}}};P.prototype.BEb=function(){var e20,N;e20=2;for(;e20 !== 5;){switch(e20){case 2:N=this.Gd[0];return N.O.qf.Og?this.Gd[1]:N;break;}}};B10=27;break;case 48:P.prototype.Y5=function(){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 4:return this.V.Do(this.De.O);break;a30=1;break;case 2:return this.V.Do(this.De.O);break;}}};P.prototype.ZLa=function(N){var b30,M,Q,T;b30=2;for(;b30 !== 11;){switch(b30){case 1:return !1;break;case 5:(M=this.La.Nc.Qd(0),Q=this.La.Nc.Qd(1));M=!M || M.Mh;T=!Q || Q.Mh;Q=this.Gd[N].O;b30=8;break;case 2:b30=N >= this.Gd.length?1:5;break;case 8:b30=!(N === this.EK + 1 && Q.qf.replace || M && T) || !this.V.Do(Q)?7:6;break;case 7:return !1;break;case 6:N=Q.eh[0];M=Q.eh[1];M=!this.Bm || M && M.stream.ie;return (!this.yr || N && N.stream.ie) && M?!0:!1;break;}}};P.prototype.t2=function(){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.s2(this.EK + 1);c30=1;break;case 4:this.s2(this.EK * 6);c30=0;break;c30=1;break;}}};P.prototype.s2=function(N){var d30,M;d30=2;for(;d30 !== 6;){switch(d30){case 1:return !1;break;case 2:d30=!this.ZLa(N)?1:5;break;case 3:return !1;break;case 5:M=this.Gd[N];d30=4;break;case 4:d30=M.qBb || !M.O.qf.replace?3:9;break;case 9:this.wob(N);this.gg.Oj();return !0;break;}}};P.prototype.wob=function(N){var e30,wa,M,Q,T,da,pa;e30=2;for(;e30 !== 20;){switch(e30){case 9:Q=this.De;da=Q.O.qf.Og;wa=[];[1,0].forEach(function(ua){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:M.O.ec(ua) && (wa[ua]=M.gq(ua));f30=1;break;}}});e30=14;break;case 4:var N1g=",";N1g+=" ";var g1g=", stre";g1g+="amingPts";g1g+=": ";var D1g="switchManifest ma";D1g+="ni";D1g+="festIndex: ";pa=pa?pa.Cc:void 0;Q.$h && this.Db.pm(D1g + N + g1g + da + N1g + pa);e30=9;break;case 2:(M=this.Gd[N],Q=this.I,T=this.La.Nc,da=T.fb(0));da=da?da.Cc:void 0;pa=T.fb(1);e30=4;break;case 14:da?this.La.aUb(Q.O,M.O,wa):T.V7a(M.O,wa);this.gNa(N);M.Gra();this.Dn.Afa();this.gg.Oj();e30=20;break;}}};P.prototype.j3a=function(){var g30,Q,T,N,M;g30=2;for(;g30 !== 6;){switch(g30){case 7:var C1g="on";C1g+="AudioTrackSwitchStarted ig";C1g+="nor";C1g+="ed";C1g+=", no audio pipeline";this.Rb(C1g);g30=6;break;case 5:var m1g="onAudioTrack";m1g+="SwitchStarted but ";m1g+="current playing request not found";(Q=this.V.Me(),T=this.Ab.Ef[M.mediaType]);(N=this.La.Gt(Q,N,0))?M=N.Ra:(this.Rb(m1g),M=M.Ra);this.xnb(M);T.CP=!1;this.gg.Oj();g30=6;break;case 1:g30=M?5:7;break;case 2:(N=this.La.Nc,M=N.fb(0));g30=1;break;}}};P.prototype.J$=function(N){var h30,da,T,pa,M,Q;h30=2;for(;h30 !== 35;){switch(h30){case 6:h30=Q.CP?14:13;break;case 11:da=this.La.Lv(T,1);h30=10;break;case 13:T=this.La.Nc;h30=12;break;case 14:var c1g="switchTracks rejected,";c1g+=" previous switc";c1g+="h ";c1g+="still waiti";c1g+="ng to start";return (this.Rb(c1g),!1);break;case 16:var d1g="s";d1g+="witchTrac";d1g+="ks ca";d1g+="n'";d1g+="t find trackId:";return (this.Rb(d1g,N),!1);break;case 8:var r1g="switch";r1g+="Tracks rejec";r1g+="ted, b";r1g+="u";r1g+="ffering";return (this.Rb(r1g),!1);break;case 27:h30=pa === da.trackId?26:25;break;case 26:return !1;break;case 15:pa=this.De.gq(0).trackId;h30=27;break;case 5:var A1g="switc";A1g+="h";A1g+="Trac";A1g+="ks rejecte";A1g+="d, audio disabled";return (this.Rb(A1g),!1);break;case 3:var b1g="swit";b1g+="chTrac";b1g+="ks rejected, pre";b1g+="vious switch still in progress: ";return (this.Rb(b1g + JSON.stringify(this.Ab.py)),!1);break;case 4:h30=this.Ab.py?3:9;break;case 10:h30=da < M.V7?20:19;break;case 12:h30=this.V.getState() === g.ma.Ec?11:19;break;case 20:var o1g="switchTracks re";o1g+="je";o1g+="cted, bufferLe";o1g+="velMs";return (this.Rb(o1g,da,"<",M.V7),!1);break;case 2:M=this.I;h30=1;break;case 1:h30=!this.yr?5:4;break;case 17:h30=!da?16:15;break;case 19:N=N.Wm;da=this.De.O.getTrackById(N);h30=17;break;case 7:Q=this.Ab.Ef[0];h30=6;break;case 9:h30=this.V.jg()?8:7;break;case 25:var f1g=" t";f1g+="o:";f1g+=" ";var M1g="s";M1g+="witchTracks cu";M1g+="rrent: ";M.$h && this.Db.pm(M1g + pa + f1g + da.trackId);Q.q8={trackId:N};M=T.fb(0);this.oob(M);h30=21;break;case 21:return !0;break;}}};P.prototype.Jq=function(N,M){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:this.Ab.Jq(N,M);i30=1;break;}}};P.prototype.Gt=function(N,M,Q){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:return this.La.Gt(N,this.La.ei,M,Q);break;}}};P.prototype.Ai=function(N){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 4:return this.Dn.Ai(N);break;k30=1;break;case 2:return this.Dn.Ai(N);break;}}};B10=59;break;case 104:P.prototype.oSb=function(N,M,Q){var o40,T;o40=2;for(;o40 !== 6;){switch(o40){case 4:o40=N.O.c6?3:7;break;case 2:l.Cm.hq(0);N=this.Gd[N];N.dxa(M);o40=4;break;case 3:N.gq(0).$d.some(function(da){var p40;p40=2;for(;p40 !== 4;){switch(p40){case 1:p40=!(T && T.stream && T.stream.W && Q < T.stream.W.rj(0))?5:4;break;case 2:T=da.Nk();p40=1;break;case 5:return ! !T;break;}}});o40=8;break;case 8:T?(N.O.eh[0]=T,N.HX=!1,T.stream.ie && N.h3()):(N.O.eh[0]=void 0,N.HX=!1,N.O.uO([N.gq(0)],!0,0));o40=7;break;case 7:this.MS(0);o40=6;break;}}};P.prototype.Cnb=function(N,M){var q40,Q;q40=2;for(;q40 !== 4;){switch(q40){case 2:Q=this.Jg[N.mediaType];N=this.La.DX(N.gb,N.mediaType,M,this.jc.EA || 0,function(T){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 2:Q.F9(T);r40=1;break;}}});f.ha(N) || this.gg.Oj();q40=4;break;}}};P.prototype.olb=function(N){var s40,M,Q,T;s40=2;for(;s40 !== 8;){switch(s40){case 2:(M=N.mediaType,Q=N.manifestIndex,T=N.streamId);N=this.La.Nc.fb(M);M=this.Gd[Q].O.dw(M,T);this.iob(N,M);this.I=this.jSa.Ojb(M.Zg,this.I);this.Gd.forEach(function(da,pa){var t40,wa;t40=2;for(;t40 !== 5;){switch(t40){case 2:wa=da.O;wa.c6 || 0 === pa || wa.uO([da.gq(0),da.gq(1)]);t40=5;break;}}});s40=8;break;}}};P.prototype.rlb=function(N){var u40,M,Q;u40=2;for(;u40 !== 8;){switch(u40){case 2:M=N.request;N=N.mediaType;Q=M.Ra.gb;Q.$Lb(N);M.L4 && this.Db.zmb(M);M.rq && this.Db.Nmb(N,M.O.Mb,Q.N);u40=8;break;}}};P.prototype.iob=function(N,M){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:this.Ab.tw[N.mediaType].gH={id:M.Pa,index:M.Fg,bitrate:M.bitrate,Sa:M.ub && M.ub.confidence && M.ub.Sa?M.ub.Sa.Fa:0,location:M.location};v40=1;break;}}};P.prototype.D6=function(N){var w40,M,Q,T,da,pa,wa,ua,X,sa,O;w40=2;for(;w40 !== 11;){switch(w40){case 1:w40=!ua.Nc.vh?5:12;break;case 14:N && (pa.a=null === sa || void 0 === sa?void 0:sa.Ra.W.toJSON(),pa.v=null === O || void 0 === O?void 0:O.Ra.W.toJSON());w40=13;break;case 13:N && wa && (N=wa[1],wa=wa[0],pa.atoappend=null === N || void 0 === N?void 0:N.g$(),pa.vtoappend=null === wa || void 0 === wa?void 0:wa.g$());w40=12;break;case 2:(pa={},wa=this.Jg,ua=this.La);w40=1;break;case 5:(X=ua.Nc,sa=X.Qd(0),O=X.Qd(1));pa.vspts=null !== (M=null === O || void 0 === O?void 0:O.Cc) && void 0 !== M?M:0;pa.aspts=null !== (Q=null === sa || void 0 === sa?void 0:sa.Cc) && void 0 !== Q?Q:0;w40=9;break;case 9:pa.vbuflbytes=null !== (T=null === O || void 0 === O?void 0:O.Ym.fa) && void 0 !== T?T:0;pa.abuflbytes=null !== (da=null === sa || void 0 === sa?void 0:sa.Ym.fa) && void 0 !== da?da:0;pa.vbuflmsec=ua.Lv(X,1);pa.abuflmsec=ua.Lv(X,0);w40=14;break;case 12:return pa;break;}}};P.prototype.mYa=function(N){var x40,M,Q,T,da,pa,wa;x40=2;for(;x40 !== 8;){switch(x40){case 1:x40=Q?5:8;break;case 2:(M=this.La.Nc,Q=M.fb(N));x40=1;break;case 9:return {type:N,availableMediaBuffer:v.default.vo()[N] - da,completeBuffer:M.xh(N),incompleteBuffer:pa,playbackBitrate:Q.A4a,streamingBitrate:T,streamingTime:Q.Cc + wa,usedMediaBuffer:da,toappend:Q.U0b};break;case 5:(T=this.Ab.tw[N],da=this.La.UF(M,N));T=T.gH?T.gH.bitrate:0;(pa=Q.Ra.wsa,wa=this.La.Ce);x40=9;break;}}};P.prototype.mUb=function(){var y40,N;y40=2;for(;y40 !== 5;){switch(y40){case 2:var I1g="reque";I1g+="st";I1g+="GarbageCollectio";I1g+="n";N={type:I1g,time:v.default.time.ea()};t.Va(this,N.type,N);y40=5;break;}}};P.prototype.xp=function(N,M,Q,T,da,pa){var z40;z40=2;for(;z40 !== 1;){switch(z40){case 2:var G1g="NFErr_MC_Streamin";G1g+="gF";G1g+="a";G1g+="ilure";this.k2 || (f.ha(Q) && (Q=G1g),this.k2=!0,this.Db.Rmb(Q,N,T,da,pa,void 0 !== M?M:this.xX));z40=1;break;}}};P.prototype.KMa=function(){var A40;A40=2;for(;A40 !== 5;){switch(A40){case 2:var e1g="Networ";e1g+="k f";e1g+="ai";e1g+="lures reset!";this.Rb(e1g);this.gg.Oj();A40=5;break;}}};B10=94;break;}}function P(N,M,Q,T,da,pa,wa,ua,X,sa,O){var C10,S,ka,ia,Pa,Va;C10=2;for(;C10 !== 74;){switch(C10){case 10:this.BU=Pa.BU;this.Gr=Pa.Gr;this.Lw=sa.Lw;this.Ei=new R.gEa(this,this.H,this.ec.bind(this),Pa);C10=17;break;case 56:this.Ab=new K.$Ja(this.H,this.sg,this.I,this.ec.bind(this),this.V,sa,this.jc.Pb,this.Db,this.gg,this.La,Pa);C10=55;break;case 60:this.sg.exa(this.I);C10=59;break;case 2:S=this;this.Kx=new B.WIa();C10=5;break;case 24:this.AOa=! !pa.eab;this.Iob=! !pa.sxa;this.DK=pa.jW;this.Y1=void 0;C10=35;break;case 39:var F1g="ma";F1g+="nagerde";F1g+="buge";F1g+="v";F1g+="ent";this.ti.on(this.jc.Af,F1g,function(Ya){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:t.Va(S,Ya.type,Ya);D10=1;break;}}});C10=38;break;case 76:this.V.addListener(function(Ya){var F10,G10;F10=2;for(;F10 !== 1;){switch(F10){case 2:try{G10=2;for(;G10 !== 1;){switch(G10){case 2:Va.Ab.y_b.bind(Va.Ab)(Ya);G10=1;break;}}}catch(bb){var E1g="Hindsight: Error when ";E1g+="add";E1g+="ing updatePlaySegme";E1g+="nt Listener: ";a000.Q0g(3);Va.Db.vn(a000.Z0g(E1g,bb));}F10=1;break;}}});C10=75;break;case 29:this.H1=-1;this.Cga=0;C10=44;break;case 35:this.V=new A.jya(X);this.XB=da || 0;this.EK=0;C10=32;break;case 40:C10=sa.$h && this.jc.Af?39:38;break;case 75:O && this.Ab.Jq(O,Ea.Z);C10=74;break;case 51:this.s7a=new k.Cca(M,this.jc.Pb,this.jc.Bh,this.I,void 0);N=this.s7a.eGb();da=null;C10=48;break;case 44:this.ti=new c.Nh();this.Dn=new H.zJa(this,this.H,this.ec.bind(this),ka);this.gg=new L.PAa(this,this.H,this.ec.bind(this));this.rU=new z.OAa(this,this.H,ka);C10=40;break;case 5:var x1g="media";x1g+="|asej";x1g+="s";var W1g="A";W1g+="S";W1g+="EJ";W1g+="S";var H1g="1";H1g+="S";H1g+="I";H1g+="YbZrNJCp";H1g+="9";this.QLa=[];this.QC={tv:[Object.create(null),Object.create(null)]};H1g;this.H=new v.default.Console(W1g,x1g,"(" + wa.sessionId + ")");C10=8;break;case 36:ia && sa.ZL && !sa.Yzb && (sa.set?sa.set({enableAdaptiveParallelStreaming:!1}):sa.ZL=!1);0 === Math.floor(1E6 * Math.random()) % sa.fL && (this.Snb=new p.bJa(sa));this.xv=[];this.Jg=[];C10=51;break;case 37:var J1g="m";J1g+="ediac";J1g+="a";J1g+="che";this.ti.on(this.jc.Af,J1g,function(Ya){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:var y1g="med";y1g+="iaca";y1g+="c";y1g+="h";y1g+="e";t.Va(S,y1g,Ya);E10=1;break;case 4:t.Va(S,"",Ya);E10=7;break;E10=1;break;}}});C10=36;break;case 59:Ea=M.O;this.La=new G.rba(this,this.Db,this.H,this.Oga.bind(this),Ea,this.XB,this.I,this.gg,this.V,this.aV.bind(this));sa={jW:this.jW,gs:this.gs,Bm:this.Bm,aO:this.aO};C10=56;break;case 46:M=m.Rca.create({Mb:0,sa:M,Lo:Q,h7a:T,Og:! !pa.Og,t_a:!1,Xh:! !pa.Xh,zd:h.P7(! !pa.mT,! !pa.eE),Y:0,Ha:pa.Ha,Db:this.Db,Jr:this.KMa.bind(this),Yb:this,config:this.I,H:this.H,gg:this.gg,Dn:this.Dn,Af:this.AOa?this.jc.Af:void 0,QC:this.QC});M.fT=!0;this.Gd=[M];this.sg=new J.Yxa(this,this.H,N,this.jc.Pb,sa,this.rN(),da,this.ec.bind(this),Pa);C10=63;break;case 55:C10=this.Gr?77:75;break;case 62:sa=sa.zHb;for(var Ea in sa){Q=sa[Ea];sa.hasOwnProperty(Ea) && Q && (this.I[Ea]=Q);}C10=60;break;case 38:C10=(sa.vxa || sa.uxa) && this.jc.Af?37:36;break;case 48:sa.FU && (da=this.jc.Iu.VB);x.ex.instance().reset();C10=46;break;case 32:this.Tea=ua;this.k2=!1;this.kS=void 0;C10=29;break;case 26:this.I=sa=this.jSa.Mjb(M,sa);this.R1=pa.aO;C10=24;break;case 8:var u1g="br";u1g+="an";u1g+="chi";u1g+="n";u1g+="g";this.Ak=this.H.error.bind(this.H);this.Rb=this.H.warn.bind(this.H);this.Rm=this.H.trace.bind(this.H);ka=new I.$Fa(this,this.H);this.Db=ka;this.jSa=new y.Wza(this.H);(ia=!(!M || !M.choiceMap || u1g !== M.choiceMap.type),Pa=ia?{BU:!1,Gr:!1}:q.hXa(sa));C10=10;break;case 17:this.vob=[!pa.eE,!pa.mT];this.ec(0) && this.ec(1);this.jc=N;this.Ql=wa;C10=26;break;case 63:C10=sa.fla && this.sg.P6?62:59;break;case 77:Va=this;C10=76;break;}}}})();b.IJa=a;r.sf(c.EventEmitter,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Rca=void 0;c=a(18);f=a(9);l=a(221);r=(function(){function m(d,g,h,k,n,p,q,v,u,t,w,x){void 0 === h && (h=0);this.ee=d;this.c2=g;this.Y=h;this.Ha=k;this.a5=n;this.bh=p;this.AM=q;this.config=v;this.H=u;this.Db=t;this.qBb=w;this.Qg=x;this.kw=0;}m.create=function(d){var h,k,n,p,q,v,u,t,w,x,y,z,A,B,D;function g(E){f.Va(t,E.type,E);}h=d.Mb;k=d.sa;n=d.h7a;p=d.Y;q=d.Ha;v=d.Jr;u=d.Db;t=d.Yb;w=d.config;x=d.H;y=d.gg;z=d.Dn;A=d.Af;B=d.QC;D=new l.iba(Number(k.movieId),{Mb:h,sa:k,Lo:d.Lo,N1a:{apa:d.Og,C_a:! !d.t_a},Xh:d.Xh,zd:d.zd,config:w,cZa:{Il:y.Oj.bind(y),Af:A,QC:B,wn:g,J6:function(E){return E === t.La.Nc.O;},pV:function(E,F,C,G,J){E=t.Ab.Ef[E];return !F || C || G || J?t.kS:E.Cf;},HC:function(E){return t.Ab.tw[E];},bh:t.bh.bind(t)},RW:function(E){t.emit("requestComplete",{type:"requestComplete",timestamp:E.pf,mediaRequest:E});},X4:function(){return t.sg;},Pb:t.jc.Pb,Bh:t.jc.Bh,PUa:{Jr:v,Fh:function(E,F,C,G,J){t.xp(E,h,F,C,G,J);},qn:function(){return t.k2;},gN:t.V.jg.bind(t.V),wn:g},vO:void 0,tI:{T:t.jc.EA,fa:t.jc.QD}});w.Wy && D.OD({zw:t.Ql.zw,ca:t.Ql.ca,wC:t.Ql.wC,vn:u.vn.bind(u)});d=new c.Nh();d.addListener(D.Tt,"onHeaderFragments",function(E){var F,C,G,J,K;F=E.mediaType;C=E.Pa;G=E.stream.W;J=t.bh(h);if(J){if(D.eh[F] && E !== D.eh[F])E.Xv && (J=D.eh[F],E=E.stream,K=J && J.stream,x.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Pa + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Pa) + ", " + J));else {D.eh[F]=E;E=t.La.Nc;if(0 === h){K=D.ec(1)?E.fb(1).Cc:E.fb(0).Cc;E.k3(K,D);}J.HX=!1;J.h3();t.t2();}z.Afa();u.Lmb(h,F,C,D.J,G);y.Oj();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(D.Tt,"onHeaderRequestComplete",function(E){var F,C;E.Jk?t.t2():E.xC && (x.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),t.Sy(E.J));F=E.mediaType;C=Object.getOwnPropertyNames(B.tv[F]);t.Jg[F].T2a(E.stream,1 === C.length && C[0] === E.Pa);y.nMa();t.mUb();});d.addListener(D.Tt,"onHeaderFromCache",function(E){var F;F=E.header;E=E.hCb;F.Jk && t.t2();E && u.Bmb(F.J,F.Pa);});return new m(D,n,p,q,function(){return t.La;},t.bh.bind(t),t.AM.bind(t),w,x,u,!1,d);};Object.defineProperties(m.prototype,{O:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mb:{get:function(){return this.O.Mb;},enumerable:!1,configurable:!0}});m.prototype.gq=function(d){return this.ee.rGb(d,this.j5(d));};m.prototype.j5=function(d){return this.c2[d];};m.prototype.close=function(){this.Qg.clear();this.O.close();};m.prototype.Zc=function(){this.ee.Zc();delete this.ee;};m.prototype.clone=function(){return new m(this.O,this.c2,this.Y,this.Ha,this.a5,this.bh,this.AM,this.config,this.H,this.Db,!0,this.Qg);};m.prototype.dxa=function(d){this.H.trace("updateAudioTrack:",this.c2[0],"->",d);this.c2[0]=d;};m.prototype.mXa=function(){return void 0 !== this.zH?this.zH:this.Ha?this.Ha:this.ee.duration;};m.prototype.Csb=function(d){var g,h;g=this.ee.eh[1];if(g && g.stream.ie){if(this.bz && this.bz[1] && this.bz[1].Y <= d && this.bz[1].Ha > d)return this.bz[1].sd;g=g.stream.W;d=g.hn(d,void 0,!0);h=void 0;void 0 === h && (h=g.rj(d));return h;}};m.prototype.h3=function(){var d,g;if(!this.HX && this.TYa()){this.Gra();d=[0,0];if(0 !== this.Mb && !this.ee.qf.rW && !this.ee.qf.replace){g=this.bh(this.Mb - 1);g=this.ee.J === g.ee.J;d=this.a5().Nc;g=d.k3(this.Y,this.O,d,g);d=g.eO;}this.Y=d[1];this.eO=d;this.bz=g && g.bz;this.WQa();g=this.ee.ec(1)?this.ee.eh[1].stream.W.Ha:this.ee.eh[0].stream.W.Ha;this.Db.Gmb(this.Mb,this.kw,this.Y,this.zH,g);this.HX=!0;for(g=this.Mb + 1;g < this.AM();++g){d=this.bh(g);d.HX=!1;d.h3();}}};m.prototype.WQa=function(){var d;if(0 === this.Mb || this.ee.qf.replace)this.kw=0;else {d=this.bh(this.Mb - 1);this.kw=d.kw + d.mXa() - this.Y;}};m.prototype.Gra=function(){var d,g,h,k,n,p,q,v;if(this.TYa()){n=this.a5().Nc;p=this.Ha || Infinity;q=this.ee.ec(1);v=n.NU(p,this.O);this.zH=q?v[1].Ha:v[0].Ha;n=q?this.ee.eh[1].stream.W.Ha:this.ee.eh[0].stream.W.Ha;q=Math.min(null !== (g=null === (d=v[1]) || void 0 === d?void 0:d.Ha) && void 0 !== g?g:Infinity,null !== (k=null === (h=v[0]) || void 0 === h?void 0:h.Ha) && void 0 !== k?k:Infinity);this.Db.Imb(this.Mb,this.zH,n,q);d=this.a5().Hla(this.Mb);0 < d.length && d.forEach(function(u){u.s_b(v,p);});}};m.prototype.TYa=function(){var d,g,h,k;d=this.ee.ec(0);g=this.ee.ec(1);h=this.ee.eh[0];k=this.ee.eh[1];h=h && h.stream.ie;k=k && k.stream.ie;return (!d || h) && (!g || k);};return m;})();b.Rca=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.LJa=void 0;r=a(2);c=a(9);a=r.__importDefault(a(6));f=a.default.$q;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function l(m,d,g){this.vn=g;this.Qob=new c.BLa(m);this.ca=d.ca;this.Zjb=1E3 * d.FMb / d.Qrb;this.kzb=d.wC;this.JPa=!1;}l.prototype.vt=function(m){var d,g;d={s_xid:this.ca,dl:this.kzb?1:0};m.mL && (d.bs=c.o3(Math.floor(m.mL / this.Zjb) + 1,1,5));m.u8 && (d.limit_rate=m.u8);m.xQa && (d.bb_reason=m.xQa);m.Q9a && (d.tm=m.Q9a);if(m.TT){g=m.TT.T6();if(g || !g && this.JPa)(d.cpr_ss=m.TT.UO,d.cpr_ca=m.TT.BL,d.cpr_rec=m.TT.kO,this.JPa=g);}m.xia && (d.br="" + m.xia.start + "+" + m.xia.size);return this.Vmb(d);};l.prototype.cva=function(m,d){var g,h;try{g=new f(void 0,"notification");h=this.vt({xQa:m});d && h && g.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.vn("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};l.prototype.Vmb=function(m){var d;try{d=this.fob(m);return this.Qob.encrypt(d);}catch(g){this.vn("SideChannel: Error when obfuscating msg. Error: " + g);}};l.prototype.fob=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return l;})();b.LJa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){var p,q;p=Math.floor(1E3 * k / n);q=1E3 * Math.round(p / 1E3);return new l.S(q,Math.abs(Math.floor(1001 * k / n) - q) > Math.abs(p - q)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.hba=void 0;f=a(362);l=a(21);m=a(5);d=a(9);g=a(363);h=a(364);r=(function(){function k(n,p,q){this.I=p;this.H=q;this.FB=new d.MJa();this.N1=0;this.Rz=n.Rz;this.O=n.O;this.mediaType=n.mediaType;this.aE=n.aE;this.bC=n.bC;1 === this.mediaType && (p=this.Rz.streams[0],void 0 !== p.framerate_value && void 0 !== p.framerate_scale && (this.fga=c(p.framerate_value,p.framerate_scale).Vta()));this.mb=(this.uK=this.fga) && this.uK.U;this.Kfa=this.oMa=!1;this.ooa=-Infinity;this.T0a=Infinity;n=k.vkb(this,n.Og);p=n.maxBitrate;q=n.$d;this.OG=n.OG;this.maxBitrate=p;this.$d=q;this.sob=q.reduce(function(v,u){v[u.Pa]=u;return v;},{});!1;}k.vkb=function(n,p){var q,v,u,t,w;q=n.I;v=1 === n.mediaType;u=!1;t=0;w=[];n.Rz.streams.forEach(function(x,y){var z,A,B;z=x.bitrate;A=!0;if(v){B=-1 === x.content_profile.indexOf("none");A=p && !B || !p && B;u=u || B;}A && z > t && (t=z);x=new h.wya({lw:x,Fg:y,track:n,Yt:A},q,n.H);w.push(x);});return {OG:u,maxBitrate:t,$d:w};};Object.defineProperties(k.prototype,{l8:{get:function(){return !this.ie && 0 === this.N1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ie:{get:function(){return ! !this.Yo && ! !this.FB.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xka:{get:function(){return this.oMa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{J:{get:function(){return String(this.O.J);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.Rz.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qa:{get:function(){return this.uK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CN:{get:function(){return this.nmb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Yo:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{YM:{get:function(){return this.FB.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lma:{get:function(){return this.qa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kma:{get:function(){return this.qa.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Y:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wla:{get:function(){return this.FB;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qW:{get:function(){return this.$d.some(function(n){var p;return 1 < ((null === (p=n.Pg) || void 0 === p?void 0:p.length) || 0);});},enumerable:!1,configurable:!0}});k.prototype.dw=function(n){return this.JC()[n];};k.prototype.JC=function(){return this.sob;};k.prototype.equals=function(n){return ! !n && this.J === n.J && this.mediaType === n.mediaType && this.trackId === n.trackId;};k.prototype.G8=function(){this.N1++;};k.prototype.F8=function(){0 < this.N1 && this.N1--;};k.prototype.E8=function(n,p,q,v,u){if(v && void 0 !== v.Zk && (this.ie || void 0 !== v.rd && v.rd.length)){if((n.Ez && (this.oMa=!0),this.ie))!this.Kfa && v.rd && v.rd.length > this.Yo.length && (this.ed=new f.yea(this.mediaType,this.qa,v,u),this.FB.F6a(),this.ooa=-Infinity,this.Kfa=!0);else {this.hOa(p);if(q=q || this.fga)(this.gOa(q || this.fga),void 0 === this.U && this.iOa(q.U));this.ed=new f.yea(this.mediaType,this.qa,v,u);n.Ez && (this.Kfa=!0);}}else this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};k.prototype.cPb=function(n){void 0 === this.FB.value && this.FB.set(n);};k.prototype.Mub=function(n){this.ie || (this.iOa(n.U),this.hOa(n.CN),this.gOa(n.qa),this.ed=n.Yo,n.Wla.value?this.FB.set(n.Wla.value):this.FB.F6a());};k.prototype.gn=function(n,p,q,v){m.assert(this.YM);return g.gn(this.mediaType,n,this.YM,p,q,v);};k.prototype.$y=function(n,p,q){m.assert(this.YM);return g.$y(this.mediaType,n,this.YM,p,q);};k.prototype.toJSON=function(){return {movieId:this.J,mediaType:this.mediaType,trackId:this.trackId};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};k.prototype.iOa=function(n){this.mb=n;};k.prototype.hOa=function(n){this.nmb=n;};k.prototype.gOa=function(n){this.uK=n;};return k;})();b.hba=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eKa=b.Tib=void 0;c=a(2);a(116);f=a(5);r=c.__importDefault(a(6));l=a(372);a=a(362);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}g=(function(h){function k(n,p){p=h.call(this,n.Yo,p) || this;p.DF=n;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{fa:{get:function(){return this.DF.p8a(this.Wg);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.DF.Rd(this.Wg);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tra:{get:function(){return this.DF.tH && this.DF.tH[this.Wg];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vh:{get:function(){return this.DF.aDb(this.Wg);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Eb:{get:function(){return this.DF.Rq && this.DF.Rq[this.Wg];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wQa:{get:function(){return 8 * this.fa / (1E3 * this.Up / this.U);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Wa,contentEndTicks:this.nb,durationTicks:this.Up,timescale:this.U,startPts:this.Y,endPts:this.Ha,duration:this.duration,additionalSAPs:this.Vh};};return k;})(a.IKa);b.Tib=g;r=(function(){function h(k,n,p,q,v,u){this.IK=128;this.ed=k;this.Ke=n.offset;this.Bp=n.sizes;this.hK=this.RR=this.Th=this.tOa=this.Qga=void 0;this.mmb=p;this.Rea=q && q.Rd;this.COa=v;this.jf=Math.min(this.ed.length,this.Bp.length);this.Zlb=this.rsb();this.Yo.mr.length !== this.Bp.length && m.error("Mis-matched stream duration (" + this.Yo.mr.length + "," + this.Bp.length + ") for movie id " + u);this.Yo.B2 && !this.Rea && m.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.ed.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zk:{get:function(){return this.ed.Zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lla:{get:function(){return this.ed.lla;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Y:{get:function(){return this.ed.Y;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ha:{get:function(){return this.ed.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kqa:{get:function(){return this.ed.Kqa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xz:{get:function(){return this.Zlb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qa:{get:function(){return this.ed.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{U:{get:function(){return this.ed.U;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sg:{get:function(){return this.tOa || this.afa();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tH:{get:function(){return this.mmb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gPa:{get:function(){return this.Rea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rq:{get:function(){return this.COa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Yo:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{SO:{get:function(){return this.Qga || this.ukb();},enumerable:!1,configurable:!0}});h.prototype.p8a=function(k){if(this.Bp)return this.Bp[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.rj=function(k){return this.ed.rj(k);};h.prototype.GU=function(k){return this.ed.rj(k) + this.ed.rd(k);};h.prototype.Rd=function(k){var n,p,q;if(this.RR !== k || void 0 === this.hK){if(0 === k)return this.Ke;if(this.RR === k - 1 && void 0 !== this.hK)(this.hK+=this.Bp[this.RR],++this.RR);else {n=this.Th || this.ekb();p=Math.floor(k / this.IK);q=p * this.IK;for(n=n[p];q < k;++q){n+=this.Bp[q];}this.RR=k;this.hK=n;}}return this.hK;};h.prototype.rd=function(k){return this.ed.rd(k);};h.prototype.get=function(k){return new g(this,k);};h.prototype.aDb=function(k){var n,p,q,v,u;f.assert(0 <= k);n=this.Yo.B2;p=this.Yo.hPa;q=this.Rea;if(!q || !n || !p || k >= n.length)return [];v=[];u=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < u;++n){v.push({Xk:p[n],Cd:this.rj(k) + this.qa.sD(p[n]).T,offset:q[n]});}return v;};h.prototype.yWb=function(k){this.COa=k;};h.prototype.hn=function(k,n,p){return this.ed.hn(k,n,p);};h.prototype.H4=function(k,n,p){return this.ed.H4(k,n,p);};h.prototype.Tja=function(k,n){return this.ed.Tja(k,n);};h.prototype.osb=function(k,n,p,q,v){var u,t,w,x,y,z,A,B,D;u=!0;t=0;w=this.ed.mr;x=this.Bp;k=Math.floor(k * this.U / 1E3);y=Math.floor(p * this.U / 1E3);z=0;A=0;B=0;if(this.ed.bxa && this.ed.axa)for(t=this.ed.bxa;t <= this.ed.axa;++t){z+=w[t];A+=x[t];}if(A > n)u=!1;else for(;t < this.length && (!v || t < v);){D=x[t];p=w[t];if(A + D > n){for(;1 < t - B && A + D > n && (z - w[B] >= y || A - x[B] > q);){z-=w[B];A-=x[B];++B;}if(z < k || A + D > n){u=!1;this.ed.bxa=B;this.ed.axa=t;break;}}z+=p;A+=D;++t;}return u;};h.prototype.subarray=function(k,n){f.assert(void 0 === k || 0 <= k && k < this.length);f.assert(void 0 === n || n > k && n <= this.length);return new h(this.ed.subarray(k,n),{offset:this.Rd(k),sizes:this.Bp.subarray(k,n)},this.tH && this.tH.subarray(k,n),this.gPa && ({Rd:this.gPa}));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};h.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace("StreamFragments: " + k + ": [" + n.Y + "-" + n.Ha + "] @ " + n.offset + ", " + n.fa + " bytes");}};h.prototype.rsb=function(){var k,n,p,q,u;k=0;n=this.ed.x1a;p=this.ed.mr;q=this.Bp;if(void 0 === n || n >= this.length){for(var v=0;v < this.length;++v){u=q[v] / p[v];u > k && (k=u,n=v);}void 0 === this.ed.x1a && (this.ed.x1a=n);}else k=q[n] / p[n];return Math.floor(k * this.U / 125);};h.prototype.afa=function(){for(var k=0,n=0;n < this.length;++n){k+=this.Bp[n];}return this.tOa=k;};h.prototype.ukb=function(){return this.Qga=new l.lea(this.ed.mr,this.Bp,this.ed.U);};h.prototype.ekb=function(){if(!this.Th){for(var k=d?new Float64Array(Math.ceil(this.length / this.IK)):Array(Math.ceil(this.length / this.IK)),n=this.Ke,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.IK;++q){n+=this.Bp[p * this.IK + q];}}this.Th=k;}return this.Th;};return h;})();b.eKa=r;r.prototype.G8a=a.jw(r.prototype.rj);a.jw(r.prototype.GU);a.jw(r.prototype.rd);a.jw(r.prototype.Rd);a.jw(r.prototype.p8a);a.jw(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.uc();this.cc=1 === this.version?this.Ii([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.Ii([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};l.Vb="mvhd";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="trak";l.Oa=!0;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.uc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{FKb:"int16"},{eqb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.cc=this.Ii(m);this.cc.vZb=! !(this.flags & 1);this.cc.wZb=! !(this.flags & 2);this.cc.xZb=! !(this.flags & 4);this.cc.yZb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Vb="tkhd";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.uc();this.cc=this.Ii(1 === this.version?[{T4:"int64"}]:[{T4:"int32"}]);return !0;};l.Vb="mehd";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.cc=this.Ii([{IHb:"int32"},{D0b:"int32"}]);return !0;};l.Vb="pasp";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.cc=this.Ii([{Srb:"int32"},{maxBitrate:"int32"},{mia:"int32"}]);return !0;};l.Vb="btrt";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.Gl();this.u.Gl();for(this.ZF=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.ZF.push(this.u.Gl());}return !0;};l.Vb="ftyp";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(84);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.cc=this.Ii([{zRb:"int32"},{wV:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.cc.wV=f.Wn(this.cc.wV);return !0;};m.Vb="hdlr";m.Oa=!1;return m;})(a(31).yc);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(100);l=a(223);m=a(170);r=a(31);d=a(85);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.uc();this.hm=this.u.wa();return !0;};h.prototype.Ft=function(k){var n;n=Object.keys(this.Ua);n.length && (n=n[0],this.Ua[n].length && (n=this.Ua[n][0],n instanceof m.default?this.qa=new l.S(n.dz,n.samplerate):n instanceof d.default && (n=n.Ua[f.IE]) && n.length && (n=n[0].cc,1E3 !== n.Oy && 1001 !== n.Oy || 0 !== n.AH % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.AH + "/" + n.Oy):this.qa=new l.S(n.Oy,n.AH)),this.qa && (k.qa=this.qa)));return !0;};h.prototype.UX=function(k){void 0 !== this.Ua[k] && 0 !== this.Ua[k].length && (this.la.Tg(this.hm - 1,this.byteOffset + 12),k=this.Ua[k][0],this.Fe(k.byteLength,k.byteOffset));};h.Vb="stsd";h.Oa=!0;return h;})(r.yc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.pma=this.u.tc(2);this.zia=this.u.tc(5);this.Aia=this.u.tc(3);this.jha=this.u.tc(3);this.u.tc(1);this.u.tc(5);this.u.tc(5);return !0;};l.Vb="dac3";return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.Tra=this.u.Qc() & 7;this.owa=[];for(var m=0;m < this.Tra;m++){d={pma:this.u.tc(2),zia:this.u.tc(5),Aia:this.u.tc(5),jha:this.u.tc(3),HKb:this.u.tc(1),Sra:this.u.tc(4)};0 < d.Sra?d.$sb=this.u.tc(9):this.u.tc(1);this.owa.push(d);}return !0;};l.Vb="dec3";return l;})(a(31).yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.gY=this.u.Gl();f.ga && this.u.console.trace("SchemeTypeBoxTranslator: " + this.gY);"cenc" === this.gY && (this.u.offset-=4,f.ga && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.la.EZ("piff"));this.u.wa();return !0;};m.Vb="schm";m.Oa=!1;return m;})(f.yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.lb();this.$aa=this.u.lb();this.u.lb();this.u.lb();this.u.lb();this.BY=this.uF(this.u.lb() & 31);this.uF(this.u.lb());this.nA=this.BY.length?this.BY[0][0]:this.$aa;this.ES=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.nA || 110 === this.nA || 122 === this.nA || 144 === this.nA) && (this.u.lb(),this.u.lb(),this.uF(this.u.lb()));m=this.startOffset + this.length - this.ES;0 < m && this.Fe(m,this.ES);return !0;};l.prototype.uF=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.Qc();d.push(this.u.rA(h));}return d;};l.Vb="avcC";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Ft=function(){var m;m=this.xl("esds");if(m=m && m.Tba.xl(5))this.dz=m.dz;return !0;};l.Vb="mp4a";l.Oa=!0;return l;})(a(170).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(225);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.Tba=f.nQ.JX(this.u);return !0;};m.Vb="esds";m.Oa=!1;return m;})(a(31).yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(100);a=a(31);f=r.IE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.cc=this.Ii([{AH:"int32"},{Oy:"int16"}]);return !0;};m.Vb=f;m.Oa=!1;return m;})(a.yc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,g,h,k;this.uc();m=this.Ii([{NI:"int32"},{iU:"int32"},{Ly:"int32"},{Ny:"int32"},{My:"int32"}]);d=m.NI;g=m.iU;h=m.Ly;k=m.My;m=m.Ny;this.cc={trackId:d,lyb:g,Ky:h,myb:k,nyb:m};this.NI=d;this.iU=g;this.Ly=h;this.Ny=m;this.My=k;return !0;};l.Vb="trex";l.Oa=!1;return l;})(a(31).yc);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(785);l=a(229);m=a(144);d=a(223);g=a(31);r=a(367);h=a(368);k=a(370);n=a(145);p=a(222);q=a(100);v=a(371);a=(function(){function u(t,w,x,y,z,A){this.console=t;this.stream=w;this.Gh=y;this.zha=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.SYa=n.Mma();}u.path=function(t,w){return w.reduce(function(x,y){return x && x.Ua[y] && x.Ua[y][0];},t);};u.bna=function(t){return t && t.ZF && -1 !== t.ZF.indexOf("mcl0")?"mcl0":void 0;};u.Lla=function(t,w){var x,y;m.assert("mcl0" === t,"Unsupported McClearen brand");x=w.W;t=x.rd;w=new d.S(120,1).Vf(x.U).Zb;y=0;for(x=x.Zk;y < t.length && x < w;){x+=t[y++];}return y;};u.prototype.parse=function(t){var w;w=this.Oua();if(!w.done){if(w.JW)return {qm:!1,fPa:w.JW};this.console.error("Scan error: " + w.error);return {qm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);t=this.ssa(t);return t.done?this.Nja():(this.console.error("Parse error: " + t.error),{qm:!1,parseError:t.error || "unknown mp4 parse error"});};u.prototype.en=function(t){return g.yc.en(this,t);};u.prototype.xl=function(t){return g.yc.xl(this,t);};u.prototype.Oua=function(){var t,w;t=new v.mca(this.Gh,this.zha?[q.yx,q.xx]:[],this.config && this.config.MYb || ["moof",q.eR],this.config && this.config.iX);w=c.__assign(c.__assign({},this.config),{GH:!1});return new k.lE(u.gI,t,this.view,this.console,w).parse();};u.prototype.ssa=function(t){var w,x,y;w=new v.iQ(this.view.byteLength);x=Object.create(p.uq.Ua);this.config && ((this.config.T8 || this.config.Z$ || this.config.RD) && f(p.uq.eI,x),this.config.$$ && f(p.uq.Nwa,x),this.config.Z$ && f(p.uq.eZ,x));y=c.__assign(c.__assign({},this.config),{GH:!0});this.mc=new k.lE(x,w,this.view,this.console,y);t=this.mc.parse(t);t.done && (this.Ua=this.mc.Ua);return t;};u.prototype.Nja=function(){var t,w,x,y,z,A;t={qm:!0};w=u.path(this,["moov"]);x=u.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.T8)if(x)(t.qa=x.qa,t.VUb=x.Ua);else return {qm:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[q.jR])) && (t.EUa={Cub:y.dj,bH:y.bH,iKb:!1});if(y=u.path(w,["trak","mdia","mdhd"]))t.U=y.U;if(y=u.path(w,["mvex","trex"]))t.Ky=y && y.cc.Ky;t.Ky && t.U && (t.qa=new d.S(t.Ky,t.U));if(y=u.path(this,["sidx"])){z=u.path(this,[q.yx]);z=z && z.Rqa;A=u.path(this,[q.xx]);A=A && A.Vh;t.W=y.W;t.tH=z;t.Vh=A;}if(z=this.Ua.vmaf && this.Ua.vmaf[0])t.Rq=z.Rq;if(this.config.M6a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.RD && x && 1 < x.hm && y && (t.Pg=this.RD(x,y)),void 0 === t.Pg && (w=this.mc.Uy?l.concat(this.mc.oa()):this.view.buffer,t.Pg=[{Wd:0,data:w}]));else return {qm:!1,parseError:"Missing movie box"};t.qm=!0;t.jX=this.mc.offset;return t;};u.prototype.trim=function(t){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(t,this.view.byteLength));this.mc.trim(t);this.view=new DataView(w);};u.prototype.RD=function(t,w){var x,y,z;x=Object.keys(t.Ua);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);z=u.bna(x);if(z)return (x=[],this.mc.Bta(),t.UX("encv"),x.push({Wd:0,Jk:!1,data:l.concat(this.mc.oa())}),this.mc.bta(),t.UX(y[0]),t=u.Lla(z,w),x.push({Wd:t,Jk:!0,data:l.concat(this.mc.oa())}),x);}};u.gI={};return u;})();b.dr=a;a.gI[q.JE]=r.default;a.gI[q.KE]=h.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(144);l=a(229);m=a(84);r=a(787);d=(function(){function g(h){h?(this.Df=h.Df.slice(),this.Ug=h.Ug.slice(),this.Rd=h.Rd.slice(),this.trim=h.trim):(this.Df=[],this.Ug=[],this.Rd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Df.length && 0 === this.Ug.length && 0 === this.Rd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(k,n,p){k=g.call(this,k,n,p) || this;k.yU=[];k.kb=new d();return k;}c.__extends(h,g);h.Qha=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.Ku?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.Ku?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Ku);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{Uy:{get:function(){return !this.kb.empty;},enumerable:!0,configurable:!0}});h.prototype.YA=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Mxa=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:2,Ku:!1});void 0 === n && (this.offset+=2);};h.prototype.Tg=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:4,Ku:!1});void 0 === n && (this.offset+=4);};h.prototype.Nxa=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:8,Ku:!1});void 0 === n && (this.offset+=8);};h.prototype.EZ=function(k){this.Tg(m.VR(k));};h.prototype.YI=function(k,n){this.kb.Rd.push({offset:this.offset,rl:k,value:n});this.offset+=4;};h.prototype.Fe=function(k,n,p){this.kb.Df.push({offset:n,remove:k,eb:p});};h.prototype.Cu=function(k,n,p,q){this.kb.Df.push({offset:p,remove:k,replace:n,eb:q});};h.prototype.trim=function(k){this.kb.trim=k;};h.prototype.Bta=function(){this.yU.push(new d(this.kb));};h.prototype.bta=function(){this.kb=this.yU.pop() || new d();};h.prototype.oa=function(){var k,n,p,q,v,u,t;k=this;if(0 === this.kb.Df.length && 0 === this.kb.Ug.length && 0 === this.kb.Rd.length)return [void 0 === this.kb.trim?this.view.buffer:this.view.buffer.slice(0,this.kb.trim)];this.kb.Df.sort(function(w,x){return w.offset - x.offset;});this.kb.Ug.sort(function(w,x){return w.offset - x.offset;});this.Bua();n=this.Ila();p=this.view.buffer.slice(0,n);q=new DataView(p);this.kb.Ug.forEach(h.Qha.bind(void 0,q));this.hxa(q);this.fxa(q);v=[];u=void 0 !== this.kb.trim?Math.min(this.kb.trim,this.view.byteLength):this.view.byteLength;t=0;this.kb.Df.filter(function(w){return w.offset <= u;}).forEach(function(w){w.offset > t && (v.push(q.buffer.slice(t,w.offset)),w.offset > q.byteLength && q !== k.view && (q=k.view,v.push(q.buffer.slice(n,w.offset))));w.replace && v.push(w.replace);t=w.offset + w.remove;});t < n && v.push(p.slice(t));t < u && v.push(this.view.buffer.slice(Math.max(p.byteLength,t),u));return v;};h.prototype.Ila=function(){var k,n,p;k=[];n=this.kb.Ug[this.kb.Ug.length - 1];p=this.kb.Rd[this.kb.Rd.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.kb.Df.filter(function(q){return q.eb;}).forEach(function(q){return k.push(q.eb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.kb.trim?Math.min(n,this.kb.trim):n;};h.prototype.Bua=function(){this.kb.Df=this.kb.Df.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (f.assert(p.eb === n.eb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.hxa=function(k){var n;n=this;this.kb.Rd.forEach(function(p){var q,v,u,t;q=k;v=p.offset;n.kb.Df.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),v=p.offset - w.offset,!0):!1;});u=p.rl + (void 0 !== p.value?p.value:q.getInt32(v));t=n.kb.Df.reduce(function(w,x){return x.offset > p.rl && x.offset < u?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);q.setInt32(v,u - p.rl - t);});};h.prototype.fxa=function(k){this.kb.Df.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.eb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.Gea);b.Fea=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);a(145);f=a(84);r=(function(){function l(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.sn=this.sy=this.offset=0;}l.prototype.Jma=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.tc=function(m){for(;this.sn < m;){this.sy=(this.sy << 8) + this.lb();this.sn+=8;}this.sn-=m;return this.sy >>> this.sn & (1 << m) - 1;};l.prototype.lb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Qc=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.wa=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.UH=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.Csa=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};l.prototype.Sd=function(m,d){m=this.Csa(m,d);this.offset+=8;return m;};l.prototype.Dsa=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};l.prototype.Pta=function(){var m;m=this.Dsa(void 0,void 0);this.offset+=8;return m;};l.prototype.Gl=function(){return f.Wn(this.wa());};l.prototype.tA=function(){var d,g,h,k,n,p;function m(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.wa(!0);g=this.Qc(!0);h=this.Qc(!0);k=this.Qc();n=this.Qc();p=this.wa();return [m(d,4),m(g,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.Mta=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.Kta=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.lb();0 !== g && 0 <= --m;){d.push(g);g=this.lb();}return String.fromCharCode.apply(null,d);};l.prototype.rA=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Eh(this.config.SA && c.Rna || c.jq,1,m,d,g);};l.prototype.Ita=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Eh(this.config.SA && c.Pna || c.kz,2,m,d,g,h);};l.prototype.qA=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Eh(this.config.SA && c.Qna || c.Ot,4,m,d,g,h);};l.prototype.Nta=function(){for(var m=this.lb(),d=m & 127;m & 128;){m=this.lb();d=d << 7 | m & 127;}return d;};l.prototype.Eh=function(m,d,g,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=k || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return l;})();b.Gea=r;},function(r,b,a){var l,m,d,g;function c(h,k,n,p){m.call(this,h,k,n,p);}function f(h,k,n){m.call(this,h,k,n,void 0);}l=a(100);m=a(230).ar;d=a(369);g=a(84).VR;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.Ifa=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Sva[h]:d.Sva[h];};f.prototype.fua=function(h,k,n){return this.oa(h,k,!1,n,void 0);};f.prototype.jua=function(h,k,n){return this.oa(h,k,!0,n,void 0);};f.prototype.oa=function(h,k,n,p,q){var u,t,w,x,y,z,A,B,D,E,F,C,G,J;function v(K){t=u[K];w=t.Jh("traf");if(void 0 === w || void 0 === w.Sj)return !1;A=w.Jh("tfdt");if(void 0 === A)return !1;x=w.Jh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Ua.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!v(h,this.mc.console.trace))return !1;if(x.Ib > y || n && x.Ib === y)break;y-=x.Ib;}}else if((h=n?u.length - 1:0,!v(h,this.mc.console.trace)))return !1;if(n && h < u.length - 1){z=u[h + 1];this.mc.Fe(this.Ixb - z.startOffset,z.startOffset);}else !n && 0 < h && this.mc.Fe(t.startOffset,0);z=w.Jh("tfhd");if(void 0 === z)return !1;A=w.Jh("tfdt");B=x.Ib;D=w.Jh("saiz");E=w.Jh("saio");F=w.Jh(l.iR);C=w.Jh("sbgp");if(!(!D && !E || D && E))return !1;G=w.Jh("sdtp");if(this.Ua.mdat && h < this.Ua.mdat.length)J=this.Ua.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Ib:0);if(x.oa(w,z,J || this.mc,k,y,w.Sj,n))x.Uy && (!n && A && A.oa(x.Qva),D && E && (D.oa(x.Mq,n),E.oa(F?0:D.dI,w.Sj,n)),F && F.oa(x.Mq,n),G && G.oa(x.Mq,B,n),C && C.oa(x.Mq,n));else if(!n){if(h === u.length - 1)return !1;this.mc.Fe(u[h + 1].startOffset - t.startOffset,t.startOffset);}else if(0 === x.Mq)return !1;p && (k=this.Ifa(this.stream.profile,q)) && x.mua(w,z,J,n,p,k);n=this.mc.oa();p=n.reduce(function(K,H){return K + H.byteLength;},0);n={yd:n,length:p,Bn:this.mc.view.byteLength};x.Uy && !J && (n.Fq=w.Sj + x.Fq,n.Ji=x.Ji);return n;};r.exports={cr:f,Qz:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(230);f=a(229);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.oa=function(d){var g,h,k,n;g=this;if(!this.parse().done)return !1;h=this.Ua.moov;if(!h || 0 === h.length)return !1;k=h[0].xl("tenc");if(!k)return !1;n=new Uint8Array(k.dj);d.forEach(function(p){for(var q=p.from,v=!0,u=0;u < q.length;u++){if(n[u] !== q[u]){v=!1;break;}}v && g.mc.Cu(p.from.length,p.to,k.bH);});return f.concat(this.mc.oa());};return m;})(r.ar);b.yJ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Ej || (b.Ej={});r[r.Lb=0]="AUDIO";r[r.Jb=1]="VIDEO";},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.EBa=void 0;r=a(2);c=a(18);f=r.__importStar(a(10));l=r.__importDefault(a(6));m=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(28));g=r.__importDefault(a(792));h=l.default.$q;k=h.u_;n={};p={};a=[d.default.ph.zx,!1];r=[d.default.ph.zx,!0];q=[d.default.ph.VE,!1];v=[d.default.ph.VE,!0];u=[d.default.ph.URL,!0];t=[-1,!1];w=[d.default.ph.VE,!1];n[k.p1b]=q;n[k.UNKNOWN_ERROR]=q;n[k.G4b]=q;n[k.Cdb]=q;n[k.kAa]=q;n[k.Odb]=q;n[k.Gdb]=v;n[k.Ecb]=v;n[k.pza]=w;n[k.nza]=w;n[k.Fcb]=t;n[k.Gcb]=w;n[k.Hcb]=w;n[k.Bcb]=q;n[k.Dcb]=q;n[k.oza]=a;n[k.Ccb]=q;n[k.Acb]=w;n[k.i2b]=v;n[k.Oeb]=w;n[k.BCa]=w;n[k.ACa]=w;n[k.xCa]=w;n[k.yCa]=w;n[k.Neb]=u;n[k.hca]=v;n[k.jca]=u;n[k.ica]=r;n[k.ECa]=v;n[k.Qeb]=u;n[k.M_]=w;n[k.CCa]=v;n[k.Peb]=v;n[k.Jdb]=v;n[k.Ddb]=q;n[k.Hib]=q;n[k.tdb]=q;n[k.udb]=q;n[k.vdb]=q;n[k.wdb]=q;n[k.xdb]=q;n[k.ydb]=q;n[k.zdb]=q;n[k.Adb]=q;n[k.Bdb]=q;n[k.Edb]=q;n[k.Fdb]=q;n[k.Hdb]=q;n[k.Idb]=q;n[k.Kdb]=q;n[k.Ldb]=q;n[k.Mdb]=q;n[k.Ndb]=q;n[k.Pdb]=q;n[k.Qdb]=q;n[k.Gib]=w;n[k.TIMEOUT]=a;p[k.pza]=!0;p[k.BCa]=!0;p[k.ACa]=!0;p[k.yCa]=!0;p[k.kAa]=!0;a=(function(){var D40;function x(y,z,A,B){var E40;E40=2;for(;E40 !== 10;){switch(E40){case 9:var v1g="1SIYbZ";v1g+="rN";v1g+="JCp9";this.Qg=new c.Nh();v1g;E40=7;break;case 2:this.lm=y;this.config=z;this.$Gb=A;this.Jr=B;this.events=new c.EventEmitter();E40=9;break;case 7:var s1g="n";s1g+="etwork";s1g+="Failed";n[k.xCa]=z.QHb?v:w;this.Qg.addListener(this.lm,s1g,this.TGb.bind(this));this.kN=l.default.time.ea();this.yt=0;this.Awa={};this.pta=new g.default(y,B,z);E40=10;break;}}}D40=2;for(;D40 !== 12;){switch(D40){case 2:x.prototype.Kb=function(){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 2:this.Qg.clear();F40=1;break;}}};x.prototype.OD=function(y){var G40;G40=2;for(;G40 !== 1;){switch(G40){case 2:this.r$=y;G40=1;break;}}};x.prototype.fs=function(y,z,A,B){var H40,K,H,L,D,E,F,C,G,J;H40=2;for(;H40 !== 15;){switch(H40){case 6:H40=J !== t?14:15;break;case 13:K=G.n7a(y.url);H40=12;break;case 17:return;break;case 18:var Z1g="Invalid affected";Z1g+=" for ne";Z1g+="twork failure";m.error(Z1g);H40=17;break;case 12:K && (E[K]=[y.url]);H40=11;break;case 20:H40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 11:(H=J[0],L=J[1]);C.wu?f.forEach(E,function(R,I){var I40;I40=2;for(;I40 !== 5;){switch(I40){case 2:var w1g="e";w1g+="r";w1g+="r";w1g+="o";w1g+="r";J === w || J === q?D.pta.jSb({url:void 0 !== y.url?y.url:R[0],Ld:I},{kPa:I,iZ:J,SC:z,ah:A,cVa:F,ij:B}):R.some(function(P){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:G.fs(H,L,P);return H === d.default.ph.VE;break;}}});!D.r$ || 0 !== z && void 0 !== z || (R=void 0 !== y.url?y.url:R[0]) && D.r$.cva(w1g,R);I40=5;break;}}}):f.forEach(E,function(R,I){var K40;K40=2;for(;K40 !== 5;){switch(K40){case 2:K40=J !== w || D.fUb(I)?1:5;break;case 1:var O1g="er";O1g+="r";O1g+="o";O1g+="r";(R.some(function(P){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:G.fs(H,L,P);return H === d.default.ph.VE;break;}}}),!D.r$ || 0 !== z && void 0 !== z || (R=void 0 !== y.url?y.url:R[0]) && D.r$.cva(O1g,R));K40=5;break;}}});H40=15;break;case 2:var Y1g=" : c";Y1g+="ritical e";Y1g+="rror c";Y1g+="ount = ";var V1g=" ";V1g+="o";V1g+="n";V1g+=" ";var Q1g="Fa";Q1g+="ilu";Q1g+="re";Q1g+=" ";(D=this,E=h.u_.name,F=A?E[A]:void 0);E={};(C=this.config,G=this.lm);m.warn(Q1g + F + V1g + JSON.stringify(y) + Y1g + this.yt);H40=3;break;case 3:H40=A && f.isArray(n[A])?9:16;break;case 14:H40=void 0 !== y.url?13:20;break;case 16:var z1g="Unmapped fai";z1g+="lu";z1g+="re code in JSASE ";z1g+="error director : ";a000.O0g(3);m.error(a000.Z0g(z1g,A));H40=15;break;case 9:var S1g="critical";S1g+="Ne";S1g+="tworkError";var i1g="cr";i1g+="it";i1g+="ic";i1g+="alNetworkError";J=n[A];this.Iz={SC:z,ah:A,cVa:F,ij:B};p[A] && (++this.yt,this.events.emit(i1g,{type:S1g,ah:A}));H40=6;break;case 19:E=G.GVb(y.host,y.port);H40=11;break;}}};x.prototype.fUb=function(y){var M40,z,A,B;M40=2;for(;M40 !== 7;){switch(M40){case 1:M40=B?5:8;break;case 2:(z=l.default.time.ea(),A=this.config,B=this.Awa[y]);M40=1;break;case 5:M40=B.Eo < this.kN?4:3;break;case 4:(B.Eo=z,B.count=1);M40=7;break;case 3:M40=!(B.Eo >= z - A.L$ || B.vA || (B.Eo=z,++B.count,B.count < A.F7))?9:7;break;case 8:this.Awa[y]={Eo:z,count:1};M40=7;break;case 9:return B.vA=!0;break;}}};x.prototype.TGb=function(y){var N40,z,A,B,D,E,F,C;N40=2;for(;N40 !== 7;){switch(N40){case 9:var X3g="t";X3g+="emporary";X3g+="N";X3g+="etworkErro";X3g+="r";var K3g="tempora";K3g+="ryNetwo";K3g+="r";K3g+="kError";y || this.events.emit(K3g,{type:X3g,errorCode:E,httpCode:F,nativeCode:C});B?(this.xO && (clearTimeout(this.xO),this.xO=void 0),this.CRa(),this.pta.reset(),this.$Gb({CJb:y,PPb:E,QPb:F,RPb:C})):this.xO || (this.xO=setTimeout(function(){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:z.xO=void 0;z.K9();O40=5;break;}}},D.yra));N40=7;break;case 4:N40=this.Iz?3:9;break;case 2:var h3g="tempo";h3g+="ra";h3g+="ri";h3g+="l";h3g+="y";var k3g="pe";k3g+="r";k3g+="ma";k3g+="nent";k3g+="ly";var P3g="Ne";P3g+="two";P3g+="rk has ";P3g+="fail";P3g+="ed ";var U3g=" last ";U3g+="suc";U3g+="ce";U3g+="ss was ";var R3g=" ";R3g+="m";R3g+="s ";R3g+="a";R3g+="go";(z=this,A=l.default.time.ea() - this.kN,B=y,D=this.config);a000.Q0g(5);m.warn(a000.Z0g(A,R3g,U3g,P3g,y?k3g:h3g));!y && A > D.xra && (B=!0);N40=4;break;case 3:(E=this.Iz.ah,F=this.Iz.SC,C=this.Iz.ij);N40=9;break;}}};x.prototype.K9=function(){var P40;P40=2;for(;P40 !== 1;){switch(P40){case 2:this.xO || (this.lm.K9(),this.Awa={},this.Jr());P40=1;break;}}};D40=8;break;case 13:return x;break;case 8:x.prototype.eaa=function(y){var Q40,z;Q40=2;for(;Q40 !== 9;){switch(Q40){case 2:var a3g="u";a3g+="pdating";a3g+="LastSu";a3g+="ccessEvent";var T3g="updatingLas";T3g+="tSucce";T3g+="ssEvent";z=this.config;this.kN=Math.max(y.timestamp || l.default.time.ea(),this.kN);this.CRa();z.wu && this.pta.eaa(y);this.events.emit(T3g,{type:a3g});Q40=9;break;}}};x.prototype.dsa=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 4:this.yt=3;R40=6;break;R40=1;break;case 2:this.yt=0;R40=1;break;}}};x.prototype.gk=function(){var S40,y,z,A;S40=2;for(;S40 !== 4;){switch(S40){case 2:var p3g="m";p3g+="s";var L3g="Setting u";L3g+="nd";L3g+="erflow t";L3g+="ime";L3g+="out in ";(y=this,z=this.config,A=z.A7);this.kN=Math.max(l.default.time.ea(),this.kN);!z.aab || this.kZ || z.laa && z.EU && z.$Nb || (m.info(L3g + A + p3g),this.kZ=setTimeout(function(){var T40;T40=2;for(;T40 !== 4;){switch(T40){case 5:y.lm.fs(d.default.ph.zx,!0);T40=4;break;case 2:var q3g="Forcing permanent ne";q3g+="two";q3g+="rk failure after ";var B3g="ms, since underflow with ";B3g+="no ";B3g+="success";a000.O0g(6);m.info(a000.Z0g(A,B3g,q3g));y.kZ=void 0;T40=5;break;}}},A));S40=4;break;}}};x.prototype.CRa=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:var l3g="Clea";l3g+="re";l3g+="d ";l3g+="underflow timeou";l3g+="t";this.kZ && (clearTimeout(this.kZ),this.kZ=void 0,m.info(l3g));U40=1;break;}}};D40=13;break;}}})();b.EBa=a;},function(r,b,a){var f,l,m;function c(d,g,h){this.tS=d;this.lF=0 === Math.floor(1E6 * Math.random()) % h.RH;this.groupId=1;this.config=h;this.Yy={};this.HD={};this.Jr=g;}f=a(10);l=a(6).default;new l.Console("ASEJS_PROBE_MANAGER","asejs");m=a(793).sya;c.prototype.constructor=c;c.prototype.jSb=function(d,g){var h,k,n,p,q,v,u,t,w,x,y;h=this.tS;k=d.Ld;n=h.T8a(d.url);p=h.s7(d.url);q=this.config;v=l.time.ea();u=g;t=[];w=n.Fo[0];x=!1;y=this.Yy[k];if(!y)y=this.Yy[k]={count:0,Eo:v,vA:!1,error:g,lva:[],rta:{}};else if(y.Eo >= v - q.L$)return;y.vA || (w && p.id === w.id && (d.isPrimary=!0),y.Eo=v,y.vA=!1,y.error=g,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(z){var A,B,D;A=z.wd.id;B=A + "-" + k;D=this.HD[B];if(void 0 === D || void 0 === D.q9)(D && D.Wo && clearTimeout(D.Wo),z=this.ESa(z.url,d,A),this.HD[B]={$:!1,count:0,q9:z.ci()},t.push(z.ci()),x=!0);-1 === y.lva.indexOf(A) && y.lva.push(A);},this),this.lF && 0 < t.length && (n={type:"logdata",target:"endplay",fields:{}},g=u,u={ts:l.time.ea(),es:g.kPa,fc:g.ah,fn:g.cVa,nc:g.ij,pb:t,gid:this.groupId},g.SC && (u.hc=g.SC),n.fields.errpb={type:"array",value:u,adjust:["ts"]},h.wn(n)),x && this.groupId++));};c.prototype.ESa=function(d,g,h){var k,n,p;k=this.tS.s7(g.url);k && k.ub && k.ub.Vt && k.ub.Vt.Fa || Math.random(0,1);k=new m(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);k.KPb(1 < n.length?d + "&" + p:d + "?" + p,g,h);return k;};c.prototype.kSb=function(d,g){var h,k,n,p,q,v,u,t;h=this.tS;k=this.config;n=g.Ld;p=this.Yy[n];q=d.url;v=this.HD[d.Ld + "-" + n];if(p){u=p.error;if(v){v && v.Wo && clearTimeout(v.Wo);v.$=!0;v.count=0;v.q9=void 0;p.rta[d.Ld]=!0;(v=this.Yy[d.Ld]) && !0 === v.vA && k.ly && (h.E6a(d.Ld,v.error.iZ[1]),this.lF && (v={type:"logdata",target:"endplay",fields:{}},v.fields.errst={type:"array",value:{ts:l.time.ea(),id:d.requestId,servid:g.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.wn(v)),this.Yy[d.Ld]=void 0,this.Jr());if(q !== g.url){t=this.HD[n + "-" + n];t && t.$ || (n=(n=h.s7(q)) && n.ub && n.ub.Vt && n.ub.Vt.Fa || Math.random(0,1) * k.B7,n=Math.min(n,k.B7),setTimeout((function(){var w;if(!(!1 !== p.vA || t && t.$) && (p.vA=!0,h.fs(u.iZ[0],u.iZ[1],g.url,u),this.lF)){w={type:"logdata",target:"endplay",fields:{}};w.fields.erep={type:"array",value:{ts:l.time.ea(),id:d.requestId,servid:g.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.wn(w);}}).bind(this),n));}this.lF && (v={type:"logdata",target:"endplay",fields:{}},v.fields.pbres={type:"array",value:{ts:l.time.ea(),id:d.requestId,result:1,servid:d.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.wn(v));}}};c.prototype.hSb=function(d,g){var h,k,n,p,q,v,u,t,w,x;h=this.tS;k=parseInt(g.Ld,10);n=this.Yy[k];p=parseInt(d.Ld,10);q=this.HD[p + "-" + k];v=0;u=this.config;if(q && n){q.$=!1;q.q9=void 0;n.rta[p]=!1;t=n.lva;if(u.ly && p === k && g.isPrimary){w=h.s7(g.url);w=w && w.ub && w.ub.Vt && w.ub.Vt.Fa || 300 * Math.random(0,1);w*=Math.pow(2,q.count);w=Math.min(w,12E4);w+=Math.random(0,1) * (1E4 > w?100:1E4);q.Wo=setTimeout((function(){var y;q.Wo=void 0;y=this.ESa(d.url,g,p);y.ZVb(d.groupId);q.q9=y.ci();}).bind(this),w);}++q.count;if(p === k && (v=0,t.forEach(function(y){!1 === n.rta[y] && v++;}),t.length === v && n.count >= u.F7)){x=n.error;n.vA=!0;f.forEach(h.T8a(g.url).urls,function(y){var z;h.fs(x.iZ[0],x.iZ[1],y.url,x);if(this.lF){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:l.time.ea(),id:-1,servid:y.wd.id},adjust:["ts"]};h.wn(z);}},this);}this.lF && (k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.ea(),id:d.requestId,result:0,servid:d.Ld,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.wn(k));}};c.prototype.eaa=function(d){var g,h,k;g=d.url || d.mediaRequest.url;if(g){d=this.tS;g=d.n7a(g);h=this.Yy[g];k=this.HD[g + "-" + g];h && h.vA && this.config.ly && (d.E6a(h.error.kPa,!1),this.lF && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:l.time.ea(),id:-1,servid:g},adjust:["ts"]},d.wn(h)),this.Yy[g]=void 0,k && k.Wo && clearTimeout(k.Wo));}};c.prototype.reset=function(){var d,g,h;d=this.HD;for(h in d){d.hasOwnProperty(h) && (g=d[h + "-" + h]) && g.Wo && clearTimeout(g.Wo);}this.HD={};this.Yy={};};r.exports=c;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sya=void 0;c=a(2);f=a(18);l=c.__importDefault(a(6)).default.gv;r=(function(m){function d(g){var h;h=m.call(this) || this;h.NNa=g;h.A1=g.groupId;h.ti=new f.Nh();h.ti.on(h,l.Je.hR,h.qga);h.ti.on(h,l.Je.NE,h.xS);return h;}c.__extends(d,m);d.prototype.KPb=function(g,h,k){l.prototype.open.call(this,g,h,k);};d.prototype.ZVb=function(g){this.A1=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.A1;},enumerable:!1,configurable:!0}});d.prototype.Zc=function(){this.ti && this.ti.clear();l.prototype.Zc.call(this);};d.prototype.qga=function(g){this.NNa.kSb(g.probed,g.affected);this.Zc();};d.prototype.xS=function(g){this.NNa.hSb(g.probed,g.affected);this.Zc();};return d;})(l);b.sya=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ICa=void 0;c=a(2);f=a(141);l=a(373);m=a(16);d=c.__importDefault(a(6));r=a(83);g=a(376);h=a(5);k=a(123);a=(function(n){function p(q,v,u,t,w,x,y,z,A,B,D){var E;E=n.call(this,q) || this;E.ee=q;E.H=v;E.I=u;E.wn=t;E.HC=x;E.J6=y;E.sv=z;E.dOa=A;E.bh=B;E.YMa=[void 0,void 0];E.eha=[];E.jS=null !== D && void 0 !== D?D:{tv:[Object.create(null),Object.create(null)]};w?E.pV=w:(E.Be=k.fp.instance.xt("headers","" + E.ee.Z,!0,!1,{},E.I),E.Be.xb());return E;}c.__extends(p,n);Object.defineProperties(p.prototype,{tv:{get:function(){return this.jS.tv;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{DB:{get:function(){return this.jS.DB;},set:function(q){this.jS.DB=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nK:{get:function(){return this.jS.nK;},set:function(q){this.jS.nK=q;},enumerable:!1,configurable:!0}});p.prototype.Zc=function(){var q;q=this;this.tv.forEach(function(v,u){for(var t in v){v[t].Zc();q.Fka(u,t);}});this.Be && k.fp.instance.QL(this.Be);this.Be=void 0;};p.prototype.Nk=function(q,v){return this.tv[q][v];};p.prototype.V5=function(){return !(!this.DB || !this.DB.length);};p.prototype.sja=function(){this.DB=void 0;};p.prototype.LO=function(q){this.DB=q;};p.prototype.Twa=function(){var q,v;if(!this.V5() || this.nK)return !1;for(f.Cm.hq(1);0 < this.DB.length;){q=this.DB.shift();v=this.ee.dw(1,q);if(v && !this.hHb(q) && v.$t)return (this.nK=q,this.baa(v,{offset:0,WO:!0}));}return !1;};p.prototype.mxa=function(q,v){var u;u=this;v.forEach(function(t){var w;w=u.Nk(q,t.Pa);w && !t.ie && (w.stream.ie?t.B3(w.stream):(w.dX || (w.dX=[]),w.dX.push(u.ee)));});};p.prototype.uO=function(q,v,u){var t,w,x;t=this;x=this.ee;m.uf.forEach(function(y){var z,A,B,D,E;if(x.ec(y) && (void 0 === u || y === u)){D=q[y];h.assert(D && x.getTrackById(D.trackId) === D);D=D.$d;if(x.ak)t.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.lm.nZ(x.Z,D)){E=null !== (B=null === (A=null === (z=t.HC(y)) || void 0 === z?void 0:z.gH) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=g.Mla(D,E);void 0 === z && t.H.warn("Unable to find stream for bitrate " + E);z=D[z];(A=x.Nk(y,z.Pa)) && A.stream.W?x.o_b(y,A):(y={offset:0,WO:!1,xC:1 === y,Xv:!0,DN:!t.J6(x)},x.ySa(z,y,v));}else t.H.warn("requestHeadersFromManifest, unable to update urls");}});x.c6=!0;null === (w=this.bh) || void 0 === w?void 0:w.call(this,x.Mb).h3();};p.prototype.bE=function(q,v){var u,t,w,x;u=this.I;t=this.Nk(q.mediaType,q.Pa);if(t)return (t.stream.W || t.WO && this.zRa(t),!1);t=this.Mlb;w=this.Nlb;if(void 0 !== u.nra && void 0 !== t && void 0 !== w){x=d.default.time.ea();if(x - t < u.nra || x - w < u.nra)return !1;}q=this.baa(q,{url:q.url,offset:0},void 0,void 0,v);this.Nlb=d.default.time.ea();return q;};p.prototype.baa=function(q,v,u,t,w){var x,y,z,A,B;A=q.mediaType;f.Cm.hq(A);B=q.Pa;if(this.hkb(B,! !v.Xv))return (null === (x=this.dOa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Nk(A,B))q=!1;else {x=c.__assign(c.__assign({},v),{fa:null !== (y=v.fa) && void 0 !== y?y:this.Skb(q)});y=! !x.xC;B=! !x.DN;this.pV?w=this.pV(A,! !x.Xv,y,B,! !u):w || (w=this.Be);h.assert(w);q.url && (this.HC(A).Spa=q.url);x=q=this.aMa(q,w,x);if(!q.QN())return (this.ee.Fh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}v.Xv && t && (this.ee.eh[A]=x);null === (z=this.dOa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.Am=function(){var q,v;q=this;v=[];this.tv.forEach(function(u,t){var x;f.Cm.hq(t);for(var w in u){t=u[w];x=t.nxa();1 === x?v.push(t):2 === x && q.ee.Fh("swapUrl failure");}});return v;};p.prototype.hk=function(q){var v,u;v=q.mediaType;u=f.Cm.hq(v);this.ee.ak?u.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.wn({type:"logdata",target:"startplay",cc:{usedNativeDataView:q.k0b}}),q.jX > q.NPb && (this.YMa[v]=q.jX),q.WO && this.zRa(q),this.qlb(q),this.Mlb=d.default.time.ea(),this.ee.Tt.emit("onHeaderRequestComplete",q));this.Jt(q);};p.prototype.y2=function(q,v,u){var t;t=q.mediaType;f.Cm.hq(t);t=this.ee.dw(t,q.Pa);if(v !== ! !q.Jk)return !1;this.POa(q);q.Upb(t);this.HLa(q);this.ee.Tt.emit("onHeaderFromCache",{header:q,hCb:u});return !0;};p.prototype.XK=function(q,v){var u,t,w,x;u=[];t=this.tv[q];for(w in t){x=t[w];x && !x.stream.W && x.No === v && (this.Fka(q,w),u.push({stream:x.stream,offset:x.offset,fa:x.fa,xC:x.xC,Xv:x.Xv,DN:x.DN,xsa:x.xsa}),x.Zc());}return u;};p.prototype.Eua=function(q){var v;v=this;q.forEach(function(u){v.baa(u.stream,u);});};p.prototype.POa=function(q){this.tv[q.mediaType][q.Pa]=q;};p.prototype.hHb=function(q){return ! !this.Nk(1,q);};p.prototype.qlb=function(q){var v,u,t,w,y;v=this.I;u=f.Cm.hq(q.mediaType);t=q.stream.W;if(v.oka){w=t.length;u.trace("fragment count:",w);for(var x=0;x < w;++x){y=t.get(x);u.trace("fragment: " + x + ", startPts: " + y.Y + ", duration: " + y.duration + ", offset: " + y.offset);}}this.HLa(q);if(v.iA && v.iA.enabled && void 0 === t.Rq && v.iA.simulatedFallback){w=t.length;v=[];for(x=0;x < w;++x){v[x]=Math.max(0,q.stream.Eb + this.Enb(x));}t.yWb(v);}};p.prototype.HLa=function(q){var v,u;v=q.mediaType;u=q.Pa;f.Cm.hq(v);q.dX && (q.dX.forEach(function(t){(t=t.dw(v,u)) && t !== q.stream && !t.ie && t.B3(q.stream);}),q.dX=void 0);this.ee.QGb(q);};p.prototype.aMa=function(q,v,u){var t,w;t=this;w=f.Cm.hq(q.mediaType);q=new l.eba(q,this.I,v,u,this,!1,w);q.addListener("headerRequestCancelled",function(x){t.plb(x.request);});q.xb(void 0);this.POa(q);return q;};p.prototype.hkb=function(q,v){return this.sv && (q=this.sv.iW(this.ee.J,q)) && this.y2(q,!1,v)?!0:!1;};p.prototype.Skb=function(q){var v,u,t,w;v=q.rs;u=q.O;t=u.duration;w=this.I;return u.qf.Og?w.eVa?w.eVa:w.b6:w.h0b && v?v.offset + v.size:(q=this.YMa[q.mediaType])?q + 128:w.tla?2292 + 12 * Math.ceil(t / 2E3):w.b6;};p.prototype.plb=function(q){this.Fka(q.mediaType,q.Pa);};p.prototype.Fka=function(q,v){delete this.tv[q][v];};p.prototype.zRa=function(q){this.nK === q.Pa && (this.nK=void 0);};p.prototype.Enb=function(q){var v;v=this.I.iA.fallbackBound;void 0 === this.eha[q] && (this.eha[q]=Math.floor(2 * Math.random() * v) - v);return this.eha[q];};return p;})(r.Su);b.ICa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iJa=void 0;c=a(2);f=a(18);r=(function(l){function m(d,g,h,k){var n;n=l.call(this) || this;n.H=d;n.track=g;n.oo=!1;n.Qfa=!1;n.Qg=new f.Nh();n.Qg.on(g,"networkfailing",function(){n.emit("networkfailing");});n.Qg.on(g,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(h)(n.oo=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Qg.on(g,"created",function(){n.oo=!0;n.emit("created");});n.Qfa=k;return n;}c.__extends(m,l);Object.defineProperties(m.prototype,{D4:{get:function(){return this.track.D4;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ah:{get:function(){return this.track.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ij:{get:function(){return this.track.ij;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{LU:{get:function(){return this.track.LU;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.xb=function(){var d,g;this.Qfa || (null === (g=(d=this.track).xb) || void 0 === g?void 0:g.call(d),this.Qfa=!0);};m.prototype.Zt=function(){return this.track.Zt();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.Tp=function(){this.Qg.clear();};return m;})(f.EventEmitter);b.iJa=r;},function(r,b,a){var g,h,k,n,p,q,v;function c(u){var t,w,x;u=u.parent;t=!1;if(u && u.children){w={};w[q.Ml]=[];w[q.kl]=[];w[q.TEMPORARY]=[];x=u.children;x.forEach(function(y){y && w[y.cf].push(y);});0 < w[q.Ml].length || (w[q.kl].length === x.length?u.cf !== q.kl && (u.cf=q.kl,p.error("PERM failing :",k.default.ph.name[u.cn] + " " + u.id),t=!0):(u.cf === q.Ml && (u.cf=q.TEMPORARY,p.error("TEMP failing :",k.default.ph.name[u.cn] + " " + u.id),t=!0),w[q.TEMPORARY].forEach(function(y){y.cf=q.Ml;})),t && c(u));}}function f(u){var t;if((u=u.parent) && 0 < u.children.length && u.cf !== q.Ml){t={};t[q.Ml]=[];t[q.kl]=[];t[q.TEMPORARY]=[];u.children.forEach(function(w){w && t[w.cf].push(w);});0 < t[q.Ml].length && (u.cf=q.Ml,f(u));}}function l(u){return u.cf !== q.Ml;}function m(u){switch(u.cf){case q.Ml:return "OK";case q.kl:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,t){if(u.cf === q.TEMPORARY || u.cf === q.kl && t)u.cf=q.Ml;u.children && u.children.forEach(function(w){w && d(w,t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Cca=void 0;g=a(2);h=g.__importStar(a(10));r=a(18);k=g.__importDefault(a(28));n=g.__importDefault(a(6));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.Ml=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.kl=2]="PERMANENT";})(q || (q={}));(function(u){u[u.Fx=0]="STARTUP";u[u.pib=1]="REBUFFER";})(v || (v={}));a=(function(u){var V40;V40=2;for(;V40 !== 26;){switch(V40){case 12:t.prototype.K9=function(){var y50;y50=2;for(;y50 !== 1;){switch(y50){case 2:d(this.Jo,!1);y50=1;break;}}};t.prototype.wn=function(w){var z50,x;z50=2;for(;z50 !== 5;){switch(z50){case 2:null === (x=this.Emb) || void 0 === x?void 0:x.call(this,w);z50=5;break;}}};t.prototype.gk=function(){var A50;A50=2;for(;A50 !== 1;){switch(A50){case 2:this.jUb(v.pib);A50=1;break;}}};t.prototype.Kb=function(){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:this.config.sLb && this.JQb();B50=1;break;}}};t.prototype.c5a=function(w){var C50,x;C50=2;for(;C50 !== 5;){switch(C50){case 2:x=this;w.streams.forEach(function(y){var D50,z,A,B;D50=2;for(;D50 !== 6;){switch(D50){case 2:(z=y.downloadable_id,A=x.streams[z]);D50=1;break;case 1:D50=h.ha(A)?5:9;break;case 5:var t3g="n";t3g+="o";t3g+="ne-";B=y.content_profile;A={id:z,bitrate:y.bitrate,Eb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(t3g),Yt:!0,urls:[],pZ:{},Fo:[]};D50=3;break;case 3:x.streams[A.id]=A;D50=9;break;case 9:y.urls.forEach(function(D){var E50,E,F,C;E50=2;for(;E50 !== 13;){switch(E50){case 2:(E=D.url,F=x.urls[E]);E50=1;break;case 1:E50=h.ha(F) && (D=x.Qo[D.cdn_id])?5:13;break;case 5:C=D.location;F={id:E,cn:k.default.ph.URL,cf:q.Ml,Ew:void 0,parent:D,children:[],url:E,wd:D,stream:A};x.urls[E]=F;D.children.push(F);E50=8;break;case 8:A.urls.push(F);0 === A.Fo.filter(function(G){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:return G.id === C.id;break;case 4:return G.id !== C.id;break;F50=1;break;}}}).length && A.Fo.push(C);C.streams[A.id]=A;(E=A.pZ[C.id])?E.push(F):A.pZ[C.id]=[F];E50=13;break;}}});D50=8;break;case 8:h.kf(A.pZ,function(D){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:D.sort(function(E,F){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:return E.wd.Zd - F.wd.Zd;break;}}});G50=1;break;}}});A.Fo=A.Fo.sort(function(D,E){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return D.level - E.level || D.Zd - E.Zd;break;}}});D50=6;break;}}});C50=5;break;}}};t.prototype.t_b=function(){var J50,w,x,y,z;J50=2;for(;J50 !== 13;){switch(J50){case 2:(w=this,x=this.config,y=this.bA.filter(function(A){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 4:return -l(A) || 3 == A.level;break;K50=1;break;case 2:return !l(A) && 0 !== A.level;break;}}}));J50=1;break;case 1:J50=0 === y.length?5:4;break;case 8:x=this.GO;y.sort(function(A,B){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:return A.level - B.level || A.Zd - B.Zd;break;}}});this.Lz || h.Cb(x) || (this.Lz=!0);return y;break;case 4:z=n.default.time.ea();J50=3;break;case 3:J50=null === this.K1 || this.K1 + x.aqa < z?9:8;break;case 5:return null;break;case 9:(y.forEach(function(A){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:A.id !== w.Pb.location && (A.ub=w.Bh.get(A.id));L50=1;break;}}}),this.K1=z);J50=8;break;}}};t.prototype.jUb=function(w){var N50,x;N50=2;for(;N50 !== 3;){switch(N50){case 2:x=this.Pb.location;this.Lz=!1;this.nSb=w;this.bA.forEach(function(y){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:y.id !== x && y.ub && y.ub.confidence > k.default.Hf.hB && (y.ub.confidence=k.default.Hf.hB);O50=1;break;}}});N50=3;break;}}};V40=16;break;case 2:g.__extends(t,u);t.prototype.eGb=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 2:return this.bA[0].ub;break;case 4:return this.bA[1].ub;break;X40=1;break;}}};t.prototype.Et=function(){var Y40;Y40=2;for(;Y40 !== 1;){switch(Y40){case 2:return l(this.Jo);break;}}};t.prototype.n7a=function(w){var Z40;Z40=2;for(;Z40 !== 5;){switch(Z40){case 2:Z40=(w=this.urls[w]) && w.parent?1:5;break;case 1:return w.parent.id;break;}}};t.prototype.s7=function(w){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 2:a50=(w=this.urls[w]) && w.wd?1:5;break;case 1:return w.wd.location;break;}}};V40=9;break;case 9:t.prototype.T8a=function(w){var b50;b50=2;for(;b50 !== 5;){switch(b50){case 2:b50=(w=this.urls[w])?1:5;break;case 3:b50=(w=this.urls[w])?8:1;break;b50=(w=this.urls[w])?1:5;break;case 1:return w.stream;break;case 9:return w.stream;break;b50=5;break;}}};t.prototype.$K=function(w){var c50,x;c50=2;for(;c50 !== 11;){switch(c50){case 6:w.forEach(function(y){var l50;l50=2;for(;l50 !== 1;){switch(l50){case 2:y.Qo.sort(function(z,A){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 2:return z.Zd - A.Zd;break;case 4:return z.Zd % A.Zd;break;m50=1;break;}}});l50=1;break;}}});this.bA=w;this.Jo.children=w;this.dump();c50=11;break;case 2:x=this;w.locations.forEach(function(y){var d50,A,B,D,z;d50=2;for(;d50 !== 8;){switch(d50){case 9:D.children.push(y);d50=8;break;case 5:(A=[],B=x.Bh.get(z),D=x.Jo);y={id:z,cn:k.default.ph.LOCATION,cf:q.Ml,Zd:y.rank,level:y.level,weight:y.weight,Ew:void 0,parent:D,children:A,Qo:A,streams:{},ub:B};x.Fo[y.id]=y;d50=9;break;case 2:z=y.key;d50=1;break;case 1:d50=!x.Fo[z]?5:8;break;}}});c50=5;break;case 5:this.K1=n.default.time.ea();this.bA.sort(function(y,z){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return y.level - z.level || y.Zd - z.Zd;break;}}});w.servers.forEach(function(y){var f50,z,A,B;f50=2;for(;f50 !== 6;){switch(f50){case 2:z=y.id;f50=1;break;case 5:A=x.Fo[y.key];f50=4;break;case 1:f50=!x.Qo[z]?5:6;break;case 4:f50=A?3:6;break;case 3:B=[];y={id:z,cn:k.default.ph.VE,cf:q.Ml,Ew:void 0,parent:A,children:B,urls:B,name:y.name,type:y.type,Zd:y.rank,location:A};x.Qo[y.id]=y;A.children.push(y);f50=6;break;}}});w.audio_tracks.forEach(function(y){var g50;g50=2;for(;g50 !== 1;){switch(g50){case 2:x.c5a(y);g50=1;break;}}});w.video_tracks.forEach(function(y){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:x.c5a(y);h50=1;break;}}});w=this.bA.filter(function(y){var i50,z;i50=2;for(;i50 !== 4;){switch(i50){case 2:z=y.Qo.every(function(A){var j50;j50=2;for(;j50 !== 1;){switch(j50){case 4:return 9 == A.urls.length;break;j50=1;break;case 2:return 0 === A.urls.length;break;}}});z && (y.Qo.forEach(function(A){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:x.Qo[A.id]=void 0;k50=1;break;}}}),x.Fo[y.id]=void 0,y.parent=void 0,y.children.length=0,y.streams={});return !z;break;}}});c50=6;break;}}};t.prototype.nZ=function(w,x){var n50,D,y,z,A,B,E;n50=2;for(;n50 !== 19;){switch(n50){case 3:D=k.default.Hf.hB;z.IW && (D=k.default.Hf.ox);this.Pb.location && A.confidence >= D && (w=this.Fo[this.Pb.location]) && (w.ub=A);h.Cb(this.FO) && (this.FO=this.t_b());n50=6;break;case 2:(y=this,z=this.config,A=this.Pb.get(),B=0);n.default.ut && n.default.ut(w);n50=5;break;case 5:n50=l(this.Jo)?4:3;break;case 6:n50=!this.FO?14:13;break;case 4:return !1;break;case 14:return (this.fs(k.default.ph.zx,!1),!1);break;case 12:n50=!E.length?11:10;break;case 11:return (this.fs(k.default.ph.zx,!1),!1);break;case 13:E=this.FO;n50=12;break;case 10:var b3g="(";b3g+="e";b3g+="mpty str";b3g+="eam list)";var A3g="Did n";A3g+="ot";A3g+=" find ";A3g+="a URL for ANY stream...";var r3g="net";r3g+="workFail";r3g+="ed";var d3g="Network has failed, ";d3g+="not upda";d3g+="ting st";d3g+="ream selection";x.forEach(function(F,C){var o50,G;o50=2;for(;o50 !== 5;){switch(o50){case 2:var c3g=" ";c3g+="K";c3g+="bp";c3g+="s)";var m3g=" ";m3g+="(";var C3g="]";C3g+=" ";var N3g="Fail";N3g+="ing ";N3g+="stream";N3g+=" ";N3g+="[";G=F.id;E.some(function(J){var q50,K,H;q50=2;for(;q50 !== 8;){switch(q50){case 1:q50=!K?5:4;break;case 2:K=J.streams[G];q50=1;break;case 5:return !1;break;case 4:H=K.Fo[0];void 0 === F.p9 && (F.p9=H.id,F.ota=K.pZ[H.id][0].wd.id);q50=9;break;case 9:return K.pZ[J.id].some(function(L){var r50,R;r50=2;for(;r50 !== 12;){switch(r50){case 1:return (L.wd.cf === q.TEMPORARY && (F.cf=q.TEMPORARY),z.wu && F.wd === L.wd.id && L.wd.Ew && (F.Ew=L.wd.Ew),!1);break;case 4:return !1;break;case 5:r50=l(L)?4:3;break;case 3:var g3g="lo";g3g+="cationf";g3g+="ai";g3g+="lo";g3g+="ver";var D3g="se";D3g+="rverfail";D3g+="over";var j3g="per";j3g+="f";j3g+="o";j3g+="rmance";var n3g="unk";n3g+="n";n3g+="ow";n3g+="n";R=n3g;F.location !== J.id && (z.wu?F.zpa=J.id === H.id:R=J !== E[0]?"" + k.default.UE.mba:void 0 === F.location?"" + k.default.UE.Fx:h.ha(F.f0a) || F.f0a === J.id?h.ha(F.i0a) || F.i0a === L.wd.id?j3g:D3g:g3g,F.location=J.id,F.bqa=J.level,F.ns=R);F.url=L.url;F.wd=L.wd.id;r50=6;break;case 6:F.mI=L.wd.name;F.ub=z.uia?J.ub.confidence >= k.default.Hf.ox || A.confidence < D?J.ub:A:A.confidence === k.default.Hf.HAVE_NOTHING || J.ub.confidence >= k.default.Hf.ox?J.ub:A;r50=13;break;case 2:r50=l(L.wd)?1:5;break;case 13:return !0;break;}}});break;}}})?(F.pz=!1,F.cf=void 0,F.Yt && ++B):F.cf && F.cf === q.TEMPORARY?y.Jo.cf=q.TEMPORARY:F.pz || (p.warn(N3g + C + C3g + G + m3g + F.bitrate + c3g),F.Otb(),F.pz=!0);o50=5;break;}}});return l(this.Jo)?(p.warn(d3g),this.n8=!0,this.emit(r3g,this.Jo.cf === q.kl),!1):B?!0:(p.warn(A3g + (x.length?"":b3g)),this.fs(k.default.ph.zx,!0),!1);break;}}};t.prototype.GVb=function(w,x){var s50,y,z;s50=2;for(;s50 !== 4;){switch(s50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var t50,F,C,D,E;t50=2;for(;t50 !== 7;){switch(t50){case 9:var M3g="8";M3g+="0";var o3g="4";o3g+="4";o3g+="3";E.length || (E=F?o3g:M3g);h.Oe(C) && h.Oe(E) && C === w && E == x && (D?D.push(B):y[A]=[B]);t50=7;break;case 4:(F="s" === E[1],C=E[2]);E=E[3];t50=9;break;case 5:t50=E && 4 === E.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(D=y[A],E=B.match(z));t50=5;break;}}});return y;break;}}};t.prototype.fs=function(w,x,y,z){var u50,A,B,D,F,w50,v50,C,E;u50=2;for(;u50 !== 42;){switch(u50){case 18:u50=v50 === k.default.ph.LOCATION?17:16;break;case 16:u50=v50 === k.default.ph.URL?15:19;break;case 24:A.cf=D;c(A);this.n8=this.n8 || l(this.Jo);D=this.Jo.cf;u50=35;break;case 27:var f3g=" : ";f3g+="w";f3g+="as";f3g+=" ";E.call(y,w + (x.length?"/" + x.join("/"):"") + f3g + m(A));u50=26;break;case 29:u50=w50 === q.Ml?24:28;break;case 35:var G3g="n";G3g+="etw";G3g+="orkFaile";G3g+="d";var I3g="E";I3g+="mitting networkFa";I3g+="iled,";I3g+=" ";I3g+="permanent =";D > B && (p.warn(I3g,D === q.kl),this.emit(G3g,D === q.kl));this.FO=null;this.GO=k.default.UE.Gf;z && (this.GO=k.default.UE.Vhb,A.Ew=z);this.dump();u50=42;break;case 17:x.unshift(F.id);u50=19;break;case 30:u50=w50 === q.TEMPORARY?24:29;break;case 3:u50=D !== A.cf?9:42;break;case 15:var e3g="<";e3g+="ur";e3g+="l";e3g+=" ";e3g+="for ";x.unshift(e3g + F.stream.bitrate + ">");u50=19;break;case 1:u50=A && A.parent && A.cn !== w?5:4;break;case 20:x.unshift(C.id + "(" + C.name + ")");u50=19;break;case 19:F=F.parent;u50=12;break;case 2:(A=w !== k.default.ph.zx && y?this.urls[y]:this.Jo,B=this.Jo.cf,D=x?q.kl:q.TEMPORARY);u50=1;break;case 43:var F3g="U";F3g+="nable";F3g+=" to fin";F3g+="d failure entity for URL ";a000.Q0g(3);p.warn(a000.Z0g(F3g,y));u50=42;break;case 12:u50=F?11:27;break;case 25:return;break;case 5:A=A.parent;u50=1;break;case 14:u50=13;break;case 26:w50=A.cf;u50=w50 === q.kl?25:30;break;case 11:v50=F.cn;u50=v50 === k.default.ph.VE?10:18;break;case 4:u50=A?3:43;break;case 28:u50=44;break;case 13:F=A;u50=12;break;case 10:C=F;u50=20;break;case 9:var x3g=" ";x3g+="at";x3g+=" ";var W3g=" failure";W3g+=" report";W3g+="ed fo";W3g+="r ";var H3g="T";H3g+="E";H3g+="M";H3g+="P";var E3g="P";E3g+="E";E3g+="R";E3g+="M";y=p;E=y.warn;w=(x?E3g:H3g) + W3g + k.default.ph.name[w] + x3g;x=[];u50=14;break;case 44:var J3g="In";J3g+="valid failure s";J3g+="ta";J3g+="t";J3g+="e";throw Error(J3g);u50=24;break;}}};t.prototype.E6a=function(w,x){var x50;x50=2;for(;x50 !== 3;){switch(x50){case 1:(d(w,x),f(w));x50=5;break;case 2:x50=(w=this.Qo[w])?1:5;break;case 7:(d(w,x),f(w));x50=8;break;x50=5;break;case 8:x50=(w=this.Qo[w])?2:4;break;x50=(w=this.Qo[w])?1:5;break;case 5:this.FO=null;this.GO=k.default.UE.pda;x50=3;break;}}};V40=12;break;case 27:return t;break;case 16:t.prototype.JQb=function(){var P50,w;P50=2;for(;P50 !== 5;){switch(P50){case 2:w=this;this.n8 || this.bA.forEach(function(x){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:x.cf === q.TEMPORARY && w.Bh.fail(x.id,n.default.time.ea());Q50=1;break;}}});P50=5;break;}}};t.prototype.dump=function(){};V40=27;break;}}function t(w,x,y,z,A){var W40,B;W40=2;for(;W40 !== 27;){switch(W40){case 3:B.Emb=A;B.nSb=v.Fx;B.Lz=void 0;B.Fo={};W40=6;break;case 6:B.Qo={};B.urls={};W40=13;break;case 2:B=u.call(this) || this;B.Pb=x;B.Bh=y;B.config=z;W40=3;break;case 13:B.streams={};B.bA=[];W40=11;break;case 11:var y3g="n";y3g+="e";y3g+="two";y3g+="rk";B.n8=!1;B.Jo={id:y3g,cn:k.default.ph.zx,cf:q.Ml,Ew:void 0,parent:void 0,children:B.bA};B.K1=null;B.FO=null;W40=18;break;case 18:var u3g="1SI";u3g+="Y";u3g+="bZrNJCp9";B.GO=k.default.UE.Fx;B.$K(w);u3g;return B;break;}}}})(r.EventEmitter);b.Cca=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;c=a(21);f=a(5);l=a(377);m=a(798);d=a(799);g=a(800);h=a(801);k=a(802);n=a(803);r=(function(){function p(q,v,u,t){this.config=q;this.mediaType=v;this.dc=u;this.console=t;}p.prototype.append=function(q,v){var u,t,w,x;t=v.endOfStream;w=v.O7;x=v.LW;void 0 === this.track?this.ZM(q.stream):this.track !== q.stream.track && (f.assert(this.track.qa),f.assert(q.stream.track.qa),f.assert(1 === this.mediaType || this.track.qa.equal(q.stream.track.qa)),this.track=q.stream.track);f.assert(void 0 !== this.qt);v={yd:q,offset:null !== (u=q.t9) && void 0 !== u?u:c.S.bb,Qe:this.config.U9};v=this.qt.reduce(function(y,z){return z.append(y,{endOfStream:t,O7:w,LW:x});},v);u=v.yd;v=v.offset;u.oa && q.Ih(u.oa);return v;};p.prototype.reset=function(){this.qt=this.track=void 0;};p.prototype.ZM=function(q){var v,u;this.track=q.track;this.qt=[];if(0 === this.mediaType){this.config.U9 && this.qt.push(new d.wJa(this.config,q.track,this.console));u=this.j3(q);u.equal(c.S.bb)?this.config.Dk && q.ue && this.B6(q.O.Z) && this.qt.push(new k.FDa(this.config)):this.qt.push(new l.p0(u));this.config.N7 || (this.console.log("MediaSplicer: NegativePtsGuard: " + u.Xd() + ", " + (null === (v=q.ue) || void 0 === v?void 0:v.Xd())),this.qt.push(new g.SFa(this.config,q,this.console)));this.AJb() && (this.config.og || this.qt.push(new n.Cya(q,this.config,this.dc,this.console)),this.qt.push(new m.aGa(this.config,q,this.console)),this.XWb(q) && (f.assert(q.qa),this.qt.push(this.Bub(q.ue || c.S.bb,q.qa,u))));}};p.prototype.B6=function(q){return this.config.B6 || this.config.C6 && -1 !== this.config.C6.indexOf(q);};p.prototype.j3=function(q){return l.p0.j3(this.config,q.ue,this.dc,this.console);};p.prototype.AJb=function(){return !this.config.xA;};p.prototype.XWb=function(q){return this.config.QZb && this.config.Dk && ! !q.ue;};p.prototype.Bub=function(q,v,u){return new h.YKa(q.Ca(u),v,this.console);};return p;})();b.zFa=r;},function(r,b,a){var f,l,m,d;function c(g){return g.toString() + " (nrdp: " + g.cI + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.aGa=void 0;f=a(21);l=a(235);m=a(20);d=a(5);r=(function(){function g(h,k,n){this.console=n;this.offset=f.S.bb;this.ue=h.Dk?k.ue:void 0;d.assert(k.qa);this.qa=k.qa;}g.prototype.append=function(h){var k,n,p;k=h.yd;n=h.offset;p=h.Qe;void 0 !== this.c0a && (d.assert(void 0 !== this.Fpa),k.Jc.add(h.offset).equal(this.c0a)?(h=this.wsb(k,n.add(this.offset)).T - this.Fpa,0 > h?this.offset=this.offset.add(f.S.yw):0 === h?this.offset.lessThan(f.S.bb) && (this.offset=this.offset.add(f.S.yw)):1 === h?this.offset.greaterThan(f.S.bb) && (this.offset=this.offset.Ca(f.S.yw)):this.offset=this.offset.Ca(f.S.yw)):this.offset=f.S.bb);this.Fpa=this.usb(k,n.add(this.offset)).T;this.c0a=k.Pd.add(n);return {yd:k,offset:n.add(this.offset),Qe:p};};g.prototype.wsb=function(h,k){var n,p;h=this.iPa(h.Jc);n=l.hu(h).add(l.hu(k));p=h.add(k).Ca(n);m.ga && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + l.hu(h).toString() + ", offset rounding error: " + l.hu(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Xd() + ", (" + h.cI + k.cI + "ms), last fragment end nrdp: " + this.Fpa);return p;};g.prototype.usb=function(h,k){var n,p,q;n=this.qa;h=this.iPa(h.Pd);p=l.hu(h.Ca(n)).add(l.hu(n)).add(l.hu(k));q=h.add(k).Ca(p);m.ga && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ca(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + l.hu(h.Ca(n)).toString() + ", frame duration rouding error: " + l.hu(n).toString() + ", offset rounding error: " + l.hu(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Xd() + ", (" + h.Ca(n).cI + n.cI + k.cI + "ms)");return q;};g.prototype.iPa=function(h){return this.ue?h.Ca(this.ue):h;};return g;})();b.aGa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wJa=void 0;c=a(21);f=a(5);l=a(20);r=(function(){function m(d,g,h){this.config=d;this.console=h;this.Hv=c.S.bb;f.assert(g.qa);this.qa=g.qa;d=g.$d[0].profile;this.d8=this.ZEb(d,this.qa);this.H7=this.XEb(d,this.qa);}m.prototype.append=function(d,g){var h,k,n,p;h=d.yd;k=d.offset;d=d.Qe;n=g.O7;g=g.LW;if(this.Fsa){p=this.ANb(h,this.Fsa);h.oa && this.lia(p)?(l.ga && this.console.trace("SeamlessAudio: dropping one first frame"),h.uU(1),this.Hv=p):(this.Hv=p.add(this.qa),this.nQa(this.Hv) || (l.ga && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.mj.Xd() + " error would be " + this.Hv.Xd() + " (editing " + (h.oa?"":"not ") + "allowed)"),this.Hv=c.S.bb,d=!1));this.Fsa=void 0;}if(h.rq || h.gw)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.oa || !g && h.gw || (p=this.BNb(h,n,g),p.zo(c.S.bb) && h.h4(1)),this.Fsa=n);f.assert(this.nQa(this.Hv));this.Jpa=h.te;return {yd:h,offset:k.add(this.Hv),Qe:d};};m.prototype.BNb=function(d,g,h){var k;if(h)k=this.Hv.add(d.te.Ca(h)).Ca(this.qa);else (k=d.te.Ca(g),k=this.Hv.add(k).Ca(this.qa));l.ga && this.console.trace("SeamlessAudio: fragment end: " + d.te.Xd() + ", splice " + g.Xd() + ", next start " + (null === h || void 0 === h?void 0:h.Xd()) + ", error " + k.add(this.qa).Xd() + ", error with frame drop " + k.Xd() + ", is" + (this.lia(k)?"":" not") + " within bounds of [" + this.d8.Xd() + " and " + this.H7.Xd() + ")");return k;};m.prototype.ANb=function(d,g){var h;f.assert(this.Jpa);h=this.Hv.add(this.Jpa.Ca(d.mj)).Ca(this.qa);l.ga && this.console.trace("SeamlessAudio: fragment start: " + d.mj.Xd() + ", splice " + g.Xd() + ", last fragment end: " + this.Jpa.Xd() + ", error " + h.add(this.qa).Xd() + ", error with frame drop " + h.Xd() + ", is" + (this.lia(h)?"":" not") + " within bounds of [" + this.d8.Xd() + " and " + this.H7.Xd() + ")");return h;};m.prototype.lia=function(d){return d.lessThan(this.H7) && d.zo(this.d8);};m.prototype.nQa=function(d){return d.lessThan(this.H7.add(c.S.yw)) && d.zo(this.d8.Ca(c.S.yw));};m.prototype.XEb=function(d,g){return "object" === typeof this.config.Tua && void 0 !== this.config.Tua[d]?(d=new c.S(this.config.Tua[d],1E3).Vf(g.U).add(new c.S(1,g.U)),c.S.min(g,d)):g;};m.prototype.ZEb=function(d,g){var h;if("object" === typeof this.config.Uua && void 0 !== this.config.Uua[d]){h=g.wl(-2);d=new c.S(this.config.Uua[d],1E3).Vf(g.U).Ca(new c.S(1,g.U));return c.S.max(h,d);}return new c.S(-12,1E3);};return m;})();b.wJa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SFa=void 0;c=a(21);f=a(5);l=a(20);r=(function(){function m(d,g,h){var k;this.console=h;this.aY=!1;f.assert(g.qa,"NegativePtsGuard: stream.frameDuration must exist.");this.qa=g.qa;this.Dk=d.Dk;this.ue=null !== (k=g.ue) && void 0 !== k?k:c.S.bb;}m.prototype.append=function(d){var g,h,k,n;if(this.aY)return d;g=d.yd;h=d.offset;d=d.Qe;if(g.oa){k=g.Jc.Ca(this.Dk?this.ue:c.S.bb).add(h);if(k.lessThan(c.S.bb)){n=Math.ceil(k.sD(-1).wl(this.qa));l.ga && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.ue.Xd() + ", request content start ") + (g.Jc.Xd() + ", current timestamp offset ") + (h.Xd() + " => firstPlatformTimestamp ") + (k.Xd() + "."));g.uU(n);}}this.aY=!0;return {yd:g,offset:h,Qe:d};};return m;})();b.SFa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YKa=void 0;c=a(21);f=a(20);r=(function(){function l(m,d,g){this.ue=m;this.qa=d;this.console=g;}l.prototype.append=function(m,d){var g,h,k,n;g=m.yd;h=m.offset;m=m.Qe;k=d.endOfStream;d=d.O7;if(k && d){k=g.Jc.Ca(this.ue).add(h);n=g.Pd.Ca(this.ue).add(h);d=d.Ca(c.S.yw);f.ga && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + k.Xd() + "-" + n.Xd() + " vs media splice point at " + d.Xd());k.add(this.qa).zo(d)?(f.ga && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g.Yka()):n.zo(d) && (d=Math.ceil(n.Ca(d).wl(this.qa)),g.oa?(f.ga && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),g.h4(d)):(f.ga && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g.Yka()));}else k && f.ga && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {yd:g,offset:h,Qe:m};};return l;})();b.YKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FDa=void 0;r=(function(){function a(c){this.aY=!1;this.gXb=c.b_a;}a.prototype.append=function(c){c.yd.oa && (c.yd.oWb(this.aY?0:this.gXb),this.aY=!0);return c;};return a;})();b.FDa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Cya=void 0;c=a(236);f=a(9);r=(function(){function l(m,d,g,h){this.config=d;this.dc=g;this.console=h;this.qa=m.qa;}l.prototype.append=function(m,d){var g,h,k,n,p,q,v,u;h=c.z5(this.config,this.dc);k=m.yd;n=k.te;p=k.mj;q=k.gw;v=m.Qe;q=k.rq || q;if(!m.yd.oa || !q || v)return m;v=k.Pd.Ca(k.Jc);k=Math.floor(v.wl(this.qa));q=null !== (g=d.LW) && void 0 !== g?g:n.Ca(this.qa.sD(2));n=q.Ca(p);g=k;u=!1;d.LW && (d=this.ZQa(v,n,n),g=d.AO,u=d.QW);h=q.Ca(f.S.tb(h));p=f.S.max(h.Ca(p),f.S.bb);u || (p=this.ZQa(v,p,n),g=p.AO,p.QW && (--g,this.qa.sD(g)));g < (this.config.j2a || 1)?m.yd.Yka():0 < k - g && m.yd.h4(k - g);return m;};l.prototype.ZQa=function(m,d,g){var h;m=f.S.min(m,d);m=Math.floor(m.wl(this.qa));d=this.qa.sD(m);g=g.Ca(d);h=0 < m && g.lessThan(f.S.yw);return {AO:m,iac:d,MCb:g,QW:h};};return l;})();b.Cya=r;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w;function c(x,y,z,A){var B,D;g.assert(x.Pk,"Current time: " + n.default.time.ea() + " cr: " + x.currentTime);g.assert(x.currentTime.isFinite());B=z.Ca(x.currentTime);B=Math.max(Math.ceil(B.MH / x.speed),0);D=null !== A && void 0 !== A?A:{id:void 0,tTa:B,a3a:0,OPb:B};D.id=setTimeout(function(){z.Ca(x.currentTime).iw(m.S.bb)?y():(D.a3a++,c(x,y,z,D));},B);D.tTa=B;return D;}Object.defineProperties(b,{__esModule:{value:!0}});b.Hxa=b.DR=void 0;f=a(2);l=a(18);m=a(21);d=a(237);g=a(5);h=a(20);k=a(805);n=f.__importDefault(a(6));p=a(172);q=a(806);v=a(807);u=a(147);t=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{HI:{get:function(){return this.Vga;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{G2a:{get:function(){return this.qmb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Axb:{get:function(){return this.ykb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pua:{get:function(){return this.aob;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.ykb=z === w.HN?0:n.default.time.ea();this.qmb=y;this.aob=z;h.ga && g.assert(!this.Vga,"Invalid replacement of timeout value");this.Vga=A;};x.prototype.complete=function(){this.Vga=void 0;this.set(m.S.vz,w.HN);};return x;})();(function(x){x[x.HN=0]="none";x[x.X1a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(w || (w={}));r=(function(x){function y(z,A,B){var D;void 0 === B && (B="unknown");D=x.call(this) || this;D.xa=z;D.console=A;D.name=B;D.omb=0;D.Sfa=!1;D.Ck=new t();D.x4=new l.Nh();D.Sl=new d.W_([],k.WRa(function(E,F){return E.yO.ul(F.yO);},function(E,F){return F.ws.priority - E.ws.priority;},function(E,F){return E.ws.id > F.ws.id?1:E.ws.id < F.ws.id?-1:0;}));D.UPa(z);return D;}f.__extends(y,x);Object.defineProperties(y.prototype,{PWb:{get:function(){return this.xa.Pk;},enumerable:!1,configurable:!0}});y.prototype.NSa=function(z,A){z=new (z.bind.apply(z,f.__spread([void 0],A)))();z.id=this.omb++;z.Eqb(this);this.yha(z);return z;};y.prototype.jG=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.NSa(q.KDa,z);};y.prototype.iDb=function(){var z;z={hasSchedule:! !this.Ck.HI,schedule:this.Ck.HI && ({sleepTime:this.Ck.HI.tTa,originalSleepTime:this.Ck.HI.OPb,clockSkewAdjustments:this.Ck.HI.a3a}),nextWakeup:this.Ck.G2a.T,timeScheduled:this.Ck.Axb,scheduleType:w[this.Ck.Pua],numTasks:this.Sl.length,clock:{ir:this.xa.Pk,ct:this.xa.currentTime.T,sp:this.xa.speed}};h.ga && this.trace("audit",z);return z;};y.prototype.XT=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.NSa(v.PJa,z);};y.prototype.Pwb=function(z,A,B){this.jG(function(){return f.__generator(this,function(D){switch(D.label){case 0:return [4,u.zk.WI(A)];case 1:return (D.kd(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.UPa=function(z){var A;A=this;this.pC();this.x4.clear();this.xa=z;this.x4.on(z,"stopStart",function(){return A.jO();});this.x4.on(z,"clockAdjusted",function(){return A.WW();});this.x4.on(z,"speedChanged",function(){return A.BPb();});this.WW();this.emit("clockChanged");};y.prototype.BPb=function(){this.pC();this.jO();};y.prototype.Kb=function(){this.reset();};y.prototype.reset=function(){this.pC();this.Sl.clear();};y.prototype.WW=function(){var z,A;z=this;A=this.Sl.map(function(B){return B.ws;});this.pC();this.Sl.clear();A.forEach(function(B){return z.yha(B,!1);});this.jO();};y.prototype.yha=function(z,A){var B,D;void 0 === A && (A=!0);B=z.t8();D=this.R9a(B);z={ws:z,yO:D,H9:B};g.assert(!this.Sl.contains(z));this.Sl.push(z);A && this.jO();};y.prototype.jO=function(){var z,A,B,D,E;z=this;h.ga && this.trace("recheck schedule task count:" + this.Sl.length);if(this.PWb){if(this.Sfa)h.ga && this.trace("already executing, bailing");else {D=this.Ck.G2a;E=null !== (B=null === (A=this.Sl.Aw()) || void 0 === A?void 0:A.yO) && void 0 !== B?B:m.S.vz;E.isFinite() && E.x8(D)?(this.pC(!1),this.xa.currentTime.zo(E)?(this.Ck.set(E,w.X1a),Promise.resolve().then(function(){z.Ck.Pua === w.X1a && (z.Ck.complete(),z.S6a());})):(h.ga && this.trace("scheduling next wake up for:" + E.T),A=c(this.xa,function(){z.Ck.complete();z.S6a();},E),this.Ck.set(E,w.setTimeout,A))):E.isFinite() || this.Ck.Pua !== w.setTimeout || this.pC(!1);}}else (h.ga && this.trace("should check schedule is false, stopping"),this.pC());};y.prototype.S6a=function(){var z,A,B,D;B=0;D=null === (z=this.Sl.Aw()) || void 0 === z?void 0:z.H9;try{for(this.Sfa=!0;1E4 > B++ && this.UZb();){;}}finally{this.Sfa=!1;this.pC();1E4 < B && !this.oHb(D)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.jO();}};y.prototype.oHb=function(z){var A,B;B=null === (A=this.Sl.Aw()) || void 0 === A?void 0:A.H9;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.UZb=function(){var z,A,B;B=null !== (A=null === (z=this.Sl.Aw()) || void 0 === z?void 0:z.yO) && void 0 !== A?A:m.S.vz;h.ga && this.trace("tryExecuteNextTask @" + this.xa.currentTime.T + ", next wakeup at " + B);if(this.xa.currentTime.zo(B) && (z=this.Sl.pop())){A=z.ws;h.ga && this.trace("Running a task @" + this.xa.currentTime.T + ", scheduled for time:" + B.T + ("Name:" + A.name));try{A.Mw();z.H9=A.t8();z.yO=this.R9a(z.H9);}catch(D){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + D,{stack:D.stack}),A.Kb(),D);}finally{z.yO !== m.S.vz && A.state === p.Jm.R9 && (g.assert(!this.Sl.contains(z)),this.Sl.push(z));}return !0;}};y.prototype.HUb=function(z){g.assert(z.Uf === this);this.iua(z,!1);this.yha(z);};y.prototype.iua=function(z,A){var B;void 0 === A && (A=!0);B=this.Sl.find(function(D){return D.ws === z;});B && this.WTb(B,A);};y.prototype.WTb=function(z,A){this.Sl.remove(z);A && this.jO();};y.prototype.pC=function(z){void 0 === z && (z=!0);this.Ck.HI && (z && this.emit("stopping"),clearTimeout(this.Ck.HI.id),this.Ck.complete());};y.prototype.R9a=function(z){return z.type === u.jea.absolute?z.timestamp:z.timestamp.add(this.xa.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,f.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(l.EventEmitter);b.DR=r;b.Hxa=function(x,y,z){var A;A=void 0;return (z || x.xa.Pk) && x.xa.currentTime.zo(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.XT(u.zk.BP(y),B);}),ws:A};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WRa=void 0;c=a(2);f=a(20);l=a(5);b.WRa=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}f.ga && l.assert(m.length);return function(g,h){var k,q,v;try{for(var n=c.__values(m),p=n.next();!p.done;p=n.next()){q=p.value;v=q(g,h);if(0 !== v)return v;}}catch(t){var u;u={error:t};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(u)throw u.error;}}return 0;};};},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.KDa=void 0;c=a(2);f=a(21);l=a(5);m=a(172);d=a(147);r=(function(g){function h(k,n,p){n=g.call(this,n,p) || this;n.bVb=k;n.reset();return n;}c.__extends(h,g);h.prototype.reset=function(){var k,n;if(this.Tc === m.Jm.R9 || this.Tc === m.Jm.pending)null === (n=null === (k=this.m1) || void 0 === k?void 0:k.return) || void 0 === n?void 0:n.call(k);this.Tc=m.Jm.pending;this.m1=this.bVb();this.lga=d.zk.WI(f.S.bb);};h.prototype.vm=function(){this.reset();l.assert(this.Bv);this.Bv.HUb(this);};h.prototype.t8=function(){return this.lga;};h.prototype.ig=function(){var k,n,p;p=this.m1.next();p.done?(this.lga=d.zk.Gxa,null === (n=(k=this.m1).return) || void 0 === n?void 0:n.call(k)):this.lga=p.value;};h.prototype.Kb=function(){var k,n;null === (n=(k=this.m1).return) || void 0 === n?void 0:n.call(k);g.prototype.Kb.call(this);};return h;})(m.wea);b.KDa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PJa=void 0;c=a(2);f=a(172);l=a(147);r=(function(m){function d(g,h,k){k=m.call(this,k) || this;k.Sua=g;k.GT=h;return k;}c.__extends(d,m);d.prototype.t8=function(){return this.Tc === f.Jm.pending?this.Sua:l.zk.Gxa;};d.prototype.ig=function(){this.GT();};return d;})(f.wea);b.PJa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bJa=void 0;r=a(2);c=r.__importDefault(a(28));f=r.__importDefault(a(378));a=(function(){function l(m){this.m2=[];this.m2[c.default.Qa.Jb]=new f.default(m,c.default.Qa.Jb);this.m2[c.default.Qa.Lb]=new f.default(m,c.default.Qa.Lb);}l.prototype.Epb=function(m,d,g){this.m2[m].add(d,g);};l.prototype.Ena=function(){var m;m=[];this.m2.forEach(function(d){var g;if(d){g=d.get();g && 0 < g.length && g.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};l.prototype.CBb=function(m){var d;d=this.Ena();m.strmsel=d;return 0 < d.length;};return l;})();b.bJa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hXa=void 0;b.hXa=function(a){var c,f,l;c=Math.floor(1E6 * Math.random());f=a.poa;l=a.e6;a=0 === c % a.qoa && 0 < l.length;return {Gr:a,BU:a && 0 === c % f};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iSa=void 0;b.iSa=function(a,c){var f;if(!Array.isArray(a.hSa))return a;f=a.tt?a.tt():Object.create(a);a.hSa.forEach(function(l){if(void 0 !== l.uNb && c.duration >= l.uNb && l.config)for(var m in l.config){f[m]=l.config[m];}});return f;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=void 0;c=a(2).__importStar(a(10));f=a(123);l=a(5);r=(function(){function m(d,g,h){var S50;S50=2;for(;S50 !== 3;){switch(S50){case 2:var v3g="1SIY";v3g+="bZr";v3g+="NJCp9";this.$m=d;this.H=g;this.Sh=h;v3g;S50=3;break;}}}var R50;R50=2;for(;R50 !== 7;){switch(R50){case 5:m.prototype.Blb=function(){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 4:this.xF=6;Y50=9;break;Y50=1;break;case 2:this.xF=0;Y50=1;break;}}};R50=4;break;case 4:m.prototype.TNa=function(d,g){var Z50,h,k;Z50=2;for(;Z50 !== 5;){switch(Z50){case 2:(h=this.$m.Ab.Ef[d],k=h.Cf);k && (k=g.XK(d,k),this.Ekb(d),h.Cf=this.bMa(d,g.J,g.Cz(),this.$m.Ql,this.$m.I),g.Eua(k));Z50=5;break;}}};m.prototype.bMa=function(d,g,h,k,n){var a60,p,q;a60=2;for(;a60 !== 7;){switch(a60){case 5:var Y3g="transportrepo";Y3g+="r";Y3g+="t";var w3g="e";w3g+="rr";w3g+="o";w3g+="r";var s3g="n";s3g+="et";s3g+="workfailing";q.Qg.on(q,s3g,function(){var c60,v;c60=2;for(;c60 !== 8;){switch(c60){case 2:var Z3g="re";Z3g+="portNetworkFail";Z3g+="ing";Z3g+=": ";n.$h && p.Sh.pm(Z3g + q);c60=1;break;case 5:l.assert(q.LU);v=p.$m.De.O;v.Xp.fs(q.LU,void 0,q.ah,q.ij);v.Am();c60=8;break;case 1:c60=q.D4?5:8;break;}}});q.Qg.on(q,w3g,function(){var d60;d60=2;for(;d60 !== 5;){switch(d60){case 2:var V3g="NFEr";V3g+="r_MC";V3g+="_St";V3g+="r";V3g+="eamingFailure";var Q3g="DownloadTrack f";Q3g+="at";Q3g+="al e";Q3g+="rro";Q3g+="r";var O3g="Downloa";O3g+="dTrac";O3g+="k fatal";O3g+=" error";n.$h && p.Sh.pm(O3g);p.$m.xp(Q3g,void 0,V3g,q.ah,0,q.ij);d60=5;break;}}});q.on(Y3g,function(v){var e60;e60=2;for(;e60 !== 1;){switch(e60){case 2:var z3g="tra";z3g+="nsp";z3g+="ortreport";p.$m.emit(z3g,v);e60=1;break;}}});a60=9;break;case 2:var i3g="cre";i3g+="ate";i3g+="d";(p=this,q=f.fp.instance.xt(d,g,!0,h,k,n));q.Qg.on(q,i3g,function(){var b60;b60=2;for(;b60 !== 5;){switch(b60){case 2:var S3g="createDlTrac";S3g+="k";S3g+="sEnd";--p.xF;0 === p.xF && p.$m.Db.Ul(S3g);b60=5;break;}}});a60=5;break;case 9:q.xb();return q;break;}}};m.prototype.Ekb=function(d){var f60,g;f60=2;for(;f60 !== 9;){switch(f60){case 2:d=this.$m.Ab.Ef[d];g=d.Cf;g.oo || --this.xF;f.fp.instance.QL(g);f60=3;break;case 3:d.Cf=void 0;f60=9;break;case 12:d.Cf=-6;f60=4;break;f60=9;break;}}};return m;break;case 2:m.prototype.tkb=function(d,g){var T50,h,k;T50=2;for(;T50 !== 8;){switch(T50){case 2:var K5g="crea";K5g+="te";K5g+="DlTracks";K5g+="S";K5g+="tart";(h=this,k=this.$m.I);0 === this.xF && this.$m.Db.Ul(K5g);this.xF+=d.length;d=d.map(function(n){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:return h.bMa(n,g.J,g.Cz(),h.$m.Ql,k);break;}}});f.fp.instance.ig();return d;break;}}};m.prototype.Fkb=function(){var V50,d,g;V50=2;for(;V50 !== 3;){switch(V50){case 2:(d=this,g=[]);this.$m.Ab.Ef.forEach(function(h){var W50;W50=2;for(;W50 !== 5;){switch(W50){case 2:c.ha(h.Cf) || g.push(h.Cf);h.Cf=void 0;W50=5;break;}}});this.$m.kS && (g.push(this.$m.kS),this.$m.kS=void 0);g.forEach(function(h){var X50;X50=2;for(;X50 !== 5;){switch(X50){case 1:f.fp.instance.QL(h);X50=5;break;case 2:h.oo || --d.xF;X50=1;break;case 3:h.oo && ++d.xF;X50=3;break;X50=1;break;}}});V50=3;break;}}};R50=5;break;}}})();b.OAa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jya=void 0;c=a(16);f=a(9);r=(function(){function l(m){this.XF=m;this.state=new f.er(c.ma.qh);this.ej={};}l.prototype.getState=function(){return this.state.value;};l.prototype.Re=function(m){this.state.set(m);};l.prototype.addListener=function(m){this.state.addListener(m);};l.prototype.paused=function(){this.state.value === c.ma.Ec && this.state.set(c.ma.Vg);};l.prototype.E_a=function(){return this.state.value === c.ma.qh;};l.prototype.pq=function(){return "function" === typeof this.XF.pq?this.XF.pq():this.state.value === c.ma.Ec;};l.prototype.jg=function(){return this.state.value === c.ma.ud || this.state.value === c.ma.If;};l.prototype.F_a=function(){return this.state.value === c.ma.Ri;};l.prototype.G_a=function(){return this.state.value === c.ma.gr;};l.prototype.Me=function(){return this.XF.Me();};l.prototype.wo=function(){return "function" === typeof this.XF.wo?this.XF.wo():1;};l.prototype.kV=function(){return this.XF.kV();};l.prototype.rY=function(m,d){this.ej[m]=d;};l.prototype.Do=function(m){return ! !this.ej[m.J] || m.Xh;};return l;})();b.jya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YHa=void 0;r=(function(){function a(c,f,l){var m;this.sqb=c;this.mga=f;this.zkb=l;this.zfa=(m={},m[0]=!1,m[1]=!1,m);this.reset();}a.prototype.By=function(){var c,f;c=this;f=this.sqb.filter(function(l){return !l.j_a(c.zkb());});0 === f.length && this.Wfa?this.wmb():f.forEach(function(l){c.zfa[l.mediaType] || (l.once("requestAppended",function(){c.zfa[l.mediaType]=!1;c.By();}),c.zfa[l.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.Wfa=!1;new Promise(function(f){c.wmb=f;}).then(function(){return c.mga();});};a.prototype.eMb=function(){this.Wfa || (this.Wfa=!0,this.By());};return a;})();b.YHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wxa=void 0;c=a(20);r=(function(){function f(l){this.console=l;this.qF=[];this.NB=[];c.ga && this.console.trace("Received pending adoption " + this.Hl.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.qF.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hl:{get:function(){return this.NB;},enumerable:!1,configurable:!0}});f.prototype.bMb=function(l){l=this.NB.indexOf(l);-1 !== l && (c.ga && this.console.trace("Marking request attached"),this.qF[l].g_a=!0,this.n$a(l));};f.prototype.cMb=function(l){l=this.NB.indexOf(l);-1 !== l && (c.ga && this.console.trace("Marking request completed"),this.qF[l].Dz=!0,this.n$a(l));};f.prototype.XTb=function(l){var m,d;m=this;d=[];this.NB.forEach(function(g,h){l(g) && d.unshift(h);});d.forEach(function(g){m.NB.splice(g,1);m.qF.splice(g,1);});};f.prototype.push=function(l){this.NB.push(l);this.qF.push({g_a:!1,Dz:!1});c.ga && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.PC=function(){return 0 < this.length;};f.prototype.n$a=function(l){var m;m=this.qF[l];m.g_a && m.Dz && (m=this.NB[l],this.NB.splice(l,1),this.qF.splice(l,1),c.ga && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ga && this.console.trace("Removing last request, contentEndPts: " + m.Fc));};return f;})();b.Wxa=r;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t){return (1 === u.mediaType?0:1) - (1 === t.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.ZDa=b.Ada=b.bib=void 0;f=a(2);l=a(83);m=a(148);d=a(382);g=a(16);h=a(9);k=a(5);n=a(21);p=f.__importDefault(a(6));r=a(102);q=a(42);v=(function(u){function t(){return null !== u && u.apply(this,arguments) || this;}f.__extends(t,u);return t;})(a(239).EJ);b.bib=v;b.Ada={uab:c};a=(function(u){function t(w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R){var I;A=u.call(this) || this;A.Hac=w;A.I=x;A.O=z;A.Ap=B;A.s5=D;A.Qs=C;A.gS=G;A.ll=K;A.Nx=H;A.events=L;A.zv=R;A.de=new v([]);A.Pl=!1;A.qS=0;A.PR=A.VW.bind(A);A.H=h.tq(p.default,y,B.id && B.id.length?"{" + B.id + "}":"");A.Ak=A.H.error.bind(A.H);A.Rb=A.H.warn.bind(A.H);A.Rm=A.H.trace.bind(A.H);A.Nr=null !== F && void 0 !== F?F:n.S.tb(A.N.Y);A.uga=null === J || void 0 === J?void 0:J.te;null === (I=A.Nx) || void 0 === I?void 0:I.addListener(A.PR);z && E && A.AIb(z,E);return A;}f.__extends(t,u);Object.defineProperties(t.prototype,{vh:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{N:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{hw:{get:function(){return this.de.every(function(w){return w.hw;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ql:{get:function(){return this.de.every(function(w){return w.ql;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{et:{get:function(){return this.iq().reduce(function(w,x){return w + x.et;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{di:{get:function(){return this.iq().every(function(w){return w.di();});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pg:{get:function(){return this.iq().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{U:{get:function(){return this.Xs.U;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wa:{get:function(){return this.Xs.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{nb:{get:function(){return this.Xs.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{oj:{get:function(){return this.eg.Vf(this.U).Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Or:{get:function(){return this.Nr.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{LH:{get:function(){return this.N.Eg.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ZN:{get:function(){return this.N.Kk.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{az:{get:function(){var w,x;x=null === (w=this.N.N.bq) || void 0 === w?void 0:w[0];return x && this.Jc?n.S.tb(Math.max(0,x[0] - this.Jc.T - this.N.Eg.T)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{m7:{get:function(){return this.de.reduce(function(w,x){return w && x.te?n.S.max(w,x.te):x.te?x.te:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ooa:{get:function(){return this.Or.T;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ce:{get:function(){return this.eg.T;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Qq:{get:function(){return this.Xs.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{eg:{get:function(){return this.Qs;},enumerable:!1,configurable:!0}});t.prototype.Vw=function(w){this.eg.equal(w) || (this.Qs=w);};t.prototype.jz=function(w){return (w=this.fb(w))?Promise.resolve(w.jz()):Promise.resolve(m.AsyncIterator.UWa());};t.prototype.tG=function(){this.iq().forEach(function(w){return w.tG();});};t.prototype.reset=function(){this.de.forEach(function(w){w.reset();});};t.prototype.xf=function(){var w,x;this.Pl || (this.Pl=!0,null === (w=this.PB) || void 0 === w?void 0:w.Zc(),this.PB=void 0,this.de.forEach(function(y){y.xf();}),null === (x=this.Nx) || void 0 === x?void 0:x.removeListener(this.PR),this.events.removeAllListeners());};t.prototype.NV=function(){return !0;};t.prototype.fb=function(w){return this.de.get(w);};t.prototype.iq=function(w){void 0 === w && (w=c);return this.de.items.slice().sort(w);};t.prototype.w5=function(){return this.de.items;};t.prototype.BM=function(w){return this.fb(w);};t.prototype.xh=function(w,x){w=this.fb(w);if(!w)return 0;if(x)return w.um;x=w.Op;if(void 0 === x)return 0;w=this.gS();return x - w;};t.prototype.DC=function(){var w,x,y,z,A,B,D;D=null === (w=this.fb(0)) || void 0 === w?void 0:w.Ym;w=null === (x=this.fb(1)) || void 0 === x?void 0:x.Ym;return {Mn:null !== (y=null === w || void 0 === w?void 0:w.T) && void 0 !== y?y:0,vr:null !== (z=null === D || void 0 === D?void 0:D.T) && void 0 !== z?z:0,Ww:null !== (A=null === w || void 0 === w?void 0:w.fa) && void 0 !== A?A:0,YK:null !== (B=null === D || void 0 === D?void 0:D.fa) && void 0 !== B?B:0};};t.prototype.rV=function(w){var x;return (w=this.fb(w))?null !== (x=w.Op) && void 0 !== x?x:0:0;};t.prototype.Am=function(w){w=this.fb(w);k.assert(w);return w.Am();};t.prototype.VW=function(w){g.nq(w.newValue) && this.qr();};t.prototype.cG=function(w){return this.de.every(function(x){return x.cG(w);});};t.prototype.h5=function(w){var x,y;return null !== (y=null === (x=this.de.get(w)) || void 0 === x?void 0:x.SSa) && void 0 !== y?y:n.S.bb;};t.prototype.hk=function(w){this.Pl || (w.D2 || k.assert(!w.Vc),this.qr(),this.ql && this.sga());this.Jt(w);};t.prototype.CH=function(w){this.I.m4 && this.qr(!0);this.zG(w);};t.prototype.BH=function(w){this.I.m4 && this.qr(!0);this.BC(w);};t.prototype.Eva=function(w){var x;return g.nq((null === (x=this.Nx) || void 0 === x?void 0:x.value) || g.Dc.Fj) && (!w || this.qS + this.I.W7 < p.default.time.ea());};t.prototype.qr=function(w){void 0 === w && (w=!1);this.Eva(w) && (this.qS=p.default.time.ea(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};t.prototype.sga=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};t.prototype.AIb=function(w,x){var y,z;y=this;this.vva(w);k.assert(w.Z === this.N.Z || isNaN(w.Z) && isNaN(this.N.Z));this.Gfa=[];w=null !== x && void 0 !== x?x:null === (z=this.s5) || void 0 === z?void 0:z.call(this,w);k.assert(w,"tracks need to exist upon initialization");w.forEach(function(A){var B;A=A.mediaType;B=new d.dda(A,y.I,y.H);y.Gfa[A]=B;});};t.prototype.toJSON=function(){var w,x;return {segment:this.N.id,branchOffset:this.Ce,viewableId:this.Ap.Z,contentStartPts:null === (w=this.Jc) || void 0 === w?void 0:w.T,contentEndPts:null === (x=this.Pd) || void 0 === x?void 0:x.T};};return t;})(l.Su);b.ZDa=a;q.sf(r.bx,a);q.sf(r.cB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hUa=b.pJb=b.m_a=b.$Xa=void 0;c=a(27);b.$Xa=function(f,l){if((f=f.gb.N.Kw) && 0 !== f.length)return c.dg(f,function(m){return m.Jc.T <= l && l < m.Pd.T;});};b.m_a=function(f,l){return l.index === f.he.index?!0:(f=f.gb.N.Kw) && 0 !== f.length?f.some(function(m){m=m.Jc;return l.Jc.iw(m) && m.lessThan(l.Pd);}):!1;};b.pJb=function(f,l){return l.index === f.Bf.index?!0:(f=f.gb.N.Kw) && 0 !== f.length?f.some(function(m){m=m.Pd;return l.Jc.lessThan(m) && m.iw(l.Pd);}):!1;};b.hUa=function(f,l,m,d){var g,h,k,n,p,q,v,u;f=null === (g=l.oa) || void 0 === g?void 0:g.start;g=null === (h=l.oa) || void 0 === h?void 0:h.end;u=h=!1;if((null === d || void 0 === d?0:d.zJb) || (null === d || void 0 === d || !d.nJb) && l.Jc.lessThan(m.Jc)){if(v=l.Ola(m.Jc.T))(v=(null !== (n=null === (k=l.oa) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + v.Xk,f=Math.max(null !== f && void 0 !== f?f:0,v));v=m.Jc.T;h=!0;}if((null === d || void 0 === d || !d.tJb) && l.Pd.greaterThan(m.Pd)){if(v=l.Ola(m.Pd.T))(v=(null !== (q=null === (p=l.oa) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + v.Xk,g=Math.min(null !== g && void 0 !== g?g:Infinity,v),l.EN=l.index);v=m.Pd.T;u=!0;}void 0 === f && void 0 === g || l.Ih({start:f,end:g});void 0 !== v && (!l.Lu || v > l.Lu) && (l.OO(v),l.oa || l.Ih({}));l.lWb(m.region,h,u);};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yHa=void 0;r=a(2);c=r.__importDefault(a(28));f=c.default.Qa;l=c.default.UE;m=a(9);d=a(21);g=r.__importDefault(a(143));h=r.__importDefault(a(6));a=(function(){function k(n,p,q,v,u){this.Bw=n;this.Bt=p;this.I=q;this.H=v;this.Lg=u;}k.prototype.pOb=function(n){n={type:"requestCreated",request:n};m.Va(this.Bt,n.type,n);};k.prototype.oOb=function(n){var p;p=n.Ra.gb.N;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{ya:p.id,offset:d.S.tb(this.Bw.Dja - p.Y)},completePlayerStreamingTimestamp:d.S.tb(this.Bw.Op),trackIndex:n.stream.track.bC};m.Va(this.Bt,n.type,n);};k.prototype.Y2a=function(n,p,q){var v,u;v=this.Lg;u=this.Bw.$k.Gg;u.Q7a(n);1 === v && this.I.S9 && (void 0 === u.Npa?u.S7a(h.default.time.ea()):h.default.time.ea() - u.Npa > this.I.S9 && (n.bitrate !== u.k0a && (h.default.storage.set("vb",n.bitrate),u.qWb(n.bitrate)),u.S7a(h.default.time.ea())));u.YV && u.YV === n || (this.Bw.$k.RXb(p,u.YV,n),u.fWb(n),p=0,n.ub && n.ub.confidence && n.ub.Sa && (p=n.ub.Sa.Fa),u={ya:this.Bw.gb.N.id,offset:d.S.tb(q - this.Bw.gb.N.Y)},n={type:"streamSelected",nativetime:h.default.time.ea(),mediaType:v,streamId:n.id,manifestIndex:n.O.Mb,trackIndex:n.track.bC,streamIndex:n.Fg,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:u},m.Va(this.Bt,n.type,n));};k.prototype.lOb=function(n,p,q){var v,u,t,w,x;v=p.O;u=v.lm;t=this.Bw.$k.Gg;w=v.TJb(p);x=w.zpa;w=w.UJb;q && p.wd && !t.ZV?(w=l.Fx,p.ns=l.name[w],this.X2a(n,p.wd,p.ns,p.location,p.bitrate),t.ZV=p.wd):!q && p.wd && p.wd !== t.ZV && (w=w?void 0 === t.ZV?l.Fx:u.GO === l.pda?l.Cib:l.mba:l.Bib,p.ns=l.name[w],this.X2a(n,p.wd,p.ns,p.location,p.bitrate),t.ZV=p.wd);t.jN || (w={type:"logdata",target:"startplay",fields:{}},this.Lg === f.Lb?w.fields.alocid=p.location:this.Lg === f.Jb && (w.fields.locid=p.location),m.Va(this.Bt,w.type,w));q && p.location && !t.jN?(w=l.Fx,p.ns=l.name[w],this.V2a(v.Mb,n,p.location,p.bqa,p.wd,p.mI,p.ns,p.Ew),t.jN=p.location):!q && p.location && p.location !== t.jN && (w=x?void 0 === t.jN?l.Fx:u.GO === l.pda?l.Zfb:l.mba:l.Yfb,p.ns=l.name[w],this.V2a(v.Mb,n,p.location,p.bqa,p.wd,p.mI,p.ns,p.Ew),p.Ew=void 0,t.jN=p.location);this.I.wu || (p.f0a=p.location,p.i0a=p.wd);};k.prototype.B8=function(n){n={type:"requestsPruned",requests:n};m.Va(this.Bt,n.type,n);};k.prototype.X2a=function(n,p,q,v,u){var t,w;t=this.Lg === f.Jb?"video":"audio";w=g.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:t,server:p,reason:q,location:v,bitrate:u,confidence:w.confidence};w.confidence && (n.throughput=w.Sa.Fa);this.Bw.$k.Gg.ZV && (n.oldserver=p);m.Va(this.Bt,n.type,n);};k.prototype.V2a=function(n,p,q,v,u,t,w,x){m.Va(this.Bt,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Lg === f.Jb?"video":"audio",location:q,locationlv:v,serverid:u,servername:t,selreason:w,seldetail:x});};k.prototype.nga=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.ED || m.Va(this.Bt,p.type,p);};k.prototype.pm=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ea() + ", " + n};m.Va(this.Bt,n.type,n);};k.prototype.xCb=function(n){m.Va(this.Bt,"transportReport",n);};return k;})();b.yHa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gJa=void 0;c=a(2);f=c.__importStar(a(10));l=a(240);m=a(821);d=a(824);r=a(83);g=a(5);h=a(242);k=a(9);n=a(71);a=(function(p){function q(v,u,t,w,x,y,z,A){var B;B=p.call(this,v) || this;B.I=u;B.H=t;B.Pm=w;B.Ud=x;B.Lg=y;B.jna=A;B.$$a=!0;B.Be=new h.TZ(B.H);B.Ak=B.H.error.bind(B.H);B.Rb=B.H.warn.bind(B.H);B.Rm=B.H.trace.bind(B.H);B.$Na();B.wp=null === z || void 0 === z?void 0:z.jG(function(){return B.nUb();},"pruner");return B;}c.__extends(q,p);Object.defineProperties(q.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gb:{get:function(){return this.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pw:{get:function(){return 0 < this.wA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xva:{get:function(){return !this.rK;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wA:{get:function(){return this.Da.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{As:{get:function(){return this.Da.As;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KSb:{get:function(){return this.Be.count;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{OT:{get:function(){return this.Da.complete.te;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Op:{get:function(){return this.Da.SRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dja:{get:function(){return this.Da.RRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Li:{get:function(){return this.Da.te;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{um:{get:function(){return void 0 === this.Da.sd?0:this.Da.Yd - this.Da.sd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ym:{get:function(){return {fa:this.Da.qC,T:Math.max(this.Da.SRa - this.Da.sd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zL:{get:function(){return this.Da.dub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qC:{get:function(){return this.Da.qC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{et:{get:function(){return this.Da.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yD:{get:function(){return this.jlb();},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wsa:{get:function(){return this.Da.pIb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W5:{get:function(){return this.Da.length > this.Da.As;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fp:{get:function(){return this.Da.Fp;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tKb:{get:function(){return this.XMa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{l4a:{get:function(){return this.Da.length - this.Tl;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W:{get:function(){return this.Da;},enumerable:!1,configurable:!0}});q.prototype.xf=function(){var v,u;u=this.Da;setTimeout(function(){u.forEach(function(t){t.abort();t.Zc();});},0);this.$Na();this.Be.q4();null === (v=this.wp) || void 0 === v?void 0:v.Kb();};q.prototype.reset=function(){this.xf();this.Be.C6a();};q.prototype.close=function(){this.Be.q4();};q.prototype.v7a=function(){this.LLa=!0;};q.prototype.qna=function(){return {endMarked:void 0 !== this.Be.count,queueCount:this.Be.count,isComplete:this.Be.Dz,itemCount:this.Be.TRa,continuousEndPts:this.Be.Xo().reduce(function(v,u){return u && !u.done && (u=u.value,100 > Math.abs(u.WU - v) || -1 === v)?u.yCb:v;},-1),sentinelItemCount:this.Be.Xo().filter(function(v){return v && v.done;}).length,processedCount:this.Be.Byb,rc:this.wA};};q.prototype.lxb=function(v,u,t){var w;w=this.I;g.assert(!v.header);v=w.pAb && 1 === this.mediaType?new d.mya(t,w,u.track,v,this.Da,this.H):l.QZ.create(t,w,u.track,v,this.Da,!1,this.H,this.jna);v.xb(this);this.jy(v);return v;};q.prototype.Vpb=function(v){var u;v.xb(this);v.D2=!0;this.jy(v);u=Promise.resolve();v.complete?(this.efa(v),this.Pm.Y2a(v.stream,v.sd,v.$c),u=this.caa(),this.Jt(v)):(v.active && this.mM(v),v.Uta && this.BC(v));return u;};q.prototype.jy=function(v){var u,t;this.Da.mq(v);(null === (u=this.wp) || void 0 === u?void 0:u.state) === n.Jm.complete && (null === (t=this.wp) || void 0 === t?void 0:t.vm());this.efa(v);v.rq && (this.rK=!1);};q.prototype.jz=function(){return this.Be.kDb();};q.prototype.dja=function(){this.Tl === this.Da.length && this.LLa && this.Be.q4();};q.prototype.caa=function(){var v,u,t,w,A;v=this;t=Promise.resolve();w=this.Ud;if(!w.NV(this.Lg) || this.Tl === this.Da.length)return t;for(var x=this.I.wMb,y=0,z=[];this.Tl < this.Da.length;){if(u=this.Da.get(this.Tl)){if(this.Da.CVa && this.Da.CVa.Wa < u.Wa)break;if(!u.Xt())break;z.push(u);++y;f.Ba(this.sd) || (this.sd=u.sd);}++this.Tl;if(!f.ha(x) && y >= x)break;}if(z.length){void 0 !== this.Be.count && (this.Ak("tryToAtach() but requestQueue has sentinel:",this.Be.count),this.Be.C6a());if(this.$$a)t=Promise.all(z.map(function(B){return v.Be.enqueue(B).then(function(){return v.T5(B);});}));else for(u=0;u < z.length;u++){try{A=z[u];w.AFb(this.mediaType).Xyb(A);this.T5(A);}catch(B){return (this.Tl-=z.length - u,Promise.reject(B));}}this.dja();}return t;};q.prototype.T5=function(v){this.XMa=v;this.MVa(v);};q.prototype.YS=function(v,u){var t,w,x;t=this;w=[];if(0 !== this.Da.As){x=this.Da.d4a;this.Da.f_b.Rva(function(y){if(!f.ha(v) && y.O.Mb !== v || y.rq || x > y.sd)return !0;y.L4 && (t.rK=!1);if(!t.T0(y))return (t.Rb("request abort failed:",y.toString()),!0);w.unshift(y);});this.Bga();w.length && "function" === typeof u && u(w);}};q.prototype.F9=function(){this.Bga();};q.prototype.nUb=function(){var v,u,t,w,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Da.length)return [3,3];v=this.Da.get(0);u=k.S.tb(null !== (y=null === (x=this.I.TO) || void 0 === x?void 0:x.T) && void 0 !== y?y:0);t=u.add(v.te);return [4,n.zk.BP(t)];case 2:z.kd();if(1 >= this.Da.complete.length && !v.rq)return [3,3];g.assert(v === this.Da.get(0));v.af || this.T0(v);w=this.Da.splice(0,1);0 < this.Tl && this.Tl--;this.Pm.B8(w);return [3,1];case 3:return [2];}});};q.prototype.DX=function(v,u){var t,w,x,y,z,A;t=this;w=this.I;x=!1;y=0;z=this.Da.some(function(B){if(v < B.Yd)return (x && t.efa(B),!0);++y;B.af || (t.Rb("pruning unappended request:",B && B.toString()),w.$h && t.Pm.pm("prune pts:" + v + " unappended request:" + (B && B.toString())),B.L4 && (t.rK=!1,x=!0),t.T0(B,u) || t.Ak("MediaRequest.abort error:",B.ah));});if(0 < y){A=this.Da.splice(0,y);this.Tl-=Math.min(y,this.Tl);this.Pm.B8(A);}return z;};q.prototype.F5=function(v){var u,t,w;void 0 === v && (v={PT:null,$N:null,sd:null,Sk:0,Sg:0,W:[]});u=this.I;t=this.Da;f.Ba(t.sd) && (null === v.sd || t.sd < v.sd) && (v.sd=t.sd);w=this.Op;void 0 !== w && null === v.PT && (v.PT=w);w=t.Yd;void 0 !== w && (null === v.$N || w > v.$N) && (v.$N=w);v.Sk+=t.Sk;v.Sg=u.Lva?v.Sg + t.J5a:v.Sg + t.qC;Array.prototype.unshift.apply(v.W,t.kd.W);return v;};q.prototype.Gt=function(v){if(this.Da.length && (v=this.Da.qVa(v)))return v;};q.prototype.Uob=function(v){var u,t,w;t=v.Pd;v=v.$c;g.assert(t,"expected contentEndTimestamp to be defined");g.assert(void 0 !== v,"expected contentStartPts to be defined");v=this.Da.Kla(v);w=this.Da.get(v);g.assert(w && void 0 !== w.$c && void 0 !== w.Fc && void 0 !== w.index,"expected existing request to be defined with properties");if(null === (u=w.Pd) || void 0 === u?0:u.equal(t))return (this.GOa(v),[w.Fc,w.index + 1]);this.GOa(v - 1);return [w.$c,w.index];};q.prototype.Am=function(){var v,u;v=this;u=[];this.Da.forEach(function(t){var w;w=t.nxa();1 === w?u.push(t):2 === w && v.gb.O.Fh("swapUrl failure");});return u;};q.prototype.BH=function(v){v.ZC && v.Xt() && this.caa();this.BC(v);};q.prototype.hk=function(v){var u,t;v.ZC && !v.af && this.caa();(null === (u=this.wp) || void 0 === u?void 0:u.state) === n.Jm.complete && (null === (t=this.wp) || void 0 === t?void 0:t.vm());this.Jt(v);};q.prototype.Jha=function(v){var u,t,w;u=1 === this.Lg?"v_":"a_";t=this.Da;w=t.jM(v);v=0 <= w?t.get(w):void 0;return (t=0 <= w && w + 1 < t.length?t.get(w + 1):void 0) && v?v.Yd !== t.sd?u + "rg":v.complete && t.complete?u + "uk":u + "fd":u + "rm";};q.prototype.jlb=function(){return this.Da.Fp + this.Da.As;};q.prototype.$Na=function(){var v,u,t;u=void 0 !== this.Da && 0 < this.Da.length;t=this.Da;this.Da=new m.hya(this.H,this);this.Tl=0;this.Be.clear();this.XMa=void 0;this.sd=null;null === (v=this.wp) || void 0 === v?void 0:v.vm();this.LLa=this.rK=!1;u && (v=t.map(function(w){return w;}),this.Pm.B8(v));};q.prototype.efa=function(v){this.rK?v.L4=!1:this.rK=v.L4=!0;};q.prototype.GOa=function(v){var u;for(v+=1;v < this.wA;v++){u=this.Da.get(v);g.assert(u,"expected request to exist");this.Be.remove(u);u.aborted || (this.T0(u),u.Zc());}this.Bga();};q.prototype.T0=function(v,u){if(!v.abort())return !1;"function" === typeof u && u(v);return !0;};q.prototype.Bga=function(){var v,u,t,w;v=this;if(0 !== this.Da.length){t=[];w=0;this.Da.CSb(function(x,y){y < v.Tl && ++w;t.push(x);});this.Tl-=w;null === (u=this.wp) || void 0 === u?void 0:u.vm();this.Pm.B8(t);}};return q;})(r.Su);b.gJa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.eya=void 0;c=a(2);f=a(116);l=c.__importDefault(a(28));r=c.__importDefault(a(6));m=a(9);d=a(5);g=a(241);h=a(101);k=a(232);n=a(117);p=r.default.$q;a=(function(q){function v(u,t,w,x,y,z,A,B){var D;x=q.call(this,u,w,x,z,A,B) || this;y=h.Dm.prototype.toString.call(x) + (y?"(cache)":"");B={offset:w.offset,fa:w.tra + 8,responseType:0};x.push(new k.PP(u,t,y + "(moof)",B,x,z,A));B={offset:w.offset + B.fa,fa:w.fa - B.fa,responseType:p.dc && !p.dc.dY.yR?0:1};if(x.mediaType === l.default.Qa.Jb && x.oa){if(0 < x.oa.start){D=x.uVa(x.oa.start);D && (B.offset=w.offset + D,B.fa=w.fa - D);}x.oa.end < x.CC && (D=x.uVa(x.oa.end)) && (B.fa-=w.fa - D);}x.push(new k.PP(u,t,y + "(mdat)",B,x,z,A));return x;}c.__extends(v,q);v.prototype.Xt=function(){return !this.af && ! !this.Da.length && this.Da.every(function(u){return u.Xt();});};v.prototype.OF=function(u){var t,w,x,y,z,A,B,D;if(this.af)return {status:n.yj.hx};if(!this.Xt())return {status:n.yj.Gf};t=!1;w=this.Da[0].response;x=w.slice(0,w.byteLength - 8);y=new DataView(w);w=y.getUint32(x.byteLength);d.assert("mdat" === f.Wn(y.getUint32(x.byteLength + 4)));z=this.oa && 0 < this.oa.start;y=this.oa && this.oa.end < this.CC;if(this.oa && (z || y)){if(z)(A=new f.cr(this.H,this.stream,x),B=A.fua(this.oa.start,this.U));if(y && !1 !== B){A=new f.cr(this.H,this.stream,B?m.rC(B.yd):x);D=A.jua(this.oa.end - this.oa.start,this.U);}if(x=y?D:B)(t=u.appendBuffer(m.rC(x.yd),m.sq(this)),B && (w-=B.Ji),D && (w-=D.Ji));A=this.Ega();}else t=u.appendBuffer(x,m.sq(this));t && (t=u.appendBuffer(f.Qz(w - 8),m.sq(this))) && (t=u.appendBuffer(this.Da[1].response,m.sq(this)));this.af=t;this.GTb();return {status:t?n.yj.hx:n.yj.Gf,ck:A};};v.prototype.toString=function(){return "ID: " + this.ci() + ":" + q.prototype.toString.call(this);};return v;})(g.iE);b.eya=a;},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Cbb=void 0;r=a(2);c=a(116);f=a(236);l=r.__importDefault(a(28));m=a(9);a(5);d=a(21);g=r.__importDefault(a(6));h=a(117);a=(function(){var g60;function k(){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:var X5g="1S";X5g+="I";X5g+="YbZrN";X5g+="J";X5g+="Cp9";X5g;h60=1;break;}}}g60=2;for(;g60 !== 14;){switch(g60){case 3:k.prototype.Njb=function(n,p,q){var m60,D,u,t,w,x,y,z,A,B;m60=2;for(;m60 !== 11;){switch(m60){case 4:q=u.qCb || q;m60=3;break;case 9:w=v(B);D=w.AO;m60=7;break;case 2:(u=this.Od,t=!0,w=!1);n=f.z5(u,n);(x=this.qa,y=x.U,z=this.Up,A=p?p.Wsa:this.E4a - 2 * x.Zb,B=A - this.RVa);m60=4;break;case 7:w=w.QW;m60=6;break;case 12:return {LWb:t,JLb:w};break;case 3:m60=p && !q?9:6;break;case 6:w || (D=A - d.S.i8(n,y),D=new d.S(D - this.RVa,y),p=v(u.og?Infinity:Math.max(0,D.Zb)),D=p.AO,(p=p.QW) && 0 < D && !u.og && --D);m60=14;break;case 14:this.Ih({start:0,end:D});D < (u.j2a || 1) && (t=!1);m60=12;break;}}function v(E){var n60,F,C;n60=2;for(;n60 !== 4;){switch(n60){case 2:E=Math.floor(Math.min(z,E) / x.Zb);(F=x.Zb * E,C=B - F);return {AO:E,Up:F,MCb:C,QW:0 < E && C < y / 1E3};break;}}}};k.prototype.OF=function(n,p,q,v,u,t){var o60,w,x;o60=2;for(;o60 !== 10;){switch(o60){case 1:o60=this.af?5:4;break;case 2:w=this.Od;o60=1;break;case 3:o60=this.oa && (this.rq || this.gw)?9:12;break;case 5:return {status:h.yj.Gf};break;case 4:o60=!this.oa || this.rq || this.gw?3:11;break;case 7:x=x.ck;o60=6;break;case 9:x=this.Mkb(n,p,v,u,t);n=x.$;o60=7;break;case 11:(x=this.Lkb(n,p,q,u,t),n=x.$,x=x.ck);o60=6;break;case 12:n=this.mediaType === l.default.Qa.Lb && w.xA && q && this.Lu && q.Yd >= this.Yd && this.Fc - this.Lu < this.Lu - this.$c?!0:n.appendBuffer(this.response,m.sq(this));o60=6;break;case 6:this.af=!0;this.QX();return {status:n?h.yj.hx:h.yj.Gf,ck:x};break;}}};g60=8;break;case 1:k.prototype.Dlb=function(){var j60,n;j60=2;for(;j60 !== 5;){switch(j60){case 2:n=this.Od;return n.Dk && !n.dC && this.stream.ue && (n.B6 || n.C6 && -1 !== n.C6.indexOf(this.stream.Z))?n.b_a || 2:0;break;}}};k.prototype.fkb=function(n){var k60,p;k60=2;for(;k60 !== 5;){switch(k60){case 2:p=this.Od;return {ema:!1,fXb:!(void 0 !== p.F$?p.F$:n && n.F$)};break;}}};k.prototype.WLa=function(n){var l60,p;l60=2;for(;l60 !== 4;){switch(l60){case 2:p=this.Od;n=this.fkb(n);return {ema:n.ema,Lq:n.fXb && p.A6?p.A6 || 0:0};break;}}};g60=3;break;case 8:k.prototype.Lkb=function(n,p,q,v,u){var p60,t,w,x,y,z;p60=2;for(;p60 !== 11;){switch(p60){case 3:p60=y?9:12;break;case 2:(w={Lq:0},x=!1,y=!0);this.mediaType === l.default.Qa.Lb && q && (v?u && this.uU():this.$La(q)?q.oa && this.oa && this.oa.start !== q.oa.end && this.Ih({start:q.oa.end}):(w=this.WLa(p),q.Yd === this.sd && (w.Lq=0)));void 0 === (null === (t=this.oa) || void 0 === t?void 0:t.s$)?this.mediaType === l.default.Qa.Lb && !q && this.oa && (w.Lq=Math.min(this.oa.end - this.oa.start,Math.max(this.Dlb(),w.Lq || 0))):w.Lq=this.oa.s$;0 >= this.duration && (y=!1,x=!0);p60=3;break;case 8:var U5g="me";U5g+="d";U5g+="i";U5g+="a|";U5g+="asejs";var R5g="M";R5g+="P";R5g+="4";p60=(p=new c.cr(new g.default.Console(R5g,U5g),this.stream,this.response),p=p.fua(this.oa.start,this.CN,w.Lq))?7:14;break;case 9:p60=this.oa && (0 < this.oa.start || w.Lq)?8:13;break;case 7:x=n.appendBuffer(m.rC(p.yd),m.sq(this));p60=6;break;case 6:z=this.Ega(w);p60=12;break;case 14:var k5g=" ";k5g+="from [";k5g+=" ";var P5g="AseFragmentMediaRequest: F";P5g+="ragment e";P5g+="d";P5g+="it failed for ";(this.H.error(P5g + this.toString() + k5g + this.nM + "-" + this.U4 + "]"),x=!0);p60=12;break;case 13:x=n.appendBuffer(this.response,m.sq(this));p60=12;break;case 12:return {$:x,ck:z};break;}}};k.prototype.Mkb=function(n,p,q,v,u){var q60,t,w,x,y;q60=2;for(;q60 !== 11;){switch(q60){case 6:return {$:n,ck:y};break;case 2:(t=this.Od,w={Lq:0},x=!0);this.mediaType === l.default.Qa.Lb && (v?u && (this.h4(1),x=0 < this.oa.end):this.$La(q)?q.oa && 0 !== q.oa.start?this.Ih({start:0,end:q.oa.start}):x=!1:(w=this.WLa(p),t.xA || (p=this.Njb(p,q,w.ema),(x=p.LWb) && p.JLb && (w.Lq=0))));x && 0 === this.duration && (x=!1);q60=4;break;case 9:q60=(x=new c.cr(this.H,this.stream,this.response),x=x.jua(this.oa && this.oa.end,this.U,w.Lq))?8:14;break;case 3:q60=this.oa && this.oa.end < this.CC || w.Lq?9:13;break;case 8:n=n.appendBuffer(m.rC(x.yd),m.sq(this));q60=7;break;case 4:q60=x?3:12;break;case 7:y=this.Ega(w);q60=6;break;case 12:n=!0;q60=6;break;case 14:var T5g=" fro";T5g+="m ";T5g+="[ ";var h5g="AseFrag";h5g+="mentMedi";h5g+="aRequest: Fragment edit failed for ";(this.H.error(h5g + this.toString() + T5g + this.nM + "-" + this.U4 + "]"),n=!0);q60=6;break;case 13:n=n.appendBuffer(this.response,m.sq(this));q60=6;break;}}};return k;break;case 2:k.prototype.$La=function(n){var i60;i60=2;for(;i60 !== 1;){switch(i60){case 2:return n && n.J === this.J && n.WU === this.WU?!0:!1;break;}}};g60=1;break;}}})();b.Cbb=a;b.default=new a();},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hya=void 0;c=a(2);a(5);f=a(822);r=a(42);l=a(823);m=a(102);d=a(83);g=a(231);a=(function(h){function k(n,p){var q,v;q=this;v=[new l.PZ(n),new l.PZ(n),new l.PZ(n)];q=h.call(this,v,function(u){return u.complete?q.empty || u.Wa <= q.eub?0:1:u.active?1:2;}) || this;v=c.__read(v,3);q.si=v[0];q.Xe=v[1];q.$s=v[2];q.sr=0;q.Qea=0;q.H=n;q.Ye=p;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{fa:{get:function(){return this.si.fa + this.Xe.fa + this.$s.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{f_b:{get:function(){return this.$s;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Xe;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.si;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{J5a:{get:function(){return this.sr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qC:{get:function(){return this.si.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Sk:{get:function(){return this.si.fa + this.Xe.fa - this.sr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{g_b:{get:function(){return this.$s.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.JCb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Eo:{get:function(){return this.krb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$ka:{get:function(){return !this.si.empty || this.$s.empty || this.Xe.empty?this.first:this.Xe.Wa < this.$s.Wa?this.Xe.first:this.$s.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{n0a:{get:function(){return this.$s.empty || this.Xe.empty?this.Eo:this.Xe.nb < this.$s.nb?this.$s.Eo:this.Xe.Eo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CVa:{get:function(){return this.$s.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wa:{get:function(){return this.$ka && this.$ka.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nb:{get:function(){return this.n0a && this.n0a.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oj:{get:function(){return this.first && this.first.oj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dub:{get:function(){return this.si.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pIb:{get:function(){return this.Fc - this.RRa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{eub:{get:function(){return this.si.empty?this.Wa:this.si.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{RRa:{get:function(){return this.si.empty?this.$c:this.si.Fc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{SRa:{get:function(){return this.si.empty?this.sd:this.si.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{d4a:{get:function(){return this.Xe.Yd || this.si.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{As:{get:function(){return this.$s.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fp:{get:function(){return this.Xe.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{URa:{get:function(){return this.si.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kd:{get:function(){return this.si.concat(this.Xe);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cr:{get:function(){return this.vg;},enumerable:!1,configurable:!0}});k.prototype.YJ=function(n){var p;n.aborted?++this.Qea:this.sr+=n.bytesReceived || 0;if(this.empty)this.vg=new g.dB(this,{});else if(n.Wa !== this.nb)if(n.Wa > this.vg.nb)this.vg.qY(this.vg.nb);else if(n.Wa < this.Wa || n.Wa === this.vg.nb){p=n.nb;this.nCb(function(q,v){return q.Wa - v.Wa;},function(q){p=q.Wa === p?q.nb:p;});p === Math.max(this.nb,n.nb)?this.vg.rja():this.vg.qY(p);}n.vva(this);};k.prototype.$x=function(n){n.aborted?--this.Qea:this.sr-=n.bytesReceived;this.empty?this.vg=void 0:n.Wa !== this.nb && n.nb <= this.vg.nb && n.Wa > this.vg.Wa && this.vg.qY(n.Wa);n.yRa();};k.prototype.push=function(n){this.YJ(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.$x(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.$x(n);return n;};k.prototype.unshift=function(n){this.YJ(n);return h.prototype.unshift.call(this,n);};k.prototype.mq=function(n){this.YJ(n);h.prototype.mq.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.$x(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],v=2;v < arguments.length;v++){q[v - 2]=arguments[v];}v=h.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.YJ.bind(this));v.forEach(this.$x.bind(this));return v;};k.prototype.CSb=function(n){var p;p=this;this.reduce(function(q,v,u){v.aborted && (n && n(v,u,p),0 === q.length || q[0].end !== u?q.unshift({start:u,end:u + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.Kla=function(n){return this.rVa(function(p){return p.Kla(n);});};k.prototype.jM=function(n){return this.rVa(function(p){return p.jM(n);});};k.prototype.qVa=function(n){n=this.jM(n);return -1 !== n?this.get(n):void 0;};k.prototype.rVb=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.eA=function(n){this.move(n);this.mM(n);};k.prototype.CH=function(n){this.sr+=n.bytesReceived - n.cs;this.zG(n);};k.prototype.hk=function(n){for(this.sr+=n.bytesReceived - n.cs;this.Xe.first && this.Xe.first.complete && (this.si.empty?this.Xe.first === this.$ka:this.Xe.first.Wa === this.si.nb);){this.JWb();}this.Jt(n);};k.prototype.bX=function(n,p,q){this.sr-=n.bytesReceived;++this.Qea;this.lM(n,p,q);};return k;})(f.Pza);b.hya=a;r.sf(d.Su,a,!1);r.sf(m.bx,a);r.sf(m.cB,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pza=void 0;c=a(2);a(5);r=(function(){function f(l,m){this.qd=l;this.jK=m;this.Vx();}Object.defineProperties(f.prototype,{length:{get:function(){return this.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.jf;},enumerable:!1,configurable:!0}});f.prototype.JCb=function(){return this.Kg && this.Kg.get(0);};f.prototype.krb=function(){return this.dK && this.dK.get(this.dK.length - 1);};f.prototype.get=function(l){0 > l && (l+=this.length);for(var m=0;m < this.qd.length;++m){if(this.Th[m + 1] > l)return this.qd[m].get(l - this.Th[m]);}};f.prototype.push=function(l){this.qd[this.jK(l)].push(l);this.Vx();return this.jf;};f.prototype.shift=function(){var l;if(this.Kg){l=this.Kg.shift();this.Vx();return l;}};f.prototype.pop=function(){var l;if(this.dK){l=this.dK.pop();this.Vx();return l;}};f.prototype.unshift=function(l){this.qd[this.jK(l)].unshift(l);this.Vx();return this.jf;};f.prototype.mq=function(l){var m;m=this.jK(l);this.qd[m].mq(l);this.Vx();};f.prototype.remove=function(l){var m;m=this.qd.some(function(d){return d.remove(l);});m && this.Vx();return m;};f.prototype.splice=function(l,m){var q,v,u,t;for(var d,g=[],h=2;h < arguments.length;h++){g[h - 2]=arguments[h];}h=[];for(var k,n=l + Math.max(0,m),p=0;p < this.qd.length;++p){q=this.qd[p];v=this.Th[p];u=this.Th[p + 1];if(l < u){t=l - v;v=Math.min(n - v,q.length);void 0 === k && 0 < t && v < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([t,v - t],g))):(Array.prototype.push.apply(h,q.splice(t,v - t)),void 0 === k && (k=0 < p && 0 === t?p - 1:p));l=u;if(l >= n)break;}}if(g.length && void 0 !== k){for(n=this.jK(g[0]);0 < k && n < k && this.qd[k].empty;){--k;}for(;g.length && n === k;){this.qd[k].push(g.shift());if(!g.length)break;n=this.jK(g[0]);}for(;g.length && ++k < this.qd.length && this.qd[k].empty;){for(;g.length && n === k;){this.qd[k].push(g.shift());if(!g.length)break;n=this.jK(g[0]);}}g.length && (d=this.qd[k]).splice.apply(d,c.__spread([0,0],g));}this.Vx();return h;};f.prototype.find=function(l){var m,d;m=this;return this.qd.some(function(g,h){d=g.find(m.$B(l,h));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(l){var d;for(var m=0;m < this.qd.length;++m){d=this.qd[m].findIndex(this.$B(l,m));if(-1 !== d)return d + this.Th[m];}return -1;};f.prototype.indexOf=function(l){var d;for(var m=0;m < this.qd.length;++m){d=this.qd[m].indexOf(l);if(-1 !== d)return d + this.Th[m];}return -1;};f.prototype.map=function(l){var m,d;m=this;d=this.qd.map(function(g,h){return g.map(m.$B(l,h));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(l,m){var d;d=this;return this.qd.reduce(function(g,h,k){return h.reduce(d.Pob(l,k),g);},m);};f.prototype.forEach=function(l){var m;m=this;this.qd.forEach(function(d,g){d.forEach(m.$B(l,g));});};f.prototype.M4=function(l){for(var m=this.qd.length - 1;0 <= m;--m){this.qd[m].M4(this.$B(l,m));}};f.prototype.some=function(l){var m;m=this;return this.qd.some(function(d,g){return d.some(m.$B(l,g));});};f.prototype.Rva=function(l){for(var m=this.qd.length - 1;0 <= m;--m){if(this.qd[m].Rva(this.$B(l,m)))return !0;}return !1;};f.prototype.every=function(l){var m;m=this;return this.qd.every(function(d,g){return d.every(m.$B(l,g));});};f.prototype.nCb=function(l,m){var n,p;function d(q){return q.reduce(function(v,u,t,w){return void 0 === u?v:void 0 === v?t:0 > l(u,w[v])?t:v;},void 0);}for(var g=this,h=this.qd.map(function(){return 0;}),k=this.qd.filter(function(q){return q.empty;}).length;k < this.qd.length;){n=h.map(function(q,v){return q < g.qd[v].length?g.qd[v].get(q):void 0;});p=d(n);m(n[p],this.Th[p] + h[p],this);++h[p];h[p] === this.qd[p].length && ++k;}};f.prototype.move=function(l){return this.remove(l)?(this.mq(l),!0):!1;};f.prototype.JWb=function(){var l;if(this.qd[1].length){l=this.qd[1].shift();this.qd[0].push(l);this.Vx();}};f.prototype.rVa=function(l){for(var m=-1,d=0;d < this.qd.length;++d){if((m=l(this.qd[d]),-1 !== m)){m+=this.Th[d];break;}}return m;};f.prototype.toJSON=function(){return this.map(function(l){return l.toJSON();});};f.prototype.Vx=function(){var m;this.jf=0;this.Th=[0];this.dK=this.Kg=void 0;for(var l=0;l < this.qd.length;++l){m=this.qd[l];this.jf+=m.length;this.Th.push(this.Th[this.Th.length - 1] + m.length);!this.Kg && m.length && (this.Kg=m);m.length && (this.dK=m);}};f.prototype.$B=function(l,m){var d,g;d=this;g=this.Th[m];return function(h,k){return l(h,g + k,d);};};f.prototype.Pob=function(l,m){var d,g;d=this;g=this.Th[m];return function(h,k,n){return l(h,k,g + n,d);};};return f;})();b.Pza=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.PZ=void 0;c=a(2);f=a(5);r=a(42);l=a(231);a=a(102);m=(function(){function d(g,h){this.Ma=[];this.vg=void 0;this.Sc=0;this.H=g;h && h.length && (Array.isArray(h)?(this.Ma=h.slice(),this.KR(0,this.Ma.length)):h instanceof d && (this.Ma=h.Ma.slice(),this.KR(0,this.Ma.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ma[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Eo:{get:function(){return this.Ma[this.Ma.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wa:{get:function(){return this.first && this.first.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nb:{get:function(){return this.Eo && this.Eo.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Cr:{get:function(){return this.vg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fa:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oj:{get:function(){return this.first && this.first.oj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});d.prototype.Zqb=function(){var g;if(0 === this.Ma.length)(f.assert(void 0 === this.vg),f.assert(0 === this.Sc));else {f.assert(this.vg instanceof l.dB);f.assert("number" === typeof this.Sc);f.assert(void 0 !== this.Cr && this.Cr.Wa === this.Wa);g=this.Ma.reduce(function(h,k,n){return 0 === n || k.Wa === h?k.nb:h;},0);f.assert(this.Cr.nb === g);f.assert(this.Ma.reduce(function(h,k,n){return 0 === n || k.Wa === h?k.nb:h;},0) === this.Cr.nb);f.assert(this.Ma.reduce(function(h,k){return h + k.fa;},0) === this.Sc);}};d.prototype.get=function(g){0 > g && (g+=this.Ma.length);return this.Ma[g];};d.prototype.push=function(g){this.Ma.push(g);this.KR(this.Ma.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ma.unshift(g);this.KR(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ma.length)return (this.Dga(this.Ma.length - 1),this.Ma.pop());};d.prototype.shift=function(){if(0 !== this.Ma.length)return (this.Dga(0),this.Ma.shift());};d.prototype.splice=function(g,h){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > g && (g+=this.Ma.length);0 > g && (g=0);g > this.Ma.length && (g=this.Ma.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Ma.length - g);0 < h && this.Dga(g,g + h);p=(k=this.Ma).splice.apply(k,c.__spread([g,h],n));0 < n.length && this.KR(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,h){void 0 === g && (g=0);void 0 === h && (h=this.Ma.length);0 > g && (g+=this.Ma.length);if(g >= this.Ma.length)return new d(this.H);h > this.Ma.length && (h=this.Ma.length);0 > h && (h+=this.Ma.length);return new d(this.H,this.Ma.slice(g,h));};d.prototype.mq=function(g){if(0 === this.Ma.length || g.Wa >= this.nb)this.push(g);else if(g.nb <= this.Wa)this.unshift(g);else {for(var h=0,k=this.Ma.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);f.assert(n !== k && n !== h);g.Wa >= this.Ma[n].nb?h=n:k=n;}f.assert(h !== k);f.assert(this.Ma[h].nb <= g.Wa && this.Ma[k].Wa >= g.nb);this.splice(k,0,g);}};d.prototype.remove=function(g){g=this.Ma.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}g=g.map(function(k){return k.Ma;});return new d(this.H,Array.prototype.concat.apply(this.Ma,g));};d.prototype.forEach=function(g){var h;h=this;this.Ma.forEach(function(k,n){return g(k,n,h);});};d.prototype.some=function(g){var h;h=this;return this.Ma.some(function(k,n){return g(k,n,h);});};d.prototype.every=function(g){var h;h=this;return this.Ma.every(function(k,n){return g(k,n,h);});};d.prototype.map=function(g){var h;h=this;return this.Ma.map(function(k,n){return g(k,n,h);});};d.prototype.reduce=function(g,h){var k;k=this;return this.Ma.reduce(function(n,p,q){return g(n,p,q,k);},h);};d.prototype.indexOf=function(g){return this.Ma.indexOf(g);};d.prototype.find=function(g){var h,k;h=this;return this.Ma.some(function(n,p){k=p;return g(n,p,h);})?this.Ma[k]:void 0;};d.prototype.findIndex=function(g){var h,k;h=this;return this.Ma.some(function(n,p){k=p;return g(n,p,h);})?k:-1;};d.prototype.filter=function(g){var h;h=this;return new d(this.H,this.Ma.filter(function(k,n){return g(k,n,h);}));};d.prototype.M4=function(g){for(var h=this.Ma.length - 1;0 <= h;--h){g(this.Ma[h],h,this);}};d.prototype.Rva=function(g){for(var h=this.Ma.length - 1;0 <= h;--h){if(g(this.Ma[h],h,this))return !0;}return !1;};d.prototype.Kla=function(g){if(this.empty || g < this.$c || g >= this.Fc)return -1;for(var h=0,k=this.Ma.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(g >= this.Ma[n].$c && g < this.Ma[n].Fc){k=n;break;}g < this.Ma[n].Fc?k=n - 1:h=n + 1;}return k;};d.prototype.jM=function(g){if(this.empty || g < this.sd || g >= this.Yd)return -1;for(var h=0,k=this.Ma.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(g >= this.Ma[n].sd && g < this.Ma[n].Yd){k=n;break;}g < this.Ma[n].Yd?k=n - 1:h=n + 1;}return k;};d.prototype.qVa=function(g){g=this.jM(g);return 0 <= g?this.Ma[g]:void 0;};d.prototype.u2=function(g){var h;h=this.Ma[g].nb;for(g+=1;g < this.Ma.length && h === this.Ma[g].Wa;++g){h=this.Ma[g].nb;}g < this.Ma.length?void 0 === this.vg?this.vg=new l.dB(this,{nb:h}):this.vg.qY(h):void 0 === this.vg?this.vg=new l.dB(this,{}):this.vg.rja();};d.prototype.YJ=function(g,h){for(var k=g;k < h;++k){this.Sc+=this.Ma[k].fa;}void 0 === this.vg || 0 === g?this.u2(0):this.vg.nb === this.nb?this.u2(g - 1):this.Ma[g].Wa === this.vg.nb && this.u2(g);};d.prototype.$x=function(g,h){var k;if(0 === g)(this.vg=void 0,h < this.length && this.u2(h));else {k=this.vg;k.nb > this.Ma[g - 1].nb && (h < this.length?k.qY(this.Ma[g - 1].nb):k.rja());}for(;g < h;++g){this.Sc-=this.Ma[g].fa;}};d.prototype.KR=function(g,h){void 0 === h && (h=g + 1);this.YJ(g,h);};d.prototype.Dga=function(g,h){void 0 === h && (h=g + 1);this.$x(g,h);};return d;})();b.PZ=m;r.sf(a.bx,m);r.sf(a.cB,m);},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mya=void 0;c=a(2);f=a(116);l=a(5);c.__importDefault(a(6));m=a(9);d=a(241);g=a(101);h=a(232);k=a(117);r=(function(n){function p(q,v,u,t,w,x){v=n.call(this,q,t,w,v,x) || this;v.Jkb=u;v.t1=p.qE.INIT;v.V6b=t.offset;v.Yfa=g.Dm.prototype.toString.call(v) + " multiple";v.fnb=t.fa;v.QK(q.url,t.offset,8,0);return v;}c.__extends(p,n);Object.defineProperties(p.prototype,{data:{get:function(){return this.Nm;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fa:{get:function(){return this.fnb;},enumerable:!1,configurable:!0}});p.prototype.hk=function(q){var v,u;this.Nm=this.t1 === p.qE.INIT?q.response:m.rC(this.Nm,q.response);q.QX();switch(this.t1){case p.qE.INIT:(v=new DataView(this.Nm),u=v.getUint32(0));v=v.getUint32(4);f.Wn(v);this.QK(q.url,q.offset + q.fa,u,0);d.iE.prototype.hk.call(this,q);this.t1=p.qE.MEa;break;case p.qE.MEa:v=new DataView(this.Nm);u=v.getUint32(this.VLa - 8);v=v.getUint32(this.VLa - 4);f.Wn(v);this.QK(q.url,q.offset + q.fa,u - 8,0);this.t1=p.qE.HEa;d.iE.prototype.hk.call(this,q);break;case p.qE.HEa:d.iE.prototype.hk.call(this,q);break;default:l.assert(!1);}};p.prototype.OF=function(q){if(this.af)return {status:k.yj.hx};if(!this.Xt())return {status:k.yj.Gf};this.af=q.appendBuffer(this.Nm,m.sq(this));return {status:this.af?k.yj.hx:k.yj.Gf};};p.prototype.QK=function(q,v,u,t){q=new h.PP(this.stream,this.Jkb,this.Yfa + " (" + this.Da.length + ")",{J:this.J,mediaType:this.mediaType,Pa:this.Pa,bitrate:this.bitrate,offset:v,fa:u,url:q,location:this.location,Ld:this.Ld,responseType:t},this,this.Od,this.H);this.push(q);this.VLa=this.Da.reduce(function(w,x){return w + x.fa;},0);};p.qE={INIT:0,MEa:1,HEa:2,name:["INIT","MOOF","MDAT"]};return p;})(d.iE);b.mya=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.WJa=void 0;c=a(236);f=a(21);r=(function(){function l(m,d){this.og=m;this.console=d;this.oF=Infinity;this.UR=this.X1=0;this.wOa=!1;}l.prototype.hUb=function(){this.wOa=!0;};l.prototype.QBb=function(m,d,g,h,k){var n;if(this.og){n=m.W;if(n){if(1 === g)(g=n.hn(Math.ceil(this.og * m.qa.MH),void 0,!0),n=m.Mk(g),m=n.wU.wl(m.qa),n.Ih({start:0,end:this.og - g * m}),this.oF=this.og);else {void 0 !== h.A8a?(d=h.A8a,g=d * m.qa.T):(g=c.z5(h,k) + Math.ceil(h.Sqb * m.qa.MH),f.S.tb(g).wl(m.qa),g=d + g,d=Math.ceil(g / m.qa.MH));g=n.hn(g,void 0,!0);for(k=h=0;k < g;++k){n=m.Mk(k);h+=n.wU.wl(m.qa);}h=d - h;n=m.Mk(g);n.Ih({end:h});this.oF=d;}n.n1a();return n;}}};l.prototype.rIb=function(m){this.UR+=m.s6a;this.console.warn("StallAtFrameCount, adding frames: " + m.s6a,"total frames: " + this.UR,"needed frames: " + this.oF);};l.prototype.gHb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.X1,"needed: " + this.oF);return this.X1 >= this.oF;};l.prototype.fHb=function(){return this.UR >= this.oF;};l.prototype.tIb=function(m,d){this.X1+=this.FC(m,d);};l.prototype.MAb=function(m,d,g){m.s6a=this.FC(d,g);};l.prototype.FC=function(m,d){return m.wU.wl(d.qa);};l.prototype.By=function(){if(!this.fHb())return !1;if(this.wOa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.UR + " >= " + this.oF);return !0;};return l;})();b.WJa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.rea=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(28));l=r.__importDefault(a(6));m=a(27);d=a(16);g=a(238);h=a(827);k=new l.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ma[d.ma.qh],d.ma[d.ma.ud],d.ma[d.ma.If],d.ma[d.ma.Ec],d.ma[d.ma.Vg],"checkBuffering"];p={first:a(829),random:a(830),optimized:a(173).default,roundrobin:a(834),selectaudio:a(386),selectaudioadaptive:a(835),"default":a(173).default,lowest:a(836),highest:a(837),throughputthreshold:a(838),replay:a(839).default,checkdefault:a(841),testscript:a(842)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var r60;r60=2;for(;r60 !== 6;){switch(r60){case 7:return v;break;case 3:v.prototype.M4=function(u,t){var E60,w;E60=2;for(;E60 !== 3;){switch(E60){case 2:w=u.length - 1;E60=1;break;case 8:w=u.length * 8;E60=2;break;E60=1;break;case 7:E60=1 < w?3:1;break;E60=0 <= w?5:3;break;case 1:E60=0 <= w?5:3;break;case 4:--w;E60=1;break;case 5:t(u[w],w,u);E60=4;break;case 6:t(u[w],w,u);E60=0;break;E60=4;break;case 14:++w;E60=0;break;E60=1;break;}}};Object.defineProperties(v.prototype,{j7:{get:function(){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return this.Zfa;break;case 4:return this.Zfa;break;F60=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Rpa:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.dga;break;}}},enumerable:!1,configurable:!0}});r60=7;break;case 2:v.prototype.bva=function(u,t,w,x,y,z){var L2q=a000;var u60,K,H,A,B,D,E,F,C,G,I,L,R,v60,J;u60=2;for(;u60 !== 61;){switch(u60){case 13:(K=w.W,H=K.length);u60=12;break;case 62:var a5g="Stream select";a5g+="or cal";a5g+="led with invalid p";a5g+="layer state ";return (k.error(a5g + d.ma[u.state]),null);break;case 20:u60=!(0 <= C)?19:16;break;case 9:u60=c.ha(C) && u.state === d.ma.Ec && (G=!0,void 0 !== this.Gg.au)?8:13;break;case 37:return null;break;case 28:G.W && G.W.length || (x=!0,I.Qy.push(G.Pa));u60=44;break;case 16:c.ha(C) && (C=this.Gg.h0a);void 0 !== x && this.hta(t,! !u.Rr,u.buffer,x);u.state === d.ma.qh && c.Ba(C) && (u.state=d.ma.ud);u.state !== d.ma.qh && void 0 === C && (u.state=d.ma.qh);u60=25;break;case 24:this.dga=this.Zfa=void 0;u60=23;break;case 43:L2q.O0g(7);var x31=L2q.w0g(16,16);y=I.Ge - x31;u60=42;break;case 46:this.Gg.D7a(f.default.C_.qh);u60=22;break;case 30:u60=y < t.length?29:44;break;case 23:this.Gg.D7a(f.default.C_.qh);u60=22;break;case 41:G=t[y];u60=40;break;case 52:this.M3a && (I.ju=this.M3a.qFb({mL:w.bm - w.Gc,ILb:t[0],ii:x,U_b:t[I.Ge + 1] || x,qZb:t[t.length - 1],rf:u.state,playbackRate:u.playbackRate,Wd:u.Wd}));c.Ba(C) && x.bitrate < t[C].bitrate && (this.Zfa=w.Cc);u60=50;break;case 36:this.Gg.m$(I.Ge);x=t[I.Ge];I.reason && (x.ns=I.reason,x.ava=I.Ut,x.xz=I.xz,x.Bo=I.Bo,x.Co=I.Co);u60=52;break;case 21:u60=I.ii && (I.Qy=[],t.forEach(function(P,N){var z60;z60=2;for(;z60 !== 4;){switch(z60){case 2:P === I.ii && (I.Ge=N);(!F.aAb || P.W && P.W.length) && !P.A$ || I.Qy.push(P.Pa);P.A$=!1;z60=4;break;}}}),!I.Qy.length)?35:38;break;case 42:u60=0 <= y?41:39;break;case 2:w=null === u || void 0 === u?void 0:u.buffer;(E=l.default.time.ea(),F=this.I,C=this.Gg.h0a,G=!1);c.Ba(C) && u.state === d.ma.qh && (this.Gg.m$(void 0),C=void 0);c.Ba(C) && C >= t.length && (this.Gg.m$(void 0),C=void 0);u60=9;break;case 45:u60=v60 === d.ma.If?46:65;break;case 22:I=this.sg[d.ma[u.state]].call(this,F,u,t,C,x,! !y,G);u60=21;break;case 44:u60=!x?43:39;break;case 47:u60=v60 === d.ma.ud?46:45;break;case 11:L=K[H - 1].Pa;C=m.Ip(t,function(P){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return P.Pa === L;break;case 4:return P.Pa != L;break;x60=1;break;}}});u60=20;break;case 14:this.Gg.m$(C);u60=13;break;case 12:u60=0 < H?11:16;break;case 32:u60=F.r8a && y > F.zW?31:39;break;case 19:R=K[H - 1].bitrate;C=m.Ip(t,function(P){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return P.bitrate > R;break;case 4:return P.bitrate <= R;break;y60=1;break;}}});u60=17;break;case 31:L2q.O0g(8);var y31=L2q.w0g(179,9,20);y=I.Ge + y31;u60=30;break;case 38:u60=!I || null === I.Ge?37:36;break;case 63:u60=62;break;case 50:var L5g="pl";L5g+="a";L5g+="yin";L5g+="g";u.state !== d.ma.Ec && u.state !== d.ma.Vg?(t=g.h9(u.state),z=this.By(u.buffer,t,u.playbackRate,x,z),(I.Le=z.complete)?I.Z2=z.reason:(I.Le=!1,I.aI=z.aI,I.hD=z.hD,I.progress=z.progress)):(I.Le=!0,I.Z2=L5g);u.XL && (I.Cc=w.Cc,z=u && u.Wd,t=x.W,I.Vj=t && void 0 !== z && !isNaN(z) && 0 <= z && z < t.length?t.rj(z):w.Cc,I.CRb=x.Sa || 0,I.HOb=x.ub && x.ub.Sa && x.ub.Sa.Fa || 0,I.Kia=w.bm - w.Gc,I.NQa=w.Sg,I.iRb=null !== (D=null === (B=null === (A=l.default.L8b) || void 0 === A?void 0:A.call(l.default)) || void 0 === B?void 0:B[1 === u.mediaType?1:0]) && void 0 !== D?D:-1,I.rf=u.state,I.Fp=u && u.Fp,I.Vwa=E,I.LYb=l.default.time.ea());return I;break;case 25:v60=u.state;u60=v60 === d.ma.qh?24:47;break;case 35:y=w.bm - w.Gc;G=void 0;x=!1;u60=32;break;case 65:u60=v60 === d.ma.Ec?22:64;break;case 39:x || (I.Qy=void 0);u60=38;break;case 64:u60=v60 === d.ma.Vg?22:63;break;case 8:J=this.Gg.au.bitrate;C=m.Ip(t,function(P){var w60;w60=2;for(;w60 !== 1;){switch(w60){case 2:return P.bitrate > J;break;}}});C=0 < C?C - 1:0 === C?0:t.length - 1;u60=14;break;case 17:C=0 < C?C - 1:0 === C?0:t.length - 1;u60=16;break;case 40:G.W && G.W.length || (x=!0,I.Qy.push(G.Pa));u60=39;break;case 29:G=t[y];u60=28;break;}}};v.prototype.By=function(u,t,w,x,y){var A60;A60=2;for(;A60 !== 1;){switch(A60){case 2:return this.sg.checkBuffering.call(this,u,t,w,x,y,this.I);break;}}};v.prototype.RXb=function(u,t,w){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:c.ha(t)?this.Zfa=this.dga=void 0:t.bitrate < w.bitrate && (this.dga=u);B60=1;break;}}};v.prototype.hta=function(u,t,w,x){var C60,y,z;C60=2;for(;C60 !== 5;){switch(C60){case 2:this.M4(u,function(A){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:A.$t && A.ub && A.ub.confidence?(y !== A.ub && (y=A.ub,t && A.ub && (A.ub.Rr=!0),z=Math.floor(x(A.ub,w,A.track.O.pw[0])),z=0 === z?1:z),A.Sa=z):A.Sa=void 0;D60=1;break;}}});C60=5;break;}}};r60=3;break;}}function v(u,t,w,x){var s60,y;s60=2;for(;s60 !== 6;){switch(s60){case 2:y=this;this.HO=u;this.I=t;this.Gg=w;s60=3;break;case 3:var p5g="1SIY";p5g+="bZ";p5g+="rNJC";p5g+="p";p5g+="9";p5g;u=u || this.I.gwa;this.sg=n.reduce(function(z,A){var t60;t60=2;for(;t60 !== 5;){switch(t60){case 2:z[A]=((p[u] || p[q[A]])[A] || p[q[A]][A]).bind(y);return z;break;}}},{});x && (this.M3a=new h.DGa(t));s60=6;break;}}}})();b.rea=a;},function(r,b,a){var g,h,k;function c(n){return m(n.ii);}function f(n,p){var q,v,u,t;q=p.q3.L7b;if(!q || "object" !== typeof q)return 0;p=n.ii;v=n.U_b;u=n.qZb;t={selectedFragmentBitrate:l(p,n.Wd) * n.playbackRate,upswitchFragmentBitrate:l(v,n.Wd) * n.playbackRate,maxFragmentBitrate:l(u,n.Wd) * n.playbackRate,selectedPeakBitrate:(p.Xz || 0) * n.playbackRate,upswitchPeakBitrate:(v.Xz || 0) * n.playbackRate,maxPeakBitrate:(u.Xz || 0) * n.playbackRate,selectedAverageBitrate:((null === p || void 0 === p?void 0:p.bitrate) || 0) * n.playbackRate,upswitchAverageBitrate:((null === v || void 0 === v?void 0:v.bitrate) || 0) * n.playbackRate,maxAverageBitrate:m(p) * n.playbackRate,bufferLevelMs:n.mL,observedThroughput:d(n.ii) || 0,predictedThroughput:(null === p || void 0 === p?void 0:p.Sa) || 0};n=q.offset || 0;return Object.keys(t).reduce(function(w,x){return w + (q[x] || 0) * t[x];},n);}function l(n,p){var q;return (void 0 !== p?null === (q=n.W) || void 0 === q?void 0:q.get(p).wQa:void 0) || n.Xz || 0;}function m(n){var p,q;q=null === (p=null === n || void 0 === n?void 0:n.O) || void 0 === p?void 0:p.pw;return q?q[n.mediaType] || 0:0;}function d(n){var p,q;return (null === (q=null === (p=null === n || void 0 === n?void 0:n.ub) || void 0 === p?void 0:p.Sa) || void 0 === q?void 0:q.Fa) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.DGa=void 0;r=a(2).__importDefault(a(6));g=a(16);h=a(828);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");k={maxStreamBitrate:c,"static":function(n,p){return p.GXb;},none:function(){return 0;},regression:f,epsGreedy:function(n,p){return Math.min(f(n,p) || 0,d(n.ii));},"default":c};a=(function(){var H60;H60=2;function n(p){var I60;I60=2;for(;I60 !== 4;){switch(I60){case 2:var q5g="d";q5g+="e";q5g+="fau";q5g+="l";q5g+="t";var B5g="1SIY";B5g+="bZ";B5g+="r";B5g+="NJ";B5g+="Cp9";this.I=p;B5g;this.algorithm=(k[this.I.bQb] || k[q5g]).bind(this);I60=4;break;}}}for(;H60 !== 3;){switch(H60){case 2:n.prototype.Nma=function(p,q,v){var J60,u;J60=2;for(;J60 !== 8;){switch(J60){case 2:J60=1;break;case 1:J60=!v?5:4;break;case 4:a000.Q0g(9);q=Math.ceil(a000.Z0g(q,v));p=(this.I.q3.z9b || 0) * ((null === (u=p.ILb) || void 0 === u?void 0:u.Xz) || 0);return q < p?0:q;break;case 5:return 0;break;}}};n.prototype.ZWb=function(p,q){var K60,v,u;K60=2;for(;K60 !== 5;){switch(K60){case 2:return !q.q3.l8b || p.rf !== g.ma.qh && p.rf !== g.ma.ud?!1:(p=null === (v=p.ii) || void 0 === v?void 0:v.ub) && p.confidence >= g.bda.ox && (null === (u=p.Sa) || void 0 === u?0:u.Fa)?!0:!1;break;}}};n.prototype.qFb=function(p){var L60,u,q,v;L60=2;for(;L60 !== 14;){switch(L60){case 5:return q;break;case 4:u=this.I.e_b;L60=3;break;case 3:L60=u && p.Wd && 0 === p.Wd % u?9:8;break;case 1:L60=!v?5:4;break;case 2:(q=new h.sda({UO:0,BL:0,kO:0}),v=this.I.q3);L60=1;break;case 9:return q;break;case 8:q=0;this.ZWb(p,this.I)?q=d(p.ii):p.mL >= v.DW && (q=this.algorithm(p,this.I));return new h.sda({UO:this.Nma(p,q,v.u5a[0]),kO:this.Nma(p,q,v.u5a[2]),BL:this.Nma(p,q,v.u5a[1])});break;}}};return n;break;}}})();b.DGa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sda=void 0;c=a(2);r=(function(){function f(l){this.UO=l.UO;this.BL=l.BL;this.kO=l.kO;}Object.defineProperties(f.prototype,{v5a:{get:function(){return [this.UO,this.BL,this.kO];},enumerable:!1,configurable:!0}});f.prototype.T6=function(){return this.v5a.some(function(l){return 0 < l;});};f.prototype.q1a=function(l,m,d,g){var h;h=8 * l / Math.max(d - m,1);if(!this.T6())return !1;l=this.v5a.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,c.__spread(l)) < g;};return f;})();b.sda=r;},function(r,b,a){var f,l,m,d;function c(g,h,k,n){if(f.ha(n))g=l(k);else if(m(k[n]))g=n;else if((g=l(k,n),0 > g))return null;return new d(g);}f=a(10);b=a(39);l=b.Sla;m=b.$G;d=b.lp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){l=d.map(function(g,h){return g.$t?h:null;}).filter(function(g){return null !== g;});return l.length?new f(l[Math.floor(Math.random() * l.length)]):null;}f=a(39).lp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Z9=void 0;r=a(2);c=r.__importStar(a(10));f=a(27);r=r.__importDefault(a(39));l=a(385);m=r.default.assert;d=r.default.lp;b.Z9=g;(function(){function h(k,n,p,q){var N60,u,t,w,y,x;N60=2;for(;N60 !== 10;){switch(N60){case 2:var l5g="Must h";l5g+="ave at least on";l5g+="e selected stream";m(!c.ha(q),l5g);(u=p[q],t=u.bitrate,w=u);N60=5;break;case 3:N60=void 0 === u?9:6;break;case 5:N60=u.Sa?4:14;break;case 9:u=p[0];N60=8;break;case 4:u=f.dg(p.slice(0,Math.min(q + (k.dqb?2:1),p.length)).reverse(),v);N60=3;break;case 6:var t5g="s";t5g+="elect_feasible_buffe";t5g+="ring";x=t5g;N60=7;break;case 14:p=new d();p.ii=u;w !== u && (p.reason=x,p.Ut=y);return p;break;case 7:y=null === u || void 0 === u?void 0:u.Sa;N60=14;break;case 8:var n5g="fallback_lo";n5g+="west_ac";n5g+="ceptable_stream";x=n5g;N60=7;break;}}function v(z){var O60,A;O60=2;for(;O60 !== 8;){switch(O60){case 1:O60=!A || (z.bitrate > t?k.T_b:1) * z.bitrate * n.playbackRate > A?5:4;break;case 2:A=z.Sa;O60=1;break;case 5:return !1;break;case 4:var j5g="buff_l";j5g+="t_hi";j5g+="st";x=j5g;y=A;return !0;break;}}}}var M60;M60=2;for(;M60 !== 5;){switch(M60){case 2:var g5g="1SI";g5g+="YbZ";g5g+="rNJCp9";b.Z9=g=function(k,n,p,q,v,u,t){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 2:var D5g="pl";D5g+="ay";D5g+="ing";return D5g === k.Iia?l.Nw.call(this,k,n,p,q,v,u,t):h.call(this,k,n,p,q);break;}}};g5g;M60=5;break;}}})();},function(r,b,a){var c;a(10);c=a(39).console;r.exports=function(f,l,m,d,g,h,k,n,p,q,v,u,t,w,x){var s0q=a000;var Q60,F,C,D,E,y,z,A,B;Q60=2;for(;Q60 !== 39;){switch(Q60){case 28:Q60=n >= p && f > B?40:44;break;case 21:return {result:!1,kW:f / (y / 1E3),Ht:!1};break;case 43:d=Math.min(f,d);Q60=15;break;case 18:s0q.O0g(7);w*=s0q.w0g(y,1E3);s0q.Q0g(7);t*=s0q.w0g(y,1E3);Q60=16;break;case 16:s0q.O0g(7);B*=s0q.w0g(y,1E3);Q60=15;break;case 30:(v+=A[E],++E,g+=z[E]);Q60=31;break;case 34:s0q.Q0g(10);m+=s0q.Z0g(u,0,F,h);k+=C;Q60=32;break;case 35:s0q.Q0g(1);f=s0q.w0g(m,k);Q60=34;break;case 44:D=f;Q60=43;break;case 27:(F=A[n],C=z[n]);Q60=26;break;case 23:(m=g,v+=A[E],++E,f=z[E],g+=f);Q60=24;break;case 29:++n;Q60=28;break;case 24:Q60=v < D?23:22;break;case 11:m+=f;0 === k && (m=0);s0q.Q0g(7);m*=s0q.w0g(y,1E3);Q60=19;break;case 7:var C5g=" >=";C5g+=" fragme";C5g+="ntsLen";C5g+="gt";C5g+="h: ";var N5g="Streami";N5g+="n";N5g+="gIndex: ";s0q.O0g(11);g=s0q.Z0g(y,f,1E3,g);s0q.Q0g(12);f=s0q.Z0g(h,0,u,8);s0q.O0g(13);u=s0q.w0g(0,8,u);s0q.Q0g(7);h=s0q.Z0g(y,1E3);n >= l && c.error(N5g + n + C5g + l);Q60=11;break;case 3:d=Infinity;(D=0,E=0);f=f.rd[0];Q60=7;break;case 22:Q60=!x && (f=k - m,f < w)?21:35;break;case 40:return {result:!0,kW:d / (y / 1E3),Ht:!0};break;case 25:D=Math.max(F,q);Q60=24;break;case 32:v-=F;Q60=31;break;case 26:Q60=v < F?25:42;break;case 31:Q60=g < m && E < n?30:29;break;case 42:Q60=(f=Math.max(k - m,0),f < t && f < D)?41:34;break;case 2:var m5g="1";m5g+="S";m5g+="IYbZr";m5g+="NJCp9";m5g;y=f.U;l=Math.min(f.length,l);(z=f.rd,A=f.sizes,B=d - m);Q60=3;break;case 19:s0q.Q0g(7);k*=s0q.Z0g(y,1E3);Q60=18;break;case 15:Q60=n < l?27:40;break;case 41:return {result:!1,kW:Math.min(f,d) / (y / 1E3),Ht:!0};break;}}};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.mJb=b.e7a=void 0;c=a(2);f=c.__importDefault(a(86));l=c.__importStar(a(10));m=a(27);d=a(360);g=c.__importDefault(a(6));r=c.__importDefault(a(115));a=c.__importDefault(a(39));h=a.default.GNb;k=a.default.esb;n=a.default.o3;p=a.default.lp;q=r.default.Iva;a=(function(){function y(B,D,E,F,C,G){var Z60;Z60=2;for(;Z60 !== 5;){switch(Z60){case 2:var r5g="n";r5g+="o_v";r5g+="alid_";r5g+="B";r5g+="itrate";var d5g="no";d5g+="_val";d5g+="i";d5g+="d_VMA";d5g+="F";var c5g="no_va";c5g+="lid_DelayTa";c5g+="rget";B=E?B.Eb >= G.gu && B.Eb <= G.I1a:B.bitrate >= G.vw && B.bitrate <= G.Uz;return (F=F < C && B)?{F4:F}:{F4:F,reason:B?c5g:E?d5g:r5g};break;}}}var R60;function v(B,D){var S60,E,F;S60=2;for(;S60 !== 12;){switch(S60){case 6:(F=d.tKa.tFb(B),l.ad(F)?(B.kj=F,F=!0):F=!1);S60=14;break;case 2:E=new p();E.ii=B;S60=5;break;case 5:B=E.ii.ub || ({});E.Co=B.Xl && B.sk;E.Bo=B.Xl?B.Xl:0;S60=9;break;case 7:S60=(F=l.Ba(D.a$) && 0 <= D.a$ && 100 >= D.a$ && !l.ha(B) && !l.Cb(B))?6:14;break;case 9:B=f.default(E.Co,{});S60=7;break;case 14:var b5g="his";b5g+="t_thro";b5g+="ugh";b5g+="put";var A5g="hist_";A5g+="tdi";A5g+="gest";F?(D=B.kj(D.a$ / 100) || E.ii.Sa,E.Ut=D,E.reason=A5g):E.ii.Sa && (D=E.ii.Sa,E.Ut=D,E.reason=b5g);return E;break;}}}function t(B,D){var U60,E,F;U60=2;for(;U60 !== 13;){switch(U60){case 2:U60=B.t6?1:14;break;case 5:U60=0 === F?4:3;break;case 9:return E[E.length - 1].d;break;case 7:E=E[F];U60=6;break;case 1:(E=B.t6,F=m.Ip(E,function(C){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 2:return D <= C.r;break;}}}));U60=5;break;case 4:return E[0].d;break;case 3:U60=-1 === F?9:8;break;case 14:return B.Vr;break;case 8:a000.O0g(1);B=E[a000.Z0g(1,F)];U60=7;break;case 6:return Math.floor(B.d + (E.d - B.d) * (D - B.r) / (E.r - B.r));break;}}}function A(B,D,E,F){var d70,C;d70=2;for(;d70 !== 7;){switch(d70){case 5:return B.aT?x(B,D,E,F):z(B,D,E,F);break;case 1:var o5g="n";o5g+="um";o5g+="b";o5g+="e";o5g+="r";d70=o5g !== typeof C?5:4;break;case 4:var M5g="hi";M5g+="st_bitrat";M5g+="e";B=new p();B.ii=m.dg(E.slice().reverse(),function(G){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return G.bitrate <= C;break;}}}) || E[0];B.reason=M5g;return B;break;case 2:var f5g="v";f5g+="b";C=g.default.storage.get(f5g);d70=1;break;}}}R60=2;function u(B,D,E){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:B=k(E.hj,B * E.Zqa);return h(B,D);break;}}}function x(B,D,E){var X60,F,C,G,J,K,H;X60=2;for(;X60 !== 19;){switch(X60){case 2:(F=! !B.gu && ! !B.I1a && E.every(function(L){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return L.Eb && 110 >= L.Eb;break;case 4:return L.Eb || 850 < L.Eb;break;Y60=1;break;}}}),C=null,G=E.length - 1);X60=1;break;case 5:J=E[G];C=v(J,B);(K=u(J.bitrate * D.playbackRate,C.Ut,B),H=w(C.Ut,B));H=y(J,C.Ut,F,K,H,B);J=H.F4;H=H.reason;C.xz=K;X60=14;break;case 1:X60=0 <= G && (F?E[G].Eb >= B.gu:E[G].bitrate >= B.vw)?5:11;break;case 12:G--;X60=1;break;case 13:C.reason=H;X60=12;break;case 14:X60=J?11:13;break;case 11:var I5g="fall";I5g+="back_no_accepta";I5g+="ble_s";I5g+="tream";l.Cb(C) && (C=v(E[0],B));l.Cb(C) && (C=v(E[0],B),C.reason=I5g);return C;break;}}}for(;R60 !== 5;){switch(R60){case 2:var G5g="1";G5g+="SIYb";G5g+="ZrN";G5g+="JC";G5g+="p9";G5g;return {dob:function(B,D,E,F){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:var e5g="h";e5g+="is";e5g+="tori";e5g+="c";e5g+="al";return e5g === B.Loa?A(B,D,E,F):B.aT?x(B,D,E,F):z(B,D,E,F);break;}}},Glb:y};break;}}function w(B,D){var O0q=a000;var W60,E;W60=2;for(;W60 !== 9;){switch(W60){case 1:var F5g="l";F5g+="o";F5g+="g";W60=0 === D.DO.lastIndexOf(F5g,0)?5:3;break;case 7:O0q.Q0g(14);var z31=O0q.w0g(34,6,20,19);O0q.O0g(6);var A31=O0q.Z0g(816,9,43);B=n(B,z31,A31) + 167;W60=8;break;W60=1;break;case 2:O0q.O0g(15);var C31=O0q.w0g(2,50005,99990);O0q.O0g(1);var D31=O0q.w0g(15,1015);B=n(B,0,C31) / D31;W60=1;break;case 5:E=D.DO;W60=4;break;case 4:return (E=D.f7a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * Math.log(1 + B)):D.Vr;break;case 3:var E5g="si";E5g+="gm";E5g+="oid";return 0 === D.DO.lastIndexOf(E5g,0)?(E=D.DO,(E=D.f7a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * q(B)):D.Vr):D.Vr;break;}}}function z(B,D,E){var a70,F,C;a70=2;for(;a70 !== 4;){switch(a70){case 2:(F=new p(),C=Math.max(B.vw,B.T7,D.cpa?B.kra:-Infinity));F.ii=m.dg(E.filter(function(G){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return G.bitrate <= B.Uz;break;}}}).reverse(),function(G){var c70,K,J,H;c70=2;for(;c70 !== 13;){switch(c70){case 5:G=G.bitrate * D.playbackRate;K=J.Sa;c70=3;break;case 1:c70=G.bitrate > C?5:14;break;case 2:J={Sa:G.Sa,Xl:G.ub && G.ub.Xl,sk:G.ub && G.ub.sk};c70=1;break;case 9:H=t(B,G);c70=8;break;case 3:c70=K?9:6;break;case 8:var H5g="hist";H5g+="_buf";H5g+="fti";H5g+="me";u(G,K,B) <= H?(F.Ut=K,J && (F.Bo=J.Xl?J.Xl:0,F.Co=J.Xl && J.sk),F.reason=H5g,J=!0):J=!1;c70=7;break;case 7:return J;break;case 6:J=!1;c70=7;break;case 14:var J5g="n";J5g+="o_histori";J5g+="cal_lte";J5g+="_min";J5g+="bitrate";var x5g="his";x5g+="t";x5g+="_tput_lt_minbit";x5g+="rate";var W5g="l";W5g+="t_hist_lt";W5g+="e_m";W5g+="i";W5g+="nbitrate";(K=J.Sa,G.bitrate * D.playbackRate <= K?(F.Ut=K,J && (F.Bo=J.Xl?J.Xl:0,F.Co=J.Xl?J.sk:void 0),F.reason=W5g,J=!0):K?(F.Ut=K,J && (F.Bo=J.Xl?J.Xl:0,F.Co=J.Xl?J.sk:void 0),F.reason=x5g,J=!1):(F.reason=J5g,J=!0));c70=7;break;}}}) || E[0];return F;break;}}}})();r=a.Glb;b.e7a=a.dob;b.mJb=r;},function(r,b,a){var f,l,m,d;function c(g,h,k){var n,p;n=this.aga;h=h.buffer.Cc;p="forward" === g.OUb;if(f.ha(n))return (n=p?l(k):l(k,k.length),this.cga=h,this.aga=n,new d(n));m(k[n]) || (n=l(k,n),this.cga=h,this.aga=n);if(0 > n)return null;if(h > this.cga + g.XYb){g=k.map(function(q,v){return q.$t?v:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?n=(g.indexOf(n) + 1) % g.length:(n=g.indexOf(n) - 1,0 > n && (n=g.length - 1));this.aga=g[n];this.cga=h;return new d(g[n]);}return new d(n);}f=a(10);b=a(39);l=b.Sla;m=b.$G;d=b.lp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){function f(u,t,w,x){var j70,y,J,K,G,B,D,E,F,C,z,A;j70=2;for(;j70 !== 32;){switch(j70){case 13:j70=E && F < C.RTa * D * t.playbackRate?12:16;break;case 11:j70=0 <= E?10:21;break;case 16:var v5g=" ";v5g+="k";v5g+="b";v5g+="p";v5g+="s";var u5g=" kb";u5g+="p";u5g+="s";u5g+=" > ";var y5g="throughp";y5g+="ut ";y5g+="for ";y5g+="audio ";j70=E < A.length - 1 && F > C.z$a * D * t.playbackRate && (g && d.log(y5g + F + u5g + C.z$a + "*" + D + v5g),D=t.buffer,G=D.bm - D.Gc,B.W && B.W.length)?15:21;break;case 19:j70=n(G) && (0 == E || G.bitrate * t.playbackRate * C.RTa < F)?18:17;break;case 2:var s5g="Must ";s5g+="h";s5g+="ave at least one";s5g+=" selected stream";h(!l.ha(x),s5g);y=w[x].Zg;j70=5;break;case 25:j70=++E < A.length?24:21;break;case 21:var S5g="k";S5g+="bps,";S5g+=" str";S5g+="eamingP";S5g+="ts :";var i5g=",";i5g+=" audio thro";i5g+="ughput:";var z5g=" ";z5g+="kbps, pr";z5g+="ofile :";var Y5g="selectAudio";Y5g+="Stream: selected strea";Y5g+="m :";var V5g=" ";V5g+="k";V5g+="b";V5g+="p";V5g+="s";var Q5g=" k";Q5g+="bp";Q5g+="s";Q5g+=", t";Q5g+="o ";var O5g="swit";O5g+="ch";O5g+="ing audio fro";O5g+="m ";var w5g="d";w5g+="o";w5g+="w";w5g+="n";var Z5g="u";Z5g+="p";F=w[z];z !== x && g && d.log((z > x?Z5g:w5g) + O5g + B.bitrate + Q5g + F.bitrate + V5g);g && d.log(Y5g + F.bitrate + z5g + y + i5g + F.Sa + S5g + t.buffer.Cc);return new p(z);break;case 26:var R7g=", ";R7g+="streaming";R7g+="Pts";R7g+=" = ";var X7g=",";X7g+=" lastUpswi";X7g+="tc";X7g+="hPts";X7g+=" = ";var K7g="  Upswitc";K7g+="h allowed";K7g+=". lastDownswitc";K7g+="hPts ";K7g+="= ";g && d.log(K7g + K + X7g + J + R7g + D.Cc);j70=25;break;case 27:j70=t.pq && G > C.Nz && (void 0 === K || Number(J) > K || D.Cc - K > C.t7)?26:22;break;case 5:j70=!(u && u.gP && 0 <= u.gP.indexOf(y))?4:3;break;case 15:(J=this.Rpa,K=this.j7);j70=27;break;case 10:D=A[E];G=w[D];j70=19;break;case 18:z=D;j70=21;break;case 4:return new p(x);break;case 7:(B=w[x],D=B.bitrate,E=A.indexOf(x),F=B.Sa,C=u.Xqb);j70=6;break;case 8:j70=A && 1 < A.length?7:21;break;case 3:z=x;u.o9a.some(function(H){var k70,L,R,I,P,N,M;k70=2;for(;k70 !== 9;){switch(k70){case 2:(L=H.profiles,R=L && 0 <= L.indexOf(y));k70=1;break;case 5:(I=(H=H.eX) && H.a8 || u.a8,P=H && H.e$b || -Infinity,N=H && H.rN || Infinity,M=t.buffer.Mv);k70=4;break;case 3:return R;break;case 4:A=w.filter(function(Q){var l70,T;l70=2;for(;l70 !== 5;){switch(l70){case 2:T=Q.bitrate;return T >= P && T <= N && 0 <= L.indexOf(Q.Zg) && T * I / 8 < M;break;}}}).map(function(Q){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return Q.Fg;break;}}});k70=3;break;case 1:k70=R?5:3;break;}}});j70=8;break;case 6:j70=0 > E?14:13;break;case 12:var k7g=" kb";k7g+="ps, tr";k7g+="y to downswitch";var P7g=" kb";P7g+="p";P7g+="s < ";var U7g="t";U7g+="hroughput ";U7g+="for audio ";(g && d.log(U7g + F + P7g + C.RTa + "*" + D + k7g),--E);j70=11;break;case 14:z=0;j70=21;break;case 23:z=D;j70=21;break;case 22:var L7g="m";L7g+="s";var a7g=", buf";a7g+="fe";a7g+="r lev";a7g+="el = ";var T7g=", las";T7g+="tUpswitchPts =";T7g+=" ";var h7g="  Upswitc";h7g+="h n";h7g+="ot allowed. la";h7g+="stDownswitchPts = ";g && d.log(h7g + K + T7g + J + a7g + G + L7g);j70=21;break;case 17:E--;j70=11;break;case 24:j70=(D=A[E],G=w[D],n(G) && F > C.z$a * G.bitrate * t.playbackRate)?23:25;break;}}}function c(u,t){var h70,w;h70=2;for(;h70 !== 4;){switch(h70){case 2:w=void 0;t.some(function(x){var i70,y;i70=2;for(;i70 !== 4;){switch(i70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(u)) && (w=x.override);return y;break;}}});return w;break;}}}var g70,l,m,d,g,h,k,n,p,q,v;g70=2;for(;g70 !== 4;){switch(g70){case 2:var l7g="1SIYbZ";l7g+="r";l7g+="N";l7g+="JCp9";(l=a(10),m=a(39),d=m.console,g=m.debug,h=m.assert,k=a(86),n=m.$G,p=m.lp,q=a(386),v=a(16).ma);r.exports={STARTING:function(u,t,w,x){var n70,y,z;n70=2;for(;n70 !== 7;){switch(n70){case 5:var p7g="selectAudioStream";p7g+="Starting: overriding c";p7g+="onfig with ";(y={minInitAudioBitrate:u.BW,minHCInitAudioBitrate:u.AW,maxInitAudioBitrate:u.nW,minRequiredAudioBuffer:u.a8},g && d.log(p7g + JSON.stringify(z)),k(z,y));n70=4;break;case 4:var q7g=" k";q7g+="bps, profi";q7g+="le ";q7g+=":";var B7g="selectAudioStream";B7g+="Start";B7g+="ing: s";B7g+="elected stream :";u=q[v[v.qh]](y,t,w,x);w=w[u.Ge];g && d.log(B7g + w.bitrate + q7g + w.Zg);return u;break;case 1:n70=(z=u && u.gP && 0 <= u.gP.indexOf(z)?c(z,u.o9a):c(z,u.Vqb))?5:4;break;case 2:(y=u,z=w[x || 0].Zg);n70=1;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};l7g;g70=4;break;}}})();},function(r,b,a){var f;function c(){return new f(0);}a(10);f=a(39).lp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(l,m,d){return new f(d.length - 1);}a(10);f=a(39).lp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var o70,m,d,f,l;o70=2;for(;o70 !== 6;){switch(o70){case 3:(m=l.assert,d=l.lp);l=a(173).default;r.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:c,PAUSED:c};o70=7;break;case 2:f=a(10);a(28);l=a(39);a(6);o70=3;break;case 7:var t7g="1";t7g+="S";t7g+="IYb";t7g+="ZrNJCp9";t7g;o70=6;break;}}function c(g,h,k,n){var p70,p;p70=2;for(;p70 !== 12;){switch(p70){case 2:var j7g="player m";j7g+="issi";j7g+="ng fragmentIndex";var n7g="Must hav";n7g+="e at";n7g+=" least one selected stream";m(!f.ha(n),n7g);m(f.Ba(h.Wd),j7g);h=d(n);p70=4;break;case 4:n=k.length - 1;p70=3;break;case 9:p=k[n];p70=8;break;case 8:p70=p.ub && p.ub.Sa && p.bitrate < p.ub.Sa.Fa - g.UYb?7:6;break;case 3:p70=-1 < n?9:14;break;case 7:return (h.Ge=n,h);break;case 6:--n;p70=3;break;case 13:return h;break;case 14:h.Ge=0;p70=13;break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(840);b.default={PLAYING:r.Nw,PAUSED:r.Nw};},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Nw=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(39));l=r.__importDefault(a(173));m=a(101);d=r.__importDefault(a(6));g=f.default.assert;h=f.default.lp;b.Nw=k;(function(){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:var N7g="1S";N7g+="IYbZ";N7g+="rNJC";N7g+="p9";b.Nw=k=function(n,p,q,v,u,t,w){var r70,P,K,x,y,z,A,B,H,L,R,I,D,E,F,C,G,J;r70=2;for(;r70 !== 66;){switch(r70){case 52:r70=I < Math.min(I + n.$qb,L.length)?51:48;break;case 51:P=L.get(I);r70=50;break;case 29:K=D.ub.tdigest;J.push(K.min);J.push(K.N8);J.push(K.Dl);J.push(K.ik);r70=41;break;case 65:L=void 0;p.CT && (L=d.default.time.ea() - p.CT);r70=63;break;case 63:u.push({Wd:p.Wd,Tac:L,P9b:R,m7b:G,Qac:J,Sac:K,Kia:t,C8b:w,G7b:H,u9b:y.bitrate,v9b:null !== (E=y.Eb) && void 0 !== E?E:0,O7b:D.bitrate,P7b:null !== (F=D.Eb) && void 0 !== F?F:0,qac:A.bitrate,rac:null !== (C=A.Eb) && void 0 !== C?C:0,YC:x});r70=62;break;case 35:r70=B < q.length?34:61;break;case 61:z.eQa=u;r70=60;break;case 17:r70=n.xAb?16:60;break;case 58:x=void 0;r70=57;break;case 2:var g7g="playe";g7g+="r missing fragment";g7g+="In";g7g+="de";g7g+="x";var D7g="Must have ";D7g+="at least one ";D7g+="selected ";D7g+="str";D7g+="eam";g(!c.ha(v),D7g);g(c.Ba(p.Wd),g7g);(y=n.SXb,z=new h(v),A=null !== (x=p.Wd) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;r70=8;break;case 38:K=void 0;D.ub && D.ub.tputTrace && (K=D.ub.tputTrace);(H=[],L=D.W,R=0);r70=54;break;case 8:r70=A < x || A > B?7:6;break;case 57:r70=D < A?56:72;break;case 55:r70=B < y.length?77:73;break;case 49:I++;r70=52;break;case 73:A=x;r70=20;break;case 62:B++;r70=35;break;case 18:z.ii=q[z.Ge];r70=17;break;case 39:J.push(K.max);r70=38;break;case 31:D.ub && D.ub.throughput && (G=D.ub.throughput.Fa);r70=30;break;case 75:r70=y[B].f > A?73:74;break;case 71:r70=0 <= B?70:73;break;case 70:r70=y[B].f === A?69:68;break;case 53:I=p.Wd;r70=52;break;case 67:B--;r70=71;break;case 6:a000.O0g(1);B=a000.w0g(x,A);0 > B && (B=0);B >= y.length && (B=y.length - 1);D=y[B].f;r70=11;break;case 22:A=q[v];r70=21;break;case 19:z.Ge=y[A].UUb;r70=18;break;case 10:A=B;r70=20;break;case 11:r70=D === A?10:58;break;case 23:y=q[v];r70=22;break;case 74:B++;r70=55;break;case 16:u=[];t=p.buffer;r70=26;break;case 26:t=t.bm - t.Gc;w=m.Dm.ISa(p.buffer.W);w=p.buffer.Mv - w.fa;r70=23;break;case 46:R+=L.get(I).duration;r70=45;break;case 21:B=0;r70=35;break;case 7:return l.default.PLAYING.call(this,n,p,q,v,u,t,w);break;case 45:I++;r70=47;break;case 76:x=B;r70=73;break;case 47:r70=I < L.length?46:65;break;case 48:I=p.Wd;r70=47;break;case 20:r70=void 0 !== A?19:59;break;case 54:r70=void 0 !== L?53:65;break;case 50:H.push({d:P.duration,b:P.fa});r70=49;break;case 30:r70=D.ub && D.ub.tdigest?29:38;break;case 60:return z;break;case 59:return l.default.PLAYING.call(this,n,p,q,v,u,t,w);break;case 77:r70=y[B].f === A?76:75;break;case 34:D=q[B];x=B <= v?!0:!1;(G=void 0,J=[]);r70=31;break;case 69:x=B;r70=73;break;case 56:B+=1;r70=55;break;case 72:--B;r70=71;break;case 68:r70=y[B].f < A?73:67;break;case 41:J.push(K.El);J.push(K.O8);r70=39;break;}}};N7g;q70=5;break;}}})();},function(r,b,a){(function(){var s70,c;s70=2;for(;s70 !== 8;){switch(s70){case 4:var r7g="1SI";r7g+="YbZrNJC";r7g+="p9";c=a(16).Dc;r.exports={checkBuffering:function(f,l,m,d,g,h){var U2q=a000;var t70,t,w,u,n,p,q,v;t70=2;function k(x){var u70;u70=2;for(;u70 !== 5;){switch(u70){case 2:x=d.W.H4(f.Gc + x,void 0,!0);return (u - f.Sk) / (u + (x.offset + x.fa) - t);break;}}}for(;t70 !== 37;){switch(t70){case 44:t70=0 < w?43:42;break;case 17:p=m * d.bitrate;t70=16;break;case 6:U2q.O0g(16);var F31=U2q.Z0g(5,24,18);q=h.hj * (p?h.Tta:F31);h.sAb && d.ub && d.ub.pj && d.ub.pj.Fa > h.lqa && (q+=h.Aha + d.ub.pj.Fa * h.Esa);g && (q+=g.yt * h.Bha);t70=12;break;case 23:t70=n >= q?22:39;break;case 40:var C7g="no";C7g+="r";C7g+="ebuff";return {complete:!0,reason:C7g};break;case 12:q=v?Math.min(v,q):q;t70=11;break;case 15:return (l < p && (q=Math.min(v,Math.max(h.MX * (p / l - 1),q))),{complete:!1,aI:q,progress:0});break;case 42:w=p.offset;t70=41;break;case 11:t70=!l?10:20;break;case 7:return {complete:!1,hD:!0};break;case 26:t70=-1 === g?25:24;break;case 8:t70=l <= h.rqa && (0 < l || !h.xla)?7:6;break;case 41:--h;t70=30;break;case 39:0 < l && l < p && (q=Math.min(v,Math.max(h.MX * (p / l - 1),q)));return {complete:!1,aI:q,progress:k(q)};break;case 24:t=d.W.Rd(g);t70=23;break;case 31:--h;t70=30;break;case 3:t70=n >= v?9:8;break;case 30:t70=h > g?29:40;break;case 16:t70=!d.W || !d.W.length?15:27;break;case 4:v=Math.min(h.Vz,v);t70=3;break;case 27:g=d.W.hn(f.Cc);t70=26;break;case 43:return (q=Math.min(v,n + w),{complete:!1,aI:q,progress:k(q)});break;case 21:var m7g="hi";m7g+="gh";m7g+="tp";return {complete:!0,reason:m7g};break;case 35:q=d.W.rd(g);h=Math.min(g + Math.floor(h.MX / q),d.W.length - 1);w=d.W.Rd(h);U2q.Q0g(17);var G31=U2q.w0g(20,15,6);q=G31 * t * m / l - f.Gc;t70=31;break;case 22:t70=l > p * h.E4?21:35;break;case 29:p=d.W.get(h);w=8 * w * m / l - p.Y - q;t70=44;break;case 20:u=0;f.W.forEach(function(x){var v70;v70=2;for(;v70 !== 1;){switch(v70){case 2:u+=x.Y + x.duration > f.Gc?x.fa:0;v70=1;break;}}});m=Math.max(m,1);t70=17;break;case 10:return {complete:!1,aI:q};break;case 25:var c7g="out";c7g+="o";c7g+="fra";c7g+="ng";c7g+="e";return {complete:!0,reason:c7g};break;case 9:var d7g="max";d7g+="siz";d7g+="e";return {complete:!0,reason:d7g};break;case 2:(n=f.bm - f.Gc,p=l === c.If);l=d.Sa || 0;(q=0,v=h.txa && !p?h.lD:h.Oqa);t70=4;break;}}}};r7g;s70=8;break;case 2:a(10);a(28);a(39);s70=4;break;}}})();},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){g=p;h=p.map(function(q,v){return v;});if(null === d)return (k=l(p),d=p[k].bitrate,new m(k));if(!p.length)return null;k=h.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === k?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(39);a=a(6).default;f=b.console;l=b.Sla;m=b.lp;d=null;g=null;h=null;a.Zsb && (a.Zsb.$k={xb:function(){h=g=d=null;},bva:function(k){d=k;},P8b:function(){return {all:g,Z$a:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cFa=void 0;c=a(2);r=c.__importDefault(a(115));f=c.__importDefault(a(6));l=a(245);m=a(246);d=r.default.o3;g=r.default.Etb;h=r.default.SUa;k=r.default.VAb;n=r.default.aVb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(p){var w70;w70=2;for(;w70 !== 5;){switch(w70){case 3:c.__extends(q,p);return q;break;w70=5;break;case 2:c.__extends(q,p);return q;break;}}function q(v,u){var x70,t;x70=2;for(;x70 !== 12;){switch(x70){case 4:var A7g="1SIYb";A7g+="Z";A7g+="r";A7g+="N";A7g+="JCp9";Array.isArray(v.ht.curves) && (t.VSa=g(v.ht.curves[0],0,0,1),t.USa=g(v.ht.curves[1],0,0,1));t.srb=d(v.ht.threshold || 6E3,1,1E5);t.mrb=d(v.ht.gamma || 1,.1,10);t.filter=v.ht.filter;t.iXb=! !v.ht.simpleScaling;v.ht.niqrfilter && v.ht.niqrcurve && (t.I2a=v.ht.niqrfilter,t.ZNb=g(v.ht.niqrcurve,1,0,4));A7g;x70=13;break;case 2:t=p.call(this,v,u) || this;t.GD=function(w,x){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return m.GD(t.config,w,x);break;case 4:return m.GD(t.config,w,x);break;y70=1;break;}}};t.l9=function(w,x,y){var z70,z,A,B,D,E,F;z70=2;for(;z70 !== 13;){switch(z70){case 6:void 0 !== w && (E=k(t.ZNb,w),x=Math.min(x * E,1));a000.Q0g(18);return t.FTa(a000.Z0g(F,x,1),y);break;case 2:y=null !== y && void 0 !== y?y:t.rN;F=null !== (A=null === (z=w.Sa) || void 0 === z?void 0:z.Fa) && void 0 !== A?A:0;z=null !== (D=null === (B=w[t.filter]) || void 0 === B?void 0:B.Fa) && void 0 !== D?D:F;z70=3;break;case 3:B=Math.pow(Math.max(1 - z / t.srb,0),t.mrb);D=x.bm - x.Gc;t.iXb?(x=h(t.VSa,D,1),D=h(t.USa,D,1),x=x * B + D * (1 - B)):x=h(n(t.VSa,t.USa,B),D,1);w=t.I2a && (null === (E=w[t.I2a]) || void 0 === E?void 0:E.PW);z70=6;break;}}};x70=4;break;case 13:return t;break;}}}})(l.eJ);b.cFa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(2);r=c.__importDefault(a(6));f=a(245);l=a(246);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var A70;A70=2;for(;A70 !== 3;){switch(A70){case 2:c.__extends(d,m);d.YWb=function(g,h){var E70,k,n;E70=2;for(;E70 !== 4;){switch(E70){case 2:n=! !g.Rr;h.uwa && (null === (k=g.Sa) || void 0 === k?void 0:k.Fa) < h.QT && (n=!0);return n;break;}}};d.prototype.nDb=function(g,h){var F70,k,n;F70=2;for(;F70 !== 3;){switch(F70){case 2:(k=this.config,n=h?k.Jja:k.pia);h=h?k.Kja:k.ria;Array.isArray(h) && (n=l.RUa(h,g.bm - g.Gc,k.qia));F70=4;break;case 4:return n;break;}}};A70=4;break;case 14:return d;break;A70=3;break;case 4:return d;break;}}function d(g,h){var B70,k;B70=2;for(;B70 !== 9;){switch(B70){case 2:var b7g="1";b7g+="S";b7g+="IYbZrN";b7g+="JCp9";k=m.call(this,g,h) || this;k.GD=function(n,p){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:return l.GD(k.config,n,p);break;case 4:return l.GD(k.config,n,p);break;C70=1;break;}}};k.l9=function(n,p,q){var D70,v;D70=2;for(;D70 !== 3;){switch(D70){case 2:q=null !== q && void 0 !== q?q:k.rN;v=d.YWb(n,k.config);n=n.Sa?n.Sa.Fa * (100 - k.nDb(p,v)) / 100 | 0:0;return k.FTa(n,q);break;}}};b7g;B70=3;break;case 12:return k;break;B70=9;break;case 3:return k;break;}}}})(f.eJ);b.OJa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VDa=void 0;r=(function(){function a(c,f,l,m,d,g,h,k){this.gb=c;this.GQa=f;this.config=l;this.console=m;this.mediaType=d;this.Db=g;this.Ra=h;this.Yb=k;this.Xq=this.Mh=!1;}a.prototype.wL=function(c,f){!this.gb.N.Ou || this.Yb.DK || this.Yb.R1 || (c-=this.gb.Ce,this.Mh && !this.Xq && c + this.config.G9a >= f && 0 === this.Ra.yD && 0 === this.Ra.As && 0 === this.Ra.KSb && (f=this.Yb.De.O.Mb,c=this.Yb.AM(),f + 1 < c || (this.GQa[this.mediaType].h9a || this.Db.ymb(this.mediaType),this.Xq=!0,this.GQa[this.mediaType].A8())));};return a;})();b.VDa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TDa=void 0;c=a(2);f=a(20);r=a(388);l=a(383);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.Xyb=function(g){m.prototype.d7.call(this,{value:g});};d.prototype.j_a=function(){return !0;};d.prototype.Uva=function(){};d.prototype.d7=function(g){m.prototype.d7.call(this,g);g.done && (g=this.RB.J3,f.ga && this.H.trace("Requests drained",{n7b:g && g.N.id}),(g=g && g.fb(this.Lg)) && g instanceof l.T_ && g.wL(this.Ig.Zma() || 0));};return d;})(r.gba);b.TDa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Xya=void 0;c=a(2);f=a(148);l=a(20);r=(function(){function m(d,g,h){this.H=d;this.Yjb=g;this.Lg=h;this.l1=0;this.G1=!1;this.LR=[];this.iF=void 0;l.ga && d.trace("BranchRequestIterator [" + this.Lg + "]: created");}Object.defineProperties(m.prototype,{Fxb:{get:function(){return this.l1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J3:{get:function(){return this.dMa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pk:{get:function(){return this.G1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{TSa:{get:function(){return this.ml?this.ml.Dz?"Complete":this.ml.uta?"WaitingForBranch":void 0 !== this.iF && 0 !== this.iF?"In Policy " + this.LR[this.iF].name:"WaitingForRequest":"Uninitialized;Prior:" + this.aNa;},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,h,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.ml;if(!d)return [3,6];this.iF=void 0;return [4,d.next()];case 1:(g=n.kd(),h=0,n.label=2);case 2:if(!(h < this.LR.length))return [3,5];this.iF=h;k=this.LR[h];return [4,k.process(g)];case 3:(g=n.kd(),n.label=4);case 4:return (h++,[3,2]);case 5:this.iF=void 0;if(g.done || this.ml !== d)return [2,{done:!0}];this.l1++;g.value.HOa();return [2,{done:!1,value:g.value.value}];case 6:return [2,f.AsyncIterator.Ina()];}});});};m.prototype.FUb=function(){this.L8a();this.dTb();};m.prototype.L8a=function(){var d;if(this.ml){this.aNa=this.TSa;d=this.ml;d && d.wh();this.LR.forEach(function(g){return g.reset();});d && l.ga && this.H.trace("BranchRequestIterator [" + this.Lg + "]: Disposing iterator that was on branch ",this.J3 && this.J3.N.id);this.G1=!1;this.iF=this.ml=void 0;}};m.prototype.Cpb=function(d){this.LR.push(d);};m.prototype.dTb=function(){var d,g,h,k;d=this;if(!this.G1){g=this.H;h=this.Yjb;k=this.Lg;this.l1=0;this.aNa=this.dMa=void 0;this.ml=f.flatten(f.map(h.iYa(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.dMa=n,this.l1=0,l.ga && g.trace("BranchRequestIterator [" + this.Lg + "]: new branch " + n.N.id),[4,n.jz(k)]);case 1:if(p=q.kd())return [2,{value:p}];l.ga && g.error("BranchRequestIterator [" + this.Lg + "]: skipping branch " + n.N.id);return [2,{value:[]}];}});});},g),g);this.G1=!0;}};return m;})();b.Xya=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JIa=void 0;c=a(2);f=a(849);l=a(850);r=(function(){function m(d,g,h,k,n,p,q,v){this.mediaType=d;this.Ea=h;this.events=n;this.dZ=[];1 === this.mediaType && this.dZ.push(new l.GJa(d,g,h,k,n,p,q,v,2));this.dZ.push(new f.fKa(d,g,h,k,n,p,q,"stream",1));}m.prototype.reset=function(){this.dZ.forEach(function(d){return d.reset();});};m.prototype.close=function(){this.dZ.forEach(function(d){return d.close();});};m.prototype.Ai=function(d){return c.__read(this.dZ,1)[0].Ai(d);};return m;})();b.JIa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;c=a(2);f=a(5);l=a(20);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.Yz=function(g){var h,k;h=g.stream;k=g.mj;g=g.te;f.assert(void 0 !== k);this.UOa(h,k,g) && l.ga && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + k.T + "ms");};d.prototype.mUa=function(g,h){var k,n,p;n=g.OI;p=this.Ea.$r(h);f.assert(void 0 !== p);l.ga && this.trace("emitStreamPresentingEvent @ " + g.timestamp.T + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:p,trackIndex:null === (k=null === n || void 0 === n?void 0:n.track) || void 0 === k?void 0:k.bC,streamIndex:null === n || void 0 === n?void 0:n.Fg});};return d;})(a(389).Uda);b.fKa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.GJa=void 0;c=a(2);f=a(20);l=a(5);m=a(9);r=(function(d){function g(h,k,n,p,q,v,u,t,w){h=d.call(this,h,k,n,p,q,v,u,"segment",w) || this;h.Sw=t;return h;}c.__extends(g,d);g.prototype.Yz=function(h){var k,n,p;n=h.mj;h=h.te;l.assert(void 0 !== n);p=null === (k=this.Ea.$r(n)) || void 0 === k?void 0:k.ya;l.assert(void 0 !== p);this.UOa(p,n,h) && f.ga && this.trace("segment " + p + " @ " + n.T + "ms");};g.prototype.mUa=function(h,k){var n,p;n=h.OI;p=this.Ea.$r(k);l.assert(void 0 !== p);f.ga && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.T + "ms for segment " + n);p.ya !== n && (f.ga && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={ya:n,offset:m.S.bb});h={type:"segmentPresenting",playerTimestamp:k,position:p};this.Sw && (h.metrics=this.Sw.dna(n));f.ga && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return g;})(a(389).Uda);b.GJa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MBa=void 0;c=a(2);f=a(20);l=a(71);r=(function(){function m(d,g,h){this.Uf=d;this.kNb=g;this.H=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var g;d=l.Hxa(this.Uf,d,!0);g=d.promise;this.Oob=d.ws;return g;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Yla)return [3,2];h=g.mj.Ca(this.kNb);f.ga && this.H.trace("[" + g.mediaType + "] JIT: waiting until playertime >= " + h.T,"to append next request " + g.toString());return [4,this.waitUntil(h)];case 1:(k.kd(),f.ga && this.H.trace("[" + g.mediaType + "] JIT: now appending request " + g.toString()),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.Oob) || void 0 === d?void 0:d.Kb();};return m;})();b.MBa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AJa=void 0;r=(function(){function a(c,f,l,m,d,g,h,k,n,p){var q;q=this;this.id=c;this.O=f;this.Y=l;this.fU=d;this.vl=g;this.Ou=h;this.bq=k;this.Lo=n;this.me=p;this.MM=function(v){var u,t;return (null === (t=null === (u=q.vl) || void 0 === u?void 0:u[v]) || void 0 === t?void 0:t.GZb) || q.me;};this.Ha=m || Infinity;}Object.defineProperties(a.prototype,{Z:{get:function(){return this.O.Z;},enumerable:!1,configurable:!0}});a.prototype.FWa=function(){var c,f,l;c=this;l=Object.keys(this.vl || ({})).filter(function(m){var d,g;return !(null === (g=null === (d=c.vl) || void 0 === d?void 0:d[m]) || void 0 === g || !g.weight);});return l.length?null !== (f=l.map(this.MM).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== f?f:this.me:this.me;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Lo + " viewableId: " + this.O.Z + " pts: " + this.Y + "-" + this.Ha + " defaultKey: " + this.fU + " dests: " + JSON.stringify(this.vl) + " terminal: " + ! !this.Ou;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.Z,"startPts:":this.Y,endPts:this.Ha,defaultKey:this.fU,"dests:":this.vl,terminal:! !this.Ou,playlistSegmentId:this.Lo};};return a;})();b.AJa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Yxa=void 0;r=a(2);c=r.__importStar(a(10));f=a(174);l=r.__importDefault(a(854));m=a(361);d=r.__importDefault(a(28));g=r.__importDefault(a(6));a=(function(){function h(k,n,p,q,v,u,t,w,x){var H70,J70,z,y,I70;H70=2;for(;H70 !== 32;){switch(H70){case 22:var o7g="L";o7g+="R";H70=I70 === o7g?21:35;break;case 26:H70=t && 1 < t.length && v.fla?25:33;break;case 16:H70=this.vF.Gr?15:27;break;case 35:H70=34;break;case 15:try{J70=2;for(;J70 !== 4;){switch(J70){case 2:z=new l.default(k,this.H,{bufferSize:g.default.vo()},v);this.ag.lpb(z);this.QNa=z;J70=4;break;}}}catch(A){var M7g="Hi";M7g+="ndsight: Error when creating Q";M7g+="oEEvaluator: ";a000.O0g(3);k.Db.vn(a000.Z0g(M7g,A));}H70=27;break;case 18:q=v.IW?d.default.Hf.ox:d.default.Hf.hB;p && p.confidence >= q && p.Sa && y && this.Clb(p,n,y);H70=16;break;case 27:this.Tfa=!1;H70=26;break;case 3:var f7g="1";f7g+="SIYbZr";f7g+="NJ";f7g+="C";f7g+="p9";f7g;this.qb=k;this.Rb=this.H.warn.bind(this.H);this.Rm=this.H.trace.bind(this.H);this.I=v;a000.O0g(19);var I31=a000.w0g(13,9,8999989,10000000,11);this.eNa=0 === Math.floor(I31 * Math.random()) % v.Dia;H70=13;break;case 23:this.Tfa=this.vK.P6();H70=33;break;case 2:this.H=n;this.ag=q;this.ec=w;this.vF=x;H70=3;break;case 11:this.S1=f.GM(v,u);n=this.EMa(p);void 0 !== n && void 0 !== n.Dl && void 0 !== n.ik && void 0 !== n.El && (y=(n.El - n.Dl) / n.ik);H70=18;break;case 24:this.vK=new m.nca(t,v,this.H);H70=23;break;case 25:var I7g="ba";I7g+="seli";I7g+="ne";I70=v.yHb;H70=I70 === I7g?24:22;break;case 21:this.vK=new m.MCa(t,v,this.H);H70=23;break;case 13:this.RC=this.iZa=this.jZa=this.x3=this.Rr=void 0;this.wwa=this.m8a=this.n8a=this.vwa=this.P3a=this.Q3a=0;H70=11;break;case 34:this.vK=new m.nca(t,v,this.H);H70=23;break;case 33:v.zaa && (this.b2=this.a2=!1);H70=32;break;}}}var G70;G70=2;for(;G70 !== 27;){switch(G70){case 13:h.prototype.iPb=function(k){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.I.ZL && k === d.default.Qa.Jb && (this.wwa=this.vwa=this.m8a=this.n8a=this.P3a=this.Q3a=0);V70=1;break;}}};h.prototype.gPb=function(k,n){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:k === d.default.Qa.Jb && (this.K0b=n);W70=1;break;}}};G70=11;break;case 2:Object.defineProperties(h.prototype,{P6:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return this.Tfa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dta:{get:function(){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 2:return this.QNa;break;}}},enumerable:!1,configurable:!0}});h.prototype.E7a=function(k,n,p){var M70;M70=2;for(;M70 !== 4;){switch(M70){case 2:this.RC=k;c.ha(n) || (this.jZa=n);c.ha(p) || (this.iZa=p);M70=4;break;}}};h.prototype.exa=function(k){var N70;N70=2;for(;N70 !== 5;){switch(N70){case 2:this.I=k;this.S1.exa(k);N70=5;break;}}};h.prototype.Ufa=function(k,n,p,q){var O70,v;O70=2;for(;O70 !== 7;){switch(O70){case 5:O70=void 0 !== q?4:3;break;case 2:v=this.I;O70=1;break;case 4:return ! !(n.Sa && p && c.Ba(q) && n.Sa.Fa < v.QT && q > v.qca);break;case 1:var G7g="i";G7g+="q";G7g+="r";O70=k === G7g?5:9;break;case 3:return !1;break;case 9:var e7g="a";e7g+="v";e7g+="g";O70=k === e7g?8:3;break;case 8:return n.Sa?n.Sa.Fa < v.QT:!0;break;}}};h.prototype.GM=function(k){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return 1 === k?this.S1.l9:this.S1.GD;break;}}};h.prototype.KO=function(k){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:this.S1.KO(k);Q70=1;break;}}};G70=7;break;case 7:h.prototype.cpb=function(k,n,p,q,v,u){var R70,t;R70=2;for(;R70 !== 5;){switch(R70){case 3:t=this.I;R70=3;break;R70=1;break;case 2:t=this.I;R70=1;break;case 1:t.zaa && this.onb(n) || !p || !q || !(p=u?Math.min(p,q,u):Math.min(p,q)) || (this.ag.get(),q=this.qb.La,k=q.Lv(q.Nc,k),n.track.Zt() && k > t.Cia && p === v?(t.set?(t.set({pipelineEnabled:!0}),t.set({maxParallelConnections:1}),t.set({maxActiveRequestsPerSession:2}),t.set({maxPendingBufferLen:500})):(t.wq=!0,t.sN=1,t.ow=2,t.kD=500),n.track.A9({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:t.xP,minRequestSize:t.AN}),this.vwa++,t.zaa && (this.a2=!0)):t.wq && !n.Zt() && (k < t.Bia || p !== v) && (t.set?(t.set({pipelineEnabled:!0}),t.set({maxParallelConnections:3}),t.set({maxActiveRequestsPerSession:3}),t.set({maxPendingBufferLen:12E3})):(t.wq=!0,t.sN=3,t.ow=3,t.kD=12E3),n.track.A9({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:t.xP,minRequestSize:t.AN}),this.wwa++,t.zaa && (this.b2=!0)));R70=5;break;}}};h.prototype.fpb=function(k,n){var S70,q,v,p;S70=2;for(;S70 !== 6;){switch(S70){case 8:(this.Lm.lT[v]=k,this.Lm.vZ[v]=n);S70=7;break;case 7:this.Lm.Ipa=p;S70=6;break;case 5:void 0 === this.Lm && (this.Lm={startTime:g.default.time.ea(),lT:[],vZ:[],Ppa:void 0,Ipa:void 0});p=Math.floor((g.default.time.ea() - this.Lm.startTime) / p.nL);(q=this.Lm.Ipa,v=this.Lm.Ppa?p - this.Lm.Ppa - 1:p);S70=9;break;case 2:p=this.I;S70=1;break;case 1:S70=this.eNa?5:6;break;case 9:S70=void 0 === q || p > q?8:7;break;}}};h.prototype.VOb=function(){var T70,k,U70;T70=2;for(;T70 !== 4;){switch(T70){case 2:k=this.qb;T70=1;break;case 1:T70=this.vF.Gr?5:4;break;case 9:k=this.qb;T70=7;break;T70=1;break;case 5:try{U70=2;for(;U70 !== 1;){switch(U70){case 2:(this.ag.PTb(),this.QNa.Zc());U70=1;break;}}}catch(n){var F7g="H";F7g+="i";F7g+="ndsigh";F7g+="t";F7g+=": Error during clean up: ";a000.O0g(3);k.Db.vn(a000.w0g(F7g,n));}T70=4;break;case 8:T70=this.vF.Gr?2:8;break;T70=this.vF.Gr?5:4;break;}}};G70=13;break;case 11:h.prototype.ktb=function(k){var X70,n,p,q,v,u;X70=2;for(;X70 !== 6;){switch(X70){case 1:var E7g="n";E7g+="o";E7g+="n";E7g+="e";X70=E7g !== n.XD && !0 !== this.Rr && k.state <= n.Nqa?5:6;break;case 4:var H7g="i";H7g+="q";H7g+="r";X70=H7g === n.XD?3:8;break;case 2:n=this.I;X70=1;break;case 5:q=this.ag.get();X70=4;break;case 9:void 0 !== v && void 0 !== v.Dl && void 0 !== v.ik && void 0 !== v.El && (p=(v.El - v.Dl) / v.ik);X70=8;break;case 3:v=this.EMa(q);X70=9;break;case 8:u=n.IW?d.default.Hf.ox:d.default.Hf.hB;q && q.confidence >= u && this.Ufa(n.XD,q,v,p) && (this.Rr=!0,this.x3=k.state);X70=6;break;}}};h.prototype.Apb=function(k){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:k.Rr=this.Rr;Y70=1;break;}}};h.prototype.DBb=function(k){var Z70,u,t,w,x,n,p,q,v;Z70=2;for(;Z70 !== 25;){switch(Z70){case 4:u=this.ag.get();u && u.Sa && (u=u.Sa.Fa);Z70=9;break;case 14:n.histdiscbw=this.RC;t=this.iZa;Z70=12;break;case 11:w=function(y){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:return c.Ba(y)?Number(y).toFixed(2):-1;break;}}};u=[w(t.min || void 0),w(t.N8 || void 0),w(t.Dl || void 0),w(t.ik || void 0),w(t.El || void 0),w(t.O8 || void 0),w(t.max || void 0)];x=[];t=c.isArray(t.Bi) && t.Bi.reduce(function(y,z){var c80,A;c80=2;for(;c80 !== 3;){switch(c80){case 2:A=w(z.mg || void 0);z=w(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);Z70=18;break;case 12:Z70=t?11:16;break;case 2:var x7g="st";x7g+="art";x7g+="play";var W7g="l";W7g+="ogda";W7g+="ta";(n={},p=this.I,q=this.qb,v={type:W7g,target:x7g,fields:{}});v.fields=n;Object.keys(k).forEach(function(y){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:n[y]=k[y];a80=1;break;}}});Z70=4;break;case 9:n.actualbw=u;n.isConserv=this.Rr;n.ccs=this.x3;n.isLowEnd=this.vJb;Z70=14;break;case 18:n.histtdc=t;Z70=17;break;case 16:n.histage=this.jZa;p.fla && this.vK && (n.ishighstable=this.Tfa,n.avg_avtp=this.vK.frb,n.avg_ne=Number(this.vK.hrb).toFixed(4));q.jc && (p=g.default.vo(),n.maxAudioBufferAllowedBytes=p[d.default.Qa.Lb],n.maxVideoBufferAllowedBytes=p[d.default.Qa.Jb]);q.emit(v.type,v);Z70=25;break;case 17:n.histtd=u;Z70=16;break;}}};h.prototype.EBb=function(k){var d80,u,t,w,n,p,q,v;d80=2;for(;d80 !== 6;){switch(d80){case 7:var J7g="n";J7g+="o";J7g+="n";J7g+="e";J7g !== p.XD && (k.isConserv=this.Rr,k.ccs=this.x3);d80=6;break;case 4:(u=0,t=0,w=0);q.confidence && (u=q.Sa?q.Sa.Fa:0,t=q.pj?q.pj.Fa:0,w=q.Vt?q.Vt.Fa:0);k.location={responseTime:t,httpResponseTime:w,bandwidth:u,confidence:q.confidence,name:this.K0b};this.eNa && (k.bt={startTime:this.Lm.startTime,audioMs:this.Lm.lT,videoMs:this.Lm.vZ},this.Lm.lT=[],this.Lm.vZ=[],this.Lm.Ppa=this.Lm.Ipa);d80=7;break;case 2:(n=this,p=this.I,q=this.ag.get(),v=[]);[d.default.Qa.Jb,d.default.Qa.Lb].forEach(function(x){var e80,y;e80=2;for(;e80 !== 4;){switch(e80){case 9:e80=n.ec(x)?8:7;break;e80=n.ec(x)?1:4;break;case 2:e80=n.ec(x)?1:4;break;case 1:y=n.qb.mYa(x);void 0 !== y && (x === d.default.Qa.Jb && (p.ZL && (y.parallelDownloadMs=n.Q3a,y.parallelDownloadBytes=n.P3a,y.singleDownloadMs=n.n8a,y.singleDownloadBytes=n.m8a,y.switchFromParallelToSingle=n.vwa,y.switchFromSingleToParallel=n.wwa),q && q.confidence && q.Sa && (y.asetput=q.Sa,y.aseiqr=q.Wt,y.tdigest=q.sk && q.sk.hz() || void 0),q && q.avtp && (y.avtp=q.avtp.Fa)),v.push(y));e80=4;break;}}});k.stat=v;d80=4;break;}}};G70=18;break;case 18:h.prototype.onb=function(k){var f80,n;f80=2;for(;f80 !== 6;){switch(f80){case 5:return !0;break;case 1:f80=this.a2 && k.Zt()?5:4;break;case 4:this.a2 && (this.a2=!1);f80=3;break;case 2:n=this.I;f80=1;break;case 8:this.b2 && (this.b2=!1);return !1;break;case 9:return !0;break;case 3:f80=this.b2 && n.wq && !k.Zt()?9:8;break;}}};h.prototype.EMa=function(k){var g80,h80;g80=2;for(;g80 !== 4;){switch(g80){case 3:g80=9;break;case 2:var y7g="t";y7g+="di";y7g+="ge";y7g+="s";y7g+="t";h80=this.I.roa;g80=h80 === y7g?1:3;break;case 1:k=k.sk;g80=5;break;case 6:k=k.sk;g80=2;break;g80=5;break;case 12:g80=0;break;g80=9;break;case 9:k=k.Wt && k.Wt.X8;g80=5;break;case 5:return k;break;}}};h.prototype.Clb=function(k,n,p){var i80,q;i80=2;for(;i80 !== 3;){switch(i80){case 2:q=this.I;this.Ufa(q.XD,k,n,p)?this.Rr=!0:this.Rr=!1;i80=5;break;case 5:this.x3=0;this.Ufa(q.nqa,k,n,p) && (this.vJb=!0);i80=3;break;}}};return h;break;}}})();b.Yxa=a;},function(r,b,a){var f,l,m;function c(d,g,h,k){this.qb=d;this.H=g;this.Ak=this.H.error.bind(this.H);this.Rb=this.H.warn.bind(this.H);this.Rm=this.H.trace.bind(this.H);this.xg=this.H.log.bind(this.H);this.Ijb=new l();this.I=k;this.Q1=[];this.i2=void 0;d=k.f6;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.Ofa=!0;}a(28);b=a(6).default;f=a(142);a(391);l=a(855);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(124).LIa || a(124);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,g,h){this.i2 || (this.i2=g);f.prototype.add.call(this,d,g,h);};c.prototype.zDb=function(){var d;if(0 !== this.Q1.length){d=[];this.Q1.forEach(function(g){g && g.cL && d.push(g.hz());});return d;}};c.prototype.Zc=function(){this.Q1=[];};c.prototype.oGb=function(){var d,g,h;d=this.get(this.I.f6.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (g=n,h=p,!0);});if(g)for(var k=0;k < h;k++){d[k]=g;}}d={trace:d,timestamp:this.i2,ty:this.Fd};this.Ofa=!1;f.prototype.reset.call(this);this.Ofa=!0;this.i2=void 0;return d;};c.prototype.ula=function(d){var g,h,k,n,p,q;if(d && !d.cL){h=d.Ct.A_a;h && (d.Sta=this.Jha(d),d.y9=!1);if((g=this.oGb()) && g.trace && g.trace.length){k=d.sj.DD;n=g.timestamp;if(n > k){p=g.ty;q=g.trace[0];k=Math.ceil((n - k) / p);g.timestamp=n - k * p;for(n=0;n < k;n++){g.trace.splice(0,0,q);}}g.trace.length && g.trace.pop();}d.MA=g;g.trace && 0 === g.trace.length || void 0 === g.timestamp || (g=this.ksb(d),d.w3a=g,h && g && (d.y9=g.YC),d.cL=!0,this.Q1.push(d));}};c.prototype.ksb=function(d){var p,q,v,u;function g(t){var y;for(var w,x=0;x < t.length;x++){y=t[x].reduce(function(z,A){return A.Eb?z + 1:z;},0);if(void 0 === w)w=y;else if(y !== w)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > w?y - w:w - y) * Math.LOG2E) + "]");}}for(var h=this.I.e6,k={YC:!1,E6:!1,Rzb:0},n=0;n < h.length;n++){p=h[n];q=this.Ijb.create(p);if(q){v=m.now();u={};try{g(d.Xw);u=q(d);}catch(t){u.fM=t;}u.Xpb=m.now() - v;k[p]=u;k.YC=k.YC || u.YC;k.E6=k.E6 || u.E6;k.fM=k.fM || u.fM;}}return k;};c.prototype.Jha=function(d){var g;d=d.Ct;g="";1E3 > d.Mn && (g+=d.Eab);1E3 > d.vr && (g=g + ("" !== g?",":"") + d.IPa);1E3 <= d.Mn && 1E3 <= d.vr && (g="media");return g;};r.exports=c;},function(r,b,a){var l;function c(){}function f(m,d,g){return function(h){h.ND=d;h.compare=g;return m(h);};}l=a(856);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=f(l.uV,!1,l.ORa);break;case "htwbr-segvmaf":d=f(l.uV,!0,l.ORa);break;case "hvmafgr":d=f(l.uV,!1,l.Bja);break;case "hvmafgr-dlvmaf":d=f(l.uV,!1,l.Bja);break;case "hvmafgr-segvmaf":d=f(l.uV,!0,l.Bja);break;case "hvmafdp":d=f(l.dp,!1);break;case "hvmafdp-dlvmaf":d=f(l.dp,!1);break;case "hvmafdp-segvmaf":d=f(l.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,v,u,t,w,x,y,z,A,B,D;function c(E){var F,C,G;F=E.MA;C=E.sj;G=E.Ct.Ha - C.Y;F.timestamp > C.DD && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + C.DD);E=[];for(var J,K=F.timestamp,H=0;H < F.trace.length;H++){K >= C.DD && (E.push(F.trace[H]),J=F.trace[H]);K+=F.ty;G-=F.ty;}for(;0 < G;){E.push(J);G-=F.ty;}C=F.ty;F=E.length;if(0 === F)F=[];else {for(C=[C / 1E3];2 * C.length <= F;){C=C.concat(C);}C.length < F && (C=C.concat(C.slice(0,F - C.length)));F=C;}return new x(E,F,!1);}function f(E,F,C){F=E.Xw[F][C];return F.fa + E.sj.rT * F.duration / 8;}function l(E){var F,C,G,J,K,H,L,R,I;F=E.sj;C=F.xm;G=E.Ct;J=G.Tv;H=[];for(G=J=Math.min(G.kH,J);G >= C;G--){D.update("backward step loop");L=K=E.Xw[0][G].Y - E.sj.Y;G < J && (q(void 0 !== H[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),L=Math.min(H[G + 1].startTime,L));R=f(E,0,G);I=p(R,L,E.MA,F.DD);if(0 > I)throw Error("Infeasible: reason throughput at min bitrate");R={startTime:I,endTime:L,L3:L,rzb:K,EO:R,Ge:0};R.PVa=G;H[G]=R;}F=0;for(G=C;G <= J;G++){F+=H[G].EO;H[G].Pka=F;}if(!m(E,H,C,J))throw Error("Infeasible: reason buffer capacity at min bitrate");return {YC:!0,Dra:0 == H.length,Nq:H};}function m(E,F,C,G){var J,K,H,L,R,I,P,N,M,Q;for(;C <= G;C++){D.update("checkBuffer");J=E;K=F;H=C;D.update("check buffer vacancy");L=J.sj;R=J.Xw[L.IV];I=J.FQa;P=!0;J=J.VBb(Math.floor(K[H].startTime) + L.Y);N=L.Ww + K[H].Pka;M=0;Q=0;if(J.index < L.xm){for(var T=0,da=L.GA;da < J.index;da++){T+=R[da].fa;}M+=T;T=0;for(da=L.GA;da < J.index;da++){T+=R[da].duration;}Q+=T;}else (M+=L.Ww,Q+=L.Mn);T=0;for(da=L.xm;da < J.index;da++){T+=K[da].EO;}M+=T;T=0;for(da=L.xm;da < J.index;da++){T+=R[K[da].PVa].duration;}Q+=T;J=N - M;L=R[H].Y + R[H].duration - L.Y - Q;if(L >= I.Vz || J >= I.qab)P=!1;K[H].NQa=J;K[H].Kia=L;if(!P)return !1;}return !0;}function d(E){E=E.sj.W;for(var F=[],C,G=0;G < E.length;G++){D.update("get prebuffered chunks loop");C=E[G];q(void 0 !== C.Eb,"expect frag.vmaf !== undefined");C=new u(C.fa,C.duration / 1E3,C.Eb);F.push(C);}return F;}function g(E){var F,C,G,J,K,H,I;F=E.Xw;C=E.sj;G=E.Ct;J=G.Tv;K=E.$d;H=[];J=Math.min(G.kH,J);for(var L=0;L < F.length;L++){G=[];for(var R=C.xm;R <= J;R++){D.update("get chunk map from play segment");I=F[L][R];I=new u(I.fa,I.duration / 1E3,E.ND && void 0 !== I.Eb?I.Eb:K[L].Eb);G.push(I);}H.push(G);}return new t(H,!1);}function h(E,F,C){q(E.OM() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K,H,L=0;L < F.length;L++){D.update("calculate twvmaf");q(F[L].rZa === L,"expect stream_choices[idx].i_epoch === idx");H=E.Gk[F[L].k6][L];K=void 0 !== C?C(H.quality):H.quality;H=H.wm;G+=K * H;J+=H;}return {MTa:G / J,LTa:1E3 * J};}function k(E,F,C){q(E.OM() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K=C.sj.rT,H,L=0,R=0,I=0;I < F.length;I++){D.update("calculate Bytes");q(F[I].rZa === I,"expect stream_choices[idx].i_epoch === idx");H=E.Gk[F[I].k6][I];G+=H.fa;J+=K * H.wm * 1E3 / 8;L+=H.wm * C.$d[F[I].k6].bitrate;R+=H.wm;}return {KTa:G,HTa:J,JTa:0 < R?1 * L / R:0};}function n(E,F,C){F=Math.min(E.length - 1,F);F=Math.max(0,F);return E[F] * C / 8;}function p(E,F,C,G){var J,K,H,L,R;J=C.trace;K=1 * C.ty;H=F + G - C.timestamp;L=Math.floor(1 * H / K);F=(H - L * K) / K * n(J,L,K);if(F >= E)R=H - 1 * E / F * (H - L * K);else for(H=L;F < E;){D.update("find download start time");--H;if(0 > H)return -1;L=n(J,H,K);if(F + L >= E){E=(E - F) / L * K;R=(H + 1) * K - E;break;}F+=L;}return R + C.timestamp - G;}q=a(5).assert;v=a(857);u=a(392).Qcb;t=a(392).Rcb;w=a(858).feb;x=a(393).ejb;y=a(247).bza;z=a(237).W_;A=a(86).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");D=a(124).LIa || a(124);r.exports={uV:function(E){var F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa,O,ia,Pa,Ea,Va,Ya,bb,Xa;B.debug("greedy DEBUG false");D.ova("greedy-" + (E.ND?"segvmaf":"dlvmaf") + ": ");try{E.jH=[];F=E.Xw;C=E.sj;G=E.Ct;J=G.Tv;K=E.$d;J=Math.min(G.kH,J);for(L=C.xm;L <= J;L++){R=new v();E.jH[L]=R;F[0][L].Nia=F[0][L].fa;for(H=1;H < F.length;H++){F[H][L].Nia=F[H][L].fa;}H=0;I=F[H][L];I.iD=Infinity;I.Fg=H;for(H=1;H < F.length;H++){I=F[H][L];I.Fg=H;P=R.L6()?F[0][L]:R.CQb();N=8 * I.Nia / I.duration;M=8 * P.Nia / P.duration;if(E.ND && void 0 !== I.Eb)(Q=I.Eb,T=P.Eb);else (Q=K[H].Eb,T=K[P.Fg].Eb);I.cu=N - M;I.iD=(Q - T) / I.cu;isFinite(I.iD) && (0 < I.iD || H == F.length - 1) && 0 < I.cu && R.enqueue(I);}}for(L=C.xm;L <= J;L++){C=[];da=[];pa=[];wa=E.jH[L].Xo();for(F=0;F < wa.length;F++){I=wa[F];C.push(I.cu.toFixed(2));E.ND && void 0 !== I.Eb?da.push(I.Eb):da.push(K[I.Fg].Eb);pa.push(I.iD.toFixed(4));}}ua=l(E);if(ua.Dra)return ua;X=E.sj;sa=E.Ct;O=sa.Tv;O=Math.min(sa.kH,O);pa=[];for(var S=X.xm;S <= O;S++){E.jH[S].L6() || pa.push(E.jH[S].PL());}q(void 0 !== E.compare,"playSegment.compare required for greedy");for(var ka=new z(pa,E.compare);0 < ka.length;){D.update("upgrade frags");ia=ka.pop();a:{O=X=void 0;S=E;pa=ua;da=ia;Pa=S.sj;Ea=S.Ct;Va=Math.min(Ea.kH,Ea.Tv);Ya=JSON.parse(JSON.stringify(pa.Nq));q(da && Ya[da.index].Ge < da.Fg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");O=da.index;X=Ya[O];X.Ge=da.Fg;X.EO=f(S,X.Ge,O);X.startTime=p(X.EO,X.L3,S.MA,Pa.DD);Ya[O]=X;if(0 > X.startTime)bb=!1;else {for(O=da.index - 1;O >= Pa.xm;O--){X=Ya[O];Xa=Ya[O + 1].startTime;if(X.L3 <= Xa)break;X.L3=Xa;X.startTime=p(X.EO,X.L3,S.MA,Pa.DD);Ya[O]=X;if(0 > X.startTime){bb=!1;break a;}}for(var mb=da.index + 1;mb <= Va;mb++){Ya[mb].Pka=Ya[mb].EO + (mb > S.sj.xm?Ya[mb - 1].Pka:0);}for(var Za=da.index + 1;Za <= Va;Za++){if(Ya[Za].startTime > Ya[da.index].rzb){Va=Za - 1;break;}}m(S,Ya,da,Math.min(O + 1,da.index),Va)?(pa.Nq=Ya,bb=!0):bb=!1;}}bb && (E.jH[ia.index].L6() || ka.push(E.jH[ia.index].PL()));}}finally{delete E.jH;}for(Va=Ea=Pa=bb=ia=ka=0;Va < ua.Nq.length;Va++){if(Ya=ua.Nq[Va])(Xa=E.Xw[Ya.Ge][Ya.PVa],ka+=(Xa.Eb?Xa.Eb:E.$d[Ya.Ge].Eb) * Xa.duration,ia+=Xa.duration,bb+=Xa.fa,Pa+=E.sj.rT * Xa.duration / 8,Ea+=Xa.duration * E.$d[Ya.Ge].bitrate);}ua.MTa=0 < ia?1 * ka / ia:0;ua.LTa=ia;ua.KTa=bb;ua.HTa=Pa;ua.JTa=0 < ia?1 * Ea / ia:0;ua.Tz=D.wXa();B.debug("Max heap used: " + Math.round(ua.Tz / 1024 / 1024) + " MB");return ua;},Bja:function(E,F){if(E.iD < F.iD)return 1;if(E.iD > F.iD)return -1;if(E.cu > F.cu)return 1;if(E.cu < F.cu)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},ORa:function(E,F){if(E.cu > F.cu)return 1;if(E.cu < F.cu)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(E){var F,C,G,J,K,H;D.ova("dp-" + (E.ND?"segvmaf":"dlvmaf") + ": ");F=l(E);if(!1 === F.YC || !0 === F.Dra)return F;C=g(E);G=new w(C);J=d(E);J={M9a:c(E),cQa:E.sj.rT,i2a:0,M1a:240,L1a:8 * E.FQa.qab / 1E3,KQa:.5,rQa:new y(J),HUa:0,S8b:void 0,GYa:void 0,o5a:void 0,qPa:!0};G=G.Mw(J);J=h(C,G,void 0);C=k(C,G,E);K=[];H=E.sj.xm;G.forEach(function(L){K[H]={Ge:L.k6};H++;});A(J,F);A(C,F);F.Nq=K;F.Tz=D.wXa();B.debug("Max heap used: " + Math.round(F.Tz / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(f){this.ug=a(f);this.Kg=this.jf=0;if(c(f)){for(var l=f.length,m=0;m < l;++m){this[m]=f[m];}this.jf=l;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.Xo=function(){for(var f=this.jf,l=Array(f),m=this.Kg,d=this.ug,g=0;g < f;++g){l[g]=this[m + g & d - 1];}return l;};b.prototype.push=function(f){var l,m,d,h;l=arguments.length;m=this.jf;if(1 < l){d=this.ug;if(m + l > d){for(var g=0;g < l;++g){this.a1(m + 1);h=this.Kg + m & this.ug - 1;this[h]=arguments[g];m++;this.jf=m;}return m;}h=this.Kg;for(g=0;g < l;++g){this[h + m & d - 1]=arguments[g];h++;}this.jf=m + l;return m + l;}if(0 === l)return m;this.a1(m + 1);g=this.Kg + m & this.ug - 1;this[g]=f;this.jf=m + 1;return m + 1;};b.prototype.pop=function(){var f,l,m;f=this.jf;if(0 !== f){l=this.Kg + f - 1 & this.ug - 1;m=this[l];this[l]=void 0;this.jf=f - 1;return m;}};b.prototype.shift=function(){var f,l,m;f=this.jf;if(0 !== f){l=this.Kg;m=this[l];this[l]=void 0;this.Kg=l + 1 & this.ug - 1;this.jf=f - 1;return m;}};b.prototype.unshift=function(f){var l,m,d,h;l=this.jf;m=arguments.length;if(1 < m){d=this.ug;if(l + m > d){for(var g=m - 1;0 <= g;g--){this.a1(l + 1);d=this.ug;h=(this.Kg - 1 & d - 1 ^ d) - d;this[h]=arguments[g];l++;this.jf=l;this.Kg=h;}return l;}h=this.Kg;for(g=m - 1;0 <= g;g--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[g];}this.Kg=h;this.jf=l + m;return l + m;}if(0 === m)return l;this.a1(l + 1);d=this.ug;g=(this.Kg - 1 & d - 1 ^ d) - d;this[g]=f;this.jf=l + 1;this.Kg=g;return l + 1;};b.prototype.CQb=function(){var f;f=this.jf;if(0 !== f)return this[this.Kg + f - 1 & this.ug - 1];};b.prototype.get=function(f){var l;if(f === (f | 0)){l=this.jf;0 > f && (f+=l);if(!(0 > f || f >= l))return this[this.Kg + f & this.ug - 1];}};b.prototype.L6=function(){return 0 === this.jf;};b.prototype.clear=function(){for(var f=this.jf,l=this.Kg,m=this.ug,d=0;d < f;++d){this[l + d & m - 1]=void 0;}this.Kg=this.jf=0;};b.prototype.toString=function(){return this.Xo().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.PL=b.prototype.shift;b.prototype.toJSON=b.prototype.Xo;Object.defineProperty(b.prototype,"length",{get:function(){return this.jf;},set:function(){throw new RangeError("");}});b.prototype.a1=function(f){this.ug < f && this.Ynb(a(1.5 * this.ug + 16));};b.prototype.Ynb=function(f){var l,m;l=this.ug;this.ug=f;f=this.Kg;m=this.jf;if(f + m > l)for((f=f + m & l - 1,m=0);m < f;++m){this[m + l]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,v,u,t;function c(w,x,y){this.uQa=this.okb(w,x,y);}function f(){}function l(){}function m(){}function d(w){this.xtb=w;}function g(){}function h(){}function k(){}function n(){this.Mka={};}function p(w,x){return Array.apply(0,Array(x)).map(function(y,z){return z + w;});}q=a(5).assert;b=a(247).bza;v=a(393).fjb;u=a(247).tcb;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");t=a(124).LIa || a(124);c.prototype.constructor=c;c.prototype.okb=function(w,x,y){q(w < x,"expect min_buffer_sec < max_buffer_sec but got " + w + " and " + x);q(0 < y,"expect buffer_step_sec > 0. but got " + y);for(var z=[];w < x;w+=y){z.push(w);}z[z.length - 1] < x && z.push(x);return z;};c.prototype.LC=function(w){return this.nlb(w,this.uQa);};c.prototype.nlb=function(w,x){w=this.Uyb(w,x);if(0 === w)throw new f();if(w === x.length)throw new l();return w;};c.prototype.Uyb=function(w,x){q(0 < x.length,"expect bins.length > 0 but got " + x.length);if(w < x[0])return 0;if(w >= x[x.length - 1])return x.length;for(var y=1;y < x.length;y++){if(x[y - 1] <= w && w < x[y])return y;}q(!1,"expect not coming here in digitize()");};c.prototype.O5=function(){return p(1,this.uQa.length - 1);};f.prototype=Error();l.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.mdb=-20;d.prototype.ldb=20;d.prototype.kdb=void 0;d.prototype.edb=new b(void 0);d.prototype.gdb=0;d.prototype.fdb=1;d.prototype.pdb=!1;d.prototype.jdb=!0;d.prototype.hdb=!0;d.prototype.ndb=void 0;d.prototype.cdb=!0;d.prototype.ddb=0;d.prototype.Mw=function(w){q(void 0 !== w.M9a,"expect recipe.time_varying_bandwidth !== undefined");return this.$nb(this.xtb,w.M9a,void 0 !== w.i2a?w.i2a:this.mdb,void 0 !== w.M1a?w.M1a:this.ldb,void 0 !== w.L1a?w.L1a:this.kdb,void 0 !== w.rQa?w.rQa:this.edb,void 0 !== w.HUa?w.HUa:this.gdb,void 0 !== w.KQa?w.KQa:this.fdb,void 0 !== w.nXb?w.nXb:this.pdb,void 0 !== w.KGb?w.KGb:this.jdb,void 0 !== w.GYa?w.GYa:this.hdb,void 0 !== w.o5a?w.o5a:this.ndb,void 0 !== w.qPa?w.qPa:this.cdb,void 0 !== w.cQa?w.cQa:this.ddb);};d.prototype.$nb=function(w,x,y,z,A,B,D,E,F,C,G,J,K,H){var R,I,P,N,M,Q,ua,ia,Pa,Ea,Va,Ya,bb,Xa,mb,Za,Sa,xa,Ia;function L(Ma){return Ma[M];}t.ova("dp: ");q(y <= B.mh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");q(B.mh <= z,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");q(y <= D,"expect min_buffer_sec <= end_buffer_sec");q(D <= z,"expect end_buffer_sec <= max_buffer_sec");void 0 !== A && q(B.Kl <= A,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + B.Kl + " and " + A);R=new c(y,z,E);E=new n();I=0;P=B;E.put([0,R.LC(B.mh)],[I,P,void 0,void 0,x,void 0,void 0,void 0]);N=P=0;x=w.FGb();q(w.OM() == x.length,"expect chunk_map.get_n_epoch() == durations_sec.length");M=-1;for(Q in x){M+=1;for(var T=!0,da=w.Gk.map(L),pa=R.O5(),wa=0;wa < pa.length;wa++){ua=pa[wa];if(E.Cpa([M,ua]))for(var X=E.get([M,ua]),sa=X[0],O=X[1],S=X[4],ka=0;ka < da.length;ka++){x=da[ka];t.update("epoch-ibuf-chunk loop");B=void 0 !== J?J(x.quality):x.quality;ia=S.tt();try{X=this.Ukb(O,x,ia,H);Pa=X[0];Ea=X[1];Va=X[2];Ya=X[3];bb=X[4];Xa=X[5];}catch(Ma){if(Ma instanceof v)continue;else if(Ma instanceof f){P+=1;continue;}else throw Ma;}mb=I=!1;try{Za=R.LC(Ya.mh);C && R.LC(Pa);G && R.LC(Ea);if(void 0 !== A)if(G){if(Va.Kl > A)throw new m();}else if(Ya.Kl > A)throw new m();}catch(Ma){if(Ma instanceof f)(Za=void 0,P+=1);else if(Ma instanceof l)(K?I=!0:N+=1,Za=void 0);else if(Ma instanceof m)(K?mb=I=!0:N+=1,Za=void 0);else throw Ma;}try{if(I && mb){q(void 0 !== A,"expect max_buffer_kb !== undefined");Sa=G?Va.Kl - A:Ya.Kl - A;q(0 <= Sa,"pause dlnd kb cannot be -ve but is " + Sa);try{xa=Ya.ZQb(Sa);}catch(Ma){if(Ma instanceof u)throw new f();throw Ma;}ia.f4a(xa);bb+=xa;q(Ya.mh < z,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Za=R.LC(Ya.mh);}else if(I && !mb){xa=G?Va.mh - z + 1E-8:Ya.mh - z + 1E-8;q(0 <= xa,"pause dlnd kb cannot be -ve but is " + xa);try{Ya.z4a(xa);}catch(Ma){if(Ma instanceof u)throw new f();throw Ma;}ia.f4a(xa);bb+=xa;q(y <= Ya.mh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");q(Ya.mh < z,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Za=R.LC(Ya.mh);}else xa=0;}catch(Ma){if(Ma instanceof f)(Za=void 0,P+=1,xa=void 0);else if(Ma instanceof v)continue;else throw Ma;}I=E.Cpa([M + 1,Za])?E.get([M + 1,Za])[0]:-Infinity;this.Hob(Ya,Za,x,B,ua,M + 1,I,E,sa,ka,ia,bb,Xa,xa) && (T=!1);}}if(T){--M;break;}}try{Ia=this.vMa(M + 1,R.LC(D),E,F,R);}catch(Ma){if(Ma instanceof g)try{Ia=this.vMa(M + 1,R.LC(D),E,!F,R);}catch(Ta){if(Ta instanceof g){if(P > N)throw new h();throw new k();}throw Ta;}else throw Ma;}ua=Ia;for(y=[];-1 < M;M--){X=E.get([M + 1,ua]);I=X[0];P=X[1];z=X[3];A=X[5];D=X[6];F=X[7];X=X[2];x=w.Gk[X][M];C=x.mz();B=x.quality;y.unshift({rZa:M,k6:X,info:{r7b:C,quality:B,Fia:P.mh,Eia:P.Kl,iUa:A,Sa:D,zsa:F}});ua=z;}return y;};d.prototype.vMa=function(w,x,y,z,A){var B,D;B=!1;D=A.O5()[0];for(A=A.O5()[A.O5().length - 1];;){if(x < D || x > A){B=!0;break;}if(y.Cpa([w,x]))break;else x=z?x - 1:x + 1;}if(B)throw new g("backtrack fails to find a solution");return x;};d.prototype.Hob=function(w,x,y,z,A,B,D,E,F,C,G,J,K,H){y=F + z * y.wm;return void 0 !== x && y > D?(E.put([B,x],[y,w,C,A,G,J,K,H]),!0):!1;};d.prototype.Ukb=function(w,x,y,z){var A,B,D;z=(x.mz() + z) * x.wm;y=y.zzb(z);z/=y;A=w.mh - y;B=w.mh + x.wm;D=w.tt();D.add(x,void 0);w=w.tt();w.add(x,void 0);try{w.z4a(y);}catch(E){if(E instanceof u)throw new f();throw E;}return [A,B,D,w,y,z];};g.prototype=Error();h.prototype=new g();k.prototype=new g();n.prototype={Xwa:function(w){return w.join(",");},put:function(w,x){this.Mka[this.Xwa(w)]=x;},get:function(w){return this.Mka[this.Xwa(w)];},Cpa:function(w){return (this.Xwa(w) in this.Mka);}};r.exports={feb:d,$1b:c,A1b:f,B1b:l};},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zJa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);l=a(16);m=r.__importDefault(a(6));d=a(215);g=a(390);a=(function(){var j80;j80=2;for(;j80 !== 13;){switch(j80){case 2:h.prototype.ls=function(k,n){var l80,t,w,x,p,q,v,u;l80=2;for(;l80 !== 50;){switch(l80){case 6:!v.O.qf.rW && 0 < n && (q=this.Za.EL(n,k));this.Za.V.Re(f.ma.Ri);u=this.Za.De;l80=12;break;case 27:return;break;case 12:l80=n != u.O.Mb?11:26;break;case 22:l80=v.O.qf.Og?21:32;break;case 54:l.uf.forEach(function(y){var o80,z;o80=2;for(;o80 !== 5;){switch(o80){case 2:z=x.Qd(y);p.ec(y) && p.Anb(z,w[y]);o80=5;break;}}});l80=53;break;case 42:var v7g="se";v7g+="e";v7g+="k";var u7g="p";u7g+="t";u7g+="s";u7g+="changed";return (this.Za.emit(u7g,q),this.Za.emit(v7g),this.$S(n),k=u && this.Za.Ab.Ox()?100:0,this.Za.g2(1,k),this.Za.Oj(),q);break;case 28:l80=(u=this.Za.De.O.Mb === n && !this.Hlb(n) && k === v.Y)?44:39;break;case 33:return;break;case 31:this.Za.V.Re(f.ma.qh);this.Za.bwa();l80=29;break;case 15:l80=this.ot(g.rba.rma(n),!1,!0)?27:26;break;case 34:var s7g="see";s7g+="kD";s7g+="elayed";this.Za.emit(s7g);l80=33;break;case 25:l80=u.length?24:52;break;case 23:l80=k > u?22:31;break;case 53:this.Za.MS();l80=43;break;case 32:(k=u,q=k + this.Za.La.Ce);l80=31;break;case 43:l80=this.Za.V.E_a()?42:41;break;case 21:l80=!this.Za.s2(v.O.Mb + 1)?35:31;break;case 41:var w7g="s";w7g+="e";w7g+="ekFa";w7g+="il";w7g+="ed";var Z7g="after se";Z7g+="eking, pla";Z7g+="yerState no longer STARTI";Z7g+="NG: ";this.H.warn(Z7g + this.Za.V.getState());this.Za.emit(w7g);l80=50;break;case 51:var Q7g="s";Q7g+="eekFai";Q7g+="l";Q7g+="e";Q7g+="d";var O7g="se";O7g+="ek, no manifes";O7g+="t at manifestInd";O7g+="ex:";(this.H.warn(O7g,n),this.Za.emit(Q7g));l80=50;break;case 3:var S7g=" pl";S7g+="a";S7g+="y";S7g+="erState";S7g+=": ";var i7g=" me";i7g+="di";i7g+="a.current";i7g+="Pt";i7g+="s: ";var z7g=" cu";z7g+="rrent ";z7g+="mani";z7g+="fest: ";var Y7g=" manife";Y7g+="s";Y7g+="t";Y7g+="Index: ";var V7g="see";V7g+="k";V7g+=": ";v.$h && this.Sh.pm(V7g + k + Y7g + n + z7g + this.Za.De.O.Mb + i7g + u + S7g + this.Za.V.getState());c.ha(n) && (n=this.Za.De.O.Mb);this.Za.La.D6a();l80=7;break;case 24:u=this.Za.yr?this.Za.Bm?Math.min(u[0].Y,u[1].Y):u[0].Y:u[1].Y;l80=23;break;case 35:this.OB={Mb:v.O.Mb + 1,Vj:k};l80=34;break;case 11:n < u.O.Mb && v.O.qf.replace && (v.O.qf.replace=!1);t=this.Za.La.Nc;l.uf.forEach(function(y){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:(y=t.Qd(y)) && p.Za.fOa(y);m80=1;break;}}});l80=19;break;case 26:u=this.Za.La.Nc.NU(v.Ha || Infinity,v.O);l80=25;break;case 19:l80=!this.Za.ZLa(n)?18:15;break;case 18:var K8q="s";K8q+="e";K8q+="ekDe";K8q+="layed";this.OB={Mb:n,Vj:k};this.Za.emit(K8q);l80=16;break;case 39:this.Za.Hga();w=this.Za.La.Nc.k3(k).eO;v.Gra();x=this.Za.La.Nc;l80=54;break;case 44:l.uf.forEach(function(y){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:p.Za.xv[y].vm(!0);n80=1;break;}}});l80=43;break;case 16:return;break;case 7:l80=(v=this.Za.bh(n))?6:51;break;case 29:this.Za.La.wYb(k,n);l80=28;break;case 52:var X8q="s";X8q+="ee";X8q+="kDela";X8q+="ye";X8q+="d";(this.OB={Mb:n,Vj:k},this.Za.emit(X8q));l80=50;break;case 2:p=this;null === (q=this.bNa) || void 0 === q?void 0:q.cancel();(v=this.Za.I,u=this.Za.V.Me());q=k;l80=3;break;}}};h.prototype.seek=function(k,n){var p80,p;p80=2;for(;p80 !== 9;){switch(p80){case 2:p=k;c.ha(n) && (n=this.Za.De.O.Mb);this.Za.La.D6a();p80=4;break;case 4:this.Za.bh(n).O.qf.rW || this.Za.DK || (p=this.Za.st(n,k));return this.ls(p,n);break;}}};h.prototype.ot=function(k,n,p){var q80,q,v;q80=2;for(;q80 !== 9;){switch(q80){case 2:v=this.Za.La.ot(k,n);q80=1;break;case 1:q80=n?5:4;break;case 5:return v;break;case 4:var U8q="s";U8q+="e";U8q+="e";U8q+="k";var R8q="pt";R8q+="sc";R8q+="ha";R8q+="nged";v?(this.Za.V.Re(f.ma.Ri),(k=this.Za.La.ei.children[k]) && this.Za.emit(R8q,null !== (q=k.sd) && void 0 !== q?q:k.Ooa),this.Za.V.Re(f.ma.qh),this.Za.emit(U8q),k && this.$S(k.O.Mb),this.Za.g2(1),this.Za.Oj(),this.Za.Ab.Ox()):p || (q=this.Za.La.UFb(k),this.ls(q));return v;break;}}};h.prototype.Hlb=function(k){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:return ! !this.Za.bh(k).fT;break;}}};h.prototype.$S=function(k){var s80,n;s80=2;for(;s80 !== 4;){switch(s80){case 2:n=this;k=this.Za.bh(k);k.fT || (k.fT=!0,l.uf.forEach(function(p){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:n.Za.Jg[p].resume();t80=1;break;}}}),this.Za.MS());s80=4;break;}}};j80=9;break;case 9:h.prototype.Anb=function(k,n){var u80,p,q,v;u80=2;for(;u80 !== 8;){switch(u80){case 9:this.Za.rU.TNa(v,k.gb.O);u80=8;break;case 4:u80=(null === (q=this.Za.rh) || void 0 === q?0:q.PC())?3:9;break;case 2:(p=this,v=k.mediaType);k.oI(n);k.xUb();u80=4;break;case 3:(this.Za.rh.Hl.forEach(function(u){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 2:p.Za.JF(u,!1);v80=1;break;case 4:p.Za.JF(u,+4);v80=4;break;v80=1;break;}}}),this.Za.rh=void 0);u80=9;break;}}};h.prototype.Afa=function(){var w80,k,n;w80=2;for(;w80 !== 4;){switch(w80){case 2:w80=this.OB?1:4;break;case 1:(k=this.OB.Vj,n=this.OB.Mb);this.Za.bh(n) && (this.OB=void 0,this.ls(k,n));w80=4;break;}}};h.prototype.Gn=function(k){function n(v,u){var y80;y80=2;for(;y80 !== 5;){switch(y80){case 2:var P8q="skip:";P8q+=" unexpected behaviour - a non-presenting bran";P8q+="ch doesn't have a previous bran";P8q+="ch";v !== p.Za.La.ei && (v.ng?n(v.ng,u):p.H.error(P8q));(v=v.Qd(u)) && v.Gn();y80=5;break;}}}var x80,p,q;x80=2;for(;x80 !== 7;){switch(x80){case 2:p=this;null === (q=this.bNa) || void 0 === q?void 0:q.cancel();this.Za.bwa();this.Za.La.ei.Gn(k);l.uf.forEach(function(v){var z80,u;z80=2;for(;z80 !== 9;){switch(z80){case 1:u=p.Za.Ab.Ef[v];p.Za.Gr && (u.Pva=m.default.time.ea());z80=4;break;case 2:z80=p.ec(v)?1:9;break;case 4:var k8q="skip: not resumi";k8q+="ng bufferManag";k8q+="er, ";k8q+="audio track s";k8q+="witch in progress";u.CP?u.Rb(k8q):p.Za.Jg[v].resume();n(p.Za.La.Nc,v);z80=9;break;}}});this.bNa=k=new d.ZE(this.Za.vI());return k.esa(function(){var A80;A80=2;for(;A80 !== 5;){switch(A80){case 2:p.Za.V.Re(f.ma.Ec);p.Za.US();A80=5;break;}}}).Fua;break;}}};h.prototype.Ai=function(k){var B80,n,p,q;B80=2;for(;B80 !== 8;){switch(B80){case 1:B80=k < (null !== (n=p.sd) && void 0 !== n?n:p.Ooa) || k >= q?5:4;break;case 2:(p=this.Za.La.ei,q=0 < Object.keys(p.N && p.N.vl || ({})).length && !p.Ik?p.Yd - this.Za.I.pD:p.Yd);B80=1;break;case 5:return !1;break;case 4:n=this.Za.Gt(k,0,!0);k=this.Za.Gt(k,1,!0);return void 0 !== n && void 0 !== k && n.complete && k.complete;break;}}};return h;break;}}function h(k,n,p,q){var k80;k80=2;for(;k80 !== 9;){switch(k80){case 2:var h8q="1SI";h8q+="YbZrNJ";h8q+="Cp";h8q+="9";this.Za=k;this.H=n;this.ec=p;this.Sh=q;h8q;k80=9;break;}}}})();b.zJa=a;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PAa=void 0;r=a(2);c=r.__importStar(a(10));f=a(16);l=r.__importDefault(a(6));a=(function(){var C80;C80=2;for(;C80 !== 18;){switch(C80){case 9:m.prototype.GLa=function(d,g){var L80,h,k,n,p;L80=2;for(;L80 !== 3;){switch(L80){case 2:(h=d.mediaType,k=this.Ta.Ab.tw[h].gH,n=d.Gg.YV);L80=1;break;case 5:p=this.Ta.Ab.Ef[h].Cf;p && (this.Ta.V.jg() || this.Ta.sg.cpb(h,p,k.bitrate,n.bitrate,d.BHb.bitrate,g));L80=3;break;case 7:L80=k || n?2:6;break;L80=k && n?5:3;break;case 1:L80=k && n?5:3;break;}}};C80=8;break;case 2:m.prototype.b1=function(){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:this.eF && (clearTimeout(this.eF),this.eF=void 0);E80=1;break;}}};m.prototype.nMa=function(){var F80,d,g,h,k;F80=2;for(;F80 !== 6;){switch(F80){case 8:this.kMa(d.Nc);this.Cob();F80=6;break;case 2:F80=!this.Ta.Ei.Uga && !this.Ta.Om()?1:6;break;case 1:var T8q="fi";T8q+="rs";T8q+="tDriveStreaming";void 0 === this.Ta.Gkb && (this.Ta.Gkb=!0,this.Ta.Db.Ul(T8q));(d=this.Ta.La,g=d.Nc.Qd(0),h=d.Nc.Qd(1),k=!h || h.Mh);(!g || g.Mh) && k && this.Ta.DK && d.Vtb(h?h.Fc:g.Fc);h=!h || h.Xq;g && !g.Xq || !h || this.Ta.DK || (this.Ta.jc.Af && this.Ta.jc.Af.Hp(!0,this.Ta.Ql.sessionId),this.Ta.Db.Z2a());F80=8;break;}}};m.prototype.nOa=function(){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.Ta.Om() || this.Ta.V.G_a() || this.Ta.V.F_a()?!0:!1;break;}}};m.prototype.f1=function(d){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return this.nOa() || this.Ta.Ab.Ef[d.mediaType].CP || this.Ta.Kx.cC?!1:!0;break;}}};m.prototype.Oj=function(){var I80,d,g;I80=2;for(;I80 !== 5;){switch(I80){case 2:(d=this,g=this.Ta.I);!this.Ta.INa || this.Ta.Y1 || this.Ta.k2 || (this.Ta.Y1=setTimeout(function(){var J80;J80=2;for(;J80 !== 4;){switch(J80){case 2:clearTimeout(d.Ta.Y1);d.Ta.Y1=void 0;d.nMa();J80=4;break;}}},g.Msa),g.ZL && this.Ta.Bm && (this.eF || (this.eF=setTimeout(function(){var K80,h;K80=2;for(;K80 !== 3;){switch(K80){case 2:clearTimeout(d.eF);d.eF=void 0;h=d.Ta.La.Nc.Qd(1);h && d.GLa(h);K80=3;break;}}},g.dpb))));I80=5;break;}}};C80=9;break;case 8:m.prototype.kMa=function(d,g){var M80,h,k,n,p,q;M80=2;for(;M80 !== 7;){switch(M80){case 2:(h=d.N,k=d.Qd(1),n=d.Qd(0),p=!n || n.Mh,q=!k || k.Mh);h.Wr || this.Ta.La.v8(d,h,d.O.qf.Og && 0 === d.O.Mb);M80=5;break;case 9:var a8q="Still in buffering s";a8q+="ta";a8q+="te while p";a8q+="ipeline's ar";a8q+="e done";this.Ta.V.jg() && (this.H.warn(a8q),this.Ta.Ab.Ox());g || h.Ou || d.O.qf.Og || !this.gtb(d) || ((g=this.Ta.V.jg()) && this.Ta.I.ska && (this.Ta.Oga(),g=!1),d.Q4 || this.Ta.La.FHb(d,g),d.iL(),d.htb() && (g=Object.keys(d.children),this.Ta.I.i4 && 1 === g.length && !d.children[g[0]].active && this.Ta.La.$0a(d,g[0]),this.Kkb(d,h)));M80=7;break;case 5:M80=!q || !p?4:9;break;case 3:return;break;case 4:M80=(this.Ta.Bm && this.lMa(d,k,n),this.Ta.yr && this.lMa(d,n,k),p=!n || n.Mh,q=!k || k.Mh,!q || !p)?3:9;break;}}};m.prototype.Kkb=function(d,g){var N80,u,t,k,n,p,h,q,v;N80=2;for(;N80 !== 23;){switch(N80){case 13:N80=1 < v.length?12:20;break;case 27:d.ffa=n.um;N80=26;break;case 3:d.iK=void 0;N80=8;break;case 17:n=v[0].gb;p=v[0].weight;d.iK=n;N80=27;break;case 18:return;break;case 26:n.je || (n.je={u6:l.default.time.ea(),wA:0});n.je.weight=p;this.kMa(n,!0);N80=23;break;case 12:n=v.reduce(function(w,x){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:x.um=x.gb.um;x.c2a=Math.min(x.um[0],x.um[1]);a000.Q0g(20);var J31=a000.Z0g(7,16,23,1);return [w[0] + x.weight,w[J31] + x.c2a];break;}}},[0,0]);(u=n[0],t=n[1]);N80=10;break;case 20:N80=0 === v.length?19:17;break;case 19:var L8q="No ";L8q+="subbranch cand";L8q+="idates to ";L8q+="drive";this.H.warn(L8q);N80=18;break;case 5:k=d.iK.um;N80=4;break;case 10:0 !== u && 0 !== t?(c.kf(v,function(w){var R80;R80=2;for(;R80 !== 4;){switch(R80){case 2:w.$0b=w.weight / u;w.Rrb=w.c2a / t;w.usage=w.Rrb - w.$0b;R80=4;break;}}}),v.sort(function(w,x){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return w.usage - x.usage;break;case 4:return w.usage / x.usage;break;S80=1;break;}}})):v.sort(function(w,x){var g2q=a000;var T80;T80=2;for(;T80 !== 4;){switch(T80){case 5:g2q.O0g(1);return g2q.Z0g(x,w);break;case 7:g2q.Q0g(9);return g2q.w0g(x,w);break;T80=4;break;case 2:w=Math.min.apply(null,w.gb.um);x=Math.min.apply(null,x.gb.um);T80=5;break;}}});N80=20;break;case 9:(n=d.iK,p=g.vl[n.N.id].weight);N80=8;break;case 4:N80=Math.min(k[0] - d.ffa[0],k[1] - d.ffa[1]) >= h.wtb?3:9;break;case 2:h=this.Ta.I;N80=1;break;case 7:(q=[],v=[]);c.kf(d.children,function(w,x){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:x=g.vl[x].weight;0 !== x && (x={weight:x,gb:w},w.hja(!0,!0) || v.push(x),q.push(x));O80=5;break;}}});0 === v.length?v=q:2 < v.length && (v.sort(function(w,x){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 2:return x.weight - w.weight;break;case 4:return x.weight * w.weight;break;P80=1;break;}}}),v.length=2);N80=13;break;case 1:N80=this.Ta.jc.xoa && d.iK && d.ffa?5:8;break;case 8:N80=!n?7:26;break;}}};m.prototype.lMa=function(d,g,h){var U80,k,n,p,q,v,u;U80=2;for(;U80 !== 8;){switch(U80){case 2:(k=this.Ta.I,n=g.mediaType);U80=1;break;case 4:U80=p.Cf && (void 0 === g.HH || (g.oI(g.HH,g.DQb),void 0 === g.HH))?3:8;break;case 1:U80=!g.Mh?5:8;break;case 5:(p=this.Ta.Ab.Ef[n],q=this.Ta.Ab.HA[n],v=this.Ta.Ab.tw[n]);U80=4;break;case 3:var B8q="Still in buff";B8q+="ering state wh";B8q+="ile";B8q+=" pipeline does not have vacancy";var p8q="drivePipe";p8q+="line, delaying audio until video ac";p8q+="tualStartPts determined";u=this.Ta.De;c.ha(u.zH) || (k.xA && 0 === n && c.ha(this.Ta.Ab.Ef[1].io)?g.Rb(p8q):(c.ha(g.un) && (g.un=g.he?g.he.index:g.Jla(g.Cc)),g.Bf && g.un > g.Bf.index?d.O.qf.Og && c.ha(u.Ha) && c.ha(d.Fc) || (g.Mh || this.Ta.fOa(g),d=this.Ta.De.O.Mb,d < this.Ta.AM() - 1 && this.Ta.s2(d + 1)):this.f1(g) && (k.uAb && !this.Ta.V.jg() && 0 >= g.mH?g.u_b(k.QMb):this.jkb(g,h)?(g.BKb=l.default.time.ea(),h=this.Ta.Ab.Dna(g),k=h.Fg,c.ha(k) || (k=g.track.$d[k],this.ikb(g,k) || ((n=k.q5())?(g.vKb=k.bitrate,g.SLb(k,n,this.Ta.V.jg(),p.Cf,h.ju),this.F_b(k,v,q),d.je && ++d.je.wA):k.bE()))):this.Ta.V.jg() && (g.Rm(B8q),this.Ta.Ab.Ox()))));U80=8;break;}}};m.prototype.F_b=function(d,g,h){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:g.Mpa=d.wd;c.Ba(h.Yv) || (h.C_b(d.ns,d.xz || -1,d.bitrate),c.ha(d.ava) || this.Ta.sg.E7a(d.ava,d.Bo,d.Co));d.url && (g.Spa=d.url);V80=4;break;}}};C80=13;break;case 13:m.prototype.ikb=function(d,g){var W80,h;W80=2;for(;W80 !== 5;){switch(W80){case 2:h=this.Ta.Ab.tw[d.mediaType];return this.Ta.INa && g.wd && h.Mpa && g.wd !== h.Mpa && (0 < d.Ra.yD || 0 < d.Ra.As)?!0:!1;break;}}};m.prototype.jkb=function(d,g){var X80,x,h,k,n,p,q,v,u,t,w;X80=2;for(;X80 !== 32;){switch(X80){case 34:return !1;break;case 25:return !1;break;case 6:h=this.Ta.De.O;x=this.Ta.V.Do(h);X80=13;break;case 17:t=void 0;g && (t=g.mediaType,w=l.default.vo()[t],t=k.W_b?this.Ta.La.b1a(p,t).Sg / w:x / w);X80=15;break;case 8:X80=q >= k.kD?7:6;break;case 19:X80=this.Ta.jc.xpa?18:17;break;case 12:return !1;break;case 27:return !1;break;case 3:return !1;break;case 20:X80=g && (x=this.Ta.La.UF(p,g.mediaType),w=d.Cc - w,this.ec(g.mediaType) && !g.Mh && w >= k.Qqa && t > k.hj)?19:26;break;case 11:v=this.Ta.La.UF(p,n);x=0;X80=20;break;case 4:X80=(null === (h=d.og) || void 0 === h?0:h.gHb())?3:9;break;case 7:return !1;break;case 24:t=this.Ta.La.sZb();X80=23;break;case 2:var l8q="floor";l8q+="ed";l8q+=" to";l8q+=" 0";var q8q="negat";q8q+="iv";q8q+="e scheduledBufferLevel:";(k=this.Ta.I,n=d.mediaType,p=d.p7,q=this.Ta.V.Me(),v=this.Ta.V.getState(),u=this.Ta.La.Lv(p,n),t=d.Cc + p.Ce - q);0 > t && (d.Rb(q8q,t,l8q),t=0);w=g?g.Cc:0;X80=4;break;case 33:return 0 < k.du && !p && v + (g?x:0) > k.du || void 0 !== this.SLa && u > this.SLa || 1 === n && h.qf.Og && u > k.Jqa && (g=this.Ta.jc.Pb.get(),g.confidence && g.Sa && g.Sa.Fa * d.zL > k.Iqa)?!1:!0;break;case 26:X80=this.llb(n) >= k.uN?25:24;break;case 13:X80=v === f.ma.Ec && u > k.Hqa && !h.qf.Og && !x && !h.qW || u && q > Math.max(u * k.Lqa / 100,k.lra)?12:11;break;case 15:X80=void 0 === t || t < k.kMb?27:26;break;case 35:X80=(q=1,d.Hia < k.Wz && (q=k.Wz),d.Ra.yD >= q)?34:33;break;case 23:X80=!c.ha(k.ow) && t >= k.ow || d.zL + q >= Math.max(k.Vz,this.Ta.jc.EA + k.Qra * p.O.nMb[n])?22:21;break;case 22:return !1;break;case 21:X80=(p=this.Ta.V.jg())?35:33;break;case 18:return !1;break;case 9:q=d.Ra.wsa;X80=8;break;}}};C80=11;break;case 19:return m;break;case 11:m.prototype.llb=function(d){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Ta.La.Hb.reduce(function(g,h){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 4:return g % h.NFb(d);break;Z80=1;break;case 2:return g + h.NFb(d);break;}}},0);break;}}};m.prototype.gtb=function(d){var a90,g,h,k;a90=2;for(;a90 !== 4;){switch(a90){case 2:(g=this,h=this.Ta.La,k=!0);c.kf(d.N.vl,function(n,p){var b90,q;b90=2;for(;b90 !== 7;){switch(b90){case 2:b90=(n=h.Ne(p))?1:8;break;case 1:p=n.O;n=p.eh[0];q=p.eh[1];n && q && n.stream.ie && q.stream.ie || (k=!1);b90=9;break;case 9:g.Ta.V.Do(p) || (k=!1);b90=7;break;case 8:var n8q="in d";n8q+="es";n8q+="ts:";var t8q="inval";t8q+="i";t8q+="d se";t8q+="gm";t8q+="ent:";d.Rb(t8q,p,n8q,d.N.vl);b90=7;break;}}});return k;break;}}};m.prototype.Cob=function(){var c90,d,g,h;c90=2;for(;c90 !== 5;){switch(c90){case 2:(d=this.Ta.I,g=this.Ta.La,h=g.Nc);this.Ta.V.jg() || g.Lv(h,1) < d.zW || h.O.Twa();c90=5;break;}}};C80=19;break;}}function m(d,g,h){var D80;D80=2;for(;D80 !== 9;){switch(D80){case 2:this.Ta=d;this.H=g;this.ec=h;D80=4;break;case 4:var j8q="1SIY";j8q+="b";j8q+="ZrN";j8q+="JCp9";j8q;this.SLa=this.eF=void 0;D80=9;break;}}}})();b.PAa=a;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gEa=void 0;c=a(168);f=a(16);l=a(16);m=a(9);r=(function(){function d(g,h,k,n){var e90;e90=2;for(;e90 !== 8;){switch(e90){case 3:var D8q="1";D8q+="SIYbZr";D8q+="NJCp";D8q+="9";this.FNa=this.Uga=!1;D8q;e90=8;break;case 2:this.Yb=g;this.H=h;this.ec=k;this.vF=n;e90=3;break;}}}var d90;d90=2;for(;d90 !== 6;){switch(d90){case 2:d.prototype.play=function(){var f90,g;f90=2;for(;f90 !== 5;){switch(f90){case 2:var C8q="p";C8q+="l";C8q+="a";C8q+="y";var g8q="play called afte";g8q+="r pipel";g8q+="ines already";g8q+=" shutdown";g=this;this.Om()?this.H.warn(g8q):(this.Yb.V.Re(f.ma.Ec),this.Yb.kob(),this.Yb.Ab.Ef.forEach(function(h){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:var N8q="play: n";N8q+="ot resuming bufferManager, audio";N8q+=" trac";N8q+="k switch in progress";g.ec(h.mediaType) && (h.CP?h.Rb(N8q):(g.Yb.Jg[h.mediaType].resume(),g.Yb.xv[h.mediaType].resume()));g90=1;break;}}}),this.Yb.US(),this.Yb.emit(C8q));f90=5;break;}}};d.prototype.stop=function(){var h90,n,g,h,k;h90=2;for(;h90 !== 6;){switch(h90){case 4:h || k || this.Yb.La.ei.SD(!1,this.Yb.V);n=this.Yb.La.Nc;h90=9;break;case 2:(g=this,h=this.Yb.V.G_a(),k=this.Yb.V.F_a());this.Yb.V.Re(f.ma.gr);this.Yb.b1();h90=4;break;case 9:var m8q="s";m8q+="t";m8q+="o";m8q+="p";l.uf.forEach(function(p){var i90;i90=2;for(;i90 !== 5;){switch(i90){case 2:i90=(p=n.Qd(p))?1:5;break;case 9:p.Mh=+5;i90=1;break;i90=5;break;case 1:p.Mh=!1;i90=5;break;}}});l.uf.forEach(function(p){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:(p=g.Yb.Jg[p]) && p.pause();j90=1;break;}}});this.Yb.emit(m8q);h90=6;break;}}};d.prototype.suspend=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:this.Uga=!0;k90=1;break;}}};d.prototype.resume=function(){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:this.Uga=!1;this.Yb.gg.Oj();l90=5;break;}}};d.prototype.close=function(){var m90,g;m90=2;for(;m90 !== 6;){switch(m90){case 3:var d8q="e";d8q+="n";d8q+="d";d8q+="pla";d8q+="y";var c8q="lo";c8q+="gda";c8q+="ta";g.zUa && (g=c.ex.instance().ub()) && (g={type:c8q,target:d8q,fields:{bridgestat:g}},m.Va(this.Yb,g.type,g));this.Yb.jc.Af && this.Yb.jc.Af.Hp(!0,this.Yb.Ql.sessionId,!0);this.Yb.Db.Z2a();this.Yb.c6a();m90=6;break;case 2:var r8q="c";r8q+="l";r8q+="o";r8q+="s";r8q+="e";g=this.Yb.I;this.FNa=!0;this.stop();this.Yb.emit(r8q);m90=3;break;}}};d.prototype.flush=function(){var n90,o90,n,p,q,v,u,g,h,k;n90=2;for(;n90 !== 16;){switch(n90){case 6:for(var t in v){var o8q="n";o8q+="e";var b8q="n";b8q+="e";var A8q="n";A8q+="e";v.hasOwnProperty(t) && (n[A8q + t]=Number(v[t]).toFixed(6),q[b8q + t]=1 * n[o8q + t]);}n90=14;break;case 17:try{o90=2;for(;o90 !== 1;){switch(o90){case 2:this.Yb.v4(f.ma.gr);o90=1;break;}}}catch(w){var M8q="Hin";M8q+="dsight: Error evalu";M8q+="ating QoE at";M8q+=" st";M8q+="opping: ";a000.Q0g(3);this.Yb.Db.vn(a000.w0g(M8q,w));}n90=16;break;case 20:var E8q="en";E8q+="dp";E8q+="l";E8q+="ay";var F8q="lo";F8q+="gd";F8q+="ata";var e8q="t";e8q+="hr";e8q+="oug";e8q+="hput";e8q+="-sw";var G8q="th";G8q+="roug";G8q+="hp";G8q+="ut-";G8q+="sw";var I8q="thro";I8q+="ughp";I8q+="ut-s";I8q+="w";var f8q="throughput";f8q+="-s";f8q+="w";h.FU && (p && p[f8q] && p[I8q].Fa && this.Yb.Iu.spb({avtp:p[G8q].Fa,variance:p[e8q].Ni}),this.Yb.Iu.mpb(q,null === (g=p.avtp) || void 0 === g?void 0:g.vC),g=this.Yb.Iu.ODb(),h=this.Yb.Iu.XFb(),g && (g.n=h,g={type:F8q,target:E8q,fields:{ibef:g}},m.Va(this.Yb,g.type,g),this.Yb.Iu.save()));n90=19;break;case 1:n90=k?5:19;break;case 14:u && u.length && (n.activeRequests=JSON.stringify(u));n.aseApiVersion=this.Yb.NF;h.xUa && (v=k.B5()) && (v.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=v.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=v.estimatedBytesPacedVideo,n.bytestotalVideo=v.bytestotalVideo,n.pacedAvtpVideo=v.pacedAvtpVideo),v.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=v.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=v.estimatedBytesPacedAudio,n.bytestotalAudio=v.bytestotalAudio,n.pacedAvtpAudio=v.pacedAvtpAudio),v.pacedAvtp && (n.pacedAvtp=v.pacedAvtp));h.l4 && (k=k.r5()) && (n.initial_avtp=k.WG,n.initial_dltime=k.vC,n.initial_responses_audio=k.UZa,n.initial_responses_video=k.VZa,n.initial_tput_samples=k.LN,n.initial_1sec_tput_samples=k.JN);n90=10;break;case 10:var W8q="e";W8q+="n";W8q+="dp";W8q+="lay";var H8q="l";H8q+="o";H8q+="gda";H8q+="t";H8q+="a";Object.keys(n).length && (n={type:H8q,target:W8q,fields:n},m.Va(this.Yb,n.type,n));n90=20;break;case 5:(n={},p=k.get(),q={});p && p.avtp && p.avtp.Fa && (n.avtp=p.avtp.Fa,n.dltm=p.avtp.vC,q.avtp=n.avtp);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);k.flush();(v=k.WWa(),u=k.IOa);n90=7;break;case 18:n90=this.vF.Gr?17:16;break;case 7:n90=v?6:14;break;case 19:this.Yb.Db.vNa();n90=18;break;case 2:(h=this.Yb.I,k=this.Yb.jc.Pb);n90=1;break;}}};d90=8;break;case 8:d.prototype.Om=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return this.FNa || this.Yb.La.ak;break;}}};return d;break;}}})();b.gEa=r;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Fa=void 0;r=a(2);c=r.__importStar(a(10));f=a(141);l=r.__importDefault(a(28)).default.Qa;m=r.__importDefault(a(6));d=a(9);g=a(5);a=(function(){var r90;r90=2;for(;r90 !== 38;){switch(r90){case 2:h.prototype.Ul=function(k){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var x8q="s";x8q+="ta";x8q+="rtEve";x8q+="nt";k={type:x8q,event:k,time:m.default.time.ea()};d.Va(this.$a,k.type,k);t90=5;break;}}};h.prototype.Kmb=function(){var u90,k;u90=2;for(;u90 !== 5;){switch(u90){case 2:var J8q="openC";J8q+="omplet";J8q+="e";k={type:J8q};d.Va(this.$a,k.type,k);u90=5;break;}}};h.prototype.Lmb=function(k,n,p,q,v){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:var y8q="p";y8q+="tsSta";y8q+="rt";y8q+="s";this.$a.I.Zyb || (k={type:y8q,manifestIndex:k,mediaType:n,movieId:q,streamId:p,ptsStarts:v.G8a()},d.Va(this.$a,k.type,k));v90=1;break;}}};h.prototype.Bmb=function(k,n){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var u8q="head";u8q+="erCache";u8q+="Hit";k={type:u8q,movieId:k,streamId:n};d.Va(this.$a,k.type,k);w90=5;break;}}};r90=3;break;case 20:h.prototype.Gmb=function(k,n,p,q,v){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var v8q="manifest";v8q+="R";v8q+="ange";k={type:v8q,index:k,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(v)};d.Va(this.$a,k.type,k);I90=5;break;}}};h.prototype.yNa=function(k){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var s8q="ma";s8q+="xBi";s8q+="trat";s8q+="es";k={type:s8q,audio:k[0],video:k[1]};d.Va(this.$a,k.type,k);J90=5;break;}}};h.prototype.Hmb=function(k,n){var K90,p;K90=2;for(;K90 !== 3;){switch(K90){case 2:var w8q="n";w8q+="otifyM";w8q+="anife";w8q+="stSelecte";w8q+="d: ";var Z8q="man";Z8q+="ifestSelect";Z8q+="ed";p=this.$a.I;k={type:Z8q,index:k,replace:n.O.qf.replace,ptsStarts:n.eO,streamingOffset:n.Y + n.kw};p.$h && (n=w8q + JSON.stringify(k),p.$h && this.pm(n));d.Va(this.$a,k.type,k);K90=3;break;}}};h.prototype.Fmb=function(k,n,p,q,v){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 2:var O8q="manifestP";O8q+="resenti";O8q+="ng";k={type:O8q,index:k.Mb,pts:Math.floor(n),movieId:k.J,replace:k.qf.replace,contentOffset:p};null != q && null != v && (k.previousMovieId=q,k.previousIndex=v);d.Va(this.$a,k.type,k);L90=4;break;}}};r90=16;break;case 41:h.prototype.sOb=function(k){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var Q8q="str";Q8q+="eamSelectionAu";Q8q+="gme";Q8q+="n";Q8q+="tData";k={type:Q8q,augmentData:k,fragmentIndex:k[0].Wd};d.Va(this.$a,k.type,k);h01=5;break;}}};h.prototype.pm=function(k){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var Y8q=",";Y8q+=" ";var V8q="manag";V8q+="erdebuge";V8q+="vent";k={type:V8q,message:"@" + m.default.time.ea() + Y8q + k};d.Va(this.$a,k.type,k);i01=5;break;}}};return h;break;case 26:h.prototype.zmb=function(k){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var z8q="first";z8q+="Requ";z8q+="estAppended";k={type:z8q,manifestIndex:k.Ra.gb.O.Mb,mediatype:k.mediaType,time:m.default.time.ea()};d.Va(this.$a,k.type,k);P90=5;break;}}};r90=25;break;case 12:h.prototype.Mmb=function(k,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var i8q="seg";i8q+="men";i8q+="tAppen";i8q+="ded";n={type:i8q,segmentId:k.id,metrics:n};k.ED || d.Va(this.$a,n.type,n);F90=5;break;}}};h.prototype.Nmb=function(k,n,p){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var S8q="segmentC";S8q+="o";S8q+="mplete";k={type:S8q,mediaType:k,manifestIndex:n,segmentId:p.id};G90=1;break;case 1:d.Va(this.$a,k.type,k);G90=5;break;}}};h.prototype.nga=function(k,n){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var K4q="la";K4q+="s";K4q+="t";K4q+="Se";K4q+="gmentPts";n={type:K4q,segmentId:k.id,pts:Math.floor(n)};k.ED || d.Va(this.$a,n.type,n);H90=5;break;}}};r90=20;break;case 16:h.prototype.Pmb=function(k,n,p,q){var M90,v;M90=2;for(;M90 !== 3;){switch(M90){case 2:v=k.mediaType;f.Cm.hq(v);M90=5;break;case 5:var X4q="s";X4q+="tre";X4q+="amPresen";X4q+="t";X4q+="ing";k={type:X4q,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:v,manifestIndex:q,trackIndex:k.track.bC,streamIndex:k.Fg};d.Va(this.$a,k.type,k);M90=3;break;}}};h.prototype.Umb=function(k){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var R4q="v";R4q+="ide";R4q+="oLo";R4q+="o";R4q+="ped";k={type:R4q,offset:k};d.Va(this.$a,k.type,k);N90=5;break;}}};h.prototype.Smb=function(k,n,p,q,v){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var U4q="u";U4q+="pdat";U4q+="eStreamingP";U4q+="ts";n={type:U4q,mediaType:k,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:v};O90=1;break;case 1:f.Cm.hq(k);d.Va(this.$a,n.type,n);O90=4;break;}}};r90=26;break;case 3:h.prototype.Amb=function(k,n,p,q,v){var x90,u;x90=2;for(;x90 !== 3;){switch(x90){case 2:var P4q="h";P4q+="e";P4q+="aderCacheDat";P4q+="aHit";u=this.$a.NMa;this.$a.NMa=void 0;k={type:P4q,movieId:k,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:v,actualStartPts:u && u.io,headerCount:u && u.TM,stats:u && u.Md};d.Va(this.$a,k.type,k);x90=3;break;}}};h.prototype.Imb=function(k,n,p,q){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var k4q="ma";k4q+="x";k4q+="Posi";k4q+="tio";k4q+="n";k={type:k4q,index:k,endPts:n,maxPts:p,maxSeekPts:q};d.Va(this.$a,k.type,k);y90=5;break;}}};h.prototype.Rmb=function(k,n,p,q,v,u){var z90;z90=2;for(;z90 !== 4;){switch(z90){case 2:var T4q="notifyStre";T4q+="a";T4q+="m";T4q+="i";T4q+="ngError: ";var h4q="e";h4q+="rr";h4q+="or";k={type:h4q,error:k,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:v,manifestIndex:u};this.H.error(T4q + JSON.stringify(k));d.Va(this.$a,k.type,k);z90=4;break;}}};h.prototype.M1=function(k,n){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var a4q="segme";a4q+="nt";a4q+="Starti";a4q+="ng";n={type:a4q,segmentId:k.id,contentOffset:n,maxBitrates:{audio:k.O.pw[0],video:k.O.pw[1]}};k.ED || d.Va(this.$a,n.type,n);A90=5;break;}}};h.prototype.oga=function(k){var B90,n;B90=2;for(;B90 !== 5;){switch(B90){case 2:var L4q="s";L4q+="egm";L4q+="entAbo";L4q+="rte";L4q+="d";n={type:L4q,segmentId:k.id};k.ED || d.Va(this.$a,n.type,n);B90=5;break;}}};h.prototype.mlb=function(k,n){var C90,p,q;C90=2;for(;C90 !== 12;){switch(C90){case 9:var p4q="sea";p4q+="m";p4q+="le";p4q+="ss";n.Bka || (p.delayToTransition=n.V3);q=p4q === q?0:m.default.time.ea() - n.startTime;p.durationOfTransition=q;p.atTransition=n.f$a;p.srcsegmentduration=this.$a.La.TFb(n.t$);return p;break;case 2:var n4q="r";n4q+="e";n4q+="s";n4q+="e";n4q+="t";var t4q="s";t4q+="k";t4q+="i";t4q+="p";var l4q="l";l4q+="o";l4q+="n";l4q+="g";var q4q="l";q4q+="o";q4q+="n";q4q+="g";var B4q="sea";B4q+="m";B4q+="les";B4q+="s";(p={segment:k,srcsegment:n.t$,srcoffset:n.YO,seamlessRequested:n.Qe,atRequest:{},discard:{}},q=n.je[k]);q?p.atRequest={weight:q.weight,abuflmsec:q.Br.vr,vbuflmsec:q.Br.Mn,abuflbytes:q.Br.YK,vbuflbytes:q.Br.Ww}:(q=this.$a.La.hYa(n.t$,k),void 0 !== q && (p.atRequest.weight=q));c.kf(n.je,function(v,u){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:u != k && (p.discard[u]={weight:v.weight,abuflmsec:v.Br.vr,vbuflmsec:v.Br.Mn,abuflbytes:v.Br.YK,vbuflbytes:v.Br.Ww});D90=1;break;}}});q=n.Qe?n.xV?B4q:q4q:n.B2a?l4q:n.Gn?t4q:n4q;p.transitionType=q;C90=9;break;}}};h.prototype.Omb=function(k,n,p){var E90;E90=2;for(;E90 !== 4;){switch(E90){case 2:var j4q="se";j4q+="gmentPre";j4q+="senting";p=p?this.mlb(k.id,p):void 0;k={type:j4q,segmentId:k.id,contentOffset:n,metrics:p,playlistSegment:k.ED,manifestIndex:k.O.Mb};d.Va(this.$a,k.type,k);E90=4;break;}}};r90=12;break;case 28:h.prototype.ymb=function(k){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var D4q="e";D4q+="ndO";D4q+="fStream";k={type:D4q,mediaType:k};d.Va(this.$a,k.type,k);d01=5;break;}}};h.prototype.vn=function(k){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var N4q="as";N4q+="eexce";N4q+="ption";var g4q="asee";g4q+="xce";g4q+="ption";this.$a.emit(g4q,{type:N4q,msg:k});e01=1;break;}}};h.prototype.mOb=function(k,n,p,q){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var m4q="maxvideo";m4q+="bitrate";m4q+="ch";m4q+="an";m4q+="ged";var C4q="maxv";C4q+="i";C4q+="deobitratechang";C4q+="ed";k={type:C4q,time:m.default.time.ea(),spts:q,maxvb_old:k,maxvb:n,reason:p};this.$a.emit(m4q,k);f01=5;break;}}};h.prototype.Z2a=function(){var g01,k;g01=2;for(;g01 !== 3;){switch(g01){case 2:g01=!this.uob && this.$a.I.W2a?1:3;break;case 1:var c4q="s";c4q+="t";c4q+="reameren";c4q+="d";this.uob=!0;k={type:c4q,time:m.default.time.ea()};d.Va(this.$a,k.type,k);g01=3;break;}}};r90=41;break;case 22:h.prototype.xmb=function(k){var U90,n;U90=2;for(;U90 !== 4;){switch(U90){case 5:this.$fa=k || 0;U90=4;break;case 2:var d4q="bufferingSta";d4q+="rt";d4q+="ed";n={type:d4q,time:m.default.time.ea(),percentage:k || 0};d.Va(this.$a,n.type,n);U90=5;break;}}};h.prototype.vmb=function(){var V90,k,n,p,q,v;V90=2;for(;V90 !== 3;){switch(V90){case 2:var r4q="bu";r4q+="ff";r4q+="er";r4q+="ing";(k=this.$a.I,n=m.default.time.ea(),p=this.$a.La.Nc,q=this.$a.Bm?1:0,v=p.fb(q));p=p.xh(q);k=Math.min(Math.max(Math.round(100 * (v.hD?(n - this.$a.Zea) / k.kA:v.progress?v.progress:p / k.hj)),this.$fa),99);k != this.$fa && (n={type:r4q,time:n,percentage:k},d.Va(this.$a,n.type,n),this.$fa=k);V90=3;break;}}};h.prototype.mga=function(){var W90,k,n,p,q,v;W90=2;for(;W90 !== 8;){switch(W90){case 9:d.Va(this.$a,k.type,k);W90=8;break;case 2:var A4q="bufferingComp";A4q+="l";A4q+="ete";(k=this.$a.La.Nc,n=k.fb(0),p=k.fb(1));this.wNa();(q=this.$a.Bm?this.$a.Ab.HA[l.Jb]:this.$a.Ab.HA[l.Lb],v=q.ET);k={type:A4q,time:m.default.time.ea(),actualStartPts:v,aBufferLevelMs:k.xh(0),vBufferLevelMs:k.xh(1),selector:p?p.HO:n.HO,initBitrate:q.Yv,skipbackBufferSizeBytes:this.$a.jc.QD};this.$a.sg.DBb({initSelReason:q.yz,initSelectionPredictedDelay:q.xz,buffCompleteReason:q.kt,hashindsight:this.$a.Gr,hasasereport:! !this.$a.gs,bcVBufferLevelMs:k.vBufferLevelMs,bcABufferLevelMs:k.aBufferLevelMs});W90=9;break;}}};r90=34;break;case 34:h.prototype.wNa=function(){var X90,k,n,p,q,v,u,t;X90=2;for(;X90 !== 12;){switch(X90){case 1:X90=!this.$a.Om()?5:12;break;case 2:k=this.$a.I;X90=1;break;case 7:var b4q="upda";b4q+="t";b4q+="eBuffer";b4q+="Le";b4q+="vel";n=u.UF(n,1);p={type:b4q,abuflbytes:t,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:v};q > k.d2a && this.$a.jc.Af && this.$a.jc.Af.Hp(!0,this.$a.Ql.sessionId);d.Va(this.$a,p.type,p);X90=12;break;case 5:(n=this.$a.La.Nc,p=n.xh(0),q=n.xh(1));this.$a.sg.fpb(p,q);v=this.$a.jc.Pb.get();v=v.confidence?v.Sa.Fa:0;(u=this.$a.La,t=u.UF(n,0));X90=7;break;}}};h.prototype.Ulb=function(k){var Y90,n,p,q;Y90=2;for(;Y90 !== 7;){switch(Y90){case 9:var M4q=",";M4q+=" ";M4q+="system";M4q+="Delta: ";var o4q="me";o4q+="moryUsage";o4q+=" at time:";o4q+=" ";c.Ba(k.PY) && c.Ba(this.FK.PY) && (n=k.PY - this.FK.PY,4194304 < n && this.H.warn(o4q + m.default.time.ea(),M4q + n));Y90=8;break;case 2:Y90=!c.ha(k)?1:7;break;case 5:Y90=!c.ha(this.FK)?4:8;break;case 8:this.FK=k;Y90=7;break;case 1:c.Ba(k.PY);Y90=5;break;case 4:var e4q=", osAll";e4q+="oc";e4q+="at";e4q+="orDelta: ";var G4q=", jsHeapDe";G4q+="l";G4q+="ta: ";var I4q=", ";I4q+="fas";I4q+="tMa";I4q+="llocDelta: ";var f4q="memo";f4q+="ryU";f4q+="sag";f4q+="e at ";f4q+="time: ";(n=k.gVa - this.FK.gVa,p=k.fZa - this.FK.fZa,q=k.B3a - this.FK.B3a);(4194304 < n || 4194304 < q) && this.H.warn(f4q + m.default.time.ea() + I4q + n + G4q + p + e4q + q);Y90=9;break;}}};h.prototype.Tmb=function(){var Z90,k;Z90=2;for(;Z90 !== 3;){switch(Z90){case 2:var F4q="s";F4q+="treami";F4q+="ngstat";this.$a.I.wLb && m.default.memory.vEb(this.Ulb.bind(this));k={type:F4q,time:m.default.time.ea(),playbackTime:this.$a.V.Me()};this.$a.sg.EBb(k);d.Va(this.$a,k.type,k);Z90=3;break;}}};r90=31;break;case 31:h.prototype.vNa=function(){var a01,k;a01=2;for(;a01 !== 4;){switch(a01){case 9:a01=this.$a.gs?3:8;break;a01=this.$a.gs?1:4;break;case 2:a01=this.$a.gs?1:4;break;case 1:var E4q="a";E4q+="ser";E4q+="e";E4q+="p";E4q+="ort";k={type:E4q};this.$a.gs.CBb(k) && d.Va(this.$a,k.type,k);a01=4;break;}}};h.prototype.smb=function(){var b01,k;b01=2;for(;b01 !== 5;){switch(b01){case 2:var H4q="ase";H4q+="r";H4q+="e";H4q+="porte";H4q+="nabled";k={type:H4q};d.Va(this.$a,k.type,k);b01=5;break;}}};h.prototype.Cmb=function(k){var Y0q=a000;var c01,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,L;c01=2;for(;c01 !== 6;){switch(c01){case 2:c01=k?1:6;break;case 3:n.report=k;c01=9;break;case 4:c01=this.$a.BU || this.$a.Lw?3:9;break;case 9:c01=this.$a.Lw?8:7;break;case 7:d.Va(this.$a,n.type,n);c01=6;break;case 1:var W4q="hinds";W4q+="igh";W4q+="treport";(n={type:W4q},p=this.$a.I.e6);for(L in p){var u4q="h";u4q+="vma";u4q+="f";u4q+="dp";var y4q="hvma";y4q+="f";y4q+="gr";var J4q="hvm";J4q+="a";J4q+="ftb";var x4q="h";x4q+="t";x4q+="w";x4q+="b";x4q+="r";q=p[L];v=0;u=0;t=0;w=0;x=0;y=0;z=void 0;A=void 0;B=!1;D=-1;E=-1;F=-1;C=-1;G=-1;J=-1;for(K in k){A=k[K];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,t+=z.dlvdur,v+=z.dltwbr * z.dlvdur,u+=z.dlvmaf * z.dlvdur);y+=A.pbdur;w+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (D=1 * w / y,C=1 * x / y);B && (0 < t && (E=1 * v / t,G=1 * u / t),0 < t + y && (F=1 * (v + w) / (t + y),J=1 * (u + x) / (t + y)));switch(q){case x4q:n.htwbr=F;n.hptwbr=E;n.pbtwbr=D;z && (n.rr=z,n.ra=A);break;case J4q:n.hvmaftb=J;n.hpvmaftb=G;n.pbvmaftb=C;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case y4q:n.hvmafgr=J;n.hpvmafgr=G;n.pbvmafgr=C;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case u4q:(n.hvmafdp=J,n.hpvmafdp=G,n.pbvmafdp=C,z && (n.rrvmafdp=z,n.ravmafdp=A));}}c01=4;break;case 8:for(var H in k){if((p=k[H],void 0 !== p.v8a))for(q in p.v8a){if((z=p.v8a[q],void 0 !== z.D$)){var w4q=" ";w4q+="a";w4q+="n";w4q+="d";w4q+=" ";var Z4q="expect sol.strmsel.length === sol.frags";Z4q+="el.length b";Z4q+="ut got ";var s4q="expe";s4q+="ct report.fragmentsPrebuffered !== ";s4q+="undefined";var v4q="e";v4q+="xp";v4q+="ect ";v4q+="report.fragmentsPre";v4q+="buffered !== undefined";L=void 0 !== p.SVa;L || (console.error(v4q),g.assert(L,s4q));L=[];for(var R in p.SVa){v=p.SVa[R];L.push({fa:v.fa,wm:v.duration / 1E3,quality:v.Eb});}L=z.D$.length === z.TVa.length;v=Z4q + z.D$.length + w4q + z.TVa.length;L || (console.error(v),g.assert(L,v));L=[];v=0;for(var I in z.D$){t=z.D$[I];u=z.TVa[I];Y0q.Q0g(3);v=t=Y0q.w0g(v,t);L.push({sac:t,Uac:z.iUa[I],d8b:z.Sa[I],Fia:z.Fia[I],Eia:z.Eia[I],JQa:z.JQa[I],H7b:{fa:u.fa,wm:u.duration / 1E3,quality:u.Eb?u.Eb:z.$d[t].Eb,xac:u.Fg,I7b:u.Wg},G5a:0,X$b:0,zsa:z.zsa[I]});}z=[];L=0;for(var P in p.MA.trace){v=p.MA.trace[P];Y0q.O0g(3);L=v=Y0q.Z0g(L,v);z.push(v);}}}}c01=7;break;}}};r90=28;break;case 25:h.prototype.Dmb=function(k,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var O4q="i";O4q+="nitialAudioTra";O4q+="ck";k={type:O4q,trackId:n,trackIndex:k};d.Va(this.$a,k.type,k);Q90=5;break;}}};h.prototype.umb=function(k,n){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var Q4q="audi";Q4q+="oTrackSw";Q4q+="it";Q4q+="c";Q4q+="hStarted";k=k.Rz;n=n.Rz;n={type:Q4q,oldLangCode:k.language,oldNumChannels:k.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Va(this.$a,n.type,n);R90=3;break;}}};h.prototype.tmb=function(k,n){var S90,p;S90=2;for(;S90 !== 5;){switch(S90){case 2:p=this;setTimeout(function(){var T90,q;T90=2;for(;T90 !== 5;){switch(T90){case 2:var V4q="audio";V4q+="TrackSwitchComple";V4q+="te";q={type:V4q,trackId:k,trackIndex:n};d.Va(p.$a,q.type,q);T90=5;break;}}},0);S90=5;break;}}};r90=22;break;}}function h(k,n){var s90;s90=2;for(;s90 !== 4;){switch(s90){case 2:var Y4q="1S";Y4q+="IY";Y4q+="bZrNJC";Y4q+="p";Y4q+="9";this.$a=k;this.H=n;Y4q;s90=4;break;}}}})();b.$Fa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.FCa=void 0;c=a(2);r=a(18);f=c.__importStar(a(10));a(5);a(221);l=a(240);m=a(373);d=a(83);a(364);a(379);g=a(123);h=c.__importDefault(a(28));a(234);k=a(864);n=c.__importDefault(a(122));a(16);p=c.__importDefault(a(6));a(174);a(244);a(243);a(99);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");v=p.default.lJ;u=q.trace.bind(q);a.trace.bind(a);t=q.warn.bind(q);w=q.error.bind(q);x=q.info.bind(q);a=(function(y){var j01;j01=2;for(;j01 !== 39;){switch(j01){case 7:z.prototype.iW=function(A,B){var t01;t01=2;for(;t01 !== 4;){switch(t01){case 8:t01=(B=A.headers[B])?6:3;break;t01=(B=A.headers[B])?5:4;break;case 1:t01=(B=A.headers[B])?5:4;break;case 2:t01=(A=this.$f[A])?1:4;break;case 9:t01=(A=this.$f[A])?0:2;break;t01=(A=this.$f[A])?1:4;break;case 5:return B;break;}}};z.prototype.GLb=function(A,B){var u01,D,E;u01=2;for(;u01 !== 5;){switch(u01){case 2:(D=this,E=this.FLb(A));return E || !this.Kj?Promise.resolve(E):(this.mF?this.Rlb(A,B):this.Qlb(A,B)).then(function(F){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 2:return D.d5a(F);break;case 4:return D.d5a(F);break;v01=1;break;}}});break;}}};z.prototype.FLb=function(A){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 2:return this.d5a(this.$f[A]);break;}}};z.prototype.EVa=function(){var x01,D,E,F;x01=2;function A(G){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 4:G.yRa();y01=2;break;y01=1;break;case 2:G.yRa();y01=1;break;}}}for(;x01 !== 4;){switch(x01){case 2:D=0;for(E in this.$f){F=this.$f[E];if(F.data){for(var C in F.data){var i4q="i";i4q+="n e";i4q+="ntry:";var z4q="mi";z4q+="ssin";z4q+="g heade";z4q+="rEntry f";z4q+="or streamId:";F.headers[C] || w(z4q,C,i4q,F);B(F,C);F.data[C].forEach(A);delete F.data[C];}delete F.data;}}this.Pnb(D);x01=4;break;}}function B(G,J){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:G && G.data && G.data[J].forEach(function(K){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:K.abort();D+=K.bytesReceived;A01=5;break;}}});z01=1;break;}}}};j01=12;break;case 44:z.prototype.JLa=function(A,B){var k11,D,E,F,C;k11=2;for(;k11 !== 7;){switch(k11){case 2:D=this;k11=1;break;case 3:k11=B.data?9:7;break;case 1:k11=B?5:7;break;case 5:(E=this.$f[A],F=B.headers);E && F && Object.keys(F).forEach(function(G){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 4:D.Cjb(F[G],E);l11=6;break;l11=1;break;case 2:D.Cjb(F[G],E);l11=1;break;}}});k11=3;break;case 9:C=B.data;Object.keys(C).forEach(function(G){var m11,K,J;m11=2;for(;m11 !== 9;){switch(m11){case 4:K=E.data;J.forEach(function(H){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:K[G].push(H);n11=1;break;case 4:K[G].push(H);n11=9;break;n11=1;break;}}});m11=9;break;case 2:J=C[G];f.ha(E.data) && (E.data={});f.ha(E.data[G]) && (E.data[G]=[]);m11=4;break;}}});k11=7;break;}}};z.prototype.a5a=function(A,B){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:return B.priority - A.priority;break;case 4:return B.priority % A.priority;break;o11=1;break;}}};j01=42;break;case 12:z.prototype.eA=function(A){var B01,B;B01=2;for(;B01 !== 5;){switch(B01){case 2:B=this.$f[A.J];B && (this.Vc(A)?f.ha(B.Md.wHb) && !f.ha(A.loadTime) && (B.Md.wHb=A.loadTime):f.ha(B.Md.O4a) && !f.ha(A.loadTime) && (B.Md.O4a=A.loadTime));B01=5;break;}}};z.prototype.hk=function(A){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:this.Vc(A)?this.HPb(A):this.IPb(A);C01=1;break;}}};z.prototype.cX=function(A){var D01;D01=2;for(;D01 !== 5;){switch(D01){case 2:var S4q="_";S4q+="onE";S4q+="rro";S4q+="r";S4q+=": ";t(S4q,A.toString());this.c1(A);D01=5;break;}}};j01=20;break;case 27:z.prototype.rkb=function(A,B){var P01,D;P01=2;for(;P01 !== 8;){switch(P01){case 9:return B;break;case 2:D=A.stream.mediaType;2 > this.Av.length && this.cMa();B=l.QZ.create(A.stream,B,this.Av[D].track,A,this,!0,q);B.Hh=A.Hh;B.Af=this;P01=9;break;}}};z.prototype.c1=function(A){var Q01,B;Q01=2;for(;Q01 !== 9;){switch(Q01){case 2:this.Vc(A) && delete this.B1[A.Pa];this.Vc(A) || delete A.response;Q01=5;break;case 5:var K6q="sa";K6q+="vetodis";K6q+="k";A.Zc();B=this.$f[A.J] || A.om;B && 0 === B.dZa && 0 === B.$T && (this.eob(B,A.pf),B.Hh && this.Kj && (B.Md.$9b || (this.mF?this.Kj.$Ub(B):this.Kj.IO(K6q,{X6a:B.Md.ys}))));Q01=9;break;}}};z.prototype.bmb=function(A,B,D){var R01,E,F;R01=2;for(;R01 !== 8;){switch(R01){case 2:E=A.R3;B.Hh && this.Kj && (A.Q1a?E=A.Q1a:A.B1a && 0 < A.B1a && (E=2E3 * A.B1a));R01=5;break;case 4:return function(C,G){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:a000.Q0g(21);return a000.Z0g(G,E);break;}}};break;case 5:R01=0 < E?4:3;break;case 3:F=D && D.length < A.kTa?D.length:A.kTa;return function(C){var l2q=a000;var T01;T01=2;for(;T01 !== 1;){switch(T01){case 4:l2q.Q0g(22);return l2q.Z0g(C,F);break;T01=1;break;case 2:l2q.Q0g(21);return l2q.Z0g(C,F);break;}}};break;}}};z.prototype.Fga=function(A,B){var U01,J,K,R,I,H,G,L,D,E,F,C;U01=2;for(;U01 !== 53;){switch(U01){case 14:G.Eka=A;U01=13;break;case 33:U01=K < (J && J.length || 0) && !D(L,F)?32:54;break;case 11:A.mediaType === h.default.Qa.Lb && C.Dk && !C.dC && F.ue && (B=Math.max(F.W && F.W.rj(0) || 0,B + F.ue.T));(J=A.stream.W,K=J && J.hn(B));U01=20;break;case 28:U01=R < J.length && (H.fa < I || H.duration < C)?44:42;break;case 22:D=this.bmb(C,A,J);L=F=0;(R=H && H.mediaType,I=R === h.default.Qa.Jb?C.c8:C.U7);U01=34;break;case 8:U01=G?7:53;break;case 43:++R;U01=28;break;case 18:H=A.stream.Mk(K);U01=17;break;case 7:U01=A.mediaType === h.default.Qa.Lb?6:11;break;case 31:H.Hh=A.Hh;U01=30;break;case 54:G.Eka && !f.ha(G.io) && (A=G.Eka,delete G.Eka,this.Fga(A,G.io));U01=53;break;case 19:var X6q="no proper fragment found to";X6q+=" request data a";X6q+="t pts";w(X6q,B);U01=53;break;case 20:U01=-1 === K || void 0 === K?19:18;break;case 4:U01=this.oK.length > C.rHb?3:53;break;case 9:G=this.$f[D] || A.om;U01=8;break;case 44:(H.E2(J.get(R)),H.EN=R + 1,K=R);U01=43;break;case 12:B=G.io;U01=11;break;case 16:H.Hh=A.Hh;L=H.Pla(B);L && (H.mediaType === h.default.Qa.Lb && !C.N7 && L.Cd < (C.Dk && !C.dC && F.ue?Math.floor(F.ue.T):0) && (++L.Xk,L.Cd+=H.qa.T),0 < L.Xk && H.Ih({start:L.Xk}));U01=26;break;case 1:U01=this.n1?5:9;break;case 29:a000.O0g(3);R=a000.w0g(K,1);U01=28;break;case 34:C=R === h.default.Qa.Jb?C.sNb:C.mNb;U01=33;break;case 36:++K;U01=33;break;case 37:H=void 0;U01=36;break;case 25:void 0 === G.data && (G.data={});void 0 === G.data[E] && (G.data[E]=[]);B=G.data[E];U01=22;break;case 42:var R6q="und";R6q+="efine";R6q+="d";f.ha(G.io) && (G.io=H.Y);H.Hh && (H.responseType=0);A.Hh && this.Kj && A.tW && A.tW[E] && R6q !== typeof H.Y && A.tW[E][H.Y] || (R=this.rkb(H,A.Od),R.Hh && (R.om=A.om),R.QN(),++G.$T,B.push(R));++L;F+=H.duration;U01=37;break;case 17:U01=!f.ha(H)?16:25;break;case 30:U01=!f.ha(J) && !H.oa?29:42;break;case 3:this.oK.shift();U01=4;break;case 2:(D=A.J,E=A.Pa,F=A.stream,C=A.Od);U01=1;break;case 13:return;break;case 32:U01=(void 0 === H && (H=A.stream.Mk(K)),void 0 !== H)?31:36;break;case 5:this.oK.push({vHb:A,Cd:B});U01=4;break;case 6:U01=void 0 === G.io?14:12;break;case 26:var T6q="managerd";T6q+="e";T6q+="bu";T6q+="gev";T6q+="ent";var h6q=", st";h6q+="art";h6q+="Pts";h6q+=": ";var k6q=", ";k6q+="p";k6q+="t";k6q+="s";k6q+=": ";var P6q=",";P6q+=" ";P6q+="stream";P6q+="Id: ";var U6q=", head";U6q+="e";U6q+="rCache requ";U6q+="estData: movie";U6q+="Id: ";C.$h && (B="@" + p.default.time.ea() + U6q + D + P6q + E + k6q + B + h6q + H.Y,this.emit(T6q,{message:B}));U01=25;break;}}};z.prototype.Djb=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.ILa(A,A.om);V01=1;break;}}};j01=22;break;case 22:z.prototype.Cjb=function(A,B){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:this.ILa(A,B);W01=1;break;}}};z.prototype.ILa=function(A,B){var X01,D;X01=2;for(;X01 !== 4;){switch(X01){case 2:D=A.Pa;X01=1;break;case 1:X01=(B=this.$f[A.J] || B)?5:4;break;case 5:(B.Lpb || B.Hh && !this.mF || (B.Lpb=!0,++this.fF),B.headers || (B.headers={}),B.headers[D]=A,this.ao.AAb && (B.TM || (B.TM=0),++B.TM),this.dfa());X01=4;break;}}};z.prototype.dfa=function(){function A(C){var Z01;Z01=2;for(;Z01 !== 5;){switch(Z01){case 2:C.abort();D+=C.bytesReceived;Z01=5;break;}}}var Y01,B,D,E;Y01=2;for(;Y01 !== 12;){switch(Y01){case 5:Y01=this.fF > this.hNa?4:13;break;case 2:D=0;Y01=1;break;case 1:Y01=!(this.fF <= this.hNa)?5:12;break;case 4:Y01=(B=this.eo.shift())?3:5;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}Y01=7;break;case 9:Y01=B.data?8:7;break;case 13:this.Nnb(D);Y01=12;break;case 7:delete this.$f[E];--this.fF;Y01=14;break;case 3:E=B.J;Y01=9;break;case 14:this.Mnb(E);Y01=5;break;}}};z.prototype.Nnb=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var a6q="disca";a6q+="rde";a6q+="dBy";a6q+="tes";0 !== A && (A={type:a6q,bytes:A},this.emit(A.type,A));a11=1;break;}}};j01=33;break;case 30:z.prototype.eob=function(A,B){var e11;e11=2;for(;e11 !== 4;){switch(e11){case 2:var L6q="p";L6q+="rebuffstat";L6q+="s";A.Md.ARb=B;A={type:L6q,movieId:A.J,stats:{prebuffstarted:A.Md.O4a,prebuffcomplete:A.Md.ARb}};this.emit(A.type,A);e11=4;break;}}};z.prototype.Rlb=function(A,B){var f11,D;f11=2;for(;f11 !== 5;){switch(f11){case 2:var p6q="M";p6q+="edi";p6q+="a cache i";p6q+="s not ena";p6q+="bled";D=this;return this.Kj?this.Kj.jLb(A,B).then(function(E){var g11;g11=2;for(;g11 !== 5;){switch(g11){case 2:g11=E && E.om?1:5;break;case 1:return (D.$f[A]=E.om,++D.fF,D.dfa(),D.eo.push(E.om),D.eo.sort(D.a5a),D.JLa(A,E),D.cache[A]);break;}}}):Promise.reject(p6q);break;}}};z.prototype.Qlb=function(A,B){var h11,D,E,F;h11=2;for(;h11 !== 8;){switch(h11){case 2:D=this;h11=1;break;case 1:h11=this.Kj?5:9;break;case 5:(E=void 0,F=!1);this.Kj.u_a(this.$f[A])?(E=Promise.resolve(this.$f[A]),F=!0):E=this.Kj.mLb(A);h11=3;break;case 3:return E.then(function(C){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:return !f.ha(C) && D.Kj?D.Kj.iLb(A,B,C).then(function(G){var j11;j11=2;for(;j11 !== 5;){switch(j11){case 2:G && (F || (D.$f[A]=C,++D.fF,D.dfa(),D.eo.push(C),D.eo.sort(D.a5a)),D.JLa(A,G));return D.$f[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 9:var B6q="Me";B6q+="dia cache i";B6q+="s not ena";B6q+="bled";return Promise.reject(B6q);break;}}};j01=44;break;case 42:z.prototype.d5a=function(A){var p11,B,D,E;p11=2;for(;p11 !== 11;){switch(p11){case 2:B={};p11=1;break;case 13:B.Co=A.Co;return B;break;case 1:p11=A && A.data?5:11;break;case 8:B.Yv=A.Yv;B.yz=A.yz;B.RC=A.RC;B.Bo=A.Bo;p11=13;break;case 5:for(D in A.data){E=A.data[D];0 < E.length && (B[E[0].mediaType]={Pa:D,header:A.headers[D],data:E});}B.io=A.io;B.TM=A.TM;B.Md=A.Md;p11=8;break;}}};z.prototype.Vc=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 2:return ! !A.Vc;break;}}};return z;break;case 33:z.prototype.Pnb=function(A){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:var q6q="flu";q6q+="s";q6q+="he";q6q+="dB";q6q+="ytes";0 !== A && (A={type:q6q,bytes:A},this.emit(A.type,A));b11=1;break;}}};z.prototype.Mnb=function(A){var c11;c11=2;for(;c11 !== 5;){switch(c11){case 2:var l6q="ca";l6q+="ch";l6q+="eEvi";l6q+="c";l6q+="t";A={type:l6q,movieId:A};this.emit(A.type,A);c11=5;break;}}};z.prototype.Tnb=function(A,B){var d11,D;d11=2;for(;d11 !== 3;){switch(d11){case 4:D.sxa || 0 !== Object.keys(this.B1).length || this.hMa();d11=3;break;case 2:D=A.Od;f.ha(A.oUb) || this.Fga(A,A.oUb);!this.Kj || !A.Hh || this.mF || f.ha(A.tW) || A.tW[A.Pa] && A.tW[A.Pa].header?B():this.Kj.ZUb(A,B);d11=4;break;}}};j01=30;break;case 17:z.prototype.hMa=function(){var K01,A;K01=2;for(;K01 !== 4;){switch(K01){case 2:A=this.Av;this.Av=[];A.forEach(function(B){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 2:g.fp.instance.QL(B);L01=1;break;}}});K01=4;break;}}};z.prototype.Wlb=function(){var M01,A;M01=2;for(;M01 !== 5;){switch(M01){case 2:A=this;!this.n1 && 0 < this.oK.length && (this.oK.forEach(function(B){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:A.Fga(B.vHb,B.Cd);N01=1;break;}}}),this.oK=[]);M01=5;break;}}};z.prototype.aMa=function(A,B){var O01,D;O01=2;for(;O01 !== 8;){switch(O01){case 1:2 > this.Av.length && this.cMa();B=new m.eba(A.stream,B,this.Av[D],A,this,!0,q);B.Hh=A.Hh;O01=3;break;case 3:B.Af=this;O01=9;break;case 2:D=A.stream.mediaType;O01=1;break;case 9:return B;break;}}};j01=27;break;case 20:z.prototype.HPb=function(A){var E01,B;E01=2;for(;E01 !== 9;){switch(E01){case 4:f.ha(A.sHb) || A.sHb(A.YYb);this.Tnb(A,function(){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:f.ha(A) || (f.ha(A.om) || A.om.dZa--,B.c1(A));F01=1;break;}}});E01=9;break;case 2:B=this;A.YYb=A.pf;this.Djb(A);E01=4;break;}}};z.prototype.IPb=function(A){var G01,B,D,E,F;G01=2;for(;G01 !== 8;){switch(G01){case 1:G01=E?5:8;break;case 2:(B=this,D=A.J,E=this.$f[D] || A.om);G01=1;break;case 5:var g6q="managerd";g6q+="ebugeve";g6q+="nt";var D6q=", rema";D6q+="i";D6q+="n";D6q+="ing: ";var j6q=",";j6q+=" pt";j6q+="s:";j6q+=" ";var n6q=", s";n6q+="tre";n6q+="amId:";n6q+=" ";var t6q=", he";t6q+="aderC";t6q+="ache dataComplete";t6q+=": movie";t6q+="Id: ";G01=(this.ao.$h && (D="@" + p.default.time.ea() + t6q + D + n6q + A.Pa + j6q + A.Y + D6q + (E.$T - 1),this.emit(g6q,{message:D})),A.Hh && 0 === A.responseType && this.Kj && !this.mF)?4:9;break;case 4:F=p.default.time.now();this.Kj.YUb(A,E,function(C){var H01;H01=2;for(;H01 !== 4;){switch(H01){case 2:C || f.ha(E) || (C=p.default.time.ea() - F,f.ha(E.Md) && (E.Md={}),f.ha(E.Md.ys) && (E.Md.ys=0),E.Md.ys+=C);--E.$T;B.c1(A);H01=4;break;}}});G01=8;break;case 9:(--E.$T,B.c1(A));G01=8;break;}}};z.prototype.cMa=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:0 === this.Av.length && (this.Av=[g.fp.instance.xt(0,void 0,!1,!1,this.Ql,this.ao),g.fp.instance.xt(1,void 0,!1,!1,this.Ql,this.ao)],this.Av.forEach(function(A){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 2:return A.xb();break;}}}),v.ig());I01=1;break;}}};j01=17;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 4:return this.$f;break;n01=1;break;case 2:return this.$f;break;}}},enumerable:!1,configurable:!0}});z.prototype.Lyb=function(){var o01;o01=2;for(;o01 !== 5;){switch(o01){case 2:this.flush();this.hMa();o01=5;break;case 3:this.flush();this.hMa();o01=3;break;o01=5;break;}}};z.prototype.jaa=function(A){var p01;p01=2;for(;p01 !== 5;){switch(p01){case 2:this.Ql=A;this.Av.forEach(function(){});p01=5;break;}}};z.prototype.Hp=function(A,B,D){var q01,E,F;q01=2;for(;q01 !== 9;){switch(q01){case 1:q01=(E[B]=A)?5:4;break;case 2:(E=this.AF,F=A);q01=1;break;case 5:for(var C in E){E.hasOwnProperty(C) && !1 === E[C] && (F=!1);}q01=4;break;case 4:D && delete E[B];F?(this.n1=!1,this.Wlb()):this.n1=!0;q01=9;break;}}};z.prototype.flush=function(){var r01,B;r01=2;for(;r01 !== 8;){switch(r01){case 2:this.EVa();for(var A in this.B1){B=this.B1[A];B.abort();}this.$f=Object.create(null);this.fF=0;this.eo=[];r01=9;break;case 9:var C6q="manag";C6q+="erdebu";C6q+="ge";C6q+="vent";var N6q=", head";N6q+="erCache ";N6q+="flush: ";this.ao.$h && (B="@" + p.default.time.ea() + N6q,this.emit(C6q,{message:B}));r01=8;break;}}};z.prototype.list=function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.eo;break;}}};j01=7;break;}}function z(A,B,D,E){var k01;k01=2;for(;k01 !== 25;){switch(k01){case 9:A.B1=Object.create(null);A.ao=B;A.$f=Object.create(null);k01=6;break;case 2:A=y.call(this) || this;A.Rm=u;A.Ak=w;A.Rb=t;A.R6b=x;k01=9;break;case 10:A.oK=[];A.AF={};A.bha=(A.ao.uxa || A.ao.vxa) && 0 < (A.ao.nU || (p.default.options || ({})).yN || 0);A.mF=A.ao.Tqa;k01=17;break;case 26:return A;break;case 17:var d6q="1S";d6q+="I";d6q+="YbZrN";d6q+="J";d6q+="Cp9";A.Kj=void 0;A.bha && (A.ao.nU || (B=(p.default.options || ({})).yN || 0,A.ao.set?A.ao.set({nU:B}):A.ao.nU=(p.default.options || ({})).yN || 0),A.Kj=new k.mFa(A.ao,p.default,A),A.Kj.xb(A,E).then(function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 2:var m6q="Media ";m6q+="cache";m6q+=" initialized";u(m6q);l01=1;break;case 4:u("");l01=0;break;l01=1;break;}}}).catch(function(F){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 2:var c6q="Media c";c6q+="ache d";c6q+="id not initializ";c6q+="e";w(c6q,F);m01=1;break;}}}));A.Ql=D;d6q;k01=26;break;case 6:A.fF=0;A.eo=[];A.hNa=B.S3;A.Av=[];A.n1=!1;k01=10;break;}}}})(d.Su);b.FCa=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=void 0;c=a(2);f=a(18);l=c.__importStar(a(865));m=c.__importStar(a(10));a(5);d=a(240);g=a(9);r=a(42);h=c.__importStar(a(876));k=h.IEa;a=(function(){var r11;r11=2;for(;r11 !== 18;){switch(r11){case 6:n.prototype.IO=function(p,q){var e21,v;e21=2;for(;e21 !== 9;){switch(e21){case 2:var o6q="med";o6q+="iac";o6q+="ac";o6q+="he";var b6q="m";b6q+="edia";b6q+="cachelooku";b6q+="p";var A6q="savet";A6q+="odi";A6q+="s";A6q+="k";var r6q="mediaca";r6q+="chest";r6q+="ats";v={type:r6q,operation:p};A6q === p && (v.saveTime=q.X6a);b6q === p && (v.lookupTime=q.w7,v.dataFound=q.K3);v.oneObject=this.mF;this.Okb && this.emit(o6q,v);e21=9;break;}}};n.prototype.HSb=function(p,q){var f21,v,u;f21=2;for(;f21 !== 5;){switch(f21){case 2:(v=this,u=Object.keys(p).map(function(t){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 2:return v.Cwb(p[t]);break;case 4:return v.Cwb(p[t]);break;g21=1;break;}}}));return Promise.all(u).then(function(t){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:t.sort(function(w,x){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return w.Vc === x.Vc?0:w.Vc?-1:1;break;}}});return h.fna(v.I,v.H,v.Ye,t,q);break;}}});break;}}};n.prototype.Cwb=function(p){var j21,q,v,u,t;j21=2;for(;j21 !== 5;){switch(j21){case 2:(q=this,t={});return new Promise(function(w,x){var k21,y;k21=2;for(;k21 !== 5;){switch(k21){case 2:q.$n.x9(k.Yq,p,function(z,A){var l21,m21,B;l21=2;for(;l21 !== 1;){switch(l21){case 2:try{m21=2;for(;m21 !== 19;){switch(m21){case 4:m21=h.n_a(u)?3:20;break;case 11:m21=h.dpa(y)?10:12;break;case 8:return x(B);break;case 9:var M6q="Header fragme";M6q+="nts wa";M6q+="s an array";M6q+=" buffer, is invalid";M6q+=" type ";B=M6q + y.Pa;m21=8;break;case 7:y=h.vma(u,t,v);m21=6;break;case 5:Object.keys(A).map(function(D){var n21,o21,F,E;n21=2;for(;n21 !== 3;){switch(n21){case 5:try{o21=2;for(;o21 !== 5;){switch(o21){case 2:F=new Uint8Array(A[D]);u=JSON.parse(String.fromCharCode.apply(null,F));o21=5;break;}}}catch(C){u=A[D];}n21=3;break;case 2:E=D.substr(D.lastIndexOf(".") + 1);n21=1;break;case 4:E === k.RBa?v=A[D]:t[E]=A[D];n21=3;break;case 1:n21=E === k.Oca?5:4;break;case 7:n21=E != k.Oca?0:2;break;n21=E === k.Oca?5:4;break;}}});m21=4;break;case 12:w(y);m21=19;break;case 1:return x(z);break;case 20:y=h.uma(u,{response:t.response});m21=6;break;case 13:var f6q="Missi";f6q+="ng or invalid header data ";f6q+="parts for strea";f6q+="m ";return (B=f6q + y.Pa,x(B));break;case 14:m21=h.epa(y)?13:12;break;case 6:m21=y.Vc?14:11;break;case 3:m21=v instanceof ArrayBuffer?9:7;break;case 10:var I6q="Missing or invalid med";I6q+="ia data p";I6q+="arts for stream ";return (B=I6q + y.Pa,x(B));break;case 2:m21=z || void 0 === A?1:5;break;}}}catch(D){x(D);}l21=1;break;}}});k21=5;break;}}});break;}}};n.prototype.Fnb=function(p,q,v){var p21,u;p21=2;for(;p21 !== 5;){switch(p21){case 2:u=this;return new Promise(function(t,w){var q21,x;q21=2;for(;q21 !== 5;){switch(q21){case 2:u.$n.read(k.Yq,p,function(y,z){var r21,w21,P,N,M,x21,Q,T,da,pa,y21,z21,A21,B21,C21,D21,C,A,B,D,E,s21,K,H,L,R,G,J,t21,u21,v21,F;r21=2;for(;r21 !== 4;){switch(r21){case 7:r21=F.movieEntry?6:15;break;case 18:try{w21=2;for(;w21 !== 8;){switch(w21){case 1:w21=!N.done?5:8;break;case 2:(P=c.__values(A),N=P.next());w21=1;break;case 9:N=P.next();w21=1;break;case 5:K=N.value;M=Object.keys(I[K]);try{x21=2;for(;x21 !== 7;){switch(x21){case 2:(Q=(D=void 0,c.__values(M)),T=Q.next());x21=1;break;case 5:(da=I[K][T.value],pa=h.uma(da,da));x21=4;break;case 1:x21=!T.done?5:7;break;case 4:x21=h.dpa(pa)?3:9;break;case 3:var G6q="Missing ";G6q+="or invalid m";G6q+="edia data part";G6q+="s f";G6q+="or stream ";return (L=G6q + pa.Pa,w(L));break;case 8:T=Q.next();x21=1;break;case 9:z.push(pa);x21=8;break;}}}catch(ua){D={error:ua};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:T && !T.done && (E=Q.return) && E.call(Q);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 2:A21=D?1:5;break;case 1:throw D.error;A21=5;break;}}}y21=1;break;}}}w21=9;break;}}}catch(ua){var wa;wa={error:ua};}finally{B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 1;){switch(C21){case 2:N && !N.done && (B=P.return) && B.call(P);C21=1;break;}}}finally{D21=2;for(;D21 !== 5;){switch(D21){case 1:throw wa.error;D21=5;break;case 9:throw wa.error;D21=7;break;D21=5;break;case 2:D21=wa?1:5;break;}}}B21=1;break;}}}r21=17;break;case 10:r21=F.data?20:17;break;case 15:var e6q="media";e6q+="ca";e6q+="chel";e6q+="oo";e6q+="kup";u.IO(e6q,{w7:u.co.time.ea() - v,K3:!0});t(x);r21=4;break;case 16:void 0 !== x && (x.om=y);r21=15;break;case 9:t();r21=4;break;case 6:y=h.ena(F.movieEntry);z=[];r21=13;break;case 12:C=Object.keys(F.headers);r21=11;break;case 1:r21=y?5:3;break;case 2:r21=1;break;case 11:try{s21=2;for(;s21 !== 12;){switch(s21){case 14:z.push(R);s21=13;break;case 1:s21=!J.done?5:12;break;case 5:(K=J.value,H=F.headers[K]);s21=4;break;case 9:return w(L);break;case 3:var F6q="Head";F6q+="er fra";F6q+="gments was an array buffer, is ";F6q+="invalid type ";L=F6q + H.streamId;s21=9;break;case 8:R=h.vma(H,H,H.fragments);s21=7;break;case 6:var E6q="M";E6q+="issing or in";E6q+="valid header ";E6q+="data parts for stream";E6q+=" ";return (L=E6q + R.Pa,w(L));break;case 2:(G=c.__values(C),J=G.next());s21=1;break;case 13:J=G.next();s21=1;break;case 7:s21=h.epa(R)?6:14;break;case 4:s21=H.fragments instanceof ArrayBuffer?3:8;break;}}}catch(ua){var I;I={error:ua};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:J && !J.done && (A=G.return) && A.call(G);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 9:throw I.error;v21=1;break;v21=5;break;case 2:v21=I?1:5;break;case 1:throw I.error;v21=5;break;}}}t21=1;break;}}}r21=10;break;case 8:F=z[p];r21=7;break;case 20:I=F.data;A=Object.keys(I);r21=18;break;case 3:r21=m.ha(z)?9:8;break;case 5:w(y);r21=4;break;case 17:x=h.fna(u.I,u.H,u.Ye,z,q);r21=16;break;case 13:r21=F.headers?12:10;break;}}});q21=5;break;}}});break;}}};n.prototype.Ilb=function(p){var E21,q;E21=2;for(;E21 !== 5;){switch(E21){case 2:q=this;E21=1;break;case 3:q=this;E21=7;break;E21=1;break;case 1:var H6q="Medi";H6q+="a cache is ";H6q+="not enabled";return this.Us?this.Us.then(function(){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:return new Promise(function(v){var G21;G21=2;for(;G21 !== 1;){switch(G21){case 2:q.$n.FX(k.Yq,p.toString(),function(u){var H21;H21=2;for(;H21 !== 1;){switch(H21){case 2:u && 0 !== u.length?1 === u.length && u[0] === p.toString()?v(!0):v(!1):v(!1);H21=1;break;}}});G21=1;break;}}});break;}}}):Promise.reject(H6q);break;}}};n.prototype.bob=function(p){function v(w){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 2:w.map(q);K21=1;break;}}}var I21,u,t;I21=2;for(;I21 !== 4;){switch(I21){case 2:(u=this,t=p.toString());this.$n.FX(k.Yq,[k.NEa,p].join("."),v);this.$n.FX(k.Yq,t,v);I21=4;break;}}function q(w){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 2:u.$n.delete(k.Yq,w);J21=1;break;}}}};n.prototype.GWb=function(p){var L21,q;L21=2;for(;L21 !== 4;){switch(L21){case 2:var J6q="me";J6q+="diacache-";J6q+="erro";J6q+="r";var W6q="m";W6q+="edia";W6q+="cach";W6q+="e";q=new f.Nh();q.on(this.$n,W6q,function(v){var M21;M21=2;for(;M21 !== 4;){switch(M21){case 5:var x6q="me";x6q+="d";x6q+="iac";x6q+="ac";x6q+="he";p.emit(x6q,v);M21=4;break;case 9:M21=v.keys && v.items?6:6;break;M21=v.keys || v.items?1:5;break;case 2:M21=v.keys || v.items?1:5;break;case 1:v.keys || v.items.map(function(u){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 2:return u.key;break;case 4:return u.key;break;N21=1;break;}}});M21=5;break;}}});q.on(this.$n,J6q,function(v){var O21;O21=2;for(;O21 !== 5;){switch(O21){case 2:var u6q="me";u6q+="diacac";u6q+="he";var y6q="e";y6q+="r";y6q+="r";y6q+="o";y6q+="r";v.type=y6q;p.emit(u6q,v);O21=5;break;}}});L21=4;break;}}};r11=19;break;case 4:n.prototype.jLb=function(p,q){var K11,v,u;K11=2;for(;K11 !== 5;){switch(K11){case 2:(v=this,u=this.co.time.ea());return this.Us.then(function(){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 2:return v.Ilb(p);break;case 4:return v.Ilb(p);break;L11=1;break;}}}).then(function(t){var M11;M11=2;for(;M11 !== 5;){switch(M11){case 2:M11=t?1:4;break;case 1:return v.Fnb(p.toString(),q,u);break;case 4:var v6q="me";v6q+="diacach";v6q+="elookup";v.IO(v6q,{w7:v.co.time.ea() - u,K3:!1});M11=5;break;case 8:return v.Fnb(p.toString(),q,u);break;M11=4;break;}}});break;}}};n.prototype.ZUb=function(p,q){var N11,y,v,u,t,w,x;N11=2;for(;N11 !== 13;){switch(N11){case 3:w={timescale:p.stream.W.U,startTicks:p.stream.W.Zk,offset:p.stream.W.Rd(0)};y=p.stream.W.SO;x[u + "." + k.RBa]={Iq:w,Ac:k.BE};N11=7;break;case 4:N11=p.stream.ie && !m.ha(p.stream.W)?3:14;break;case 7:x[u + "." + k.Aeb]={Iq:y.sizes.buffer,Ac:k.BE};N11=6;break;case 2:(v=this,u=[p.J,p.Pa,k.Ieb].join("."),t=this.co.time.ea(),w=h.fXa(p),x={});x[u + "." + k.Oca]={Iq:w,Ac:k.BE};x[u + "." + k.hfb]={Iq:g.rC(p.Pg.map(function(z){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return z.data;break;case 4:return z.data;break;O11=1;break;}}})),Ac:k.BE};N11=4;break;case 6:x[u + "." + k.zeb]={Iq:y.rd.buffer,Ac:k.BE};N11=14;break;case 14:this.$n.W6a(k.Yq,x,function(z){var P11;P11=2;for(;P11 !== 5;){switch(P11){case 2:z || (z=v.co.time.ea() - t,p.om && (m.ha(p.om.Md.ys) && (p.om.Md.ys=0),p.om.Md.ys+=z));q();P11=5;break;}}});N11=13;break;}}};n.prototype.YUb=function(p,q,v){var Q11,u,t,w,x,y;Q11=2;for(;Q11 !== 14;){switch(Q11){case 1:Q11=t instanceof ArrayBuffer?5:6;break;case 2:(u=this,t=p.response);Q11=1;break;case 8:m.ha(t) || (y[x + "." + k.ngb]={Iq:t,Ac:k.BE});this.$n.W6a(k.Yq,y,function(z){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:var s6q="Fa";s6q+="iled to save frag";s6q+="ment";z?u.H.warn(s6q,z):(z=u.co.time.ea() - w,m.ha(q.Md.ys) && (q.Md.ys=0),q.Md.ys+=z);v();R11=5;break;}}});Q11=14;break;case 5:(w=this.co.time.ea(),x=[p.J,p.Pa,p.$c].join("."));p=h.cna(p);y={};y[x + "." + k.Oca]={Iq:p,Ac:k.BE};Q11=8;break;case 6:var Z6q="Unable to save fragment because response is not";Z6q+=" a";Z6q+="n ";Z6q+="Array";Z6q+="Buffer";v(Error(Z6q));Q11=14;break;}}};n.prototype.$Ub=function(p){var S11,q,v,u,t,w,x,y,A,B,U11,D,E,F,C,V11,G,J,K,H,W11,X11,Y11,Z11,a21,b21,z;S11=2;for(;S11 !== 20;){switch(S11){case 8:S11=p && p.data?7:12;break;case 9:x.headers=z;S11=8;break;case 2:(t=this,w=this.co.time.ea(),x={},y=h.FXa(p));x.movieEntry=y;S11=5;break;case 13:x.data=y;S11=12;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{U11=2;for(;U11 !== 6;){switch(U11){case 2:(D=c.__values(B),E=D.next());U11=1;break;case 1:U11=!E.done?5:6;break;case 3:U11=C?9:7;break;case 5:(F=E.value,C=A[F]);B={};U11=3;break;case 9:try{V11=2;for(;V11 !== 7;){switch(V11){case 2:(G=(v=void 0,c.__values(C)),J=G.next());V11=1;break;case 5:K=J.value;V11=4;break;case 1:V11=!J.done?5:7;break;case 3:H=h.cna(K);V11=9;break;case 4:V11=K instanceof d.QZ && K.response instanceof ArrayBuffer && !m.ha(K.$c)?3:8;break;case 9:B[K.$c]={mediaType:H.mediaType,streamId:H.streamId,movieId:H.movieId,bitrate:H.bitrate,location:H.location,serverId:H.serverId,saveToDisk:H.saveToDisk,offset:H.offset,bytes:H.bytes,timescale:H.timescale,startTicks:H.startTicks,durationTicks:H.durationTicks,response:K.response};V11=8;break;case 8:J=G.next();V11=1;break;}}}catch(R){v={error:R};}finally{W11=2;for(;W11 !== 1;){switch(W11){case 2:try{X11=2;for(;X11 !== 1;){switch(X11){case 2:J && !J.done && (u=G.return) && u.call(G);X11=1;break;}}}finally{Y11=2;for(;Y11 !== 5;){switch(Y11){case 1:throw v.error;Y11=5;break;case 2:Y11=v?1:5;break;case 3:Y11=v?9:9;break;Y11=v?1:5;break;}}}W11=1;break;}}}U11=8;break;case 8:y[F]=B;U11=7;break;case 7:E=D.next();U11=1;break;}}}catch(R){var L;L={error:R};}finally{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:E && !E.done && (q=D.return) && q.call(D);a21=1;break;}}}finally{b21=2;for(;b21 !== 5;){switch(b21){case 9:throw L.error;b21=2;break;b21=5;break;case 2:b21=L?1:5;break;case 1:throw L.error;b21=5;break;}}}Z11=1;break;}}}S11=13;break;case 5:S11=p.headers?4:8;break;case 4:z={};Object.keys(p.headers).forEach(function(R){var T11,I;T11=2;for(;T11 !== 5;){switch(T11){case 2:I=h.dXa(p.headers[R]);z[R]=I;T11=5;break;}}});S11=9;break;case 12:L={lifespan:259200};this.amb && (L.convertToBinaryData=!0);this.$n.save(k.Yq,p.J,x,L,function(R){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:var w6q="s";w6q+="a";w6q+="vet";w6q+="o";w6q+="disk";R || t.IO(w6q,{X6a:t.co.time.ea() - w});c21=1;break;}}});S11=20;break;}}};n.prototype.u_a=function(p){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return !(m.ha(p) || m.Cb(p) || m.ha(p.Md) || m.Cb(p.Md) || m.ha(p.J) || m.Cb(p.J) || m.ha(p.priority) || m.Cb(p.priority));break;}}};r11=6;break;case 2:n.prototype.xb=function(p,q){var t11,v;t11=2;for(;t11 !== 4;){switch(t11){case 1:var Q6q="Media cac";Q6q+="h";Q6q+="e is disab";Q6q+="led";this.bha?this.Us=new Promise(function(u,t){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:(void 0 !== q && null !== q?q.ZM:function(w){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return l.ZM(v.co,v.I,w);break;}}})(function(w){var w11,x;w11=2;for(;w11 !== 4;){switch(w11){case 2:var O6q="M";O6q+="edia cache did not initializ";O6q+="e";v.$n=w;x=w.nn;(w=w.YG)?t(w):x?(v.GWb(p),u()):t(Error(O6q));w11=4;break;}}});u11=1;break;}}}):(this.Us=Promise.reject(Q6q),this.Us.catch(function(){}));return this.Us;break;case 9:v=this;t11=9;break;t11=1;break;case 2:v=this;t11=1;break;}}};n.prototype.mLb=function(p){var x11,q,v,u;x11=2;for(;x11 !== 5;){switch(x11){case 2:(q=this,v=[k.NEa,p].join("."),u=this.co.time.ea());return this.Us.then(function(){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return new Promise(function(t){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:q.$n.FX(k.Yq,v,function(w){var A11,x;A11=2;for(;A11 !== 3;){switch(A11){case 2:A11=!w || 0 >= w.length?1:5;break;case 1:var V6q="media";V6q+="c";V6q+="achelo";V6q+="okup";(t(),q.IO(V6q,{w7:q.co.time.ea() - u,K3:!1}));A11=3;break;case 5:x=w[0];q.$n.read(k.Yq,x,function(y,z){var B11,B,C11,A;B11=2;for(;B11 !== 14;){switch(B11){case 5:B11=z instanceof ArrayBuffer?4:3;break;case 2:var z6q=" fa";z6q+="ile";z6q+="d";var Y6q="Readin";Y6q+="g";Y6q+=" movie e";Y6q+="ntry";Y6q+=" ";y && q.H.warn(Y6q + x + z6q,y);B11=1;break;case 1:B11=!m.ha(z)?5:9;break;case 9:m.ha(A) || (B=h.ena(A));m.ha(B) || m.Cb(B) || (B.Md=B.Md || ({}),B.headers=B.headers || ({}));B11=6;break;case 4:try{C11=2;for(;C11 !== 1;){switch(C11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));C11=1;break;}}}catch(D){}B11=9;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};B11=9;break;case 6:q.u_a(B)?t(B):(q.bob(p),t());B11=14;break;}}});A11=3;break;}}});z11=1;break;}}});break;}}});break;}}};n.prototype.iLb=function(p,q,v){var D11,u,t;D11=2;for(;D11 !== 9;){switch(D11){case 1:D11=!this.Us?5:4;break;case 6:D11=-this.Us?8:1;break;D11=!this.Us?5:4;break;case 2:u=this;D11=1;break;case 5:var i6q="Media cache is not ";i6q+="enable";i6q+="d";return Promise.reject(i6q);break;case 4:t=this.co.time.ea();return this.Us.then(function(){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return new Promise(function(w){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:u.$n.FX(k.Yq,p,function(x){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 2:x=x.reduce(function(y,z){var H11,A;H11=2;for(;H11 !== 9;){switch(H11){case 5:return y;break;case 2:A=z.substr(0,z.lastIndexOf("."));H11=1;break;case 1:var S6q="drmHeader.";S6q+="__";S6q+="e";S6q+="mbed__";H11=-1 !== A.indexOf(S6q)?5:4;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;}}},{});u.HSb(x,q).then(function(y){var I11,z,A;I11=2;for(;I11 !== 8;){switch(I11){case 2:I11=void 0 === v || void 0 === y?1:5;break;case 5:var X0q="med";X0q+="ia";X0q+="c";X0q+="achelookup";var K0q="No co";K0q+="n";K0q+="tent data found f";K0q+="or ";(z=u.co.time.ea() - t,A=!1);m.ha(y) || m.ha(y.data) || !m.Ah(y.data)?u.H.trace(K0q + p,v):A=!0;u.IO(X0q,{w7:z,K3:A});w(y);I11=8;break;case 1:return w();break;}}},function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:w();J11=1;break;}}});G11=5;break;}}});F11=1;break;}}});break;}}});break;}}};r11=4;break;case 19:return n;break;}}function n(p,q,v){var s11;s11=2;for(;s11 !== 12;){switch(s11){case 14:var R0q="1SI";R0q+="Y";R0q+="bZrNJC";R0q+="p9";this.Us.catch(function(){});R0q;s11=12;break;case 9:var U0q="Media cache ";U0q+="h";U0q+="as";U0q+=" not been ";U0q+="initiaized";this.I=p;this.co=q;this.Ye=v;this.Us=Promise.reject(U0q);s11=14;break;case 2:var k0q="m";k0q+="ed";k0q+="ia|a";k0q+="sejs";var P0q="M";P0q+="ED";P0q+="IACA";P0q+="C";P0q+="HE";this.H=new q.Console(P0q,k0q);this.bha=(p.uxa || p.vxa) && 0 < (p.nU || (q.options || ({})).yN || 0);this.Okb=p.nAb?p.nAb:!1;this.mF=p.Tqa?p.Tqa:!1;this.amb=p.P1a?p.P1a:!1;s11=9;break;}}}})();b.mFa=a;r.sf(f.EventEmitter,a);},function(r,b,a){var c,f,l,m,d;c=a(10);l=[];d=!1;r.exports={ZM:function(g,h,k){var n;if(d)c.ad(k) && (f.nn || f.YG?setTimeout(function(){k(f);},0):l.push(k));else {d=!0;n=a(125);n.HV(g);m=new n.Console("MEDIACACHE","media|asejs");f=new (a(396))(h,function(p){p && m.warn("Failed to initialize MediaCache",p);c.ad(k) && setTimeout(function(){k(f);},0);l.map(function(q){setTimeout(function(){q(f);},0);});});}return f;},B8b:function(g,h){f=new (a(396))(g,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.ad(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var f,l,m,d,g;function c(h){this.jr=h;this.context=h.context;this.R2a="NULLCONTEXT" === h.context?!0:!1;}f=a(10);l=a(125);m=new l.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,p,q){q("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,p){p("MediaCache is not supported");},append:function(h,k,n,p){p("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.GF=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.R2a)throw Error("Media Cache not supported");k.apply(this.jr,h);}catch(p){n(p);}};c.prototype.query=function(h,k,n,p){try{if(this.R2a)throw Error("Media Cache not supported");this.jr.query(h,k,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,k,n,p,q){this.GF(this.jr.read,h,k,n,p,q);};c.prototype.remove=function(h,k,n){this.GF(this.jr.remove,h,k,n);};c.prototype.create=function(h,k,n,p){this.GF(this.jr.create,h,k,n,p);};c.prototype.append=function(h,k,n,p){this.GF(this.jr.append,h,k,n,p);};c.prototype.info=function(h){this.GF(this.jr.info,h);};c.prototype.validate=function(h){this.GF(this.jr.validate,h);};c.prototype.flush=function(h){this.GF(this.jr.flush,h);};c.prototype.clear=function(){this.jr.clear();};r.exports={Fwb:function(h){var k,n,p,q,v;k=h.Y7b || "NRDMEDIADISKCACHE";g=h.nU || 0;0 !== g || f.ha(l.options) || f.ha(l.options.yN) || (g=l.options.yN);h=g;try{p=l.storage.fzb;if(!p || !f.Ah(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[k]){m.warn("Disk store exists, returning");q=new c(n);}else {if(f.ha(l.storage) || !f.ad(l.storage.vSa) || l.options && 0 === l.options.yN)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);v=l.storage.vSa({context:k,size:h,encrypted:!0,signed:!0});if(!v || !v.valid)throw "Failed to create disk store context";q=new c(v);}}catch(u){m.warn("Exception creating disk store context - returning NullContext (noops)",u);q=new c(d);}return q;},WDb:function(){return g;},J2b:c};},function(r,b,a){var g,h,k,n,p,q,v,u,t;function c(){}function f(w,x,y,z,A){var B;B=g.ad(z)?z:c;this.wv=w;this.ug=y.Mv;this.ey=0;this.Tkb=y.YAb || "NONE";this.Qx=g.ha(A) || g.Cb(A)?0:A;this.Ae={};this.Rs=y.Z9b || h.storage.fR;this.pv=x;this.WK=p.create(this.pv,y.Hxb * this.Qx,this.wv);this.on=this.addEventListener=t.addEventListener;this.removeEventListener=t.removeEventListener;this.emit=this.Va=t.Va;this.LMa=m(this,f.Je.REPLACE);this.tlb=m(this,f.Je.vLa);this.zF;this.zF=y.hab?a(872):a(873);this.pv.query(this.Rs,this.vq(""),(function(D,E){var F;if(D)B(D);else {F=this.WK.Yma();D=Object.keys(E).filter(function(C){return C !== F && q.fN(C);}).map(this.Rwa.bind(this));this.x9(D,(function(C,G){Object.keys(G).map((function(J){var K,H;K=G[J];this.Ae[q.C4(J)]=K;if(K.Cua && 1 < Object.keys(K.Cua).length){H=0;Object.keys(K.Cua).forEach((function(L){E[this.vq(L)] && g.Ba(E[this.vq(L)].size) && (H+=E[this.vq(L)].size);}).bind(this));J=q.C4(J);this.Ae[J].size=H;}else (J=q.C4(J),E[this.vq(J)] && (this.Ae[J].size=E[this.vq(J)].size));}).bind(this));l(this.pv,this.Rs,this.wv,(function(J,K){this.ey=K;J?B(J):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function l(w,x,y,z){var A;A=g.ad(z)?z:c;w.query(x,y,function(B,D){B?A(B):(B=Object.keys(D).reduce(function(E,F){return E + (D[F].size || 0);},0),A(null,B));});}function m(w,x){return function(y,z,A,B,D){return function(E,F){var C;if(E)(z || w.Va(f.Je.Gf,{itemKey:y,error:E}),A(E));else {C={Ek:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(G){var J;J=F.actions[G];G={key:w.Rwa(J.c7),Rk:G};J.$?(C.Ek+=J.Ek,G.b7=J.Ek,g.Ba(J.duration) && (C.duration+=J.duration)):G.error=J.error;C.items.push(G);});E=g.ad(B)?B():0;0 < D && (C.LL=D - E);l(w.pv,w.Rs,w.wv,function(G,J){G?A(G):(w.ey=J,C.jn=w.ug - J,z || w.Va(x,u.yWa(C)),A(null,C));});}};};}function d(w,x){return 0 < x && w >= x?!0:!1;}g=a(10);h=a(125);k=a(248);b=a(86);n=new h.Console("MEDIACACHE","media|asejs");p=a(868);q=a(397);v=a(126);u=a(249);t=a(398).EventEmitter;b({Je:{vLa:"writeitem",REPLACE:"replaceitem",uca:"journalupdate",Gf:"mediacache-error"}},f);f.prototype.bFb=function(){return this.wv;};f.prototype.Rwa=function(w){return w.slice(this.wv.length + 1);};f.prototype.Sma=function(){return Object.keys(this.Ae).filter((function(w){w=q.nma(this.Ae[w]);return void 0 === w || 0 >= w.YRa();}).bind(this));};f.prototype.nFb=function(){return Object.keys(this.Ae).reduce((function(w,x){var y;y=this.Ae[x];return y && y.creationTime < w.creationTime?{resourceKey:x,creationTime:y.creationTime}:w;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).bac;};f.prototype.hEb=function(){var w;switch(this.Tkb){case "FIFO":w=this.nFb();}return w;};f.prototype.yyb=function(w){var x;x=g.ad(w)?w:c;this.lXa((function(y){var z,A,B;z=this.Ae;A=Object.keys(z).reduce(function(D,E){E=z[E];E.resourceIndex && Object.keys(E.resourceIndex).forEach(function(F){D.push(F);});return D;},[]);if((y=y.filter(function(D){return !q.fN(D) && 0 > A.indexOf(D);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(D){return new h.Promise(function(E,F){B.delete(D,function(C){C?F(C):E();});});})).then(function(){x(void 0,{Yta:!0});},function(D){x(D,{Yta:!1});});u.Fw(y);}else w(void 0,{Yta:!1});}).bind(this));};f.prototype.USb=function(w,x,y){var z,A;z=g.ad(x)?x:c;x=this.vq(w);A=h.time.now();this.pv.read(this.Rs,x,0,-1,(function(B,D){var E;if(B)z(B);else if(D && D.$ && D.value){g.ad(y) || (y=this.zF.fV(v.Zq.nE),q.fN(w)?y=this.zF.fV(v.Zq.e0):(B=this.Ae[w],!g.ha(B) && g.Ba(B.resourceIndex[w])?(B=B.resourceIndex[w],g.ha(B) && (B=v.Zq.nE),y=this.zF.fV(B)):n.warn("Metadata is undefined or does not contain a resource format for key",w,":",B)));try{E=y(D.value);}catch(F){return z(k.MJ.Uq(F.message));}D={duration:h.time.now() - A};this.Ae[w] && g.Ba(this.Ae[w].size) && (D.vy=g.Ba(this.Ae[w].size)?this.Ae[w].size:0);z(null,E,D);}else z(k.MJ.Uq(D.error));}).bind(this));};f.prototype.read=function(w,x,y){this.USb(w,x,y);};f.prototype.x9=function(w,x,y){var z,A,B;z=g.ad(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(w))z(k.MJ.Uq("item keys must be an array"));else {A={};B=[];w=h.Promise.all(w.map((function(D){return new h.Promise((function(E,F){var C;y && !g.ha(y[D]) && (C=this.zF.fV(y[D]));this.read(D,function(G,J,K){G?(J={},J[D]=G,F(J)):(A[D]=J,B.push({duration:K.duration,vy:K.vy}),E());},C);}).bind(this));}).bind(this))).then(function(){var D;D={};0 < B.length && (D=B.reduce(function(E,F){g.Ba(F.duration) && (E.duration+=F.duration);g.Ba(F.vy) && (E.vy+=F.vy);return E;},{duration:0,vy:0}));z(null,A,D);},function(D){z(D);});u.Fw(w);}};f.prototype.write=function(w,x,y,z,A){var B,D,E;y=g.ad(y)?y:c;B=this.vq(w);D="function" === typeof A?A():0;E=v.Ona(x);E=this.zF.yna(E)(x);E.byteLength + this.ey >= this.ug?y(k.fJ):d(E.byteLength + D,this.Qx)?y(k.S0):this.WK.save(this.Rs,B,x,this.tlb(w,z,y,A,this.Qx),E.byteLength);};f.prototype.replace=function(w,x,y,z,A){var B,D,E,F;B=g.ad(y)?y:c;D=this.vq(w);E=0;"function" === typeof A && (E=A());y=v.Ona(x);F=this.zF.yna(y)(x);y=(this.Ae[w] || ({})).size || 0;0 >= y && this.Ae[w]?this.PXa([w],(function(C){n.trace("Replacing key",w,"which exists:",! !this.Ae[w],this.Ae[w]?this.Ae[w]:void 0,"and has size",C,"with",x,"with size",F.byteLength,"plus _used",this.ey,"vs capacity",this.ug);F.byteLength - C + this.ey >= this.ug?B(k.fJ):d(F.byteLength - C + E,this.Qx)?B(k.S0):this.WK.replace(this.Rs,D,x,this.LMa(w,z,B,A,this.Qx),F.byteLength);}).bind(this)):(n.trace("Replacing key",w,"which exists:",! !this.Ae[w],this.Ae[w]?this.Ae[w]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.ey,"vs capacity",this.ug),F.byteLength - y + this.ey >= this.ug?B(k.fJ):d(F.byteLength - y + E,this.Qx)?B(k.S0):this.WK.replace(this.Rs,D,x,this.LMa(w,z,B,A,this.Qx),F.byteLength));};f.prototype.bUb=function(w,x,y,z){var A;A=g.ad(x)?x:c;"[object Object]" !== Object.prototype.toString.call(w)?A(k.R0.Uq("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(w).map((function(B){return new h.Promise((function(D){this.replace(B,w[B],function(E,F){E?D({error:E,Iq:B}):D(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var D,E,F,C;try{D=Number.MAX_VALUE;E=B.reduce(function(G,J){J.error || (G.Ek+=J.Ek,g.Ba(J.duration) && (G.duration+=J.duration),!g.ha(J.jn) && J.jn < D && (D=J.jn),J.items.map(function(K){G.items.push({key:K.key,Rk:K.Rk,b7:K.b7,ALb:K.ALb,duration:K.duration});}),D < Number.MAX_VALUE && (G.jn=D));return G;},{Ek:0,items:[],time:h.time.now(),duration:0});0 < this.Qx && (E.LL=this.Qx - z());F=B.filter(function(G){return !g.ha(G.error);});C=u.FYa(F);y || (C?C.forEach((function(G){this.Va(f.Je.Gf,G);}).bind(this)):this.Va(f.Je.REPLACE,u.yWa(E)));A(C,E);}catch(G){A(G);}}).bind(this),(function(B){y || this.Va(f.Je.Gf,B);A(B);}).bind(this)),u.Fw(x));};f.prototype.delete=function(w,x){var y;y=g.ad(x)?x:c;this.pv.remove(this.Rs,this.vq(w),(function(z,A){z?y(z):A && A.$?l(this.pv,this.Rs,this.vq(""),(function(B,D){B?y(B):(this.ey=D,y());}).bind(this)):y(k.qdb.Uq(A.error));}).bind(this));};f.prototype.lXa=function(w){this.query("",function(x,y){x?(n.error("Failed to get keys",x),w([])):w(y);});};f.prototype.query=function(w,x){var y,z;y=g.ad(x)?x:c;z=this.WK.Yma();this.pv.query(this.Rs,this.vq(w),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(D){return D !== z;}).map(this.Rwa.bind(this)));}).bind(this));};f.prototype.vq=function(w){return this.wv + "." + w;};f.prototype.clear=function(w){var x;x=g.ad(w)?w:c;this.lXa((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Va(f.Je.Gf,A);x([],A);}).bind(this));u.Fw(z);}).bind(this));};f.prototype.PXa=function(w,x){var y,z;y=g.ad(x)?x:c;z=(w || []).map((function(A){return this.vq(A);}).bind(this));this.pv.query(this.Rs,this.wv,(function(A,B){A?(n.error("failed to get persisted size for keyset ",w,A),y(0)):(A=Object.keys(B).filter(function(D){return 0 <= z.indexOf(D);}).reduce(function(D,E){return D + (B[E].size || 0);},0),y(A));}).bind(this));};f.prototype.xDb=function(w){return this.WK.oWa(w);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v){var A,B;function u(D,E,F,C){D.info.call(D,(function(G,J){var K;if(G)C(G);else {try{K=J.values[this.context].entries[E][F].size;}catch(H){K=-1;}-1 < K?C(null,K):this.validate(function(H,L){H?C(H):(L[F] && (K=L[F].size),C(null,K));});}}).bind(D));}function t(D,E,F,C,G,J,K){var H;J?J.actions || (J.actions={}):J={actions:{}};A(C);H=l.time.now();C=new k(function(L,R){D.create(l.storage.fR,E,F,function(I,P){I?R(I):L(P);});}).then(function(L){L.$?u(D,l.storage.fR,E,function(R,I){R?K(R):(B(I),A(I),J.actions[c.KZ.uca]={$:!0,time:G,Ek:I,c7:E,w5a:L,duration:l.time.now() - H},J.jn=L.jn,K(null,J));}):(J.actions[c.KZ.uca]={$:!1,c7:E,error:L.error},K(null,J));},function(L){K(L);});g.Fw(C);}function w(D,E,F,C,G,J){C.mq(F.time,F);for(var K=F.time - 864E5,H=C.Aw();H && !isNaN(H.time) && H.time < K;){H=C.PL();A(0 - (H.fa || 0));H=C.Aw();}C=C.Xo().map(function(L){return L.time + ";" + L.fa;});t(D,E,Array.prototype.join.call(C,"|"),F.fa,F.time,G,J);}function x(D,E,F,C,G,J,K,H,L){var R;R=l.time.now();D.create(F,C,G,function(I,P){var N;if(I)h.error("Failed to replace item",C,I);else if(P.$){N=P.jn;u(D,F,C,function(M,Q){var T,da;if(M)L(M);else {M={time:H,fa:Q || 0};T={jn:N,actions:{}};da=l.time.now() - R;T.actions[c.KZ.REPLACE]={$:!0,time:H,Ek:Q,c7:C,w5a:P,duration:da};J?w(D,E,M,K,T,L):(A(Q),L(null,T));}});}else L(m.R0.Uq(P.error || "Failed to create item"));});}function y(D,E,F,C,G,J,K,H,L){var R;R=l.time.now();D.append(F,C,G,function(I,P){var N;if(I)(h.error("Failed to save item " + C,I),L(I));else if(P.$){N=P.jn;u(D,F,C,function(M,Q){var T,da;if(M)L(M);else {M={time:H,fa:Q || 0};T={jn:N,actions:{}};da=l.time.now() - R;T.actions[c.KZ.wib]={$:!0,time:H,Ek:Q,c7:C,w5a:P,duration:da};J?w(D,E,M,K,T,L):(A(Q),L(null,T));}});}else L(m.R0.Uq(P.error || "Failed to save item"));});}function z(D,E){D && f.ad(D.remove) && D.jr.valid && D.remove(l.storage.fR,E.AK,function(F,C){if(F)h.error("Failed to delete old journal key",F);else try{C && (f.ha(C.error) || C.error.some(function(G){return "NFErr_FileNotFound" === G.p8b;})) && w(D,E.AK,{time:0,fa:0},E.JS,0,function(){});}catch(G){}});}if(!p.jr.valid)return n;this.gMa=f.ha(q) || f.Cb(q)?0:q;this.rfa=p;this.Xfa=this.QR=0;this.JS=new d();this.lnb=v || "default";this.AK=this.lnb + ".NRDCACHEJOURNALKEY";A=(function(D){isNaN(D) || (this.QR+=D);return this.QR;}).bind(this);B=(function(D){isNaN(D) || (this.Xfa+=D);return this.Xfa;}).bind(this);this.Yma=function(){return this.AK;};this.save=function(D,E,F,C){var G;G=l.time.now();y(this.rfa,this.AK,D,E,F,0 <= this.gMa,this.JS,G,C);};this.replace=function(D,E,F,C){var G;G=l.time.now();x(this.rfa,this.AK,D,E,F,0 <= this.gMa,this.JS,G,C);};this.oWa=function(D){var E,G;E=this.QR;D-=864E5;for(var F=this.JS.Xo(),C=0;C < F.length;C++){G=F[C];G.time < D && !isNaN(G.fa) && (E-=G.fa);}return E;};(function(D){var E;E=D.rfa;D.QR=0;E.read(l.storage.fR,D.AK,0,-1,function(F,C){var G,J,K,L;G=[];J=0;K=!0;if(F)h.error("Failed to compile records",F);else if(C.$){F=String.fromCharCode.apply(null,new Uint8Array(C.value));F=String.prototype.split.call(F,"|");C=F.reduce(function(R,I){return R + (I.length + 40);},0);A(C);G=F.map(function(R){R=R.split(";");return {time:Number(R[0]),fa:Number(R[1])};});try{if(!isNaN(G.reduce(function(R,I){return R + I.fa;},0))){K=!1;for(var H=l.time.now() - 864E5;J < G.length;J++){L=G[J];L.time < H || (D.JS.mq(L.time,L),A(L.fa));}}}catch(R){}}K && z(E,D);});})(this);}f=a(10);l=a(125);m=a(248);d=a(869);b=a(86);g=a(249);h=new l.Console("DISKWRITEMANAGER","media|asejs");k=l.Promise;b({KZ:{wib:"saveitem",REPLACE:"replaceitem",uca:"journalupdate"}},c);n={save:function(p,q,v,u){u(m.JEa);},replace:function(p,q,v,u){u(m.JEa);},Yma:function(){return "";},oWa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,v){return new c(p,q,v);},Q4b:n};},function(r){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.Mm=function(l,m){return l <= m;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.Mm=f;}this.up=[];}function a(f,l){var m,d,g,h,k,n,p;m=f.up;d=f.Mm;g=2 * l + 1;h=2 * l + 2;k=m[l];n=m[g];p=m[h];n && d(n.priority,k.priority) && (!p || d(n.priority,p.priority))?(c(m,l,g),a(f,g,d)):p && d(p.priority,k.priority) && (c(m,l,h),a(f,h,d));}function c(f,l,m){var d;d=f[l];f[l]=f[m];f[m]=d;}b.prototype.clear=function(){this.up=[];};b.prototype.mq=function(f,l){this.up.push({priority:f,value:l});f=this.up;l=this.Mm;for(var m=f.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && l(f[m].priority,f[d].priority);){c(f,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.up.length){f=this.up[0];c(this.up,0,this.up.length - 1);this.up.pop();a(this,0);return f.value;}};b.prototype.Aw=function(){if(0 !== this.up.length)return this.up[0].value;};b.prototype.enqueue=b.prototype.mq;b.prototype.PL=b.prototype.remove;b.prototype.L6=function(){return 0 === this.up.length;};b.prototype.Xo=function(){return this.up.map(function(f){return f.value;});};r.exports=b;},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.xd)return (this.xd={},this.xd[c]=[f],!0);l=this.xd[c];return void 0 === l?(this.xd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.xd?this.xd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.xd)return !1;l=this.xd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.xd[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.xd && (void 0 === c?delete this.xd:delete this.xd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,f,l,m;c=a(10);f=a(126);l={};l[f.Zq.nE]=function(d){return d;};l[f.Zq.B0]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};l[f.Zq.e0]=function(d){var g;g=d || new ArrayBuffer(0);d="";g=new Uint8Array(g);for(var h=0;h < g.byteLength;h++){d+=String.fromCharCode(g[h]);}return JSON.parse(d);};m={};m[f.Zq.nE]=function(d){return d;};m[f.Zq.B0]=function(d){for(var g=new ArrayBuffer(d.length),h=new Uint8Array(g),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return g;};m[f.Zq.e0]=function(d){return c.ha(d) || c.Cb(d)?d:m[f.Zq.B0](JSON.stringify(d));};r.exports={fV:function(d){return l[d] || l[f.Zq.nE];},yna:function(d){return m[d] || m[f.Zq.nE];}};},function(r,b,a){function c(l){return l;}function f(){return c;}a(10);r.exports={fV:f,yna:f};},function(r,b,a){var l;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function f(m,d){var g,h,k;g=[];if(l.Ah(d)){h={};k={};k[m]=h;g.push(k);g=Object.keys(d).reduce(function(n,p){var q,v,u;q=d[p];v={};if(l.H6(q)){u=m + ".__embed__." + p;v[u]=q;n.push(v);}else l.Ah(q)?(u=m + ".__sub__." + p,q=f(u,q),h[p]=q[0][u],n=n.concat(q.slice(1))):h[p]=q;return n;},g);}else (k={},k[m]=d,g.push(k));return g;}l=a(126);r.exports={ezb:f,LIb:function(m){var d,g,h,u;d=Object.keys(m).map(function(t){return t.split(".");});d.sort(c);g=d[0];h=g.length;g=m[g.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,p=!1,q=g,v=h;v < d[k].length;v++){u=d[k][v];switch(u){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[u],p=!1):n && (q[u]=m[d[k].join(".")],n=!1);}}}return g;},sJb:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(g,h,k){Object.keys(g).forEach(function(n){var p,q;if(m.Ah(g[n]))if(g[n].H6){p=g[n];q=k + p.offset;g[n]=h.slice(q,q + p.byteLength);}else g[n]=c(g[n],h,k);});return g;}function f(g,h,k){Object.keys(g).forEach(function(n){var p;if(m.H6(g[n])){p=g[n];h.push(p);g[n]={H6:!0,offset:k.hka,byteLength:p.byteLength};k.hka+=p.byteLength;}else m.Ah(g[n]) && f(g[n],h,k);});return g;}function l(){var g,h,k;g=Array.prototype.concat.apply([],arguments);h=g.reduce(function(n,p){return n + p.byteLength;},0);k=new Uint8Array(h);g.reduce(function(n,p){k.set(new Uint8Array(p),n);return n + p.byteLength;},0);return k.buffer;}m=a(126);d=a(86);r.exports={Kub:function(g){var h,k,n;h=d(g,{});g=[];h=f(h,g,{hka:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var p=4,q=0,v=h.length;q < v;q++){n.setUint8(p,h.charCodeAt(q));p++;}g=[k].concat(g);return l.apply(null,g);},Jub:function(g){for(var h=new DataView(g,0,4).getInt32(0),k=new Uint8Array(g,4,h),n="",p=0;p < k.byteLength;p++){n+=String.fromCharCode(k[p]);}h=4 + h;n=JSON.parse(n);return c(n,g,h);}};},function(r,b,a){var f,l,m,d,g;function c(h){return {mediaType:h.mediaType,streamId:h.Pa,movieId:h.J,bitrate:h.bitrate,location:h.location,serverId:h.Ld,saveToDisk:!0,offset:h.offset,bytes:h.fa,timescale:h.U,frameDuration:h.stream.qa && h.stream.qa.Zb,encrypted:h.Jk,initSegments:1 < h.Pg.length?h.Pg.map(function(k){return {fi:k.Wd,s:k.data.byteLength,e:! !k.Jk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.dpa=b.epa=b.n_a=b.FXa=b.dXa=b.fXa=b.cna=b.fna=b.ena=b.uma=b.vma=b.IEa=void 0;f=a(2).__importStar(a(10));l=a(877);m=a(374);d=a(9);g=a(21);b.IEa={NEa:"movieEntry",Ieb:"header",Oca:"metadata",hfb:"headerData",J3b:"headerMetadata",Aeb:"sizes",zeb:"durations",RBa:"fragments",ngb:"response",Yq:"billboard",BE:{lifespan:259200}};b.vma=function(h,k,n){var p,q;p=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={Zk:n.startTicks,offset:n.offset,U:n.timescale,sizes:new Uint32Array(k.sizes),rd:new Uint32Array(k.durations)});return {Vc:!0,mediaType:h.mediaType,J:h.movieId,Pa:h.streamId,bitrate:h.bitrate,location:h.location,Ld:h.serverId,fa:h.bytes,offset:h.offset,hoa:p,r6:h.initSegments,Jk:h.encrypted,U:h.timescale,qa:h.frameDuration,Hh:h.saveToDisk,W:q};};b.uma=function(h,k){var n,p,q;k=k.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Vc:!1,mediaType:h.mediaType,J:h.movieId,Pa:h.streamId,bitrate:h.bitrate,location:h.location,Ld:h.serverId,fa:h.bytes,offset:h.offset,response:k,U:h.timescale,Wa:h.startTicks,Up:p,Hh:h.saveToDisk,nb:q};};b.ena=function(h){return {priority:h.priority,J:h.movieId,headers:{},TM:0,$T:0,dZa:0,Hh:h.saveToDisk,Md:h.stats,Yv:h.firstSelectedStreamBitrate,yz:h.initSelectionReason,RC:h.histDiscountedThroughputValue,Co:h.histTdigest,Bo:h.histAge,io:void 0};};b.fna=function(h,k,n,p,q){var v,u;v={headers:{},data:{}};p.forEach(function(t){var w,x,A;w=t.mediaType;w=q && q.dw(w,t.Pa);x=[];if(t.Vc)if(!Array.isArray(t.r6) || 2 > t.r6.length)x.push({Wd:0,data:t.hoa});else for(var y=0,z=0;z < t.r6.length;++z){A=t.r6[z];x.push({Wd:A.fi,data:t.hoa.slice(y,y + A.s),Jk:A.e});y+=A.s;}w?(t.W && w.E8(x,t.U,t.qa?new g.S(t.qa,t.U):void 0,t.W),t.Vc && w && w.ie?(void 0 === v.headers && (v.headers={}),v.headers[t.Pa]=new m.RZ(w,{fa:t.fa,offset:t.offset,Pg:x,Jk:t.Jk},k)):t.response instanceof ArrayBuffer && void 0 !== w.W && void 0 !== t.Wa && void 0 !== t.U && void 0 !== t.nb && (x=w.W.H4(new g.S(t.Wa,t.U).T),void 0 !== x && (w=new l.fya(w,{U:t.U,Wa:t.Wa,nb:t.nb,index:x.index,offset:t.offset,fa:t.fa},t.response,n,h,k),void 0 === v.data && (v.data={}),v.data[t.Pa] || (v.data[t.Pa]=[]),v.data[t.Pa].push(w)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + t.Pa + " movieId: " + t.J);});if(!f.ha(v.data)){u=v.data;Object.keys(u).forEach(function(t){u[t].sort(function(w,x){return w.Wa - x.Wa;});});}return v;};b.cna=function(h){return {mediaType:h.mediaType,streamId:h.Pa,movieId:h.J,bitrate:h.bitrate,location:h.location,serverId:h.Ld,saveToDisk:!0,offset:h.offset,bytes:h.fa,timescale:h.U,startTicks:h.Wa,durationTicks:h.Up};};b.fXa=c;b.dXa=function(h){var k,n,p,q;k=c(h);if(h.stream.ie && h.stream && h.stream.W){n={timescale:h.stream.W.U,startTicks:h.stream.W.Zk,offset:h.stream.W.Rd(0)};p=h.stream.W.SO;q=p.sizes.buffer;p=p.rd.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:d.rC(h.Pg.map(function(v){return v.data;})),initSegments:k.initSegments,encrypted:h.Jk,fragments:n,sizes:q,durations:p};};b.FXa=function(h){return {priority:h.priority,movieId:h.J,saveToDisk:h.Hh,firstSelectedStreamBitrate:h.Yv,initSelectionReason:h.yz,histDiscountedThroughputValue:h.RC,histTdigest:h.Co,histAge:h.Bo};};b.n_a=function(h){return !f.has(h,"startTicks");};b.epa=function(h){return !h.hoa || !h.U || !h.W || void 0 === h.W.Zk || void 0 === h.W.offset || void 0 === h.W.rd || !h.W.rd.length || void 0 === h.W.sizes || !h.W.sizes.length;};b.dpa=function(h){return void 0 === h.fa || void 0 === h.offset || void 0 === h.U || void 0 === h.Wa || void 0 === h.Up;};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fya=void 0;c=a(2);f=a(9);r=a(42);l=a(101);a=(function(m){function d(g,h,k,n,p,q){n=m.call(this,g,h,n,p,q) || this;h.fa=k.byteLength;l.Dm.xb(n,g,h);n.MK=k;n.bkb=h.fa;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{Vc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zt:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ij:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ah:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.MK;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pLb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hM:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uta:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.bkb;},enumerable:!1,configurable:!0}});d.prototype.Xt=function(){return !0;};d.prototype.OF=function(g){this.af=g.appendBuffer(this.response,f.sq(this));return {$:this.af};};d.prototype.ci=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.Zc=function(){};d.prototype.I$=function(){return !1;};return d;})(a(233).cJ);b.fya=a;r.sf(l.Dm,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.JJa=void 0;c=a(2);r=a(18);f=a(67);l=c.__importDefault(a(6));m=a(16);d=a(250);g=a(9);h=a(5);k=a(937);n=a(353);p=new l.default.Console("ASEJS","media|asejs");p.trace.bind(p);r=(function(q){var P21;P21=2;for(;P21 !== 17;){switch(P21){case 2:c.__extends(v,q);Object.defineProperties(v.prototype,{Pb:{get:function(){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:return this.Na.Pb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tn:{get:function(){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 2:return this.Na.tn;break;}}},enumerable:!1,configurable:!0}});P21=4;break;case 6:v.prototype.tP=function(u,t,w){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:return c.__awaiter(this,void 0,void 0,function(){var a31,x,y,z,A;a31=2;for(;a31 !== 5;){switch(a31){case 2:return c.__generator(this,function(B){var b31,c31;b31=2;for(;b31 !== 4;){switch(b31){case 2:c31=B.label;b31=c31 === 0?1:3;break;case 5:return (A=B.kd(),this.CA[y]={Wia:function(){},ca:w.ca,equals:function(D){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:return D.Z === u && (w.ca === D.ca || !D.ca || !w.ca);break;}}},Dt:!1,XA:Promise.resolve({sa:t,Xh:A.Xh,zd:A.zd,config:A.config}),Z:u},this.Na.tP(this.CA[y]),[2]);break;case 3:b31=c31 === 1?5:4;break;case 1:var h0q="Can not update viewab";h0q+="le. Viewable not fou";h0q+="nd ";return (x=this.fq.bind(this,w.ca),y=this.N5(u,w.ca),z=x(u),h.assert(void 0 !== z,h0q + y),[4,z.XA]);break;}}});break;}}});break;}}};v.prototype.exb=function(u,t,w,x,y,z,A){var e31,G,B,D,E,F,C;e31=2;for(;e31 !== 7;){switch(e31){case 3:G=D.dQb;e31=9;break;case 4:e31=D && D.dQb?3:8;break;case 8:return C;break;case 9:Object.keys(G).forEach(function(J,K){var f31;f31=2;for(;f31 !== 9;){switch(f31){case 2:var L0q="Currently paral";L0q+="lel gra";L0q+="ph can only be media type [audio]";var a0q="a";a0q+="u";a0q+="d";a0q+="i";a0q+="o";var T0q="Currently only one parallel graph is supp";T0q+="o";T0q+="r";T0q+="ted";a000.Q0g(23);h.assert(a000.w0g(0,K),T0q);K=G[J];h.assert(K.zd && 1 === K.zd.length && a0q === K.zd[0],L0q);J=f.oC(D,c.__assign(c.__assign({},G[J]),{config:x}));C.push(B.Na.KF(J,w,E,{fq:F}));f31=9;break;}}});e31=8;break;case 2:var t0q="v";t0q+="i";t0q+="de";t0q+="o";var l0q="a";l0q+="u";l0q+="d";l0q+="i";l0q+="o";var q0q="a";q0q+="u";q0q+="di";q0q+="o";var B0q="v";B0q+="id";B0q+="eo";var p0q="Generate";p0q+="d pla";p0q+="ygraph from choicemap.";(B=this,D=t.choiceMap);D?(u=f.oC(D,{config:x}),this.console.trace(p0q)):u=f.rI(u,z,A.mT || A.eE?A.eE?[B0q]:[q0q]:[l0q,t0q]);(E=Object.create(x,{Vy:{value:y.wC},oCb:{value:y.gL}}),F=this.fq.bind(this,y.ca),C=[this.Na.KF(u,w,E,{fq:F})]);e31=4;break;}}};v.prototype.Ltb=function(){var g31;g31=2;for(;g31 !== 1;){switch(g31){case 2:this.Pb.MO(null);g31=1;break;case 4:this.Pb.MO(1);g31=2;break;g31=1;break;}}};v.prototype.fq=function(u,t){var h31;h31=2;for(;h31 !== 1;){switch(h31){case 4:return this.CA[this.N5(t,u)];break;h31=1;break;case 2:return this.CA[this.N5(t,u)];break;}}};v.prototype.VTb=function(u){var i31,t,w;i31=2;for(;i31 !== 13;){switch(i31){case 2:this.Ltb();(t=this.N5(u.Z,u.ca),w=this.CA[t]);w && (w.Dt=!0);this.Na.Bu(u.pa);u.Ea && this.Na.lO(u.Ea);i31=9;break;case 14:delete this.CA[t];i31=13;break;case 9:u.Bg && this.Na.Bu(u.Bg);u.jj && this.Na.lO(u.jj);u === this.n7 && delete this.n7;this.Na.gua(this.CA[t]);i31=14;break;}}};P21=10;break;case 10:var N0q="s";N0q+="0";v.prototype.Kb=function(){var j31;j31=2;for(;j31 !== 9;){switch(j31){case 3:this.Na.close();j31=9;break;case 2:var g0q="Attempt to des";g0q+="truct ShimMa";g0q+="nager with latest session still de";g0q+="fined";var D0q="Attempted to destr";D0q+="uct ShimManager with ses";D0q+="sio";D0q+="n c";D0q+="onfig active";var j0q="Attempted to destruct ShimM";j0q+="anager with players pr";j0q+="es";j0q+="ent in ASE";var n0q="A";n0q+="ttempted to destruct Shim";n0q+="Manager with playgraphs prese";n0q+="nt in A";n0q+="SE";h.assert(0 === this.Na.CD.length,n0q);h.assert(0 === this.Na.G4a.length,j0q);h.assert(0 === Object.keys(this.CA).length,D0q);h.assert(void 0 === this.n7,g0q);j31=3;break;}}};v.prototype.N5=function(u,t){var p2q=a000;var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:p2q.O0g(6);return p2q.w0g("-",t,u);break;case 4:p2q.Q0g(24);return p2q.w0g("",t,u);break;k31=1;break;}}};v.oyb=N0q;return v;break;case 4:Object.defineProperties(v.prototype,{Bh:{get:function(){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:return this.Na.Bh;break;}}},enumerable:!1,configurable:!0}});v.prototype.xb=function(u,t,w,x,y,z,A,B){var U21;U21=2;for(;U21 !== 5;){switch(U21){case 2:this.Na.nva({audio:u,video:t,cia:A,Cxa:B},{T:x,fa:y});this.Na.open(this.config,this.ZD);U21=5;break;}}};v.prototype.uY=function(u,t,w){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:this.Na.nva({total:u},{T:t,fa:w});V21=1;break;}}};v.prototype.createSession=function(u,t,w,x,y,z,A,B,D,E){var W21,F,C;W21=2;for(;W21 !== 19;){switch(W21){case 3:this.CA[D]={Wia:function(){},ca:y.ca,equals:function(G){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return G.Z === F && (y.ca === G.ca || !G.ca || !y.ca);break;}}},Dt:!1,XA:Promise.resolve({sa:u,Xh:! !x.Xh,zd:m.P7(! !x.mT,! !x.eE),config:B}),Z:F};B.Wy && this.Na.OD(this.CA[D],{zw:y.zw,ca:y.ca,wC:y.wC});W21=8;break;case 2:var C0q="creating se";C0q+="ssio";C0q+="n";this.console.trace(C0q);this.Na.Pb.reset();F=Number(u.movieId);D=this.N5(F,y.ca);W21=3;break;case 8:var m0q="endPts is ";m0q+="not su";m0q+="pported";E=this.exb(F,u,B.H4a,B,y,E || v.oyb,x);C=E[0];D=C.Ga.Aa[C.Ga.ff].wc;C=[this.qV(F,C.Ga,w,D)];E[1] && C.push(this.qV(F,E[1].Ga,w,D));h.assert(void 0 === x.Ha,m0q);this.n7=new k.KJa(this.console,this,u,E,t,C,x,y,z,A,B);W21=10;break;case 10:B.wr || B.wH || this.wy();return this.n7;break;}}};v.prototype.qV=function(u,t,w,x){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:var c0q="invali";c0q+="d start position relat";c0q+="i";c0q+="ve to playgraph";return t.Aa[t.ff].wc === x?(u=n.Qja(t,u,g.S.tb(w)),h.assert(u,c0q),u):{ya:t.ff,offset:g.S.bb};break;}}};P21=6;break;}}function v(u,t,w,x){var Q21,y;Q21=2;for(;Q21 !== 11;){switch(Q21){case 2:y=q.call(this) || this;y.config=u;y.wy=t;y.Hp=w;Q21=3;break;case 3:y.ZD=x;y.CA={};Q21=8;break;case 13:var d0q="1";d0q+="SI";d0q+="YbZrNJC";d0q+="p";d0q+="9";d0q;return y;break;case 8:var A0q="D";A0q+="EB";A0q+="U";A0q+="G";A0q+=":";var r0q="n";r0q+="f-ase shim ver";r0q+="sion:";u=a(399);y.console=p;y.console.trace(r0q,u,A0q,!1);y.Na=d.IG();Q21=13;break;}}}})(r.EventEmitter);b.JJa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P;Object.defineProperties(b,{__esModule:{value:!0}});b.Vxa=void 0;c=a(2);f=a(18);l=a(351);m=a(221);d=a(880);g=a(217);h=a(16);a(211);k=a(881);n=a(885);p=a(916);q=a(395);v=a(27);u=a(5);t=a(380);w=a(917);x=a(918);y=a(919);z=a(118);A=a(252);B=a(920);D=a(71);E=a(251);F=a(9);C=c.__importDefault(a(6));G=a(921);J=a(922);K=a(923);H=a(924);L=a(54);R=a(407);I=a(935);P=a(936);r=(function(){function N(M){this.H=M;this.events=new f.EventEmitter();this.Tc=l.Fs.CLOSED;this.Dv=[];this.xY=[];this.BS=[];this.vp=[];this.RLa={};this.f2={};this.kwa=l.QP.default;this.zob=new z.AB({iu:this,source:"engine",mD:10,console:M});}Object.defineProperties(N.prototype,{tu:{get:function(){u.assert(this.Yx);return this.Yx;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{G4a:{get:function(){return this.BS;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{CD:{get:function(){return this.vp.map(function(M){return M.Ga;});},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{kRb:{get:function(){return this.vp;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Pb:{get:function(){this.FI();return this.Dy.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{tn:{get:function(){this.FI();return this.Dy.tn;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Bh:{get:function(){this.FI();return this.Dy.Bh;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{N0b:{get:function(){return this.Dv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{a3:{get:function(){return this.RLa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{tI:{get:function(){return this.f2;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{WMb:{get:function(){return this.nNa || (this.nNa=this.ssb());},enumerable:!1,configurable:!0}});N.prototype.open=function(M,Q,T,da){var pa;pa=this;if(this.Tc === l.Fs.OPEN)return !1;this.I=M;this.Ds=new D.DR(new E.G0({Pk:!0,currentTime:function(){return F.S.tb(C.default.time.ea());},speed:1}),this.H,"Engine Scheduler");this.JMa=new d.hCa(this.H,M);this.SB=new p.hJa(this.a7.bind(this),M);this.Dy=g.iJ.OXa(M,Q);this.Tc=l.Fs.OPEN;M=Object.create(M,{Zpb:{value:M.wH || M.wr}});this.Yx=R.mV(M);T && this.Yx.kWb(T);da && this.Yx.uva(da);this.I4a=new I.rIa({Fk:function(){pa.Tc !== l.Fs.CLOSED && pa.SB.Fk("playgraphOpportunity");}});this.oNa=new K.CFa(function(){return pa.x5();},function(){return pa.y5().global;},this.H);this.kxb();return !0;};N.prototype.KF=function(M,Q,T,da,pa){var wa,ua,X;wa=this;void 0 === pa && (pa=!0);this.FI();ua=Object.create(T,{TO:{value:this.tI}});if(pa && (T=this.tu.Ctb(M,ua)))return (T.T$a(Q),T);X=new n.oya(M,Q,ua,N.WNb++,this.Pb,this.G9.bind(this,da),function(sa,O){var S,ka;ka=da.fq(sa);sa=null === (S=v.dg(wa.Dv,function(ia){return ia.AL.equals(ka);})) || void 0 === S?void 0:S.O;return null === sa || void 0 === sa?void 0:sa.gn(ua,O);},function(sa){return wa.SB.Fk(sa);},pa?this.tu.Btb.bind(this.tu):function(){},this.x5.bind(this));X.yi(new x.ZJa(X));X.yi(new y.sKa(X.pu));X.H0a.yi(new H.tya(X));this.ay.oO.forEach(function(sa){return X.yi(sa);});this.I4a.KF(X);M=new f.Nh();M.on(X.events,"requestsPruned",this.tUb.bind(this));M.on(X.events,"weightUpdated",this.psa.bind(this));M.on(X.events,"underflow",this.gk.bind(this,X));this.vp.push({Ga:X,Qg:M,PX:0});this.psa();return X;};N.prototype.gk=function(M){M=this.oNa.CCb(M);(null === M || void 0 === M?0:M.Y3) || this.tu.reset();};N.prototype.Bu=function(M){this.I4a.Bu(M);this.vp=this.vp.filter(function(Q){return Q.Ga === M?(Q.Qg.clear(),!1):!0;});M.Kb();this.psa();};N.prototype.YOa=function(M,Q){var T,da,pa;this.FI();pa=Q.zd;M=new k.nya(M,void 0 === pa?[0,1]:pa,c.__assign({TO:null !== (da=null !== (T=Q.TO) && void 0 !== T?T:this.f2) && void 0 !== da?da:{}},Q));this.BS.push(M);return M;};N.prototype.lO=function(M){this.FI();this.BS=this.BS.filter(function(Q){return Q !== M;});M.Kb();};N.prototype.nva=function(M,Q){this.RLa=M;this.f2=Q;this.nNa=void 0;};N.prototype.OD=function(M,Q){var T,da;da=null === (T=v.dg(this.Dv,function(pa){return pa.AL.equals(M);})) || void 0 === T?void 0:T.O;da?da.OD(c.__assign(c.__assign({},Q),{vn:this.Jra.bind(this)})):this.xY.push({Aab:M,k8a:Q});};N.prototype.gua=function(M){this.xY=this.xY.filter(function(Q){return !Q.Aab.equals(M);});};N.prototype.close=function(){this.Tc !== l.Fs.CLOSED && (this.KTb(),u.assert(0 === this.Dv.length,"Unexpected viewable lease after Playgraph destruction."),this.JTb(),this.xY=[],delete this.Dy,this.Tc=l.Fs.CLOSED,this.Ds.Kb());};N.prototype.sWb=function(M){this.kwa=M;this.SB.Fk("streamingModeChanged");};N.prototype.uo=function(){return this.ay.uo();};N.prototype.kxb=function(){this.ay=new L.cea(this.I);this.ay.yi(new G.BBa(this));this.ay.yi(new B.jJa(this.Pb,this.SB));this.ay.yi(new w.xBa(this.Pb));this.ay.yi(new A.zB(this.zob));this.ay.yi(new A.zB(this.SB.qq));this.ay.yi(new A.zB(this.JMa.ji));this.ay.yi(new A.zB(this.oNa.ji));};N.prototype.Jra=function(){};N.prototype.tP=function(M){return c.__awaiter(this,void 0,void 0,function(){var Q,T,da,pa;return c.__generator(this,function(wa){switch(wa.label){case 0:return (u.assert(M,"ase.updateViewable(): Viewable config not found."),Q=v.dg(this.Dv,function(ua){return !0 !== ua.AL.Dt && ua.AL.equals(M);}),u.assert(Q,"ase.updateViewable(): Viewable entry not found."),[4,Q.zP]);case 1:return (T=wa.kd(),pa=(da=T).tP,[4,M.XA]);case 2:return (pa.apply(da,[wa.kd()]),[2]);}});});};N.prototype.G9=function(M,Q){var T,da,pa;T=this;da=M.fq(Q);u.assert(da,"ase.requestViewable(): Viewable config not found.");pa=v.dg(this.Dv,function(wa){return !0 !== wa.AL.Dt && wa.AL.equals(da);});pa?pa.zP.then(function(wa){return c.__awaiter(T,void 0,void 0,function(){var ua,X;return c.__generator(this,function(sa){switch(sa.label){case 0:return (X=(ua=wa).tP,[4,da.XA]);case 1:return (X.apply(ua,[sa.kd()]),[2]);}});});}):(pa={AL:da,zP:(function(){return c.__awaiter(T,void 0,void 0,function(){var wa,ua;return c.__generator(this,function(X){switch(X.label){case 0:return [4,da.XA];case 1:return (wa=X.kd(),ua=this.YT(Q,da,wa),pa.O=ua,[2,ua]);}});});})(),O:void 0,GKb:new t.SDa(function(wa){wa() && T.d6a(pa);},F.tq(C.default,this.H,"" + Q))},this.Dv.push(pa));return {get O() {return null === pa || void 0 === pa?void 0:pa.O;},zP:pa.zP,o7:pa.GKb.gy()};};N.prototype.d6a=function(M){var Q,T;u.assert(M,"expected viewableEntry to exist");Q=M.O;T=M.zP;Q?Q.Kb():T.then(function(da){da.Kb();});this.Dv=this.Dv.filter(function(da){return da !== M;});};N.prototype.YT=function(M,Q,T){var pa,wa,ua,X,sa,O;function da(S){pa.events.emit("logdata",S);}pa=this;this.FI();ua=T.sa;X=T.Xh;sa=T.zd;sa=void 0 === sa?h.uf:sa;T=T.config;O=[new q.Wca(0),new q.Wca(1)];ua={sa:ua,config:T,Xh:X,zd:sa,X4:void 0,Pb:this.Dy.Pb,Bh:this.Dy.Bh,PUa:{gN:function(){return !1;},Jr:function(){return pa.SB.Fk("networkFailureReset");},Fh:this.Fh.bind(this,M),qn:this.qn.bind(this,M),wn:da},cZa:{wn:da,pV:void 0,HC:function(S){return O[S];},J6:function(){return !0;},Af:void 0,Il:void 0,bh:void 0,QC:void 0},vO:{jy:this.jy.bind(this),VH:this.VH.bind(this)},tI:this.f2,Mb:0,Lo:void 0,N1a:{apa:!1,C_a:!1},RW:function(){}};M=new m.iba(M,ua);T.Wy && (ua=(null === (wa=v.dg(this.xY,function(S){return S.Aab.equals(Q);})) || void 0 === wa?void 0:wa.k8a) || ({}),this.gua(Q),M.OD(c.__assign(c.__assign({},ua),{vn:this.Jra.bind(this)})));return M;};N.prototype.a7=function(){var M,Q;u.assert(this.state === l.Fs.OPEN);M=this.y5();Q=this.JM();return this.JMa.s3a(M,Q);};N.prototype.JM=function(){var M,Q,T;M=this;T=null !== (Q=this.I.JRb) && void 0 !== Q?Q:this.vp.every(function(da){return !da.Ga.Z5;});Q=v.flatten(this.vp.map(function(da){return da.Ga.JM().map(function(pa){da.Ga.Z5 || 1 === da.PX || (pa.MG=da.PX);return pa;});}));this.kwa === l.QP.disabled?Q=[]:this.kwa === l.QP.HLb && (Q=Q.filter(function(da){return F.S.tb(M.I.Hqa).zo(da.Li.Ca(da.Hd));}));T || (T=Q.filter(function(da){var pa;return 1 === (null !== (pa=da.MG) && void 0 !== pa?pa:1);}),T.length && (Q=T));T=this.Dv.reduce(function(da,pa){return pa.O?c.__spread(da,pa.O.JM()):da;},[]);return v.flatten(c.__spread(Q,T));};N.prototype.FI=function(){if(this.Tc === l.Fs.CLOSED)throw Error("Engine CLOSED");};N.prototype.KTb=function(){var M,da;try{for(var Q=c.__values(this.vp),T=Q.next();!T.done;T=Q.next()){da=T.value;da.Qg.clear();this.Bu(da.Ga);}}catch(wa){var pa;pa={error:wa};}finally{try{T && !T.done && (M=Q.return) && M.call(Q);}finally{if(pa)throw pa.error;}}};N.prototype.JTb=function(){var M;try{for(var Q=c.__values(this.BS),T=Q.next();!T.done;T=Q.next()){this.lO(T.value);}}catch(pa){var da;da={error:pa};}finally{try{T && !T.done && (M=Q.return) && M.call(Q);}finally{if(da)throw da.error;}}};N.prototype.Fh=function(M,Q,T,da,pa,wa){this.VXa(M).forEach(function(ua){return ua.Fh(Q,M,T,da,pa,wa);});};N.prototype.qn=function(M){return this.VXa(M).some(function(Q){return Q.qn();});};N.prototype.VXa=function(M){return this.vp.filter(function(Q){Q=Q.Ga.Ga;return "" + M === "" + Q.Aa[Q.ff].Z;}).map(function(Q){return Q.Ga;});};N.prototype.y5=function(){var M;M=new J.fCa();this.vp.forEach(function(Q){var T,da;T=Q.Ga;Q=Q.PX;da=T.y5();da.MG=Q;M.add(T.id,da);});return M;};N.prototype.x5=function(){return this.WMb;};N.prototype.ssb=function(){var M,Q;Q=P.$Qa(this.I,this.a3);return {total:(M={},M[1]=this.a3.video || Infinity,M[0]=this.a3.audio || Infinity,M.total=this.a3.total || Infinity,M),awa:Q};};N.prototype.jy=function(M){this.SB.jy(M);};N.prototype.VH=function(M){this.SB.VH(M);};N.prototype.psa=function(){var M;M=this.CD.reduce(function(Q,T){return Math.max(T.weight,0) + Q;},0);this.vp.forEach(function(Q){Q.PX=0 >= Q.Ga.weight?0:Q.Ga.weight / M;});};N.prototype.tUb=function(){};N.WNb=0;c.__decorate([z.$b({methodName:"open"})],N.prototype,"open",null);c.__decorate([z.$b({methodName:"addPlaygraph",context:function(M){var Q,T;return {playgraphCount:null !== (T=null === (Q=M.h3a.vp) || void 0 === Q?void 0:Q.length) && void 0 !== T?T:0};}})],N.prototype,"KF",null);c.__decorate([z.$b({methodName:"removePlaygraph",context:function(M){return {playgraphCount:M.h3a.vp.length};}})],N.prototype,"Bu",null);c.__decorate([z.$b({methodName:"close"})],N.prototype,"close",null);c.__decorate([z.$b({methodName:"setStreamingMode",xr:!0})],N.prototype,"sWb",null);c.__decorate([z.$b({methodName:"notifyAseException",xr:!0})],N.prototype,"Jra",null);c.__decorate([z.$b({methodName:"updateViewable"})],N.prototype,"tP",null);c.__decorate([z.$b({methodName:"requestViewable"})],N.prototype,"G9",null);c.__decorate([z.$b({methodName:"removeViewable"})],N.prototype,"d6a",null);c.__decorate([z.$b({methodName:"createViewable"})],N.prototype,"YT",null);c.__decorate([z.$b({methodName:"issueRequestOpportunity",em:!0,return:!0})],N.prototype,"a7",null);c.__decorate([z.$b({methodName:"reportStreamingFailure",xr:!0})],N.prototype,"Fh",null);return N;})();b.Vxa=r;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q){return p.filter(function(v){return v.groupId === q.groupId;}).reduce(m.e2a(function(v){return v.hA.T;}),q).hA;}Object.defineProperties(b,{__esModule:{value:!0}});b.hCa=void 0;f=a(2);l=a(211);m=a(27);d=a(16);g=a(9);h=a(118);k=f.__importDefault(a(6));n=a(400);r=(function(){function p(q,v){this.H=q;this.config=v;this.l0a=0;this.ji=new h.AB({mD:10,iu:this,source:"GraphStreamingProcess"});}p.prototype.s3a=function(q,v){var u,t,w,x,y,z,A,B,F,C,G,J,K;w=!1;x=[];if(0 < v.length){y=this.rXb(v);z=y.some(function(L){return 1 === n.bRa(L) && d.nq(L.Lf);});A=y.slice();B=[!1,!1];try{for(var D=f.__values(y),E=D.next();!E.done;E=D.next()){F=E.value;if(F.aD && "global" !== B[F.mediaType]){C=F.O_a(q,null !== (t=F.MG) && void 0 !== t?t:1);G=l.E5a(C.reason);G && (B[F.mediaType]=G,m.NPa(A,F));if(C.result){J=c(A,F);if(this.qtb(F,z,J)){K=F.S_a();this.gqa(x,F,K.reason);K.rn && (this.l0a=k.default.time.ea());if(w=K.rn)break;}else if((this.gqa(x,F,"concurrencyCheck"),!G))break;}else this.gqa(x,F,C.reason);}}}catch(L){var H;H={error:L};}finally{try{E && !E.done && (u=D.return) && u.call(D);}finally{if(H)throw H.error;}}}this.ji.hy({streamableCount:v.length,streamableReasons:x,lastSuccessfulIssueRequestMs:this.l0a});return w;};p.prototype.rXb=function(q){return this.eSb(q).sort(function(v,u){return v.priority - u.priority;}).map(function(v){return v.TXb;});};p.prototype.eSb=function(q){var v;v=this;return q.map(function(u){return {priority:-n.aRa(v.config,u,v.H),TXb:u};});};p.prototype.gqa=function(q,v,u){this.ji.enabled && q.push(this.iGb(u,v));};p.prototype.iGb=function(q,v){return {mediaType:v.mediaType,reason:q,bufferingState:v.Lf,currentPlayerMs:v.Hd.T,pathCompletePlayerMs:v.hA.T,streamingPlayerMs:v.Li.T};};p.prototype.qtb=function(q,v,u){return this.config.DT && (v || d.nq(q.Lf))?this.rtb(q,u):this.stb(q,u);};p.prototype.ttb=function(q){return q.Li.iw(q.hA);};p.prototype.stb=function(q,v){var u;u=q.hA.Ca(q.Hd).T;u=Math.max(this.config.mra,Math.min(u * this.config.hwa,this.config.AMb));v=q.Hd.greaterThan(v)?q.Hd:v;return q.Li.Ca(v).T <= u;};p.prototype.rtb=function(q,v){var u,t;if(void 0 === this.config.DT)return !0;u=g.S.tb(this.config.DT);t=q.Hd.add(u);return q.Li.iw(t)?!0:this.ttb(q) && v.zo(t) && q.Li.Ca(v).lessThan(u);};f.__decorate([h.$b({methodName:"onRequestOpportunity",em:!0})],p.prototype,"s3a",null);return p;})();b.hCa=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.nya=void 0;c=a(2);f=a(18);l=a(9);m=a(5);d=c.__importDefault(a(6));g=a(71);h=a(27);k=a(882);r=a(401);n=a(884);a=(function(p){function q(v,u,t){var w;w=p.call(this) || this;w.V=v;w.zd=u;w.yv=t;w.tU=[];w.yfa=new f.Nh();w.H=new d.default.Console("ASEJS","media|asejs");w.yfa.on(w.V,"underflow",function(){return w.gk();});w.SR=new n.ZHa(v);w.yfa.on(w.V,"skipped",function(){return w.ZW();});w.zv=new g.DR(w.SR,w.H,"player");w.Jxa=new l.H0();return w;}c.__extends(q,p);Object.defineProperties(q.prototype,{Sw:{get:function(){var v;return null === (v=this.uh) || void 0 === v?void 0:v.Sw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pu:{get:function(){return this.zv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hb:{get:function(){var v,u;return null !== (u=null === (v=this.uh) || void 0 === v?void 0:v.ez()) && void 0 !== u?u:[];},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pa:{get:function(){var v;return null === (v=this.uh) || void 0 === v?void 0:v.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xa:{get:function(){return this.SR;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JA:{get:function(){var v;return !(null === (v=this.uh) || void 0 === v || !v.JA);},enumerable:!1,configurable:!0}});q.prototype.rY=function(v){-1 === this.tU.indexOf(v) && this.tU.push(v);this.uh && this.uh.XW(v);this.events.emit("drmReady",{viewableId:v});};q.prototype.pva=function(v){v=this.tU.indexOf(v);-1 !== v && this.tU.splice(v,1);};q.prototype.Do=function(v){var u;return -1 !== this.tU.indexOf(v) || !(null === (u=h.dg(this.Hb,function(t){return t.O.Z === v;})) || void 0 === u || !u.O.Xh);};q.prototype.reset=function(){var v;this.Jxa=new l.H0();p.prototype.reset.call(this);this.rF=void 0;null === (v=this.uh) || void 0 === v?void 0:v.reset();};q.prototype.cY=function(v){var u;p.prototype.cY.call(this,v);null === (u=this.uh) || void 0 === u?void 0:u.cY(v);};q.prototype.WF=function(){var v;null === (v=this.uh) || void 0 === v?void 0:v.WF();};q.prototype.pause=function(v){this.wI(v);p.prototype.pause.call(this,null !== v && void 0 !== v?v:this.zd);};q.prototype.resume=function(v){var u;null === (u=this.uh) || void 0 === u?void 0:u.resume(v);p.prototype.resume.call(this,null !== v && void 0 !== v?v:this.zd);};q.prototype.Kb=function(){this.Ws=this.a6()?this.xo():void 0;this.uh && this.Ika(this.uh.pa);this.SR.Kb();this.zv.Kb();this.yfa.clear();p.prototype.Kb.call(this);};q.prototype.vM=function(){var v,u;if(null === (v=this.uh) || void 0 === v?0:v.dSb){v=this.V.Gc;if(this.xa.Pk){if(this.rF){if(this.rF.greaterThan(v))return (v=this.rF.Ca(v),this.Jxa.push(v.T),this.rF);if(this.Hb.length){u=this.uh.EKb;if(u && u.lessThan(v))return (this.events.emit("logdata",{type:"logdata",target:"endplay",cc:{clockdrift:{type:"count"}}}),this.rF);}}this.rF=v;}return v;}return p.prototype.vM.call(this);};q.prototype.wo=function(){var v;v=this.V.playbackRate;void 0 === v && (v=p.prototype.wo.call(this));return v;};q.prototype.a6=function(){return ! !this.Ws || 0 < this.Hb.length;};q.prototype.xo=function(){if(this.Ws)return this.Ws;m.assert(0 < this.Hb.length,"Could not find presenting branch. Player has no branches.");return this.ei;};q.prototype.Ika=function(v){var u;m.assert(v === this.pa);null === (u=this.uh) || void 0 === u?void 0:u.Kb();this.uh=void 0;};q.prototype.O2=function(v,u){this.Ws=void 0;if(u=p.prototype.O2.call(this,v,u))(this.uh=new k.Bya(v,this,this.H,v.config,this.yv,this.events,this.zd,this.zv,this.LB,this.KB),this.wI(this.SN));return u;};q.prototype.nla=function(){var t;for(var v=[],u=0;u < arguments.length;u++){v[u]=arguments[u];}t=this.uh;m.assert(t);v.forEach(function(w){return t.LAb(w);});};q.prototype.Ai=function(v){var u,t,w;if(!this.uh)return !1;u=this.Z4(v);if(!u)return !1;t=u.N;w=l.S.tb(this.yv.pD);return t.Kk.Ca(w).lessThan(v) || !u.cG(v)?!1:this.uh.Ai(v);};q.prototype.gk=function(){var v,u,t;u=this.Hd;m.assert(this.pa);t=this.$r(u);m.assert(t);null === (v=this.uh) || void 0 === v?void 0:v.gk();v=this.Z4(u);null === v || void 0 === v?void 0:v.O.gk();this.pa.gk(t);};q.prototype.ZW=function(){this.rF=void 0;};q.prototype.yma=function(){var v;return null === (v=this.uh) || void 0 === v?void 0:v.yma();};q.prototype.wI=function(v){var u;null === (u=this.uh) || void 0 === u?void 0:u.wI(v);};q.prototype.Lwa=function(v){m.assert(this.pa && this.uh);return p.prototype.Lwa.call(this,v);};return q;})(r.Pda);b.nya=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Bya=void 0;c=a(2);f=a(388);l=c.__importDefault(a(6));m=a(242);a(16);d=a(235);g=a(9);h=a(27);k=a(71);n=a(213);p=a(5);q=a(883);r=(function(){function v(u,t,w,x,y,z,A,B,D,E){var F;F=this;this.pa=u;this.V=t;this.H=w;this.I=x;this.yv=y;this.Qh=z;this.zd=A;this.pu=B;this.LB=D;this.KB=E;this.Y0=!1;this.wMa=new g.NJa();this.pga=this.QOb.bind(this);this.Ui=new m.TZ(this.H);this.Sw=new q.MKa(this.H,u);this.axb(this.Sw);this.ll && (this.unb=this.wma(this.DFb()),this.$lb=g.er.Ixa(this.ll.map(function(C){return C.Yz;}),function(C){return C.every(function(G){return G;});},function(C){return F.LB.set(C);}),this.$jb=new n.gda(this.ll.map(function(C){return C.WV;}),function(C){return g.S.min.apply(g.S,c.__spread(C));},function(C){F.KB.set(C);},g.S.tb(-Infinity)));this.wp=B.jG(function(){return F.Mrb();},"branchPruner");}v.prototype.Mrb=function(){var u,t,w,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.Ui.TRa)return [3,2];u=c.__read(this.Ui.T$(),1);t=u[0];w=null !== (A=null === (z=this.yv.TO) || void 0 === z?void 0:z.T) && void 0 !== A?A:0;x=t.m7 || t.te;y=x.add(g.S.tb(w + 1E3));return [4,k.zk.BP(y)];case 1:return (B.kd(),this.Ui.remove(t),t.events.removeListener("branchEdited",this.pga),t.xf(),[3,0]);case 2:return [2];}});};Object.defineProperties(v.prototype,{dSb:{get:function(){var u;return !(null === (u=this.unb) || void 0 === u || !u.Yz.value);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{JA:{get:function(){var u;return !(null === (u=this.ll[0]) || void 0 === u || !u.JA);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{EKb:{get:function(){return this.Y0?g.S.max.apply(g.S,c.__spread(this.ll.map(function(u){var t;return null === (t=u.Kqb) || void 0 === t?void 0:t.g0a;}).filter(h.w8))):void 0;},enumerable:!1,configurable:!0}});v.prototype.QOb=function(){var u;this.wp.vm();u=this.ll.filter(function(t){return t.$Ib;}).map(function(t){return t.mediaType;});this.wI(u);this.resume(u);};v.prototype.LAb=function(u){p.assert(-1 === this.Ui.T$().indexOf(u),"Branch " + u.N.id + " is already in the collection, cannot re-queue");u.events.addListener("branchEdited",this.pga);this.Ui.enqueue(u);this.wp.state === k.Jm.complete && this.wp.vm();u.N.Ou && this.Ui.q4();this.Y0 || this.eCb(u);};v.prototype.XW=function(u){this.ll.forEach(function(t){t.XW(u);});};v.prototype.reset=function(){this.ll.forEach(function(u){u.reset();});this.Y0=!1;this.wMa.removeAllListeners();this.WF();};v.prototype.cY=function(u){u=this.wma(u);null === u || void 0 === u?void 0:u.reset();};v.prototype.WF=function(){var u;u=this;this.Ui.T$().forEach(function(t){return t.events.removeListener("branchEdited",u.pga);});this.Ui.clear();this.wp.vm();};v.prototype.resume=function(u){this.ll.forEach(function(t){void 0 !== u && -1 === u.indexOf(t.mediaType) || t.resume();});};v.prototype.wI=function(u){this.ll.forEach(function(t){return (void 0 === u || -1 !== u.indexOf(t.mediaType)) && t.stop();});};v.prototype.gk=function(){this.H.trace("attached-player: onUnderflow");};v.prototype.iYa=function(){return this.Ui.getIterator();};v.prototype.AEb=function(){return this.ez()[0];};v.prototype.ez=function(){return this.Ui.T$();};v.prototype.axb=function(u){var t,w;t=this;this.Ul("createMediaSourceStart");if(this.yv.lV)w=this.yv.lV();else (w=new l.default.MediaSource(this.V.V),w.dc || (w.dc=l.default.MediaSource.dc));if(1 !== w.readyState)this.xp("exception in init","NFErr_MC_StreamingInitFailure");else {this.Ul("createMediaSourceEnd");this.Kf=w;if(!w.A2(this.zd))throw (this.H.trace("Error:",w.error),this.xp("error creating source buffers","NFErr_MC_StreamingInitFailure"),w.error);this.ll=w.sourceBuffers.filter(function(x){return 0 <= t.zd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.sba(t.H,x.mediaType,w,x,t.I,!0,{Me:function(){return t.V.Hd.T;},Do:function(z){return t.V.Do(z.Z);}},t.pu);y.addListener("error",function(z){return t.xp(z.errorstr);});y.addListener("logdata",function(z){return t.Qh.emit("logdata",z);});return new f.gba(y,x.mediaType,t,t.I,t.H,t.V,t.yv,t.pu,u);});}};v.prototype.Kb=function(){this.$lb.clear();this.$jb.clear();this.ll.forEach(function(u){return u.Kb();});this.yv.lV || this.Kf.Tp();this.WF();this.wp.Kb();};v.prototype.Ai=function(u){return this.ll.every(function(t){return t.Ai(u);});};v.prototype.yma=function(){return {OSb:this.ez(),eRb:this.ll};};v.prototype.eCb=function(u){var t;t=this;this.Y0=!0;u.pg.forEach(function(w){var x;x=t.wma(w.mediaType);if(void 0 !== x)t.wMa.once(w.Wla,function(y){return x.fCb(y);});});if(u.Jc)this.nUa();else u.events.once("branchNormalized",function(){return t.nUa();});};v.prototype.nUa=function(){var u;u=this.AEb();u && (p.assert(u.mj),this.Qh.emit("ptsChanged",{initialTimestamp:u.mj}));};v.prototype.wma=function(u){return h.dg(this.ll,function(t){return t.mediaType === u;});};v.prototype.DFb=function(){return -1 !== this.zd.indexOf(1)?1:0;};v.prototype.Ul=function(u){u={type:"startEvent",event:u,time:l.default.time.ea()};this.Qh.emit(u.type,u);};v.prototype.xp=function(u,t){this.pa.Fh(u,void 0,t);};return v;})();b.Bya=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MKa=void 0;c=a(2).__importDefault(a(6));f=a(39);r=(function(){function l(m,d){this.H=m;this.KK=d;}l.prototype.SD=function(m,d,g,h,k){var n,p;void 0 === k && (k=!1);n=m.N;p=this.glb(n);this.SS={startTime:c.default.time.ea(),tXb:m,sXb:g.T,Lzb:d,me:this.PEb(h,d),HZb:this.sGb(h,k),Bka:k,Qe:h,rRa:p,VNb:this.fFb(n,g)};};l.prototype.dna=function(m){var d,g,h,k,n,p,q,v,u,t,w,x,y;if(this.SS && 0 !== Object.keys(this.SS.rRa).length && m === this.SS.Lzb){d=this.SS;g=d.rRa;h=d.VNb;k=d.Bka;n=d.Qe;p=d.tXb;q=d.sXb;v=d.startTime;u=d.me;d=d.HZb;this.SS=void 0;t=this.Hfa(m).Br;w=this.dDb(p.N.id,m,g);t=this.fNa(w.weight,t);x={};for(y in g){y !== m && (x[y]=g[y].details);}g=c.default.time.ea() - v;return {segment:m,srcsegment:p.N.id,srcsegmentduration:p.Y$.T,srcoffset:this.cGb(p,q,n,k),seamlessRequested:n,atRequest:w,atTransition:t,discard:x,transitionType:u,transitionTypeAtRequest:d,delayToTransition:this.QDb(g,n,k),durationOfTransition:n?0:g,nextExitPositionAtRequest:h};}};l.prototype.dDb=function(m,d,g){var h,k,n;n={};(g=g[d])?n=g.details:(f.assert(this.KK),n.weight=null === (k=null === (h=this.KK.Ga.Aa[m].next) || void 0 === h?void 0:h[d]) || void 0 === k?void 0:k.weight);return n;};l.prototype.QDb=function(m,d,g){var h;g || (h=d?m:0);return h;};l.prototype.fFb=function(m,d){var g,h,k;h=m.Eg.add(d);null === (g=m.Kw) || void 0 === g?void 0:g.some(function(n){h.lessThan(n.Jc) && (k=n.Jc.T);});return k;};l.prototype.cGb=function(m,d,g,h){return g || h?m.Y$.T:d;};l.prototype.PEb=function(m,d){return m?"seamless":this.Hfa(d).xV?"reset":"long";};l.prototype.sGb=function(m,d){return m || d?"lazy":"immediate";};l.prototype.glb=function(m){var d,g;d=this;g={};m.cA.forEach(function(h){var k,n;k=m.YNb[h];n=d.Hfa(h).Br;g[h]={details:d.fNa(k,n)};});return g;};l.prototype.Hfa=function(m){var d,g;m=this.KK.Cma(m);d=0 < m.length?m[0]:void 0;m=null === d || void 0 === d?void 0:d.DC();if(!d || !m)return {xV:!1,Br:{Mn:0,vr:0,Ww:0,YK:0}};g=d.RYa(0) && !m.vr;d=d.RYa(1) && !m.Mn;return {xV:!g && !d,Br:m};};l.prototype.fNa=function(m,d){return {weight:m,vbuflmsec:d.Mn,abuflmsec:d.vr,vbuflbytes:d.Ww,abuflbytes:d.YK};};return l;})();b.MKa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZHa=void 0;c=a(18);r=a(42);a=(function(){function f(l){var m;m=this;this.V=l;this.Vfa=!1;this.nF=new c.Nh();this.nF.on(l,"paused",function(){return m.K8();});this.nF.on(l,"playing",function(){return m.K8(!0);});this.nF.on(l,"underflow",function(){return m.K8();});this.nF.on(l,"skipped",function(){return m.ZW();});this.nF.on(l,"clockAdjusted",function(){return m.WW();});this.nF.on(l,"playbackRateChanged",function(){return m.mPb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.lOa || this.V.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pk:{get:function(){return this.Vfa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var l;return null !== (l=this.V.playbackRate) && void 0 !== l?l:1;},enumerable:!1,configurable:!0}});f.prototype.K8=function(l){void 0 === l && (l=!1);l !== this.Vfa && (this.lOa=(this.Vfa=l)?void 0:this.V.Gc);this.emit("stopStart",{type:"stopStart"});};f.prototype.ZW=function(){this.lOa=void 0;this.WW();};f.prototype.WW=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.mPb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Kb=function(){this.K8();this.nF.clear();};return f;})();b.ZHa=a;r.sf(c.EventEmitter,a);},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa;Object.defineProperties(b,{__esModule:{value:!0}});b.oya=void 0;c=a(2);f=a(18);l=a(214);m=a(16);d=a(886);g=a(9);h=a(887);k=a(891);n=c.__importDefault(a(6));p=a(5);q=a(892);v=a(27);u=a(71);t=a(99);w=a(54);x=a(404);y=a(251);z=a(252);A=a(893);B=a(118);D=c.__importDefault(a(143));E=a(894);F=a(895);C=a(896);G=a(897);J=a(898);K=a(899);H=a(900);L=a(903);R=a(905);I=a(906);P=a(907);N=a(908);M=a(909);Q=a(911);T=a(912);da=a(913);pa=a(914);wa=a(915);r=(function(){function ua(X,sa,O,S,ka,ia,Pa,Ea,Va,Ya){var bb;bb=this;this.KK=X;this.DOa=sa;this.config=O;this.id=S;this.YNa=ia;this.$kb=Pa;this.Fk=Ea;this.Dtb=Va;this.NF="2.0";this.Tc=l.vk.CLOSED;this.Efa=!0;this.gL=!1;this.CQa=new f.Nh();this.yC=0;this.B$=!1;this.xD=function(Xa){var mb,Za;Xa=bb.navigator.Ne(Xa.position.ya);if((Xa=bb.hna(Xa)) && bb.V.Ao){Za=bb.V.ei;null === (mb=bb.V.Sw) || void 0 === mb?void 0:mb.SD({N:Za.N,get Y$() {return Za.Pd.Ca(Za.N.Eg);}},Xa,bb.cj.offset,!0,!1);}bb.Kp.start();};this.XW=function(){bb.Fk("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.ji=new B.AB({mD:10,iu:this,source:"AsePlaygraph"});this.M7a(X);this.Hb=new L.fIa();this.Ci=new pa.hIa(this.console);this.events=new f.EventEmitter();this.Wna=new G.gCa(this.config,g.S.tb(this.config.G7),{parent:this.lYa.bind(this)},this.events,this.console);this.jwa=new k.hKa(this.console,this.events);this.BT={TG:O.du || Infinity};this.V=new q.Bda(this);this.pu=new u.DR(this.V.xa,this.console,"playgraph");this.Ds=new u.DR(new y.G0({Pk:!0,currentTime:function(){return g.S.tb(n.default.time.ea());},speed:1}),this.console,"wallclock");this.Mf=new R.cza(this.console,O,ka,this.events,this,this.Ds);this.X2=new N.Wya(this.pu,this.Ds,this.config,this.Yk.bind(this),this.Lf,this.console);this.C8=this.Mf.C8.bind(this.Mf);this.$W=this.Mf.$W.bind(this.Mf);this.L8=this.Mf.L8.bind(this.Mf);this.b$=this.b$.bind(this);this.pO=new w.cea(O);T.tSa({Mf:this.Mf,Ds:this.Ds},u.zk.WI(g.S.tb(this.config.kA)),function(){bb.V.Ao && bb.V.ei && (bb.Mf.state.value === m.Dc.If || bb.Mf.state.value === m.Dc.ud) && bb.qr(bb.V.ei);},"buffering");this.pO.yi(new z.zB(this.Mf.ji));this.pO.yi(new A.zHa(this.uFb.bind(this)));this.pO.yi(new z.zB(this.ji));this.pO.yi(new E.eIa(this.Hb));this.U8a=new da.gKa(this,this.console,Ya);this.H0a=new F.yEa(this.Ds,this.console,this.events);this.Kp=new wa.jIa(this.B9.bind(this));}Object.defineProperties(ua.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Z5:{get:function(){return !(this.V instanceof q.Bda);},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Ga:{get:function(){return this.KK;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{weight:{get:function(){return this.DOa;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{W9:{get:function(){p.assert(this.SM,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.zp.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{c7a:{get:function(){p.assert(this.SM,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.OC(this.W9).dG;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Lf:{get:function(){return this.Mf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{rf:{get:function(){return this.Mf.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{SM:{get:function(){return void 0 !== this.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{cj:{get:function(){return this.V.Ao?this.V.cj:this.W9;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Hd:{get:function(){return this.V.Ao?this.V.Hd:this.c7a;},enumerable:!1,configurable:!0}});ua.prototype.open=function(){this.Efa=!0;this.events.emit("openComplete");if(this.Tc !== l.vk.CLOSED)return !1;this.Tc=l.vk.OPEN;return !0;};ua.prototype.Kb=function(){this.Ds.Kb();this.pu.Kb();this.Tc !== l.vk.CLOSED && (this.xf(),this.Kp.Kb(),this.Mf.stop(),this.Tc=l.vk.CLOSED);};ua.prototype.PD=function(X,sa){var O,S,ka;O=this;this.bQa=X;this.yab=sa;sa=I.TUa(this.Hb,this.b$.bind(this));X=sa.dtb;sa=sa.Nrb;if(0 === X.length)return !0;if(1 !== X.length || 0 !== X[0])return !1;S=this.cj;X.forEach(function(ia){return O.V.cY(ia);});ka=this.OC(S).dG;sa.forEach(function(ia){var Pa;Pa=ia.gb;Pa.PD(ia.pg,S.ya === Pa.N.id?ka:void 0,void 0 !== O.Hb.ona(Pa));});this.Mf.EPb(S,sa[0].pg);return !0;};ua.prototype.gG=function(X){return t.gG(this.config,X);};ua.prototype.hG=function(X){return t.hG(this.config,X);};ua.prototype.CM=function(X,sa){var O,S;O=this.navigator.Ne(X);S=this.navigator.Ne(sa);return {pab:O.kHb(sa),oL:sa !== X && this.Hb.has(sa) && this.Hb.ez(sa)[0].di,$c:S.Eg.T,FN:this.hna(O)};};ua.prototype.Yk=function(X,sa,O,S){var ka,ia,Pa,Ea;ka=this;void 0 === S && (S=!0);if(!sa)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(S && this.Ci.get(X))O || this.Ci.set(X,sa);else {Pa=this.Cma(X)[0];Ea=this.navigator.Ne(X);this.cj.ya === X && Pa && (null === (ia=this.V.Sw) || void 0 === ia?void 0:ia.SD({N:Pa.N,get Y$() {return Pa.Pd.Ca(Pa.N.Eg);}},sa,this.cj.offset,S,O));S || (X={offset:g.S.bb,ya:sa},this.zp={position:X,di:!0,w$a:X});O?this.Ci.SVb(Ea.id,sa):this.Ci.set(Ea.id,sa);this.Kp.start();S && Ea.Kw && 0 < Ea.Kw.length && (p.assert(Pa),Pa.Uwa(Ea.Kw) && this.Cma(sa).forEach(function(Va){return ka.Vw(Pa,Va);}));S || this.Mf.u3a(this.W9);}};ua.prototype.Vw=function(X,sa){var O;O=this;X=X.te.Ca(sa.N.Eg);sa.Vw(X);this.Hb.HDb(sa).forEach(function(S){return O.Vw(sa,S);});};ua.prototype.ki=function(X){this.navigator.ki(X);this.Kp.start();};ua.prototype.xva=function(X,sa){this.eia=X;this.VA=sa;this.Fk("setStreamFilters");};ua.prototype.hI=function(X,sa){var O,S,ka,ia;O=this;if(C.L_a(this.Ga,X)){ia=this.Nua(X);if(void 0 === ia)this.Fh("Invalid seekPosition");else if(void 0 === this.bQa || void 0 === this.yab)this.Fh("No track selectors available");else if(this.Z5 && this.V.QM || !C.EYa(null === (S=this.zp) || void 0 === S?void 0:S.w$a,ia)){this.SM && (S=this.navigator.Ne(this.cj.ya),null === (ka=this.V.Sw) || void 0 === ka?void 0:ka.SD({N:S,Y$:S.duration},ia.ya,this.cj.offset,!1),this.cj.ya === X.ya?this.Ci.Itb(X.ya):this.Ci.oja());X=this.Hb.map(function(Pa){return O.YNa(Pa.N.Z).o7;});try{this.xf(!0);this.Htb();this.zp={position:ia,w$a:ia,di:!1,hRb:sa};this.Mf.u3a();this.Tc=l.vk.Fj;this.Kp.start();}finally{X.forEach(function(Pa){return Pa.release();});}}}else this.Fh("Invalid seekPosition");};ua.prototype.xf=function(X){var sa,O,S;S=this.DGb();this.Hb.reset();if(!X && (this.Ci.oja(),S.length))try{for(var ka=c.__values(S),ia=ka.next();!ia.done;ia=ka.next()){ia.value.ITb();}}catch(Ea){var Pa;Pa={error:Ea};}finally{try{ia && !ia.done && (sa=ka.return) && sa.call(ka);}finally{if(Pa)throw Pa.error;}}this.pu.reset();this.Ds.reset();this.V.reset();this.zp=void 0;this.X2.reset();null === (O=this.CQa) || void 0 === O?void 0:O.clear();this.Tc === l.vk.Fj && (this.Tc=l.vk.OPEN);};ua.prototype.Cma=function(X){return this.Hb.ez(X);};ua.prototype.gk=function(X){this.Mf.gk(X);p.assert(this.V.cH,"Must have an appended branch on underflow");this.X2.Jwa(this.V.cH,this.Hd);this.Fk("onUnderflow");this.events.emit("underflow");};ua.prototype.yi=function(X){this.pO.yi(X);};ua.prototype.Zha=function(X){this.yi(new x.fJa(X));this.Hqb(X);};ua.prototype.Hqb=function(X){this.V.Lwa(X)?(this.V=X,this.pu.UPa(this.V.xa),this.V.events.on("segmentPresenting",this.xD),this.V.events.on("drmReady",this.XW)):this.Fh("player in use");};ua.prototype.OC=function(X){var sa,O;sa=X.offset;O=this.navigator.Ne(X.ya);X=O.Z;sa=O.Eg.add(sa);return {Z:X,dG:sa};};ua.prototype.$r=function(X,sa){var O;O=this.V.$r(X);if(void 0 !== O)return O;O=this.V.cH;return C.$r(X,{pa:this,DIb:O && ({id:O.N.id,oVb:O.LH})},sa);};ua.prototype.tV=function(X){return this.V.tV(X);};ua.prototype.Nua=function(X){var sa;sa=this.Ga.Aa[X.ya];if(void 0 !== sa)return null === sa.Oc || void 0 === sa.Oc?{ya:X.ya,offset:g.S.max(g.S.bb,X.offset)}:{ya:X.ya,offset:g.S.max(g.S.bb,g.S.min(X.offset,g.S.tb(sa.Oc - sa.wc)))};};ua.prototype.gn=function(X,sa){return this.$kb(this.Ga.Aa[X].Z,sa);};ua.prototype.y5=function(){return M.jWa(this.Hb,this.I6.bind(this));};ua.prototype.I6=function(X){X=this.Hb.ona(X);return void 0 === X || X.ql && this.I6(X);};ua.prototype.x5=function(){return this.BT.TG;};ua.prototype.dEb=function(X){return Q.pYa(this.Hb,X);};ua.prototype.xh=function(X){var sa,O,S;sa=this;this.Hb.SU(function(ka){var ia,Pa;ia=ka.rV(0);Pa=ka.rV(1);if(ka.N.Ou || !sa.Hb.aoa(ka) || !ka.ql){if(!O || ia < O)O=ia;if(!S || Pa < S)S=Pa;}return ka.ql;});return {bZ:O?Math.max(O - X.T,0):0,cZ:S?Math.max(S - X.T,0):0};};ua.prototype.pM=function(){var X,sa,O,S;O=this.SM?this.xh(this.Hd):{bZ:0,cZ:0};S=D.default.instance().get();return {totalabuflmsecs:O.bZ,totalvbuflmsecs:O.cZ,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (sa=Number(0 < S.confidence) && (null === (X=S.Sa) || void 0 === X?void 0:X.Fa)) && void 0 !== sa?sa:0};};ua.prototype.JM=function(){var X,sa,O,S,ka,ia,Pa,Ea;X=this;if(this.qn())return (this.ji.hy({isStreamingFailureReported:!0}),[]);O=this.Hb.size;this.ji.hy({branchCount:O});if(!this.SM || 0 === O)return [];S=this.Hd;ka=this.cj;ia=[];O=this.navigator.Ne(this.cj.ya);Pa=O.duration;Ea=this.Ci.get(O.id)?1:null !== (sa=O.BA) && void 0 !== sa?sa:1;sa=this.Hb.reduce(function(Va,Ya,bb){var Xa,mb,xa,Ia,Ma;try{for(var Za=c.__values(Ya.w5()),Sa=Za.next();!Sa.done;Sa=Za.next()){xa=Sa.value;if(!xa.Pr()){Ia="p" + X.id + "-" + bb + "-" + (null === (mb=Ya.mj) || void 0 === mb?void 0:mb.T);Ma=X.kYa(xa);Va.push(X.nxb(xa,Ma,Ia,Pa,Ea,S,ka));}!xa.aD() && X.ji.enabled && ia.push({segmentId:xa.ya,isDoneStreaming:xa.Pr(),isNormalized:xa.di(),needsHeaderRequest:xa.track.l8});}}catch(hb){var Ta;Ta={error:hb};}finally{try{Sa && !Sa.done && (Xa=Za.return) && Xa.call(Za);}finally{if(Ta)throw Ta.error;}}return Va;},[]);this.ji.hy({nonStreamables:ia});return sa;};ua.prototype.kYa=function(X){var sa;if(X.nha)return X.nha;sa=this.lYa(X);return !sa || this.config.k4 && this.navigator.iHb(sa.gb.N,X.ya)?X.OT:this.kYa(sa);};ua.prototype.lYa=function(X){var sa;return null === (sa=this.Hb.ona(X.gb)) || void 0 === sa?void 0:sa.BM(X.mediaType);};ua.prototype.GPb=function(X){var sa,O;if(!this.jwa.qn()){sa=void 0;O=this.V.cj;O && (sa=this.navigator.Ne(O.ya).Z);this.Fh("BufferingStateTracker: Temporary failure while buffering",sa,"NFErr_MC_StreamingFailure",null === X || void 0 === X?void 0:X.ah,null === X || void 0 === X?void 0:X.SC,null === X || void 0 === X?void 0:X.ij);}};ua.prototype.Fh=function(X,sa,O,S,ka,ia){this.jwa.Fh(X,sa,O,S,ka,ia);};ua.prototype.hZ=function(X,sa){sa=this.u5(sa);this.events.emit("logdata",{type:"logdata",target:X,fields:sa});};ua.prototype.u5=function(X){var sa;this.H0a.LKb(X);sa=this.pO.uo(X);X === w.ce.Wp && (X=this.pM(),sa.vbuflmsec=X.totalvbuflmsecs,sa.abuflmsec=X.totalabuflmsecs,sa.vbuflbytes=X.vbuflbytes,sa.abuflbytes=X.abuflbytes);return sa;};ua.prototype.C$a=function(X){this.BT=X;this.Fk("updateBudget");};ua.prototype.qn=function(){return this.jwa.qn();};ua.prototype.T$a=function(X){X !== this.weight && (this.DOa=X,this.events.emit("weightUpdated"));};ua.prototype.mZ=function(X){var sa,O,S,ka,ia,Va,Ya,bb,Xa,mb,Za,Sa,xa,Ia,Ma;S=H.XQa(this.Ga,X);ka=S.ctb;ia=S.a_b;if([S.Kpb,S.mO,ka].every(function(hb){return !hb.length;}))return {$:!0,reason:m.Hx.Chb};if(0 === ka.length && 0 === ia.length)return {$:!1,reason:m.Hx.Pgb};try{for(var Pa=c.__values(ka),Ea=Pa.next();!Ea.done;Ea=Pa.next()){Va=Ea.value;Ya=this.Ga.Aa[Va];bb=Ya.wc;Xa=Ya.Oc;mb=Ya.Z;Za=X.Aa[Va];Sa=Za.Oc;xa=Za.wc;Ia=Za.Z;if(this.cj.ya === Va && Sa !== Xa){if(!Sa)return {$:!1,reason:m.Hx.Aib};Ma=g.S.tb(Sa - xa);if(null === (O=this.cj.offset) || void 0 === O?0:O.greaterThan(Ma))return {$:!1,reason:m.Hx.cbb};}if(bb !== xa)return {$:!1,reason:m.Hx.qeb};if(mb !== Ia)return {$:!1,reason:m.Hx.reb};}}catch(hb){var Ta;Ta={error:hb};}finally{try{Ea && !Ea.done && (sa=Pa.return) && sa.call(Pa);}finally{if(Ta)throw Ta.error;}}this.M7a(X);this.Kp.start();return {$:!0,reason:m.Hx.Bhb};};ua.prototype.M7a=function(X){this.KK=X;this.navigator=new K.oIa(X);this.IGb=H.eSa(this.navigator);};ua.prototype.nsa=function(X,sa){this.e6a(X);X.eM.addListener("criticalNetworkError",this.C8);X.eM.addListener("temporaryNetworkError",this.$W);X.eM.addListener("updatingLastSuccessEvent",this.L8);this.Tc === l.vk.Fj && sa && this.Z6a();};ua.prototype.osa=function(X){0 === this.Hb.filter(function(sa){return sa.AV && sa.O === X;}).length && this.e6a(X);};ua.prototype.e6a=function(X){X.eM.removeListener("criticalNetworkError",this.C8);X.eM.removeListener("temporaryNetworkError",this.$W);X.eM.removeListener("updatingLastSuccessEvent",this.L8);};ua.prototype.JOa=function(X){var sa;p.assert(X.di,"expected branch to be normalized on addBranchToPlayer");this.V.QM || (null === (sa=this.zp) || void 0 === sa?0:sa.di) || this.dCb(X);this.Mf.jaa(X.pg);this.V.nla(X);this.X2.Jwa(X,this.Hd);};ua.prototype.dCb=function(X){p.assert(X.Jc,"Normalized branch should have a defined content start timestamp");p.assert(this.zp,"AsePlaygraph should have a seek position on first branch normalization");p.assert(!this.zp.di,"Seek position should not already be normalized on first branch normalization");this.zp=c.__assign(c.__assign({},this.zp),{position:{ya:X.N.id,offset:X.Jc.Ca(X.N.Eg)},di:!0});this.Mf.NVb(this.zp.position,X.pg.filter(function(sa){return 0 === sa.mediaType;})[0]);};ua.prototype.Htb=function(){var X;this.X2.reset();this.V.WF();this.zp=void 0;null === (X=this.CQa) || void 0 === X?void 0:X.clear();};ua.prototype.nxb=function(X,sa,O,S,ka,ia,Pa){var Ea,Va,Ya,bb;Ea=this;Ya=null !== (Va=X.gb.mj) && void 0 !== Va?Va:X.gb.Or;Va=X.Li;bb=this.Ci.get(X.ya)?1:X.gb.N.BA;return {identifier:X.ya,mediaType:X.mediaType,Rg:X.Rg,Lf:this.Lf.value,hA:sa,Li:Va,Hd:ia,az:X.az,mta:Pa.offset,lta:S,yX:ka,BA:bb,duration:X.gb.wU,V8a:g.S.max(Va.Ca(Ya),g.S.bb),aD:X.aD(),Pr:X.Pr(),groupId:O,O_a:function(Xa,mb){Xa=Ea.U8a.Lsb(Xa,X.mediaType,1 > mb || !Ea.I6(X.gb));1 === mb && "global" === m.Rta(Xa.reason) && Ea.Mf.bPb(X.mediaType,Ea.xh(Ea.Hd));return Xa;},S_a:function(){var Xa,mb,Za,Sa,xa,Ia,Ma,Ta,hb;Sa=X.mediaType;xa=Ea.Wna.tVb(Ea.Lf.value,Ea.Hd,X.Li,Ea.V.playbackRate,X,0 === Sa?Ea.eia:Ea.VA,Ea.gL);Ia=xa.stream;Ma=xa.XO;Ta=xa.vVb;hb=xa.ju;xa=xa.reason;if(!Ia)return {rn:!1,reason:xa || "selectLocationsAndStream"};if(Ea.Lf.value === m.Dc.Fj && X.gb && X.gb.O.OG && !X.gb.O.qW && !Ea.V.Do(X.gb.O.Z) && X.Li.T - Ea.Hd.T > Ea.config.Hqa)return {rn:!1,reason:"maxBufferingCompleteBufferInMs"};xa=1;if(null === (Xa=X.gb) || void 0 === Xa?0:Xa.pg.every(function(wb){return 0 === wb.mediaType;}))xa=0;Ea.Mf.jg && Sa === xa && Ea.Mf.$Vb(X.$k.HO,Ia.bitrate,Ta);Ea.LO(Ma);Xa=null === (mb=X.gb.Qq) || void 0 === mb?void 0:mb.T;mb=X.m$a(Ia,hb);mb.rn && (Ea.Efa && (Ea.Ul("firstDriveStreaming"),Ea.Efa=!1),0 < Ea.yC && (Ia=null === (Za=X.gb.Qq) || void 0 === Za?void 0:Za.T,Xa && Ia && (Ea.yC-=Xa - Ia,0 >= Ea.yC && Ea.Z6a())));return mb;}};};ua.prototype.LO=function(X){var sa;sa=this;X.forEach(function(O){O.O.TVb(O,function(){var S,ka,ia;p.assert(sa.SM,"Speculative header callback after streaming is cancelled");S=sa.Mf.state.value;ka=sa.Hd;ia=ka.add(g.S.tb(sa.config.zW));return {Rg:[],Lf:S,hA:ia,Li:ia,Hd:ka};});});};ua.prototype.Z6a=function(){var X;X=this;this.Kp.xaa(wa.AE.lx,function(){return X.Kp.start();});};ua.prototype.B9=function(){var X,sa,O,S,ka;X=this;if(this.Tc === l.vk.Fj){sa=this.cj;O=this.navigator.Ne(sa.ya);S=this.Hb.vGb();ka=this.cDb(sa.ya).map(function(ia){return ia.N.id;});O=J.B9(this.console,this.IGb,O,S,this.Ci,ka,g.S.tb(this.config.Lrb),this.config.pra,g.S.tb(this.config.yia));S=O.t6a;this.yC=O.yC || 0;this.Hb.m_b(S,function(ia,Pa){var Ea;Ea=X.navigator.Ne(ia);ia=ia === sa.ya?Ea.Eg.add(sa.offset):Ea.Eg;return X.SZb(Ea,ia,Pa);}).mO.forEach(function(ia){ia.xf();X.Ci.clear(ia.N.id);X.V.LYa(ia) || X.Kp.xaa(wa.AE.lx,function(){return X.oga(ia.N.id);});});this.S5a();this.nRa();this.Kp.xaa(wa.AE.lx,function(){X.Fk("reevaluateBranches");X.Kp.xW(wa.AE.vR);});}};ua.prototype.cDb=function(X){var sa;sa=!1;return this.V.Hb.filter(function(O){O.N.id === X && (sa=!0);return sa;});};ua.prototype.DGb=function(){return v.KPa(this.Hb.filter(function(X){return X.AV;}).map(function(X){return X.O;}));};ua.prototype.S5a=function(){var X;if(this.Tc === l.vk.Fj){if(!this.V.cH){X=c.__read(this.Hb.ez(this.W9.ya),1)[0];(null === X || void 0 === X?0:X.di) && this.JOa(X);}if(this.V.cH)for(;;){X=this.hna(this.V.cH.N);if(!X)break;X=c.__read(this.Hb.ez(X),1)[0];if(null === X || void 0 === X || !X.di)break;else if(this.V.LYa(X))break;this.JOa(X);}}};ua.prototype.hna=function(X){var sa;sa=this.Ci.get(X.id);if(void 0 !== sa)return sa;X=this.navigator.VDb(X);if(1 === X.length)return X[0].id;};ua.prototype.nRa=function(){var X;X=0 !== this.YCb();X || this.B$?X && this.B$ && (this.B$=!1):(this.Mf.jg && (X=this.xh(this.Hd),this.Mf.Le("complete",X.bZ,X.cZ)),this.Qmb(),this.B$=!0);};ua.prototype.YCb=function(){return this.Hb.filter(function(X){return !X.ql;}).length;};ua.prototype.qr=function(X){this.I6(X) && this.Mf.jja(this.Hd,this.V.playbackRate,X,{ija:this.Wna.ija.bind(this.Wna,this.U8a)});};ua.prototype.SOb=function(X,sa){var O,S;O=this;if(sa.didNormalizeSegment){S=P.DJa.CGb(X);p.assert(S,"Segment should be normalized");Promise.resolve().then(function(){return O.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:X.N.id,normalizedStart:sa.segmentContentStart,normalizedEnd:sa.branchContentEnd,viewableContentEnd:S.M0b,viewableEarliestContentEnd:S.O0b});});}Promise.resolve().then(function(){O.S5a();});this.Fk("branchNormalized");};ua.prototype.TOb=function(){this.nRa();};ua.prototype.ROb=function(){this.Kp.start();};ua.prototype.SZb=function(X,sa,O){var S,ka,ia,Pa,Ea;S=this;if(this.Dtb(X,sa))throw Error("Not implemented");Ea=new d.Zya(X.Z,this.YNa,function(Va,Ya,bb){S.state !== l.vk.CLOSED && (S.nsa(Ya,bb),S.Kp.xaa(wa.AE.vR,function(){S.M1(Va.N.id,Ya,Va.eg);}));},this.osa.bind(this));X=new h.Vya(this.config,this.console,this.events,X,this.b$,sa,null !== (Pa=null === (ia=null === (ka=this.zp) || void 0 === ka?void 0:ka.hRb) || void 0 === ia?void 0:ia.Ca(this.c7a)) && void 0 !== Pa?Pa:g.S.bb,function(){return S.Hd.T;},O,this.Lf,this.pu,Ea);X.events.on("needsRequest",this.Fk.bind(this,"branchNeedsHeader"));X.events.on("branchNormalized",this.SOb.bind(this,X));X.events.on("lastRequestIssued",this.ROb.bind(this,X));X.events.on("branchStreamingComplete",this.TOb.bind(this,X));X.events.on("checkBufferingProgress",this.qr.bind(this,X));void 0 === O && (this.Ul("createDlTracksStart"),X.events.once("requestQueuesCreated",function(){S.Ul("createDlTracksEnd");}));X.xb();return X;};ua.prototype.uFb=function(X){if(this.V.Ao)return this.V.ei.fb(X);};ua.prototype.b$=function(X){return [[0,this.bQa,"audio_tracks"],[1,this.yab,"video_tracks"]].map(function(sa){var O,S;O=c.__read(sa,3);S=O[1];sa=O[2];p.assert(S,"Expected mediaType " + O[0] + " track selector to be defined");O=S.ms(X.sa,X.sa[sa]);if(void 0 !== O)return X.getTrackById(X.sa[sa][O].oP);}).filter(v.w8);};ua.prototype.M1=function(X,sa,O){X={type:"segmentStarting",segmentId:X,contentOffset:O.T,maxBitrates:{audio:sa.pw[0],video:sa.pw[1]}};this.events.emit(X.type,X);};ua.prototype.oga=function(X){X={type:"segmentAborted",segmentId:X};this.events.emit(X.type,X);};ua.prototype.Qmb=function(){var X;X={type:"streamerEnd",time:n.default.time.ea()};this.events.emit(X.type,X);};ua.prototype.Ul=function(X){X={type:"startEvent",event:X,time:n.default.time.ea()};this.events.emit(X.type,X);};c.__decorate([B.$b({methodName:"getStreamables",em:!0})],ua.prototype,"JM",null);return ua;})();b.oya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zya=void 0;c=a(2);r=(function(){function f(l,m,d,g){this.Z=l;this.G9=m;this.nsa=d;this.osa=g;}Object.defineProperties(f.prototype,{O:{get:function(){var l;return null === (l=this.BZ) || void 0 === l?void 0:l.O;},enumerable:!1,configurable:!0}});f.prototype.Kb=function(){var l;this.O && (this.O.cxa(this.gb),this.osa(this.O));null === (l=this.BZ) || void 0 === l?void 0:l.o7.release();this.BZ=void 0;};f.prototype.xb=function(l){return c.__awaiter(this,void 0,void 0,function(){var m,d,g,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.gb=l,m=this.G9(this.Z),d=m.zP,g=m.O,h=m.o7,this.BZ={o7:h,O:g},g?(this.SZa(g,l,!1),[2,g]):[4,d]);case 1:return (k=n.kd(),this.SZa(k,l,!0),[2,k]);}});});};f.prototype.SZa=function(l,m,d){this.BZ && (this.BZ.O=l,l.$ta(m),this.nsa(m,l,d));};return f;})();b.Zya=r;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t){return (1 === u.mediaType?0:1) - (1 === t.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=b.Yya=b.Fgb=void 0;f=a(2);l=a(18);m=a(9);d=a(21);r=a(102);g=a(42);h=a(888);k=a(5);n=a(890);p=a(239);q=a(20);b.Fgb={uab:c};(function(u){u[u.uba=0]="CREATED";u[u.eza=1]="CANCELLED";})(v=b.Yya || (b.Yya={}));a=(function(){function u(t,w,x,y,z,A,B,D,E,F,C,G){var J,K;J=this;this.I=t;this.H=w;this.Z8=x;this.Ap=y;this.s5=z;this.Nr=A;this.Qs=B;this.gS=D;this.parent=E;this.Nx=F;this.zv=C;this.AZ=G;this.Tc=v.uba;this.r2=[];this.zz=new p.EJ();this.q6a=0;this.fsa=function(){!J.vh && J.X5 && (J.O.Tt.wD("onHeaderFragments",J.fsa),J.v6.resolve());};this.events=new l.EventEmitter();this.Wr=new m.jQ();this.v6=new m.jQ();if(null === (K=this.parent) || void 0 === K?0:K.te)this.Qs=this.parent.te.Ca(this.Ap.Eg);}Object.defineProperties(u.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vh:{get:function(){return this.Tc === v.eza;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{N:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hw:{get:function(){var t;return !(null === (t=this.vd) || void 0 === t || !t.hw);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ql:{get:function(){var t;return !(null === (t=this.vd) || void 0 === t || !t.ql);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{et:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.et) && void 0 !== w?w:0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{di:{get:function(){var t;return !(null === (t=this.vd) || void 0 === t || !t.di);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{R0b:{get:function(){return this.Wr.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{pg:{get:function(){return this.r2;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AV:{get:function(){var t;return !(null === (t=this.AZ) || void 0 === t || !t.O);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{X5:{get:function(){return ! !this.pg.length && this.r2.every(function(t){return t.ie;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{O:{get:function(){k.assert(this.AZ.O,"viewable should be available");return this.AZ.O;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{U:{get:function(){var t;return (null === (t=this.vd) || void 0 === t?void 0:t.U) || this.Nr.U;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wa:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.Wa) && void 0 !== w?w:this.Nr.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{nb:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.nb) && void 0 !== w?w:this.N.Kk.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{oj:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.oj) && void 0 !== w?w:this.eg.Vf(this.U).Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Or:{get:function(){var t,w,x;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.Or) && void 0 !== w?w:null === (x=this.Nr) || void 0 === x?void 0:x.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{az:{get:function(){var t,w;w=null === (t=this.N.N.bq) || void 0 === t?void 0:t[0];return w && this.Jc?d.S.tb(Math.max(0,w[0] - this.Jc.T - this.N.Eg.T)):d.S.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{LH:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.LH) && void 0 !== w?w:this.N.Eg.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ZN:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.ZN) && void 0 !== w?w:this.N.Kk.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{m7:{get:function(){var t;return null === (t=this.vd) || void 0 === t?void 0:t.m7;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eg:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.eg) && void 0 !== w?w:this.Qs;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Qq:{get:function(){var t,w;return null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.Qq) && void 0 !== w?w:this.N.Kk.Ca(this.Nr || this.N.Eg);},enumerable:!1,configurable:!0}});u.prototype.xb=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(t){switch(t.label){case 0:if(this.vh)return [2];q.ga && this.H.log("AseBranch {" + this.N.id + "} awaiting viewable");return [4,this.AZ.xb(this)];case 1:t.kd();q.ga && this.H.log("AseBranch {" + this.N.id + "} viewable available, branch " + (this.vh?"cancelled":"active"));if(this.vh)return [2];k.assert(this.s5,"tracks need to exist upon initialization");this.r2=this.s5(this.O).sort(c);this.F7a(this.Nr);return [4,this.iVa()];case 2:return (t.kd(),q.ga && this.H.log("AseBranch {" + this.N.id + "} have headers"),this.vh?[2]:this.parent?[4,this.parent.R0b]:[3,4]);case 3:t.kd();if(this.vh)return [2];t.label=4;case 4:return (this.normalize(),[2]);}});});};u.prototype.iVa=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(){this.X5?this.v6.resolve():(this.O.Tt.on("onHeaderFragments",this.fsa),this.events.emit("needsRequest"));return [2,this.v6.promise];});});};u.prototype.normalize=function(){this.vh || (this.vd=new h.ZFa(this,this.I,this.H,this.O,this.Z8,this.Ap,this.Nr,this.zz.items,this.Qs,this.gS,this.parent,this.Nx,this.events,this.zv),this.bla(this.vd.uC),this.Wr.resolve(this.vd));};u.prototype.update=function(t){var w;this.Ap=t;(null === (w=this.vd) || void 0 === w?0:w.update(t)) && this.bla(!0);};u.prototype.Vw=function(t){var w;this.Qs=t;null === (w=this.vd) || void 0 === w?void 0:w.Vw(t);};u.prototype.jz=function(t){return f.__awaiter(this,void 0,void 0,function(){var w;return f.__generator(this,function(x){switch(x.label){case 0:return [4,this.Wr];case 1:return (w=x.kd(),[2,null === w || void 0 === w?void 0:w.jz(t)]);}});});};u.prototype.tG=function(){var t;null === (t=this.vd) || void 0 === t?void 0:t.tG();};u.prototype.reset=function(){var t;null === (t=this.vd) || void 0 === t?void 0:t.reset();};u.prototype.xf=function(){var t;this.Tc=v.eza;this.AV && this.O.Tt.wD("onHeaderFragments",this.fsa);null === (t=this.vd) || void 0 === t?void 0:t.xf();this.zz.forEach(function(w){return w.cancel();});this.AZ.Kb();};u.prototype.NV=function(t){var w;return !(null === (w=this.vd) || void 0 === w || !w.NV(t));};u.prototype.fb=function(t){var w;return null === (w=this.vd) || void 0 === w?void 0:w.fb(t);};u.prototype.RYa=function(t){return this.pg.some(function(w){return w.mediaType === t;});};u.prototype.iq=function(t){var w,x;void 0 === t && (t=c);return null !== (x=null === (w=this.vd) || void 0 === w?void 0:w.iq(t)) && void 0 !== x?x:[];};u.prototype.gGb=function(t){var w,x;return (null === (w=this.fb(t)) || void 0 === w?void 0:w.$k.Gg) || (null === (x=this.zz.get(t)) || void 0 === x?void 0:x.$k.Gg);};u.prototype.w5=function(){var t,w;return this.X5?null !== (w=null === (t=this.vd) || void 0 === t?void 0:t.w5()) && void 0 !== w?w:[]:this.zz.items;};u.prototype.BM=function(t){var w;return (null === (w=this.vd) || void 0 === w?void 0:w.BM(t)) || this.zz.get(t);};u.prototype.xh=function(t,w){var x;return (null === (x=this.vd) || void 0 === x?void 0:x.xh(t,w)) || 0;};u.prototype.DC=function(){var t;return (null === (t=this.vd) || void 0 === t?void 0:t.DC()) || ({});};u.prototype.rV=function(t){var w;return (null === (w=this.vd) || void 0 === w?void 0:w.rV(t)) || this.Or.T;};u.prototype.PD=function(t,w,x){return f.__awaiter(this,void 0,void 0,function(){var y,z,A,B;return f.__generator(this,function(D){switch(D.label){case 0:this.r2=t.sort(c);this.F7a(w);if(!this.di)return [3,2];k.assert(this.vd);y=this.zz.filter(function(E){return E.track.ie;}).items;z=this.vd.L$a(y,w,x);A=z.lU;B=z.uC;A && this.bla(B);if(this.X5)return [3,2];this.v6=new m.jQ();this.Wr=new m.jQ();q.ga && this.H.log("AseBranch {" + this.N.id + "} setTracks waiting for headers");return [4,this.iVa()];case 1:D.kd();if(this.vh)return [2];this.vd.L$a(this.zz.items,w,x);q.ga && this.H.log("AseBranch {" + this.N.id + "} setTracks pipelines updated");this.Wr.resolve(this.vd);this.events.emit("needsRequest");D.label=2;case 2:return [2];}});});};u.prototype.F7a=function(t){var w;w=this;this.zz=new p.EJ(this.pg.map(function(x){var y,z;z=w.zz.find(function(A){return A.track === x;});z || (++w.q6a,z=new n.JCa(w,x,(null === t || void 0 === t?void 0:t.add(w.eg)) || d.S.bb,w.I,w.H,null === (y=w.parent) || void 0 === y?void 0:y.gGb(x.mediaType),w.Z8,function(){0 === --w.q6a && w.events.emit("requestQueuesCreated");}));return z;}));};u.prototype.Am=function(t){var w;return (null === (w=this.vd) || void 0 === w?void 0:w.Am(t)) || [];};u.prototype.VW=function(t){var w;return null === (w=this.vd) || void 0 === w?void 0:w.VW(t);};u.prototype.cG=function(t){var w;return !(null === (w=this.vd) || void 0 === w || !w.cG(t));};u.prototype.h5=function(t){return this.vd?this.vd.h5(t):d.S.bb;};u.prototype.Uwa=function(t){var w;return !(null === (w=this.vd) || void 0 === w || !w.Uwa(t));};u.prototype.bla=function(t){t={type:"branchNormalized",segmentContentStart:this.N.Eg,branchContentStart:this.Jc,branchContentEnd:this.Pd,didNormalizeSegment:t};this.events.emit(t.type,t);q.ga && this.H.trace("branchNormalized:",t);};u.prototype.toJSON=function(){var t;return (null === (t=this.vd) || void 0 === t?void 0:t.toJSON()) || ({});};return u;})();b.Vya=a;g.sf(r.bx,a);g.sf(r.cB,a);},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.ZFa=b.Ada=void 0;f=a(2);l=a(384);m=a(83);d=a(148);g=a(382);h=a(16);k=a(402);n=a(889);p=a(9);q=a(27);v=a(5);u=a(21);t=f.__importDefault(a(6));r=a(102);w=a(42);x=a(239);b.Ada={uab:c};a=(function(y){function z(A,B,D,E,F,C,G,J,K,H,L,R,I,P){var N,M;M=y.call(this,E) || this;M.gb=A;M.I=B;M.O=E;M.Z8=F;M.Ap=C;M.Qs=K;M.gS=H;M.parent=L;M.Nx=R;M.events=I;M.zv=P;M.de=new x.EJ([]);M.Pl=!1;M.qS=0;M.PR=M.VW.bind(M);v.assert(E.Z === M.N.Z || isNaN(E.Z) && isNaN(M.N.Z));M.console=p.tq(t.default,D,C.id && C.id.length?"{" + C.id + "}":"");M.Nr=null !== G && void 0 !== G?G:u.S.tb(M.N.Y);M.uga=null === L || void 0 === L?void 0:L.te;null === (N=M.Nx) || void 0 === N?void 0:N.addListener(M.PR);A=M.BSa(J,M.Nr,! !M.parent).uC;M.uC=A;return M;}f.__extends(z,y);Object.defineProperties(z.prototype,{vh:{get:function(){return this.Pl;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{N:{get:function(){return this.Ap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{hw:{get:function(){return this.de.every(function(A){return A.hw;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ql:{get:function(){return this.de.every(function(A){return A.ql;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{et:{get:function(){return this.iq().reduce(function(A,B){return A + B.et;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{di:{get:function(){return this.iq().every(function(A){return A.di();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pg:{get:function(){return this.gb.pg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{U:{get:function(){return this.Xs.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wa:{get:function(){return this.Xs.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nb:{get:function(){return this.Xs.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{oj:{get:function(){return this.eg.Vf(this.U).Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Or:{get:function(){return this.Nr.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{LH:{get:function(){return this.N.Eg.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ZN:{get:function(){return this.N.Kk.add(this.eg);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{m7:{get:function(){return this.de.reduce(function(A,B){return A && B.te?u.S.max(A,B.te):B.te?B.te:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ooa:{get:function(){return this.Or.T;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ce:{get:function(){return this.eg.T;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Qq:{get:function(){return this.Xs.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{eg:{get:function(){return this.Qs;},enumerable:!1,configurable:!0}});z.prototype.L$a=function(A,B,D){var E;void 0 === B && (B=null !== (E=this.Jc) && void 0 !== E?E:this.Nr);return this.BSa(A,B,D);};z.prototype.update=function(A){var B,D,E;E=A.Kk.x8(this.Ap.Kk);this.Ap=A;return E && this.PB?(E=f.__read(this.PB.$Tb(A,A.Kk),2),A=E[0],E=E[1],v.assert(A && E,"branch.update: lastFragment should be defined"),null === (B=this.fb(0)) || void 0 === B?void 0:B.truncate(A),null === (D=this.fb(1)) || void 0 === D?void 0:D.truncate(E),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};z.prototype.Vw=function(A){this.eg.equal(A) || (this.Qs=A);};z.prototype.jz=function(A){return f.__awaiter(this,void 0,void 0,function(){var B;return f.__generator(this,function(D){switch(D.label){case 0:return [4,Promise.resolve()];case 1:return (D.kd(),(B=this.fb(A))?[2,B.jz()]:[2,d.AsyncIterator.UWa()]);}});});};z.prototype.tG=function(){this.iq().forEach(function(A){return A.tG();});};z.prototype.YS=function(){this.de.forEach(function(A){return A.YS();});};z.prototype.reset=function(){this.de.forEach(function(A){A.reset();});};z.prototype.xf=function(){var A,B;this.Pl || (this.Pl=!0,null === (A=this.PB) || void 0 === A?void 0:A.Zc(),this.PB=void 0,this.de.forEach(function(D){D.xf();}),null === (B=this.Nx) || void 0 === B?void 0:B.removeListener(this.PR),this.events.removeAllListeners());};z.prototype.NV=function(){return !0;};z.prototype.fb=function(A){return this.de.get(A);};z.prototype.iq=function(A){void 0 === A && (A=c);return this.de.items.slice().sort(A);};z.prototype.w5=function(){return this.de.items;};z.prototype.BM=function(A){return this.fb(A);};z.prototype.xh=function(A,B){A=this.fb(A);if(!A)return 0;if(B)return A.um;B=A.Op;if(void 0 === B)return 0;A=this.gS();return B - A;};z.prototype.DC=function(){var A,B,D,E,F,C,G;G=null === (A=this.fb(0)) || void 0 === A?void 0:A.Ym;A=null === (B=this.fb(1)) || void 0 === B?void 0:B.Ym;return {Mn:null !== (D=null === A || void 0 === A?void 0:A.T) && void 0 !== D?D:0,vr:null !== (E=null === G || void 0 === G?void 0:G.T) && void 0 !== E?E:0,Ww:null !== (F=null === A || void 0 === A?void 0:A.fa) && void 0 !== F?F:0,YK:null !== (C=null === G || void 0 === G?void 0:G.fa) && void 0 !== C?C:0};};z.prototype.rV=function(A){var B;return (A=this.fb(A))?null !== (B=A.Op) && void 0 !== B?B:0:0;};z.prototype.Am=function(A){A=this.fb(A);return (null === A || void 0 === A?void 0:A.Am()) || [];};z.prototype.VW=function(A){h.nq(A.newValue) && this.qr();};z.prototype.cG=function(A){return this.de.every(function(B){return B.cG(A);});};z.prototype.h5=function(A){var B,D;return null !== (D=null === (B=this.de.get(A)) || void 0 === B?void 0:B.SSa) && void 0 !== D?D:u.S.bb;};z.prototype.Uwa=function(A){var B,D,E;B=this.Xs.sKb;if(!B)return !1;D=q.dg(A,function(F){return B.T <= F.Jc.T;});if(!D)return !1;A=!1;E=f.__read(k.lua(this.I,this.de,D.Jc),2);D=E[0];if(E=E[1])(this.fb(1).truncate(E),A=!0);D && (this.fb(0).truncate(D),A=!0);A && (D={type:"branchEdited"},this.events.emit(D.type,D));return A;};z.prototype.hk=function(A){this.Pl || (A.D2 || v.assert(!A.Vc),this.qr(),this.ql && this.sga());this.Jt(A);};z.prototype.CH=function(A){this.I.m4 && this.qr(!0);this.zG(A);};z.prototype.BH=function(A){this.I.m4 && this.qr(!0);this.BC(A);};z.prototype.BSa=function(A,B,D){var E,F,C;E=this;F=new x.EJ();C=!1;A.forEach(function(G){var J;J=E.de.find(function(K){return K.track === G.track;});void 0 === J?(C=!0,J=new g.dda(G.mediaType,E.I,E.console),J=new l.zda(E,E.I,E.console,E.Z8,E.gb,G.track,B,G.$k,J,!0,void 0,G.BZb(),E.zv),J.events.on("lastRequestIssued",function(){return E.hw && E.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(E.de.remove(J),J.YS());F.add(J);});this.de.forEach(function(G){return G.xf();});this.de=F;return C?this.normalize(B,D):{lU:!1,uC:!1};};z.prototype.normalize=function(A,B){var D,E;null === (D=this.PB) || void 0 === D?void 0:D.Zc();this.PB=new n.xHa({console:this.console,config:this.I,O:this.O,N:this.N,Tk:this.de,Jc:A,Pd:null !== (E=this.N.Kk) && void 0 !== E?E:void 0 !== this.N.Ha?u.S.tb(this.N.Ha):void 0,splice:B});this.Xs=this.de.AX;B=this.PB.normalize();A=B.lU;B=B.uC;A && this.uga && (this.Qs=this.uga.Ca(this.Jc));return {lU:A,uC:B};};z.prototype.Eva=function(A){var B;return h.nq((null === (B=this.Nx) || void 0 === B?void 0:B.value) || h.Dc.Fj) && (!A || this.qS + this.I.W7 < t.default.time.ea());};z.prototype.qr=function(A){void 0 === A && (A=!1);this.Eva(A) && (this.qS=t.default.time.ea(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.sga=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.toJSON=function(){var A,B;return {segment:this.N.id,branchOffset:this.Ce,viewableId:this.Ap.Z,contentStartPts:null === (A=this.Jc) || void 0 === A?void 0:A.T,contentEndPts:null === (B=this.Pd) || void 0 === B?void 0:B.T};};return z;})(m.Su);b.ZFa=a;w.sf(r.bx,a);},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xHa=void 0;c=a(2);f=a(402);l=a(5);r=(function(){function m(d){var g,h,k,n,p,q,v,u;g=this;h=d.console;k=d.config;n=d.O;p=d.Tk;q=d.N;v=d.Jc;u=d.Pd;d=d.splice;this.JV=this.yL=!1;this.lRa=function(){g.yL || g.Fha() && g.Fra();};this.console=h;this.config=k;this.Tk=p;this.O=n;this.N=q;this.Jc=v;this.Pd=u;this.splice=d;}m.prototype.xb=function(d){if(this.yL)throw Error("Cannot call init() after cleanup");if(this.JV)throw Error("Cannot call init() twice");this.JV=!0;this.p3a=d;this.O.Tt.addListener("onHeaderFragments",this.lRa);this.Fha() && this.Fra();};m.prototype.normalize=function(){if(this.yL)throw Error("Cannot call normalize() after cleanup");if(this.JV)throw Error("Cannot call init() / normalize() twice");this.JV=!0;l.assert(this.Fha());return this.Fra();};m.prototype.$Tb=function(d,g){l.assert(this.JV,"expected to be called init() before renormalize");this.N=d;this.Pd=g;d=f.lua(this.config,this.Tk,this.Pd);this.v8();return d;};m.prototype.Zc=function(){this.yL || (this.yL=!0,this.p3a=void 0,this.O.Tt.removeListener("onHeaderFragments",this.lRa));};m.prototype.Fra=function(){var d,g,h;if(this.yL)return {lU:!1,uC:!1};g=this.eOb();h=!1;this.N && !this.N.Wr && (h=this.v8());null === (d=this.p3a) || void 0 === d?void 0:d.call(this,g,h);this.Zc();return {lU:g,uC:h};};m.prototype.Fha=function(){return this.Tk.every(function(d){return d.track.ie;});};m.prototype.eOb=function(){var d,g;d=c.__read(f.N2a(this.config,this.Tk,this.Jc,this.Pd,this.splice),2);g=d[0];return d[1] || void 0 === this.Tk.get(1) && g;};m.prototype.v8=function(){var d,g,h;l.assert(this.N);l.assert(!this.N.Wr);d=this.Tk.AX;g=f.P2a(this.config,d,this.N.Eg);if(void 0 === g || void 0 === d.Pd)return !1;d=d.Pd;h=this.config.rxa && "immediate" !== this.N.me?f.o1a(this.console,this.N,this.Tk):[];this.N.normalize(g,d,h);return !0;};return m;})();b.xHa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.JCa=void 0;c=a(387);f=a(123);l=a(243);m=a(244);d=a(5);r=(function(){function g(h,k,n,p,q,v,u,t){this.gb=h;this.track=k;this.v$=n;this.config=p;this.console=q;this.events=u;this.wPb=t;this.un=0;this.X4a=this.ql=!1;this.$k=this.mxb(v);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ya:{get:function(){return this.gb.N.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rg:{get:function(){return this.gb.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{OT:{get:function(){return this.v$;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Li:{get:function(){return this.v$;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{az:{get:function(){return this.gb.az;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Cf:{get:function(){return this.Be || (this.Be=this.xt());},enumerable:!1,configurable:!0}});g.prototype.aD=function(){return this.track.l8;};g.prototype.Pr=function(){return this.track.ie;};g.prototype.di=function(){return !1;};g.prototype.cXa=function(){return {W:[],U8:0,Sk:0};};g.prototype.BZb=function(){var h;d.assert(this.Pr());h=this.Cf;this.Be=void 0;return h;};g.prototype.m$a=function(h){return (h=h.bE(this.Cf))?{rn:h,reason:"success"}:{rn:h,reason:"pipelineTryIssueHeaderRequest"};};g.prototype.cancel=function(){this.Be && (this.gb.O.XK(this.mediaType,this.Be),f.fp.instance.QL(this.Be),this.Be.removeAllListeners(),this.Be=void 0);};g.prototype.mxb=function(h){var k,n;k=0 === this.mediaType?this.config.aQa:this.config.gwa;h=new l.qea(h);h.vY(this.track);n=this.config;return new m.rea(k,this.config,h,0 === this.mediaType?n.cla:n.dla);};g.prototype.xt=function(){var h,k;h=this;k=c.xt(this.mediaType,this.track.O,this.config,this.console,function(n){return h.events.emit("transportReport",n);},function(){});k.on("created",this.wPb);return k;};return g;})();b.JCa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hKa=void 0;r=(function(){function a(c,f){this.H=c;this.Qh=f;this.iwa=!1;}a.prototype.Fh=function(c,f,l,m,d,g){this.iwa || (this.iwa=!0,c={type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:m,httpCode:d,nativeCode:g,viewableId:f},this.H.error("notifyStreamingError: " + JSON.stringify(c)),this.Qh.emit("error",c));};a.prototype.qn=function(){return this.iwa;};return a;})();b.hKa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Bda=void 0;c=a(2);f=a(5);l=a(9);m=a(20);d=a(251);r=(function(g){function h(k){var n;n=g.call(this) || this;n.pa=k;n.Hb=[];n.SR=new d.G0({Pk:!1,currentTime:function(){return n.Ao?n.Hd:l.S.vz;},speed:1});return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{xa:{get:function(){return this.SR;},enumerable:!1,configurable:!0}});h.prototype.O2=function(k,n){var p;p=!this.pa;p && (this.pa=k,this.mfa=(null === n || void 0 === n?0:n.Ao)?n.Hd:void 0);return p;};h.prototype.WF=function(){this.Hb=[];this.mfa=void 0;};h.prototype.Ika=function(k){m.ga && f.assert(this.pa === k);this.pa=void 0;this.WF();};h.prototype.nla=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.Hb).push.apply(k,c.__spread(n));};h.prototype.vM=function(){return this.mfa?this.mfa:g.prototype.vM.call(this);};h.prototype.Do=function(){return !1;};h.prototype.wI=function(){};return h;})(a(401).Pda);b.Bda=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zHa=void 0;c=a(54);r=(function(){function f(l){this.fb=l;}Object.defineProperties(f.prototype,{bj:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.uo=function(l){var m,d;l=l.Ei;if(l === c.ce.Ln || l === c.ce.Wp){l={};m=this.fb(1);d=this.fb(0);m && (l.videoPipelineSummary=this.f9a(m));d && (l.audioPipelineSummary=this.f9a(d));return l;}};f.prototype.f9a=function(l){var m,d,g,h,k;k=l.Ra.W;return {actualStartPlayerTimestamp:null === (m=k.mj) || void 0 === m?void 0:m.T,actualPartialPlayerTimestamp:k.d4a,actualCompletePlayerTimestamp:null === (d=l.nha) || void 0 === d?void 0:d.T,segmentId:l.ya,contentStartMs:null === (g=l.Jc) || void 0 === g?void 0:g.T,contentEndMs:null === (h=l.Pd) || void 0 === h?void 0:h.T,streamingPlayerMs:l.Li.T,isStreamable:l.aD(),isNormalized:l.di(),isDoneStreaming:l.Pr(),trackNeedsHeaderRequest:l.track.l8,completedRequests:k.URa,activeRequests:l.Ra.Fp,unsentRequests:l.Ra.As,bytes:{current:k.fa,received:k.J5a,partial:k.Sk,completed:k.qC,unsent:k.g_b}};};return f;})();b.zHa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.eIa=void 0;c=a(2);f=a(20);l=a(54);m=a(404);r=(function(){function d(g){this.jRb=g;}Object.defineProperties(d.prototype,{bj:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tD:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});d.prototype.uo=function(g){var h;g=g.Ei;if(g === l.ce.Wp || g === l.ce.Ln){h={};this.jRb.forEach(function(k,n){var p;p=m.Bma(k);h[n]=c.__assign({probabilities:k.Rg.map(function(q){return {duration:q.duration,immediate:q.TC,seamless:q.Qe};})},p);});return h;}};return d;})();b.eIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;r=(function(){function a(c,f,l){this.Uf=c;this.H=f;this.events=l;this.oO=[];}a.prototype.yi=function(c){var f;f=this;this.oO.push(c);this.Uf.Pwb(function(){f.j$a(c,{dJb:!0});},c.UQa,c.Vv);};a.prototype.LKb=function(c){var f,l;f=this;l={Ei:c};this.oO.forEach(function(m){f.j$a(m,l);});};a.prototype.j$a=function(c,f){var l,m;try{l=c.ig(f);m=l.event;l.f8a && this.events.emit(c.Vv,m);}catch(d){this.H.error("Error generating event for " + c.Vv,d);}};return a;})();b.yEa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.$r=b.EYa=b.L_a=void 0;c=a(9);f=a(5);l=a(20);b.L_a=function(d,g){d=d.Aa[g.ya];if(void 0 === d)return !1;if(void 0 === d.Oc || null === d.Oc)throw Error("Cannot validate graph position without endTimeMs");d=d.Oc - d.wc;return 0 <= g.offset.T && g.offset.T < d;};m=c.S.tb(100);b.EYa=function(d,g){if(d === g)return !0;if(d && g && d.ya === g.ya){if(d.offset === g.offset)return !0;d=c.S.abs(d.offset.Ca(g.offset));if(m.greaterThan(d))return !0;}return !1;};b.$r=function(d,g,h){var k,n,p,q;p=g.pa;g=g.DIb;void 0 === h && (h={});q=p.Ga;p=p.navigator;q=p.Ne(null !== (k=null === g || void 0 === g?void 0:g.id) && void 0 !== k?k:q.ff);k=null !== (n=null === g || void 0 === g?void 0:g.oVb) && void 0 !== n?n:q.Eg;if(k.greaterThan(d))return h.s8a?{offset:d.Ca(k),ya:q.id}:void 0;g=p.aKb(q);for(p=g.next();!p.done;){n=p.value;p=n.Kk.Ca(n.Eg);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.Ca(q),l.ga && f.assert(d.zo(c.S.bb) && d.lessThan(p)),{ya:n.id,offset:d});p=g.next();if(p.done && h.t8a)return {ya:n.id,offset:d.Ca(q)};}};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gCa=void 0;r=a(2);c=a(16);f=r.__importDefault(a(39)).default.$G;l=r.__importDefault(a(143));m=r.__importDefault(a(6));d=a(174);g=a(27);h=a(5);a=(function(){function k(n,p,q,v,u){this.config=n;this.mXb=p;this.navigator=q;this.events=v;this.console=u;n=d.GM(this.config);this.R4a=[n.GD,n.l9];}k.prototype.tVb=function(n,p,q,v,u,t,w){var x,y,z,A,B,D,E;y=[];if(!this.n4a(u.track))return {stream:B,XO:y,reason:"locationSelectionFailure"};z=u.$k;A=z.Gg;B=A.au;D=t?t.dn(u.track.$d,n):u.track.$d;if(0 === D.length && (null === t || void 0 === t?0:t.Ksb))return {stream:void 0,XO:y,reason:"allStreamsFiltered"};B && !B.track.equals(u.track) && (B=this.TBb(B,D));if(0 === u.mediaType && B && !this.RWb(A,B))return {stream:B,XO:y};n=this.bxb(n === c.Dc.ud?c.ma.ud:n === c.Dc.If?c.ma.If:n === c.Dc.BR?c.ma.ud:n === c.Dc.Fj?c.ma.Ec:c.ma.qh,p,v,u,! !w);z=z.bva(n,D,void 0,this.R4a[u.mediaType],!0,u.track.O.Xp);if(!z)return {stream:B,XO:y,reason:"streamSelectionFailure"};if(z.reason){E={reason:z.reason,ava:z.Ut,xz:z.xz,Bo:z.Bo,Co:z.Co};this.gja(u.mediaType,D,q);}this.Wzb(u.mediaType,z,D);B=D[z.Ge];A.Q7a(B);if(null === (x=z.Qy) || void 0 === x?0:x.length)y=z.Qy.map(function(F){return g.dg(D,function(C){return C.id === F;});}).filter(g.w8);q=z.ju;return void 0 !== E?{stream:B,XO:y,vVb:E,ju:q}:{stream:B,XO:y,ju:q};};k.prototype.ija=function(n,p,q,v,u,t,w){var x,y,z;if(!c.nq(p))return {complete:!0,reason:"playing"};if(!t.X4a)return {complete:!1,reason:"unknown"};if(t.ZPb)return (h.assert(t.G3a),t.G3a);x=t.$k;y=x.Gg;q=this.lWa(t,q);z=y.au;y=q.bm - q.Gc;if(y < this.config.hj || void 0 === z)return {complete:!1,jC:y,reason:"preBuf"};if(0 === t.mediaType)return {complete:!0,jC:y,reason:"audio"};if(n=n.oRa(t.mediaType))return {complete:!0,jC:y,reason:n};this.n4a(t.track);x.hta([z],!1,q,this.R4a[t.mediaType]);p=x.By(q,p,u,z,{yt:w});if(!p.complete && v)return {complete:!0,reason:"prebufferTimeLimit",jC:y};p.jC=y;return p;};k.prototype.Wzb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};k.prototype.Vzb=function(n,p,q,v){n={type:"maxVideoBitrateChanged",time:m.default.time.ea(),streaming:v,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};k.prototype.TBb=function(n,p){var q;q=p[0];p.filter(function(v){return v.$t;}).every(function(v){return v.bitrate <= n.bitrate?q=v:!1;});return q;};k.prototype.RWb=function(n,p){return 0 < this.config.gP.length?!0:(n=n.jN) && n === p.location?!1:!0;};k.prototype.n4a=function(n){return n.O.lm.nZ(n.O.Z,n.$d);};k.prototype.lWa=function(n,p){var B;for(var q,v=p.Ca(this.mXb),u=[],t=n,w=p,x,y,z=0,A=!0;t;){B=t.cXa(v);if(!A && !t.ql)break;0 < B.W.length && (w=B.W[0].mj,void 0 === x && (x=B.W[B.W.length - 1].te,y=B.U8 >= B.W.length?x:B.W[B.U8].mj),u=B.W.concat(u),z+=B.Sk);t=this.navigator.parent(t);A=!1;}return {Mv:m.default.vo()[n.mediaType],Y:Math.floor(w.T),Gc:p.T,Cc:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.T) && void 0 !== q?q:p.T),bm:Math.floor(y?y.T:p.T),Sg:u.reduce(function(D,E){return D + E.fa;},0),Sk:z,QVa:u.length,W:u};};k.prototype.bxb=function(n,p,q,v,u){var t,w,x;t=this.lWa(v,p);w=1 === v.mediaType?this.config.tZ:this.config.kT;x=l.default.instance();return {state:n,pq:n === c.ma.Ec,Wd:v.un,playbackRate:q,buffer:t,Tka:w,O0a:!1,XL:u,Fp:null === x || void 0 === x?void 0:x.Fp,mediaType:v.mediaType,Gc:p.T,Rr:!1,cpa:!1,z9:0};};k.prototype.gja=function(n,p,q){var t,w;if(1 === n){n="manifest";for(var v=0,u=p.length - 1;0 <= u;--u){t=p[u];w=t.bitrate;if(f(t)){v=Math.max(v,w);break;}else this.config.HY && !t.Ht?n="bc":t.Yt?t.pz && (n="hf"):n="av";}this.J1a !== v && (this.Vzb(this.J1a,v,n,q),this.J1a=v);}};return k;})();b.gCa=a;},function(r,b,a){var l,m;function c(d,g,h,k,n){var p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I;x=d.console;y=d.h_b;z=d.Ci;A=d.vUb;B=d.izb;D=d.pra;E=d.yia;d=d.WPb;F=n || ({complete:!0,Qq:0});C=F.root;G=F.complete;J=F.bpb;K=F.u6a;K=void 0 === K?0:K;F=F.Qq;H=K < A.length && A[K] === g.id;L=k && z.get(k.id);R=n && k && L !== g.id?void 0 !== L?{Qe:0}:k.tsb(g.id):{Qe:1};z=R.Qe;R=R.TC;I=void 0 === R?0:R;R=(z + I) * (null !== (p=null === n || void 0 === n?void 0:n.gSb) && void 0 !== p?p:1);m && x.trace("reevaluateBranches: visiting " + g.id + ", distance: " + (h + ", probability: ") + (R + ", predecessor: ") + ((null === k || void 0 === k?void 0:k.id) + ", decision: ") + (L + ", predecessorComplete: ") + (G + ", isOnRequiredPath: ") + (H + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (J + ", seamless ") + (z + ", immediate ") + (I + ", predecessor sum of: successor weights=") + ((null === k || void 0 === k?void 0:k.pwa) + ", immediate weights= ") + (null === k || void 0 === k?void 0:k.E$));p=null !== (v=null === (q=y[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== v?v:g.duration.T;q=0 === p;if(!H){if(0 === R)return {uaa:!1};if(!G && 0 === I && F > E)return (d.yC=Math.min(d.yC || Infinity,F - E),{uaa:!1});if(!q && h >= B && 1 > R || !1 === C && R < D)return {uaa:!1};}K < A.length && l.assert(A[K] === g.id,"");n=null !== (u=null === n || void 0 === n?void 0:n.Rg) && void 0 !== u?u:[];k && 1 > z && (0 === I?n=n.concat([{Qe:z}]):(u=(null === (w=null === (t=k.N.bq) || void 0 === t?void 0:t[0]) || void 0 === w?void 0:w[0]) || 0,t=Math.max(0,k.duration.T - u),m && x.trace("reevaluateBranches: immediate: " + k.duration.T + ", " + u + ", " + t),n=n.concat([{Qe:z,TC:I,duration:t}])));d.t6a.push({N:g,su:null === k || void 0 === k?void 0:k.id,Rg:n});h=G?h + g.duration.T:J;m && x.trace("reevaluateBranches: added " + g.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {uaa:!0,state:{root:!k,complete:q,gSb:R,Rg:n,bpb:h,u6a:K + 1,Qq:F + p}};}function f(d,g,h,k){k("reevaluateBranches: " + Array(h + 1).join(" ") + d.N.id + " (" + (JSON.stringify(d.Rg) + ")"));g.filter(function(n){return n.su === d.N.id;}).forEach(function(n){return f(n,g,h + 1,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.uZb=b.Q0b=b.B9=void 0;l=a(5);m=a(20).ga && !1;b.B9=function(d,g,h,k,n,p,q,v,u){var t,w,x,y;w={t6a:[]};x=(null === (t=h.Kk) || void 0 === t?void 0:t.Ca(h.Eg).T) || 0;0 < p.length && l.assert(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(p));y={console:d,h_b:k,Ci:n,vUb:p,izb:q.T + x,pra:v,yia:u.T,WPb:w};g.P0b(h,function(z,A,B,D){return c(y,z,A,B,D);});return w;};b.Q0b=c;b.uZb=function(d,g){f(d[0],d,0,g);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oIa=void 0;c=a(2);f=a(403);r=(function(){function l(m){this.Ga=m;this.Aa={};}l.prototype.Ne=function(m){var d;d=this.Aa[m];if(void 0 === d){d=this.Ga.Aa[m];if(void 0 === d)throw Error("Segment not found (" + m + ")");d=new f.tIa(m,d,this.Ga.me);this.Aa[m]=d;}return d;};l.prototype.VDb=function(m){var d;d=this;return m.N.next?Object.keys(m.N.next).map(function(g){return d.Ne(g);}):[];};l.prototype.aKb=function(m){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,m];case 1:(g.kd(),d=m,g.label=2);case 2:if(!d.N.Zh)return [3,4];d=this.Ne(d.N.Zh);return [4,d];case 3:return (g.kd(),[3,2]);case 4:return [2];}});};l.prototype.iHb=function(m,d){return f.o_a(m.MM(d));};l.prototype.ki=function(m){var d;d=this;Object.keys(m).forEach(function(g){var h;return null === (h=d.Ne(g)) || void 0 === h?void 0:h.ki(m[g]);});};return l;})();b.oIa=r;},function(r,b,a){var l,m,d;function c(g,h){var k,n;k=Object.keys(g);if(k.some(function(p){var q,v,u,t;return (null === (q=g[p]) || void 0 === q?void 0:q.me) !== (null === (v=h[p]) || void 0 === v?void 0:v.me) || (null === (u=g[p]) || void 0 === u?void 0:u.weight) !== (null === (t=h[p]) || void 0 === t?void 0:t.weight);}))return !0;n=Object.keys(h);return 0 !== l.__spread(m.ft(k,n),m.ft(n,k)).length?!0:!1;}function f(g,h){return g.some(function(k,n){var p;return 0 !== m.ft(k,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || g.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.XQa=b.eSa=void 0;l=a(2);m=a(27);d=a(901);b.eSa=function(g){return new d.IAa(function(h){return Object.keys(h.N.next || ({})).map(function(k){var n,p,q;k=g.Ne(k);q=null !== (p=null === (n=h.Kk) || void 0 === n?void 0:n.Ca(h.Eg).T) && void 0 !== p?p:Infinity;return {B0b:k,weight:q};});});};b.XQa=function(g,h){var k,n,p,q,v,u;k=Object.keys(g.Aa);n=Object.keys(h.Aa);p=n.filter(function(t){return -1 === k.indexOf(t);});q=k.filter(function(t){return -1 === n.indexOf(t);});v=k.filter(function(t){var w,x,y,z,A;if(-1 === n.indexOf(t))w=!1;else {w=g.Aa[t];t=h.Aa[t];w=w.Zh !== t.Zh || w.Oc !== t.Oc || w.wc !== t.wc || w.me !== t.me || w.Z !== t.Z || f(null !== (x=w.bq) && void 0 !== x?x:[],null !== (y=t.bq) && void 0 !== y?y:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=t.next) && void 0 !== A?A:{})?!0:!1;}return w;});u=m.ft(k,l.__spread(v,p,q));return {Kpb:p,mO:q,ctb:v,a_b:u};};},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.IAa=void 0;c=a(5);f=a(237);l=a(902);m=a(405);r=(function(){function d(g){this.Nzb=g;this.Exa=!1;this.vaa=new l.Zda();this.Hw=new l.Zda();this.vPa=new m.Yda();}d.prototype.P0b=function(g,h){var n,p,q;function k(){var t,w,x,y,z,A;t=v.pop();w=q.get(t);x=w.su;y=w.TL;w=w.state;if(!u.vaa.has(t)){u.vaa.add(t);x=h(t,y,x,w);z=x.uaa;A=x.state;p(t).forEach(function(B){var D,E;D=B.B0b;if(!n.vaa.has(D) && (B=y + B.weight,z))if(n.Hw.has(D)){E=n.vPa.get(D);B < E.TL && (E.TL=B,E.su=t,E.state=A,v.fSb(D));}else (n.Hw.add(D),q.set(D,{TL:B,su:t,state:A}),v.push(D));});}}n=this;p=this.Nzb;q=this.vPa;c.assert(!this.Exa);this.Exa=!0;this.vaa.clear();this.Hw.clear();q.set(g,{TL:0,state:{root:!1,complete:!0,u6a:0,Qq:0}});for(var v=new f.W_([g],function(t,w){return q.get(t).TL - q.get(w).TL;}),u=this;!v.empty;){k();}this.Exa=!1;};return d;})();b.IAa=r;},function(r,b){var f,l,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.FLa);}function c(d){return (a(d)?d:Object.defineProperties(d,{FLa:{value:{},configurable:!1,enumerable:!1}})).FLa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zda=void 0;l=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;m=Date.now() % l;r=(function(){function d(){this.f$=0;this.id=m=(m + 1) % l;}d.prototype.add=function(g){c(g)[this.id]=this.f$;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.f$;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.f$=(this.f$ + 1) % l;return this;};return d;})();b.Zda=r;},function(r,b,a){var f,l,m,d;function c(g){return {value:g.gb,parent:g.su};}Object.defineProperties(b,{__esModule:{value:!0}});b.fIa=void 0;f=a(9);l=a(27);m=a(5);d=a(904);r=(function(){function g(){this.Hb=new f.QFa();this.zs=new d.PKa();}Object.defineProperties(g.prototype,{empty:{get:function(){return this.Hb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.Hb.size;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var h;h=this.Hb.values();this.Hb.clear();this.zs.clear();h.forEach(function(k){return k.xf();});};g.prototype.ez=function(h){return this.Hb.get(h);};g.prototype.has=function(h){return this.Hb.has(h);};g.prototype.SU=function(h){this.zs.SU(h);};g.prototype.ona=function(h){return this.zs.parent(h);};g.prototype.HDb=function(h){return this.zs.children(h);};g.prototype.aoa=function(h){return this.zs.aoa(h);};g.prototype.dua=function(h){var k;if(this.Hb.delete(h.N.id,h)){k=this.zs.children(h);this.zs.root === h?0 === k.length?this.zs.clear():(m.assert(1 === k.length,"cannot remove the root branch with multiple successors"),this.zs.cUb(k[0])):(m.assert(0 === k.length,"cannot remove non-root branch with successors"),this.zs.remove(h));}};g.prototype.forEach=function(h){var k;k=this;this.Hb.forEach(function(n,p){return h(n,p,k);});};g.prototype.reduce=function(h,k){var n;n=this;return this.Hb.reduce(function(p,q,v){return h(p,q,v,n);},k);};g.prototype.map=function(h){var k;k=this;return this.Hb.map(function(n,p){return h(n,p,k);});};g.prototype.filter=function(h){var k;k=this;return this.Hb.filter(function(n,p){return h(n,p,k);});};g.prototype.vGb=function(){var h;h={};this.forEach(function(k,n){var p;(k=k.Qq) && (null !== (p=h[n]) && void 0 !== p?p:h[n]=[]).push(k.T);});return h;};g.prototype.m_b=function(h,k){var n;n=this;h=this.fMb(h,k).target;k=this.zs.YSb(h.map(c));h=k.mO;k=k.i6a;h.forEach(function(p){return n.Hb.delete(p.N.id,p);});return {mO:h,i6a:k.map(function(p){return p.value;})};};g.prototype.fMb=function(h,k){var p,q;function n(v,u){(v=k(v.N.id,u)) && p.Hb.set(v.N.id,v);return v;}p=this;q=[];return {target:h.reduce(function(v,u,t){var w,x;m.assert(0 === t || u.su);if(u.su){x=null === (w=l.MPa(v,function(y){return y.gb.N.id === u.su;})) || void 0 === w?void 0:w.gb;if(!x)return (m.assert(void 0 !== l.dg(q,function(y){return y.N.id === u.su;}),"predecessorSegmentId " + u.su + " specified without previously specifying predecessor requiredBranch."),q.push(u),v);}w=l.dg(p.ez(u.N.id),function(y){return p.zs.parent(y) === x || 0 === t;});w=null !== w && void 0 !== w?w:n(u,x);w.Rg=u.Rg;v.push({gb:w,su:x});(null === w || void 0 === w?0:w.AV) && w.update(u.N);return v;},[])};};return g;})();b.fIa=r;},function(r,b,a){var f,l,m;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(g,h){return 0 === h || m.Ip(d,function(k){return k.value === g.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=void 0;f=a(405);l=a(5);m=a(27);r=(function(){function d(){this.K=new f.Yda();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.yA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var g;return null === (g=this.yA) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var g;g=[];this.SU(function(h){return ! !g.push(h);});return g;},enumerable:!1,configurable:!0}});d.prototype.has=function(g){return ! !this.K.get(g);};d.prototype.parent=function(g){var h;g=this.K.get(g);l.assert(g,"Attempted to find the parent of a node not in the tree");return null === (h=g.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(g){g=this.K.get(g);l.assert(g,"Attempted to find the children of a node not in the tree");return g.children?g.children.map(function(h){return h.value;}):[];};d.prototype.aoa=function(g){g=this.K.get(g);l.assert(g,"Attempted to find the children of a node not in the tree");return void 0 !== g.children && 0 < g.children.length;};d.prototype.add=function(g,h){var k;l.assert(!this.K.get(g),"Attempted to add a value to tree that is already present");k={value:g};void 0 === this.yA?(l.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.yA=k):(l.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.K.get(h),l.assert(h,"Parent value does not exist in tree"),this.ZPa(k,h));this.K.set(g,k);return this;};d.prototype.remove=function(g){g=this.K.get(g);l.assert(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};d.prototype.removeNode=function(g){var h;h=this;this.cma(function(k){return h.K.delete(k);},g.value);void 0 === g.parent?this.yA=void 0:this.detach(g);};d.prototype.move=function(g,h){g=this.K.get(g);h=this.K.get(h);l.assert(g,"cannot move a value that is not in the tree");l.assert(h,"cannot move a value to a parent value not in the tree");l.assert(g.parent,"cannot move the root node");l.assert(!this.ZIb(g,h),"cannot move a node below itself or one of its decendants");g.parent !== h && (this.detach(g),this.ZPa(g,h));return this;};d.prototype.cUb=function(g){var h,k;h=this;g=this.K.get(g);l.assert(g,"cannot replant at a value that is not in the tree");k=[];this.detach(g);this.cma(function(n){h.K.delete(n);k.unshift(n);return !0;});this.yA=g;};d.prototype.clear=function(){this.yA && this.remove(this.yA.value);return this;};d.prototype.GVa=function(g,h){var k,n;k=this;g=this.K.get(g);l.assert(g,"cannot iterate children of a value not in the tree");null === (n=g.children) || void 0 === n?void 0:n.forEach(function(p){return h(p.value,k);});};d.prototype.SU=function(g,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.yA.value,g(h,this) && this.GVa(h,function(n){return k.SU(g,n);}));};d.prototype.cma=function(g,h){var k;k=this;l.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.yA.value,this.GVa(h,function(n){return k.cma(g,n);}),g(h,this));};d.prototype.YSb=function(g){var h,k,n;h=this;l.assert(c(g),"entries must be in topological order");if(0 === g.length){k=this.values;n=[];this.clear();}else (n=g.filter(function(p){return h.has(p.value) && p.parent !== h.parent(p.value);}),k=this.values.filter(function(p){return -1 === m.Ip(g,function(q){return q.value === p;});}),this.clear(),g.forEach(function(p){return h.add(p.value,p.parent);}));return {mO:k,i6a:n};};d.prototype.ZPa=function(g,h){var k;g.parent=h;(null !== (k=h.children) && void 0 !== k?k:h.children=[]).push(g);};d.prototype.detach=function(g){var h;l.assert(g.parent,"cannot detach the root");l.assert(void 0 !== g.parent.children,"logic error: parent node does not have children");h=g.parent.children.indexOf(g);l.assert(0 <= h,"logic error: node does not appear in the children of its parent");g.parent.children.splice(h,1);g.parent=void 0;};d.prototype.ZIb=function(g,h){for(;void 0 !== h;){if(h === g)return !0;h=h.parent;}return !1;};return d;})();b.PKa=r;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cza=void 0;c=a(2);f=c.__importDefault(a(6));l=a(16);m=a(9);d=a(21);g=a(5);h=a(118);k=a(71);r=(function(){function n(p,q,v,u,t,w,x){var y;y=this;void 0 === x && (x=500);this.H=p;this.config=q;this.Pb=v;this.events=u;this.qla=t;this.Uf=w;this.Vrb=x;this.nta=this.sl=0;this.Q7=[];this.t4={yt:0};this.state=new m.er(l.Dc.Ri);this.rf=new m.er(l.ma.qh);this.ji=new h.AB({mD:10,iu:this,source:"BufferStateTracker",Cha:function(){return {isBuffering:y.jg,alwaysRunUnderflowTimer:y.config.aL};}});}Object.defineProperties(n.prototype,{yt:{get:function(){return this.t4.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jg:{get:function(){return l.nq(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.jaa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(v){0 === v.mediaType && (q.LQa=c.__assign(c.__assign({},q.LQa),{audio:{trackId:v.trackId,trackIndex:v.aE}}));});};n.prototype.u3a=function(p){this.set(l.Dc.Ri);this.vI(p,l.Dc.ud);};n.prototype.C8=function(){this.t4.yt++;};n.prototype.$W=function(p){this.config.aL || void 0 === this.Iz && this.jg && this.cka();this.Iz={SC:p.httpCode,ah:p.errorCode,ij:p.nativeCode};};n.prototype.L8=function(){this.Iz=void 0;this.config.aL || this.W3();};n.prototype.gk=function(p){this.jg || (this.vI(p,l.Dc.If),this.jg && (this.Iz || this.config.aL) && this.cka());};n.prototype.EPb=function(p,q){this.state.value !== l.Dc.ud && this.vI(p,l.Dc.BR);this.jaa(q);};n.prototype.bPb=function(p,q){var v;v=this;this.config.Urb && this.jg && (-1 === this.Q7.indexOf(p) && this.Q7.push(p),2 === this.Q7.length && Promise.resolve().then(function(){v.jg && void 0 !== v.Ow && v.Le("memoryLimit",q.bZ,q.cZ);}));};n.prototype.NVb=function(p,q){g.assert(this.state.value === l.Dc.ud && void 0 === this.Ow);this.Ow=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.aE}),this.jaa(q));};n.prototype.$Vb=function(p,q,v){g.assert(this.jg);this.Poa=null !== p && void 0 !== p?p:this.Poa;this.KV=null !== q && void 0 !== q?q:this.KV;void 0 === this.x6?this.x6=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.x6.reason=v.reason);};n.prototype.Le=function(p,q,v){var u;g.assert(this.jg && void 0 !== this.Ow && void 0 === this.QF && void 0 === this.paa && void 0 === this.w2);this.QF=p;this.paa=q;this.w2=v;this.Mp=100;this.xRa();this.W3();null === (u=this.kja) || void 0 === u?void 0:u.Kb();this.state.value === l.Dc.If && (this.nta=f.default.time.ea());this.j4();this.set(l.Dc.Fj);this.w2=this.paa=this.QF=this.x6=this.KV=this.Poa=this.Ow=void 0;};n.prototype.stop=function(){var p;this.set(l.Dc.Ri);this.xRa();this.W3();null === (p=this.kja) || void 0 === p?void 0:p.Kb();};n.prototype.jja=function(p,q,v,u){var t,w,x,y,z,A,B,D,E,F;t=this;g.assert(this.jg);null === (w=this.kja) || void 0 === w?void 0:w.Kb();if(this.state.value === l.Dc.If && f.default.time.ea() < this.nta + this.config.ora){z=this.config.ora - (f.default.time.ea() - this.nta);this.kja=this.Uf.XT(k.zk.WI(d.S.tb(z)),function(){t.jja(p,q,v,u);});}else {w=v.BM(0);A=v.BM(1);B=f.default.time.ea() - this.sl;if(w || A){D=function(C){return C?C.aD() || C.Pr()?u.ija(t.state.value,p,B >= t.config.kA,q,C,t.yt):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};E=D(w);D=D(A);F=function(C){var G;return {reason:C.reason,complete:C.complete,bl:null !== (G=C.jC) && void 0 !== G?G:0};};this.ji.hy({as:F(E),vs:F(D),bt:B});F=A?D:E;F.F0b=A && D.jC || 0;F.Nqb=w && E.jC || 0;E.complete && D.complete?(F.complete=!0,this.Le(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.F0b) && void 0 !== x?x:0,null !== (y=F.Nqb) && void 0 !== y?y:0)):(F.complete=!1,this.lsb(F),this.ji.hy({bp:this.Mp}));}}};n.prototype.lsb=function(p){var q,v,u;u=p.progress;p.hD?u=(f.default.time.ea() - this.sl) / this.config.kA:u || (u=(null !== (q=p.jC) && void 0 !== q?q:0) / this.config.hj);p=Math.min(Math.max(Math.round(100 * u),null !== (v=this.Mp) && void 0 !== v?v:0),99);p != this.Mp && (this.Mp=p);};n.prototype.vI=function(p,q){g.assert(q === l.Dc.ud || void 0 !== p);this.Ow=p;this.Mp=0;this.y8=void 0;this.t4.yt=0;this.Q7=[];p=this.state.value === l.Dc.ud || this.state.value === l.Dc.If;this.sl=f.default.time.ea();this.set(q);p || (this.Uzb(),this.wWb());};n.prototype.set=function(p){this.state.set(p);switch(p){case l.Dc.Ri:this.rf.set(l.ma.Ri);break;case l.Dc.ud:case l.Dc.BR:this.rf.set(l.ma.ud);break;case l.Dc.If:this.rf.set(l.ma.If);break;case l.Dc.Fj:this.rf.set(l.ma.Ec);}};n.prototype.Uzb=function(){g.assert(this.events && void 0 !== this.Mp);this.y8=this.Mp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.ea(),percentage:this.Mp});};n.prototype.wWb=function(){var p;p=this;this.Ira=setInterval(function(){return p.Tzb();},this.Vrb);};n.prototype.xRa=function(){this.Ira && (clearInterval(this.Ira),this.Ira=void 0);};n.prototype.Tzb=function(){this.jg && this.events && void 0 !== this.Mp && this.Mp !== this.y8 && this.events.emit("buffering",{type:"buffering",time:f.default.time.ea(),percentage:this.Mp}) && (this.y8=this.Mp);};n.prototype.j4=function(){var p;g.assert(this.events && this.Ow && void 0 !== this.QF && void 0 !== this.w2 && void 0 !== this.paa);this.y8=this.Mp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.ea(),actualStartPosition:this.Ow,reason:this.QF,aBufferLevelMs:this.w2,vBufferLevelMs:this.paa,selector:this.Poa,initBitrate:this.KV,initSelReason:null === (p=this.x6) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.yac},this.LQa));};n.prototype.cka=function(){var p;p=this;this.config.aab && (!this.RA || this.RA.state !== k.Jm.complete && this.RA.state !== k.Jm.RL?void 0 === this.RA && (this.RA=this.Uf.jG(function(){return p.t$a();},"underflow")):this.RA.vm());};n.prototype.W3=function(){this.RA && (this.RA.state !== k.Jm.RL && this.RA.Kb(),this.RA=void 0);};n.prototype.t$a=function(){var p,q,v;return c.__generator(this,function(u){switch(u.label){case 0:return (p=this.config.A7,this.H.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,k.zk.WI(d.S.tb(p))]);case 1:(u.kd(),u.label=2);case 2:if(!this.jg)return [3,4];q=this.Pb.a0a || 0;v=f.default.time.ea() - q;if(v >= p)return (this.H.trace("Forcing streaming failure, " + v + "ms since data received"),this.qla.GPb(this.Iz),[2]);this.H.trace("BufferingStateTracker: network activity, wait " + (p - v) + "ms");return [4,k.zk.WI(d.S.tb(p - v))];case 3:return (u.kd(),[3,2]);case 4:return [2];}});};c.__decorate([h.$b({methodName:"onTemporaryNetworkError",em:!0})],n.prototype,"$W",null);c.__decorate([h.$b({methodName:"onUnderflow",em:!0})],n.prototype,"gk",null);c.__decorate([h.$b({methodName:"bufferingComplete",em:!0})],n.prototype,"Le",null);c.__decorate([h.$b({methodName:"stop",em:!0})],n.prototype,"stop",null);c.__decorate([h.$b({methodName:"checkStreamingBufferingComplete",em:!0})],n.prototype,"jja",null);c.__decorate([h.$b({methodName:"createUnderflowTask",em:!0})],n.prototype,"cka",null);c.__decorate([h.$b({methodName:"destroyUnderflowTask",em:!0})],n.prototype,"W3",null);c.__decorate([h.$b({methodName:"onUnderflowTimeout",em:!0})],n.prototype,"t$a",null);return n;})();b.cza=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TUa=void 0;c=a(27);b.TUa=function(f,l){var m;m=[];f=f.filter(function(d){return d.AV;}).map(function(d){var g,h;g=l(d.O);h=c.ft(g,d.pg).map(function(k){return k.mediaType;});m=c.Sha(m,h);return {gb:d,pg:g};});return {dtb:m,Nrb:f};};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DJa=void 0;c=a(2);f=a(21);l=a(5);b.DJa=(function(){function m(){}m.CGb=function(d){var g,h,k;if(d.di){d=c.__read(d.pg,2);k=d[1];d=null === (g=d[0].Yo) || void 0 === g?void 0:g.Kk;g=null === (h=null === k || void 0 === k?void 0:k.Yo) || void 0 === h?void 0:h.Kk;l.assert(d);h=g?f.S.min(d,g):d;return {M0b:d,O0b:h};}};return m;})();},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=void 0;c=a(18);f=a(9);l=a(71);m=a(20);d=a(16);r=(function(){function g(h,k,n,p,q,v){this.Uf=h;this.Ds=k;this.config=n;this.POb=p;this.Lf=q;this.console=v;this.xfa=new c.Nh();}g.uDb=function(h){var k;return null !== (k=h.te) && void 0 !== k?k:h.ZN;};g.oEb=function(h){var k,n;k=h.N;n=h.GN;return k.Zh?k.Zh:n.length?n[0]:h.cA[0];};g.prototype.Jwa=function(h,k){var n,p,q,v;n=this;q=h.N;this.reset();if(!(q.Ou || 1 >= q.cA.length && (null === (p=q.Kw) || void 0 === p || !p.length))){v=this.msb(h);p=v.Sua;k=k.lessThan(v.gIb);this.cVb(q,k?p:void 0);if(k)this.xfa.on(h.events,"branchEdited",function(){n.Jwa(h,n.Uf.xa.currentTime);});}};g.prototype.wRa=function(){var h;null === (h=this.eTa) || void 0 === h?void 0:h.Kb();this.eTa=void 0;};g.prototype.reset=function(){this.wRa();this.xfa.clear();};g.prototype.msb=function(h){var k,n;h=g.uDb(h);k=f.S.tb(this.config.pD);n=f.S.tb(this.config.vNb + this.config.EW);k=h.Ca(k);return {gIb:d.nq(this.Lf.value)?h.Ca(n):k,Sua:k};};g.prototype.cVb=function(h,k){var n;n=this;this.wRa();this.eTa=k?this.Uf.XT(l.zk.BP(k),function(){return n.Y0a(h);},"scheduled branch decision"):this.Ds.XT(l.zk.T0b,function(){return n.Y0a(h);},"immediate branch decision");};g.prototype.Y0a=function(h){var k;this.xfa.clear();k=g.oEb(h);m.ga && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + k);this.POb(h.id,k,!0);};return g;})();b.Wya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jWa=void 0;c=a(910);b.jWa=function(f,l){return f.reduce(function(m,d){var g;g=l(d);d.iq().forEach(function(h){return m.uha(h.mediaType,h.et,!g);});return m;},new c.nIa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nIa=void 0;c=a(406);r=(function(){function f(){this.Cr=new c.bR();this.mU=new c.bR();}Object.defineProperties(f.prototype,{total:{get:function(){var l;l=new c.bR();l.add(this.Cr);l.add(this.mU);return l;},enumerable:!1,configurable:!0}});f.prototype.add=function(l){this.Cr.add(l.Cr);this.mU.add(l.mU);};f.prototype.uha=function(l,m,d){(d?this.mU:this.Cr).uha(l,m);};return f;})();b.nIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pYa=void 0;b.pYa=function(a,c){return a.reduce(function(f,l){return f + l.h5(c).T;},0);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tSa=void 0;c=a(2);f=a(16);b.tSa=function(l){var h,k;function m(n){f.nq(n.newValue) && !f.nq(n.oldValue)?(null === k || void 0 === k?void 0:k.Kb(),k=h.XT.apply(h,c.__spread(d))):null === k || void 0 === k?void 0:k.Kb();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=l.Mf;h=l.Ds;g.state.addListener(m);m({oldValue:f.Dc.Ri,newValue:g.state.value});};},function(r,b,a){var f,l;function c(m,d){return Object.keys(m.CD).map(function(g){return m.CD[g];}).filter(function(g){return void 0 === g.MG || 1 === g.MG;}).reduce(function(g,h){return g + h.Cr[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.gKa=void 0;f=a(16);l=a(20);r=(function(){function m(d,g,h){this.Ga=d;this.console=g;this.Uma=h;}m.prototype.Lsb=function(d,g,h){var k,n,p,q;k=h && this.Ga.config.i0b;n=this.Ga.config.qxa || k;p=this.Uma();if(k){k=d.global;k=(q={},q[0]=k[0] - c(d,0),q[1]=k[1] - c(d,1),q);}q=k;p=this.oRa(g) || this.ntb(d) || this.ltb(d,p,q) || this.mtb(d,p,q,g);q=f.Rta(p);if(p && (!q || n))return (l.ga && this.console.log("canIssueRequest " + this.Ga.id + " [" + g + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});l.ga && this.console.log("canIssueRequest " + this.Ga.id + " [" + g + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};m.prototype.oRa=function(d){var g;g=this.Ga.config.Vz;if(this.Ga.dEb(d) >= (g || Infinity))return "mediaDurationLimit";};m.prototype.ntb=function(d){return d.CD[this.Ga.id].total.total > (this.Ga.x5() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.ltb=function(d,g,h){d=d.global;return h?h[0] + h[1] > (g.awa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.mtb=function(d,g,h,k){var n;n=d.global;return h?(l.ga && this.console.log("checkRequestByMediaTypeMemory [" + k + "]: using static limit " + (g.awa[k] + ", usage: " + h) + (" (global: " + n[k] + "  - certain contiguous: ") + (c(d,k) + ")")),h[k] > (g.awa[k] || Infinity)?1 === k?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (g.total[k] || Infinity)?1 === k?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.gKa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hIa=void 0;r=(function(){function a(c){this.console=c;this.oja();}a.prototype.get=function(c){return this.Q3[c] || this.Ci[c];};a.prototype.set=function(c,f){void 0 === this.Ci[c] && (this.Ci[c]=f);};a.prototype.SVb=function(c,f){void 0 === this.get(c) && (this.Q3[c]=f);};a.prototype.clear=function(c){this.Q3[c]=void 0;this.Ci[c]=void 0;};a.prototype.Itb=function(c){var f;this.Ci=(f={},f[c]=this.Ci[c],f);this.Q3={};};a.prototype.oja=function(){this.Ci={};this.Q3={};};return a;})();b.hIa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jIa=b.AE=void 0;c=a(2);f=a(5);(function(m){m[m.uba=0]="CREATED";m[m.gea=1]="STARTED";m[m.vR=2]="REQUEST_ISSUED";m[m.lx=3]="EVALUATED";})(l=b.AE || (b.AE={}));r=(function(){function m(d){this.Mw=d;this.Tc=l.uba;this.UD={};this.FY={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.Tc !== l.gea && (this.xW(l.gea),[l.lx,l.vR].forEach(function(g){var h;h=new Promise(function(k){f.assert(d.FY && d.UD,"state promises should be defined");d.FY[g]=k;d.UD[g]=h;});}),this.Mw(),this.xW(l.lx));};m.prototype.xW=function(d){this.Tc=d;this.FY && (d=this.FY[d],null === d || void 0 === d?void 0:d());};m.prototype.Kb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Tc !== l.gea)return [3,2];f.assert(this.UD,"state resolves should be defined");return [4,this.UD[l.lx]];case 1:(d.kd(),d.label=2);case 2:return (this.FY=this.UD=void 0,[2]);}});});};m.prototype.xaa=function(d,g){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Tc === l.lx)return [3,6];f.assert(this.UD,"state promises should be defined");h=d;switch(h){case l.lx:return [3,1];case l.vR:return [3,3];}return [3,5];case 1:return [4,this.UD[l.lx]];case 2:return (k.kd(),[3,6]);case 3:return [4,this.UD[l.vR]];case 4:return (k.kd(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return m;})();b.jIa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hJa=void 0;c=a(2);f=a(5);l=c.__importDefault(a(6));m=a(118);d=a(9);r=(function(){var l31;l31=2;function g(h,k){var m31,n;m31=2;for(;m31 !== 14;){switch(m31){case 7:var b0q="Re";b0q+="q";b0q+="ue";b0q+="stPac";b0q+="er";this.qq=new m.AB({iu:this,source:b0q,Cha:function(){var n31;n31=2;for(;n31 !== 1;){switch(n31){case 2:return {numOutstanding:n.pF};break;case 4:return {numOutstanding:n.pF};break;n31=1;break;}}},mD:10});this.o6a=new d.H0();m31=14;break;case 4:var f0q="1SIYb";f0q+="Z";f0q+="rNJCp9";var M0q="m";M0q+="edia|";M0q+="asejs";var o0q="ASEJS_";o0q+="REQUES";o0q+="T_";o0q+="PACE";o0q+="R";this.pF=0;this.console=new l.default.Console(o0q,M0q);this.Qua=!1;f0q;m31=7;break;case 2:n=this;this.a7=h;this.config=k;m31=4;break;}}}for(;l31 !== 13;){switch(l31){case 3:var E0q="j";E0q+="y";var F0q="ad";F0q+="dReques";F0q+="t";var e0q="F";e0q+="k";var G0q="ch";G0q+="eckReques";G0q+="tOpportu";G0q+="nity";g.prototype.pRa=function(h){var t31,k,n,p;t31=2;for(;t31 !== 9;){switch(t31){case 2:(k=this.config.z7,n=l.default.time.ea() - h,p=0);t31=1;break;case 5:t31=this.pF < k && this.a7()?4:3;break;case 1:this.o6a.push(n);t31=5;break;case 6:this.o6a.push(n);t31=3;break;t31=5;break;case 13:p--;t31=2;break;t31=5;break;case 4:p++;t31=5;break;case 3:var I0q="requestOppor";I0q+="tunityRun";I0q+="nerComplete";this.qq.dT(I0q,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);t31=9;break;}}};c.__decorate([m.$b({methodName:G0q,em:!0,xr:!0})],g.prototype,e0q,null);c.__decorate([m.$b({methodName:F0q,em:!0})],g.prototype,E0q,null);l31=7;break;case 7:var J0q="p";J0q+="R";J0q+="a";var x0q="checkRequestOpp";x0q+="ortun";x0q+="ityRunner";var W0q="V";W0q+="H";var H0q="r";H0q+="emove";H0q+="Request";c.__decorate([m.$b({methodName:H0q,em:!0})],g.prototype,W0q,null);c.__decorate([m.$b({methodName:x0q,em:!0})],g.prototype,J0q,null);return g;break;case 2:Object.defineProperties(g.prototype,{zOb:{get:function(){var o31;o31=2;for(;o31 !== 1;){switch(o31){case 4:return this.pF;break;o31=1;break;case 2:return this.pF;break;}}},enumerable:!1,configurable:!0}});g.prototype.Fk=function(){var p31,h,k;p31=2;for(;p31 !== 9;){switch(p31){case 2:h=this;p31=1;break;case 6:p31=+this.Qua?6:2;break;p31=!this.Qua?5:9;break;case 5:this.Qua=!0;k=l.default.time.ea();Promise.resolve().then(function(){var q31;q31=2;for(;q31 !== 5;){switch(q31){case 2:h.Qua=!1;h.pRa(k);q31=5;break;}}});p31=9;break;case 1:p31=!this.Qua?5:9;break;}}};g.prototype.jy=function(h){var r31;r31=2;for(;r31 !== 4;){switch(r31){case 2:var y0q="More than maxAllowedOutstandingRequ";y0q+="ests are o";y0q+="ut";y0q+="stan";y0q+="ding";this.qq.hy({mediaType:h.mediaType,contentStartPts:h.$c,contentEndPts:h.Fc});this.pF++;f.assert(this.pF <= this.config.z7,y0q);r31=4;break;}}};g.prototype.VH=function(h){var s31;s31=2;for(;s31 !== 3;){switch(s31){case 2:this.qq.hy({mediaType:h.mediaType,contentStartPts:h.$c,contentEndPts:h.Fc});s31=1;break;case 1:var v0q="remo";v0q+="ve";v0q+="R";v0q+="equest";var u0q="Received ";u0q+="remov";u0q+="e r";u0q+="equest when there are no requests outstand";u0q+="ing";this.pF--;f.assert(0 <= this.pF,u0q);this.Fk(v0q);s31=3;break;}}};l31=3;break;}}})();b.hJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xBa=void 0;c=a(54);r=(function(){function f(l){this.Pb=l;}Object.defineProperties(f.prototype,{bj:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.uo=function(l){var m;if(l.Ei === c.ce.Wp && this.Pb){l={};m=this.Pb.get();m && m.avtp && m.avtp.Fa && (l.avtp=m.avtp.Fa,l.dltm=m.avtp.vC);m && m.cdnavtp && (l.cdnavtp=m.cdnavtp,l.activecdnavtp=m.activecdnavtp);if(m=this.Pb.B5())(m.bytesRequestedPacingVideo && (l.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,l.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,l.bytestotalVideo=m.bytestotalVideo,l.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (l.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,l.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,l.bytestotalAudio=m.bytestotalAudio,l.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (l.pacedAvtp=m.pacedAvtp));if(m=this.Pb.r5())(l.initial_avtp=m.WG,l.initial_dltime=m.vC,l.initial_responses_audio=m.UZa,l.initial_responses_video=m.VZa,l.initial_tput_samples=m.LN,l.initial_1sec_tput_samples=m.JN);this.Pb.flush();if(m=this.Pb.WWa())for(var d in m){m.hasOwnProperty(d) && (l["ne" + d]=Number(m[d]).toFixed(6));}return l;}};return f;})();b.xBa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZJa=void 0;c=a(54);r=(function(){function f(l){l.events.on("streamSelection",this.lsa.bind(this));}f.prototype.lsa=function(l){0 === l.mediaType && void 0 === this.TZa?this.TZa=l:1 === l.mediaType && void 0 === this.WZa && (this.WZa=l);};Object.defineProperties(f.prototype,{bj:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.uo=function(l){var m;if(l.Ei === c.ce.Uo)return (l=null !== (m=this.WZa) && void 0 !== m?m:this.TZa,{histdiscbw:null === l || void 0 === l?void 0:l.result.Ut,histage:null === l || void 0 === l?void 0:l.result.Bo});};return f;})();b.ZJa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sKa=void 0;r=a(2);c=a(18);f=a(20);l=r.__importDefault(a(6));a=(function(){function m(d){this.Uf=d;this.X0=[];this.reset();}Object.defineProperties(m.prototype,{bj:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tD:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return f.ga;},enumerable:!1,configurable:!0}});m.prototype.reset=function(){var d,g;d=this;null === (g=this.qK) || void 0 === g?void 0:g.clear();this.qK=new c.Nh();this.qK.on(this.Uf,"clockChanged",function(){d.reset();d.ZU("initial");});this.qK.on(this.Uf,"stopping",function(){d.ZU("stopping");});this.qK.on(this.Uf.xa,"clockAdjusted",function(){d.ZU("clockAdjusted");});this.qK.on(this.Uf.xa,"stopStart",function(){d.ZU("stopStart");});this.qK.on(this.Uf.xa,"speedChanged",function(){d.ZU("speedChanged");});};m.prototype.ZU=function(d){this.X0.push({reason:d,audit:this.Uf.iDb(),time:l.default.time.ea()});5 < this.X0.length && this.X0.shift();};m.prototype.uo=function(){return this.X0;};return m;})();b.sKa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=void 0;c=a(54);r=(function(){function f(l,m){this.Pb=l;this.p6a=m;}Object.defineProperties(f.prototype,{bj:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.uo=function(l){var m;l=l.Ei;if(l === c.ce.Wp || l === c.ce.Ln || void 0 === l){l={numOutstandingRequests:this.p6a.zOb,requestOpportunityDelayStats:this.p6a.o6a};m=this.Pb.IOa;m && m.length && (l.activeRequests=JSON.stringify(m));return l;}};return f;})();b.jJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BBa=void 0;r=(function(){function a(c){this.p4=c;this.tD="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{bj:{get:function(){return this.tD;},enumerable:!1,configurable:!0}});a.prototype.uo=function(){var c;c=this.p4.kRb.map(function(f){var l;l=f.Ga;return {id:l.id,weight:l.weight,relativeWeight:f.PX};});return {prefetcher:this.p4.tu.getStats(),playgraphs:c,viewables:this.p4.N0b,players:this.p4.G4a.length};};return a;})();b.BBa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fCa=void 0;c=a(5);f=a(406);r=(function(){function l(){this.global=new f.bR();this.CD={};}l.prototype.add=function(m,d){c.assert(void 0 === this.CD[m],"Cannot add new memory object for playgraph");this.CD[m]=d;this.global.add(d.Cr);this.global.add(d.mU);};return l;})();b.fCa=r;},function(r,b,a){var c,f,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;c=a(2);f=a(20);l=a(400);m=a(118);r=(function(){function d(g,h,k){this.Uma=g;this.rEb=h;this.H=k;this.ji=new m.AB({iu:this,console:k,source:"MemoryDeadlockProtector",mD:5});}d.prototype.CCb=function(g){var h,k,n,p;n=g.config;p=n.hj + (null !== (k=null === (h=n.TO) || void 0 === h?void 0:h.T) && void 0 !== k?k:0);h=this.eHb(p,g);f.ga && this.H.debug("MDP: has prebuf: " + h);return h?{Y3:!0}:(k=this.xsb(n),h=k.YPb,k=k.r0b,h && k?(f.ga && this.H.debug("MDP: utilizing " + Math.round(100 * k) + "%"),k >= n.UMb?this.B6a(g,h):{Y3:!0}):{Y3:!1});};d.prototype.B6a=function(g,h){var k,n,p,q,v,t,y,z;this.ji.hy({o:h});q=g.V;g=g.Hb;v=q.Hb;q=q.cH;for(var u=0;u < v.length;u++){if(!v[u].ql){q=v[u];v=v.slice(0,u + 1);break;}}u=!1;t=[{mediaType:0,kC:0},{mediaType:1,kC:0}];if(null === q || void 0 === q || !q.ql){g=g.map(function(B){return B;}).filter(function(B){return -1 === v.indexOf(B);}).sort(function(B,D){return l.Sia(B) - l.Sia(D);});try{for(var w=c.__values(g),x=w.next();!x.done;x=w.next()){y=x.value;z=y.DC();t[0].kC+=null !== (n=z.YK) && void 0 !== n?n:0;t[1].kC+=null !== (p=z.Ww) && void 0 !== p?p:0;f.ga && this.H.debug("Resetting discontiguous branch " + y.N.id,z);y.reset();if(u=t.every(function(B){return B.kC >= h[B.mediaType].kC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (k=w.return) && k.call(w);}finally{if(A)throw A.error;}}}return {Y3:u,D8b:t};};d.prototype.xsb=function(g){var h,k,n,p;if(!g.VMb)return {};h=this.rEb();k=this.Uma().total;n=g.TMb;p=0;g=[0,1].map(function(q){var v;v=h[q] - k[q] * n;p=Math.max(0 < k[q]?h[q] / k[q]:0,p);return {kC:Math.max(0,v),mediaType:q};});return {r0b:p,YPb:g};};d.prototype.eHb=function(g,h){var k,n;k=!1;h=h.Z5?h.V:void 0;if(null === h || void 0 === h?0:h.CIb){k=h.ei.iq().map(function(p){return p.mediaType;});n=h.KDb();k=k.every(function(p){var q,v;if(0 === p)p=null !== (q=n.vr) && void 0 !== q?q:0;else if(1 === p)p=null !== (v=n.Mn) && void 0 !== v?v:0;else throw Error("Unsupported media type:" + p);return p >= g;});}return k;};c.__decorate([m.$b({methodName:"resetDiscontiguousBranches",return:!0,em:!0})],d.prototype,"B6a",null);return d;})();b.CFa=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tya=void 0;r=a(2);c=a(9);f=r.__importDefault(a(28));l=a(27);m=r.__importDefault(a(378));d=a(54);a=(function(){function g(h){var k,n;k=this;this.Ga=h;this.Vv="aseReport";this.UQa=c.S.vz;this.bo=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.fL || h.config.oCb){this.UQa=c.S.tb(h.config.L2);this.Ga.gL=!0;n=[];n[f.default.Qa.Jb]=new m.default(h.config,f.default.Qa.Jb);n[f.default.Qa.Lb]=new m.default(h.config,f.default.Qa.Lb);this.Sga=n;this.Ga.events.on("openComplete",function(){return k.open();});}}g.prototype.open=function(){this.Ga.gL && !this.bo && (this.bo=!0,this.Ga.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Ga.events.on("streamSelection",this.lsa.bind(this)));};g.prototype.lsa=function(h){this.Sga[h.mediaType].add(h.result,h.streamList);};g.prototype.Ena=function(){var h;h=l.flatten(this.Sga.map(function(k){return k.get();}).filter(function(k){return void 0 !== k;}));this.Sga.forEach(function(k){return k.reset(!0);});return h;};g.prototype.ig=function(h){var k;k=h.Ei;h=h.dJb;return this.Ga.gL && this.bo && (h || k === d.ce.Wp) && (k=this.Ena()) && k.length?{f8a:!0,event:{type:"asereport",strmsel:k}}:{f8a:!1,event:{type:"asereport",strmsel:[]}};};return g;})();b.tya=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.CIa=void 0;c=a(2);f=a(18);l=a(16);m=a(9);d=a(926);g=a(27);h=a(5);k=a(927);n=a(20);p=a(99);q=a(928);v=c.__importDefault(a(6));u=a(929);t=a(930);w=a(931);x=a(253);y=a(933);z=a(934);r=(function(){function A(B,D,E,F,C){void 0 === F && (F=new t.yAa());void 0 === C && (C=new u.xAa());this.KUa=B;this.config=D;this.P5a=F;this.sm=[];this.T4a=[];this.$w=[];this.events=new f.EventEmitter();this.H=m.tq(v.default,E,"PREFETCH");this.ZOa(new w.aAa(D));this.ZOa(new z.HJa(D));this.x7a({TG:D.FRb});this.uva(C);}Object.defineProperties(A.prototype,{GRb:{get:function(){return this.sm.map(function(B){return B.context;});},enumerable:!1,configurable:!0}});A.prototype.kWb=function(B){n.ga && h.assert(B,"Reconciliation strategy is undefined");this.P5a=B;};A.prototype.ZOa=function(B){this.T4a.unshift(B);};A.prototype.X7a=function(B){n.ga && this.H.debug("Wish list changed",{s$b:B.length});this.$w=B;this.tta();};A.prototype.reset=function(){var B,F,C,G,J,K;if(this.config.ORb)try{for(var D=c.__values(this.sm),E=D.next();!E.done;E=D.next()){F=E.value;C=F.Ga;G=F.f7;J=F.context;if(C){C.xf();G.eua(function(L){return "segmentNormalized" !== L.Vv;});K=x.G5(J.we,C.Ga);C.hI(K);}}}catch(L){var H;H={error:L};}finally{try{E && !E.done && (B=D.return) && B.call(D);}finally{if(H)throw H.error;}}else this.X7a([]);};A.prototype.x7a=function(B){n.ga && this.H.debug("Budget changed",{B$b:this.BT,r$b:B});this.BT=B;this.tta();};A.prototype.Ctb=function(B,D){var E,F,C,G,J;if(D=this.P5a.UBb(this.sm,{Ga:B,Uk:D})){C=this.$w.indexOf(D.context.we);n.ga && this.H.debug("Claiming item: " + x.kq(D.context.we.key),{Xl:v.default.time.ea() - D.O$,buffer:null === (E=D.Ga) || void 0 === E?void 0:E.xh(m.S.bb)});this.vU(D.context,{Z_a:! !D.Ga});if(D.Ga){E=D.Ga;G=D.context;J=D.gs;y.AIa.dUb(E,D.f7,this.H);B=x.G5(G.we,B);J.XUb(null !== (F=E.tV(B)) && void 0 !== F?F:m.S.bb,C);E.C$a({TG:this.config.du || Infinity});}}this.config.Zpb || this.reset();return null === D || void 0 === D?void 0:D.Ga;};A.prototype.Btb=function(){};A.prototype.getStats=function(){var B;B=v.default.time.ea();return {wishListLength:this.$w.length,prefetchList:this.GRb.length,contents:this.sm.map(function(D){var E,F,C,G,J;return {id:x.kq(D.context.we.key),buffer:null === (E=D.Ga) || void 0 === E?void 0:E.xh(m.S.bb),pId:null === (F=D.Ga) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:D.context.T_a.TG},weight:D.context.k9,age:B - D.O$,timeOpened:B - (null !== (C=D.ZYb) && void 0 !== C?C:0),state:l.Dc[null !== (J=null === (G=D.Ga) || void 0 === G?void 0:G.Lf.value) && void 0 !== J?J:l.Dc.Ri]};})};};A.prototype.vU=function(B,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var F,C,G,J,K,H;return c.__generator(this,function(L){switch(L.label){case 0:F=c.__assign({Z_a:!1,X_a:!1},D);C=F.Z_a;G=F.X_a;J=g.dg(this.sm,function(R){return R.context === B;});if(!J)return [3,3];this.sm.splice(this.sm.indexOf(J),1);G || (K=this.$w.length,this.$w=this.$w.filter(function(R){return R !== B.we;}),n.ga && this.H.info("Dropping items from wishlist",K - this.$w.length),this.$w.length >= K && n.ga && this.H.warn("Unable to filter out wishlist item",this.$w.map(function(R){return R.key;}),B.we.key));n.ga && this.H.debug("Dropping playgraph",{Xl:v.default.time.ea() - J.O$,buffer:null === (E=J.Ga) || void 0 === E?void 0:E.xh(m.S.bb),Z:x.kq(B.we.key),Y$b:!C,s8b:!G});if(C)return [3,2];H=this.Bu(J);return J.Ga?[4,H]:[3,2];case 1:(L.kd(),L.label=2);case 2:(this.tta(),L.label=3);case 3:return [2];}});});};A.prototype.uva=function(B){h.assert(B,"Playgraph resolver is undefined");this.Ysa=B;return this;};A.prototype.tta=function(){var B,D,E,F,C,G;B=this;D=d.Iza.TIb({e1b:this.$w,GGb:this.BT},this.T4a.map(function(J){return J.YQa.bind(J);})).sm;E=g.ft(D,this.sm,function(J,K){return x.isEqual(J.we.key,K.context.we.key);});F=g.ft(this.sm,D,function(J,K){return x.isEqual(J.context.we.key,K.we.key);});C=g.ft(this.sm,F);n.ga && this.H.debug("Re-evaluated prefetch items. new:" + E.length + ", evict: " + F.length + ", update: " + E.length);F=F.map(function(J){var K;K=J.context.we.key;n.ga && B.H.debug("Releasing playgraph",x.kq(K));return B.Bu(J).then(function(){B.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.we});});});G=C.map(function(J){return c.__awaiter(B,void 0,void 0,function(){var K,H;return c.__generator(this,function(L){switch(L.label){case 0:return (K=g.dg(D,function(R){return x.isEqual(R.we.key,J.context.we.key);}),h.assert(K,"Couldn't find the requested item context"),J.context=K,[4,J.j9]);case 1:return (H=L.kd(),g.dg(this.sm,function(R){return R === J;}) && (this.HPa(J.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.we})),[2]);}});});});E=E.map(function(J){var K;K=B.fxb(J);B.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.we});return K;});this.sm=c.__spread(C,E);C=E.map(function(J){return J.j9;});C=F.concat(G).concat(C);Promise.all(C);};A.prototype.Bu=function(B){var D;D=this;return B.j9.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var F;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ga && this.H.debug("Removing prefetch playgraph",{size:E.xh(m.S.bb)}),B.w4.clear(),[4,this.KUa()]);case 1:return (F=C.kd(),F.Bu(E),[2]);}});});});};A.prototype.cxb=function(B){return c.__awaiter(this,void 0,void 0,function(){var D,E,F,C,G,J;J=this;return c.__generator(this,function(K){switch(K.label){case 0:return (D=B.context,E=x.kq(D.we.key),n.ga && this.H.debug("Creating playgraph",E),[4,this.Ysa.l1a(D)]);case 1:return (F=K.kd(),[4,this.KUa()]);case 2:return (C=K.kd(),G=C.KF(F,D.k9,D.Uk,D.we.fl,!1),B.w4.addListener(G.events,"error",function(H){n.ga && J.H.debug("Prefetch playgraph resulted in error",H.q8b);J.vU(D);}),[2,G]);}});});};A.prototype.JPb=function(B,D){var F,C,G;function E(J){n.ga && F.H.debug("Viewable " + (J?"superseded":"expired"),x.kq(B.context.we.key));B.G9b=!0;F.vU(B.context,{X_a:!J});}F=this;C=B.context;G=x.kq(C.we.key);this.HPa(C,D);D.open();D.PD({ms:function(J,K){var H;H=J.recommendedMedia;return H?g.Ip(K,function(L){return L.new_track_id === H.Wm;}):g.Ip(K,function(L){return L.track_id === J.defaultTrackOrderList[0].audioTrackId;});}},{ms:function(J,K){var H;H=J.recommendedMedia;return H?g.Ip(K,function(L){return L.new_track_id === H.yP;}):g.Ip(K,function(L){return L.track_id === J.defaultTrackOrderList[0].videoTrackId;});}});D.hI(x.G5(C.we,D.Ga));D=C.we.fl.fq(G);D.events && (B.w4.addListener(D.events,"viewableEvicted",function(){E(!0);}),B.w4.addListener(D.events,"viewableExpired",function(){E(!1);}));D.Dt && (n.ga && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.vU(B.context));};A.prototype.HPa=function(B,D){var E;D.T$a(B.k9);D.C$a(B.T_a);B=B.PXb;E=B.video;D.xva(new p.WE(B.audio,!0),new p.WE(E,!0));};A.prototype.fxb=function(B){var D,E,F;D=this;E=new k.BIa();F={context:B,O$:v.default.time.ea(),w4:new f.Nh(),gs:E};F.j9=this.cxb(F);F.j9.then(function(C){return c.__awaiter(D,void 0,void 0,function(){var G;G=this;return c.__generator(this,function(){try{return (F.Ga=C,C.yi(E),E.Iqb(C),F.f7=new q.JBa(C.events,{TWb:function(J){var K;K=J.Vv;switch(K){case "buffering":return !1;case "bufferingStarted":F.f7.eua(function(H){return "bufferingComplete" === H.Vv || "updateStreamingPts" === H.Vv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.f7.eua(function(H){return H.Vv === K;});default:return !0;}}}),C.events.on("bufferingComplete",function(){G.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:B.we});}),this.JPb(F,C),F.ZYb=v.default.time.ea(),[2,C]);}catch(J){throw (n.ga && this.H.error("Exception occurred creating playgraph",J),this.vU(F.context),J);}});});});return F;};return A;})();b.CIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=void 0;b.Iza=(function(){function a(){}a.TIb=function(c,f){var d;function l(g){return m(d++)(g,l);}function m(g){return g >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + g);}:f[g];}d=0;return l(c);};return a;})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BIa=void 0;c=a(2).__importDefault(a(6));f=a(54);r=(function(){function l(){this.creationTime=c.default.time.ea();this.cc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}l.prototype.Iqb=function(m){this.Ga=m;};l.prototype.XUb=function(m,d){var g;m=null === (g=this.Ga) || void 0 === g?void 0:g.xh(m);this.cc={isPrefetchItem:!0,prefetchedVideoMs:m.cZ,prefetchedAudioMs:m.bZ,prefetchClaimDurationMs:c.default.time.ea() - this.creationTime,prefetchRank:d};};Object.defineProperties(l.prototype,{bj:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.uo=function(m){if(m.Ei === f.ce.Uo)return this.cc;};return l;})();b.BIa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JBa=void 0;c=a(2);r=(function(){function l(m,d){void 0 === d && (d={});this.Zp=m;this.options=d;this.wG=[];this.MV=new f(m,this.ppb.bind(this));}l.prototype.ppb=function(m){for(var d,g,h,k,n,p,q=[],v=1;v < arguments.length;v++){q[v - 1]=arguments[v];}q={Vv:m,xr:q};(null !== (h=null === (g=(d=this.options).TWb) || void 0 === g?void 0:g.call(d,q,this.wG)) && void 0 !== h?h:1) && this.wG.push(q);return null !== (p=null === (n=(k=this.options).uac) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};l.prototype.eua=function(m){this.wG=this.wG.filter(function(d,g){return !m(d,g);});};l.prototype.nua=function(){var m;m=this;this.MV.v$a();this.wG.forEach(function(d){var g;(g=m.Zp).emit.apply(g,c.__spread([d.Vv],d.xr));});this.MV.d_a();};Object.defineProperties(l.prototype,{length:{get:function(){return this.wG.length;},enumerable:!1,configurable:!0}});l.prototype.clear=function(){this.wG=[];};l.prototype.Kb=function(){this.MV.v$a();};return l;})();b.JBa=r;f=(function(){function l(m,d){var g;g=this;this.Zp=m;this.GT=d;this.MV=function(h){for(var k,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return g.GT.apply(g,c.__spread([h],n))?(k=g.A3a).call.apply(k,c.__spread([g.Zp,h],n)):!1;};this.A3a=this.Zp.emit;this.d_a();}l.prototype.d_a=function(){this.Zp.emit=this.MV;};l.prototype.v$a=function(){this.Zp.emit=this.A3a;};return l;})();},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xAa=void 0;c=a(2);f=a(67);l=a(253);r=(function(){function m(){}m.prototype.l1a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.we.key;if(!l.TV(g))return [3,2];h=g.Z;k=d.we.fl.fq(h);return [4,Promise.resolve(k.XA)];case 1:return (n=q.kd(),p=n.sa,p.no?[2,f.oC(p.no,{config:n.config})]:[2,f.rI(h,"ps0")]);case 2:return [2,g.Ga];}});});};return m;})();b.xAa=r;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yAa=void 0;c=a(2);f=a(5);l=a(253);r=(function(){function m(){}m.kq=function(d){var g,h;g=d.Aa;d=d.ff;h=g[d].Z;Object.keys(g).forEach(function(k){return f.assert(g[k].Z === h);});return g[d].Z;};m.prototype.UBb=function(d,g){var h;h=Object.keys(g.Ga.Aa).length;return c.__read(d.filter(function(k){var n,p;return m.kq(g.Ga) === l.kq(k.context.we.key) && (1 === h || h === Object.keys(null !== (p=null === (n=k.Ga) || void 0 === n?void 0:n.Ga.Aa) && void 0 !== p?p:{}).length);}),1)[0];};return m;})();b.yAa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aAa=b.eAa=void 0;c=a(99);f=a(932);b.eAa=625E3;r=(function(){function l(m){this.config=m;}l.prototype.YQa=function(m){var d,g,h;d=this.config.S3;g=(this.config.Q1a || this.config.R3) * b.eAa / 1E3;h=Math.floor(m.GGb.TG / g);return {sm:m.e1b.sort(function(k,n){return k.priority - n.priority;}).slice(0,d).map(function(k,n){var p;p=k.key.config;return {T_a:{TG:n > h - 1?0:g},we:k,k9:1,Uk:p,PXb:{audio:[c.gG(p),new f.nea()],video:[c.hG(p),new f.nea()]}};})};};return l;})();b.aAa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nea=void 0;c=a(16);r=(function(){function f(){}f.prototype.dn=function(l,m){return m === c.Dc.Fj?[]:l;};return f;})();b.nea=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AIa=void 0;c=a(20);b.AIa=(function(){function f(){}f.dUb=function(l,m,d){var g;g=l.open;l.open=function(){c.ga && d.log("Replaying " + m.length + " events from prefetched playgraph");m.nua();m.Kb();l.open=g;return g.call(l);};};return f;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HJa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.YQa=function(c,f){var l,m;l=this;c=f(c);m=c.sm.map(function(d){return d.we.priority;}).sort();c.sm.forEach(function(d){d.k9=l.config.IRb / (2 << m.lastIndexOf(d.we.priority));});return c;};return a;})();b.HJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rIa=void 0;r=(function(){function a(c){var f;f=this;c=c.Fk;this.NG=function(){f.Fk();};this.Fk=c;}a.prototype.KF=function(c){c.events.on("requestsPruned",this.NG);};a.prototype.Bu=function(c){c.events.removeListener("requestsPruned",this.NG);};return a;})();b.rIa=r;},function(r,b){function a(c,f,l,m){return c && f?Math.min(c - f * l,c - m):(c || Infinity) - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Qa=void 0;b.$Qa=function(c,f){var l,m,d;m=a(f.audio,f.cia,c.mSa,c.kSa);d=a(f.video,f.Cxa,c.mSa,c.lSa);return (l={},l[0]=m,l[1]=d,l.total=(f.total || Infinity) - c.kSa - c.lSa,l);};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.KJa=void 0;c=a(2);f=a(18);l=c.__importStar(a(10));m=a(16);d=a(214);g=a(16);h=a(9);k=a(5);n=a(21);p=a(215);q=a(54);v=a(99);u=a(118);t=a(252);w=c.__importDefault(a(6));x=a(938);y=a(939);z=0;r=(function(A){function B(D,E,F,C,G,J,K,H,L,R,I){var P,N,M,Q,T;Q=A.call(this) || this;Q.console=D;Q.Ho=E;Q.vS=F;Q.TK=G;Q.CY=J;Q.Pv=H;Q.V=R;Q.config=I;Q.nr=!1;Q.MR=!1;Q.Ws=void 0;Q.Le=function(){var da,pa,wa,ua,X;null === (da=Q.gK) || void 0 === da?void 0:da.clear();da=Q.akb;X=Q.hnb;k.assert(da);Q.Bg && k.assert(X);Q.nl.value !== g.ma.gr && Q.nl.value !== g.ma.Ri && (null !== (pa=Q.Ea) && void 0 !== pa && pa.Ao?(pa=null === (ua=null === (wa=Q.Ho.Na.Pb.get()) || void 0 === wa?void 0:wa.Sa) || void 0 === ua?void 0:ua.Fa,Q.pa.hZ("startplay",q.ce.Uo),Q.V$.dT("emitBufferingComplete",{}),x.j4(Q,da,Q.Ea.Hd,pa,X,Q.pa.gL)):Q.console.error("Shim received buffering complete but player has no position (player " + (Q.Ea?"":"un") + "defined, state " + Q.nl.value + ")"));};Q.pT=function(){var da,pa,wa;Q.V$.dT("audioTrackSwitchComplete",{});k.assert(void 0 !== Q.Qm);pa=Q.vS.audio_tracks[Q.Qm];wa=Q.Qm;Q.Qm=void 0;x.lUa(Q,pa,wa);null === (da=Q.UW) || void 0 === da?void 0:da.call(Q);Q.UW=void 0;};k.assert(2 >= C.length,"Ase session shim suports a maximum of 1 parallel graph.");F=c.__read(C,2);D=F[0];F=F[1];Q.ti=new f.Nh();Q.Z=D.Ga.Aa[J[0].ya].Z;Q.nl=new h.er(g.ma.qh);Q.VA=new v.aF(Q.console);Q.pa=D;Q.Bg=F;C.forEach(function(da){var pa,wa;pa=da.hG(Q.VA);wa=da.gG();da.xva(wa,pa);});Q.W7b=!1;Q.CTa=!1;x.m1a(Q.console,E,Q,D,F);T=z++;Q.V$=new u.AB({iu:Q,source:"ShimSession",console:Q.console,mD:50,Cha:function(){return {shimId:T};}});Q.pa.yi(new t.zB(Q.V$));Q.nab=void 0 !== (null === (M=null === (N=(P=Q.V).kV) || void 0 === N?void 0:N.call(P)) || void 0 === M?void 0:M.X);Q.Ad=y.fQa(R);E=Q.rSa({zd:Q.j1a(Q.pa.Ga.zd),lV:Q.A5.bind(Q)});Q.Ea=E;Q.Bg && (Q.jj=Q.rSa({zd:Q.j1a(Q.Bg.Ga.zd),lV:Q.A5.bind(Q)}));Q.Ea.events.on("segmentPresenting",function(){Q.Ws=Q.FMa();});Q.on("streamerend",function(){return Q.VXb();});Q.N7a();return Q;}c.__extends(B,A);Object.defineProperties(B.prototype,{J:{get:function(){return this.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ca:{get:function(){return this.Pv.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Qg:{get:function(){return this.ti;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{De:{get:function(){return {j9b:{1:{W:{Ha:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{LI:{get:function(){return void 0 !== this.Qm;},enumerable:!1,configurable:!0}});B.prototype.eLb=function(){var D,E,F,C,G;D=this;G=null === (C=null === (F=(E=this.V).kV) || void 0 === F?void 0:F.call(E)) || void 0 === C?void 0:C.X;k.assert(G,"video element is not defined");G.addEventListener("play",function(){return D.xOa();});G.addEventListener("pause",function(){return D.Mj();});};B.prototype.VXb=function(){this.Ho.Hp(!0,this.Pv.sessionId);};B.prototype.sP=function(D,E){var F;this.pa.ki((F={},F[D]=E,F));};B.prototype.open=function(){var D,E,F,C;D=this;if(!this.nr){this.nr=!0;this.Ho.Hp(this.config.wr,this.Pv.sessionId);C=new Promise(function(G){setTimeout(G,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.pa.open();null === (E=this.Bg) || void 0 === E?void 0:E.open();this.pa.hI(this.CY[0]);k.assert(this.Ea,"asePlayer should be defined on session.open");this.CY[1] && (E=this.pa.OC(this.CY[0]),k.assert(E,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (F=this.Bg) || void 0 === F?void 0:F.hI(this.CY[1],E.dG));x.k1a(this.Ho,this,this.Ea,this.console);this.nl.set(g.ma.ud);C.then(function(){D.Sq(D.Le);});this.pa.Zha(this.Ea);this.Bg && (k.assert(this.jj,"parallelPlayer should be defined on session.open"),this.Bg.Zha(this.jj));this.nab && this.eLb();}};B.prototype.A5=function(){this.gj || (this.gj=new w.default.MediaSource(this.Ad),this.gj.dc || (this.gj.dc=w.default.MediaSource.dc));return this.gj;};B.prototype.rSa=function(D){void 0 === D && (D={});D=c.__assign({pD:this.config.pD,Usa:this.config.Usa},D);return this.Ho.Na.YOa(this.Ad,D);};B.prototype.j1a=function(D){return D?null === D || void 0 === D?void 0:D.map(function(E){return "video" === E?1:0;}):[0,1];};B.prototype.close=function(){this.nr && (this.nr=!1);this.Ho.Hp(!0,this.Pv.sessionId,!0);};Object.defineProperties(B.prototype,{NF:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});B.prototype.flush=function(){var D;this.nr && this.nl.value !== g.ma.Ri && this.nl.value !== g.ma.gr && this.stop();this.pa.hZ("endplay",q.ce.Wp);this.pa.xf();null === (D=this.Bg) || void 0 === D?void 0:D.xf();this.Ho.Bh.save();this.Ho.tn.save();};B.prototype.paused=function(){this.nab || this.Mj();};B.prototype.Mj=function(){this.nl.value === g.ma.Ec && (this.nl.set(g.ma.Vg),this.Ad.emit("paused",{type:"paused",Cd:this.Ad.Gc}));};B.prototype.xOa=function(){this.nl.value === g.ma.Vg && (this.nl.set(g.ma.Ec),this.Ad.emit("playing",{type:"playing",Cd:this.Ad.Gc}));};B.prototype.Zc=function(){var D,E;this.nr && this.nl.value !== g.ma.Ri && this.nl.value !== g.ma.gr && this.stop();this.Ho.VTb(this);this.nr && this.close();this.Lx && (clearInterval(this.Lx),this.Lx=void 0);null === (D=this.gK) || void 0 === D?void 0:D.clear();this.Ea && this.Ho.Na.lO(this.Ea);this.jj && this.Ho.Na.lO(this.jj);null === (E=this.gj) || void 0 === E?void 0:E.Tp();};B.prototype.suspend=function(){};B.prototype.resume=function(){};B.prototype.play=function(){var D;D=this;this.pa.state !== d.vk.CLOSED && (k.assert(this.Ea,"ShimSession.play(), expected asePlayer to exist."),this.Ea.resume(this.MR?[1]:void 0),this.Bg && (k.assert(this.jj,"ShimSession.play(), expected parallelPlayer to exist."),this.jj.resume(this.MR?[1]:void 0)),this.nl.set(g.ma.Ec),this.Ad.emit("playing",{type:"playing",Cd:this.Ad.Gc}),this.emit("play"),this.Lx || (this.Lx=setInterval(function(){return D.hOb();},this.config.nL)));};B.prototype.stop=function(){this.nl.set(g.ma.gr);k.assert(this.Ea,"ShimSession.stop(), expected asePlayer to exist.");this.Ea.pause();this.Bg && (k.assert(this.jj,"ShimSession.stop(), expected parallelPlayer to exist."),this.jj.pause());this.Ad.emit("paused",{type:"paused",Cd:this.Ad.Gc});this.emit("stop");};B.prototype.Sy=function(D){var E,F,C;void 0 === E && (E=!0);this.Ea?(D=parseInt(D),l.isFinite(D) && (E?(this.Ea.rY(D),null === (F=this.jj) || void 0 === F?void 0:F.rY(D)):(this.Ea.pva(D),null === (C=this.jj) || void 0 === C?void 0:C.pva(D)))):this.fail("Must call open prior to drmReady");};B.prototype.Y5=function(){var D;if(!this.Ea || !this.Ea.Ao)return !1;D=this.Ea.Do(this.pa.Ga.Aa[this.Ea.cj.ya].Z);return D && this.Bg && this.jj?this.jj.Do(this.Bg.Ga.Aa[this.jj.cj.ya].Z):D;};B.prototype.Ln=function(){this.nl.set(g.ma.If);this.Ad.emit("underflow",{type:"underflow",Cd:this.Ad.Gc});this.Sq(this.Le);};B.prototype.u5=function(D){var E;E=q.ce.Uo;switch(D){case "intrplay":E=q.ce.Ln;break;case "endplay":E=q.ce.Wp;}D=this.pa.u5(E);return c.__assign(c.__assign({},D),{aseApiVersion:this.NF});};B.prototype.Rsa=function(){this.Ad.emit("playbackRateChanged",{type:"playbackRateChanged",Cd:this.Ad.Gc});};B.prototype.Gn=function(){var D;D=this.Ad.Me();D={type:"skipped",pts:n.S.tb(D)};this.Ad.emit(D.type,D);return new p.ZE(Promise.resolve()).Fua;};B.prototype.Tia=function(D,E){var F;E=this.wna(E || 0,D);return null === (F=this.pa.gn(E,D)) || void 0 === F?void 0:F.$c;};B.prototype.st=function(D,E){var F;F=new n.S(E,1E3);return (F=this.pa.$r(F,{t8a:!0,s8a:!0}))?this.pa.Ga.Aa[F.ya].wc + Number(F.offset.T.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + E);};B.prototype.EL=function(D,E){D=this.wna(D || 0,E);D={ya:D,offset:new n.S(E - this.pa.Ga.Aa[D].wc,1E3)};return (D=this.pa.tV(D))?D.T:E;};B.prototype.D6=function(){var D,E,F;E={};F=null === (D=this.pa) || void 0 === D?void 0:D.pM();D=this.Bg?this.Bg.pM():F;F && (E.vbuflmsec=F.totalvbuflmsecs,E.vbuflbytes=F.vbuflbytes);D && (E.abuflmsec=D.totalabuflmsecs,E.abuflbytes=D.abuflbytes);return E;};B.prototype.e5=function(){return {Ce:0};};B.prototype.xo=function(){var D,E;return null !== (D=this.Ws) && void 0 !== D?D:(null === (E=this.Ea) || void 0 === E?0:E.a6())?this.FMa():{id:this.CY[0].ya,Ce:0,$c:0,Fc:Infinity,Yd:Infinity,sd:0};};B.prototype.FMa=function(){var D,E,F,C,G,J,K,H,L;k.assert(this.Ea,"attempted to get presenting branch information with no player");k.assert(this.Ea.a6(),"attempted to get presenting branch information but player has no branches");J=this.Ea.xo() || ({});K=J.N;H=J.eg;L=J.ZN;J=J.LH;return {id:K.id,Ce:null !== (D=null === H || void 0 === H?void 0:H.T) && void 0 !== D?D:0,$c:null !== (E=null === K || void 0 === K?void 0:K.Eg.T) && void 0 !== E?E:0,Fc:null !== (F=null === K || void 0 === K?void 0:K.Kk.T) && void 0 !== F?F:Infinity,Yd:null !== (C=null === L || void 0 === L?void 0:L.T) && void 0 !== C?C:Infinity,sd:null !== (G=null === J || void 0 === J?void 0:J.T) && void 0 !== G?G:0};};B.prototype.c6a=function(){this.oH("removeSession");};B.prototype.ls=function(D,E){void 0 === E && (E=0);k.assert(!this.Bg,"Seeking with dual playgraphs not supported.");E=this.wna(E,D);this.Ho.Hp(this.config.wr,this.Pv.sessionId);D={ya:E,offset:n.S.tb(D - this.pa.Ga.Aa[E].wc)};this.Ws=void 0;this.pa.hI(D);k.assert(this.Ea);this.Ea.resume();this.nl.set(g.ma.ud);this.Sq(this.Le);D=this.pa.Nua(D);k.assert(D,"Valid position must be provided for seek");return D.offset.T;};B.prototype.seek=function(D,E){D=this.st(E,D);return this.ls(D,E);};B.prototype.ot=function(D,E,F){var C,G;C=this.xo().id;G=this.pa.CM(C,D);if(E){if(!G.pab)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)),!1);if(void 0 !== G.FN)return (this.pa.Yk(C,D,!1,E),G.FN === D);this.pa.Yk(C,D,!1,E);return !0;}if(void 0 !== G.FN)return (F || this.ls(G.$c,0),!1);G.oL?(k.assert(this.Ea),this.Ea.reset(),this.pa.Yk(C,D,!1,E),this.Ea.resume(),this.nl.set(g.ma.ud),this.Sq(this.Le)):F || this.ls(G.$c,0);return ! !G.oL;};B.prototype.$K=function(){this.oH("addManifest");};B.prototype.$S=function(){return this.oH("activateManifest");};B.prototype.j3a=function(){this.XLa();};B.prototype.J$=function(D){var E,F,C,G,J;E=this.Bg?this.jj:this.Ea;F=D.Wm;k.assert(!this.Bg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.Qm)return !1;D=this.vS.audio_tracks;if(!D.some(function(K,H){if(K.track_id === F)return (C=K,G=H,!0);}))return !1;D=D[this.TK[0]];this.Qm=G;J=null === E || void 0 === E?void 0:E.JA;J?this.XLa():(this.MR=!0,null === E || void 0 === E?void 0:E.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:C.language,newNumChannels:C.channels,sourceBufferReset:J}));return !0;};B.prototype.Jq=function(D,E){this.VA.Jq(D,E);};B.prototype.Ai=function(D){return this.Ea?this.Ea.Ai(n.S.tb(D)):!1;};B.prototype.v4=function(){this.oH("evaluateQoE");};B.prototype.bwa=function(){this.oH("stopBuffering");};B.prototype.vI=function(){return this.oH("startBuffering");};B.prototype.mYa=function(){return this.oH("getStreamingStatistics");};B.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};B.prototype.wna=function(D,E){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.OU(E);};B.prototype.OU=function(D){var E,F,G,J,K,H,L;E=this.pa.Ga;F=[];k.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var C in E.Aa){G=E.Aa[C];J=G.wc;G=G.Oc;K=D < Number(null !== G && void 0 !== G?G:Infinity);if(J <= D && K)F.push(C);else if((J=Math.min(Math.abs(D - J),Math.abs(D - G)),void 0 === H || J < H))(H=J,L=C);}k.assert(1 >= F.length,"Overlapped segments detected in branching, this is not supported");D=F[0] || L;k.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};B.prototype.hOb=function(){var D,E;E=null === (D=this.pa) || void 0 === D?void 0:D.pM();D=this.Bg?this.Bg.pM():E;E && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:E.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:E.totalvbuflmsecs,currentBandwidth:E.currentBandwidth});};B.prototype.oH=function(D){return this.fail("Method not implemented " + D);};B.prototype.XLa=function(){k.assert(void 0 !== this.Qm);this.TK[0]=this.Qm;this.N7a();this.Sq(this.pT);};B.prototype.N7a=function(){var D;D=this;this.Bg?(this.pa.PD({ms:function(){}},{ms:function(){return D.TK[1];}}),this.Bg.PD({ms:function(){return D.TK[0];}},{ms:function(){}})):this.pa.PD({ms:function(){return D.TK[0];}},{ms:function(){return D.TK[1];}});this.MR && ((this.Bg?this.jj:this.Ea).resume([0]),this.MR=!1);};B.prototype.MVb=function(D){this.akb=D;};B.prototype.gWb=function(D){this.hnb=D;};B.prototype.Sq=function(D){var E,F;E=this;D !== this.pT && void 0 !== this.Qm?this.UW=D:(null === (F=this.gK) || void 0 === F?void 0:F.clear(),!this.Bg && this.Ea?this.gK=h.er.Ixa([this.pa.Lf,this.Ea.WV],function(C){var G,J;C=c.__read(C,2);J=C[1];return C[0] === m.Dc.Fj && (null === (G=E.Ea) || void 0 === G?void 0:G.Ao) && J.greaterThan(E.Ea.Hd);},this.sSa(D)):this.Ea && (this.gK=h.er.Ixa([this.pa.Lf,this.Ea.WV,this.Bg.Lf,this.jj.WV],function(C){var G,J,K,H,L;C=c.__read(C,4);K=C[1];H=C[2];L=C[3];return C[0] === m.Dc.Fj && (null === (G=E.Ea) || void 0 === G?void 0:G.Ao) && K.greaterThan(E.Ea.Hd) && H === m.Dc.Fj && (null === (J=E.jj) || void 0 === J?void 0:J.Ao) && L.greaterThan(E.jj.Hd);},this.sSa(D))));};B.prototype.sSa=function(D){var E;E=this;return function(F){var C;F && (null === (C=E.gK) || void 0 === C?void 0:C.clear(),E.gK=void 0,Promise.resolve().then(D));};};c.__decorate([u.$b({methodName:"updateChoiceMapEntry",xr:!0})],B.prototype,"sP",null);c.__decorate([u.$b({methodName:"open"})],B.prototype,"open",null);c.__decorate([u.$b({methodName:"close"})],B.prototype,"close",null);c.__decorate([u.$b({methodName:"paused"})],B.prototype,"Mj",null);c.__decorate([u.$b({methodName:"unpaused"})],B.prototype,"xOa",null);c.__decorate([u.$b({methodName:"cleanup"})],B.prototype,"Zc",null);c.__decorate([u.$b({methodName:"suspend"})],B.prototype,"suspend",null);c.__decorate([u.$b({methodName:"resume"})],B.prototype,"resume",null);c.__decorate([u.$b({methodName:"play"})],B.prototype,"play",null);c.__decorate([u.$b({methodName:"stop"})],B.prototype,"stop",null);c.__decorate([u.$b({xr:!0,methodName:"drmReady"})],B.prototype,"Sy",null);c.__decorate([u.$b({methodName:"underflow"})],B.prototype,"Ln",null);c.__decorate([u.$b({methodName:"getLogdataReport"})],B.prototype,"u5",null);c.__decorate([u.$b({methodName:"skipped"})],B.prototype,"Gn",null);c.__decorate([u.$b({methodName:"seekByContentPts"})],B.prototype,"ls",null);c.__decorate([u.$b({methodName:"seek"})],B.prototype,"seek",null);c.__decorate([u.$b({methodName:"chooseNextSegment",xr:!0})],B.prototype,"ot",null);c.__decorate([u.$b({methodName:"onAudioTrackSwitchStarted"})],B.prototype,"j3a",null);c.__decorate([u.$b({methodName:"switchTracks"})],B.prototype,"J$",null);return B;})(f.EventEmitter);b.KJa=r;},function(r,b,a){var l,m;function c(d,g,h){var k,n;k=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;g.on(k,function(p){d.emit(n,l.__assign(l.__assign({},p),{type:n}));});}function f(d,g,h,k){var n,p;g.events.once(d,function(q){(n=q) && p && k(n,p);});h.events.once(d,function(q){p=q;n && p && k(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.lUa=b.j4=b.k1a=b.m1a=void 0;l=a(2);m=a(20);b.m1a=function(d,g,h,k,n){var q;function p(v,u){c(h,v,u);}g=n?[k,n]:[k];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(v){return p(k.events,v);});n?(p(n.events,"initialAudioTrack"),f("streamerEnd",k,n,function(v){h.emit("streamerend",l.__assign(l.__assign({},v),{type:"streamerend"}));})):(p(k.events,["streamerEnd","streamerend"]),p(k.events,"initialAudioTrack"));k.events.on("logdata",function(v){h.emit("logdata",l.__assign(l.__assign({},v),{fields:l.__assign(l.__assign({},v.fields),{aseApiVersion:h.NF})}));});q=!0;k.events.on("bufferingStarted",function(v){h.LI && q?q=!1:(h.V$.dT("bufferingStarted",{}),h.emit("bufferingStarted",v));});k.events.on("bufferingComplete",function(v){h.LI?q=!0:h.MVb(v);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(v){h.LI || h.gWb(v);});k.events.on("maxVideoBitrateChanged",function(v){h.emit("maxvideobitratechanged",l.__assign(l.__assign({},v),{type:"maxvideobitratechanged",Dac:v.streaming.T}));});k.events.on("error",function(v){v=l.__assign(l.__assign({},v),{manifestIndex:0});h.emit("error",v);});h.on("error",function(){});k.events.on("segmentComplete",function(v){h.emit("segmentComplete",{type:"segmentComplete",mediaType:v.mediaType,manifestIndex:0,segmentId:v.segmentId});});k.events.on("segmentNormalized",function(v){var u;u=Math.floor(v.viewableContentEnd.T);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:u,maxPts:u,maxSeekPts:Math.floor(v.viewableEarliestContentEnd.T)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:u,maxPts:u});});k.events.on("segmentStarting",function(v){h.emit("maxBitrates",{type:"maxBitrates",audio:v.maxBitrates.audio,video:v.maxBitrates.video});h.emit("segmentStarting",v);});g.forEach(function(v){v.events.on("serverSwitch",function(u){h.emit("serverSwitch",{type:"serverSwitch",segmentId:u.segmentId,mediatype:u.mediatype,server:u.server,reason:u.reason,location:u.location,bitrate:u.bitrate,confidence:u.confidence,throughput:u.throughput,oldserver:u.oldserver});});v.events.on("streamSelected",function(u){var t;t=v.OC(u.position);h.emit("streamSelected",{type:"streamSelected",nativetime:u.nativetime,mediaType:u.mediaType,streamId:u.streamId,manifestIndex:0,trackIndex:u.trackIndex,streamIndex:u.streamIndex,movieTime:t.dG.T,bandwidth:u.bandwidth,longtermBw:u.longtermBw,rebuffer:u.rebuffer});});v.events.on("updateStreamingPts",function(u){var t;t=h.J;m.ga && d.trace("converting updateStreamingPts, movieId:",t);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:u.mediaType,manifestIndex:0,trackIndex:u.trackIndex,segmentId:u.position.ya,movieTime:Math.floor(u.completePlayerStreamingTimestamp.T)});});});};b.k1a=function(d,g,h,k){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(g,h.events,n);});h.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.T;q=g.pa.OC(n.position);void 0 === q?k.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):g.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.dG.T),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var p,q,v;p=g.pa.OC(n.position);q=n.playerTimestamp.Ca(p.dG);v=n.position.ya;g.CTa || (g.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.T,movieId:p.Z.toString(),replace:!1,contentOffset:q.T}),g.CTa=!0);g.emit("segmentPresenting",{type:"segmentPresenting",segmentId:v,contentOffset:q.T,metrics:n.metrics});});h.events.on("ptsChanged",function(n){g.emit("ptschanged",n.initialTimestamp.T);g.Ad.emit("skipped");});};b.j4=function(d,g,h,k,n,p){var q;h=h.T;n=null !== n && void 0 !== n?n:g;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:g.reason,actualbw:k,initSelReason:null !== (q=g.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:g.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:g.vBufferLevelMs,selector:g.selector,initBitrate:g.initBitrate,skipbackBufferSizeBytes:g.skipbackBufferSizeBytes});};b.lUa=function(d,g,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:g.track_id,trackIndex:h});};},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fQa=void 0;r=a(2);c=a(18);f=r.__importDefault(a(122));l=a(9);b.fQa=function(m){if(m.zjb)return m;f.default(c.EventEmitter.prototype,m);Object.defineProperties(m,{zjb:{value:!0},Gc:{get:function(){return new l.S(this.Me(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.wo?this.wo():1,.01);}}});return m;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wub={vw:["minInitVideoBitrate",-Infinity],kra:["minHCInitVideoBitrate",-Infinity],Uz:["maxInitVideoBitrate",Infinity],BW:["minInitAudioBitrate",-Infinity],AW:["minHCInitAudioBitrate",-Infinity],nW:["maxInitAudioBitrate",Infinity],T7:["minAcceptableVideoBitrate",-Infinity],yW:["minAcceptableVMAF",0],jNb:["minAcceptableVMAFRebufferScalingFactor",0],jra:["minAllowedVideoBitrate",-Infinity],hMb:["maxAllowedVideoBitrate",Infinity],qH:["minAllowedVmaf",-Infinity],r1a:["maxAllowedVmaf",Infinity],dP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],n4:["enableResolutionVMAFStreamFilter",!1],Gsa:["percentCapTitlesForResolutionVMAFStreamFilter",100],N9:["resolutionVMAFCappingRuleList",[]],tZa:["ignoreUserFilterOnEmptyResult",!0],DW:["minRequiredBuffer",2E4],a8:["minRequiredAudioBuffer",0],hj:["minPrebufSize",5800],W7:["minCheckBufferingCompleteInterval",200],m4:["enableMoreFrequentBufferingCompleteCheck",!1],ora:["minimumBufferingCompleteInterval",1E4],I9:["requireDownloadDataAtBuffering",!1],LZa:["indicatorForDownloadDataAtBuffering","oncomplete"],J9:["requireSetupConnectionDuringBuffering",!1],Tta:["rebufferingFactor",1],Vr:["maxBufferingTime",2E3],txa:["useMaxPrebufSize",!0],lD:["maxPrebufSize",4E4],Oqa:["maxRebufSize",Infinity],tBb:["fastRebufferRecoveryThreshold",Infinity],sBb:["fastRebufferRecoverBwThrehold",3E3],t6:["initialBitrateSelectionCurve",null],QZa:["initSelectionLowerBound",-Infinity],RZa:["initSelectionUpperBound",Infinity],M$:["throughputPercentForAudio",15],pia:["bandwidthMargin",0],ria:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],nrb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Ay:76376,scale:18862.4,gamma:3.0569}],qia:["bandwidthMarginContinuous",!1],orb:["bandwidthMarginForAudio",!0],uwa:["switchConfigBasedOnInSessionTput",!0],Jja:["conservBandwidthMargin",20],QT:["conservBandwidthMarginTputThreshold",6E3],Kja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],n9a:["switchAlgoBasedOnHistIQR",!1],XD:["switchConfigBasedOnThroughputHistory","iqr"],Nqa:["maxPlayerStateToSwitchConfig",-1],nqa:["lowEndMarkingCriteria","iqr"],qca:["IQRThreshold",.5],roa:["histIQRCalcToUse","simple"],ht:["bandwidthManifold",{curves:[{min:.05,max:.82,Ay:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Ay:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],du:["maxTotalBufferLevelPerSession",0],hZa:["highWatermarkLevel",3E4],V9a:["toStableThreshold",3E4],S$:["toUnstableThreshold",0],Nva:["skipBitrateInUpswitch",!1],Kxa:["watermarkLevelForSkipStart",8E3],loa:["highStreamRetentionWindow",9E4],oqa:["lowStreamTransitionWindow",51E4],noa:["highStreamRetentionWindowUp",5E5],qqa:["lowStreamTransitionWindowUp",1E5],moa:["highStreamRetentionWindowDown",6E5],pqa:["lowStreamTransitionWindowDown",0],koa:["highStreamInfeasibleBitrateFactor",.5],Nz:["lowestBufForUpswitch",9E3],t7:["lockPeriodAfterDownswitch",15E3],sqa:["lowWatermarkLevel",15E3],Oz:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],tqa:["lowestWaterMarkLevelBufferRelaxed",!1],Zqa:["mediaRate",1.5],G7:["maxTrailingBufferLen",15E3],kT:["audioBufferTargetAvailableSize",262144],tZ:["videoBufferTargetAvailableSize",1048576],K1a:["maxVideoTrailingBufferSize",8388608],t1a:["maxAudioTrailingBufferSize",393216],E4:["fastUpswitchFactor",3],fVa:["fastUpswitchFactorWithoutHeaders",3],Dla:["fastDownswitchFactor",3],Vz:["maxMediaBufferAllowed",27E4],j$b:["minMediaBufferLen",1E4],Lva:["simulatePartialBlocks",!0],l8a:["simulateBufferFull",!0],Lja:["considerConnectTime",!0],Ija:["connectTimeMultiplier",1],Q0a:["lowGradeModeEnterThreshold",12E4],R0a:["lowGradeModeExitThreshold",9E4],w1a:["maxDomainFailureWaitDuration",3E4],s1a:["maxAttemptsOnFailure",18],WUa:["exhaustAllLocationsForFailure",!0],C1a:["maxNetworkErrorsDuringBuffering",20],A7:["maxBufferingTimeAllowedWithNetworkError",6E4],aL:["alwaysRunUnderflowTimer",!0],dVa:["fastDomainSelectionBwThreshold",2E3],A9a:["throughputProbingEnterThreshold",4E4],B9a:["throughputProbingExitThreshold",34E3],D0a:["locationProbingTimeout",1E4],lVa:["finalLocationSelectionBwThreshold",1E4],y9a:["throughputHighConfidenceLevel",.75],z9a:["throughputLowConfidenceLevel",.4],aqa:["locationStatisticsUpdateInterval",6E4],sLb:["locationSelectorPersistFailures",!0],yUa:["enablePerfBasedLocationSwitch",!1],O9b:["maxRateMaxFragmentGroups",4500],Msa:["pipelineScheduleTimeoutMs",2],Wz:["maxPartialBuffersAtBufferingStart",2],lra:["minPendingBufferLen",3E3],kD:["maxPendingBufferLen",6E3],qAb:["enableNginxRateLimit",!1],u8:["nginxSendingRate",4E4],uAb:["enableRequestPacingToken",!1],QMb:["mediaRequestPacingSpeed",2],Noa:["initialMediaRequestToken",2E4],y7:["maxActiveRequestsSABCell100",2],E7:["maxPendingBufferLenSABCell100",500],z6a:["resetActiveRequestsAtSessionInit",!0],cla:["enableCprAudio",!1],dla:["enableCprVideo",!1],q3:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,coefficients:{selectedFragmentBitrate:1,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}],GXb:["staticPacingRateKbps",0],bQb:["paceRateSelectorAlgorithm","default"],xUa:["enablePaceReportLogging",!1],e_b:["unpacedFragmentInterval",0],cIb:["ignorePacedRequestsThroughput",!1],bIb:["ignoreInferredPacedRequestsThroughput",!1],P8:["pacedThresholdPct",.1],l4:["enableInitialTputLogging",!1],Pqa:["maxResponsesInitialTput",6],Qqa:["maxStreamingSkew",2E3],kMb:["maxBufferOccupancyForSkewCheck",Infinity],W_b:["useBufferOccupancySkipBack",!0],Lqa:["maxPendingBufferPercentage",10],uN:["maxRequestsInBuffer",120],b6:["headerRequestSize",4096],tla:["estimateHeaderSize",!0],X8b:["headerCacheEstimateHeaderSize",!1],wH:["neverWipeHeaderCache",!1],h0b:["useSidxInfoFromManifestForHeaderRequestSize",!1],eVa:["fastPlayHeaderRequestSize",0],tN:["maxRequestSize",0],AN:["minRequestSize",65536],zW:["minBufferLenForHeaderDownloading",1E4],r8a:["smartHeaderPreDownloading",!1],aAb:["enableAllHeadersPreDownloading",!1],F$b:["onlyAllowPtsUpdatePolling",!1],pNb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],wO:["reserveForSkipbackBufferMs",15E3],Qra:["numExtraFragmentsAllowed",2],wq:["pipelineEnabled",!0],sN:["maxParallelConnections",3],e0b:["usePipelineForAudio",!1],d0b:["usePipelineDetectionForAudio",!1],u8a:["socketReceiveBufferSize",0],Q2:["audioSocketReceiveBufferSize",32768],xP:["videoSocketReceiveBufferSize",65536],jab:["usePipelineDetectionForVideo",!1],tNb:["minVideoSocketReceiveBufferSize",65536],ioa:["headersSocketReceiveBufferSize",32768],HWb:["shareDownloadTracks",!0],IWb:["shareOpenRangeTracks",!1],Yyb:["disableHeaderDownloadTracks",!1],nra:["minTimeBetweenHeaderRequests",void 0],iaa:["updatePtsIntervalMs",1E3],Dia:["bufferTraceDenominator",0],nL:["bufferLevelNotifyIntervalMs",2E3],lwa:["streamingStatusIntervalMs",2E3],kA:["prebufferTimeLimit",6E4],V7:["minBufferLevelForTrackSwitch",2E3],sAb:["enablePenaltyForLongConnectTime",!1],Esa:["penaltyFactorForLongConnectTime",2],lqa:["longConnectTimeThreshold",200],Aha:["additionalBufferingLongConnectTime",2E3],Bha:["additionalBufferingPerFailure",8E3],MX:["rebufferCheckDuration",6E4],vUa:["enableLookaheadHints",!1],N0a:["lookaheadFragments",2],Wy:["enableOCSideChannel",!0],qta:["probeRequestTimeoutMilliseconds",3E4],T$b:["probeRequestConnectTimeoutMilliseconds",8E3],f0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],vAb:["enableSCByteRangeHints",!1],F$a:["updateDrmRequestOnNetworkFailure",!0],v1a:["maxDiffAudioVideoEndPtsMs",1E3],syb:["deferAseHeaderCache",!1],pTa:["deferAseScheduling",!1],G9a:["timeBeforeEndOfStreamBufferMark",6E3],Jqa:["maxFastPlayBufferInMs",2E4],Iqa:["maxFastPlayBitThreshold",2E8],Hqa:["maxBufferingCompleteBufferInMs",Infinity],Urb:["bufferingCompleteOnMemoryLimit",!1],U7:["minAudioMediaRequestSizeBytes",0],c8:["minVideoMediaRequestSizeBytes",0],jMb:["maxAudioMediaRequestSizeBytes",Infinity],CMb:["maxVideoMediaRequestSizeBytes",Infinity],qMb:["maxMediaRequestSizeBytesInFraction",1],uw:["minAudioMediaRequestDuration",0],$z:["minVideoMediaRequestDuration",0],Y7:["minMediaRequestDuration",0],iMb:["maxAudioMediaRequestDuration",Infinity],BMb:["maxVideoMediaRequestDuration",Infinity],C7:["maxMediaRequestDuration",Infinity],Gha:["allowFirstRequestAggregation",!1],mNb:["minAudioMediaRequestDurationCache",0],sNb:["minVideoMediaRequestDurationCache",0],pAb:["enableMultiFragmentRequest",!1],eab:[["useHeaderCache","usehc"],!0],sxa:[["useHeaderCacheData","usehcd"],!0],S3:["defaultHeaderCacheSize",4],kTa:["defaultHeaderCacheDataCount",4],R3:["defaultHeaderCacheDataPrefetchMs",0],rHb:["headerCacheMaxPendingData",6],Y8b:["headerCachePriorityLimit",5],bZa:["headerCacheAdoptBothAV",!1],f0b:["usePipelineForBranchedAudio",!0],wtb:["childBranchBatchedAmount",1E4],pD:["minimumTimeBeforeBranchDecision",2E3],vNb:["minimumAppendedMediaBeforePlayback",5E3],L$b:["parallelBranchesDuringBuffering",!1],wMb:["maxRequestsToAttachOnBranchActivation",void 0],EW:["minimumJustInTimeBufferLevel",3E3],jAb:["enableJustInTimeAppends",!1],rUa:["enableDelayedSeamless",!1],t7b:["branchEndPtsIntervalMs",250],dIb:["ignorePtsJustBeforeCurrentSegment",!1],y1a:["maxFragsForFittableOnBranching",300],uQb:["pausePlaylistAtEnd",!0],dpb:["adaptiveParallelTimeoutMs",1E3],ZL:["enableAdaptiveParallelStreaming",!1],Cia:["bufferThresholdToSwitchToSingleConnMs",45E3],Bia:["bufferThresholdToSwitchToParallelConnMs",35E3],Yzb:["enableAPSForBranching",!1],zaa:["waitForPendingConnAdaptation",!1],yra:["networkFailureResetWaitMs",2E3],xra:["networkFailureAbandonMs",6E4],F7:["maxThrottledNetworkFailures",5],L$:["throttledNetworkFailureThresholdMs",200],rqa:["lowThroughputThreshold",400],xla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],XYb:["timeAtEachBitrateRoundRobin",1E4],OUb:["roundRobinDirection","forward"],QHb:["httpsConnectErrorAsPerm",!1],s2a:["mp4ParsingInNative",!1],$h:["enableManagerDebugTraces",!1],e1a:["managerDebugMessageInterval",1E3],d1a:["managerDebugMessageCount",20],W2a:["notifyManifestCacheEom",!0],AAb:["enableUsingHeaderCount",!1],w8a:["sourceBufferInOrderAppend",!0],xA:["requireAudioStreamToEncompassVideo",!1],mPa:["allowAudioToStreamPastVideo",!1],qSa:["countGapInBuffer",!1],nPa:["allowCallToStreamSelector",!1],HQa:["bufferThresholdForAbort",2E4],gwa:["ase_stream_selector","optimized"],aQa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Loa:["initBitrateSelectorAlgorithm","default"],Iia:["bufferingSelectorAlgorithm","default"],SXb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],AUa:["enableThroughputTraceResearchData",!1],C9a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Lw:["researchEnvironmentEnabled",!1],xAb:["enableStreamSelectionAugmentData",!1],$qb:["augmentDataNumOfChunks",30],bTa:["ase_ls_failure_simulation",""],oka:["ase_dump_fragments",!1],qka:["ase_location_history",0],rka:["ase_throughput",0],dTa:["ase_simulate_verbose",!1],og:["stallAtFrameCount",void 0],A8a:["stallAtFrameCountAudio",void 0],Eqa:["marginPredictor","simple"],aab:["useBackupUnderflowTimer",!0],$Nb:["noDuplicateUnderflowTimer",!1],fbc:["useManifestDrmHeader",!0],gbc:["useOnlyManifestDrmHeader",!0],zra:["networkMeasurementGranularity","video_location"],RNb:["netIntrStoreWindow",36E3],q$b:["minNetIntrDuration",8E3],Zkb:["fastHistoricBandwidthExpirationTime",10368E3],xlb:["bandwidthExpirationTime",5184E3],Ykb:["failureExpirationTime",86400],HNa:["historyTimeOfDayGranularity",4],Vkb:["expandDownloadTime",!0],jmb:["minimumMeasurementTime",500],imb:["minimumMeasurementBytes",131072],wnb:["throughputMeasurementTimeout",2E3],vnb:["initThroughputMeasureDataSize",262144],Tlb:["historicBandwidthUpdateInterval",2E3],hmb:["minimumBufferToStopProbing",1E4],a7b:["throughputPredictor","ewma"],Vua:["secondThroughputEstimator","slidingwindow"],a7a:["secondThroughputMeasureWindowInMs",3E5],$6b:["throughputMeasureWindow",5E3],b7b:["throughputWarmupTime",5E3],Z6b:["throughputIQRMeasureWindow",1E3],L6b:["IQRBucketizerWindow",15E3],z1a:["maxIQRSamples",100],f2a:["minIQRSamples",5],W6b:["connectTimeHalflife",10],Q6b:["responseTimeHalflife",10],RMa:["historicThroughputHalflife",14400],QMa:["historicResponseTimeHalflife",100],PMa:["historicHttpResponseTimeHalflife",100],NCa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],tNa:["minReportedNetIntrDuration",4E3],Y6b:["throughputBucketMs",500],O6b:["bucketHoltWintersWindow",2E3],Nkb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Wkb:["experimentalFilter",["throughput-wssl"]],Bfa:["filterDefinitionOverrides",{}],Ckb:["defaultFilter","throughput-ewma"],cob:["secondaryFilter","throughput-sw"],pK:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],hla:["enableWsslEstimate",!1],R9b:["maxWsslRequestSize",131072],Q9b:["maxWsslRequestRatio",.2],Sab:["wsslAggregationMethod","max"],FU:["enableSessionHistoryReport",!0],ala:["earlyStageEstimatePeriod",1E4],m0a:["lateStageEstimatePeriod",3E4],D7:["maxNumSessionHistoryStored",10],b8:["minSessionHistoryDuration",3E5],yHb:["highAndStableModelName","baseline"],fla:["enableHighAndStablePredictor",!1],Z7:["minNumSessionHistory",5],p7b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],d6:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],zHb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],tha:["addHeaderDataToNetworkMonitor",!0],Wva:["startMonitorOnLoadStart",!1],pua:["reportFailedRequestsToNetworkMonitor",!1],Y8:["periodicHistoryPersistMs",0],S9:["saveVideoBitrateMs",0],IW:["needMinimumNetworkConfidence",!0],uia:["biasTowardHistoricalThroughput",!1],wLb:["logMemoryUsage",!1],wu:["probeServerWhenError",!0],ly:["allowSwitchback",!0],RH:["probeDetailDenominator",100],B7:["maxDelayToReportFailure",300],wr:["allowParallelStreaming",!1],b$b:["mediaPrefetchDisabled",!1],d2a:["minBufferLevelToAllowPrefetch",5E3],U9:["seamlessAudio",!1],lac:["seamlessAudioProfiles",[]],mac:["seamlessAudioProfilesAndTitles",{}],Tua:["seamlessAudioMaximumSyncError",void 0],Uua:["seamlessAudioMinimumSyncError",void 0],A6:["insertSilentFrames",0],B6:["insertSilentFramesOnSeek",!1],C6:["insertSilentFramesOnSeekForTitles",[]],b_a:["insertSilentFramesOnSeekCount",3],qCb:["forceDiscontinuityAtTransition",!0],rwa:["supportAudioResetOnDiscontinuity",void 0],F$:["supportAudioEasingOnDiscontinuity",void 0],Ozb:["editCompleteFragments",!0],j2a:["minimumAudioFramesPerFragment",1],dC:["applyProfileTimestampOffset",!1],Dk:["applyProfileStreamingOffset",!0],g5a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Uqb:["audioProfilesNonSyncSamples",["xheaac-dash"]],QZb:["truncateEndOfStreamAudio",!1],Y_b:["useDpiAssumedAacEncoderDelay",!0],N7:["mediaSourceSupportsNegativePts",!1],zN:["minAudioPtsGap",void 0],Sqb:["audioOverlapGuardSampleCount",2],zUa:["enableRecordJSBridgePerf",!1],vca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],UYb:["throughputThresholdSelectorParam",0],T_b:["upswitchDuringBufferingFactor",2],dqb:["allowUpswitchDuringBuffering",!1],hSa:["contentOverrides",void 0],Pja:["contentProfileOverrides",void 0],qoa:["hindsightDenominator",0],poa:["hindsightDebugDenominator",0],e6:["hindsightAlgorithmsEnabled",[]],f6:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],DPa:["appendMediaRequestOnComplete",!1],yaa:["waitForDrmToAppendMedia",!1],N4:["forceAppendHeadersAfterDrm",!1],ska:["declareBufferingCompleteAtSegmentEnd",!1],ow:["maxActiveRequestsPerSession",void 0],Wpa:["limitAudioDiscountByMaxAudioBitrate",!1],Kha:["appendFirstHeaderOnComplete",!0],HY:["strictBufferCapacityCheck",!1],fL:["aseReportDenominator",0],L2:["aseReportIntervalMs",3E5],$$:["translateToVp9Draft",!1],gP:["switchableAudioProfiles",[]],Vqb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],o9a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Xqb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],I1a:["maxStartingVideoVMAF",110],gu:["minStartingVideoVMAF",1],aT:["activateSelectStartingVMAF",!1],a$:["selectStartingVMAFTDigest",-1],DO:["selectStartingVMAFMethod","fallback"],f7a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],iA:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Zyb:["disablePtsStartsEvent",!0],Wta:["recordFirstFragmentOnSubBranchCreate",!0],P1a:["mediaCacheConvertToBinaryData",!1],Tqa:["mediaCacheSaveOneObject",!1],p1a:["markRequestActiveOnFirstByte",!1],i4:["earlyAppendSingleChildBranch",!0],SA:["useNativeDataViewMethods",!0],X_b:["useCorrectDrainingAmounts",!0],EU:["enableNewAse",!1],laa:["useNewApi",!1],X3:["aseDiagnostics",[{bj:"queue-audit",enabled:!0},{bj:"task-audit",enabled:!0},{bj:"trace-ShimSession",enabled:!0},{bj:"trace-engine",enabled:!0},{bj:"trace-RequestPacer",enabled:!0},{bj:"trace-BufferStateTracker",enabled:!0},{bj:"trace-GraphStreamingProcess",enabled:!0},{bj:"trace-AsePlaygraph",enabled:!0},{bj:"playgraph-branch-audit",enabled:!0}]],Lrb:["branchDistanceThreshold",6E4],z7:["maxAllowedOutstandingRequests",4],mra:["minStreamableConcurrencyWindow",3E3],AMb:["maxStreamableConcurrencyWindow",Infinity],hwa:["streamableConcurrencyFactor",.3],DT:["bufferingConcurrencyWindow",7800],yia:["branchCreationThreshold",12E4],k4:["enableDiscontiguousBuffering",!1],gma:["forceImmediateTransitionTypeForTitles",[]],fma:["forceImmediateTransitionExitZone",0],mSa:["contiguousBufferMultiplier",3],kSa:["contiguousBufferMinimumAudio",1048576],lSa:["contiguousBufferMinimumVideo",8388608],FRb:["prefetchBudgetInBytes",0],I5a:["rebufferRiskHalfLife",1E4],qxa:["useBufferSizeLimiter",!1],i0b:["useStaticBufferSizeLimiter",!1],IRb:["prefetchWeightBudget",32],pra:["minimumDownstreamBranchProbability",.075],rxa:["useExitZones",!0],JRb:["prefetchWhilePlaying",!0],ORb:["prefetcherSoftReset",!0],H4a:["playgraphDefaultWeight",65520],tyb:["delayNotificationOfEoS",!1],VMb:["memDeadlockShouldCheckMemory",!0],UMb:["memDeadlockOverageThreshold",.9],TMb:["memDeadlockMaxUtilizationPercentage",.5],Usa:["playerPtsPadding",1]};b.fm=b.wub;},function(r,b,a){var c,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cr=b.ar=b.dr=b.Qz=b.F0=void 0;c=a(2);f=a(116);Object.defineProperties(b,{ar:{enumerable:!0,get:function(){return f.ar;}}});Object.defineProperties(b,{cr:{enumerable:!0,get:function(){return f.cr;}}});Object.defineProperties(b,{Qz:{enumerable:!0,get:function(){return f.Qz;}}});Object.defineProperties(b,{F0:{enumerable:!0,get:function(){return f.F0;}}});l=c.__importDefault(a(6));r=(function(m){function d(g,h,k,n,p){return m.call(this,d.console,g,h,k,n,p) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new l.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.dr);b.dr=r;},function(r,b,a){var c;b=a(175);c=a(943);a=b(function(f,l,m){return c(function(d,g,h){return f(g,h);},l,m);});r.exports=a;},function(r,b,a){var c,f;b=a(175);c=a(408);f=a(944);a=b(function h(m,d,g){return f(function(k,n,p){return c(n) && c(p)?h(m,n,p):m(k,n,p);},d,g);});r.exports=a;},function(r,b,a){var c;b=a(175);c=a(254);a=b(function(f,l,m){var d,g;d={};for(g in l){c(g,l) && (d[g]=c(g,m)?f(g,l[g],m[g]):l[g]);}for(g in m){c(g,m) && !c(g,d) && (d[g]=m[g]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(409);c=a(954);a=a(964);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,f=a.length,l=[];c < f;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(r,b,a){var c,f;b=a(128);c=a(411);f=a(949);a=b(function(l){return c(l)?!0:!l || "object" !== typeof l || f(l)?!1:1 === l.nodeType?! !l.length:0 === l.length?!0:0 < l.length?l.hasOwnProperty(0) && l.hasOwnProperty(l.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(256);b=a(59)(function(f,l){return c(f.length,function(){return f.apply(l,arguments);});});r.exports=b;},function(r,b,a){var c,f;b=a(59);c=a(412);f=(function(){function l(m,d){this.HZ=d;this.f=m;}l.prototype["@@transducer/init"]=c.xb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.HZ["@@transducer/step"](m,d):m;};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c,f;c=a(254);f=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === f.call(arguments)?function(l){return "[object Arguments]" === f.call(l);}:function(l){return c("callee",l);};};},function(r,b,a){var c;b=a(128);c=a(955);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});r.exports=a;},function(r,b,a){var c,f,l,m,d;b=a(59);c=a(414);f=a(415);l=a(957);m=a(958);d=a(963);a=b(function(g,h){return f(d(l,0,m("length",h)),function(){var k,n;k=arguments;n=this;return g.apply(n,c(function(p){return p.apply(n,k);},h));});});r.exports=a;},function(r,b,a){var f,l;function c(m,d,g){return function(){var q;for(var h=[],k=0,n=m,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!l(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);h[p]=q;l(q) || --n;p+=1;}return 0 >= n?g.apply(this,h):f(n,c(m,h,g));};}f=a(256);l=a(176);r.exports=c;},function(r,b,a){b=a(59)(function(c,f){return f > c?f:c;});r.exports=b;},function(r,b,a){var c,f;b=a(59);c=a(959);f=a(961);a=b(function(l,m){return c(f(l),m);});r.exports=a;},function(r,b,a){var c,f,l,m,d,g;b=a(59);c=a(410);f=a(414);l=a(255);m=a(960);d=a(415);g=a(413);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return l(function(n,p){n[p]=h(k[p]);return n;},{},g(k));default:return f(h,k);}}));r.exports=a;},function(r,b,a){var c,f;b=a(59);c=a(412);f=(function(){function l(m,d){this.HZ=d;this.f=m;}l.prototype["@@transducer/init"]=c.xb;l.prototype["@@transducer/result"]=c.result;l.prototype["@@transducer/step"]=function(m,d){return this.HZ["@@transducer/step"](m,this.f(d));};return l;})();a=b(function(l,m){return new f(l,m);});r.exports=a;},function(r,b,a){var c;b=a(59);c=a(962);a=b(function(f,l){return c([f],l);});r.exports=a;},function(r,b,a){b=a(59)(function(c,f){for(var l=0;l < c.length;){if(null == f)return;f=f[c[l]];l+=1;}return f;});r.exports=b;},function(r,b,a){b=a(175);a=a(255);a=b(a);r.exports=a;},function(r,b,a){var c,f;c=a(965);b=a(59);f=a(409);a=b(function(l,m){return f(c(l),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.kZa=void 0;r=a(0);c=a(420);f=a(967);l=a(422);m=a(968);d=a(416);g=a(993);h=a(430);k=a(995);n=a(417);p=a(996);q=a(418);v=a(997);u=a(434);t=a(259);w=a(998);x=a(431);y=a(999);z=a(1E3);A=a(419);B=a(1002);b.kZa=new r.od(function(D){D(c.HCa).to(f.GCa).aa();D(l.LCa).to(m.KCa).aa();D(d.tCa).to(g.sCa).aa();D(h.vCa).to(k.uCa).aa();D(x.Hza).to(y.Gza).aa();D(n.cIa).to(p.bIa).aa();D(q.pea).to(v.dKa);D(u.TQ).to(z.SQ);D(A.WQ).to(B.VQ);D(t.gca).to(w.OCa);});},function(r,b,a){var f,l,m,d;function c(g,h){this.PHb=g;this.log=h.hb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;r=a(1);f=a(0);l=a(7);m=a(421);d=a(87);c.prototype.download=function(g){var k,n,p,q,v;function h(u){if(v < n.length - 1)return (!1,v++,k.UTa(n[v].url,p,q).catch(h));throw u;}k=this;n=g.urls;p=g.offset;q=g.length;v=0;return this.UTa(n[v].url,p,q).catch(h);};c.prototype.UTa=function(g,h,k){return this.PHb.download({url:g,withCredentials:!1,responseType:d.ResponseType.Xbb,tC:"hls_headers",Cs:!0,offset:h,length:k},{H1a:1});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.RCa)),r.__param(1,f.l(l.ob))],a);b.GCa=a;},function(r,b,a){var f,l,m;function c(d){this.ta=d.hb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;r=a(1);f=a(0);l=a(260);a=a(7);c.prototype.parse=function(d,g,h){d=new l.dr(this.ta,{mediaType:d},g,["sidx"]).parse();if(d.qm && d.W)return this.E2(d.W,h);};c.prototype.E2=function(d,g){var h,k,n,p,q;h=0;k=0;n=0;p=d.offset;q=[];d.rd.forEach(function(v,u){k+=v;n+=d.sizes[u];if(1E3 * k / d.U >= g || u === d.rd.length - 1)(q.push({duration:k / d.U,Y:h / d.U,byteOffset:p,dsb:n}),h+=k,k=0,p+=n,n=0);});return q;};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.ob))],m);b.KCa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.uc();this.cc=1 === this.version?this.Ii([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.Ii([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};l.Vb="mvhd";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.Vb="trak";l.Oa=!0;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.uc();m=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];m=m.concat({offset:64,type:"offset"},{FKb:"int16"},{eqb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.cc=this.Ii(m);this.cc.vZb=! !(this.flags & 1);this.cc.wZb=! !(this.flags & 2);this.cc.xZb=! !(this.flags & 4);this.cc.yZb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};l.Vb="tkhd";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.uc();this.cc=this.Ii(1 === this.version?[{T4:"int64"}]:[{T4:"int32"}]);return !0;};l.Vb="mehd";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.cc=this.Ii([{IHb:"int32"},{D0b:"int32"}]);return !0;};l.Vb="pasp";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.cc=this.Ii([{Srb:"int32"},{maxBitrate:"int32"},{mia:"int32"}]);return !0;};l.Vb="btrt";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.u.Gl();this.u.Gl();for(this.ZF=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.ZF.push(this.u.Gl());}return !0;};l.Vb="ftyp";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(88);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.cc=this.Ii([{zRb:"int32"},{wV:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.cc.wV=f.Wn(this.cc.wV);return !0;};m.Vb="hdlr";m.Oa=!1;return m;})(a(32).yc);b.default=r;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(105);l=a(262);m=a(177);r=a(32);d=a(106);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.uc();this.hm=this.u.wa();return !0;};h.prototype.Ft=function(k){var n;n=Object.keys(this.Ua);n.length && (n=n[0],this.Ua[n].length && (n=this.Ua[n][0],n instanceof m.default?this.qa=new l.S(n.dz,n.samplerate):n instanceof d.default && (n=n.Ua[f.IE]) && n.length && (n=n[0].cc,1E3 !== n.Oy && 1001 !== n.Oy || 0 !== n.AH % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.AH + "/" + n.Oy):this.qa=new l.S(n.Oy,n.AH)),this.qa && (k.qa=this.qa)));return !0;};h.prototype.UX=function(k){void 0 !== this.Ua[k] && 0 !== this.Ua[k].length && (this.la.Tg(this.hm - 1,this.byteOffset + 12),k=this.Ua[k][0],this.Fe(k.byteLength,k.byteOffset));};h.Vb="stsd";h.Oa=!0;return h;})(r.yc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.pma=this.u.tc(2);this.zia=this.u.tc(5);this.Aia=this.u.tc(3);this.jha=this.u.tc(3);this.u.tc(1);this.u.tc(5);this.u.tc(5);return !0;};l.Vb="dac3";return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d;this.Tra=this.u.Qc() & 7;this.owa=[];for(var m=0;m < this.Tra;m++){d={pma:this.u.tc(2),zia:this.u.tc(5),Aia:this.u.tc(5),jha:this.u.tc(3),HKb:this.u.tc(1),Sra:this.u.tc(4)};0 < d.Sra?d.$sb=this.u.tc(9):this.u.tc(1);this.owa.push(d);}return !0;};l.Vb="dec3";return l;})(a(32).yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(32);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.gY=this.u.Gl();f.ga && this.u.console.trace("SchemeTypeBoxTranslator: " + this.gY);"cenc" === this.gY && (this.u.offset-=4,f.ga && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.la.EZ("piff"));this.u.wa();return !0;};m.Vb="schm";m.Oa=!1;return m;})(f.yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m;this.u.lb();this.$aa=this.u.lb();this.u.lb();this.u.lb();this.u.lb();this.BY=this.uF(this.u.lb() & 31);this.uF(this.u.lb());this.nA=this.BY.length?this.BY[0][0]:this.$aa;this.ES=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.nA || 110 === this.nA || 122 === this.nA || 144 === this.nA) && (this.u.lb(),this.u.lb(),this.uF(this.u.lb()));m=this.startOffset + this.length - this.ES;0 < m && this.Fe(m,this.ES);return !0;};l.prototype.uF=function(m){var h;for(var d=[],g=0;g < m;++g){h=this.u.Qc();d.push(this.u.rA(h));}return d;};l.Vb="avcC";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Ft=function(){var m;m=this.xl("esds");if(m=m && m.Tba.xl(5))this.dz=m.dz;return !0;};l.Vb="mp4a";l.Oa=!0;return l;})(a(177).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(264);r=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.Tba=f.nQ.JX(this.u);return !0;};m.Vb="esds";m.Oa=!1;return m;})(a(32).yc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(105);a=a(32);f=r.IE;a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.parse=function(){this.uc();this.cc=this.Ii([{AH:"int32"},{Oy:"int16"}]);return !0;};m.Vb=f;m.Oa=!1;return m;})(a.yc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var m,d,g,h,k;this.uc();m=this.Ii([{NI:"int32"},{iU:"int32"},{Ly:"int32"},{Ny:"int32"},{My:"int32"}]);d=m.NI;g=m.iU;h=m.Ly;k=m.My;m=m.Ny;this.cc={trackId:d,lyb:g,Ky:h,myb:k,nyb:m};this.NI=d;this.iU=g;this.Ly=h;this.Ny=m;this.My=k;return !0;};l.Vb="trex";l.Oa=!1;return l;})(a(32).yc);b.default=r;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(987);l=a(268);m=a(149);d=a(262);g=a(32);r=a(425);h=a(426);k=a(428);n=a(150);p=a(261);q=a(105);v=a(429);a=(function(){function u(t,w,x,y,z,A){this.console=t;this.stream=w;this.Gh=y;this.zha=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.SYa=n.Mma();}u.path=function(t,w){return w.reduce(function(x,y){return x && x.Ua[y] && x.Ua[y][0];},t);};u.bna=function(t){return t && t.ZF && -1 !== t.ZF.indexOf("mcl0")?"mcl0":void 0;};u.Lla=function(t,w){var x,y;m.assert("mcl0" === t,"Unsupported McClearen brand");x=w.W;t=x.rd;w=new d.S(120,1).Vf(x.U).Zb;y=0;for(x=x.Zk;y < t.length && x < w;){x+=t[y++];}return y;};u.prototype.parse=function(t){var w;w=this.Oua();if(!w.done){if(w.JW)return {qm:!1,fPa:w.JW};this.console.error("Scan error: " + w.error);return {qm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);t=this.ssa(t);return t.done?this.Nja():(this.console.error("Parse error: " + t.error),{qm:!1,parseError:t.error || "unknown mp4 parse error"});};u.prototype.en=function(t){return g.yc.en(this,t);};u.prototype.xl=function(t){return g.yc.xl(this,t);};u.prototype.Oua=function(){var t,w;t=new v.mca(this.Gh,this.zha?[q.yx,q.xx]:[],this.config && this.config.MYb || ["moof",q.eR],this.config && this.config.iX);w=c.__assign(c.__assign({},this.config),{GH:!1});return new k.lE(u.gI,t,this.view,this.console,w).parse();};u.prototype.ssa=function(t){var w,x,y;w=new v.iQ(this.view.byteLength);x=Object.create(p.uq.Ua);this.config && ((this.config.T8 || this.config.Z$ || this.config.RD) && f(p.uq.eI,x),this.config.$$ && f(p.uq.Nwa,x),this.config.Z$ && f(p.uq.eZ,x));y=c.__assign(c.__assign({},this.config),{GH:!0});this.mc=new k.lE(x,w,this.view,this.console,y);t=this.mc.parse(t);t.done && (this.Ua=this.mc.Ua);return t;};u.prototype.Nja=function(){var t,w,x,y,z,A;t={qm:!0};w=u.path(this,["moov"]);x=u.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.T8)if(x)(t.qa=x.qa,t.VUb=x.Ua);else return {qm:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[q.jR])) && (t.EUa={Cub:y.dj,bH:y.bH,iKb:!1});if(y=u.path(w,["trak","mdia","mdhd"]))t.U=y.U;if(y=u.path(w,["mvex","trex"]))t.Ky=y && y.cc.Ky;t.Ky && t.U && (t.qa=new d.S(t.Ky,t.U));if(y=u.path(this,["sidx"])){z=u.path(this,[q.yx]);z=z && z.Rqa;A=u.path(this,[q.xx]);A=A && A.Vh;t.W=y.W;t.tH=z;t.Vh=A;}if(z=this.Ua.vmaf && this.Ua.vmaf[0])t.Rq=z.Rq;if(this.config.M6a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.RD && x && 1 < x.hm && y && (t.Pg=this.RD(x,y)),void 0 === t.Pg && (w=this.mc.Uy?l.concat(this.mc.oa()):this.view.buffer,t.Pg=[{Wd:0,data:w}]));else return {qm:!1,parseError:"Missing movie box"};t.qm=!0;t.jX=this.mc.offset;return t;};u.prototype.trim=function(t){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(t,this.view.byteLength));this.mc.trim(t);this.view=new DataView(w);};u.prototype.RD=function(t,w){var x,y,z;x=Object.keys(t.Ua);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);z=u.bna(x);if(z)return (x=[],this.mc.Bta(),t.UX("encv"),x.push({Wd:0,Jk:!1,data:l.concat(this.mc.oa())}),this.mc.bta(),t.UX(y[0]),t=u.Lla(z,w),x.push({Wd:t,Jk:!0,data:l.concat(this.mc.oa())}),x);}};u.gI={};return u;})();b.dr=a;a.gI[q.JE]=r.default;a.gI[q.KE]=h.default;},function(r){r.exports=function f(a,c){var l;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){l=Object.getOwnPropertyDescriptor(a,m);void 0 !== l && Object.defineProperty(c,m,l);});};},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(149);l=a(268);m=a(88);r=a(989);d=(function(){function g(h){h?(this.Df=h.Df.slice(),this.Ug=h.Ug.slice(),this.Rd=h.Rd.slice(),this.trim=h.trim):(this.Df=[],this.Ug=[],this.Rd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Df.length && 0 === this.Ug.length && 0 === this.Rd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(k,n,p){k=g.call(this,k,n,p) || this;k.yU=[];k.kb=new d();return k;}c.__extends(h,g);h.Qha=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.Ku?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.Ku?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Ku);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{Uy:{get:function(){return !this.kb.empty;},enumerable:!0,configurable:!0}});h.prototype.YA=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Mxa=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:2,Ku:!1});void 0 === n && (this.offset+=2);};h.prototype.Tg=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:4,Ku:!1});void 0 === n && (this.offset+=4);};h.prototype.Nxa=function(k,n){this.kb.Ug.push({offset:void 0 !== n?n:this.offset,value:k,size:8,Ku:!1});void 0 === n && (this.offset+=8);};h.prototype.EZ=function(k){this.Tg(m.VR(k));};h.prototype.YI=function(k,n){this.kb.Rd.push({offset:this.offset,rl:k,value:n});this.offset+=4;};h.prototype.Fe=function(k,n,p){this.kb.Df.push({offset:n,remove:k,eb:p});};h.prototype.Cu=function(k,n,p,q){this.kb.Df.push({offset:p,remove:k,replace:n,eb:q});};h.prototype.trim=function(k){this.kb.trim=k;};h.prototype.Bta=function(){this.yU.push(new d(this.kb));};h.prototype.bta=function(){this.kb=this.yU.pop() || new d();};h.prototype.oa=function(){var k,n,p,q,v,u,t;k=this;if(0 === this.kb.Df.length && 0 === this.kb.Ug.length && 0 === this.kb.Rd.length)return [void 0 === this.kb.trim?this.view.buffer:this.view.buffer.slice(0,this.kb.trim)];this.kb.Df.sort(function(w,x){return w.offset - x.offset;});this.kb.Ug.sort(function(w,x){return w.offset - x.offset;});this.Bua();n=this.Ila();p=this.view.buffer.slice(0,n);q=new DataView(p);this.kb.Ug.forEach(h.Qha.bind(void 0,q));this.hxa(q);this.fxa(q);v=[];u=void 0 !== this.kb.trim?Math.min(this.kb.trim,this.view.byteLength):this.view.byteLength;t=0;this.kb.Df.filter(function(w){return w.offset <= u;}).forEach(function(w){w.offset > t && (v.push(q.buffer.slice(t,w.offset)),w.offset > q.byteLength && q !== k.view && (q=k.view,v.push(q.buffer.slice(n,w.offset))));w.replace && v.push(w.replace);t=w.offset + w.remove;});t < n && v.push(p.slice(t));t < u && v.push(this.view.buffer.slice(Math.max(p.byteLength,t),u));return v;};h.prototype.Ila=function(){var k,n,p;k=[];n=this.kb.Ug[this.kb.Ug.length - 1];p=this.kb.Rd[this.kb.Rd.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.kb.Df.filter(function(q){return q.eb;}).forEach(function(q){return k.push(q.eb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.kb.trim?Math.min(n,this.kb.trim):n;};h.prototype.Bua=function(){this.kb.Df=this.kb.Df.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (f.assert(p.eb === n.eb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?l.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.hxa=function(k){var n;n=this;this.kb.Rd.forEach(function(p){var q,v,u,t;q=k;v=p.offset;n.kb.Df.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),v=p.offset - w.offset,!0):!1;});u=p.rl + (void 0 !== p.value?p.value:q.getInt32(v));t=n.kb.Df.reduce(function(w,x){return x.offset > p.rl && x.offset < u?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);q.setInt32(v,u - p.rl - t);});};h.prototype.fxa=function(k){this.kb.Df.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.eb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.Gea);b.Fea=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);a(150);f=a(88);r=(function(){function l(m,d,g){this.view=m;this.console=d;this.config=g;this.view=m;this.console=d;this.sn=this.sy=this.offset=0;}l.prototype.Jma=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};l.prototype.tc=function(m){for(;this.sn < m;){this.sy=(this.sy << 8) + this.lb();this.sn+=8;}this.sn-=m;return this.sy >>> this.sn & (1 << m) - 1;};l.prototype.lb=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};l.prototype.Qc=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};l.prototype.wa=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};l.prototype.UH=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};l.prototype.Csa=function(m,d){var g;g=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + m;};l.prototype.Sd=function(m,d){m=this.Csa(m,d);this.offset+=8;return m;};l.prototype.Dsa=function(m,d){var g;g=this.view.getInt32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + m;};l.prototype.Pta=function(){var m;m=this.Dsa(void 0,void 0);this.offset+=8;return m;};l.prototype.Gl=function(){return f.Wn(this.wa());};l.prototype.tA=function(){var d,g,h,k,n,p;function m(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.wa(!0);g=this.Qc(!0);h=this.Qc(!0);k=this.Qc();n=this.Qc();p=this.wa();return [m(d,4),m(g,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};l.prototype.Mta=function(m){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + m);};l.prototype.Kta=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var g=this.lb();0 !== g && 0 <= --m;){d.push(g);g=this.lb();}return String.fromCharCode.apply(null,d);};l.prototype.rA=function(m){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Eh(this.config.SA && c.Rna || c.jq,1,m,d,g);};l.prototype.Ita=function(m,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Eh(this.config.SA && c.Pna || c.kz,2,m,d,g,h);};l.prototype.qA=function(m,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.Eh(this.config.SA && c.Qna || c.Ot,4,m,d,g,h);};l.prototype.Nta=function(){for(var m=this.lb(),d=m & 127;m & 128;){m=this.lb();d=d << 7 | m & 127;}return d;};l.prototype.Eh=function(m,d,g,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,g,h,n);this.offset=k || !h || h === d?this.offset + g * (h || d):this.offset + d;return m;};return l;})();b.Gea=r;},function(r,b,a){var l,m,d,g;function c(h,k,n,p){m.call(this,h,k,n,p);}function f(h,k,n){m.call(this,h,k,n,void 0);}l=a(105);m=a(269).ar;d=a(427);g=a(88).VR;c.prototype=Object.create(m.prototype);f.prototype=Object.create(c.prototype);f.prototype.Ifa=function(h,k){return "string" === typeof k?d[k]:k?d.reset[h] || d.Sva[h]:d.Sva[h];};f.prototype.fua=function(h,k,n){return this.oa(h,k,!1,n,void 0);};f.prototype.jua=function(h,k,n){return this.oa(h,k,!0,n,void 0);};f.prototype.oa=function(h,k,n,p,q){var u,t,w,x,y,z,A,B,D,E,F,C,G,J;function v(K){t=u[K];w=t.Jh("traf");if(void 0 === w || void 0 === w.Sj)return !1;A=w.Jh("tfdt");if(void 0 === A)return !1;x=w.Jh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Ua.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!v(h,this.mc.console.trace))return !1;if(x.Ib > y || n && x.Ib === y)break;y-=x.Ib;}}else if((h=n?u.length - 1:0,!v(h,this.mc.console.trace)))return !1;if(n && h < u.length - 1){z=u[h + 1];this.mc.Fe(this.Ixb - z.startOffset,z.startOffset);}else !n && 0 < h && this.mc.Fe(t.startOffset,0);z=w.Jh("tfhd");if(void 0 === z)return !1;A=w.Jh("tfdt");B=x.Ib;D=w.Jh("saiz");E=w.Jh("saio");F=w.Jh(l.iR);C=w.Jh("sbgp");if(!(!D && !E || D && E))return !1;G=w.Jh("sdtp");if(this.Ua.mdat && h < this.Ua.mdat.length)J=this.Ua.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Ib:0);if(x.oa(w,z,J || this.mc,k,y,w.Sj,n))x.Uy && (!n && A && A.oa(x.Qva),D && E && (D.oa(x.Mq,n),E.oa(F?0:D.dI,w.Sj,n)),F && F.oa(x.Mq,n),G && G.oa(x.Mq,B,n),C && C.oa(x.Mq,n));else if(!n){if(h === u.length - 1)return !1;this.mc.Fe(u[h + 1].startOffset - t.startOffset,t.startOffset);}else if(0 === x.Mq)return !1;p && (k=this.Ifa(this.stream.profile,q)) && x.mua(w,z,J,n,p,k);n=this.mc.oa();p=n.reduce(function(K,H){return K + H.byteLength;},0);n={yd:n,length:p,Bn:this.mc.view.byteLength};x.Uy && !J && (n.Fq=w.Sj + x.Fq,n.Ji=x.Ji);return n;};r.exports={cr:f,Qz:function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return k;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(269);f=a(268);a=(function(l){function m(){return null !== l && l.apply(this,arguments) || this;}c.__extends(m,l);m.prototype.oa=function(d){var g,h,k,n;g=this;if(!this.parse().done)return !1;h=this.Ua.moov;if(!h || 0 === h.length)return !1;k=h[0].xl("tenc");if(!k)return !1;n=new Uint8Array(k.dj);d.forEach(function(p){for(var q=p.from,v=!0,u=0;u < q.length;u++){if(n[u] !== q[u]){v=!1;break;}}v && g.mc.Cu(p.from.length,p.to,k.bH);});return f.concat(this.mc.oa());};return m;})(r.ar);b.yJ=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Ej || (b.Ej={});r[r.Lb=0]="AUDIO";r[r.Jb=1]="VIDEO";},function(r,b,a){var d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z,A){this.hU=z;this.Ac=y.filter(function(B){return B.Wwa[q.Km.Q0];}).map(function(B){return {track:B,stream:B.Wwa[q.Km.Q0],id:B.YTa[q.Km.Q0]};});A || (this.Ac=this.Ac.filter(function(B){return B.track.hh === z;}));}function f(y,z,A){var B;this.CI=z;this.gu=A;B=y[0];this.MI=B.streams.map(function(D){return {track:B,UM:D.B8a,stream:D};});}function l(y,z,A,B,D){function E(F,C){return F.bitrate > C.bitrate?F:C;}this.log=y;this.CI=A;this.hU=B;this.MI=z.map(function(F){var C;C=F.streams.reduce(E);return {track:F,UM:C.FA?C.FA.offset + C.FA.size:void 0,stream:C};});D || (this.MI=this.MI.filter(function(F){return F.track.hh === B;}));}function m(y,z,A,B,D,E){this.tHb=y;this.uHb=z;this.pRb=A;this.Usb=B;this.PG=D;this.Sf=E;this.ta=E.hb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.cjb=b.ojb=b.Dbb=b.sCa=void 0;r=a(1);d=a(0);g=a(260);h=a(420);k=a(422);n=a(3);p=a(41);q=a(44);v=a(430);u=a(431);t=a(259);w=a(7);x=a(994);m.prototype.zi=function(y,z){var A,B,D,E,F,C;A=this;E=y.Wc;y=this.fDb(E,z);F=this.AGb(E,z);C=null !== (D=null === (B=E.NX) || void 0 === B?void 0:B.lP) && void 0 !== D?D:E.Fwa.find(function(G){var J;return G.id === (null === (J=E.T3) || void 0 === J?void 0:J[0].d9a);}).hh;B=new c(E.Fwa,C,this.PG.Hha);return Promise.all([y,F,B]).then(function(G){var J,K;J=aa(G);G=J.next().value;K=J.next().value;J=J.next().value;G={audio:G.getMetadata(),video:K.getMetadata(),text:J.getMetadata(),iTa:G.Kma(),pyb:J.Kma(),duration:E.duration,Qo:E.Qo};K=A.Usb.EDb(G);z("h_s");return {XLb:A.pRb.transform(G,K),Xsb:K,QXb:G};});};m.prototype.AGb=function(y,z){var A;A=new f(y.WA,this.PG.lZa,this.PG.gu);return this.STa(A.MI,g.Ej.Jb,z).then(function(B){A.qva(B);return A;});};m.prototype.fDb=function(y,z){var A,B,D,E;D=null !== (B=null === (A=y.NX) || void 0 === A?void 0:A.Wm) && void 0 !== B?B:y.qT.find(function(F){var C;return F.id === (null === (C=y.T3) || void 0 === C?void 0:C[0].Wm);}).hh;E=new l(this.ta,y.qT,this.PG.uw,D,this.PG.Hha);return this.STa(E.MI,g.Ej.Lb,z).then(function(F){E.qva(F);return E;});};m.prototype.usa=function(y,z,A,B){if(y=this.uHb.parse(z,y,A))return y;this.ta.error("Failed to parse headers",{type:z === g.Ej.Lb?"audio":"video",downloadableId:B.stream.Er});};m.prototype.STa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(D,E){if(D.UM)return B.tHb.download({urls:D.stream.urls,offset:0,length:D.UM}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + E + "_s");return B.usa(F,z,z == g.Ej.Lb?B.PG.uw:B.PG.$z,D);}).catch(function(){A("h_" + D.track.cl[0] + "_" + E + "_f");B.ta.warn("Failed to download and parse headers for " + D.stream.Er);});B.ta.warn("Stream data offset is missing",{downloadableId:D.stream.Er});}));};a=m;a=r.__decorate([d.R(),r.__param(0,d.l(h.HCa)),r.__param(1,d.l(k.LCa)),r.__param(2,d.l(v.vCa)),r.__param(3,d.l(u.Hza)),r.__param(4,d.l(t.gca)),r.__param(5,d.l(w.ob))],a);b.sCa=a;l.prototype.qva=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.md.Nab(n.M.pDa,n.L.Pca);this.Ac=this.MI.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,W:B,CI:z.CI};}).filter(x.ppa);};l.prototype.getMetadata=function(){return this.Ac;};l.prototype.Kma=function(){var y,z;y=this;if(!this.Ac.find(function(A){return A.track.hh === y.hU;}) && 0 < this.Ac.length){z=this.Ac[0].track.hh;this.log.warn("Did not find metadata for audio track " + this.hU + ", falling back to " + z);return z;}return this.hU;};b.Dbb=l;f.prototype.qva=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.md.Nab(n.M.pDa,n.L.Qca);A=this.MI.map(function(B,D){if(D=y[D])return {track:B.track,stream:B.stream,W:D,CI:z.CI};}).filter(x.ppa);this.Ac=this.pFb(A);};f.prototype.getMetadata=function(){return this.Ac;};f.prototype.pFb=function(y){var z,A,B;z=this;y.sort(function(D){return D.stream.bitrate;});A=y.findIndex(function(D){var E;return (null !== (E=D.stream.Eb) && void 0 !== E?E:0) >= z.gu;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.ojb=f;c.prototype.Kma=function(){return this.hU;};c.prototype.getMetadata=function(){return this.Ac;};b.cjb=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ppa=void 0;b.ppa=function(a){return void 0 !== a && null !== a;};},function(r,b,a){var f,l,m,d,g,h;function c(k){this.ta=k.hb("HLSPlaylistTransformerImpl");this.L0b=d.Oba.Pp();this.Tqb=g.Nba.Pp();}Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;r=a(1);f=a(0);l=a(7);m=a(129);d=a(432);g=a(433);h=[0,1];c.prototype.transform=function(k,n){var p,q,v,u,t,w,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=k.text;u=k.audio;t=k.video;w=k.duration;x=k.iTa;y=k.pyb;v.forEach(function(A){h.forEach(function(B){var D,E,F,C;D=0 === B;E=A.stream;F=A.track;C=n.get(A.id);D=D?C.dO:C.V9;E=p.mGb({url:D.url,duration:w / 1E3,size:E.size,am:"Manifest for subtitles " + F.language + ' stream "' + F.eD + '", ' + F.hh + ", cdn " + D.Np});p.ta.trace("Text variant manifest",E.join("\n"));B=p.nGb({groupId:B,name:F.eD,Xoa:F.hh === y,oq:F.O6,aJb:F.cl === m.mp.Jaa,language:F.language,uri:p.x7(E)});q.push(B);});});u.forEach(function(A){h.forEach(function(B){var D,E,F,C,G,J;D=0 === B;E=A.stream;F=A.track;C=A.W;G=A.CI;J=n.get(E.Er);D=D?J.dO:J.V9;E=p.DXa({url:D.url,UM:E.FA.offset + E.FA.size,W:C,r9a:Math.floor(G / 1E3),am:"Manifest for audio " + F.language + ' stream "' + F.eD + '", ' + F.hh + ", cdn " + D.Np});p.ta.trace("Audio variant manifest",E.join("\n"));B=p.gDb({groupId:B,language:F.language,name:F.eD,Xoa:F.hh === x,uri:p.x7(E)});q.push(B);});});z=this.Tqb[u[0].track.profile];t.forEach(function(A){h.forEach(function(B){var D,E,F,C,G,J;D=0 === B;E=A.stream;F=A.track;C=A.W;G=A.CI;J=n.get(E.Er);J=D?J.dO:J.V9;D=0 < v.length;F=p.DXa({url:J.url,UM:E.FA?E.FA.offset + E.FA.size:E.B8a,W:C,r9a:Math.floor(G / 1E3),am:"Manifest for video bitrate " + E.bitrate + ", stream " + F.hh + ", cdn " + J.Np});p.ta.trace("Video variant manifest",F.join("\n"));B=p.BGb({groupId:B,vT:1E3 * E.bitrate,grb:1E3 * E.bitrate,BJb:0 <= E.eG.indexOf("-hdr-") || 0 <= E.eG.indexOf("-dv5-"),framerate:(E.VVa / E.UVa).toFixed(3),bI:E.w6a + "x" + E.x6a,H0b:p.L0b[E.eG],Pqb:z,OYb:D});q.push(B);B=p.x7(F);q.push("" + B);});});this.ta.trace("Primary manifest",q.join("\n"));return this.x7(q);};c.prototype.gDb=function(k){var n;n=k.Xoa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.DXa=function(k){var n;n=["#EXTM3U","# " + k.am,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.r9a,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k.UM + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.W.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.Y.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.dsb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.BGb=function(k){var n,p;n=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.vT,"AVERAGE-BANDWIDTH=" + k.grb,"VIDEO-RANGE=" + (k.BJb?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.bI,'CODECS="' + k.H0b + "," + k.Pqb + '"'];k.OYb && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.mGb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.am,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.nGb=function(k){var n,p,q;n=k.Xoa;p=k.language;q=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.oq?"YES":"NO")];k.aJb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.x7=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.ob))],a);b.uCa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){var p;function n(){p.Asa.then(function(q){p.ta.trace("Unloading PBO Playdata Services");q.close();});d.df.removeListener(d.zl,n);}p=this;this.k4a=k;this.Asa=k();this.ta=h.hb("PlayerPlaydataMonitorImpl");d.df.addListener(d.zl,n);}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;r=a(1);f=a(0);l=a(7);m=a(152);d=a(60);g=a(15);c.prototype.Uo=function(h,k){this.Asa.then(function(n){n.Uo(k,!0,function(p){return h.close(p);});n.Yva(k);h.addEventListener(g.Ka.Zsa,function(){h.pq() && n.j7a(k).catch(function(p){(p=p.YN) && h.close(p);});});h.addEventListener(g.Ka.Jn,function(){n.e$(k).catch(function(p){(p=p.YN) && h.close(p);});});h.addEventListener(g.Ka.Vm,function(){n.e$(k).catch(function(p){(p=p.YN) && h.close(p);});});});};c.prototype.GY=function(h){return this.Asa.then(function(k){k.M8a();return k.GY(h).catch();});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.nR))],a);b.bIa=a;},function(r,b,a){var f,l,m,d;function c(g){this.dra={};this.q6={};this.i7=-1;this.mwa=new m.ac(null);this.kta=new m.ac(null);this.ta=g.hb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.dKa=void 0;r=a(1);f=a(0);l=a(47);m=a(80);a=a(7);c.prototype.xb=function(g,h,k){var n;n=this;g.forEach(function(p){p.stream.urls.forEach(function(q){n.dra[q.url]=[p,q.Np];});});this.nTa=h;this.hyb=k;new PerformanceObserver(function(p){n.q_b(p.getEntries());}).observe({type:"resource",buffered:!1});};c.prototype.z7a=function(g){var h,k,n;k=this.o5(g);if(k !== this.i7){for(this.i7=k;0 <= k && !this.q6[k];){k--;}n=aa(null !== (h=this.q6[k]) && void 0 !== h?h:[this.nTa,this.hyb]);h=n.next().value;n=n.next().value;this.ta.debug("Setting time to " + g + ", using metadata from fragment " + k + " for " + (l.U1a(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));g=h.W[this.i7];k=g.Y;this.kta.set({stream:h,Zl:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + g.duration))},nC:n});}};c.prototype.o5=function(g){var h,k,n,p,q;h=this.nTa.W;g/=1E3;k=0;n=h.length - 1;if(g >= h[n].Y)return n;for(;n >= k;){p=k + Math.floor((n - k) / 2);q=h[p];if(g < q.Y)n=p - 1;else if(g >= q.Y + q.duration)k=p + 1;else return p;}return h.length - 1;};c.prototype.q_b=function(g){var h;h=this;g.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,p,q;n=k.name.indexOf("&fi=");if(0 < n){p=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(h.dra[p]){q=aa(h.dra[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(n) && k && (h.q6[n] && (h.i7=-1),h.q6[n]=[k,q],p=k.W[n].Y,!1,h.mwa.set(k,{VF:Math.floor(1E3 * p),nC:q}));}}});};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.ob))],d);b.dKa=d;},function(r,b,a){var f,l,m,d;function c(g){return l.We.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);a=a(45);la(c,l.We);Wa.Object.defineProperties(c.prototype,{ata:{configurable:!0,enumerable:!0,get:function(){return !0;}},uw:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},$z:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},lZa:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},gu:{configurable:!0,enumerable:!0,get:function(){return 80;}},Hha:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Yc,"playsInline")],d.prototype,"ata",null);r.__decorate([a.config(a.WC,"minAudioMediaRequestDuration")],d.prototype,"uw",null);r.__decorate([a.config(a.WC,"minVideoMediaRequestDuration")],d.prototype,"$z",null);r.__decorate([a.config(a.WC,"hlsVideoMediaRequestTargetDuration")],d.prototype,"lZa",null);r.__decorate([a.config(a.WC,"minStartingVideoVMAF")],d.prototype,"gu",null);r.__decorate([a.config(a.Yc,"allowMultipleAudioTextTracks")],d.prototype,"Hha",null);d=r.__decorate([f.R(),r.__param(0,f.l(m.Ol))],d);b.OCa=d;},function(r,b,a){var f,l;function c(m){this.ta=m.hb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;r=a(1);f=a(0);a=a(7);c.prototype.EDb=function(m){var g,h,k,n,p,q,v;function d(u,t,w){var x,y,z;x=u.map(function(A){return A.Np;});x.sort(function(A,B){return t[A] - t[B];});if(1 === x.length)(!1,k.set(w,{dO:u[0],V9:u[0]}));else {y=x.find(function(A){return g.has(A);});y || ((y=x.find(function(A){return !h.has(A);}))?g.add(y):(y=x[0],!1));z=x.find(function(A){return h.has(A) && A !== y;});z || ((z=x.find(function(A){return !g.has(A) && A !== y;}))?h.add(z):(z=x.find(function(A){return A !== y;}),!1));k.set(w,{dO:u.find(function(A){return A.Np === y;}),V9:u.find(function(A){return A.Np === z;})});}}g=new Set();h=new Set();k=new Map();n=m.video;p=m.audio;q=m.text;v=m.Qo.reduce(function(u,t){u[t.id]=t.Zd;return u;},{});n.forEach(function(u){u=u.stream;d(u.urls,v,u.Er);});p.forEach(function(u){u=u.stream;d(u.urls,v,u.Er);});q.forEach(function(u){var t,w;if(!u.track.$C || u.track.O6){t=u.track;w=u.id;u=Object.entries(u.stream.Rv).map(function(x){var y;y=aa(x);x=y.next().value;y=y.next().value;return {Np:Number(x),url:y};});t=t.fRa.reduce(function(x,y){x[y.id]=y.Zd;return x;},{});d(u,t,w);}});return k;};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.ob))],l);b.Gza=l;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v,u){this.Sf=n;this.Mz=p;this.Rf=q;this.qc=v;this.za=u;}Object.defineProperty(b,"__esModule",{value:!0});b.SQ=void 0;r=a(1);f=a(0);l=a(17);m=a(7);d=a(49);g=a(178);h=a(89);k=a(1001);c.prototype.create=function(n){return new k.UQ(this.Sf,this.Mz,this.Rf,this.za,this.qc,n);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.ob)),r.__param(1,f.l(h.tx)),r.__param(2,f.l(d.Fm)),r.__param(3,f.l(g.Gca)),r.__param(4,f.l(l.cd))],a);b.SQ=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v,u,t){var w;w=this;this.Mz=p;this.Rf=q;this.za=v;this.qc=u;this.gra=this.XC=this.YX=0;this.eH=!1;this.nD=function(){var x;x=w.qX();x.prstate=w.iz();x.paustate=w.j.RV();x.midplayseq=w.gra++;w.qc.WM(x);w.Bc(f.Xc.nD,void 0,k.ye | k.Os,x);};this.Wh=function(){w.Bc(f.Xc.yQa,void 0,k.ye | k.cp,{});};this.Jn=function(x){w.Qpa=w.getTime();w.$V=x.oldValue;};this.nT=function(x){w.Dpa=x.oldValue;};this.V8=function(x){x != w.eH && (w.$va(w.eH,x),w.eH=x);};this.$va=function(x,y){var z;z=w.j.va;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};w.qc.lq(x,z.ke.value && z.ke.value.stream,z.gf.value && z.gf.value.stream);w.Bc(f.Xc.K8a,void 0,k.ye,x);};this.AY=function(x){w.Bc(f.Xc.z8a,void 0,k.ye,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.LA=function(x){var y,z,A;y=w.j.va;z=y.ic.value;if(x.newValue || z && z.Qr() && !z.oq()){A={};A.newtrack=x.newValue?x.newValue.kg:null === z || void 0 === z?void 0:z.kg;A.oldtrack=w.$V?w.$V.kg:{};A.switchDelay=l.Of(w.getTime() - w.Qpa);w.qc.lq(A,y.ke.value && y.ke.value.stream,y.gf.value && y.gf.value.stream);w.Bc(f.Xc.O9a,void 0,k.ye,A);}};this.Nsa=function(x,y){var z;z=w.j.va;x={waittime:l.Of(x),abortedevent:"resumeplay",resumeplayreason:y};w.qc.lq(x,z.Se.value,z.Yg.value);w.Bc(f.Xc.e9,void 0,k.ye | k.cp,x);};this.zO=function(x,y,z){x={playdelay:l.Of(x),reason:z,intrplayseq:w.XC - 1,skipped:y};"repos" === z && (x.prstate=!0 === w.j.nj.value?"playing":"paused");w.Bc(f.Xc.zO,void 0,k.ye | k.Ms,x);};this.fia=function(){var x;w.Bc(f.Xc.dQa,void 0,k.ye,{switchdelay:l.Of(w.getTime() - w.Epa),newtrackinfo:w.j.va.Uc.value.trackId,oldtrackinfo:w.Hz.trackId,oldAudioDownloadableId:null === (x=w.Dpa) || void 0 === x?void 0:x.fd,newAudioDownloadableId:w.j.va.Yg.value.fd});};this.Vm=function(x){w.Epa=w.getTime();w.Hz=x.oldValue;};this.Osa=function(){var x,y,z;x=w.j.va;y={abortedevent:"startplay",trackid:x.wj,prstate:w.iz(),paustate:w.j.RV()};try{z=m.JG();z && (y.pdltime=z);l.Xb(y,x.jd,{prefix:"sm_"});}catch(A){}w.qc.p6(y,x);w.qc.XM(y,x.rg.value);w.qc.lq(y,x.Se.value,x.Yg.value);w.UG(y);w.Bc(f.Xc.e9,void 0,k.ye | k.Os | k.cp,y);};this.xL=function(x,y,z,A){x={moff:l.so(z),moffms:l.Of(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.fd,vdlidold:x.fd,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};w.Bc(f.Xc.xL,void 0,0,x);};this.qO=function(x,y,z){x={moffold:l.so(x),reposseq:w.YX++,prstate:w.iz(),paustate:w.j.RV()};w.qc.lq(x,z && z.stream,y && y.stream);w.Bc(f.Xc.qO,void 0,k.ye,x);};this.TD=function(x){var y,z,A,B,D;B=x.va;D={playdelaysdk:l.Of(w.j.FT()),applicationPlaydelay:l.Of(w.j.Pia()),playdelay:l.Of(w.j.Ria()),trackid:B.wj,bookmark:l.Of(B.Jv || 0),pbnum:B.index};w.j.Wh && (D.blocked=w.j.Wh);D.initvbitrate=w.j.KV;w.qc.Goa(D);w.qc.zZa(D);D.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.u4;w.KZa(D,B);D.pdltime=m.JG();l.Xb(D,B.jd,{prefix:"sm_"});D.ttTrackFields=null === (z=B.ic.value) || void 0 === z?void 0:z.kg;w.qc.vZa(D,B.Uc.value);w.qc.XM(D,B.rg.value);D.packageId=null === (A=B.sa) || void 0 === A?void 0:A.Wc.Ko;w.qc.WM(D);w.qc.p6(D,B);w.UG(D);w.Bc(f.Xc.TD,x.bi,k.ye | k.Ms | k.Os | k.pE | k.cp,D);};this.uG=function(){var x,y,z,A;x=w.j;y=x.va;x=x.bi;z=w.qX();z.paustate=!w.j.pq();z.muted=w.j.gpa();z.endreason=x?"error":w.j.Zoa()?"ended":"stopped";x && x && d.Uba(x.errorCode) && (A="info");w.qc.XM(z,y.rg.value);w.qc.WM(z);w.UG(z);w.Bc(f.Xc.uG,x,k.ye | k.Ms | k.Os | k.pE | k.cp,z,A);};this.kua=function(x,y,z){var A;A=w.j.va.gf;x={moff:l.so(z),moffms:l.Of(z),vdlidold:x.fd,vbitrateold:x.bitrate};w.qc.lq(x,y,A.value && A.value.stream);w.Bc(f.Xc.f6a,void 0,0,x);};this.iz=function(){var x;x=w.j.zb.value;return x === g.cb.Ec?"playing":x === g.cb.Vg?"paused":x === g.cb.Wq?"ended":"waiting";};this.ta=n.hb("LogblobBuilderImpl");this.j=t;}Object.defineProperty(b,"__esModule",{value:!0});b.UQ=void 0;f=a(270);l=a(24);m=a(50);d=a(3);g=a(15);h=a(4);c.prototype.getTime=function(){return this.za.Wb().da(h.ka);};c.prototype.KZa=function(n,p){var q;if(p=null === (q=p.rg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=m.NP(p.map(function(v){return v.bitrate;})),n.maxresheight=m.NP(p.map(function(v){return v.height;})));};c.prototype.UG=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.qX=function(){var n,p,q,v;n=this.j.va;p=n.Fl;q={totaltime:l.so(p.LM()),totalcontenttime:l.so(p.Nna()),reposcount:this.YX,intrplaycount:this.XC};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=n.Se.value;v && (q.videofr=v.framerate.toFixed(3));(v=p.zma()) && (q.abrdel=v);(v=p.WYa() && p.hWa()) && (q.tw_vmaf=v);(p=p.fWa()) && l.Xb(q,p);q.rbfrs=this.XC;this.KZa(q,n);return q;};c.prototype.Bc=function(n,p,q,v,u){var t,w;t=this;w=this.j.va;this.pha(v,p,q);p=u || (p?"error":"info");v=this.Mz.vt(n,p,v,w);this.Rf.Bc(v);"error" !== p && n !== f.Xc.uG || this.Rf.flush(!1).catch(function(){t.ta.debug("Failed to flush the logblobs");});};c.prototype.pha=function(n,p,q){var v;v=this.j.va;this.qc.yZa(n,v);q & k.ye && this.qc.GZa(n,v);q & k.Ms && this.qc.IZa(n,v);q & k.Os && this.qc.JZa(n,this.j.ln());p && q & k.pE && this.qc.BZa(n,v,p);q & k.cp && this.qc.Goa(n);};b.UQ=c;(function(n){n[n.ye=1]="MOFF";n[n.Ms=2]="PRESENTEDSTREAMS";n[n.Os=4]="SCREEN";n[n.pE=8]="FATALERROR";n[n.cp=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v,u){this.Rf=n;this.config=p;this.xa=q;this.za=v;this.jqa=u;}Object.defineProperty(b,"__esModule",{value:!0});b.VQ=void 0;r=a(1);f=a(0);l=a(17);m=a(37);d=a(13);g=a(49);h=a(434);k=a(1003);c.prototype.create=function(n){return new k.XQ(n,this.Rf,this.config,this.za,this.jqa.create(n));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.Fm)),r.__param(1,f.l(d.Rc)),r.__param(2,f.l(m.Lh)),r.__param(3,f.l(l.cd)),r.__param(4,f.l(h.TQ))],a);b.VQ=a;},function(r,b,a){var f,l,m;function c(d,g,h,k,n){var p;p=this;this.j=d;this.Rf=g;this.config=h;this.za=k;this.jb=n;this.KT=function(){p.fg();p.j.va.Uh.removeListener(p.LA);p.j.va.ic.removeListener(p.jb.Jn);p.j.va.Uc.removeListener(p.Vm);p.j.va.Yg.removeListener(p.jb.nT);p.j.nj.removeListener(p.K4a);p.j.rO.removeListener(p.kk);p.j.va.ke.removeListener(p.wX);p.j.zb.removeListener(p.Nv);p.j.zb.removeListener(p.vL);p.j.va.Se.removeListener(p.xZ);p.j.va.playbackRate.removeListener(p.jb.AY);p.j.removeEventListener(m.Ka.closed,p.KT);p.j.removeEventListener(m.Ka.T2,p.jb.Wh);};this.vL=function(){p.j.zb.value === m.cb.Ec && (p.j.zb.removeListener(p.vL),p.zq());};this.LA=function(q){p.jA && p.jb.LA(q);};this.kk=function(q){p.jA && void 0 !== q.newValue && (p.js && p.ap && p.jb.Nsa(p.getTime() - p.ap,p.js),p.js="repos",p.jb.qO(q.newValue,p.j.va.gf.value,p.j.va.ke.value),p.ap=p.getTime(),l.Nf(p.Nv));};this.K4a=function(q){p.jA && p.jb.V8(!q.newValue);};this.Vm=function(q){q.oldValue && (p.Hz=q.oldValue,p.jb.Vm(q),p.js="repos",p.ap=p.getTime(),l.Nf(p.Nv));};this.Nv=function(){var q;if(p.ap && p.j.zb.value !== m.cb.Jf){q=p.getTime() - p.ap;p.jb.zO(q,!1,p.js);p.Hz && p.Hz != p.j.va.Uc.value && p.jb.fia();p.ap=void 0;p.js=void 0;}};this.zq=function(){p.jA || (p.jA=!0,p.jb.TD(p.j),p.Moa(),p.config().w6 && (p.Az=nb.setTimeout(function(){p.Rf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.Az=void 0;},p.config().w6)));};this.fg=function(){p.Az && (nb.clearTimeout(p.Az),p.Az=void 0);p.lZ && p.lZ();p.jA?p.jb.uG():p.j.bi?p.jb.TD(p.j):p.jb.Osa();};this.xZ=function(q){q.oldValue && q.dm && q.dm.VF && p.jb.xL(q.oldValue,q.newValue,q.dm.VF,q.dm.vT);};this.wX=function(q){var v;if(q.newValue){v=q.newValue.stream;p.fH != v && (p.fH && p.jb.kua(p.fH,v,q.newValue.Zl.startTime),p.fH=v);}};this.u$();}Object.defineProperty(b,"__esModule",{value:!0});b.XQ=void 0;f=a(4);l=a(61);m=a(15);c.prototype.u$=function(){this.j.addEventListener(m.Ka.closed,this.KT);this.j.addEventListener(m.Ka.T2,this.jb.Wh);this.j.va.Uh.addListener(this.LA);this.j.va.ic.addListener(this.jb.Jn);this.j.va.Uc.addListener(this.Vm);this.j.va.Yg.addListener(this.jb.nT);this.j.nj.addListener(this.K4a);this.j.rO.addListener(this.kk);this.j.va.ke.addListener(this.wX);this.j.zb.addListener(this.Nv);this.j.zb.addListener(this.vL);this.j.va.Se.addListener(this.xZ);this.j.va.playbackRate.addListener(this.jb.AY);};c.prototype.getTime=function(){return this.za.Wb().da(f.ka);};c.prototype.Moa=function(){var d,g,h;d=this;h=[];this.config().Z1a && (this.config().$1a.forEach(function(k){h.push(nb.setTimeout(d.jb.nD,k));}),this.config().S7 && (g=nb.setInterval(this.jb.nD,this.config().S7)),this.lZ=function(){h.forEach(function(k){nb.clearTimeout(k);});g && nb.clearInterval(g);});};b.XQ=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.EI=void 0;r=a(0);c=a(1005);f=a(1006);l=a(435);m=a(436);b.EI=new r.od(function(d){d(m.BKa).to(c.AKa);d(l.yKa).Mi(new f.xKa());d(m.zKa).Ff(function(g){return function(){return g.eb.get(m.BKa);};});});},function(r,b,a){var f,l,m,d;function c(g){this.config=g;this.Mva=l.bb;this.VO=[];}Object.defineProperty(b,"__esModule",{value:!0});b.AKa=void 0;r=a(1);f=a(0);l=a(51);m=a(4);a=a(435);c.prototype.Nt=function(){var h;for(var g;0 < this.VO.length;){g=this.VO.shift();this.MOa(g);}g=void 0 === this.qU || void 0 === this.qG?m.bb:this.qG.Ca(this.qU);h=g.P_a()?0:this.Mva.da(l.kE) / g.da(m.ka);return {Bwa:Math.floor(h),c8b:g.da(m.ka)};};c.prototype.hpb=function(g){this.Mva=this.Mva.add(g.size);this.VO.push(g.wzb);for(this.VO.sort(function(h,k){return h.start.ul(k.start);});this.VO.length > this.config.xzb;){g=this.VO.shift();this.MOa(g);}};c.prototype.MOa=function(g){void 0 === this.qU && (this.qU=g.start);void 0 !== this.qG && 0 > this.qG.ul(g.start) && (this.qU=this.qU.add(g.start.Ca(this.qG)));if(void 0 === this.qG || 0 > this.qG.ul(g.end))this.qG=g.end;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.yKa))],d);b.AKa=d;},function(r,b,a){function c(f){this.xzb=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;r=a(1);a=a(0);c=r.__decorate([a.R()],c);b.xKa=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F;Object.defineProperty(b,"__esModule",{value:!0});b.Zm=void 0;r=a(0);c=a(25);f=a(13);l=a(1008);m=a(153);d=a(154);g=a(1009);h=a(271);k=a(1010);n=a(437);p=a(438);q=a(1011);v=a(272);u=a(11);t=a(443);w=a(1015);x=a(444);y=a(1016);z=a(274);A=a(1017);B=a(445);D=a(38);E=a(442);F=a(1018);b.Zm=new r.od(function(C){C(d.zR).to(g.RJa).aa();C(c.ix).to(l.zAa).aa();C(h.JDa).to(k.IDa).aa();C(p.Aza).to(q.zza).aa();C(h.BHa).Mi({isTypeSupported:u.LE && u.LE.isTypeSupported});C(v.ZZ).Mi(nb.cast || null);C(v.Bza).Mi(nb.castReceiverEme || null);C(n.OBa).$D(function(G){return {iEb:function(){return G.eb.get(D.qR);}};});C(m.kJ).$D(function(G){return G.eb.get(f.Rc);});C(t.lFa).to(w.iFa).aa();C(E.hFa).to(F.gFa).aa();C(x.kFa).to(y.jFa).aa();C(z.Yba).to(A.NBa).aa();C(B.IIa).Mi(nb);});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){this.config=k;this.dRa=n;this.TQb=p;this.vSb=this.hxb();}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;r=a(1);f=a(25);l=a(153);m=a(0);d=a(44);g=a(437);a=a(438);c.prototype.rYa=function(k){return this.dWa().sYa(k);};c.prototype.tYa=function(k){return this.Pt().sYa(k);};c.prototype.dWa=function(){this.aia && this.aia.type == this.config().bia || (this.aia=this.dRa.rwb(this.config().bia));return this.aia;};c.prototype.Pt=function(){this.raa && this.raa.type == this.config().saa || (this.raa=this.dRa.wxb(this.config().saa),this.raa.rha(this.TQb.iEb()));return this.raa;};c.prototype.wEb=function(k){var q;if(!k || !k.length)return f.pe.B_;k=this.WBb(k);for(var n=[f.pe.xR,f.pe.B_,f.pe.RJ,f.pe.px,f.pe.Hs,f.pe.aB,f.pe.Ix,f.pe.xj],p=n.length;p--;){q=n[p];if((0,this.vSb[q])(k))return q;}return f.pe.xR;};c.prototype.Qw=function(k){return this.Pt().Qw(k);};c.prototype.yy=function(k){return this.Pt().yy(k);};c.prototype.Lt=function(){return this.Pt().Lt();};c.prototype.l5=function(){return this.Pt().l5();};c.prototype.KY=function(){return this.Pt().KY();};c.prototype.IY=function(){return this.dWa().IY();};c.prototype.H$=function(){return this.Pt().H$();};c.prototype.LY=function(){return this.Pt().LY();};c.prototype.rM=function(k){return this.Pt().rM(k);};c.prototype.DM=function(){return this.Pt().DM();};c.prototype.C5=function(){return this.Pt().C5();};c.prototype.WBb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Zg]="";});return Object.keys(n);};c.prototype.hxb=function(){var k;k={};k[f.pe.xj]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[f.pe.aB]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[f.pe.Ix]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[f.pe.Hs]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[f.pe.px]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[f.pe.RJ]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[f.pe.B_]=(function(n,p){var q;q={};n.forEach(function(v){return q[v]=1;});n=aa(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.P.rE]);k[f.pe.xR]=function(){return !0;};return k;};h=c;h=r.__decorate([m.R(),r.__param(0,m.l(l.kJ)),r.__param(1,m.l(a.Aza)),r.__param(2,m.l(g.OBa))],h);b.zAa=h;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v){this.Zm=p;this.ib=q;this.$8a=v;this.Mob="video/mp4;codecs={0}";this.Ujb="audio/mp4;codecs={0}";p=this.Zm.rM(l.pe.Hs);this.Lob=d.Ed.OSa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.RJa=void 0;r=a(1);l=a(25);m=a(0);d=a(110);g=a(26);h=a(199);k=a(439);n=a(12);c.prototype.F3=function(p){p=this.Zm.wEb(p);p=this.ib.nG(p)?p:l.pe.xR;return this.$8a.format(this.Mob,this.Lob[p]);};c.prototype.C3=function(p){if(0 === p.length)return this.$8a.format(this.Ujb,d.Ed.JZ);p=k.Eya[p[0].Zg] || f.Txa;return p === f.Txa?n.CJ:p === f.qbb?n.LEa:n.KEa;};a=f=c;a.Txa="AAC";a.qbb="XHEAAC";a=f=r.__decorate([m.R(),r.__param(0,m.l(l.ix)),r.__param(1,m.l(g.Yf)),r.__param(2,m.l(h.sea))],a);b.RJa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){this.config=k;this.mTa=n;this.cast=p;}Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;r=a(1);f=a(0);l=a(271);m=a(153);d=a(25);g=a(272);h=a(273);c.prototype.FSa=function(){switch(this.config().saa){case d.Ti.xba:return g.yba.Uja(this.mTa,this.cast);case d.Ti.wx:return h.nB.Uja(this.config);default:return this.mTa;}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.kJ)),r.__param(1,f.l(l.BHa)),r.__param(2,f.l(g.ZZ))],a);b.IDa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A;function c(B,D,E,F,C,G,J,K,H,L,R){this.J_a=B;this.cast=D;this.config=E;this.Ic=F;this.xa=C;this.is=G;this.ek=J;this.Tr=K;this.platform=H;this.Mc=L;this.rw=R;}Object.defineProperty(b,"__esModule",{value:!0});b.zza=void 0;r=a(1);f=a(0);l=a(25);m=a(271);d=a(153);g=a(272);h=a(1012);k=a(1013);n=a(179);p=a(441);q=a(48);v=a(37);u=a(26);t=a(1014);w=a(79);x=a(7);y=a(34);z=a(35);a=a(442);c.prototype.rwb=function(B){var D;D=this.J_a.FSa();switch(B){case l.Uu.wx:return new h.HFa(this.config,D,this.is,this.platform,this.rw);default:return new p.p_(this.config,D,this.rw);}};c.prototype.wxb=function(B){var D;D=this.J_a.FSa();switch(B){case l.Ti.xba:B=new g.yba(this.config,D,this.is,this.cast,this.rw);break;case l.Ti.hJ:B=new t.Kza(this.config,D,this.is,this.ek,this.Tr,this.xa,this.rw);break;case l.Ti.wx:B=new k.QEa(this.config,D,this.is,this.Ic,this.xa,this.Tr,this.Mc,this.rw,this.ek);break;default:B=new n.Nn(this.config,D,this.is,this.rw);}return B;};A=c;A=r.__decorate([f.R(),r.__param(0,f.l(m.JDa)),r.__param(1,f.l(g.ZZ)),r.__param(2,f.l(d.kJ)),r.__param(3,f.l(q.Gj)),r.__param(4,f.l(v.Lh)),r.__param(5,f.l(u.Yf)),r.__param(6,f.l(w.cv)),r.__param(7,f.l(x.ob)),r.__param(8,f.l(y.xk)),r.__param(9,f.l(z.mi)),r.__param(10,f.l(a.hFa))],A);b.zza=A;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q){h=d.p_.call(this,h,k,q) || this;h.is=n;h.platform=p;h.type=f.Uu.wx;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.HFa=void 0;f=a(25);l=a(44);m=a(109);d=a(441);g=a(273);la(c,d.p_);c.prototype.IY=function(){return Promise.resolve(this.config().AU && this.xy(m.Fb.Bx,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Pp=function(){var h;h={};h[l.xe.sE]="mp4a.40.2";h[l.xe.tE]="mp4a.40.2";"browser" === this.platform.Kka?this.config().AU && (h[l.xe.cQ]={yf:"avc1",keySystem:m.Fb.Bx,features:["audio-endpoint-codec=DD+JOC"]},h[l.xe.dQ]={yf:"avc1",keySystem:m.Fb.Bx,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().qUa && (h[l.xe.cQ]="ec-3"),this.config().pUa && (h[l.xe.Aba]="ec-3"),this.config().AU && (h[l.xe.dQ]={yf:"avc1",keySystem:m.Fb.Bx,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.kVa=function(h){var k;k=this;h=h.filter(function(n){var v;for(var p=aa(k.xu),q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !0;}p=aa(k.Cn);for(q=p.next();!q.done;q=p.next()){if(q.value.test(n))return !1;}n=k.wta[n];p=[];v=m.Fb.Bx;if(n)return (k.is.Ep(n)?q=n:(p=n.features,q=n.yf,v=n.keySystem),k.xy(v,q,p));});return Promise.resolve(h);};c.prototype.xy=function(h,k,n){h=g.nB.D3(h,k,n);return this.yy(h);};b.HFa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E;function c(F,C,G,J,K,H,L,R,I){F=l.Nn.call(this,F,C,G,R) || this;F.Ic=J;F.xa=K;F.Tr=H;F.Mc=L;F.rw=R;F.ek=I;F.type=m.Ti.wx;F.$P="hvc1";F.zcb="avc1";F.w4a={};F.log=F.Tr.hb("MicrosoftVideoCapabilityDetector");F.AXb();F.JY && F.config().bNb?F.$Ta=F.Iwb():(F.$Ta=Promise.resolve(""),F.config().dNb?F.Nwb():F.config().cNb && F.Mwb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;f=a(44);l=a(179);m=a(25);r=a(111);d=a(109);g=a(4);h=a(326);k=a(110);n=a(273);p=a(63);q=a(180);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=new r.xB();E=new h.oba();la(c,l.Nn);c.prototype.rM=function(F){return F === m.pe.Hs && this.config().Z_b?k.Ed.sQ:l.Nn.prototype.rM.call(this,F);};c.prototype.Qw=function(F){switch(F){case m.Bj.zE:return this.k9a();case m.Bj.av:return this.CX;default:return Promise.resolve(!1);}};c.prototype.Lt=function(){var C;function F(){return C.JY?C.THb?C.k9a().then(function(G){return Promise.resolve(G?d.Fb.Td:d.Fb.RE);}):Promise.resolve(d.Fb.RE):C.tYb?Promise.resolve(d.Fb.RE):Promise.resolve(d.Fb.Bx);}C=this;this.keySystem || (this.keySystem=this.config().Zo?this.ek.aw().then(function(G){return G.keySystem;}):F());return this.keySystem;};c.prototype.l5=function(){return this.$Ta;};c.prototype.KY=function(){return Promise.resolve({result:this.j9a(),reason:"is-type-supported"});};c.prototype.LY=function(){return this.JY && this.m9a()?this.CX:Promise.resolve(!1);};c.prototype.H$=function(){return Promise.resolve(this.i9a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.rha=function(F){this.xq=F;Object.assign(this.xq,this.w4a);F.itshwdrm=this.JY;F.itshevc=this.l9a();F.itshevcuhd=this.m9a();F.itshdr=this.j9a();F.itsdv=this.i9a();F.itsav1=this.rYb();this.kxa();};c.prototype.cT=function(F,C){(this.xq?this.xq:this.w4a)[F]=C;};c.prototype.DM=function(){var F;F=this;return this.Qw(m.Bj.av).then(function(C){return C?F.VT(m.Bj.av):F.Qw(m.Bj.zE).then(function(G){return G?F.VT(m.Bj.zE):F.VT(void 0);});});};c.prototype.C5=function(){return this.config().Zo?Promise.resolve(void 0):this.Lt().then(function(F){return F === d.Fb.Td?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Zy=function(F){var C;C=this;return this.Lt().then(function(G){var J,K,H;if(C.qpa(G,F))return !1;J=C.wta[F];if(J){K=[];if(C.is.Ep(J))H=J;else (K=J.features,H=J.yf,G=J.keySystem);return C.xy(G,H,K);}return !1;});};c.prototype.Pp=function(){var F;F=l.Nn.prototype.Pp.call(this);F[f.P.HR]=F[f.P.TJ]=F[f.P.SJ]=F[f.P.O0]={yf:"vp09.00.11.08.02",keySystem:d.Fb.Td,features:v};F[f.P.E_]=F[f.P.D_]={yf:"hev1.2.6.L90.B0",keySystem:d.Fb.Td,features:v};F[f.P.G_]=F[f.P.F_]={yf:"hev1.2.6.L93.B0",keySystem:d.Fb.Td,features:v};F[f.P.I_]=F[f.P.H_]={yf:"hev1.2.6.L120.B0",keySystem:d.Fb.Td,features:v};F[f.P.K_]=F[f.P.J_]={yf:"hev1.2.6.L123.B0",keySystem:d.Fb.Td,features:u};F[f.P.FQ]=F[f.P.EQ]={yf:"hev1.2.6.L150.B0",keySystem:d.Fb.Td,features:u};F[f.P.HQ]=F[f.P.GQ]={yf:"hev1.2.6.L153.B0",keySystem:d.Fb.Td,features:u};F[f.P.uQ]=F[f.P.tQ]={yf:"hev1.2.6.L90.B0",keySystem:d.Fb.Td,features:w};F[f.P.wQ]=F[f.P.vQ]={yf:"hev1.2.6.L93.B0",keySystem:d.Fb.Td,features:w};F[f.P.xQ]=F[f.P.uJ]={yf:"hev1.2.6.L120.B0",keySystem:d.Fb.Td,features:w};F[f.P.zQ]=F[f.P.yQ]={yf:"hev1.2.6.L123.B0",keySystem:d.Fb.Td,features:x};F[f.P.BQ]=F[f.P.AQ]={yf:"hev1.2.6.L150.B0",keySystem:d.Fb.Td,features:x};F[f.P.DQ]=F[f.P.CQ]={yf:"hev1.2.6.L153.B0",keySystem:d.Fb.Td,features:x};F[f.P.e_]=F[f.P.d_]={yf:"hev1.2.6.L90.B0",keySystem:d.Fb.Td,features:y};F[f.P.g_]=F[f.P.f_]={yf:"hev1.2.6.L93.B0",keySystem:d.Fb.Td,features:y};F[f.P.h_]=F[f.P.fQ]={yf:"hev1.2.6.L120.B0",keySystem:d.Fb.Td,features:y};F[f.P.j_]=F[f.P.i_]={yf:"hev1.2.6.L123.B0",keySystem:d.Fb.Td,features:z};F[f.P.l_]=F[f.P.k_]={yf:"hev1.2.6.L150.B0",keySystem:d.Fb.Td,features:z};F[f.P.n_]=F[f.P.m_]={yf:"hev1.2.6.L153.B0",keySystem:d.Fb.Td,features:z};F[f.P.Paa]={yf:"av01.0.04M.10",keySystem:d.Fb.Td,features:v};F[f.P.Qaa]={yf:"av01.0.05M.10",keySystem:d.Fb.Td,features:v};F[f.P.Raa]={yf:"av01.0.08M.10",keySystem:d.Fb.Td,features:v};F[f.P.Saa]={yf:"av01.0.09M.10",keySystem:d.Fb.Td,features:v};F[f.P.Taa]={yf:"av01.0.12M.10",keySystem:d.Fb.Td,features:t};F[f.P.Uaa]={yf:"av01.0.13M.10",keySystem:d.Fb.Td,features:t};return F;};c.prototype.xy=function(F,C,G){F=n.nB.D3(F,C,G);return this.yy(F);};c.prototype.l9a=function(){return this.xy(d.Fb.Td,this.$P,v);};c.prototype.j9a=function(){return this.xy(d.Fb.Td,this.$P,w);};c.prototype.i9a=function(){return this.xy(d.Fb.Td,this.$P,y);};c.prototype.rYb=function(){return this.xy(d.Fb.Td,k.Ed.xj,v);};c.prototype.m9a=function(){return this.xy(d.Fb.Td,this.$P,t);};c.prototype.k9a=function(){var F;F=this;return this.CX.then(function(C){return C?Promise.resolve(C):F.i5a;});};c.prototype.kxa=function(){this.xq && (this.xq.itshdcp=JSON.stringify({hdcp1:this.XYa,time1:this.E9a - this.E8a,hdcp2:this.YYa,time2:this.F9a - this.F8a}));};c.prototype.AXb=function(){var F;F=this;this.JY?(this.CX=this.WXa(this.config().Y1a,this.config().fNb,function(){var C;C=F.uEb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;}),this.i5a=this.CX.then(function(C){return C?!0:F.WXa(F.config().Y1a,F.config().eNb,function(){var G;G=F.tEb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.i5a=Promise.resolve(!0),this.CX=Promise.resolve(!1));};c.prototype.WXa=function(F,C,G){var J;J=this;return new Promise(function(K){var H,L,R,I;H=aa(G());L=H.next().value;H=H.next().value;if(L)return K(H);R=J.Ic.T9(g.Hc(F),function(){var P,N;P=aa(G());N=P.next().value;P=P.next().value;N && (R.cancel(),I.cancel(),K(P));});I=J.Ic.nk(g.Hc(C),function(){R.cancel();I.cancel();K("timeout");});});};c.prototype.tEb=function(){var F;F=n.nB.D3(d.Fb.RE,this.zcb,A).split("|");this.XYa=n.nB.swa(F[0],F[1]);this.E9a=this.xa.bf.da(g.ka);this.E8a=this.E8a || this.E9a;this.kxa();return this.XYa;};c.prototype.uEb=function(){var F;F=n.nB.D3(d.Fb.Td,this.$P,B).split("|");this.YYa=n.nB.swa(F[0],F[1]);this.F9a=this.xa.bf.da(g.ka);this.F8a=this.F8a || this.F9a;this.kxa();return this.YYa;};c.prototype.Iwb=function(){var F;F=this;return this.Xja(d.Fb.Td,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.mda + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(C){F.log.debug("DriverInfo: " + C);return C;}).catch(function(C){F.cT("itsDriverInfo","exception");F.log.error("DriverInfo exception",C);throw C;});};c.prototype.Mwb=function(){var F;F=this;this.Xja(d.Fb.Bx,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Mc.decode(C));F.cT("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return C;}).catch(function(C){F.cT("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",C);throw C;});};c.prototype.Nwb=function(){var F;F=this;this.Xja(d.Fb.Bx,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Mc.decode(C));F.cT("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return C;}).catch(function(C){F.cT("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",C);throw C;});};c.prototype.Xja=function(F,C){var G;G=this;return new Promise(function(J,K){var N,M,Q;function H(T){try{I(T.target,"Unexpectedly got an mskeyerror event: 0x" + E.AG(T && T.target && T.target.error && T.target.error.Mac || 0,4));}catch(da){I(T.target,da);}}function L(T){I(T.target,"Unexpectedly got an mskeyadded event");}function R(T){var da;try{da=G.Bla(T.message,"PlayReadyKeyMessage","Challenge");P(T.target);J(da);}catch(pa){I(T.target,pa);}}function I(T,da){G.log.error("PlayReadyChallenge error",{cdmData:C});P(T);K(da);}function P(T){T.removeEventListener("mskeymessage",R);T.removeEventListener("mskeyadded",L);T.removeEventListener("mskeyerror",H);Q && Q.cancel();}try{N=new Uint8Array(D.Y8a(C));M=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),N);M.addEventListener("mskeymessage",R);M.addEventListener("mskeyadded",L);M.addEventListener("mskeyerror",H);Q=G.Ic.nk(g.Hc(1E3),function(){I(M,Error("timeout"));});}catch(T){K(T);}});};c.prototype.Bla=function(F,C){var J,K,H;for(var G=1;G < arguments.length;++G){;}G="";K=F.length;for(J=0;J < K;J++){H=F[J];0 < H && (G+=String.fromCharCode(H));}K="\\s*(.*)\\s*";for(J=arguments.length - 1;0 < J;J--){H=arguments[J];if(0 > G.search(H))return;H="(?:[^:].*:|)" + H;K="[\\s\\S]*<" + H + "[^>]*>" + K + "</" + H + ">[\\s\\S]*";}if(G=G.match(new RegExp(K)))return G[1];};c.prototype.qpa=function(F,C){return [q.Te.aB,q.Te.Ix].some(function(G){return G.test(C);}) && this.config().fra && ![d.Fb.RE,d.Fb.GHa].some(function(G){return G === F;});};Wa.Object.defineProperties(c.prototype,{THb:{configurable:!0,enumerable:!0,get:function(){return this.config().fAb && (!this.config().gNb || this.l9a());}},JY:{configurable:!0,enumerable:!0,get:function(){try{return this.yy(d.Fb.Td + "|" + k.Ed.ira);}catch(F){return !1;}}},tYb:{configurable:!0,enumerable:!0,get:function(){try{return this.yy(d.Fb.RE);}catch(F){return !1;}}}});b.QEa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q,v,u){h=f.Nn.call(this,h,k,n,u) || this;h.ek=p;h.Tr=q;h.xa=v;h.rw=u;h.type=l.Ti.hJ;h.log=h.Tr.hb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;f=a(179);l=a(25);m=a(4);d=a(63);g=a(180);la(c,f.Nn);c.prototype.Qw=function(h){switch(h){case l.Bj.av:return this.sYb;default:return Promise.resolve(!1);}};c.prototype.DM=function(){var h;h=this;return this.Qw(l.Bj.av).then(function(k){return k?l.Bj.av:void 0;}).then(function(k){return h.VT(k);});};c.prototype.rha=function(h){this.xq=h;};c.prototype.Zy=function(h){var k;k=this;return this.config().fra?this.ek.aw().then(function(n){return k.qpa(d.v5(n),h)?!1:f.Nn.prototype.Zy.call(k,h);}):f.Nn.prototype.Zy.call(this,h);};c.prototype.WJb=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.vJ;}));};c.prototype.M$a=function(){var h;if(this.xq){h=this.ZYa && this.aZa && this.ZYa.Ca(this.aZa).da(m.ka);this.xq.itshdcp=JSON.stringify({hdcp2:this.Rt,time2:h});}};c.prototype.qpa=function(h,k){return [g.Te.aB,g.Te.Ix].some(function(n){return n.test(k);}) && this.config().fra && h === d.vJ;};Wa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.T1a || (this.T1a=this.ek.aw().then(function(h){return h.createMediaKeys();}));return this.T1a;}},sYb:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.twa || (this.config().gAb?this.twa=Promise.all([this.ek.aw(),this.mediaKeys]).then(function(k){var n;n=aa(k);k=n.next().value;n=n.next().value;if(!h.WJb(k))return (h.Rt="not HW_SECURE_DECODE",h.log.trace("hdcpStatus: " + h.Rt),!1);if(n && n.getStatusForPolicy)return (h.aZa=h.xa.bf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.ZYa=h.xa.bf;h.Rt=p;h.log.trace("hdcpStatus: " + h.Rt);return "usable" === h.Rt;}));h.Rt="not available";h.log.trace("hdcpStatus: " + h.Rt);return !1;}).catch(function(k){h.Rt="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Rt},k);return !1;}).then(function(k){h.M$a();return k;}):(this.Rt="not enabled",this.log.trace("hdcpStatus: " + this.Rt),this.M$a(),this.twa=Promise.resolve(!1)));return this.twa;}}});b.Kza=c;},function(r,b,a){var f,l;function c(m){this.navigator=m;this.R1a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(1);f=a(0);a=a(38);c.prototype.Fla=function(m){return this.R1a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.HJ))],l);b.iFa=l;},function(r,b,a){var f,l,m;function c(d,g){this.mediaCapabilities=d;this.log=g.hb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;r=a(1);f=a(443);l=a(7);a=a(0);c.prototype.Fla=function(d){var g,h,k;g=this;h={dc:void 0};if(this.mediaCapabilities.R1a){k={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.Fla(k).then(function(n){return h.dc=Object.assign(Object.assign({},n),k);}).catch(function(n){return g.log.error("Error calling MediaCapabilities API",n);});}return h;};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(f.lFa)),r.__param(1,a.l(l.ob))],m);b.jFa=m;},function(r,b,a){var f,l,m;function c(d){this.YRb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;r=a(1);f=a(0);l=a(274);a=a(445);c.prototype.yBb=function(){var d,g;d={JU:l.gB.ljb};g=this.YRb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.JU=h.value?l.gB.HIa:l.gB.Uxa;if(d.JU === l.gB.Uxa){k=function(){h.value && (d.JU=l.gB.HIa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.JU=l.gB.Error;});return d;};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.IIa))],m);b.NBa=m;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u){this.config=p;this.navigator=q;this.Tr=v;this.Wqa=u;this.type=l.Ti.Xu;this.$Pa={};this.tab={};this.log=this.Tr.hb("MediaCapabilityDetector");this.$Pa=this.qwb();this.tab=this.vxb();}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(1);f=a(0);l=a(25);m=a(44);d=a(7);g=a(38);h=a(79);k=a(153);n=a(63);c.prototype.Zy=function(p){var q;q=this;return this.Wqa.aw().then(function(v){return q.KBb(p,v);}).catch(function(){return !1;});};c.prototype.rJb=function(p){return ! !p.colorGamut || ! !p.hdrMetadataType || ! !p.transferFunction;};c.prototype.bpa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.KBb=function(p,q){var v,u,t,w;v=this;try{u={type:"media-source"};t=this.$Pa[p];w=this.tab[p];if(t)u.audio=t;else if(w){u.video=w;if(this.rJb(w) && !this.bpa())return Promise.resolve(!1);q && (u.keySystemConfiguration=this.MEb(q));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(u).then(function(x){var y;x.configuration || (x.configuration=u);y=v.PJb(u,x);y?v.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):v.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){v.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.MEb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=n.v5(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.qwb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[m.xe.sE]=q;p[m.xe.qCa]=q;p[m.xe.tE]=q;p[m.xe.cF]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[m.xe.cQ]=q;p[m.xe.Aba]=q;p[m.xe.dQ]=q;return p;};c.prototype.vxb=function(){var p,q,v,u,t,w,x,y,z,A,B,D,E;p={};q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};v={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});u=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});t=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);p[m.P.iCa]=A;p[m.P.qQ]=A;p[m.P.rQ]=A;p[m.P.bca]=A;A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);p[m.P.O0]=A;p[m.P.SJ]=A;p[m.P.TJ]=A;p[m.P.HR]=A;A=Object.assign(Object.assign({},q),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),t);p[m.P.D_]=A;p[m.P.F_]=A;p[m.P.H_]=A;p[m.P.J_]=B;p[m.P.EQ]=D;p[m.P.GQ]=E;p[m.P.E_]=A;p[m.P.G_]=A;p[m.P.I_]=A;p[m.P.K_]=B;p[m.P.FQ]=D;p[m.P.HQ]=E;A=Object.assign(Object.assign(Object.assign({},q),w),y);B=Object.assign(Object.assign(Object.assign({},q),x),y);D=Object.assign(Object.assign(Object.assign({},q),u),y);q=Object.assign(Object.assign(Object.assign({},q),t),y);p[m.P.tQ]=A;p[m.P.vQ]=A;p[m.P.uJ]=A;p[m.P.yQ]=B;p[m.P.AQ]=D;p[m.P.CQ]=q;p[m.P.uQ]=A;p[m.P.wQ]=A;p[m.P.xQ]=A;p[m.P.zQ]=B;p[m.P.BQ]=D;p[m.P.DQ]=q;w=Object.assign(Object.assign(Object.assign({},v),w),z);x=Object.assign(Object.assign(Object.assign({},v),x),z);u=Object.assign(Object.assign(Object.assign({},v),u),z);v=Object.assign(Object.assign(Object.assign({},v),t),z);p[m.P.d_]=w;p[m.P.f_]=w;p[m.P.fQ]=w;p[m.P.i_]=x;p[m.P.k_]=u;p[m.P.m_]=v;p[m.P.e_]=w;p[m.P.g_]=w;p[m.P.h_]=w;p[m.P.j_]=x;p[m.P.l_]=u;p[m.P.n_]=v;return p;};c.prototype.PJb=function(p,q){return p.video && this.config().wRb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.kJ)),r.__param(1,f.l(g.HJ)),r.__param(2,f.l(d.ob)),r.__param(3,f.l(h.cv))],a);b.gFa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(446);f=a(78);l=a(181);m=a(1020);d=a(449);g=a(1021);h=a(448);k=a(182);n=a(1022);p=a(1024);q=a(1025);v=a(1026);u=a(78);t=a(450);w=a(1028);b.storage=new r.od(function(x){x(l.RFa).Ff(function(){return function(){return nb.localStorage;};});x(l.XCa).Ff(function(){return function(){return nb.indexedDB;};});x(t.EFa).to(w.DFa).aa();x(u.bB).to(v.bya).aa();x(d.iEa).to(g.hEa).aa();x(c.R_).to(p.yDa).aa();x(k.ADa).to(n.zDa).aa();x(f.cKa).to(m.Yza).aa();x(k.WCa).to(n.VCa).aa();x(k.sca).to(n.BDa).aa();x(h.$za).to(q.Zza).aa();});},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.Mo=k;this.config=n;this.ta=h.hb(d.oea);}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;r=a(1);f=a(0);l=a(7);m=a(64);d=a(447);a=a(448);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.Mo.Hq(this.config.timeout,this.OTa(h)):this.OTa(h):Promise.resolve();};c.prototype.OTa=function(h){var k;k=this;return new Promise(function(n,p){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(q){"true" !== q.value && p();k.ta.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){k.ta.error("Failed to remove testValue");n();});});}).catch(function(q){return p(q);});});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.Cx)),r.__param(2,f.l(a.$za))],g);b.Yza=g;},function(r,b,a){var f,l,m;function c(d){this.BD=d;}Object.defineProperty(b,"__esModule",{value:!0});b.hEa=void 0;r=a(1);f=a(0);l=a(3);a=a(181);c.prototype.load=function(d){var g;g=this;return new Promise(function(h,k){var n,p;try{n=g.BD.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else k({na:l.L.wB});}catch(q){k({na:l.L.sJa,cause:q});}});};c.prototype.save=function(d,g,h){var k;k=this;return new Promise(function(n,p){if(h && k.BD.getItem(d))n(!1);else try{"string" === typeof g?k.BD.setItem(d,g):k.BD.setItem(d,JSON.stringify(g));n(!0);}catch(q){p({na:l.L.tJa,cause:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(h,k){try{g.BD.removeItem(d);h();}catch(n){k({na:l.L.hea,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.Sgb))],m);b.hEa=m;},function(r,b,a){var m,d,g,h,k,n,p,q,v,u,t,w;function c(x,y,z,A,B,D){this.config=y;this.bU=z;this.Hn=A;this.y0b=B;this.al=D;this.ta=x.hb(n.oea);}function f(x,y){this.config=x;this.XY=y;}function l(x,y,z,A,B){this.config=y;this.XY=z;this.al=B;this.ta=x.hb(n.oea);this.bU=new Promise(function(D,E){var F;try{F=A();F?D(F):E({na:k.L.YCa});}catch(C){E({na:k.L.Q_,cause:C});}});}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=b.zDa=b.VCa=void 0;r=a(1);m=a(0);d=a(7);g=a(1023);h=a(181);k=a(3);n=a(447);p=a(446);q=a(64);v=a(78);u=a(70);t=a(182);w=a(62);l.prototype.create=function(){this.mka || (this.mka=this.FL());return this.mka;};l.prototype.Tp=function(x){var y;y=this;this.mka=null;return this.XY.Hq(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.hr?Promise.reject({na:k.L.Q_}):z.na?Promise.reject(z):Promise.reject({na:k.L.Q_,cause:z});});};l.prototype.delete=function(x){var y;y=this;return this.XY.Hq(this.config.timeout,new Promise(function(z,A){y.bU.then(function(B){var D;D=B.deleteDatabase(x);D.onsuccess=function(){z();};D.onerror=function(){A({na:k.L.Q_,cause:D.error});};}).catch(function(B){A(B);});}));};l.prototype.FL=function(){var x,y;x=this;return this.XY.Hq(this.config.timeout,new Promise(function(z,A){if(x.config.Kva)return A({na:x.config.Kva});x.bU.then(function(B){x.al.mark(w.Hj.$eb);y=B.open(x.config.name,x.config.version);if(!y)return A({na:k.L.ZCa});y.onblocked=function(){x.al.mark(w.Hj.Xeb);A({na:k.L.Teb});};y.onupgradeneeded=function(){var D;x.al.mark(w.Hj.gfb);D=y.result;try{D.createObjectStore(x.config.TW,{keyPath:"name"});}catch(E){x.ta.error("Exception while creating object store",E);}};y.onsuccess=function(D){var E,F;x.al.mark(w.Hj.ffb);try{E=D.target.result;F=E.objectStoreNames.length;x.ta.trace("objectstorenames length ",F);if(0 === F){x.ta.error("invalid indexedDb state, deleting");x.al.mark(w.Hj.Zeb);try{E.close();}catch(C){}B.deleteDatabase(x.config.name);setTimeout(function(){A({na:k.L.Seb});},1);return;}}catch(C){x.ta.error("Exception while inspecting indexedDb objectstorenames",C);}z(y.result);};y.onerror=function(){x.al.mark(w.Hj.Yeb);x.ta.error("IndexedDB open error",y.error);A({na:k.L.Ueb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.hr){try{y && y.readyState && x.al.mark("readyState-" + y.readyState);}catch(A){}if(x.config.K2 && y && "done" === y.readyState){if(x.t0b(y))return (x.al.mark(w.Hj.dfb),Promise.resolve(y.result));x.al.mark(w.Hj.cfb);}x.al.mark(w.Hj.bfb);return Promise.reject({na:k.L.Web});}if(z.na)return Promise.reject(z);x.al.mark(w.Hj.afb);x.ta.error("IndexedDB open exception occurred",z);return Promise.reject({na:k.L.Veb,cause:z});});};l.prototype.t0b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.al.mark(w.Hj.efb);this.ta.error("failed to check open request state",y);}return !1;};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(d.ob)),r.__param(1,m.l(p.R_)),r.__param(2,m.l(q.Cx)),r.__param(3,m.l(h.XCa)),r.__param(4,m.l(u.YE))],a);b.VCa=a;f.prototype.create=function(x){return Promise.resolve(new g.xDa(this.config,this.XY,x));};a=f;a=r.__decorate([m.R(),r.__param(0,m.l(p.R_)),r.__param(1,m.l(q.Cx))],a);b.zDa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.WT || (this.WT=this.FL(this.y0b));return this.WT;};c.prototype.FL=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.al.mark(w.Hj.Kib);y.bU.create().then(function(B){y.Hn.create(B).then(function(D){Promise.all(x.map(function(E){return E.validate(D);})).then(function(){y.storage=D;z(y.storage);}).catch(function(E){y.ta.debug("DB validation failed, cause: " + E);y.config.DVa?(y.ta.debug("Fixing corrupt DB"),y.bU.Tp(B).then(function(){y.ta.error("Invalid database deleted, creating new database.");y.FL().then(function(F){y.ta.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.ta.error("Couldn't delete invalid database.");A(F);})):(y.ta.debug("Ignoring invalid DB due to config"),y.storage=D,z(y.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([m.R(),r.__param(0,m.l(d.ob)),r.__param(1,m.l(p.R_)),r.__param(2,m.l(t.WCa)),r.__param(3,m.l(t.ADa)),r.__param(4,m.uH(v.cKa)),r.__param(5,m.l(u.YE))],a);b.BDa=a;},function(r,b,a){var l,m,d;function c(g,h,k){this.config=g;this.Mo=h;this.BD=k;}function f(g,h){this.reason=g;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=b.UIa=void 0;l=a(3);m=a(64);(function(g){g[g.cda=0]="NoData";g[g.Error=1]="Error";g[g.QJ=2]="Timeout";})(d=b.UIa || (b.UIa={}));c.prototype.load=function(g){var h;h=this;return new Promise(function(k,n){h.z4("get",!1,g).then(function(p){k({key:g,value:p});}).catch(function(p){var q;q=l.L.sJa;switch(p.reason){case d.cda:q=l.L.wB;break;case d.QJ:q=l.L.Lib;}n({na:q,cause:p.cause});});});};c.prototype.save=function(g,h,k){var n;n=this;return new Promise(function(p,q){n.z4(k?"add":"put",!0,{name:g,data:h}).then(function(){p(!k);}).catch(function(v){var u;u=l.L.tJa;switch(v.reason){case d.QJ:u=l.L.Oib;}q({na:u,cause:v.cause});});});};c.prototype.remove=function(g){var h;h=this;return new Promise(function(k,n){h.z4("delete",!0,g).then(function(){k();}).catch(function(p){var q;q=l.L.hea;switch(p.reason){case d.QJ:q=l.L.rJa;}n({na:q,cause:p.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(h,k){g.z4("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=l.L.hea;switch(n.reason){case d.QJ:p=l.L.rJa;}k({na:p,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.Mo.Hq(this.config.timeout,new Promise(function(h,k){var n,p,q;if(g.config.Jva)k(new f(g.config.Jva));else {n=[];p=g.BD.transaction(g.config.TW,"readonly");q=p.objectStore(g.config.TW).openCursor();p.onerror=function(){k(new f(d.Error,q.error));};q.onsuccess=function(v){if(v=v.target.result)try{n.push({key:v.value.name,value:v.value.data});v.continue();}catch(u){k(new f(d.Error,u));}else h(n);};q.onerror=function(){k(new f(d.Error,q.error));};}})).catch(function(h){return h instanceof m.hr?Promise.reject(new f(d.QJ,h)):h instanceof f?Promise.reject(h):Promise.reject(new f(d.Error,h));});};c.prototype.z4=function(g,h,k){var n;n=this;return this.Mo.Hq(this.config.timeout,new Promise(function(p,q){var v,u;v=n.BD.transaction(n.config.TW,h?"readwrite":"readonly");u=v.objectStore(n.config.TW)[g](k);v.onerror=function(){q(new f(d.Error,u.error));};u.onsuccess=function(t){var w;if("get" == g)try{w=t.target.result;w?p(w.data):q(new f(d.cda));}catch(x){q(new f(d.cda,x));}else p(void 0);};u.onerror=function(){q(new f(d.Error,u.error));};})).catch(function(p){return p instanceof m.hr?Promise.reject(new f(d.QJ,p)):p instanceof f?Promise.reject(p):Promise.reject(new f(d.Error,p));});};b.xDa=c;},function(r,b,a){var f,l,m,d,g;function c(h,k){h=m.We.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.TW="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;r=a(1);f=a(0);l=a(45);m=a(46);d=a(40);a=a(36);la(c,m.We);Wa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Uv?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.dwa;}},K2:{configurable:!0,enumerable:!0,get:function(){return this.config.K2;}},Kva:{configurable:!0,enumerable:!0,get:function(){return 0;}},Jva:{configurable:!0,enumerable:!0,get:function(){return 0;}},DVa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([l.config(l.QA,"simulateIdbOpenError")],g.prototype,"Kva",null);r.__decorate([l.config(l.QA,"simulateIdbLoadAllError")],g.prototype,"Jva",null);r.__decorate([l.config(l.Yc,"fixInvalidDatabase")],g.prototype,"DVa",null);g=r.__decorate([f.R(),r.__param(0,f.l(a.Ol)),r.__param(1,f.l(d.Em))],g);b.yDa=g;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=void 0;r=a(1);f=a(0);a=a(40);Wa.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.dwa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.u9a;}}});l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Em))],l);b.Zza=l;},function(r,b,a){var l,m,d,g,h,k,n;function c(p,q,v,u){this.ta=p;this.config=q;this.WHb=v;this.bra=u;this.aG={mem:{storage:this.bra,key:"mem"}};this.VD=this.config.VD;}function f(p,q,v,u){this.Sf=p;this.Hn=q;this.bra=v;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.aba=b.bya=void 0;r=a(1);l=a(0);m=a(3);d=a(182);g=a(7);h=a(450);k=a(1027);a=a(40);f.prototype.create=function(){this.WT || (this.WT=this.FL());return this.WT;};f.prototype.FL=function(){this.iqb=new c(this.Sf.hb("AppStorage"),this.config,this.Hn,this.bra);return this.iqb.create();};n=f;n=r.__decorate([l.R(),r.__param(0,l.l(g.ob)),r.__param(1,l.l(d.sca)),r.__param(2,l.l(h.EFa)),r.__param(3,l.l(a.Em))],n);b.bya=n;c.prototype.create=function(){var p;p=this;return this.Owb().then(function(q){if(!p.Msb(q,p.config.FV))throw p.bOb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(v,u){q.cV(p).storage.load(p).then(function(t){v(t);}).catch(function(t){u(t);});});};c.prototype.save=function(p,q,v){var u;u=this;return new Promise(function(t,w){u.cV(p).storage.save(p,q,v).then(function(x){t(x);}).catch(function(x){w(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(v,u){q.cV(p).storage.remove(p).then(function(){v();}).catch(function(t){u(t);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,v){p.W5a("mem").then(function(){return p.W5a("idb");}).catch(function(u){return Promise.reject(u);}).then(function(){q();}).catch(function(u){p.ta.error("remove all failed");v(u);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.v0a("mem").then(function(v){q=q.concat(v);return p.v0a("idb");}).catch(function(v){p.MJb(v) || p.ta.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return q=q.concat(v);}).catch(function(v){p.ta.error("load all failed",v);throw v;});};c.prototype.Owb=function(){var p;p=this;return this.WHb.create().then(function(q){p.aG.idb={storage:q,key:"idb"};}).catch(function(q){p.ta.error("idb failed to load",q);return q || ({na:m.L.Nl});});};c.prototype.Msb=function(p,q){return !p || p && q?!0:!1;};c.prototype.bOb=function(p){var q;q="";p && (q+=p.na);return {na:q};};c.prototype.W5a=function(p){return (p=this.aG[p])?p.storage.removeAll():Promise.resolve();};c.prototype.v0a=function(p){return (p=this.aG[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.RBb=function(p){for(var q in this.VD){if(p.startsWith(q))return this.VD[q];}return this.VD[k.odb];};c.prototype.cV=function(p){var q,v;q=this;this.RBb(p).every(function(u){return q.aG[u]?(v=q.aG[u],!1):!0;});if(!v){this.ta.error("component not found for storageKey",{LXb:p,l7b:Object.keys(this.aG),rules:this.VD});v=this.aG.mem;}this.ta.trace("component found for key",{storageKey:p,componentKey:v.key});return v;};c.prototype.MJb=function(p){return (p && (p.na || p.errorSubCode)) === m.L.wB;};b.aba=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.odb="__default_rule_key__";},function(r,b,a){var f,l,m;function c(d){this.Sf=d;this.vH={};this.ta=this.Sf.hb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;r=a(1);f=a(0);l=a(3);a=a(7);c.prototype.load=function(d){var g;if(this.vH.hasOwnProperty(d)){g=this.vH[d];this.ta.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.ta.debug("Storage entry not found",{key:d});return Promise.reject({na:l.L.wB});};c.prototype.save=function(d,g,h){if(h && this.vH.hasOwnProperty(d))return Promise.resolve(!1);this.vH[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.vH[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.vH).map(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;return {key:g,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.vH={};return Promise.resolve();};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.ob))],m);b.DFa=m;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.kL=void 0;r=a(0);c=a(451);f=a(452);l=a(453);m=a(1030);d=a(1031);g=a(1032);b.kL=new r.od(function(h){h(c.Sya).to(m.Rya).aa();h(f.Qya).to(d.Nya).aa();h(l.Pya).to(g.Oya).aa();});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v,u){this.W2=p;this.ib=q;this.Frb=v;this.config=u;this.ta=n.hb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;r=a(1);f=a(0);l=a(452);m=a(453);d=a(7);g=a(26);h=a(4);a=a(13);c.prototype.Opb=function(n){var p,q;p=n.ab.playbackState && n.ab.playbackState.currentTime;q=this.JDb(n.J);p=this.ib.nG(p)?h.Hc(p):q;if(this.ib.yg(p))(this.ta.info("Overriding bookmark",{From:n.SI.da(h.ka),To:p.da(h.ka)}),n=Object.assign({},n,{SI:p}));else if(this.$Hb(n))return (this.ta.trace("Ignoring bookmark because it's too close to beginning"),h.jh(0));return n.SI.ipa()?(this.ta.trace("Ignoring bookmark because it's negative"),h.jh(0)):this.ZHb(n)?(this.ta.trace("Ignoring bookmark because it's too close to end"),h.jh(0)):this.YHb(n)?(this.ta.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.jh(0)):n.SI;};c.prototype.$Hb=function(n){return 0 > n.SI.ul(this.Vma(n));};c.prototype.Vma=function(n){return this.AQa(this.W2.Vma(),n.a9);};c.prototype.ZHb=function(n){return 0 < n.SI.ul(this.Wma(n));};c.prototype.Wma=function(n){var p;p=n.ab.Al?this.W2.yEb():this.W2.Wma();return n.a9.Ca(this.AQa(p,n.a9));};c.prototype.YHb=function(n){return 0 < n.SI.ul(this.gEb(n));};c.prototype.gEb=function(n){var p;p=n.ab.Al?this.config().x3a:this.config().EH;return n.a9.Ca(h.Hc(p));};c.prototype.JDb=function(n){var p;n=this.W2.Ama()[n];p=-1;this.ib.Ep(n)?p=parseInt(n):this.ib.wi(n) && (p=n);if(this.ib.eT(p))return h.Hc(p);};c.prototype.AQa=function(n,p){return this.Frb.ZXb(n,p);};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(d.ob)),r.__param(1,f.l(l.Qya)),r.__param(2,f.l(g.Yf)),r.__param(3,f.l(m.Pya)),r.__param(4,f.l(a.Rc))],k);b.Rya=k;},function(r,b,a){var f,l;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;r=a(1);f=a(0);a=a(13);c.prototype.Vma=function(){return this.EC().Grb;};c.prototype.Wma=function(){return this.EC().Hrb;};c.prototype.yEb=function(){return this.EC().Irb;};c.prototype.Ama=function(){return this.EC().zQa;};c.prototype.EC=function(){return this.config();};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Rc))],l);b.Nya=l;},function(r,b,a){var f,l,m;function c(d){this.ib=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;r=a(1);f=a(0);l=a(26);m=a(4);c.prototype.ZXb=function(d,g){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.ib.wi(h)?k=Math.round(h * g.da(m.ka) / 100):(d=parseInt(d),this.ib.eT(d) && (k=d));return m.Hc(Math.min(k,g.da(m.ka)));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Yf))],a);b.Oya=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.TQa=void 0;r=a(0);c=a(454);f=a(1034);b.TQa=new r.od(function(l){l(c.iza).to(f.hza).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v,u,t,w,x){this.config=q;this.rD=u;this.profile=t;this.aaa=w;this.HT=x;this.log=v.hb("CDMAttestedDescriptor");this.tWa(n.dv.sR);}Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;r=a(1);f=a(0);l=a(13);m=a(7);d=a(155);g=a(275);h=a(94);k=a(165);n=a(40);p=a(57);c.prototype.tWa=function(q){var v;v=this;return this.aaa.o$(q)?this.config().bAb?this.rWa().then(function(u){if(u)return (!1,Promise.resolve(void 0));v.p0a || (!1,v.p0a=v.HT.zna(p.Oh.Qn));return v.p0a;}).catch(function(u){v.log.error("Failed to generate challenge",u);}).then(function(u){null === u || void 0 === u?void 0:u.Yb.close();return null === u || void 0 === u?void 0:u.bja;}).then(function(u){return Promise.all([Promise.resolve(u),v.rWa()]);}).then(function(u){var t;u=aa(u);t=u.next().value;if(u.next().value)!1;else return t;}):this.rD().then(function(u){u.GW.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.rWa=function(){var q;q=this;return this.rD().then(function(v){return (v=v.GW.getServiceTokens(q.profile)) && v.find(function(u){return "cad" === u.name;});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Rc)),r.__param(1,f.l(m.ob)),r.__param(2,f.l(d.dR)),r.__param(3,f.l(h.uR)),r.__param(4,f.l(g.N0)),r.__param(5,f.l(k.YZ))],a);b.hza=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v;Object.defineProperty(b,"__esModule",{value:!0});b.g1a=void 0;r=a(0);c=a(258);f=a(1036);l=a(455);m=a(1043);d=a(458);g=a(459);h=a(461);k=a(1044);n=a(156);p=a(1045);q=a(463);v=a(1046);b.g1a=new r.od(function(u){u(l.XEa).to(m.WEa).aa();u(c.Sca).to(f.YEa).aa();u(d.dIa).Mi(function(t){for(var w=[],x=0;x < arguments.length;++x){w[x - 0]=arguments[x];}x=a(276).XE;return new (Function.prototype.bind.apply(x,[null].concat(ca(w))))();});u(g.JKa).Mi(function(t){for(var w=[],x=0;x < arguments.length;++x){w[x - 0]=arguments[x];}x=a(467).xza;return new (Function.prototype.bind.apply(x,[null].concat(ca(w))))();});u(h.aFa).Ff(function(){return function(t){return new k.bFa(t);};});u(n.ZQ).to(p.UEa).aa();u(q.TEa).to(v.SEa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u;function c(t,w,x,y,z){this.Sf=t;this.config=w;this.Xsa=x;this.Owa=y;this.X$=z;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;r=a(1);f=a(0);l=a(7);m=a(455);d=a(1037);g=a(1038);h=a(1039);k=a(1040);n=a(1041);p=a(1042);q=a(458);v=a(459);a=a(460);c.prototype.create=function(t){var w,x;w=this.Sf.hb("ManifestParser",t);x=new d.Fza(w,this.config);return new h.ZEa(x,new g.vKa(w,this.config,t,x,this.Xsa),new k.TKa(w,t,this.Owa),new n.Dya(w,this.config,t,this.X$),new p.sLa(w,this.X$));};u=c;u=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.XEa)),r.__param(2,f.l(q.dIa)),r.__param(3,f.l(a.RKa)),r.__param(4,f.l(v.JKa))],u);b.YEa=u;},function(r,b,a){var f;function c(l,m){this.log=l;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;f=a(127);c.prototype.S3a=function(l,m,d){var g,h,k,n,p;g=this;h=this.config.Zia;k=this.config.Yia;l=aa(f.ku(function(q){return (!h.length || 0 <= h.indexOf(q.id)) && 0 > k.indexOf(q.id);},l || []));n=l.next().value;l.next().value.forEach(function(q){return g.log.warn("Cdn is not allowed",{Id:q.id});});p=n.map(function(q){var v;v=(m?m.find(function(u){return u.key === q.key;}):void 0) || ({});return {id:q.id,name:q.name,Zd:q.Zd,type:q.type,$pa:q.key,p9b:q.U0a,location:{id:v.key,Zd:v.Zd,level:v.level,weight:v.weight,Tj:[]}};});p.sort(function(q,v){return q.Zd - v.Zd;});p.forEach(function(q){return q.location.Tj=p.filter(function(v){return v.$pa === q.$pa;});});this.log.trace("Transformed cdns",{Count:p.length});if(d && !p.length)throw Error("no valid cdns");return p;};b.Fza=c;},function(r,b,a){var f,l,m,d;function c(g,h,k,n,p){this.log=g;this.config=h;this.j=k;this.$ia=n;this.Xsa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;f=a(44);l=a(11);m=a(129);d=a(456);c.prototype.pQb=function(g){var h;h=this;g=g.map(function(k){var n,p,q,v,u;q=h.DZb(k);k.$C || !k.Mr || q && 0 < q.length || h.log.error("track without downloadables",h.SEb(k));v={};u=[];0 < q.length && (v=q[0],v.profile == f.Km.FJ && (v=h.sVb(q),!1),u=h.$ia.S3a(k.fRa,void 0,!1));k=h.Xsa(h.j,k.hh,k.id,null !== (n=k.Zd) && void 0 !== n?n:-1,null !== (p=k.Mr) && void 0 !== p?p:!0,v.fd,v.urls || ({}),u,k.language,k.eD,m.L0[k.cl.toLowerCase()] || m.mp.JJ,k.zI,k.variant,k.TH.toUpperCase(),v.profile,h.YEb(v) || ({}),k.$C,k.O6,k.R6,k.St);h.log.trace("Transformed timed text track",k);return k;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};c.prototype.bZb=function(g){var h,k;h=this;k=this.config.ima;if(k){if(g=aa(g.filter(function(n){return n.$i == k || n.trackId == k;})).next().value)return g;}else if(this.j.P4 && (g=aa(g.filter(function(n){return n.trackId == h.j.P4;})).next().value))return g;};c.prototype.DZb=function(g){var h,k;h=this;k=g.YTa;g=Object.entries(g.Wwa || ({})).map(function(n){var p;p=aa(n);n=p.next().value;p=p.next().value;return {fd:k[n],profile:n,size:p.size || 0,priority:h.$Db(n,p),offset:p.hra || 0,LQb:p.width,r4a:p.height,urls:p.Rv};});g.sort(function(n,p){return n.priority - p.priority;});return g;};c.prototype.$Db=function(g,h){var k,n;k=this.config.Qu.indexOf(g);h=h.size;n=this.config.kP;return g === f.Km.Dba && 0 < n && h > n?this.config.Qu.length + 1:0 <= k?k:this.config.Qu.length;};c.prototype.YEb=function(g){if(g.profile === f.Km.FJ)return {offset:g.offset,length:g.size,bI:{width:g.LQb,height:g.r4a}};};c.prototype.sVb=function(g){var h,k;h=this.config.Aoa || d.tea.YXa();k=aa(g.filter(function(n){return n.profile === f.Km.FJ;}).filter(function(n){return n.r4a === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.fv.height,intendedResolution:h});return g[0];};c.prototype.SEb=function(g){return {isNone:g.$C,isForced:g.O6,bcp47:g.language,id:g.hh};};b.vKa=c;},function(r,b){function a(c,f,l,m,d){this.$ia=c;this.v9a=f;this.MZb=l;this.iia=m;this.zab=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;a.prototype.b4a=function(c){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y;f=c.Wc;l=! !f.NX;c=this.$ia.S3a(f.Qo,f.Fo,!0);m=this.v9a.pQb(f.Fwa);d=this.MZb.qQb(f.PZb);g=l?this.iia.eQb(f.qT,m):this.iia.lQb(f.qT,f.media,m);h=this.zab.rQb(f.WA);k=h[0];n=this.iia.Yqb(g) || g.find(function(z){return l?z.trackId === f.NX.Wm:z.Bz === f.T3[0].Wm;}) || g[0];p=this.v9a.bZb(n.vj) || m.find(function(z){return l?z.trackId === f.NX.lP:z.Bz === f.T3[0].d9a;}) || n.vj[0];q=this.zab.nQb(f.WA);v=f.lj;u=f.Qtb;t=f.zV;w=f.gm;x=f.qT.findIndex(function(z){return z.hh == n.trackId;});y=f.WA.findIndex(function(z){return z.hh == k.trackId;});return {yu:q,Tj:c,Rj:g,$o:h,vj:m,OA:d,lj:v,IVb:u,cD:t,gm:w,gyb:x,qyb:y,U3:k,eU:n,gU:p};};b.ZEa=a;},function(r,b){function a(c,f,l){this.log=c;this.j=f;this.Owa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;a.prototype.qQb=function(c){var f;f=this;c=(c || []).filter(function(l){return l.urls && 0 < l.urls.length;}).map(function(l){return f.Owa(f.j,l.id,l.height,l.width,l.QQb,l.RQb,l.size,l.St,{unknown:l.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(l,m){return l.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.TKa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p){h=l.aR.call(this,h,p) || this;h.config=k;h.j=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Dya=void 0;f=a(439);l=a(457);m=a(127);d=a(90);g=a(129);la(c,l.aR);c.prototype.eQb=function(h,k){var n,p;n=this;p=this.config.G$;h=h.filter(function(q){var v,u;v=q.$C || !q.Mr || q.streams && 0 < q.streams.length;v || n.log.warn("Audio track is missing streams",n.K5(q));u=0 === p.length || 0 <= p.indexOf(q.cl);u || n.log.warn("Audio track is not supported",n.K5(q));return v && u;});if(!h.length)throw Error("no valid audio tracks");h=h.map(function(q){return n.R3a(q,n.bDb(q,k));});this.log.trace("Parsed audio tracks",{Count:h.length});return h;};c.prototype.lQb=function(h,k,n){var p,q,v,u;p=this;q=aa(m.ku(function(t){return t.$C;},h));h=q.next().value;q=q.next().value;q=aa(m.ku(function(t){return t.streams && 0 < t.streams.length;},q));v=q.next().value;q.next().value.forEach(function(t){return p.log.warn("Audio track is missing streams",p.K5(t));});u=this.config.G$;q=aa(m.ku(function(t){return 0 === u.length || 0 <= u.indexOf(t.cl);},v));v=q.next().value;q.next().value.forEach(function(t){return p.log.warn("Audio track is not supported",p.K5(t));});h=[].concat(ca(v),ca(h)).map(function(t){return p.R3a(t,p.OEb(t.hh,k,n));});if(!h.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:h.length});return h;};c.prototype.Yqb=function(h){var k,n;k=this;n=this.config.dma;if(n){if(h=aa(h.filter(function(p){return p.$i == n || p.trackId == n;})).next().value)return h;}else if(this.j.O4 && (h=aa(h.filter(function(p){return p.trackId == k.j.O4;})).next().value))return h;};c.prototype.R3a=function(h,k){var n,p,q,v;v=h.cl;k={type:d.ri.audio,zI:h.zI,variant:h.variant,trackId:h.hh,Bz:h.oP,cl:g.L0[v.toLowerCase()] || g.mp.JJ,TH:v,$i:h.language,displayName:h.eD,Zd:null !== (n=h.Zd) && void 0 !== n?n:-1,Mr:null !== (p=h.Mr) && void 0 !== p?p:!0,channels:h.channels,D7b:h.channels,vj:k,kg:{Bcp47:h.language,TrackId:h.hh},streams:[],isNative:h.isNative,Qr:h.$C,MY:h.MY};k.streams=this.e$a(h.streams,k);this.log.trace("Transformed audio track",k,{StreamCount:k.streams.length,AllowedTimedTextTracks:k.vj.length});k.Xtb=f.Eya[null === (q=k.streams[0]) || void 0 === q?void 0:q.Zg];return k;};c.prototype.K5=function(h){return {language:h.eD,bcp47:h.language,type:h.cl};};c.prototype.bDb=function(h,k){return k.filter(function(n){if(0 <= h.czb.indexOf(n.Bz))return !1;if(h.oTa){if(h.oTa !== n.Bz && (n.Qr() || n.oq()))return !1;}else if(h.NOb){if(n.Qr() || n.oq())return !1;}else if(n.oq())return !1;return !0;});};c.prototype.OEb=function(h,k,n){return k.filter(function(p){return p.pg.Lb === h;}).map(function(p){return p.pg.Im;}).map(function(p){return n.find(function(q){return q.trackId === p;});}).filter(Boolean);};b.Dya=c;},function(r,b,a){var f,l,m,d;function c(g,h){return l.aR.call(this,g,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sLa=void 0;f=a(127);l=a(457);m=a(90);d=a(129);la(c,l.aR);c.prototype.rQb=function(g){var h,k;h=this;g=aa(f.ku(function(n){return n.streams && 0 < n.streams.length;},g));k=g.next().value;g.next().value.forEach(function(n){return h.log.warn("Video track is missing streams",{trackId:n.hh});});g=k.map(function(n){var p;p=n.cl;p={type:m.ri.video,trackId:n.hh,Bz:n.oP,cl:d.L0[p.toLowerCase()] || d.mp.JJ,TH:p,streams:[],kg:{},vu:n.vu};p.streams=h.e$a(n.streams,p);h.log.trace("Transformed video track",{StreamCount:p.streams.length});return p;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};c.prototype.nQb=function(g){var h;h=g.map(function(k){return k.vu;}).filter(Boolean);h=[].concat.apply([],ca(h)).map(function(k){return k.fa;});g=g.map(function(k){return k.Wka;}).filter(Boolean).map(function(k){return k.fa;});return 0 < h.length?h:g;};b.sLa=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){k=l.We.call(this,k,"ManifestParserConfigImpl") || this;k.fm=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);d=a(45);g=a(134);h=a(51);la(c,l.We);Wa.Object.defineProperties(c.prototype,{G$:{configurable:!0,enumerable:!0,get:function(){return [];}},dma:{configurable:!0,enumerable:!0,get:function(){return "";}},Zia:{configurable:!0,enumerable:!0,get:function(){return [];}},Yia:{configurable:!0,enumerable:!0,get:function(){return [];}},ima:{configurable:!0,enumerable:!0,get:function(){return "";}},Aoa:{configurable:!0,enumerable:!0,get:function(){return 0;}},kP:{configurable:!0,enumerable:!0,get:function(){return this.fm.kP.da(h.Vu);}},Qu:{configurable:!0,enumerable:!0,get:function(){return this.fm.Qu;}}});a=c;r.__decorate([d.config(d.C$,"supportedAudioTrackTypes")],a.prototype,"G$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"dma",null);r.__decorate([d.config(d.Zwa,"cdnIdWhiteList")],a.prototype,"Zia",null);r.__decorate([d.config(d.Zwa,"cdnIdBlackList")],a.prototype,"Yia",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"ima",null);r.__decorate([d.config(d.QA,"imageSubsResolution")],a.prototype,"Aoa",null);r.__decorate([d.config(d.QA,"timedTextSimpleFallbackThreshold")],a.prototype,"kP",null);r.__decorate([d.config(d.C$,"timedTextProfiles")],a.prototype,"Qu",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.Ol)),r.__param(1,f.l(g.pR))],a);b.WEa=a;},function(r,b){function a(c){this.bd=c;this.Bb=JSON.stringify(this.VEb());}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;a.prototype.VEb=function(){var c;c=[];(!this.bd.Tj || 0 >= this.bd.Tj.length) && c.push({error:"No CDN."});this.bd.eU || c.push({error:"No default audio track.",foundTracks:this.Tma(this.bd.Rj)});this.bd.U3 || c.push({error:"No default video track.",foundTracks:this.Tma(this.bd.$o)});this.bd.gU || c.push({error:"No default subtitle track.",foundTracks:this.Tma(this.bd.vj)});return c;};a.prototype.Tma=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.bFa=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.MKb=h;this.ULb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(1);f=a(0);l=a(462);m=a(463);d=a(41);g=a(3);c.prototype.create=function(h){var k;if(h && !this.uJb(h)){if(this.yJb(h))throw d.md.g1b(g.M.YQ,g.L.Pib,h);k=this.MKb();k.TOa(h.links);this.ULb.bM(h);return {Wc:h,bk:k,s_a:!1,r_a:!1};}};c.prototype.yJb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.uJb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.XGa)),r.__param(1,f.l(m.TEa))],a);b.UEa=a;},function(r,b,a){var f,l;function c(m){this.NAb=m;this.VLb={qo:"drmType",g8b:"drmVersion",expiration:"expiration",J:"movieId",Ko:"packageId",duration:"duration",lj:"playbackContextId",T3:["defaultTrackOrderList",{vN:"mediaId",yP:"videoTrackId",d9a:"subtitleTrackId",Wm:"audioTrackId",R$b:"preferenceOrder"}],k8b:["eligibleABTestMap",{Ps:l.Ps}],o7b:["badgingInfo",{$7b:"dolbyDigitalAudio",W8b:"hdrVideo",a8b:"dolbyVisionVideo",Zac:"ultraHdVideo","3dVideo":"3dVideo",Z7b:"dolbyAtmosAudio",h7b:"assistiveAudio",kac:"sdVideo",V8b:"hdVideo"}],type:"type",k7b:["audioTextShortcuts",{id:"id",Wm:"audioTrackId",Oac:"textTrackId"}],M$b:"partiallyHydrated",uMb:"maxRecommendedAudioRank",vMb:"maxRecommendedTextRank",gm:"drmContextId",dHb:"hasDrmProfile",cHb:"hasClearProfile",zV:"hasDrmStreams",boa:"hasClearStreams",Fo:["locations",{Zd:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Qo:["servers",{id:"id",name:"name",type:"type",Zd:"rank",U0a:"lowgrade",mzb:["dns",{host:"host",VIb:"ipv4",WIb:"ipv6",rCb:"forceLookup"}],key:"key"}],qT:["audio_tracks",{type:"type",zI:"subType",variant:"variant",cl:"trackType",hh:"new_track_id",oP:"track_id",wSb:"profileType",IXb:"stereo",profile:"profile",channels:"channels",language:"language",etb:"channelsFormat",MY:"surroundFormatLabel",eD:"languageDescription",czb:"disallowedSubtitleTracks",oTa:"defaultTimedText",isNative:"isNative",$C:"isNoneTrack",streams:["streams",{Er:"downloadable_id",size:"size",eG:"content_profile",cl:"trackType",bitrate:"bitrate",Ez:"isDrm",urls:["urls",{Np:"cdn_id",url:"url"}],TNb:"new_stream_id",type:"type",channels:"channels",etb:"channelsFormat",MY:"surroundFormatLabel",language:"language",j7b:"audioKey",DNb:["moov",{size:"size",offset:"offset"}],rs:["sidx",{size:"size",offset:"offset"}],FA:["ssix",{size:"size",offset:"offset"}],In:"tags"}],Xtb:"codecName",TH:"rawTrackType",id:"id",Zd:"rank",Mr:"hydrated",NOb:"offTrackDisallowed"}],WA:["video_tracks",{cl:"trackType",hh:"new_track_id",type:"type",oP:"track_id",dHb:"hasDrmProfile",cHb:"hasClearProfile",zV:"hasDrmStreams",boa:"hasClearStreams",nz:"groupName",streams:["streams",{Er:"downloadable_id",size:"size",eG:"content_profile",cl:"trackType",aUa:"drmHeaderId",bitrate:"bitrate",Ez:"isDrm",urls:["urls",{Np:"cdn_id",url:"url"}],TNb:"new_stream_id",type:"type",O$b:"peakBitrate",Vyb:"dimensionsCount",Wyb:"dimensionsLabel",t4a:"pix_w",s4a:"pix_h",x6a:"res_w",w6a:"res_h",Dxb:"crop_x",Exb:"crop_y",Cxb:"crop_w",Bxb:"crop_h",VVa:"framerate_value",UVa:"framerate_scale",B8a:"startByteOffset",Eb:"vmaf",DNb:["moov",{size:"size",offset:"offset"}],rs:["sidx",{size:"size",offset:"offset"}],FA:["ssix",{size:"size",offset:"offset"}],ND:["segmentVmaf",{offset:"offset",Eb:"vmaf"}],In:"tags"}],wSb:"profileType",IXb:"stereo",profile:"profile",Vyb:"dimensionsCount",Wyb:"dimensionsLabel",Bac:["snippets",{Ps:[l.Ps,{Aac:"snippetSpec",wc:"startTimeMs",Oc:"endTimeMs"}]}],Wka:["drmHeader",{fa:"bytes",vtb:"checksum",aUa:"drmHeaderId",dj:"keyId",bI:["resolution",{height:"height",width:"width"}]}],vu:["prkDrmHeaders",{fa:"bytes",vtb:"checksum",aUa:"drmHeaderId",dj:"keyId",bI:["resolution",{height:"height",width:"width"}]}],It:"flavor",e9b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",OQb:"pixelAspectX",PQb:"pixelAspectY",K9b:"maxCroppedWidth",J9b:"maxCroppedHeight",L9b:"maxCroppedX",M9b:"maxCroppedY",T9b:"max_framerate_value",S9b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",g$b:"minCroppedWidth",f$b:"minCroppedHeight",h$b:"minCroppedX",i$b:"minCroppedY",zg:["license",{JKb:"licenseResponseBase64",U$b:"providerSessionToken",oac:"secureStopExpected",f8b:"drmSessionId",links:["links",{}]}]}],eRa:["cdnResponseData",{nI:"sessionABTestCell",zw:"pbcid"}],no:["choiceMap",{ff:"initialSegment",type:"type",Z:"viewableId",Aa:["segments",{Ps:[l.Ps,{wc:"startTimeMs",Oc:"endTimeMs",next:["next",{Ps:[l.Ps,{weight:"weight"}]}],Zh:"defaultNext",bq:"exitZones"}]}]}],media:["media",{id:"id",pg:["tracks",{Lb:"AUDIO",Im:"TEXT",Jb:"VIDEO"}]}],NX:["recommendedMedia",{yP:"videoTrackId",Wm:"audioTrackId",lP:"timedTextTrackId"}],Fwa:["timedtexttracks",{cl:"trackType",hh:"new_track_id",type:"type",zI:"subType",variant:"variant",TH:"rawTrackType",eD:"languageDescription",language:"language",id:"id",$C:"isNoneTrack",O6:"isForcedNarrative",YTa:["downloadableIds",{}],fRa:["cdnlist",{id:"id",name:"name",type:"type",Zd:"rank",U0a:"lowgrade",mzb:["dns",{host:"host",VIb:"ipv4",WIb:"ipv6",rCb:"forceLookup"}],key:"key"}],Wwa:["ttDownloadables",{Ps:[l.Ps,{id:"id",size:"size",Nac:"textKey",U8b:"hashValue",T8b:"hashAlgo",o9b:"isImage",hra:"midxOffset",a2a:"midxSize",height:"height",width:"width",Rv:["downloadUrls",{}],urls:["urls",{url:"url",Np:"cdn_id"}]}]}],R6:"isLanguageLeftToRight",St:"headIdentDuration",Zd:"rank",Mr:"hydrated"}],PZb:["trickplays",{Er:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",RQb:"pixelsAspectY",QQb:"pixelsAspectX",width:"width",height:"height",St:"headIdentDuration"}],Kab:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],e8b:"dpsid",Al:"isBranching",jbc:"viewableType",bD:"isSupplemental",Qtb:"clientIpAddress",dbc:"urlExpirationDuration",F9b:"manifestExpirationDuration",Fac:["steeringAdditionalInfo",{Gac:"steeringId",e7b:"additionalGroupNames",Iac:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(1);f=a(0);l=a(207);c.prototype.bM=function(m){this.NAb.bM(m,this.VLb);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.DBa))],a);b.SEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MSa=void 0;b.MSa=function(a,c,f,l){return {FFb:function(){var m;m=a.lna();l.St && (m+=l.St);return m;},ta:c,request:f,nf:!1};};},function(r,b,a){var f,l,m,d,g;function c(h,k){var n;h=f.EventEmitter.call(this) || this;h.content="";h.entries=[];l.rb(("videoSize" in k) && ("xml" in k) && ! !k.xml,"Subtitle options didn't contain XML data");("videoSize" in k) && ("xml" in k) && (h.content=null !== (n=k.xml) && void 0 !== n?n:"",h.UA=k.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=void 0;f=a(18);l=a(22);m=a(14);d=a(30);g=a(1049);la(c,f.EventEmitter);c.prototype.CG=function(h){var k;d.Pc(h) && d.Pc(this.duration) && h < this.duration && this.entries && (k=this.UNb || this.entries[Math.floor(h * this.$Yb)] || this.entries[0]);if(k){for(;k && k.endTime < h;){k=k.next;}for(;k && k.previous && k.previous.endTime >= h;){k=k.previous;}this.UNb=k;}return k?[k]:[];};c.prototype.KM=function(h,k){var n;n=[];try{n=this.entries.filter(function(p){var q;q=aa([p.startTime,p.endTime]);p=q.next().value;q=q.next().value;return p >= h && p <= k || p <= h && h <= q;});}catch(p){}return n;};c.prototype.Ir=function(h,k){return this.KM(h,k).reduce(function(n,p){return n + p.blocks.length;},0);};c.prototype.start=function(){var h,k;h=this;if(this.content)g.a4a(this.content,this.UA.width / this.UA.height,m.config.Ewa,m.config.P$).then(function(n){h.duration=n && Math.max.apply(Math,ca(n.map(function(p){return p.endTime;}))) || 0;h.$Yb=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {k=Error("Subtitle content was empty");k.errorDetails="Subtitle content was empty";this.emit("error",k);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.zta=function(){throw Error("Method not implemented.");};c.prototype.Bs=function(){throw Error("Method not implemented.");};c.prototype.DA=function(){throw Error("Method not implemented.");};c.prototype.Yk=function(){throw Error("Method not implemented.");};c.prototype.ki=function(){throw Error("Method not implemented.");};b.aEa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.a4a=void 0;c=a(1050);f=a(277);b.a4a=function(l,m,d,g){return new Promise(function(h,k){f.Pxa(l,function(n){n.$?c.T3a(n.object,m,d,g,function(p){p.$?h(p.entries):k(p);}):k(n);});});};},function(r,b,a){var c,f,l,m,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.V3a=b.U3a=b.tsa=b.X3a=b.gQb=b.hQb=b.W3a=b.Y3a=b.S8=b.Z3a=b.$3a=b.T3a=void 0;c=a(22);f=a(30);l=a(12);m=a(157);d=a(11);g=a(19);h=a(24);b.T3a=(function(){var F,C,G,J,K,H,L,R,I,P,N,M;function k(Q){if(f.Gz(Q)){Q=Q.toLowerCase();if("#" == Q[0]){if(7 == Q.length)return Q;if(4 == Q.length)return "#" + Q[1] + Q[1] + Q[2] + Q[2] + Q[3] + Q[3];}return b.Y3a[Q];}}function n(Q,T,da){T=T[Q];0 <= T || (T=parseFloat(Q));if(0 <= T)return d.hp(T,da);}function p(Q,T){var da,pa;da=Q.length;pa=Q[da - 1];if("t" === pa)return parseFloat(Q) * T | 0;if("s" === pa)return "m" === Q[da - 2]?parseFloat(Q) | 0:parseFloat(Q) * l.il | 0;if((Q=Q.match(I)) && 4 <= Q.length)return (3600 * parseInt(Q[1],10) + 60 * parseInt(Q[2],10) + parseFloat(Q[3])) * l.il | 0;throw Error("dfxp-badtime");}function q(Q,T,da,pa,wa){var ua,X,sa,O,S,ka,ia,Pa;ua=void 0;if(Q){X=Q.style;da=X?da[X]:void 0;pa=(X=Q.region)?pa[X]:void 0;X=wa.length;for(sa=0;sa < X;sa++){S=wa[sa];ka=Q[S];void 0 === ka && da && (ka=da[S]);void 0 === ka && pa && (ka=pa[S]);if(void 0 !== ka && ka !== T[S]){if(!ua)for((ua={},O=0);O < X;O++){ia=wa[O];Pa=T[ia];void 0 !== Pa && (ua[ia]=Pa);}ua[S]=ka;}}}return ua || T;}function v(Q,T,da,pa,wa,ua,X,sa,O){var ka,ia;function S(Pa,Ea,Va){var Ya,bb,Xa,mb,Za,Sa;Ya=Pa[m.uk];bb=Ya.style || Ea.style || "";Xa=Ya.region || Ea.region || "";if(bb || Xa)(mb=bb + "/" + Xa,Za=da[mb]);else Za=T;if(!Za){Za=T;Sa=f.QO(pa);f.Xb(Sa,wa[bb]);Za=x(Za,Sa,X,sa,O);da[bb + "/"]=Za;Xa && (f.Xb(Sa,ua[Xa]),f.Xb(Sa,wa[bb]),Za=x(Za,Sa,X,sa,O),da[mb]=Za);}if(!Va)a:{for(Va=H.length;Va--;){if(void 0 !== Ya[H[Va]]){Va=!0;break a;}}Va=void 0;}Va && (Ya=q(Ya,Ea,wa,ua,L),Za=x(Za,Ya,X,sa,O));Ea=(Pa=Pa[m.GP]) && Pa.length;for(bb=0;bb < Ea;bb++){Xa=Pa[bb];f.Ah(Xa)?P.test(Xa[m.HP])?ia++:S(Xa,Ya,Va):(ka.push({text:Xa,lineBreaks:ia,style:Za}),ia=0);}}ka=[];ia=0;S(Q,pa,!1);0 < ia && ka.push({text:"",lineBreaks:ia,style:T});return ka;}function u(Q,T,da,pa,wa,ua,X,sa){var O,S;da && (da=C[da] || "top",Q.verticalAlignment !== da && (Q.verticalAlignment=da));pa && (da=G[pa] || "left",Q.horizontalAlignment !== da && (Q.horizontalAlignment=da));if(wa){if(O=sa[wa])(pa=O.marginLeft,da=O.marginTop);else {S=wa.split(" ");pa=z(S[0],X.x) || 0;da=z(S[1],X.y) || 0;O={hm:0,marginLeft:pa,marginTop:da,Rpb:pa * T.Xna + T.vV,Tpb:da * T.Axa + T.qaa};30 > sa.hm && (sa.hm++,sa[wa]=O);}Q.marginLeft=O.Rpb;Q.marginTop=O.Tpb;}else (da=pa=0,(O=sa["default"]) || (sa["default"]=O={hm:0}));ua && (wa=O[ua],wa || (S=ua.split(" "),wa={Spb:(1 - (pa + (z(S[0],X.x) || 0))) * T.Xna + T.vV,Qpb:(1 - (da + (z(S[1],X.y) || 0))) * T.Axa + T.qaa},30 > O.hm && (O.hm++,O[ua]=wa)),Q.marginRight=wa.Spb,Q.marginBottom=wa.Qpb);}function t(Q,T,da,pa,wa){var ua,X,sa;ua=Q.displayAlign;X=Q.textAlign;sa=Q.origin;Q=Q.extent;da=f.QO(da);u(da,T,ua,X,sa,Q,pa,wa);da.id=F++;return da;}function w(Q,T,da,pa){var wa,ua,X,sa,O,S;wa=n(da.characterSize || T.characterSize,b.Z3a,2) || 1;ua=(ua=Q.fontSize) && N.test(ua)?f.ip(f.Ee(ua),25,200):void 0;wa*=ua / 100 || 1;if((ua=Q.textOutline) && "none" != ua){X=ua.split(" ");if(M.test(X))(sa=0,O=Q.color);else (sa=1,O=k(X[0]));S=y(X[sa]);X=y(X[sa + 1]);}return {characterStyle:da.characterStyle || b.$3a[Q.fontFamily] || T.characterStyle,characterSize:wa * pa,characterColor:k(da.characterColor || Q.color || T.characterColor),characterOpacity:n(f.s3(da.characterOpacity,Q.opacity,T.characterOpacity),b.S8,1),characterEdgeAttributes:da.characterEdgeAttributes || ua && ("none" === ua?b.W3a:X?b.tsa:b.X3a) || T.characterEdgeAttributes,characterEdgeColor:k(da.characterEdgeColor || O || T.characterEdgeColor),characterEdgeWidth:S,characterEdgeBlur:X,characterItalic:"italic" === Q.fontStyle,characterUnderline:"underline" === Q.textDecoration,backgroundColor:k(da.backgroundColor || Q.backgroundColor || T.backgroundColor),backgroundOpacity:n(f.s3(da.backgroundOpacity,Q.opacity,T.backgroundOpacity),b.S8,1)};}function x(Q,T,da,pa,wa){var ua;T=w(T,da,pa,wa);h.re(T,function(X,sa){sa !== Q[X] && (ua || (ua=d.PE(Q)),ua[X]=sa);});return ua || Q;}function y(Q){Q=f.Ee(Q);return g.Fz(Q,0,100)?Q:0;}function z(Q,T){var da;da=Q[Q.length - 1];if("%" === da)return f.ip(.01 * parseFloat(Q),0,1);if("c" === da)return f.ip(f.Ee(Q) / T,0,1);}function A(Q){for(var T=Q.length,da=Q[--T].endTime;T--;){da=d.hp(Q[T].endTime,da);}return da;}function B(Q){h.re(Q,function(T,da){0 <= T.toLowerCase().indexOf("color") && (Q[T]=k(da));});}function D(Q,T){var da,pa,wa,ua;da=Q.pixelAspectRatio;pa={vV:0,Xna:1,qaa:0,Axa:1};Q=(Q.extent || "640px 480px").split(" ");if(2 <= Q.length){da=(da || "").split(" ");wa=parseFloat(Q[0]) * (parseFloat(da[0]) || 1);ua=parseFloat(Q[1]) * (parseFloat(da[1]) || 1);}wa=0 < wa && 0 < ua?wa / ua:1280 / 720;T=T || 1280 / 720;da=wa / T;.01 < d.DE(T - wa) && (T >= wa?(pa.vV=(1 - da) / 2,pa.Xna=da):c.rb(!1,"not implemented"));return pa;}function E(Q){var T,da,pa,wa,ua;if(T=Q.cellResolution)if((T=T.split(" "),2 <= T.length)){da=f.Ee(T[0]);T=f.Ee(T[1]);if(0 < da && 0 < T)return {x:da,y:T};}if((T=Q.extent) && (T=T.split(" "),2 <= T.length)){da=f.Ee(T[0]);pa=f.Ee(T[1]);if(Q=Q.pixelAspectRatio){T=Q.split(" ");wa=f.Ee(T[0]);ua=f.Ee(T[1]);}if(da && pa && 1.5 < da * (wa || 1) / (pa * (ua || 1)))return b.V3a;}return b.U3a;}F=1;C={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};J={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};K={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};H=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");L=H.concat(["style","region"]);R=["region","textAlign","displayAlign","extent","origin"];I=/^([0-9]+):([0-9]+):([0-9.]+)$/;P=/^br$/i;N=/^[0-9]{1,3}%$/;M=/^[0-9]/;return function(Q,T,da,pa,wa){var O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb,Za,Sa,xa,Ia,Ma,Ta,hb,wb,Hb,Ob,Cb,Kb,Vb,mc,Dc,Md,re,Nd,fd;function ua(){var ac,ec,bc,ub,fc,ob,Rb,hc,Lc,qc,dc,Ec,Mc,uc,rd,sd,Ub;try{for(var pc;Kb;){hb=Kb[m.uk];ac=Vb;ec=ac.push;bc=F++;ub=p(hb.begin,ka);fc=p(hb.end,ka);ob=void 0;Rb=Ya;hc=ia;Lc=Za;qc=Ma;dc=Kb[m.uk];Ec=q(Kb[m.uk],Dc,Ea,Va,R);Mc=Ec.region;uc=dc.displayAlign;rd=Ec.textAlign;sd=dc.origin;Ub=dc.extent;Mc || uc || rd || sd || Ub?((ob=Rb[Mc])?ob=d.PE(ob):uc || sd || Ub?(ob=d.PE(K),ob.id=F++):ob=d.PE(J),u(ob,hc,uc,rd,sd,Ub,Lc,qc)):ob=J;ec.call(ac,{id:bc,startTime:ub,endTime:fc,region:ob,textNodes:v(Kb,Md,re,mc,Ea,Va,xa,Ia,Sa)});Kb=Kb[m.gE];pc=d.jJ();if(100 < pc - Nd){Nd=Date.now();fd=setTimeout(ua,1);return;}}}catch(Fc){sa({na:f.L.y_,Bb:f.Jd(Fc)});return;}fd=setTimeout(X,1);}function X(){var ac,ec,bc,ub,fc,ob,Rb;function pc(hc,Lc){for(var qc,dc=[],Ec={},Mc,uc=ec.length;uc--;){qc=ec[uc];Mc=qc.region.id;Ec[Mc] || (Ec[Mc]=1,dc.unshift(qc));}(qc=ac[ac.length - 1]) && qc.endTime == hc && f.pt(qc.blocks,dc)?qc.endTime=Lc:ac.push({id:F++,startTime:hc,endTime:Lc,blocks:dc});}try{if(!Vb.length){sa({$:!0,entries:[]});return;}f.OPa(Vb,"startTime");ac=[];ec=[];bc=Vb[0];ub=Vb[0].startTime;for(fc=1;ec.length || bc;){for(;!ec.length || bc && bc.startTime == ub;){ec.push(bc);ub=bc.startTime;bc=Vb[fc++];}Rb=A(ec);if(!bc || Rb <= bc.startTime)for((pc(ub,Rb),ub=Rb,ob=ec.length);ob--;){ec[ob].endTime <= ub && ec.splice(ob,1);}else (pc(ub,bc.startTime),ub=bc.startTime,ec.push(bc),bc=Vb[fc++]);}for(fc=ac.length;fc--;){ac[fc].index=fc;ac[fc].previous=ac[fc - 1];ac[fc].next=ac[fc + 1];}}catch(hc){sa({na:f.L.y_,Bb:f.Jd(hc)});return;}sa({$:!0,entries:ac});}function sa(pc){setTimeout(function(){O.abort=f.jl;wa(pc);},1);}O={abort:function(){fd && clearTimeout(fd);}};try{S=Q[m.uk];ka=l.il / (f.Ee(S.tickRate) || 1);ia=D(S,T);Pa=f.Xb(K,{marginLeft:ia.vV,marginTop:ia.qaa,marginRight:ia.vV,marginBottom:ia.qaa});Ea={};Va={};Ya={};Xa=Q.head;mb=Q.body;Za=E(S,T);Sa=1 / Za.y * ia.Axa;xa=f.Xb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.tsa,characterEdgeColor:"#000000",characterSize:1},da,{dA:!0});Ia=pa || ({});Ma={hm:0};if(Xa){Ta=Xa.styling;if(Ta)for(bb=Ta.style;bb;){hb=bb[m.uk];B(hb);Ea[hb.id]=hb;bb=bb[m.gE];}wb=Xa.layout;if(wb)for(var Eb=wb.region;Eb;){hb=Eb[m.uk];Hb=hb.id;Ob=f.QO(Ea[hb.style]);Ob=f.Xb(Ob,hb);for(bb=Eb.style;bb;){f.Xb(Ob,bb[m.uk]);bb=bb[m.gE];}B(Ob);Va[Hb]=Ob;Ya[Hb]=t(Ob,ia,Pa,Za,Ma);Eb=Eb[m.gE];}}Cb=mb.div;Kb=Cb.p;Vb=[];mc={};mc=q(mb[m.uk],mc,Ea,Va,L);mc=q(Cb[m.uk],mc,Ea,Va,L);Dc={};Dc=q(mb[m.uk],Dc,Ea,Va,R);Dc=q(Cb[m.uk],Dc,Ea,Va,R);Md=w(mc,xa,Ia,Sa);f.Xb(Md,{windowColor:k(Ia.windowColor || xa.windowColor),windowOpacity:n(f.s3(Ia.windowOpacity,xa.windowOpacity),b.S8,1),cellResolution:Za},{dA:!0});re={};Cb.p=void 0;Cb[m.GP]=[];}catch(pc){sa({na:f.L.y_,Bb:f.Jd(pc)});return;}Nd=d.jJ();fd=setTimeout(ua,1);return O;};})();b.$3a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.Z3a={SMALL:.5,MEDIUM:1,LARGE:2};b.S8={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.Y3a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.W3a="NONE";b.hQb="RAISED";b.gQb="DEPRESED";b.X3a="UNIFORM";b.tsa="DROP_SHADOW";b.U3a={x:40,y:19};b.V3a={x:52,y:19};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Zib=void 0;c=a(1);r=a(114);f=a(1052);l=a(1057);m=a(1064);a=(function(d){function g(h,k){var n,p;n=d.call(this) || this;n.Mj=!0;n.mS=[];n.vv=0;p=h.nf || !1;n.Ja=h.ta || console;n.wF=h.request;n.Sx=h.FFb;n.Mg=null;n.Mj=!0;n.mS=[];n.DS=k.profile;n.pl=k.url;n.tF=k.Cd;n.CS=k.preferences;n.YR=k.fm;n.vv=n.tF || 0;h={url:n.pl,request:n.wF,Cd:n.tF,xml:k.xml,preferences:n.CS,fm:n.YR,ta:n.Ja,nf:p,bufferSize:k.bufferSize,fu:k.fu,yta:k.yta || 0,IQa:k.IQa};if("nflx-cmisc" === n.DS)(h.offset=k.hra,h.size=k.a2a,h.X9=k.X9,h.oUa=k.oUa,n.dd=new l(h));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(n.DS) && "function" === typeof f)n.dd=new f(h);else throw Error("SubtitleManager: " + n.DS + " is an unsupported profile");n.dd.on("ready",function(){var q,v;q=! !k.mQa;n.Ja.info("ready event fired by subtitle stream");n.emit("ready");v=n.dd.CG.bind(n.dd);n.Mg=new m(n.Sx,v,function(){return n.Mj;},n.Ja,k);if("dfxp-ls-sdh" === n.DS && "function" === typeof f)n.Mg.on("stagesubtitle",n.vXb.bind(n));n.Mg.on("showsubtitle",n.Hva.bind(n));n.Mg.on("removesubtitle",n.hua.bind(n));n.Mg.on("underflow",n.Ln.bind(n));n.Mg.on("bufferingComplete",n.Le.bind(n));q && (n.Ja.info("autostarting subtitles"),setTimeout(function(){n.Bs(n.Sx());},10));});n.dd.on("error",n.emit.bind(n,"error"));return n;}c.__extends(g,d);g.prototype.start=function(){this.dd.start();};g.prototype.zta=function(){this.Mj || (this.Mj=!0,this.FUa(this.vv));};g.prototype.Bs=function(h){!this.Mj && 1E4 < Math.abs(h - this.vv) && (this.Ja.warn("Detected an unexpected pts jump larger than",1E4,"at",h,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.zta());this.vv=h;this.Mj && (this.Mj=!1,this.xXb(h));null !== this.Mg && (this.r_b(h),this.Mg.Bs(h));};g.prototype.stop=function(){var h;this.Ja.info("stop called");this.Mj || this.pause();this.dd.removeAllListeners(["ready"]);null !== this.Mg && this.Mg.stop();h=this.mS.reduce(function(k,n){k.j8a+=n.wY;k.A4+=n.B4 || 0;k.PIb.push(n);return k;},{j8a:0,A4:0,PIb:[]});"object" === typeof this.dd && this.dd.close();this.Ja.info("metrics: " + JSON.stringify(h));return h;};g.prototype.pause=function(){var h;h=this.Sx();this.Mj?this.Ja.warn("pause called on subtitle manager, but it was already paused!"):(this.Ja.info("pause called at " + h),this.Mj=!0,this.FUa(h));null !== this.Mg && this.Mg.pause();};g.prototype.KM=function(h,k){return "function" === typeof this.dd.KM?this.dd.KM(h,k):[];};g.prototype.Ir=function(h,k){return this.dd.Ir(h,k);};g.prototype.CG=function(h){return this.dd.CG(h);};g.prototype.DA=function(h){var n;function k(){n.Ja.info("bufferingComplete from setStreamStartPosition");n.emit("bufferingComplete");}n=this;"function" === typeof this.dd.DA?this.dd.DA(h,k):k();};g.prototype.Yk=function(h,k){"function" === typeof this.dd.Yk && this.dd.Yk(h,k);};g.prototype.ki=function(h,k){"function" === typeof this.dd.ki && this.dd.ki(h,k);};g.prototype.Ima=function(){return this.mS[this.mS.length - 1];};g.prototype.Hva=function(h){var k,n,p,u;n=0;this.Ja.info("show subtitle called at " + this.Sx() + " for displayTime " + h.displayTime);this.emit("showsubtitle",h);p=this.Ima();p.RO || (p.RO={});if("dfxp-ls-sdh" === this.DS)try{for(var q=c.__values(h.blocks),v=q.next();!v.done;v=q.next()){u=v.value;p.RO[u.id] || (n++,p.RO[u.id]=!0);}}catch(w){var t;t={error:w};}finally{try{v && !v.done && (k=q.return) && k.call(q);}finally{if(t)throw t.error;}}else p.RO[h.id] || (n++,p.RO[h.id]=!0);p.wY+=n;};g.prototype.hua=function(h){this.Ja.info("remove subtitle called at " + this.Sx() + " for remove time " + (h.displayTime + h.duration));this.emit("removesubtitle",h);};g.prototype.vXb=function(h){this.Ja.info("stage subtitle called at " + this.Sx() + " for displayTime " + h.displayTime);this.emit("stagesubtitle",h);};g.prototype.Ln=function(){this.Ja.info("underflow fired by the subtitle timer");this.emit("underflow");};g.prototype.Le=function(){this.Ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};g.prototype.xXb=function(h){this.Ja.info("creating a new subtitle interval at " + h);this.mS.push({Y:h,wY:0});};g.prototype.r_b=function(h){var k;k=this.Ima();k && (k.Kpa=h);};g.prototype.FUa=function(h){var k;this.Ja.info("ending subtitle interval at " + h);k=this.Ima();k && (k.Ha=h,k.Ha < k.Y && (this.Ja.warn("correcting for interval where endPts is smaller than startPts"),k.Y=0 < k.Ha?k.Ha - 1:0),k.B4=this.dd.Ir(k.Y,k.Ha),delete k.RO,k.B4 > k.wY && k.Kpa && 500 > k.Ha - k.Kpa && (k.B4=this.dd.Ir(k.Y,k.Kpa)),this.Ja.info("showed " + k.wY + " during this interval"),this.Ja.info("expected " + k.B4 + " for this interval"));};return g;})(r.EventEmitter);b.Zib=a;b.default=a;},function(r,b,a){var t,w,x,y,z,A,B,D,E;function c(F){var C,G,J,K,H;C=F.preferences;G=F.fm;J=F.Cd;K=F.xml;H=F.ta;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");t.call(this);this.Wg=this.Lfa=null;this.CS="object" === typeof C?F.preferences:{};this.YR="object" === typeof G?F.fm:{};this.XB="number" === typeof J?F.Cd:0;this.HF="string" === typeof K?F.xml:"";this.Ja="object" === typeof H?F.ta:E;this.wF=F.request;this.pl=F.url;this.CB=[];this.vv=this.XB;this.Mg=null;this.wga=this.SNa=!1;this.Vjb=F.yta || 0;}function f(F,C){return F && "object" === typeof F[C] && null !== F[C]?F[C]:{};}function l(F,C){return F !== C && !(F && 0 === Object.keys(F).length && C && 0 === Object.keys(C).length);}function m(){var F,C,G;F=this;C=F.HF.indexOf("<p");if(-1 < C){G=F.HF.slice(0,C);h(G,function(J,K){null !== J?(J.Z8b=G,F.emit("error",J)):(F.Lfa=K,F.Wg=new x(F.HF,K.tickRate),g.call(F,F.XB));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,C){var G;G=F.filter(function(J){return J.startTime <= C && C <= J.endTime;});F=F.filter(function(J){return J.startTime > C;});return 0 < F.length?G.concat([F[0]]):G;}function g(F){var C,G,J,K,H,L,R;C=this;G=C.Lfa;J=0;K=[];H=G.defaultStyle?[G.defaultStyle]:[];C.Ja.info("parsing the next 5 entries...");L=C.Wg.gFb(F);C.Ja.info(L);R=w.mc(!0);R.onerror=function(I){I.xml=L;C.emit("error",I);};R.onend=function(){var I;I=C.CB.reduce(function(P,N){N=N.blocks.reduce(function(M,Q){return M.concat([Q.id]);},[]);return P.concat(N);},[]);K.forEach(function(P){var N;if(-1 === I.indexOf(P.id)){N=P && P.blocks && P.blocks.filter(function(M){return 0 < M.textNodes.length;});N && 0 < N.length && (P.blocks=N,C.CB.push(P));}});C.wga=!1;C.SNa || (C.SNa=!0,C.emit("ready"));};R.ontext=function(I){("" !== I.trim() || I.match(/ +/)) && q(q(K).blocks).textNodes.push({text:I.match(/ +/)?I:I.trim(),style:q(H),lineBreaks:J});J=0;};R.onclosetag=function(){"undefined" !== typeof R.tag.attributes.style && H.pop();};R.onopentag=function(I){var P,N,M,Q,T;P=I.attributes;N=I.name;I=G.tickRate;if("p" === N){J=0;N=P["xml:id"];P.style && H.push(P.style);M=Math.floor(parseInt(P.begin) / I * 1E3);if(0 === K.length || q(K).displayTime !== M){M=K.push;Q={};T=parseInt(P.begin) / I;I=parseInt(P.end) / I;Q.id=N;Q.startTime=Math.floor(1E3 * T);Q.endTime=Math.floor(1E3 * I);Q.style=P.style;Q.region=P.region;Q.displayTime=Q.startTime;Q.duration=Q.endTime - Q.startTime;Q.extent=P["tts:extent"] || null;Q.origin=P["tts:origin"] || null;Q.latestEndSoFar=0 > Q.endTime?0:Q.endTime;Q.blocks=[{textNodes:[],region:Q.region,id:N,extent:Q.extent,origin:Q.origin}];M.call(K,Q);}else q(K).blocks.push({textNodes:[],region:P.region,id:N,extent:P["tts:extent"] || null,origin:P["tts:origin"] || null});}else "span" === N?H.push(P.style):"br" === N && J++;};R.write("<entries>").write(L).write("</entries>").close();}function h(F,C){var G,J,K,H,L;G=w.mc(!0);J={};K=[];H=null;L=[];G.onerror=function(R){C(R,null);};G.onend=function(){C(null,J);};G.onclosetag=function(){K.pop();};G.onopentag=function(R){var I,P,N,M;I=R.attributes;P=R.name;N=J.regions;M=J.styles;K.push(R);"tt" === P?J=k(I):"body" === P?"undefined" !== typeof I.style && (J.defaultStyle=I.style,L.push(I.style)):"style" === P && p(K,"styling")?M[I["xml:id"]]=n(I,A):"style" === P && p(K,"region")?(R=Object.keys(I)[0],"string" === typeof R && (N[H][R.slice(4)]=I[R])):"region" === P && p(K,"layout") && (H=I["xml:id"],N[H]=n(I,D));};setTimeout(function(){var R;for(G.write(F);0 < K.length && !G.error;){R=q(K).name;G.write("</" + R + ">");}G.close();},10);}function k(F){var C;F=n(F,B);if("string" === typeof F.extent){C=F.extent.split(" ").map(function(G){return parseInt(G,10);});F.width=C[0];F.height=C[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(C=F.cellResolution.split(" ").map(function(G){return parseInt(G,10);}),F.cellResolution={},F.cellResolution.x=C[0],F.cellResolution.y=C[1]):F.cellResolution={x:52,y:19};return F;}function n(F,C){var G;G={};C.forEach(function(J){"undefined" !== typeof F["tts:" + J]?G[J]=F["tts:" + J]:"undefined" !== typeof F["ttp:" + J] && (G[J]=F["ttp:" + J]);});G.styles={};G.regions={};return G;}function p(F,C){var G;for(G=F.length - 1;0 <= G;G--){if(F[G].name === C)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function v(F,C){return {lineBreaks:C.lineBreaks,text:C.text,style:z.oxb(F[C.style] || ({}),this.YR,this.CS),id:C.id};}function u(F,C){var G,J;G=this;J=F.styles || ({});return {startTime:C.startTime,id:C.id,endTime:C.endTime,displayTime:C.displayTime,duration:C.duration,blocks:C.blocks.map(function(K){var H;H=y.jxb(F,K);return {textNodes:K.textNodes.map(v.bind(G,J)),region:H,id:K.id};})};}t=a(114).EventEmitter;w=a(1053);x=a(1054);y=a(1055);z=a(1056);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");B=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];D=["backgroundColor","displayAlign","extent","origin"];E={info:function(){}};b=Object.create(t.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Ja.info("incremental text stream created, starting at pts " + F.XB);F.HF?m.call(F):F.wF({url:F.pl},function(C,G){F.HF=G;m.call(F);});};b.CG=function(F){var C,G,J;C=this;F < C.vv - C.Vjb && (C.CB=[]);G=C.CB;J=0 < G.length?G[G.length - 1].startTime:F;C.vv=F;for(!C.Mg && 5 > C.CB.length && !C.wga && (C.Ja.info("buffer size: " + C.CB.length + "; minimum: 5"),C.wga=!0,C.Mg=setTimeout(function(){C.Mg=null;g.call(C,J + 1);},10));0 < G.length && G[0].endTime < F;){G.shift();}G=d(G,F).map(u.bind(C,C.Lfa));F < C.Wg.LBb() && 0 === G.length && (G=null);return G;};b.Ir=function(F,C){return this.Wg?this.Wg.Ir(F,C):0;};b.close=function(){};b.cbc=function(F){var C;C=f(F,"preferences");F=f(F,"defaults");return l(C,this.CS) || l(F,this.YR)?(this.CS=C,this.YR=F,!0):!1;};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I;function c(){}function f(P,N){if(!(this instanceof f))return new f(P,N);for(var M=0,Q=x.length;M < Q;M++){this[x[M]]="";}this.q=this.c=this.cn=this.textNode="";this.EQa=a.Lca;this.An=N || ({});this.An.S0a=this.An.S0a || this.An.y9b;this.mqa=this.An.S0a?"toLowerCase":"toUpperCase";this.In=[];this.closed=this.LT=this.BO=!1;this.tag=this.error=null;this.WD=! !P;this.Q2a=!(!P && !this.An.Q2a);this.state=I.kba;this.kx=(this.X8a=this.An.X8a)?Object.create(a.vjb):Object.create(a.kx);this.eC=[];this.An.IZ && (this.fk=Object.create(H));if(this.W$=!1 !== this.An.position)this.position=this.line=this.MT=0;this.onready && this.onready(void 0);}function l(P,N){var M;if(!(this instanceof l))return new l(P,N);c.apply(this);this.Xx=new f(P,N);this.readable=this.writable=!0;M=this;this.Xx.onend=function(){M.emit("end");};this.Xx.onerror=function(Q){M.emit("error",Q);M.Xx.error=null;};y.forEach(function(Q){Object.defineProperty(M,"on" + Q,{get:function(){return M.Xx["on" + Q];},set:function(T){if(!T)return (M.removeAllListeners(Q),M.Xx["on" + Q]=T);M.on(Q,T);},enumerable:!0,configurable:!1});});}function m(P){return P.split("").reduce(function(N,M){N[M]=!0;return N;},{});}function d(P,N){return "[object RegExp]" === Object.prototype.toString.call(P)?! !N.match(P):P[N];}function g(P,N,M){P.textNode && h(P);P[N] && P[N](M);}function h(P){P.textNode=k(P.An,P.textNode);P.textNode && P.ontext && P.ontext(P.textNode);P.textNode="";}function k(P,N){P.trim && (N=N.trim());P.normalize && (N=N.replace(/\s+/g," "));return N;}function n(P,N){h(P);P.W$ && (N+="\nLine: " + P.line + "\nColumn: " + P.MT + "\nChar: " + P.c);N=Error(N);P.error=N;P.onerror && P.onerror(N);return P;}function p(P){P.BO && !P.LT && q(P,"Unclosed root tag");P.state !== I.kba && P.state !== I.lba && P.state !== I.Im && n(P,"Unexpected end");h(P);P.c="";P.closed=!0;P.onend && P.onend(void 0);f.call(P,P.WD,P.An);return P;}function q(P,N){if("object" !== typeof P || !(P instanceof f))throw Error("bad call to strictFail");P.WD && n(P,N);}function v(P,N){var M,Q;M=0 > P.indexOf(":")?["",P]:P.split(":");Q=M[0];M=M[1];N && "xmlns" === P && (Q="xmlns",M="");return {prefix:Q,local:M};}function u(P){var N,M,Q;P.WD || (P.Wi=P.Wi[P.mqa]());if(-1 !== P.eC.indexOf(P.Wi) || P.tag.attributes.hasOwnProperty(P.Wi))return P.Wi=P.Yi="";if(P.An.IZ){N=v(P.Wi,!0);M=N.local;if("xmlns" === N.prefix)if("xml" === M && P.Yi !== J)q(P,"xml: prefix must be bound to " + J + "\nActual: " + P.Yi);else if("xmlns" === M && P.Yi !== K)q(P,"xmlns: prefix must be bound to " + K + "\nActual: " + P.Yi);else {N=P.tag;Q=P.In[P.In.length - 1] || P;N.fk === Q.fk && (N.fk=Object.create(Q.fk));N.fk[M]=P.Yi;}P.eC.push([P.Wi,P.Yi]);}else (P.tag.attributes[P.Wi]=P.Yi,g(P,"onattribute",{name:P.Wi,value:P.Yi}));P.Wi=P.Yi="";}function t(P,N){var M,Q,da,pa,wa,ua,X;if(P.An.IZ){M=P.tag;Q=v(P.tagName);M.prefix=Q.prefix;M.local=Q.local;M.uri=M.fk[Q.prefix] || "";M.prefix && !M.uri && (q(P,"Unbound namespace prefix: " + JSON.stringify(P.tagName)),M.uri=Q.prefix);Q=P.In[P.In.length - 1] || P;M.fk && Q.fk !== M.fk && Object.keys(M.fk).forEach(function(sa){g(P,"onopennamespace",{prefix:sa,uri:M.fk[sa]});});Q=0;for(var T=P.eC.length;Q < T;Q++){da=P.eC[Q];pa=da[0];wa=da[1];ua=v(pa,!0);da=ua.prefix;X="" == da?"":M.fk[da] || "";wa={name:pa,value:wa,prefix:da,local:ua.local,uri:X};da && "xmlns" != da && !X && (q(P,"Unbound namespace prefix: " + JSON.stringify(da)),wa.uri=da);P.tag.attributes[pa]=wa;g(P,"onattribute",wa);}P.eC.length=0;}P.tag.s9b=! !N;P.BO=!0;P.In.push(P.tag);g(P,"onopentag",P.tag);N || (P.state=P.Q2a || "script" !== P.tagName.toLowerCase()?I.Im:I.NJ,P.tag=null,P.tagName="");P.Wi=P.Yi="";P.eC.length=0;}function w(P){var N,M,T;if(P.tagName){if(P.pk){if("script" !== P.tagName){P.pk+="</" + P.tagName + ">";P.tagName="";P.state=I.NJ;return;}g(P,"onscript",P.pk);P.pk="";}N=P.In.length;M=P.tagName;P.WD || (M=M[P.mqa]());for(var Q=M;N--;){if(P.In[N].name !== Q)q(P,"Unexpected close tag");else break;}if(0 > N)(q(P,"Unmatched closing tag: " + P.tagName),P.textNode+="</" + P.tagName + ">");else {P.tagName=M;for(M=P.In.length;M-- > N;){T=P.tag=P.In.pop();P.tagName=P.tag.name;g(P,"onclosetag",P.tagName);for(var da in T.fk){;}Q=P.In[P.In.length - 1] || P;P.An.IZ && T.fk !== Q.fk && Object.keys(T.fk).forEach(function(pa){g(P,"onclosenamespace",{prefix:pa,uri:T.fk[pa]});});}0 === N && (P.LT=!0);P.tagName=P.Yi=P.Wi="";P.eC.length=0;}}else (q(P,"Weird empty close tag."),P.textNode+="</>");P.state=I.Im;}a.mc=function(P,N){return new f(P,N);};a.K5b=f;a.L5b=l;a.JSa=function(P){return new l(P,void 0);};a.Lca=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Je=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(P){function N(){this.__proto__=P;}N.prototype=P;return new N();});Object.getPrototypeOf || (Object.getPrototypeOf=function(P){return P.__proto__;});Object.keys || (Object.keys=function(P){var N,M;N=[];for(M in P){P.hasOwnProperty(M) && N.push(M);}return N;});f.prototype={end:function(){p(this);},write:function(P){var T,da,pa,wa,ua,X;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === P)return p(this);if(this.error)throw this.error;for(var N=0,M;this.c=M=P.charAt(N++);){switch((this.W$ && (this.position++,"\n" === M?(this.line++,this.MT=0):this.MT++),this.state)){case I.kba:if((this.state=I.lba,"\ufeff" === M))continue;case I.lba:"<" === M?(this.state=I.fda,this.Zva=this.position):d(z,M) || (q(this,"Non-whitespace before first tag."),this.textNode=M,this.state=I.Im);continue;case I.Im:if(this.BO && !this.LT){for(var Q=N - 1;M && "<" !== M && "&" !== M;){(M=P.charAt(N++)) && this.W$ && (this.position++,"\n" === M?(this.line++,this.MT=0):this.MT++);}this.textNode+=P.substring(Q,N - 1);}"<" !== M || this.BO && this.LT && !this.WD?(d(z,M) || this.BO && !this.LT || q(this,"Text data outside of root node."),"&" === M?this.state=I.uea:this.textNode+=M):(this.state=I.fda,this.Zva=this.position);continue;case I.NJ:"<" === M?this.state=I.kJa:this.pk+=M;continue;case I.kJa:"/" === M?this.state=I.tba:(this.pk+="<" + M,this.state=I.NJ);continue;case I.fda:"!" === M?(this.state=I.fea,this.qs=""):d(z,M) || (d(L,M)?(this.state=I.eGa,this.tagName=M):"/" === M?(this.state=I.tba,this.tagName=""):"?" === M?(this.state=I.BGa,this.r9=this.SH=""):(q(this,"Unencoded <"),this.Zva + 1 < this.position && (M=Array(this.position - this.Zva).join(" ") + M),this.textNode+="<" + M,this.state=I.Im));continue;case I.fea:(this.qs + M).toUpperCase() === C?(g(this,"onopencdata"),this.state=I.VZ,this.Yl=this.qs=""):"--" === this.qs + M?(this.state=I.XZ,this.qs=this.am=""):(this.qs + M).toUpperCase() === G?(this.state=I.b_,(this.doctype || this.BO) && q(this,"Inappropriately located doctype declaration"),this.qs=this.doctype=""):">" === M?(g(this,"onsgmldeclaration",this.qs),this.qs="",this.state=I.Im):(d(D,M) && (this.state=I.nJa),this.qs+=M);continue;case I.nJa:M === this.q && (this.state=I.fea,this.q="");this.qs+=M;continue;case I.b_:">" === M?(this.state=I.Im,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=M,"[" === M?this.state=I.Eba:d(D,M) && (this.state=I.mAa,this.q=M));continue;case I.mAa:this.doctype+=M;M === this.q && (this.q="",this.state=I.b_);continue;case I.Eba:this.doctype+=M;"]" === M?this.state=I.b_:d(D,M) && (this.state=I.lAa,this.q=M);continue;case I.lAa:this.doctype+=M;M === this.q && (this.state=I.Eba,this.q="");continue;case I.XZ:"-" === M?this.state=I.mza:this.am+=M;continue;case I.mza:"-" === M?(this.state=I.lza,(this.am=k(this.An,this.am)) && g(this,"oncomment",this.am),this.am=""):(this.am+="-" + M,this.state=I.XZ);continue;case I.lza:">" !== M?(q(this,"Malformed comment"),this.am+="--" + M,this.state=I.XZ):this.state=I.Im;continue;case I.VZ:"]" === M?this.state=I.fza:this.Yl+=M;continue;case I.fza:"]" === M?this.state=I.gza:(this.Yl+="]" + M,this.state=I.VZ);continue;case I.gza:">" === M?(this.Yl && g(this,"oncdata",this.Yl),g(this,"onclosecdata"),this.Yl="",this.state=I.Im):"]" === M?this.Yl+="]":(this.Yl+="]]" + M,this.state=I.VZ);continue;case I.BGa:"?" === M?this.state=I.rda:d(z,M)?this.state=I.qda:this.r9+=M;continue;case I.qda:if(!this.SH && d(z,M))continue;else "?" === M?this.state=I.rda:this.SH+=M;continue;case I.rda:">" === M?(g(this,"onprocessinginstruction",{name:this.r9,body:this.SH}),this.r9=this.SH="",this.state=I.Im):(this.SH+="?" + M,this.state=I.qda);continue;case I.eGa:if(d(R,M))this.tagName+=M;else {this.WD || (this.tagName=this.tagName[this.mqa]());Q=this.In[this.In.length - 1] || this;T=this.tag={name:this.tagName,attributes:{}};this.An.IZ && (T.fk=Q.fk);this.eC.length=0;">" === M?t(this):"/" === M?this.state=I.g0:(!d(z,M) && q(this,"Invalid character in tag name"),this.state=I.aJ);}continue;case I.g0:">" === M?(t(this,!0),w(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=I.aJ);continue;case I.aJ:if(d(z,M))continue;else ">" === M?t(this):"/" === M?this.state=I.g0:d(L,M)?(this.Wi=M,this.Yi="",this.state=I.NZ):q(this,"Invalid attribute name");continue;case I.NZ:"=" === M?this.state=I.Kaa:">" === M?(q(this,"Attribute without value"),this.Yi=this.Wi,u(this),t(this)):d(z,M)?this.state=I.Rxa:d(R,M)?this.Wi+=M:q(this,"Invalid attribute name");continue;case I.Rxa:if("=" === M)this.state=I.Kaa;else if(d(z,M))continue;else (q(this,"Attribute without value"),this.Yi=this.tag.attributes[this.Wi]="",g(this,"onattribute",{name:this.Wi,value:""}),this.Wi="",">" === M?t(this):d(L,M)?(this.Wi=M,this.state=I.NZ):(q(this,"Invalid attribute name"),this.state=I.aJ));continue;case I.Kaa:if(d(z,M))continue;else d(D,M)?(this.q=M,this.state=I.Naa):(q(this,"Unquoted attribute value"),this.state=I.Oaa,this.Yi=M);continue;case I.Naa:if(M !== this.q){"&" === M?this.state=I.Laa:this.Yi+=M;continue;}u(this);this.q="";this.state=I.Sxa;continue;case I.Sxa:d(z,M)?this.state=I.aJ:">" === M?t(this):"/" === M?this.state=I.g0:d(L,M)?(q(this,"No whitespace between attributes"),this.Wi=M,this.Yi="",this.state=I.NZ):q(this,"Invalid attribute name");continue;case I.Oaa:if(!d(F,M)){"&" === M?this.state=I.Maa:this.Yi+=M;continue;}u(this);">" === M?t(this):this.state=I.aJ;continue;case I.tba:if(this.tagName)">" === M?w(this):d(R,M)?this.tagName+=M:this.pk?(this.pk+="</" + this.tagName,this.tagName="",this.state=I.NJ):(!d(z,M) && q(this,"Invalid tagname in closing tag"),this.state=I.jza);else if(d(z,M))continue;else d(L,M)?this.tagName=M:this.pk?(this.pk+="</" + M,this.state=I.NJ):q(this,"Invalid tagname in closing tag.");continue;case I.jza:if(d(z,M))continue;">" === M?w(this):q(this,"Invalid characters in closing tag");continue;case I.uea:case I.Laa:case I.Maa:switch(this.state){case I.uea:(da=I.Im,pa="textNode");break;case I.Laa:da=I.Naa;pa="attribValue";break;case I.Maa:(da=I.Oaa,pa="attribValue");}if(";" === M){M=pa;Q=this[M];T=this.cn;wa=T.toLowerCase();ua="";if(this.kx[T])T=this.kx[T];else if(this.kx[wa])T=this.kx[wa];else {T=wa;if("#" === T.charAt(0))if("x" === T.charAt(1)){T=T.slice(2);X=parseInt(T,16);ua=X.toString(16);}else (T=T.slice(1),X=parseInt(T,10),ua=X.toString(10));T=T.replace(/^0+/,"");T=ua.toLowerCase() !== T?(q(this,"Invalid character entity"),"&" + this.cn + ";"):String.fromCodePoint(X);}this[M]=Q + T;this.cn="";this.state=da;}else d(E,M)?this.cn+=M:(q(this,"Invalid character entity"),this[pa]+="&" + this.cn + M,this.cn="",this.state=da);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.EQa){P=Math.max(a.Lca,10);M=N=0;for(da=x.length;M < da;M++){pa=this[x[M]].length;if(pa > P)switch(x[M]){case "textNode":h(this);break;case "cdata":g(this,"oncdata",this.Yl);this.Yl="";break;case "script":g(this,"onscript",this.pk);this.pk="";break;default:n(this,"Max buffer length exceeded: " + x[M]);}N=Math.max(N,pa);}this.EQa=a.Lca - N + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.Yl && (g(this,"oncdata",this.Yl),this.Yl="");"" !== this.pk && (g(this,"onscript",this.pk),this.pk="");}};y=a.Je.filter(function(P){return "error" !== P && "end" !== P;});l.prototype=Object.create(c.prototype,{constructor:{value:l}});l.prototype.write=function(P){this.Xx.write(P.toString());this.emit("data",P);return !0;};l.prototype.end=function(P){P && P.length && this.write(P);this.Xx.end();return !0;};l.prototype.on=function(P,N){var M;M=this;M.Xx["on" + P] || -1 === y.indexOf(P) || (M.Xx["on" + P]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,P);M.emit.apply(M,Q);});return c.prototype.on.call(M,P,N);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";D="'\"";E=A + B + "#";F=z + ">";C="[CDATA[";G="DOCTYPE";J="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";H={xml:J,IZ:K};z=m(z);A=m(A);B=m(B);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;D=m(D);E=m(E);F=m(F);I=0;a.vB={kba:I++,lba:I++,Im:I++,uea:I++,fda:I++,fea:I++,nJa:I++,b_:I++,mAa:I++,Eba:I++,lAa:I++,h2b:I++,XZ:I++,mza:I++,lza:I++,VZ:I++,fza:I++,gza:I++,BGa:I++,qda:I++,rda:I++,eGa:I++,g0:I++,aJ:I++,NZ:I++,Rxa:I++,Kaa:I++,Naa:I++,Sxa:I++,Oaa:I++,Laa:I++,Maa:I++,tba:I++,jza:I++,NJ:I++,kJa:I++};a.vjb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.kx={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.kx).forEach(function(P){var N;N=a.kx[P];N="number" === typeof N?String.fromCharCode(N):N;a.kx[P]=N;});for(I in a.vB){a.vB[a.vB[I]]=I;}I=a.vB;String.fromCodePoint || (function(){var N,M;function P(){var Q,T,da,wa,ua;Q=[];T=-1;da=arguments.length;if(!da)return "";for(var pa="";++T < da;){wa=Number(arguments[T]);if(!isFinite(wa) || 0 > wa || 1114111 < wa || M(wa) != wa)throw RangeError("Invalid code point: " + wa);if(65535 >= wa)Q.push(wa);else {wa-=65536;ua=(wa >> 10) + 55296;wa=wa % 1024 + 56320;Q.push(ua,wa);}if(T + 1 == da || 16384 < Q.length)(pa+=N.apply(null,Q),Q.length=0);}return pa;}N=String.fromCharCode;M=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:P,configurable:!0,writable:!0}):String.fromCodePoint=P;})();})(b);},function(r){function b(a,c){var f,l,m,d,g,h;f=[];l=a.indexOf("<p");m=-1;do {d={};d.pXb=l;g=a.indexOf("begin=",l) + 7;h=a.indexOf("end=",l) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=g;d.endTime=h;d.latestEndSoFar=m;d.OUa=a.indexOf("/p>",l) + 3;l=d.OUa;f.push(d);l=a.indexOf("<p",l);}while(-1 !== l);this.s1=f;this.HF=a;}b.prototype.LBb=function(){return this.s1[this.s1.length - 1].endTime;};b.prototype.Ir=function(a,c){return this.s1.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.gFb=function(a){for(var c="",f=this.s1.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),l=4;l + 1 < f.length && f[l + 1].startTime === f[4].startTime;){l++;}f=f.slice(0,l + 1);0 < f.length && (c=this.HF.slice(f[0].pXb,f[f.length - 1].OUa));return c;};r.exports=b;},function(r,b,a){var l,m,d;function c(g){return "string" !== typeof g?null:m[g];}function f(g){return g.split(" ").map(function(h){return .01 * parseFloat(h);});}l=a(466);r.exports={jxb:function(g,h){var k,n,p,q,v,u;k=h.textNodes[0] || ({});n=g.regions;p=g.styles;g=g.aspectRatio;n=n && n[h.region]?n[h.region]:{};k=p && p[k.style]?p[k.style]:{};p=f(l(h.extent,n.extent,"80% 80%"));q=f(l(h.origin,n.origin,"10% 10%"));h=Object;g/=1280 / 720;v=(1 - g) / 2;u=q[0];q=q[1];p=h.create.call(h,{marginLeft:u * g + v,marginTop:q,marginRight:(1 - (u + p[0])) * g + v,marginBottom:1 - (q + p[1])});1 < Object.keys(n).length?p.verticalAlignment=c(l(k.displayAlign,n.displayAlign,"before")):p.verticalAlignment=c(l(k.displayAlign,"after"));n=l(k.textAlign,n.textAlign,"center");p.horizontalAlignment="string" !== typeof n?null:d[n];return p;}};m={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(r,b,a){var l,m,d,g,h,k,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function f(p){var q,v,u;q=(p || "").split(" ");v=(/^[0-9]/).test(q);p=v?"#000000":c(q[0]);u=v?0:1;v=parseInt(q[u]);q=parseInt(q[u + 1]);return {color:p,width:0 < v?v:0,blur:0 < q?q:0};}l=a(466);r.exports={oxb:function(p,q,v){var u,t,w,x,y,z,A,B,D,E,F,C,G,J;u=l(v.characterSize,q.characterSize,"MEDIUM");t=p.fontFamily;t=l(v.characterStyle,"string" !== typeof t?null:g[t],q.characterStyle,"PROPORTIONAL_SANS_SERIF");w=parseInt(p.fontSize,10) / 100 || 1;x="underline" === p.textDecoration;y="italic" === p.fontStyle;z=m[l(v.b1b,q.b1b,"OPAQUE")];A=m[l(v.characterOpacity,q.characterOpacity,"OPAQUE")];B=m[l(v.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];D=c(l(v.characterColor,p.color,q.characterColor,"#ffffff"));E=c(l(v.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(l(v.Mab,p.Mab,q.Mab,null));C=l(v.characterEdgeAttributes,q.characterEdgeAttributes,null);w*=h[u] || 1;G=1;k[u] && (G=k[u][t] || 1);w*=1 / 19 * G;G=0;n[u] && (G=n[u][t] || 0);u=G;G=p.textOutline;G="string" !== typeof G?null:f(G).width;G=l(G,0);J=p.textOutline;J="string" !== typeof J?null:f(J).blur;J=l(J,0);v=v.characterEdgeColor;p=p.textOutline;p="string" !== typeof p?null:f(p).color;return {characterUnderline:x,characterItalic:y,characterStyle:t,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:D,backgroundColor:E,windowColor:F,characterEdgeAttributes:C,characterSize:w,characterTracking:u,characterEdgeWidth:G,characterEdgeBlur:J,characterEdgeColor:c(l(v,p,q.characterEdgeColor,"#000000"))};}};m={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};g={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};k={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var f,l,m,d,g,h;function c(k){f.call(this);this.pl=k.url;this.wF=k.request;this.tF=k.Cd || 0;this.Ja=k.ta;this.vi=this.pr=null;k.fu?this.pr=k.fu:(this.Ke=k.offset,this.PK=k.size);this.Wl;this.tga=k;}f=a(114).EventEmitter;l=a(1058);m=a(1059);d=a(1060);g=a(158);h=c.events={kgb:"midxready",Dib:"sidxready",oib:"ready",Gf:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{qp:{get:function(){return this.Wl && this.Wl.kka;}}});c.prototype.start=function(){this.pr?(this.Ja.warn("midx was prefectched and provided"),this.qMa(this.pr)):this.Hkb(this.Ke,this.PK,this.ynb.bind(this));};c.prototype.close=function(){};c.prototype.KM=function(k,n){return this.Wl && this.Wl.Fna(k,n);};c.prototype.Ir=function(k,n){return (k=this.KM(k,n))?k.length:k;};c.prototype.DA=function(k,n){this.Ja.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.tF=k;this.Wl?this.Wl.DA(k,n):n && n();};c.prototype.CG=function(k){var n,p,q;if(!this.Wl || k > g.mEb(this.pr))return [];this.Wl && this.Wl.Uka(k);n=this.qp.rs;p=this.qp.index;q=[];p=g.Pc(p) && this.vi[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.CMa(n,k,[]));2 > q.length && p && p.images.length && (n=this.CMa(p,k,q),q.push.apply(q,n));return this.Wl.Fva(k)?null:g.dSa(q);};c.prototype.ki=function(k,n){this.Wl && this.Wl.ki(k,n);};c.prototype.Yk=function(k,n){this.Wl && this.Wl.Yk(k,n);};c.prototype.Hkb=function(k,n,p){this.Ja.debug("downloading midx...");this.OMa(k,n,"binary",p);};c.prototype.Ikb=function(k,n,p){this.Ja.debug("downloading sidx...");this.OMa(k,n,void 0,p);};c.prototype.OMa=function(k,n,p,q){this.wF({url:this.pl,offset:k,size:n,responseType:p},q);};c.prototype.ynb=function(k,n){if(k)this.emit(h.Gf,g.hV(k,"midxdownloaderror"));else try{this.pr=new l(n);this.qMa(this.pr);}catch(p){this.emit(h.Gf,g.hV(p,"midxparseerror"));}};c.prototype.qMa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.kgb,k),this.Ikb(k.startOffset,n,this.Bnb.bind(this,k))):this.emit(h.Gf,g.hV({},"nosidxfoundinmidx"));};c.prototype.Bnb=function(k,n,p){var q,v,u,t;q=this;if(n)q.emit(h.Gf,g.hV(n,"sidxdownloaderror"));else {v=0;u=0;q.vi=[];try{t=0;k.entries.forEach(function(w){var x;x=new m(p,v,k.Koa,q.Ja,u,u + w.duration,t);q.vi.push(x);w.dXb=x;u=x.Cq;v+=w.size;t++;});}catch(w){q.emit(h.Gf,g.hV(w,"sidxparseerror"));return;}q.emit(h.Dib,q.vi);this.Wl=new d(q.tga,k,q.vi);n=q.tF;q.tga && q.tga.X9 || (n=Math.max(q.tF - 1E4,0));this.Wl.Uka(n,function(w){w && q.Ja.error("initial sidx download failed");q.emit(h.oib);});}};c.prototype.CMa=function(k,n,p){var y;for(var q=k.entries,v=0,u=q.length,t=[],w,x=this.pr;v < u;){w=q[v];if(w.displayTime <= n)w.displayTime + w.duration >= n && t.push(g.bka(w,k.images[v].data,x));else {y=t.length && t[t.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== w.displayTime)break;y.SG !== w.SG && t.push(g.bka(w,k.images[v].data,x));}v++;}return t;};r.exports=c;},function(r,b,a){var f,l;function c(m,d){this.duration=m;this.size=d;this.dXb=void 0;}f=a(278);l=a(158);r.exports=function(m){var k;m=new f(m);this.identifier=m.Lta(4);l.assert("midx" === this.identifier);this.version=m.Dq(4);l.assert(0 === this.version);this.Koa=m.Eh(36);this.creationTime=m.iO();this.Ko=m.iO();this.J=m.iO();this.LUb=m.ih();this.MUb=m.ih();this.language=m.Eh(16);m.Eh(16);this.startOffset=m.iO();this.hm=m.ih();for(var d=[],g=0,h=0;h < this.hm;h++){k=new c(m.Dq(4),m.ih());d.push(k);g+=k.duration;}this.entries=d;this.endTime=g;};},function(r,b,a){var l,m;function c(d,g,h,k,n,p,q,v){this.displayTime=d;this.duration=g;this.LPb=h;this.MPb=k;this.kXb=n;this.lXb=p;this.SG=q;this.zoa=v;}function f(d,g,h,k,n,p,q){var v;d=new l(d);v=0;d.position=g;this.Ja=k;this.identifier=d.Lta(4);m.assert("sidx" === this.identifier,k);this.Koa=d.Eh(36);m.cub(this.Koa,h,k);this.duration=d.Dq(4);this.hm=d.ih();this.Iw=n;this.Cq=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Iga=0;v < this.hm;){g=new c(d.Dq(4),d.Dq(4),d.ih(),d.ih(),d.ih(),d.ih(),d.iO(),d.Dq(4));v++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}l=a(278);m=a(158);f.prototype.sIb=function(){this.Iga++;};f.prototype.eyb=function(){var d;d=0;this.Iga--;1 > this.Iga?this.images && 0 < this.images.length && (d+=m.Bna([this]),this.images=[]):this.Ja.debug("Not cleaning up shared sidx with range",this.Iw,"-",this.Cq);return d;};r.exports=f;},function(r,b,a){var m,d;function c(g,h){var n;g=g || 0;if(h)for(var k in h.Aa){n=h.Aa[k];if(g >= (n.wc || 0) && (!n.Oc || g < n.Oc))return k;}}function f(g,h){return g && h && h.Aa[g];}function l(g,h,k){var n;this.Ja=g.ta;this.vi=k;this.UB=this.mkb(g.X9);this.Xg=[];n=k && k[k.length - 1];this.vv=n && (n.endTime || n.Cq);this.Ig=new m(g,h,k);g=c(g.Cd || 0,this.UB);this.Xn=this.Px(g);}m=a(1061);d=a(1063);Object.defineProperties(l.prototype,{kka:{get:function(){return this.Ig.kka;}}});l.prototype.Fna=function(g,h){return this.Ig && this.Ig.Fna(g,h);};l.prototype.Uka=function(g,h){this.Ig.QVb(g);this.yOa(g);if(!this.UB && this.vv && g > this.vv)h && h();else if((g=this.mMa(g,this.Xn,2,h),this.UB && 0 < this.Xn.H2a.length))h && h();else if(this.UB && this.Xn.dN && g){2 > this.Xg.length && this.skb(this.Xn);h=Math.ceil(2 / (this.Xg.length - 1));for(var k=0;k < this.Xg.length && g && 3 > k;k++){g=this.Xg[k];g=this.mMa(g.startTime,g,h);}}};l.prototype.Fva=function(g){return this.Ig.Fva(g)?(this.Ig.Wpb(),this.Uka(g),this.Xn.dN=!1,!0):!1;};l.prototype.DA=function(g,h){var k;this.yOa(g);this.Xg.forEach(function(n){n.dN=!1;});k=this.Xn.En && this.Xn.En[0];this.Ig.DA(g,k && k.index);(g=this.Ig.ZFb(g)) && g.length?this.Ig.WTa(g,h):h && h();};l.prototype.Yk=function(g,h){var k;this.Ja.debug("Set next segment to",h,"for segment",g);g=this.uMa(g) || this.Px(g);g.g7a=h;k=this;g.OW=g.OW.filter(function(n){if(n.id === h)return !0;k.pfa(n);return !1;});};l.prototype.ki=function(g,h){var k;k=f(g,this.UB);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};l.prototype.mkb=function(g){var h,n;h={};if(g=(g || ({})).Aa){h.Aa={};for(var k in g){n=g[k] || ({});h.Aa[k]={wc:n.wc,Oc:n.Oc,Zh:n.Zh,next:this.lkb(n.next)};}}return h;};l.prototype.lkb=function(g){var h,k;h={};for(k in g){h[k]={weight:(g[k] || ({})).weight};}return h;};l.prototype.yOa=function(g){var h,k;if(this.UB && this.Xn.startTime > g || this.Xn.endTime && this.Xn.endTime < g){h=this.Xn;k=c(g,this.UB);k?(this.Ja.debug("Switching segments from",this.Xn.id,"to",k,"at pts",g),this.Xn=this.uMa(k) || this.Px(k),this.pfa(h)):this.Ja.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.Px=function(g){this.Ja.debug("SegmentManager: creating segment",g);g=new d(g,f(g,this.UB),this.vi,this.Ja);this.Xg.push(g);this.Ja.debug("SegmentManager: segment contains",g.En.length,"sidxes");return g;};l.prototype.pfa=function(g){var h;if(g && g !== this.Xn){this.Ja.debug("SegmentManager: deleting segment",g.id);g.OW.forEach(this.pfa.bind(this));this.Xg=this.Xg.filter(function(k){return k !== g;});h=g.tRa();this.Ig.HTb(h && h.size || 0,h && h.En);}};l.prototype.uMa=function(g){var k;for(var h=0;g && h < this.Xg.length;h++){k=this.Xg[h];if(g === k.id)return k;}};l.prototype.skb=function(g){var h,n;h=g.g7a;if(h && "" !== h)g.OW.push(this.Px(h));else {h=g.H2a;for(var k in h){n=h[k];if(!n || !n.weight)break;g.OW.push(this.Px(k));}}};l.prototype.mMa=function(g,h,k,n){if(!h || h.dN)return (this.Ja.debug("Done driving segment",h && h.id),!0);if(!this.Ig.Isb)return (this.Ja.debug("Throttling buffering in quiet period"),!1);this.Ja.debug("Drive streaming of segment",h.id,"from pts",g);k=(g=this.Ig.$Fb(g,h,k)) && g.length || 0;if(0 === k)return (this.Ja.debug("Segment is fully downloaded",h && h.id),h.dN=!0,n && n(),!0);this.Ja.debug("Downloading",k,"sidxes in segment",h.id);return this.Ig.WTa(g,function(p,q){p && (h.dN=!1);n && n(p,q);});};r.exports=l;},function(r,b,a){var h,k;function c(n,p,q){var v;v=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || v;}function f(n,p,q){return p && (!p.entries.length && n > p.Iw || n > p.endTime) && q.entries.length && n < q.endTime;}function l(n,p,q){this.yF=this.ov=0;this.Ylb=n.bufferSize || 4194304;this.qp=new g();this.sF;this.kF=n.nf;this.Ja=n.ta;this.pr=p;this.vi=q;this.fo=new h(n);this.IF=new d(this.vi.length,n.oUa);this.GS=new m(n.IQa);}function m(n){this.Pkb=0 !== n;this.on=!1;this.Jj=n || 3E3;this.Mg;}function d(n,p){if(this.enabled=p)this.En=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,p){this.rs=n;this.index=p;}h=a(1062);k=a(158);g.prototype.reset=function(){this.index=this.rs=void 0;};d.prototype.da=function(n){this.enabled && n < this.En.length && (this.En[n]="x");};d.prototype.C3a=function(n){this.enabled && n < this.En.length && (this.En[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.En.join("") + "|";};m.prototype.start=function(){var n;if(this.Pkb){n=this;this.on=!0;this.Mg=setTimeout(function(){n.on=!1;n.Mg=void 0;},this.Jj);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.Mg);this.Mg=void 0;};Object.defineProperties(l.prototype,{kka:{get:function(){return this.qp;}},Isb:{get:function(){return !this.GS.on;}}});l.prototype.uS=function(){this.IF.enabled && this.Ja.debug("Buffer: " + this.IF.toString());};l.prototype.Vnb=function(n){this.yF+=n;this.Ja.debug("Reserved buffer size is",this.ov + this.yF,"after reserving",n);};l.prototype.Eob=function(n){this.yF-=n;this.Ja.debug("Reserved buffer size is",this.ov + this.yF,"after unreserving",n);};l.prototype.kkb=function(n){this.ov+=n;this.Ja.debug("Buffer size is",this.ov,"after claiming",n);};l.prototype.WNa=function(n){this.ov-=n;this.Ja.debug("Buffer size is",this.ov,"after clearing",n);};l.prototype.HTb=function(n,p){var q;this.WNa(n);q=this;p && this.IF.enabled && (p.forEach(function(v){q.IF.C3a(v.index);}),this.uS());};l.prototype.Fva=function(n){var p;p=this.alb(n);return k.uZa(p) && k.hYb(n,p);};l.prototype.QVb=function(n){var p;p=this.HMa(n);(!p || p.index) !== (!this.qp || this.qp.index) && (this.sF=this.qp.rs,p?(this.kF && this.Ja.debug("Current sidx is index",p.index),this.qp=p):(this.kF && this.Ja.debug("Current sidx is out of range"),this.qp.reset()));this.sF && "number" === typeof this.sF.index && (n < this.sF.Iw - 35E3 || n > this.sF.Cq + 35E3) && (this.gfa(this.sF.index),this.sF=void 0,this.uS());};l.prototype.DA=function(n,p){var q,v;q=this.vi && this.vi.length;for(p;p < q;p++){(v=this.vi[p]) && ((v.endTime || v.Cq) >= n - 1E4 && (v.endTime || v.Cq) < n + 3E5 || this.gfa(p));}this.GS.stop();this.uS();};l.prototype.Wpb=function(){var n,p;this.Ja.debug("executing aggressive cleanup");n=this.vi && this.vi.length;for(p=0;p < n;p++){p === this.qp.index && (p+=2);this.gfa(p);}this.GS.stop();this.uS();};l.prototype.ZFb=function(n){var p,q,v,u;p=[];q=this.HMa(n);if(!q)return (this.qp.reset(),p);this.qp=q;v=n + 1E4;q=q.index;u=this.vi[q];q;for(u;q < this.vi.length && v > u.Iw;(q++,u=this.vi[q])){k.uZa(u) && k.iYb(n,v,u) && p.push(u);}return p;};l.prototype.WTa=function(n,p){var q,v,u,t,w,x;if(!n || !n.length)return (p && p(null),!0);this.fo.AS && 2 <= Object.keys(this.fo.AS).length && !this.GS.on && (this.Ja.debug("Enabling buffering quiet period"),this.GS.start());q=this;v=n[0];u=n[n.length - 1];if(0 < v.entries.length)(t=v.entries[0].SG,w=v.entries[v.entries.length - 1]);0 < u.entries.length && (k.Pc(t) || (t=u.entries[0].SG),w=u.entries[u.entries.length - 1]);if(t)x=w.SG + w.zoa - t;else return (p && p(null),!0);v=k.Oma(t,x);if(this.fo.AS[v])(this.Ja.debug("The request for",v,"is already pending. Not requesting again"),p && p());else if(this.ulb(k.Bna(n)))(this.Ja.debug("Reserving",x,"bytes for subtitle request",n[0].Iw,n[n.length - 1].Cq),this.Vnb(x),this.fo.uzb(n,t,x,function(y,z){q.Ja.debug("Claiming reserved space.  Expected",x,"received",z);q.IF.enabled && (n.forEach(function(A){q.IF.da(A.index);}),q.uS());q.Eob(x);q.kkb(z);p && p(y);}));else return (this.Ja.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};l.prototype.Fna=function(n,p){var q,v,u;q=this.pr;v=this.GMa(n,p,this.vi);if(!v || 0 === v.length)return [];u=[];p=c.bind(null,n,p);for(var t=0;t < v.length;t++){n=v[t];u=u.concat(n.entries.filter(p));}u=u.map(function(w){return k.bka(w,null,q);});return k.dSa(u);};l.prototype.$Fb=function(n,p,q){return this.GMa(n,p.endTime,p.En,q,!0);};l.prototype.GMa=function(n,p,q,v,u){var t,w,x,y;if(p && n > p || 0 > n)this.Ja.error("invalid range startPts: " + n + ", endPts: " + p);else {t=q && q.length || 0;w=[];if(q && 0 !== t){x=q[0].duration;y=q[0].Iw;if(k.Pc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.kF && this.Ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < t && (y=q[x],!k.ozb(y,n));x++){;}for(;x < t && (!v || w.length < v);){y=q[x];if(!u || !y.images.length && y.endTime > n)w.push(y);else if(w.length)break;if(p && p <= y.Cq)break;x++;}return w;}}};l.prototype.alb=function(n){var p,q,u;p=this.vi;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.Iw > n || n > q.Cq))a:{this.Qkb || (this.Qkb=!0,q=k.NEb(this.pr.language),this.Ja.error("bruteforce search for ",{movieId:this.pr.J,packageId:this.pr.Ko,lang:q}));q=p.length;for(var v=0;v < q;v++){u=p[v];if(u.Iw <= n && n <= u.Cq){q=u;break a;}}q=void 0;}return q;}};l.prototype.HMa=function(n){var p,q,v,u,t,w,x,y;p=this.qp;q=p.rs;v=p.index;u=this.vi;this.nfa(k.Pc(n));if(q)if(q.entries.length){if(0 === v && n <= q.startTime || n >= q.startTime && n <= q.endTime)(t=!0,w=p);else {if(0 < v){x=u[v - 1];f(n,x,q) && (t=!0,w=p);}}}else {x=u[v - 1];y=u[v + 1];f(n,x,q)?(t=!0,w=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.Cq) && (t=!0,w=new g(y,v + 1));}if(!t)for((p=u.length,q=0);q < p;q++){if((v=u[q],v.entries.length && n <= v.endTime)){w=new g(v,q);break;}}return w;};l.prototype.ulb=function(n){return this.ov + this.yF + n <= this.Ylb;};l.prototype.gfa=function(n){var p,q,v;p=this.vi[n];q=p && p.images && p.images.length || 0;if(0 < q){v=k.Bna([p]);p.images=[];this.IF.C3a(n);this.WNa(v);this.kF && this.Ja.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:v,images:q,u$b:this.ov});}};l.prototype.nfa=function(n){this.kF && k.assert(n,this.Ja);};r.exports=l;},function(r,b,a){var f,l;function c(m){this.pl=m.url;this.wF=m.request;this.tF=m.Cd || 0;this.kF=m.nf;this.Ja=m.ta;this.AS={};}f=a(278);l=a(158);c.prototype.uzb=function(m,d,g,h){this.AS[l.Oma(d,g)]=!0;m && m.forEach(function(k){k.n6a=!0;});this.wF({url:this.pl,offset:d,size:g},this.Xmb.bind(this,m,d,g,h));};c.prototype.Xmb=function(m,d,g,h,k,n){var p,q,v,u;p=this;q=l.Oma(d,g);setTimeout(function(){delete p.AS[q];},1E3);if(k)(h && h(k,0),m && m.forEach(function(t){delete t.n6a;}));else {v=new f(n);u=0;m && m.forEach(function(t){delete t.n6a;t.entries.forEach(function(w,x){v.position=w.SG - d;w={data:v.Eh(w.zoa)};t.images[x]=w;l.v0b(t.images[x].data,p.nfa.bind(p));u+=t.images[x].data.length;});});h && h(null,u);}};c.prototype.nfa=function(m){this.kF && l.assert(m,this.Ja);};r.exports=c;},function(r){function b(a,c,f,l){this.Ja=l;this.id=a;this.startTime=c && c.wc || 0;this.endTime=c && c.Oc;this.H2a=c && c.next || [];this.g7a;this.OW=[];this.dN=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < f.length;d++){(l=f[d]) && (!c || c > l.Iw) && a < l.Cq && (l.sIb(),m.push(l));}this.En=m;}b.prototype.tRa=function(){this.Ja.debug("Cleaning up segment",this.id);for(var a,c=0,f,l=[],m=0;m < this.En.length;m++){a=this.En[m];(f=a.eyb()) && l.push(a);a && (c+=f);}this.En=[];return {size:c,En:l};};r.exports=b;},function(r,b,a){var m;function c(d,g){return g.reduce(f.bind(this,d),[]);}function f(d,g,h){var k,n;k=h.displayTime - d;d=h.displayTime + h.duration - d;n=0 < g.length?g[0].timeout:Infinity;return 0 < k && k < n?[l("showsubtitle",h,k)]:k === n?g.concat([l("showsubtitle",h,k)]):0 < d && d < n?[l("removesubtitle",h,d)]:d === n?g.concat([l("removesubtitle",h,d)]):g;}function l(d,g,h){return {timeout:h,type:d,entry:g};}m=a(114).EventEmitter;b=a(1065)({});a=function q(g,h,k,n,p){if(!(this instanceof q))return new q(g,h,k,n,p);m.call(this);this.Sx=g;this.klb=h;this.Jlb=k;this.cy={};this.CF={};this.Ja=n || console;this.OR=!1;this.Dnb=p && p.yta || 0;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){clearTimeout(this.Mg);this.LTb();};a.prototype.LTb=function(){var g;g=this;Object.keys(g.cy).forEach(function(h){g.emit("removesubtitle",g.cy[h]);});g.cy={};g.CF={};};a.prototype.pause=function(){this.OR || clearTimeout(this.Mg);};a.prototype.Bs=function(g,h){var k,n;k=this;n=k.Sx();clearTimeout(this.Mg);g=k.klb(n);null !== g && k.OR && (k.OR=!1,this.Ja.info("bufferingComplete"),k.emit("bufferingComplete"),this.Jlb())?this.Ja.info("bufferingComplete while paused, no longer scheduling internal pts events"):(h="number" === typeof h?h:0,Object.keys(k.cy).forEach(function(p){p=k.cy[p];p.displayTime - k.Dnb <= n && n < p.displayTime + p.duration || (delete k.cy[p.id],k.emit("removesubtitle",p));}),Object.keys(k.CF).forEach(function(p){p=k.CF[p];n >= p.displayTime + p.duration && delete k.CF[p.id];}),null !== g && 0 < g.length?(h=g.length,k.Ja.info("found " + h + " entries for pts " + n),g.forEach(function(p){p.displayTime - 0 <= n && n < p.displayTime + p.duration && !k.cy[p.id] && (k.emit("showsubtitle",p),k.cy[p.id]=p,delete k.CF[p.id]);}),h=g[g.length - 1],k.cy[h.id] || k.CF[h.id] || (k.emit("stagesubtitle",h),k.CF[h.id]=h),h=c(n,g),0 < h.length?k.Z1(h[0].timeout):k.Z1(2E4)):null === g?(g=250 * Math.pow(2,h),2E3 < g && (g=2E3),k.Ja.warn("checking buffer again in " + g + "ms"),k.OR || (k.OR=!0,k.emit("underflow")),k.Z1(g,h + 1)):k.Z1(2E4));};a.prototype.Z1=function(g,h){var k;k=this;k.Ja.info("Scheduling pts check.");k.Mg=setTimeout(function(){k.Bs(k.Sx(),h);},g);};r.exports=b(["function","function","function","object","object"],a);},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,g;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function f(h,k,n){var p;p=d[h];"undefined" !== typeof p?p(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function l(h,k){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(v){return q[v];}).filter(function(v){return -1 === g.indexOf(v);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,v){var u;u=p[v];if("string" === typeof q)f(q,u,{index:v});else if("object" === typeof q)Object.keys(q).forEach(function(t){f(q[t],u[t],{key:t});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}g=Object.keys(d).concat(m);return l(["array","function"],l);};},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.rD=void 0;r=a(0);c=a(468);f=a(1067);l=a(155);b.rD=new r.od(function(m){m(c.ada).to(f.NFa).aa();m(l.dR).ZY(function(d){return function(){return d.eb.get(c.ada).LNb;};});});},function(r,b,a){function c(){var f;f=this;this.ready=!1;this.LNb=new Promise(function(l){f.AUb=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;r=a(1);a=a(0);c.prototype.MNb=function(f){this.ready || (this.AUb(f),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};a=r.__decorate([a.R()],c);b.NFa=a;},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;r=a(0);c=a(91);f=a(469);l=a(1069);m=a(471);d=a(1070);b.Yj=new r.od(function(g){g(c.jx).Ff(function(){return function(){return nb._cad_global.device;};});g(m.EAa).to(d.DAa).aa();g(f.BAa).to(l.AAa).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.xa=k;this.Fta=n;}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;r=a(1);f=a(37);l=a(4);m=a(139);d=a(470);g=a(56);a=a(0);c.prototype.OCb=function(){for(var k="",n=this.xa.bf.da(l.ka),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Fta.t5a(new d.bea(0,31,g.f3a))];}return k;};h=c;h=r.__decorate([a.R(),r.__param(0,a.l(f.Lh)),r.__param(1,a.l(m.x0))],h);b.AAa=h;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u;function c(t,w,x,y,z,A,B,D,E){this.Pyb=t;this.Hn=w;this.ib=y;this.fka=z;this.Mc=A;this.debug=B;this.q0b=D;this.xQb=E;this.lBa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.hb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;r=a(1);f=a(3);l=a(26);m=a(1071);d=a(7);g=a(469);h=a(35);k=a(96);n=a(29);p=a(0);q=a(78);v=a(472);a=a(473);c.prototype.ZUa=function(t){try{return t.match(this.lBa)[2];}catch(w){}};c.prototype.aVa=function(t){try{return t.match(this.lBa)[1];}catch(w){}};c.prototype.create=function(t){var w;w=this;return new Promise(function(x,y){w.Hn.create().then(function(z){var B,D,E,F,C,G;function A(J){w.ib.Sm(J) && w.ib.Sm(B)?(D=new m.CAa(J,B,void 0,E,t.kU || "cadmium"),x(D)):y({na:f.L.iAa});}B=t.ro;if(t.Lma){E="bind_device";w.xQb.ig(w.log,{}).then(function(J){A(J.esn);}).catch(function(J){y(J);});}else if(t.oM){C=t.Lk;if(w.ib.Sm(C)){G=w.aVa(C);G != t.ro && w.log.error("esn prefix from ui is different",{ui:G,cad:t.ro,ua:t.userAgent});}else t.dqa && w.log.error("esn from ui is missing");!t.VI && w.ib.Sm(C)?(E="config",A(C)):z.load(t.zTa).then(function(J){F=J.value;w.ib.Sm(F) && (!1,w.ib.Sm(C)?(J=w.ZUa(C),E=J === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):E="storage_esn_not_in_config",A(B + F));}).catch(function(J){var L;function K(){z.save(t.zTa,L,!1).then(function(){A(B + L);}).catch(function(R){y(R);});}function H(){L=w.Pyb.OCb();!1;K();}if(J.na === f.L.wB){if(w.ib.Sm(t.Lk)){L=w.ZUa(t.Lk);w.ib.Sm(L)?(E="config_since_not_in_storage",K()):(E="generated_since_invalid_in_config_and_not_in_storage",w.log.error("invalid esn passed from UI",t.Lk),H());}else (E="generated_since_not_in_config_and_storage",H());}else y(J);});}else t.Qyb && w.fka && w.fka.getKeyByName?w.fka.getKeyByName(t.arb).then(function(J){J=J.id;if(w.ib.Ep(J))(J=String.fromCharCode.apply(void 0,w.Mc.decode(J)),w.debug.assert("" != J),B=w.aVa(J),A(J));else throw "ESN from getKeyByName is not a string";}).catch(function(J){y({na:f.L.hAa,Bb:w.q0b.Jd(J)});}):A();}).catch(function(z){y(z);});});};u=c;u=r.__decorate([p.R(),r.__param(0,p.l(g.BAa)),r.__param(1,p.l(q.bB)),r.__param(2,p.l(d.ob)),r.__param(3,p.l(l.Yf)),r.__param(4,p.l(v.bAa)),r.__param(5,p.l(h.mi)),r.__param(6,p.l(k.Wu)),r.__param(7,p.l(n.Zf)),r.__param(8,p.l(a.JGa))],u);b.DAa=u;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;b.CAa=function(a,c,f,l){this.Lk=a;this.ro=c;this.u4=l;};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G;Object.defineProperty(b,"__esModule",{value:!0});b.L0a=void 0;r=a(0);c=a(155);f=a(1073);l=a(1074);m=a(1075);d=a(1076);g=a(1077);h=a(13);k=a(1078);n=a(1079);p=a(1080);q=a(48);v=a(91);u=a(478);t=a(475);w=a(474);x=a(89);y=a(279);z=a(49);A=a(178);B=a(1081);D=a(480);E=a(481);F=a(1084);C=a(482);G=a(1085);b.L0a=new r.od(function(J){J(z.Fm).to(l.lEa).aa();J(t.GFa).to(m.FFa).aa();J(w.AEa).to(d.zEa).aa();J(y.wEa).to(g.vEa).aa();J(z.Dca).to(k.kEa).aa();J(x.tx).to(n.sEa).aa();J(y.uEa).to(p.tEa).aa();J(A.TQ).to(B.SQ).aa();J(A.Gca).to(F.xEa).aa();J(C.WQ).to(G.VQ).aa();J(D.LAa).to(E.KAa).aa();J(u.aya).to(f.$xa).aa();J(z.mEa).ZY(function(K){return function(){return K.eb.get(c.dR)().then(function(H){return new Promise(function(L){var I,P,N;function R(){P() && N() && H.GW?L(K.eb.get(z.Fm)):I.Il(R);}I=K.eb.get(q.Gj);P=K.eb.get(h.Rc);N=K.eb.get(v.jx);I.Il(R);});});};});});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v){var u;u=this;this.ELb=n;this.Mz=p;this.config=v;this.Xta=[];this.ELb.C9(f.abb,this.RGb.bind(this));q().then(function(t){var w;w=v().Fr.pCb;u.pMb=w?k.Cj[w.toUpperCase()]:k.Cj.Gf;u.Rf=t;u.BVb();});}Object.defineProperty(b,"__esModule",{value:!0});b.$xa=void 0;r=a(1);l=a(0);m=a(13);d=a(113);g=a(49);h=a(89);k=a(7);c.prototype.RGb=function(n,p){this.Rf?this.q5a(n,p):this.Xta.push([n,p]);};c.prototype.BVb=function(){var n,p;n=this;p=this.Xta;this.Xta=[];p.forEach(function(q){n.q5a(q[0],q[1]);});};c.prototype.q5a=function(n,p){var q;if(this.Rf && this.OWb(n)){q={debugMessage:n.message,debugCategory:n.mo};n.cc.forEach(function(v){return q=Object.assign(Object.assign({},q),v.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.Mz.vt("debug",k.Cj[n.level].toLowerCase(),q,p);this.Rf.Bc(n);}};c.prototype.OWb=function(n){var p;p=this.pMb;return void 0 !== p && n.level <= p && !n.cc.find(function(q){return q.HU(k.kQ);});};a=f=c;a.abb="adaptorAll";a=f=r.__decorate([l.R(),r.__param(0,l.l(d.BJ)),r.__param(1,l.l(h.tx)),r.__param(2,l.l(g.mEa)),r.__param(3,l.l(m.Rc))],a);b.$xa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t,w,x,y,z,A){this.config=u;this.json=t;this.Ic=w;this.uLb=x;this.vW=z;this.pka=A;this.Q6=this.nn=!1;this.listeners=[];l.Go(this,"json");this.ta=y.hb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;r=a(1);f=a(0);l=a(56);m=a(38);d=a(474);g=a(48);h=a(7);k=a(49);n=a(475);p=a(3);q=a(97);a(185);v=a(270);c.prototype.xb=function(){this.nn=!0;};c.prototype.Bc=function(u){var t;t=this;this.VWb(u) || (!1,0 < u.size.ul(this.config.mMb)?this.ta.error("Logblob is too large, dropping from the queue",{logblobType:u.type,logblobSize:u.size.toString()}):(this.listeners.forEach(function(w){return w.ZMb(u);}),!1,this.vW.vha(u),this.Ic.Il(function(){t.aCb();})));};c.prototype.flush=function(u){var t;t=this;u=void 0 === u?!1:u;return this.Q6?(this.ta.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,x){t.ta.trace("Flushing",h.kQ);t.us();t.Ic.Il(function(){t.dva(u).then(function(){w();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(u){this.listeners.push(u);};c.prototype.removeListener=function(u){u=this.listeners.indexOf(u);0 <= u && this.listeners.splice(u,1);};c.prototype.dva=function(u){var t,w;t=this;u=void 0 === u?!1:u;if(!this.nn)return (this.ta.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Q6)return (this.ta.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.vW.pDb();if(0 === w.length && !u)return (this.ta.trace("No logblobs to send"),Promise.resolve());!1;this.us();this.listeners.forEach(function(){});u=Promise.resolve();for(var x={},y=aa(w),z=y.next();!z.done;(x={Daa:x.Daa},z=y.next())){x.Daa=z.value;u=u.then((function(A){return function(){return t.xVb(A.Daa);};})(x));}return u.then(function(){return t.vG();}).catch(function(A){w.filter(function(B){return !B.Dz;}).forEach(function(B){return B.Et();});t.vG();throw Error("Send failure. " + A);});};c.prototype.xVb=function(u){var t;t=this;this.ta.trace("Sending batch: " + u.size,h.kQ);return Promise.resolve(this.vW.MTb(u)).then(function(){return t.uLb.send(u.nH);}).then(function(){return u.fP();}).catch(function(w){t.ta.warn("Failed to send batch of logblobs.",w,h.kQ);u.Et();t.KWb(w) && t.vW.epb(u);t.WWb(w) && (t.Q6=!0);throw w;});};c.prototype.KWb=function(u){return u.Kd === p.O_.EGa?!1:this.config.sha;};c.prototype.WWb=function(u){return u.xc === p.L.cCa || u.xc === p.L.IQ || u.xc === p.L.MQ?!0:!1;};c.prototype.aCb=function(){var u;u=this;0 < this.vW.size.ul(this.config.A1a)?this.dva().catch(function(t){return u.ta.warn("Failed to send log messages on size threshold. " + t);}):this.vG();};c.prototype.us=function(){this.e7 && (!1,this.e7.cancel(),this.e7=void 0);};c.prototype.vG=function(){this.e7 || (!1,this.e7=this.Ic.nk(this.config.yVb,this.PN.bind(this)));};c.prototype.PN=function(){var u;u=this;this.Q6=!1;this.us();this.dva().catch(function(t){return u.ta.warn("Failed to send log messages on timer. " + t);});};c.prototype.stringify=function(u){var t;t="";try{t=this.json.stringify(u.data,void 0,"  ");}catch(w){}return t;};c.prototype.VWb=function(u){return 0 <= this.config.d8a.indexOf(u.type)?!0:u.type === v.Xc.debug?0 <= this.config.c8a.indexOf(u.data.debugCategory):!1;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Dca)),r.__param(1,f.l(m.xE)),r.__param(2,f.l(g.Gj)),r.__param(3,f.l(d.AEa)),r.__param(4,f.l(h.ob)),r.__param(5,f.l(n.GFa)),r.__param(6,f.l(q.o_))],a);b.lEa=a;},function(r,b,a){var l,m,d,g,h,k,n;function c(p){this.PK=d.bb;this.jga=[];this.nS=this.C1=!1;p && (this.PK=p.size,this.jga=p.nH);}function f(p,q,v,u){this.$Mb=p;this.config=q;this.Sf=v;this.json=u;m.Go(this,"json");this.ta=this.Sf.hb("MessageQueue");this.jt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=void 0;r=a(1);l=a(0);m=a(56);d=a(51);g=a(279);h=a(7);k=a(38);a=a(49);f.prototype.vha=function(p){var q,v;0 === this.jt.length && this.jt.push(this.Qma());if(p=this.QFb(p)){q=this.$Mb.measure([p]);v=this.jt[this.jt.length - 1];0 < v.size.add(q).ul(this.config.A1a) && (v=this.Qma(),this.jt.push(v));v.vha(p);}};f.prototype.pDb=function(){var p;p=this.jt.filter(function(q){return q.Nsb;});this.jt.push(this.Qma());p.forEach(function(q){return q.aMb();});return p;};f.prototype.epb=function(p){p.Dz || this.jt.unshift(new c(p));};f.prototype.MTb=function(p){p=this.jt.indexOf(p);0 <= p && this.jt.splice(p,1);};f.prototype.QFb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(u){var q,v;q={};p=p.data;v=p.debugMessage;v && "string" === typeof v && (q.originalDebugMessage=v);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ta.error("JSON.stringify error: " + u.message,q);}};f.prototype.Qma=function(){return new c();};Wa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.jt.reduce(function(p,q){return p.add(q.size);},d.bb);}}});n=f;n=r.__decorate([l.R(),r.__param(0,l.l(g.wEa)),r.__param(1,l.l(a.Dca)),r.__param(2,l.l(h.ob)),r.__param(3,l.l(k.xE))],n);b.FFa=n;c.prototype.fP=function(){this.C1=!1;this.nS=!0;};c.prototype.Et=function(){this.C1=!1;};c.prototype.vha=function(p){this.jga.push(p);this.PK=this.PK.add(p.size);};c.prototype.aMb=function(){this.C1=!0;};Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.PK;}},nH:{configurable:!0,enumerable:!0,get:function(){return this.jga;}},Nsb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.nH.length && !1 === this.C1;}},Dz:{configurable:!0,enumerable:!0,get:function(){return this.nS;}}});},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u;function c(t,w,x,y,z,A,B,D){this.za=t;this.platform=x;this.Yj=y;this.json=z;this.ae=A;this.Ch=B;this.CLb=D;m.Go(this,"json");this.ta=w.hb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;r=a(1);l=a(0);m=a(56);d=a(38);g=a(4);h=a(29);k=a(17);n=a(34);p=a(91);q=a(7);v=a(476);a=a(66);c.prototype.send=function(t){var w;w=this;return new Promise(function(x,y){var z;try{z=t.reduce(function(A,B){A.entries.push(w.Uwb(B));return A;},new f());x(w.RCb(z));}catch(A){w.ta.error(A.message);y(A);}}).then(function(x){return w.gva(x);});};c.prototype.Uwb=function(t){return this.ae.rH(this.ae.rH({},t.data),{esn:this.Yj().Lk,sev:t.severity,type:t.type,lver:this.platform.iqa,jssid:this.za.id,devmod:this.platform.Ry,jsoffms:t.timestamp.Ca(this.za.Jz).da(g.ka),clienttime:t.timestamp.da(g.ka),client_utc:t.timestamp.da(g.Un),uiver:this.Ch.PA});};c.prototype.RCb=function(t){var w;w=this;try{return this.json.stringify(t);}catch(z){for(var x={},y=0;y < t.entries.length;(x={JP:x.JP,Ru:x.Ru},++y)){x.Ru=Object.assign({},t.entries[y]);try{this.json.stringify(x.Ru);}catch(A){x.JP=void 0;this.ae.zC(x.Ru,(function(B){return function(D,E){try{w.json.stringify(E);}catch(F){B.JP=F.message;B.Ru[D]=B.JP;}};})(x));x.Ru.stringifyException=x.JP;x.Ru.originalType=x.Ru.type;x.Ru.type="debug";x.Ru.sev="error";}}return this.json.stringify(t);}};c.prototype.gva=function(t){var w;w=this;return this.CLb.ig(this.ta,{logblobs:t}).then(function(){!1;}).catch(function(x){w.ta.error("PBO logblob failed",x);return Promise.reject(x);});};u=c;u=r.__decorate([l.R(),r.__param(0,l.l(k.cd)),r.__param(1,l.l(q.ob)),r.__param(2,l.l(n.xk)),r.__param(3,l.l(p.jx)),r.__param(4,l.l(d.xE)),r.__param(5,l.l(h.Zf)),r.__param(6,l.l(a.Ns)),r.__param(7,l.l(v.aHa))],u);b.zEa=u;},function(r,b,a){var f,l,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;r=a(1);f=a(0);l=a(279);m=a(51);c.prototype.measure=function(d){var g;g=this;return d.map(function(h){return h.size.add(g.config.xLb());}).reduce(function(h,k){return h.add(k);},m.fa(0));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.uEa))],a);b.vEa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p){n=h.We.call(this,n,"PboConfigImpl") || this;n.config=p;n.mMb=f.fa(5E5);n.yVb=l.e8(1);n.A1a=f.fa(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;r=a(1);f=a(51);l=a(4);m=a(0);d=a(13);g=a(45);h=a(46);a=a(36);la(c,h.We);Wa.Object.defineProperties(c.prototype,{sha:{configurable:!0,enumerable:!0,get:function(){return this.config().sha;}},d8a:{configurable:!0,enumerable:!0,get:function(){return [];}},c8a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],k.prototype,"d8a",null);r.__decorate([g.config(g.ny("string"),"shedDebugTypes")],k.prototype,"c8a",null);k=r.__decorate([m.R(),r.__param(0,m.l(a.Ol)),r.__param(1,m.l(d.Rc))],k);b.kEa=k;},function(r,b,a){var l,m,d,g,h,k,n,p,q;function c(v,u,t,w,x,y,z,A,B,D){this.platform=u;this.gka=t;this.type=w;this.severity=x;this.timestamp=y;this.za=A;this.data=z;this.data.type=w;this.data.sev=x;this.data.devmod=this.platform.Ry;this.data.clver=this.platform.version;v && v.fe && (v.fe.os && (this.data.osplatform=v.fe.os.name,this.data.osver=v.fe.os.version),this.data.browsername=v.fe.name,this.data.browserver=v.fe.version);v.vpa && (this.data.tester=!0);v.nz && !this.data.groupname && (this.data.groupname=v.nz);v.tL && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + v.tL:v.tL);v.QI && (this.data.uigroupname=v.QI);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.za.TEb();this.data.uniqueLogId=B.$Va();this.data.appId=this.za.id;D && (v=this.za.Wb(),this.data.soffms=v.Ca(D.jk).da(g.ka),this.data.mid=this.data.mid || D.J,this.data.lvpi=D.hqa,this.data.uiLabel=D.ve,this.data.uxLabels=D.oaa,w="startup" === w?"playbackxid":"xid",this.data[w]="xid" === w && this.data.xid || D.ca,D.nI && (w=D.nI,(D=D.nI.split(".")) && 1 < D.length && "S" !== D[0][0] && (w="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + w:w));}function f(v,u,t,w,x,y){this.xa=v;this.gka=u;this.config=t;this.za=w;this.s0b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;r=a(1);l=a(51);m=a(0);d=a(37);g=a(4);h=a(328);k=a(40);n=a(17);p=a(477);a=a(34);f.prototype.vt=function(v,u,t,w){return new c(this.config,this.platform,this.gka,v,u,this.xa.bf,t,this.za,this.s0b,w);};q=f;q=r.__decorate([m.R(),r.__param(0,m.l(d.Lh)),r.__param(1,m.l(h.dAa)),r.__param(2,m.l(k.Em)),r.__param(3,m.l(n.cd)),r.__param(4,m.l(p.fLa)),r.__param(5,m.l(a.xk))],q);b.sEa=q;Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.SQa || (this.SQa=l.fa(this.gka.encode(this.data).length));return this.SQa;}}});},function(r,b,a){var f,l,m;function c(d){this.Yj=d;}Object.defineProperty(b,"__esModule",{value:!0});b.tEa=void 0;r=a(1);f=a(0);l=a(51);a=a(91);c.prototype.xLb=function(){var d;d=this.Yj()?this.Yj().Lk.length:40;return l.fa(d + 33);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(a.jx))],m);b.tEa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D;function c(E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa){this.D9a=E;this.Rf=F;this.Uqa=C;this.Ala=G;this.Ie=J;this.d4=K;this.ef=H;this.config=L;this.Dd=R;this.xa=I;this.za=P;this.platform=N;this.xq=M;this.Mz=Q;this.Uk=T;this.Hr=da;this.pH=pa;this.qc=wa;}Object.defineProperty(b,"__esModule",{value:!0});b.SQ=void 0;r=a(1);f=a(436);l=a(49);m=a(29);d=a(444);g=a(274);h=a(0);k=a(178);n=a(479);p=a(480);q=a(87);v=a(13);u=a(37);t=a(17);w=a(34);x=a(89);y=a(119);z=a(160);A=a(38);B=a(40);a=a(280);c.prototype.create=function(E,F){return new n.UQ(E,F,this.D9a,this.Rf,this.Uqa,this.Ala,this.Ie,this.d4,this.ef,this.config,this.Dd,this.xa,this.za,this.xq,this.Mz,this.Uk,this.Hr,this.pH,this.qc);};D=c;D=r.__decorate([h.R(),r.__param(0,h.l(f.zKa)),r.__param(1,h.l(l.Fm)),r.__param(2,h.l(d.kFa)),r.__param(3,h.l(g.Yba)),r.__param(4,h.l(m.Zf)),r.__param(5,h.l(p.LAa)),r.__param(6,h.l(q.sx)),r.__param(7,h.l(v.Rc)),r.__param(8,h.l(y.bF)),r.__param(9,h.l(u.Lh)),r.__param(10,h.l(t.cd)),r.__param(11,h.l(w.xk)),r.__param(12,h.l(A.qR)),r.__param(13,h.l(x.tx)),r.__param(14,h.l(z.KJ)),r.__param(15,h.l(B.Em)),r.__param(16,h.l(a.Yca)),r.__param(17,h.l(k.Gca))],D);b.SQ=D;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;c=a(51);b.JAa=function(f,l){this.wzb=f;this.size=l.ipa()?c.bb:l;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u1a=void 0;b.u1a=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],l=c(f),m=1;m < a.length;m++){d=a[m];g=c(d);g > l && (f=d,l=g);}return f;}};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t){this.platform=v;this.config=u;this.za=t;this.pLa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;r=a(1);f=a(0);l=a(47);m=a(17);d=a(3);g=a(34);h=a(4);k=a(13);n=a(24);p=a(11);q=a(159);c.prototype.lq=function(v,u,t){t && (v.adlid=t.fd,v.abitrate=t.bitrate);u && (v.vdlid=u.fd,v.vbitrate=u.bitrate);};c.prototype.BZa=function(v,u,t){t?v=Object.assign(v,q.kna(this.platform.Yp,t)):v.errorcode=d.M.Nl;v.errorcode === this.platform.Yp + d.M.sGa && (v.lastSyncWithVideoElement=this.getTime() - u.OY);};c.prototype.JZa=function(v,u){var t;Object.assign(v,q.vna());try{t=u.getBoundingClientRect();v.rendersize=t.width + "x" + t.height;v.renderpos=t.left + "x" + t.top;}catch(w){}};c.prototype.IZa=function(v,u){var t,w,x;t=u.kc[l.Sb.Qa.Jb].value;w=u.kc[l.Sb.Qa.Lb].value;x=u.gf.value;u=u.ke.value;t && (v.cdnid=t.id,v.cdnname=t.name);w && (v.acdnid=w.id,v.acdnname=w.name);if(null === x || void 0 === x?0:x.stream)(v.adlid=x.stream.fd,v.abitrate=x.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(v.vdlid=u.stream.fd,v.vbitrate=u.stream.bitrate,v.vheight=u.stream.height,v.vwidth=u.stream.width);};c.prototype.GZa=function(v,u){0 <= u.mediaTime.value && (v.moff=n.so(u.mediaTime.value),v.moffms=n.Of(u.mediaTime.value));};c.prototype.yZa=function(v,u){u.Wj && (v.pbcid=u.Wj);u.lj && (v.playbackcontextid=u.lj);};c.prototype.Goa=function(v){var u,t;v.browserua=p.qB;v.browseruad=null === (t=null === (u=p.hf.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === t?void 0:t.map(function(w){return [w.brand,w.version];});v.browserhref=location.href;(u=p.hf && p.hf.connection && p.hf.connection.type) && (v.nettype=u);};c.prototype.WM=function(v){var u,t,w,x,y;if(this.config().tAb){y=null === (u=null === p.hf || void 0 === p.hf?void 0:p.hf.connection) || void 0 === u?void 0:u.effectiveType;u=null === p.hf || void 0 === p.hf?void 0:p.hf.deviceMemory;y && (v.effectiveType=y);u && (v.deviceMemory=u);}(y=null === (t=null === p.hf || void 0 === p.hf?void 0:p.hf.connection) || void 0 === t?void 0:t.type) && (v.connectionType=y);t=null === (w=null === p.hf || void 0 === p.hf?void 0:p.hf.connection) || void 0 === w?void 0:w.downlink;"number" === typeof t && isFinite(t) && (v.downlink=t);w=null === (x=null === p.hf || void 0 === p.hf?void 0:p.hf.connection) || void 0 === x?void 0:x.rtt;"number" === typeof w && isFinite(w) && (v.rtt=w);};c.prototype.p6=function(v,u){if(u=u.ab.Ro)(u.isUIAutoPlay && (v.isUIAutoPlay=!0),u.clLogId && (v.cl_log_id=u.clLogId));};c.prototype.XM=function(v,u){var t,w,x,y;t=this;if(u=u && u.streams){w=new Set();x=new Set();y=new Set();u.forEach(function(z){z=z.Zg;w.add(z);x.add(z.replace(t.pLa,""));(z=z.match(t.pLa)) && 0 < z.length && y.add(z[1]);});v.videoProfiles=[].concat(ca(w));v.videoProfile=0 === x.size?"none":[].concat(ca(x))[0];v.videoProfileLevels=[].concat(ca(y));}};c.prototype.vZa=function(v,u){var t;if(u=u && u.streams){t={};u.forEach(function(w){t[w.Zg]=void 0;});v.audioProfiles=Object.keys(t);}};c.prototype.zZa=function(v){v.configversion=this.config().version;this.config().endpoint || (v.configendpoint="error");};c.prototype.getTime=function(){return this.za.Wb().da(h.ka);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.xk)),r.__param(1,f.l(k.Rc)),r.__param(2,f.l(m.cd))],a);b.xEa=a;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v,u){this.Rf=n;this.config=p;this.xa=q;this.za=v;this.jqa=u;}Object.defineProperty(b,"__esModule",{value:!0});b.VQ=void 0;r=a(1);f=a(49);l=a(0);m=a(178);d=a(13);g=a(37);h=a(17);k=a(1086);c.prototype.create=function(n,p,q){var v;v=this.jqa.create(n,p);return new k.XQ(n,p,q,this.Rf,this.config,this.za,v);};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(f.Fm)),r.__param(1,l.l(d.Rc)),r.__param(2,l.l(g.Lh)),r.__param(3,l.l(h.cd)),r.__param(4,l.l(m.TQ))],a);b.VQ=a;},function(r,b,a){var f,l,m,d,g;function c(h,k,n,p,q,v,u){var t;t=this;this.j=h;this.va=k;this.Rf=p;this.config=q;this.za=v;this.jb=u;this.Kz=function(w,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === t.J && w(y);};};this.h1a=this.Kz(function(w){t.u$(w.N6);},function(w){return w.J;});this.f1a=this.Kz(function(){t.KT();},function(w){return w.J;});this.GRa=this.Kz(function(){t.KT();},function(w){return w.movieId;});this.fja=this.Kz(function(){t.j.zb.value === g.cb.Ec && (t.j.zb.removeListener(t.fja),t.zq());},function(){return t.j.J;});this.LA=function(w){t.jA && t.jb.LA(w);};this.LRa=this.Kz(this.jb.Ztb,function(w){return w.J;});this.TTa=this.Kz(this.jb.qzb,function(w){return w.J;});this.E0a=this.Kz(this.jb.Lz,function(w){return t.j.im(w.segmentId).J;});this.o7a=this.Kz(this.jb.mY,function(w){return t.j.im(w.segmentId).J;});this.ITa=this.Kz(this.jb.Qka,function(w){return w.J;});this.kk=function(w){w.skip && (t.Gn=!0);switch(w.cause){case g.ze.uB:case g.ze.AR:t.js && t.ap && t.jb.Nsa(t.getTime() - t.ap,t.js);t.js="repos";t.jb.qO(w.csa,w.gf,w.ke);t.ap=t.getTime();d.Nf(t.Nv);break;case g.ze.x_:(t.js="force_rebuffer",t.ap=t.getTime(),d.Nf(t.Nv));}};this.Vm=function(w){t.Hz=w.oldValue;t.jb.Vm(w);};this.Nv=function(){var w;if(t.ap && t.j.zb.value !== g.cb.Jf){w=t.getTime() - t.ap;t.jb.zO(w,t.Gn,t.js);t.Hz && t.Hz != t.j.Uc.value && t.jb.fia();t.ap=void 0;t.js=void 0;t.Gn=void 0;}};this.zq=function(){t.jA || (t.jA=!0,t.jb.TD(!1),t.Moa(),t.config().w6 && (t.Az=nb.setTimeout(function(){t.Rf.flush(!1).catch(function(){return t.log.warn("failed to flush log batcher on initialLogFlushTimeout");});t.Az=void 0;},t.config().w6)));};this.fg=function(){t.Az && (nb.clearTimeout(t.Az),t.Az=void 0);if(t.config().e4 || t.config().fL)(t.Ska && (nb.clearInterval(t.Ska),t.Ska=void 0),t.jb.GTa());t.lZ && t.lZ();t.jA?t.jb.uG(! !t.j.bi):t.j.bi?t.jb.TD(!0):t.va.background || t.jb.Osa();};this.xZ=function(w){w.oldValue && w.dm && w.dm.VF && t.jb.xL(w.oldValue,w.newValue,w.dm.VF,w.dm.vT);};this.wX=function(w){var x;if(w.newValue){x=w.newValue.stream;t.fH != x && (t.fH && t.jb.kua(t.fH,x,w.newValue.Zl.startTime),t.fH=x);}};this.J=k.J;this.log=l.zh(h,"LogblobBuilder");this.xb();n && this.u$();}Object.defineProperty(b,"__esModule",{value:!0});b.XQ=void 0;f=a(12);l=a(8);m=a(4);d=a(61);g=a(15);c.prototype.xb=function(){this.j.addEventListener(g.ba.iH,this.h1a);this.j.addEventListener(g.ba.zqa,this.f1a);this.j.addEventListener(g.ba.Lz,this.E0a);this.j.addEventListener(g.ba.mY,this.o7a);this.j.addEventListener(g.ba.fg,this.GRa);this.j.addEventListener(g.ba.pG,this.ITa,f.i0);if(this.config().e4 || this.config().fL)(this.j.addEventListener(g.ba.pG,this.TTa),this.Ska=nb.setInterval(this.jb.GTa,this.config().vzb));this.config().qua && this.j.addEventListener(g.ba.pG,this.LRa);};c.prototype.u$=function(h){var k;k=this;this.p2a || (this.j.zb.value !== g.cb.Ec || (void 0 === h?0:h)?this.j.zb.addListener(this.fja):this.zq(),this.j.Uh.addListener(this.LA),this.j.ic.addListener(this.jb.Jn),this.j.Uc.addListener(this.Vm),this.j.Yg.addListener(this.jb.nT),this.j.paused.addListener(this.jb.V8),this.j.ke.addListener(this.wX),this.j.zb.addListener(this.Nv),this.j.zb.addListener(this.jb.$9a),this.j.Se.addListener(this.xZ),this.j.playbackRate.addListener(this.jb.AY),this.j.addEventListener(g.ba.Wh,this.jb.Wh),this.j.addEventListener(g.ba.eL,this.jb.eL),this.j.addEventListener(g.ba.eP,this.jb.eP),this.j.addEventListener(g.ba.uy,function(n){k.js="rebuffer";k.jb.uy(n);k.ap=k.getTime();d.Nf(k.Nv);}),this.j.addEventListener(g.ba.kk,this.kk),this.j.addEventListener(g.ba.jP,this.jb.jP),this.va.Jp && this.va.Jp.addListener(this.jb.Jp),this.p2a=!0);};c.prototype.KT=function(){this.fg();this.p2a && (this.j.removeEventListener(g.ba.iH,this.h1a),this.j.removeEventListener(g.ba.zqa,this.f1a),this.j.removeEventListener(g.ba.Lz,this.E0a),this.j.removeEventListener(g.ba.mY,this.o7a),this.j.Uh.removeListener(this.LA),this.j.ic.removeListener(this.jb.Jn),this.j.Uc.removeListener(this.Vm),this.j.Yg.removeListener(this.jb.nT),this.j.paused.removeListener(this.jb.V8),this.j.ke.removeListener(this.wX),this.j.zb.removeListener(this.Nv),this.j.zb.removeListener(this.fja),this.j.zb.removeListener(this.jb.$9a),this.j.Se.removeListener(this.xZ),this.j.playbackRate.removeListener(this.jb.AY),this.j.removeEventListener(g.ba.pG,this.ITa),this.j.removeEventListener(g.ba.fg,this.GRa),this.j.removeEventListener(g.ba.Wh,this.jb.Wh),this.j.removeEventListener(g.ba.eL,this.jb.eL),this.j.removeEventListener(g.ba.eP,this.jb.eP),this.j.removeEventListener(g.ba.uy,this.jb.uy),this.j.removeEventListener(g.ba.kk,this.kk),this.j.removeEventListener(g.ba.jP,this.jb.jP),this.va.Jp && this.va.Jp.removeListener(this.jb.Jp),this.j.removeEventListener(g.ba.pG,this.TTa),this.j.removeEventListener(g.ba.pG,this.LRa));};c.prototype.getTime=function(){return this.za.Wb().da(m.ka);};c.prototype.Moa=function(){var h,k,n;h=this;n=[];this.config().Z1a && (this.config().$1a.forEach(function(p){n.push(nb.setTimeout(h.jb.nD,p));}),this.config().S7 && (k=nb.setInterval(this.jb.nD,this.config().S7)),this.lZ=function(){n.forEach(function(p){nb.clearTimeout(p);});k && nb.clearInterval(k);});};b.XQ=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.C2a=void 0;r=a(0);c=a(1088);f=a(87);l=a(483);m=a(1089);d=a(281);g=a(484);h=a(1090);k=a(421);n=a(1094);b.C2a=new r.od(function(p){p(l.DLa).to(c.CLa).aa();p(f.sx).$D(function(){return nb._cad_global.http;});p(d.d0).to(m.VFa).aa();p(g.WFa).Mi(h.default);p(k.RCa).to(n.QCa).aa();});},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};a=r.__decorate([a.R()],c);b.CLa=a;},function(r,b,a){var f,l,m,d;function c(g,h,k){this.config=g;this.qLb=h;this.Pb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;r=a(1);f=a(317);l=a(0);m=a(181);a=a(484);c.prototype.Wja=function(){if(this.config.gab)return this.Pb(this.qLb());};d=c;d=r.__decorate([l.R(),r.__param(0,l.l(f.UFa)),r.__param(1,l.l(m.RFa)),r.__param(2,l.l(a.WFa))],d);b.VFa=d;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1091);f=a(1092);l=a(1093);b.default=function(m){var d;m=new c.aba(m);d=new l.Vgb(m);return new f.Ugb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.C0a=c;}a.prototype.rva=function(c){try{this.C0a.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.eXa=function(){var c;try{c=this.C0a.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.Nt=function(){var c;c=this.eXa();if(c && c.tp)return c.tp.a;};a.prototype.HEb=function(){var c;c=this.Xma();if(c)return c.p25;};a.prototype.IEb=function(){var c;c=this.Xma();if(c)return c.p50;};a.prototype.JEb=function(){var c;c=this.Xma();if(c)return c.p75;};a.prototype.Xma=function(){var c;c=this.eXa();if(c && (c=c.iqr))return c;};return a;})();b.aba=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,f){this.Gv=c;this.PW=f;}a.prototype.rva=function(c){return this.Gv.rva(c);};a.prototype.Nt=function(){return this.Gv.Nt();};a.prototype.iFb=function(){return this.PW.PW();};return a;})();b.Ugb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Gv=c;}a.prototype.PW=function(){var c,f,l;c=this.Gv.HEb();f=this.Gv.IEb();l=this.Gv.JEb();if("number" === typeof c && "number" === typeof f && "number" === typeof l)return (l - c) / f;};return a;})();b.Vgb=r;},function(r,b,a){var f,l,m;function c(d,g){this.ef=g;this.ta=d.hb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;r=a(1);f=a(0);l=a(7);a=a(87);c.prototype.download=function(d,g){var h;h=this;g=void 0 === g?{H1a:0}:g;return new Promise(function(k,n){var q;function p(v){if(v.$)return k(v.content);if(q === g.H1a)return n({na:v.na,SC:v.$j});q++;!1;h.ef.download(d,p);}q=0;h.ef.download(d,p);});};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(a.sx))],m);b.QCa=m;},function(r,b,a){var c,f,l,m,d,g,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.WVa=void 0;r=a(0);c=a(1096);f=a(1097);l=a(1098);m=a(1099);d=a(1100);g=a(485);h=a(486);k=a(166);b.WVa=new r.od(function(n){n(k.aCa).to(c.$Ba).aa();n(k.aJa).to(f.$Ia).aa();n(k.ZIa).to(l.YIa).aa();n(g.XBa).to(m.WBa).aa();n(h.UCa).to(d.TCa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u,t,w,x){this.config=p;this.oZa=q;this.Ic=v;this.mc=u;this.gUb=t;this.oua=w;this.bKb=0;this.ta=x.hb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=void 0;r=a(1);l=a(0);m=a(4);d=a(48);g=a(7);h=a(485);k=a(486);a=a(166);c.prototype.start=function(){this.config.enabled && !this.ks && (this.ks=this.Ic.nk(this.config.C8a,this.Mw.bind(this)));};c.prototype.stop=function(){this.ks && (this.ks.cancel(),this.ks=void 0);};c.prototype.Mw=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.bKb++;this.kGb(q).then(function(v){return Promise.all(v.urls.map(function(u){return p.aHb(v,u.url,u.name);})).then(function(u){0 < u.length && p.gUb.WX({data:u,context:v.context,kqa:v.kqa});}).then(function(){return v;});}).then(function(v){p.ks && (v.U_a?p.ks=p.Ic.nk(v.U_a,p.Mw.bind(p)):p.stop());}).catch(function(v){return p.ta.error("FTL run failed",v);});};c.prototype.kGb=function(p){var q;q=this;return this.oZa.get(p,!1).then(function(v){var u;if(200 != v.status || null == v.body)return (q.oua.WX({url:p,status:v.status,Ksa:"FTL API request failed",je:v.je}),Promise.reject(Error("FTL API request failed: " + v.status)));u=q.mc.parse(v.body);return u instanceof Error?(q.oua.WX({url:p,status:4,Ksa:"FTL Probe API JSON parsing error",je:v.je}),Promise.reject(u)):Promise.resolve(u);}).catch(function(v){v instanceof Error && (q.oua.WX({url:p,status:0,Ksa:v.message}),q.ta.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.aHb=function(p,q,v){var u;u=this;return new Promise(function(t,w){var E;for(var x,y,z,A=[],B={},D=0;D < p.GSb;(B={Eaa:B.Eaa,Faa:B.Faa},++D)){B.Eaa=D < p.n5a.length?p.n5a[D]:m.bb;B.Faa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(F){return function(){return new Promise(function(C,G){u.Ic.nk(F.Eaa,function(){f.mSb(u.oZa,F.Faa,p.FSb).then(function(J){function K(H,L,R){H || (H=R.headers[L]);return H;}x=K(x,"via",J);y=K(y,"x-ftl-probe-data",J);z=K(z,"x-ftl-error",J);C({status:J.status,je:J.je,E0b:x || "",ztb:y || "",IU:z || ""});}).catch(function(J){G(J);});});});};})(B);A.push(0 < D?A[D - 1].then(E):E());}Promise.all(A).then(function(F){t({url:q,name:v,data:F});}).catch(function(F){w(F);});});};c.mSb=function(p,q,v){return p.get(q,!1,v).then(function(u){return Object.assign({},u);});};n=f=c;n=f=r.__decorate([l.R(),r.__param(0,l.l(a.ZBa)),r.__param(1,l.l(k.UCa)),r.__param(2,l.l(d.Gj)),r.__param(3,l.l(h.XBa)),r.__param(4,l.l(a.aJa)),r.__param(5,l.l(a.ZIa)),r.__param(6,l.l(g.ob))],n);b.$Ba=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Rf=k;this.cra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;r=a(1);l=a(0);m=a(51);d=a(4);g=a(49);a=a(89);c.prototype.WX=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return f.i1b({d:q.je.duration.da(d.ka),sc:q.status,sz:q.je.size.da(m.Vu),via:q.E0b,cip:q.ztb,err:q.IU},q);})};})};k=this.cra.vt(k.kqa,"info",n);this.Rf.Bc(k);};c.i1b=function(k,n){f.Fv(k,"dns",n.je.NTa);f.Fv(k,"tcp",n.je.xwa);f.Fv(k,"tls",n.je.Hwa);f.Fv(k,"ttfb",n.je.Cwa);return k;};c.Fv=function(k,n,p){p && (k[n]=p.da(d.ka));};h=f=c;h=f=r.__decorate([l.R(),r.__param(0,l.l(g.Fm)),r.__param(1,l.l(a.tx))],h);b.$Ia=h;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.Rf=k;this.cra=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;r=a(1);l=a(0);m=a(51);d=a(4);g=a(49);a=a(89);c.prototype.WX=function(k){k=this.cra.vt("ftlProbeError","info",f.h1b({url:k.url,sc:k.status,pf_err:k.Ksa},k));this.Rf.Bc(k);};c.h1b=function(k,n){n.je && (n=n.je,f.Fv(k,"d",n.duration),f.Fv(k,"dns",n.NTa),f.Fv(k,"tcp",n.xwa),f.Fv(k,"tls",n.Hwa),f.Fv(k,"ttfb",n.Cwa),k.sz=n.size.da(m.Vu));return k;};c.Fv=function(k,n,p){p && (k[n]=p.da(d.ka));};h=f=c;h=f=r.__decorate([l.R(),r.__param(0,l.l(g.Fm)),r.__param(1,l.l(a.tx))],h);b.YIa=h;},function(r,b,a){var f,l,m,d,g;function c(h,k){this.is=h;this.json=k;l.Go(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;r=a(1);f=a(0);l=a(56);m=a(38);d=a(4);a=a(26);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.hha(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.XS(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.XS(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.my(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.XS(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.my(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Sm(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.bL(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.hha(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Ep(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Ep(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {GSb:h.pulses,n5a:h.pulse_delays?h.pulse_delays.map(d.Hc):[],FSb:d.Hc(h.pulse_timeout),U_a:h.next?d.Hc(h.next):void 0,urls:h.urls,kqa:h.logblob,context:h.ctx};};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Yf)),r.__param(1,f.l(m.xE))],g);b.WBa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v,u){this.xa=q;this.k1b=v;this.performance=u;l.Go(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;r=a(1);l=a(56);m=a(1101);d=a(51);g=a(38);h=a(37);k=a(0);n=a(483);p=a(4);c.prototype.get=function(q,v,u){var t;t=this;return new Promise(function(w,x){var y,z,A;try{y=t.k1b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);v && (y.withCredentials=!0);u && (y.timeout=u.da(p.ka));z=t.xa.bf;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=t.xa.bf.Ca(z);break;case XMLHttpRequest.DONE:B=t.xa.bf.Ca(z);B={body:y.responseText,status:y.status,headers:f.usa(y.getAllResponseHeaders()),je:t.dna(q,d.fa(y.responseText.length),B,A)};w(B);}};y.send();}catch(B){x(B);}});};c.usa=function(q){var v,t,w;v={};q=q.split("\r\n");for(var u=0;u < q.length;u++){t=q[u];w=t.indexOf(": ");0 < w && (v[t.substring(0,w).toLowerCase()]=t.substring(w + 2));}return v;};c.prototype.dna=function(q,v,u,t){v={size:v,duration:u,Cwa:t};if(!this.performance || !this.performance.getEntriesByName)return v;u=this.performance.getEntriesByName(q);if(0 == u.length && (u=this.performance.getEntriesByName(q + "/"),0 == u.length))return v;q=u[u.length - 1];v=m.a1a(v);q.decodedBodySize && (v.size=d.fa(q.decodedBodySize));0 < q.duration?v.duration=p.timestamp(q.duration):0 < q.startTime && 0 < q.responseEnd && (v.duration=p.timestamp(q.responseEnd - q.startTime));0 < q.requestStart && (v.NTa=p.timestamp(q.domainLookupEnd - q.domainLookupStart),v.xwa=p.timestamp(q.connectEnd - q.connectStart),v.Cwa=p.timestamp(q.responseStart - q.startTime),0 === q.secureConnectionStart?v.Hwa=p.timestamp(0):void 0 !== q.secureConnectionStart && (u=q.connectEnd - q.secureConnectionStart,v.Hwa=p.timestamp(u),v.xwa=p.timestamp(q.connectEnd - q.connectStart - u)));return v;};a=f=c;a=f=r.__decorate([k.R(),r.__param(0,k.l(h.Lh)),r.__param(1,k.l(n.DLa)),r.__param(2,k.l(g.yda)),r.__param(2,k.optional())],a);b.TCa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QLb=b.a1a=b.OLb=void 0;b.OLb=function(a){return a;};b.a1a=function(a){return a;};b.QLb=function(a){return Object.assign({},a);};},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.l5a=void 0;r=a(0);c=a(318);f=a(1103);l=a(186);m=a(1104);b.l5a=new r.od(function(d){d(c.TAa).to(f.SAa).aa();d(l.RQ).to(m.fEa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u){this.ae=p;this.qy=q;this.p0b=v;this.mN=u;}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(1);f=a(0);l=a(29);m=a(35);d=a(77);g=a(136);h=a(57);k=a(63);a=a(186);c.prototype.zg=function(p){var q;q=this;return this.ae.pt(p.Uj[0].data[0],[8,4])?Promise.resolve({se:[{id:"ddd",hH:"cert",fW:void 0}],ej:[{sessionId:"ddd",data:new Uint8Array(this.qy.decode(k.tLa))}]}):this.ae.pt(p.Uj[0].data[0],this.p0b.decode("certificate"))?Promise.resolve({se:[{id:"ddd",hH:"cert",fW:void 0}],ej:[{sessionId:"ddd",data:new Uint8Array(this.qy.decode(k.w_))}]}):this.mN.gy(this.ECb(p)).then(function(v){return q.FCb(v);});};c.prototype.release=function(p){return this.mN.release(this.ICb(p)).then(function(){});};c.prototype.ECb=function(p){var q,v;q=this;v=p.Uj.map(function(u){return u.data.map(function(t){return {sessionId:u.sessionId,dataBase64:q.qy.encode(t)};});});return {ca:p.ca,lj:p.lj,f4:p.f4,Qf:h.Vpa(p.Qf),qo:g.On[p.qo],Uj:v.reduce(function(u,t){return u.concat(t);},[]),sW:p.sW,bk:p.bk};};c.prototype.ICb=function(p){return {ca:p.ca,se:p.se};};c.prototype.FCb=function(p){return {se:p.se,ej:p.ej};};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.Zf)),r.__param(1,f.l(m.mi)),r.__param(2,f.l(d.jv)),r.__param(3,f.l(a.RQ))],n);b.SAa=n;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q,v){this.Yob=k;this.FTb=n;this.r6a=q;this.EUb=v;this.ta=p.hb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;r=a(1);f=a(0);l=a(7);m=a(487);a(488);d=a(489);g=a(490);a=a(282);c.prototype.gy=function(k){var n,p;n=this;!1;p=this.r6a.CZb(k);return this.Yob.aq(this.ta,k.bk,p).then(function(q){q.map(function(v){return v.JKb;});return n.EUb.d$a(q);}).catch(function(q){n.ta.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.r6a.FZb(k);return this.FTb.ig(this.ta,k).then(function(){return {$:!0};}).catch(function(p){n.ta.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(m.GGa)),r.__param(1,f.l(d.tHa)),r.__param(2,f.l(l.ob)),r.__param(3,f.l(g.VGa)),r.__param(4,f.l(a.vda))],h);b.fEa=h;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w;function c(x){return function(){return x.eb.get(f.oHa).xb();};}Object.defineProperty(b,"__esModule",{value:!0});b.KH=void 0;r=a(0);f=a(152);l=a(210);m=a(283);d=a(491);g=a(1106);h=a(1107);k=a(492);n=a(1108);p=a(493);q=a(1109);v=a(284);u=a(1110);t=a(494);w=a(1111);b.KH=new r.od(function(x){x(k.XHa).to(n.WHa).aa();x(l.xda).to(m.kHa).aa();x(d.LGa).to(g.KGa).aa();x(f.oHa).to(h.nHa).aa();x(f.nR).ZY(c);x(t.mHa).to(w.lHa).aa();x(p.RGa).to(q.QGa).aa().CZ();x(v.qHa).to(u.pHa).aa();x(v.hHa).to(u.gHa).aa();x(v.jHa).to(u.iHa).aa();});},function(r,b,a){var m,d,g,h,k,n,p,q,v,u;function c(){}function f(){}function l(t,w,x,y,z){var A;A=this;this.is=t;this.Hn=w;this.config=x;this.oG=y;this.zQb=z;this.Rw=function(){return new c().encode({version:A.version,data:A.KH});};this.O_b=function(B){B=A.upgrade(B);A.zQb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.Sm(B))return A.R_b(B);D=B.version;if(void 0 != D && A.is.wi(D) && 1 == D)return A.S_b(B);D=B.version;if(void 0 != D && A.is.wi(D) && 2 == D)return new c().decode(B);if(B.version && A.is.wi(B.version))throw new k.md(g.M.jB,g.L.dza,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.md(g.M.jB,g.L.fB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.ps=new n.rca(2,this.config().D4a,"" !== this.config().D4a && 0 < this.config().cRb,this.Hn,this.Rw);}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;r=a(1);m=a(0);d=a(13);g=a(3);h=a(26);k=a(41);n=a(315);p=a(78);q=a(91);v=a(283);a=a(284);l.prototype.TSb=function(){return this.ps.load(this.O_b).catch(function(t){throw new k.md(g.M.jB,t.na || t.xc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,t);});};l.prototype.zpb=function(t){return this.ps.add(t);};l.prototype.b6a=function(t){return this.ps.remove(t,function(w,x){return w.ca === x.ca;});};l.prototype.lxa=function(t){return this.ps.update(t,function(w,x){return w.ca === x.ca;});};l.prototype.toString=function(){return JSON.stringify(this.Rw(),null,"  ");};l.prototype.W$a=function(t){return t?"/events?playbackContextId=" + t + "&esn=" + this.oG().Lk:"";};l.prototype.pxa=function(t){return t.map(function(w){return {fd:w.downloadableId,duration:w.duration};});};l.prototype.X$a=function(t){var w;return t?{total:t.playTimes.total,JI:null !== (w=t.playTimes.totalContentTime) && void 0 !== w?w:t.playTimes.total,audio:this.pxa(t.playTimes.audio || []),video:this.pxa(t.playTimes.video || []),text:this.pxa(t.playTimes.timedtext || [])}:{total:0,JI:0,audio:[],video:[],text:[]};};l.prototype.R_b=function(t){var w,x,y;w=this;t=JSON.parse(t);x={type:"online",href:this.W$a(t.playbackContextId),ca:t.xid?t.xid.toString():"",J:t.movieId,position:t.position,JT:t.timestamp,nY:t.playback?1E3 * t.playback.startEpoch:-1,vN:t.mediaId,oX:this.X$a(t.playback),trackId:"",Ro:{},profileId:t.accountKey};y=JSON.stringify({keySessionIds:t.keySessionIds,movieId:t.movieId,xid:t.xid,licenseContextId:t.licenseContextId,profileId:t.profileId});this.Hn.create().then(function(z){z.save(w.config().sU,y,!1);});if("" === x.href || "" === x.ca)throw new k.md(g.M.jB,g.L.fB);return {version:2,data:[x]};};l.prototype.S_b=function(t){var w;w=this;if(!t.playdata || !this.is.my(t.playdata))throw new k.md(g.M.jB,g.L.fB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,t);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:w.W$a(y.playbackContextId),ca:y.xid?y.xid.toString():"",J:y.movieId,position:y.position,JT:y.timestamp,nY:y.playback?1E3 * y.playback.startEpoch:-1,vN:y.mediaId,oX:w.X$a(y.playback),trackId:"",Ro:{},profileId:y.profileId};});})(t.playdata)};};Wa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ps.version;}},KH:{configurable:!0,enumerable:!0,get:function(){return this.ps.Kv;}}});u=l;u=r.__decorate([m.R(),r.__param(0,m.l(h.Yf)),r.__param(1,m.l(p.bB)),r.__param(2,m.l(d.Rc)),r.__param(3,m.l(q.jx)),r.__param(4,m.l(a.jHa))],u);b.KGa=u;f.prototype.encode=function(t){var w;w=new v.m0();return t.map(w.encode);};f.prototype.decode=function(t){var w;w=new v.m0();return t.map(w.decode);};c.prototype.encode=function(t){return {version:t.version,data:new f().encode(t.data)};};c.prototype.decode=function(t){return {version:t.version,data:new f().decode(t.data)};};},function(r,b,a){var m,d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z,A,B,D,E,F,C){this.config=y;this.Ic=A;this.Uw=B;this.lu=D;this.f9=E;this.Hi=F;this.dH=Promise.resolve();this.closed=!1;this.log=z.hb("PlaydataServices");this.JH=[];this.active=new Set();this.IUb=new f(y,C);}function f(y,z){this.config=y;this.xa=z;}function l(y,z,A,B,D,E){this.log=y;this.Ic=z;this.Gi=A;this.lu=B;this.Uw=D;this.WQb=E;this.bVa=this.vh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=b.Zhb=void 0;r=a(1);m=a(0);d=a(4);g=a(7);h=a(48);k=a(210);n=a(491);p=a(492);q=a(3);v=a(283);u=a(493);t=a(127);w=a(37);a=a(140);l.prototype.g8=function(y,z){var B;function A(){var D;D=B.lu.create(B.Gi);B.Uw.lxa(D).catch(function(E){var F;F=B.bVa?g.Cj.Iea:g.Cj.Gf;B.bVa=!0;B.log.write(F,"Unable to save playdata changes to IDB",E);});}B=this;this.log.trace("Adding initial playdata",z);this.Uw.zpb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.ks=B.Ic.T9(y,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new v.m0().encode(z)});B.ks=B.Ic.T9(y,A);});};l.prototype.stop=function(y){var z,A;z=this;if(this.vh)return Promise.resolve();this.ks && this.ks.cancel();A=this.lu.create(this.Gi);return this.Uw.lxa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.Gi.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.WQb.l7a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Uw.b6a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.J);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};l.prototype.cancel=function(){this.vh=!0;this.ks && this.ks.cancel();this.Uw.lxa(this.lu.create(this.Gi));};Wa.Object.defineProperties(f.prototype,{Jsb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.xa.bf;return !this.dH || 0 <= y.Ca(this.dH).ul(this.config.W_a)?(this.dH=y,!0):!1;}}});b.Zhb=f;c.prototype.xb=function(){var y;y=this;this.VC || (this.log.trace("Starting playdata services"),this.VC=this.Uw.TSb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.VC;};c.prototype.close=function(){this.closed=!0;this.JH.forEach(function(y){y.g8.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.UN && z.eva?this.wVb(y):Promise.resolve();};c.prototype.Uo=function(y,z,A,B){var D;D=this;this.closed || (this.Yva(y),this.hva(y,B).catch(function(E){D.log.error("Start command failed",{playdata:E.KH,error:E.IU});}),z && this.Vva(this.KEb(y),y,A));};c.prototype.GY=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.lu.create(y);this.active.delete(A.ca);y=aa(t.ku(function(D){return D.key === A.ca;},this.JH));B=y.next().value;this.JH=y.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.g8.stop(z.config.eva);})).then(function(){});};c.prototype.Yva=function(y){var z,A;y.Bd("pdb");if(this.config.Isa.DJb()){z=this.lu.create(y);A=z.ca;this.JH.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.JH.push({key:A,g8:this.$Eb(y,z),Pw:!1,stopped:!1}));}};c.prototype.wVb=function(y){var z,A,B,D;z=this;A=this.Uw.KH.filter(function(E){return !z.active.has(E.ca);});B=void 0;D=void 0;y && Infinity === y?B=A:(A=aa(t.ku(function(E){return E.J === y;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.Ic.nk(this.config.i7a,function(){z.k7a(D);});return B && 0 !== B.length?this.k7a(B):Promise.resolve();};c.prototype.k7a=function(y){var A;function z(B){return A.f9.l7a(B).then(function(){return A.STb(B);});}A=this;return y.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.STb=function(y){var z;z=this;return this.Uw.b6a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.$Eb=function(y,z){y=new l(this.log,this.Ic,y,this.lu,this.Uw,this.f9);y.g8(this.config.Isa,z);return y;};c.prototype.hva=function(y,z){var A,B;A=this;B=this.lu.Lwb(y,z);return this.f9.hva(y,B).then(function(){!1;A.JH.filter(function(D){return D.key === y.ca.toString();}).forEach(function(D){D.Pw=!0;});}).catch(function(D){throw {KH:B,IU:D};});};c.prototype.j7a=function(y){return this.IUb.Jsb?this.kY(u.uda.VV,y,q.M.xca):Promise.resolve();};c.prototype.e$=function(y){return this.kY(u.uda.splice,y,q.M.oJa);};c.prototype.kY=function(y,z,A){var D;function B(E){var F;F=D.JH.filter(function(C){return C.key === E.ca.toString();});return 0 === F.length?!0:F.reduce(function(C,G){return C || G.stopped || !G.Pw;},!1);}D=this;return B(z)?this.dH:this.dH=this.dH.catch(function(){return Promise.resolve();}).then(function(){var E;if(B(z))return Promise.resolve();!1;E=D.lu.create(z);return D.f9.kY(y,z,E);}).then(function(E){!1;return E;}).catch(function(E){var F;D.log.error("Failed to send event",{eventKey:y,xid:z.ca,error:E});E.Zj?F=D.Hi(A,E):E.aA === q.X_.Dea && (F=D.Hi(A,E));throw {IU:E,YN:F};});};c.prototype.Vva=function(y,z,A){var B;B=this;!1;this.tja();this.Bpa=this.Ic.nk(y,function(){B.tja();B.kY(u.uda.VV,z,q.M.xca).then(function(){B.Vva(y,z,A);}).catch(function(D){var E;E=D.IU;(D=D.YN) && A(D);E.aA === q.X_.Dea && B.Vva(y,z,A);});});};c.prototype.M8a=function(){this.tja();};c.prototype.tja=function(){this.Bpa && (this.Bpa.cancel(),this.Bpa=void 0);};c.prototype.KEb=function(y){return y.ab.joa?d.Hc(y.ab.joa):this.config.V_a;};x=c;x=r.__decorate([m.R(),r.__param(0,m.l(p.XHa)),r.__param(1,m.l(g.ob)),r.__param(2,m.l(h.Gj)),r.__param(3,m.l(n.LGa)),r.__param(4,m.l(k.xda)),r.__param(5,m.l(u.RGa)),r.__param(6,m.l(a.rR)),r.__param(7,m.l(w.Lh))],x);b.nHa=x;},function(r,b,a){var f,l,m,d,g,h;function c(k,n){k=l.We.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);d=a(45);g=a(4);a=a(40);la(c,l.We);Wa.Object.defineProperties(c.prototype,{UN:{configurable:!0,enumerable:!0,get:function(){return this.config.Uv?"unsentplaydatatest":"unsentplaydata";}},eva:{configurable:!0,enumerable:!0,get:function(){return !0;}},i7a:{configurable:!0,enumerable:!0,get:function(){return g.Hc(1E4);}},Isa:{configurable:!0,enumerable:!0,get:function(){return g.Hc(4E3);}},V_a:{configurable:!0,enumerable:!0,get:function(){return g.e8(1);}},W_a:{configurable:!0,enumerable:!0,get:function(){return g.jh(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"UN",null);r.__decorate([d.config(d.Yc,"sendPersistedPlaydata")],h.prototype,"eva",null);r.__decorate([d.config(d.Qk,"playdataSendDelayMilliseconds")],h.prototype,"i7a",null);r.__decorate([d.config(d.Qk,"playdataPersistIntervalMilliseconds")],h.prototype,"Isa",null);r.__decorate([d.config(d.Qk,"heartbeatCooldown")],h.prototype,"V_a",null);r.__decorate([d.config(d.Qk,"keepAliveWindow")],h.prototype,"W_a",null);h=r.__decorate([f.R(),r.__param(0,f.l(m.Ol)),r.__param(1,f.l(a.Em))],h);b.WHa=h;},function(r,b,a){var f,l,m;function c(d,g){this.NT=g;this.log=d.hb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(1);f=a(82);l=a(7);a=a(0);c.prototype.hva=function(d,g){var h;h=this.NT(f.gp.start);return this.VUa(h,d,g);};c.prototype.l7a=function(d){var g;g=this;return this.NT(f.gp.stop).ig(this.log,d).then(function(){}).catch(function(h){g.log.error("PBO stop event failed",h);throw h;});};c.prototype.kY=function(d,g,h){d=this.NT(d);return this.VUa(d,g,h);};c.prototype.VUa=function(d,g,h){var k;k=this;return d.aq(this.log,g.sa.bk,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([a.R(),r.__param(0,a.l(l.ob)),r.__param(1,a.l(f.Wba))],m);b.QGa=m;},function(r,b,a){var m,d,g,h;function c(){}function f(k){this.yQb=k;}function l(k){this.AQb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=b.iHa=b.gHa=void 0;r=a(1);m=a(0);d=a(284);g=a(41);h=a(3);l.prototype.validate=function(k){k.map(this.AQb.validate);};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(d.qHa))],a);b.gHa=a;f.prototype.validate=function(k){this.yQb.validate(k.data);};a=f;a=r.__decorate([m.R(),r.__param(0,m.l(d.hHa))],a);b.iHa=a;c.prototype.validate=function(k){var n;k.ca && "string" === typeof k.ca?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.md(h.M.jB,h.L.fB,void 0,void 0,void 0,n,void 0,k.ca);};r=r.__decorate([m.R()],c);b.pHa=r;},function(r,b,a){var f,l,m,d;function c(g,h){this.k4a=h;this.log=g.hb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;r=a(1);f=a(0);l=a(7);m=a(15);a=a(152);c.prototype.Uo=function(g){var h;h=this;this.k4a().then(function(k){g.addEventListener(m.ba.iH,function(n){var p;if(void 0 !== n.cO){p=g.EM(n.cO);k.GY(p);n.N6 || new Promise(function(q){var v;if(g.nj.value)q();else {v=function(u){u.newValue && (q(),g.nj.removeListener(v));};g.nj.addListener(v);}}).then(function(){return k.Uo(g,h.g8a(g),function(q){return g.YF(q);},g.CL);});}});g.addEventListener(m.ba.zq,function(){k.Uo(g,h.g8a(g),function(n){return g.YF(n);},g.CL);});g.background || g.addEventListener(m.ba.nN,function(n){n=g.EM(n.J);k.Yva(n);});g.addEventListener(m.ba.fg,function(){k.M8a();});g.addEventListener(m.ba.oab,function(){k.j7a(g.ia).catch(function(n){(n=n.YN) && g.YF(n);});});g.ic.addListener(function(){g.ab.Oka?h.log.trace("stickiness is disabled for timedtext"):k.e$(g.ia);});g.Uc.addListener(function(){g.ab.Oka?h.log.trace("stickiness is disabled for audio"):k.e$(g.ia).catch(function(n){(n=n.YN) && g.YF(n);});});});};c.prototype.g8a=function(g){return g.state.value == m.Qb.oe;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(a.nR))],d);b.lHa=d;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p){return function(){return new Promise(function(q,v){var u;u=p.eb.get(l.aBa);u.xb().then(function(){q(u);}).catch(function(t){v(t);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.fUa=void 0;r=a(0);f=a(495);a(1113);l=a(497);m=a(1115);d=a(98);g=a(1116);h=a(498);k=a(1117);n=a(1118);a(1119);b.fUa=new r.od(function(p){p(h.oEa).to(k.nEa).aa();p(f.YAa).to(n.pEa);p(d.OP).to(g.dya).aa();p(l.aBa).to(m.ZAa).aa();p(l.$Aa).ZY(c);});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q){var v;v=g.CR.call(this,n,p,"idb") || this;v.Hn=q;v.Q6a=function(u){v.xyb(u.target.id).then(function(){return v.refresh();});};v.XOb=function(){v.Jtb().then(function(){return v.refresh();});};v.tPb=function(){v.refresh();};v.$Ob=function(){v.Nub();};return v;}Object.defineProperty(b,"__esModule",{value:!0});b.Tfb=void 0;r=a(1);f=a(0);l=a(29);m=a(26);d=a(182);g=a(496);h=a(131);k=a(285);la(c,g.CR);c.prototype.xb=function(){var n;n=this;if(this.nn)return Promise.resolve();nb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == h.$u.Reb && n.toggle();});return this.Hn.create().then(function(p){n.storage=p;n.nn=!0;});};c.prototype.Nk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.una=function(n,p,q){var v;n=n.toString();v='<font color="#C41A16">"' + p + '"</font>';q=this.jb.zi({name:p,data:q});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + v + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + q + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + p + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.Hna=function(n){var p,q;p=this;q='<table class="' + this.prefix + '-display-table" width="100%">' + this.Nk();Object.entries(n).forEach(function(v,u){var t;t=aa(v);v=t.next().value;t=t.next().value;q+=p.una(u,v,t);});return q + "</table>";};c.prototype.AWa=function(){var n,p,q;n=this.ae.createElement("button",g.gJ,"Clear",{"class":this.prefix + "-display-btn"});p=this.ae.createElement("button",g.gJ,"Refresh",{"class":this.prefix + "-display-btn"});q=this.ae.createElement("button",g.gJ,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.XOb;p.onclick=this.tPb;q.onclick=this.$Ob;return [n,p,q];};c.prototype.lLb=function(){var n;n=this;return this.storage.loadAll().then(function(p){n.sZa=p.reduce(function(q,v){q[v.key]=v.value;return q;},{});return n.sZa;});};c.prototype.xyb=function(n){return this.storage.remove(n);};c.prototype.Jtb=function(){return this.storage.removeAll();};c.prototype.T5a=function(){var n;n=this;return this.lLb().then(function(p){return n.Hna(p);});};c.prototype.Nub=function(){var n;n=JSON.stringify(this.sZa,null,4);k.$Z.Sja(n);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Zf)),r.__param(1,f.l(m.Yf)),r.__param(2,f.l(d.sca))],a);b.Tfb=a;},function(r,b){function a(c){this.is=c;this.hKb="#881391";this.XXb="#C41A16";this.Jrb=this.BOb="#1C00CF";this.QIb="#D79BDB";this.d_b=this.yOb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;a.prototype.zi=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.GC=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.QIb:this.hKb) + '">' + c + ": </font>";};a.prototype.cWa=function(c,f){f=f || "";c='<li><a href="#">' + this.GC(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var l=0;l < f.length;++l){c+=this.getValue(l.toString(),f[l]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.JXa=function(c,f){var l,m;l=this;if(f instanceof CryptoKey)return this.NDb(c,f);m="";m+='<li><a href="#">' + ("~~NONAME~~" !== c?this.GC(c):"") + "Object</a>";m+="<ul>";Object.entries(f).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;m=d.startsWith("$")?m + l.getValue(d,"REMOVED"):m + l.getValue(d,g);});m+="</ul>";return m+="</li>";};a.prototype.NDb=function(c,f){c='<li><a href="#">' + this.GC(c) + "CryptoKey</a>";c=c + "<ul>" + this.JXa("algorithm",f.algorithm);c+=this.iWa("extractable",f.extractable);c+=this.nYa("type",f.type);c+=this.cWa("usages",f.usages);return c + "</ul></li>";};a.prototype.mFb=function(c,f,l){return '<li><a href="#">' + this.GC(c,void 0 === l?!1:l) + ('<font color="' + this.BOb + '">' + f.toString() + "</font></a></li>");};a.prototype.iWa=function(c,f,l){return '<li><a href="#">' + this.GC(c,void 0 === l?!1:l) + ('<font color="' + this.Jrb + '">' + f.toString() + "</font></a></li>");};a.prototype.nYa=function(c,f,l){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.GC(c,void 0 === l?!1:l) + ('<font color="' + this.XXb + '">"' + f + '"</font></a></li>');};a.prototype.lFb=function(c){return '<li><a href="#">' + this.GC(c) + ('<font color="' + this.yOb + '">null</font></a></li>');};a.prototype.uGb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.GC(c) + ('<font color="' + this.d_b + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,l){l=void 0 === l?!1:l;return null === f?"" + this.lFb(c):this.is.my(f)?"" + this.cWa(c,f):this.is.bL(f)?"" + this.JXa(c,f):this.is.Ep(f)?"" + this.nYa(c,f,l):this.is.wi(f)?"" + this.mFb(c,f,l):this.is.WS(f)?"" + this.iWa(c,f,l):"" + this.uGb(c,f);};b.QKa=a;},function(r,b,a){var f,l;function c(m){this.hzb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;r=a(1);f=a(0);a=a(495);c.prototype.xb=function(){var m;m=this;this.VC || (this.VC=new Promise(function(d,g){var h;h=[];m.hzb.forEach(function(k){h.push(k.xb());});Promise.all(h).then(function(){d();}).catch(function(k){g(k);});}));return this.VC;};l=c;l=r.__decorate([f.R(),r.__param(0,f.uH(a.YAa))],l);b.ZAa=l;},function(r,b,a){var f,l;function c(){this.Yua="";this.Cab=[[],[]];this.W=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.dya=void 0;r=a(1);f=a(0);a(4);l=a(98);c.prototype.downloadRequest=function(m){var d;"" === this.Yua && (this.Yua=m.ya);if(!m.Vc){d=this.hZb(m);this.W[m.mediaType].push(d);this.Cab[m.mediaType].forEach(function(g){g.d7b(d);});}};c.prototype.hZb=function(m){return {id:m.ci(),ya:m.ya,mediaType:m.mediaType,Vj:m.Vj,startTime:m.pA,endTime:m.Gw,offset:m.zu,rL:m.rL,qL:m.qL,duration:m.Ty,bitrate:m.bitrate,state:l.dba.ZTa,nj:!1,h9b:!1,PYa:!1,b8b:l.cba.waiting};};c.prototype.update=function(m){this.Cab[m.mediaType].forEach(function(d){d.bbc(m);});};Wa.Object.defineProperties(c.prototype,{ya:{configurable:!0,enumerable:!0,get:function(){return this.Yua;}}});a=r.__decorate([f.R()],c);b.dya=a;},function(r,b,a){var f,l,m,d,g;function c(h,k){h=m.We.call(this,h,"LogDisplayConfigImpl") || this;h.fm=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;r=a(1);f=a(0);l=a(45);m=a(46);d=a(36);a=a(134);la(c,m.We);Wa.Object.defineProperties(c.prototype,{VX:{configurable:!0,enumerable:!0,get:function(){return !0;}},oN:{configurable:!0,enumerable:!0,get:function(){return this.fm.oN;}},J0a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([l.config(l.Yc,"renderDomDiagnostics")],g.prototype,"VX",null);r.__decorate([l.config(l.WC,"logDisplayMaxEntryCount")],g.prototype,"oN",null);r.__decorate([l.config(l.WC,"logDisplayAutoshowLevel")],g.prototype,"J0a",null);g=r.__decorate([f.R(),r.__param(0,f.l(d.Ol)),r.__param(1,f.l(a.pR))],g);b.nEa=g;},function(r,b,a){var m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A;function c(B,D,E,F,C,G,J,K,H,L){var R;R=this;this.xa=B;this.cg=D;this.ae=E;this.Ic=F;this.Fn=C;this.config=G;this.oG=J;this.ywa=K;this.Lxb=H;this.Hn=L;this.PYb=function(){R.oZ.Il(function(){R.update();});};this.clear=function(){R.entries=[];R.update();};this.g2a=function(){R.He.iN=!R.He.iN;R.jD && R.oD && (R.He.iN?(R.jD.style.display="inline-block",R.oD.style.display="none"):(R.oD.style.display="inline-block",R.jD.style.display="none"));R.pI(!1);};this.DLb=function(I){var P;R.entries.push(I);P=R.config.oN;0 <= P && R.entries.length > P && R.entries.shift();void 0 === R.He.zy[I.mo] && (R.He.zy[I.mo]=!0,R.pI(!1));R.He.isVisible && !R.w9a?R.PYb():R.oZ.Il();};this.pzb=function(){l.download("all",R.entries.map(function(I){return I.R$(!1,!1);})).catch(function(I){console.error("Unable to download all logs to the file",I);});};this.nn=!1;this.He={isVisible:!1,iN:!0,b4:!0,fqa:u.Cj.oca,zy:{}};this.oZ=this.ywa(p.jh(1));this.HBb=this.Lxb(p.Hc(250));this.entries=[];!1;!1;}function f(B){var D;this.elements=[];D=document.createElementNS(f.NY,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;r=a(1);m=a(0);d=a(29);g=a(112);h=a(337);k=a(48);n=a(37);p=a(4);q=a(17);v=a(91);u=a(7);t=a(113);w=a(286);x=a(498);y=a(78);z=a(131);A=a(285);l.download=function(B,D){return l.kEb(B).then(function(E){return l.lGb(E,D.join("\r\n")).then(function(F){return l.nzb(F.filename,F.text);});});};l.kEb=function(B){return new Promise(function(D,E){var F,C,G,J,K,H,L;try{F=new Date();C=F.getDate().toString();G=(F.getMonth() + 1).toString();J=F.getFullYear().toString();K=F.getHours().toString();H=F.getMinutes().toString();L=F.getSeconds().toString();1 === C.length && (C="0" + C);1 === G.length && (G="0" + G);1 === K.length && (K="0" + K);1 === H.length && (H="0" + H);1 === L.length && (L="0" + L);D(J + G + C + K + H + L + "." + B + ".log");}catch(R){E(R);}});};l.lGb=function(B,D){return new Promise(function(E,F){try{E({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(C){F(C);}});};l.nzb=function(B,D){var E;try{E=document.createElement("a");E.setAttribute("href",D);E.setAttribute("download",B);E.style.display="none";document.body.appendChild(E);E.click();document.body.removeChild(E);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.ZO=function(){var B;B=document.createElementNS(f.NY,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};f.prototype.aP=function(B,D,E){var F;F=document.createElementNS(f.NY,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);E && F.setAttribute("fill-rule",E);this.addElement(F);return this;};f.prototype.DY=function(B,D,E,F,C){var G;C=void 0 === C?"#000000":C;G=document.createElementNS(f.NY,"rect");G.setAttribute("x",B.toString());G.setAttribute("y",D.toString());G.setAttribute("height",E.toString());G.setAttribute("width",F.toString());C && G.setAttribute("fill",C);this.addElement(G);return this;};f.prototype.BXb=function(){var B;B=document.createElementNS(f.NY,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.zi=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Wa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},lG:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.NY="http://www.w3.org/2000/svg";c.prototype.xb=function(){var B;B=this;this.VC || (this.VC=new Promise(function(D){nb.addEventListener("keydown",function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == z.$u.Wfb?B.toggle():E.keyCode == z.$u.E && A.$Z.Sja(B.oG().Lk));});B.Fn.C9(w.Hca.sdb,B.DLb);D();}));return this.VC;};c.prototype.show=function(){document.body && (this.element || (this.zwb(),this.nn=!0),!this.He.isVisible && this.element && (document.body.appendChild(this.element),this.He.isVisible=!0,this.update(!0)));};c.prototype.Kr=function(){this.nn && this.He.isVisible && this.element && (document.body.removeChild(this.element),this.He.isVisible=!1);};c.prototype.toggle=function(){this.He.isVisible?this.Kr():this.show();this.pI(!1);};c.prototype.zwb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.Vo=this.qxb());B.appendChild(this.rxb());B.appendChild(this.twb());this.element=B;}catch(E){console.error("Unable to create the log console",E);}};c.prototype.qxb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.w9a=!0;B.update();B.Vo && (B.Vo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.w9a=!1;B.update();B.Vo && (B.Vo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.rxb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Twb());B.appendChild(this.Jwb());B.appendChild(this.Ewb());B.appendChild(this.txb());B.appendChild(this.xwb());B.appendChild(this.Zwb());B.appendChild(this.Xwb());B.appendChild(this.Gwb());B.appendChild(this.ywb());return B;};c.prototype.twb=function(){var B,D,E,F,C,G;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");E=this.createElement("div","padding:2px");F=this.createElement("select",this.$v(22,160,1,2),"<option>Select categories</option>");C=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(E);D.appendChild(C);E.appendChild(F);E.addEventListener("mousedown",function(J){J.preventDefault();});G=!1;E.addEventListener("click",function(){G?C.style.display="none":(C.innerHTML="",["all","none"].concat(Object.keys(B.He.zy).sort()).forEach(function(J){C.appendChild(B.uwb(J,E));}),C.style.display="block");G=!G;});return D;};c.prototype.uwb=function(B,D){var E,F,C;E=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;C=this.createElement("input","margin:1px");C.type="checkbox";C.id=B;C.checked=this.He.zy[B];C.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(E.He.zy).forEach(function(G){E.He.zy[G]="all" === B;}),D.click()):E.He.zy[B]=!E.He.zy[B];E.pI(!0);});F.appendChild(C);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Twb=function(){var B,D;B=this;D=this.createElement("select",this.$v(22,NaN,1,2),'<option value="' + u.Cj.Gf + '">Error</option><option value="' + (u.Cj.Iea + '">Warn</option><option value="') + (u.Cj.oca + '">Info</option><option value="') + (u.Cj.pKa + '">Trace</option><option value="') + (u.Cj.ga + '">Debug</option>'));D.value=this.He.fqa.toString();D.addEventListener("change",function(E){B.He.fqa=parseInt(E.target.value);B.pI(!0);},!1);return D;};c.prototype.Jwb=function(){var D,E;function B(F){return D.HBb.Il(function(){var C;C=F.target.value;D.He.filter=C?new RegExp(C):void 0;D.pI(!0);});}D=this;E=this.createElement("input",this.$v(14,150,1,2));E.value=this.He.filter?this.He.filter.source:"";E.title="Filter (RegEx)";E.placeholder="Filter (RegEx)";E.addEventListener("keydown",B,!1);E.addEventListener("change",B,!1);return E;};c.prototype.Ewb=function(){var B,D,E,F;B=this;D=this.createElement("div",this.$v(NaN,NaN));E=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");E.id="details";E.type="checkbox";E.title="Details";E.checked=this.He.b4;E.addEventListener("change",function(C){B.He.b4=C.target.checked;B.pI(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(E);D.appendChild(F);return D;};c.prototype.txb=function(){var B,D,E;B=this;D=this.createElement("button",this.$v());E=new f("0 0 24 24").ZO().BXb().end().aP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.lG,"nonzero").end().end().zi();D.appendChild(E);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.xwb=function(){var B,D;B=this.createElement("button",this.$v());D=new f("0 0 24 24").ZO().DY(0,0,24,24,f.background).end().aP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.lG).end().end().zi();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.Zwb=function(){var B;this.oD=this.createElement("button",this.$v());this.oD.style.display=this.He.iN?"none":"inline-block";B=new f("0 0 24 24").ZO().DY(0,0,24,24,f.background).end().aP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.lG,"nonzero").end().end().zi();this.oD.addEventListener("click",this.g2a,!1);this.oD.appendChild(B);this.oD.setAttribute("title","Shrink the log console");return this.oD;};c.prototype.Xwb=function(){var B;this.jD=this.createElement("button",this.$v());this.jD.style.display=this.He.iN?"inline-block":"none";B=new f("0 0 24 24").ZO().DY(4,4,16,16,f.background).end().aP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.lG,"nonzero").end().end().zi();this.jD.addEventListener("click",this.g2a,!1);this.jD.appendChild(B);this.jD.setAttribute("title","Expand the log console");return this.jD;};c.prototype.Gwb=function(){var B,D;B=this.createElement("button",this.$v());D=new f("0 0 26 26").ZO().DY(0,0,24,24,f.background).end().aP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.lG,"nonzero").end().end().zi();B.appendChild(D);B.addEventListener("click",this.pzb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.ywb=function(){var B,D,E;B=this;D=this.createElement("button",this.$v());E=new f("0 0 24 24").ZO().DY(0,0,24,24,f.background).end().aP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.lG,"nonzero").end().end().zi();D.appendChild(E);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.pI=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.VX && Promise.resolve(this.Yrb() + this.lEb().join("\r\n")).then(function(E){D.element && D.Vo && (D.Vo.value=E,D.element.style.cssText=D.He.iN?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.Ic.nk(p.bb,function(){D.Vo.scrollTop=D.Vo.scrollHeight;}));}).catch(function(E){console.error("Unable to update the log console",E);});};c.prototype.lEb=function(){var B,D;B=this;D=[];this.entries.forEach(function(E){(E.level || E.level) <= B.He.fqa && B.He.zy[E.mo] && (E=E.R$(!B.He.b4,!B.He.b4),B.He.filter && !B.He.filter.test(E) || D.push(E));});return D;};c.prototype.Yrb=function(){var B;B=this.oG();return "Version: 0.0032.989.910 \n" + ((B?"Esn: " + B.Lk:"") + "\nJsSid: ") + (this.cg.id + ", Epoch: " + this.xa.bf.da(p.Un) + ", Start: " + this.cg.Jz.da(p.Un) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,E,F){return this.ae.createElement(B,D,E,F);};c.prototype.$v=function(B,D,E,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === E?0:E) + "px solid " + f.lG + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.LXb="logDxDisplay";a=r.__decorate([m.R(),r.__param(0,m.l(n.Lh)),r.__param(1,m.l(q.cd)),r.__param(2,m.l(d.Zf)),r.__param(3,m.l(k.Gj)),r.__param(4,m.l(t.BJ)),r.__param(5,m.l(x.oEa)),r.__param(6,m.l(v.jx)),r.__param(7,m.l(g.PJ)),r.__param(8,m.l(h.qAa)),r.__param(9,m.l(y.bB))],a);b.pEa=a;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v){var u;u=h.CR.call(this,p,q,"network") || this;u.pka=v;u.c4=g.uAa.Agb;u.lMb=30;u.FPb=function(t){u.c4=t.target.value;u.refresh();};u.WOb=function(){u.data={};u.refresh();};u.Q6a=function(t){var w,x;w=Number(t.target.id);t=t.target.getAttribute("data-type");w=u.data[u.c4][w].value;x=JSON.stringify(w,null,4);"copy" === t?n.$Z.Sja(x):"log" === t && console.log(w);};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Tgb=void 0;r=a(1);f=a(0);l=a(29);m=a(26);d=a(97);g=a(185);h=a(496);k=a(131);n=a(285);la(c,h.CR);c.prototype.xb=function(){var p;p=this;if(this.nn)return Promise.resolve();nb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == k.$u.Hgb && p.toggle();});this.data={};this.pka.addListener(g.Kba.Yhb,function(q){var v;p.data[q.type] || (p.data[q.type]=[]);v=p.data[q.type];v.length === p.lMb && v.shift();v.push(q);q.type === p.c4 && p.refresh();});this.nn=!0;return Promise.resolve();};c.prototype.Nk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.una=function(p,q,v){var u;u=p.toString();q='<font color="#C41A16">"' + q + '"</font>';v=this.jb.zi(v);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + u + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + q + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + v + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.Hna=function(){for(var p='<table class="' + this.prefix + '-display-table" width="100%">' + this.Nk(),q=this.data[this.c4] || [],v=0;v < q.length;++v){p+=this.una(v,q[v].name,q[v].value);}return p + "</table>";};c.prototype.AWa=function(){var p;p=this.ae.createElement("button",h.gJ,"Clear",{"class":this.prefix + "-display-btn"});p.onclick=this.WOb;return [p,this.sxb(),this.gxb()];};c.prototype.sxb=function(){var p;p=this.ae.createElement("select",h.gJ,Object.values(g.uAa).reduce(function(q,v){return q + ('<option value="' + v + '">' + v + "</option>");},""),{"class":this.prefix + "-display-select"});p.onchange=this.FPb;return p;};c.prototype.gxb=function(){var p,q,v,u;p=this;q=this.ae.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});q.checked=this.zX;q.onchange=function(){return p.oZb();};v=this.ae.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});u=this.ae.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});u.appendChild(q);u.appendChild(v);return u;};c.prototype.T5a=function(){return Promise.resolve(this.Hna());};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Zf)),r.__param(1,f.l(m.Yf)),r.__param(2,f.l(d.o_))],a);b.Tgb=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(0);c=a(472);f=a(11);b.crypto=new r.od(function(l){l(c.bAa).Mi(f.Z_);});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ie=void 0;r=a(0);c=a(1122);f=a(1123);l=a(1124);m=a(138);d=a(316);g=a(477);h=a(1125);k=a(1126);n=a(499);p=a(1127);b.Ie=new r.od(function(q){q(m.I0).to(c.jKa).aa();q(d.Xda).to(l.OIa).aa();q(g.fLa).to(f.eLa).aa();q(h.ehb).to(k.gGa).aa();q(n.zLa).to(p.yLa).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.is=k;this.json=n;l.Go(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;r=a(1);l=a(56);m=a(38);d=a(0);g=a(26);h=a(138);c.prototype.B5a=function(k){var n;n=this;return f.read(k,function(p){return parseInt(p);},function(p){return n.is.Iha(p);});};c.prototype.Jta=function(k){var n;n=this;return f.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.WS(p);});};c.prototype.Eq=function(k){var n;n=this;return f.read(k,function(p){return parseInt(p);},function(p){return n.is.eT(p);});};c.prototype.RSb=function(k){var n;n=this;return f.read(k,function(p){return parseFloat(p);},function(p){return n.is.wi(p);});};c.prototype.A5a=function(k,n){return f.read(k,function(p){return f.PBb(p,n);},function(p){return void 0 !== p;});};c.prototype.Qta=function(k,n){return f.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.C5a=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return f.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.bL(q) && p(q);});}catch(q){return new h.jp();}};c.prototype.Eh=function(k,n,p){var q,v;q=this;p=void 0 === p?1:p;k=k.trim();v=n instanceof Function?n:this.$wb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new h.jp();k=k.substring(n + 1,p);try{return f.mQb(k).map(function(u){u=v(q,f.w0b(u));if(u instanceof h.jp)throw u;return u;});}catch(u){return u instanceof h.jp?u:new h.jp();}};c.prototype.$wb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,v){q=f.oFb(k);return 1 < n?p.Eh(v,k,n - 1):q(p,v);};};c.PBb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new h.jp();};c.oFb=function(k){switch(k){case "int":return function(n,p){return n.B5a(p);};case "bool":return function(n,p){return n.Jta(p);};case "uint":return function(n,p){return n.Eq(p);};case "float":return function(n,p){return n.RSb(p);};case "string":return function(n,p){return n.Qta(p);};case "object":return function(n,p){return n.C5a(p);};}};c.mQb=function(k){var x;for(var n=[["[","]"]],p=[],q=0,v=0,u=0,t=[],w={};v < k.length;(w={IP:w.IP},++v)){w.IP=k.charAt(v);x=void 0;"," == w.IP && 0 == u?(p.push(k.substr(q,v - q)),q=v + 1):(x=n.find((function(y){return function(z){return z[0] == y.IP;};})(w)))?(++u,t.push(x)):0 < t.length && t[t.length - 1][1] == w.IP && (--u,t.pop());}if(q != v)p.push(k.substr(q,v - q));else if(q == v && 0 < q)throw new h.jp();return p;};c.w0b=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.jp();return k.substring(1,k.length - 1);}return k;};a=f=c;a=f=r.__decorate([d.R(),r.__param(0,d.l(g.Yf)),r.__param(1,d.l(m.xE))],a);b.jKa=a;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=void 0;r=a(1);a=a(0);c.prototype.$Va=function(f){var l;l=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(m){return l.$Va(m);});};a=r.__decorate([a.R()],c);b.eLa=a;},function(r,b,a){var f,l,m,d;function c(g){this.location=g;l.Go(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(1);l=a(56);m=a(38);a=a(0);c.hX=function(g){var h,n,p;h={};if(0 < g.length){g=g.split("&");for(var k=0;k < g.length;k++){n=g[k].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(f.AGa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(f.AGa,"%20")):h[n.toLowerCase()]="";}}return h;};Wa.Object.defineProperties(c.prototype,{JSb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.hX(this.p5a);}},p5a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.GX)return this.GX;this.GX=this.location.search.substr(1);g=this.GX.indexOf("#");0 <= g && (this.GX=this.p5a.substr(0,g));return this.GX;}}});d=f=c;d.AGa=/[+]/g;d=f=r.__decorate([a.R(),r.__param(0,a.l(m.jEa))],d);b.OIa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ehb="ObjectComparerSymbol";},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(1);f=a(0);l=a(193);c.prototype.compare=function(m,d){var g;g=[];this.Aja(m,d,"",g);return g;};c.prototype.Aja=function(m,d,g,h){var k;k=this;if(l.wE.my(m))l.wE.my(d) && m.length === d.length?m.forEach(function(q,v){k.Aja(m[v],d[v],g + "[" + v + "]",h);}):h.push({a:m,b:d,path:g});else if(l.wE.bL(m) && null != m){if(l.wE.bL(d) && null != d){for(var n in m){this.Aja(m[n],d[n],g + "." + n,h);}for(var p in d){(p in m) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:g + "." + p});}}else h.push({a:m,b:d,path:g});}else m !== d && h.push({a:m,b:d,path:g});};a=r.__decorate([f.R()],c);b.gGa=a;},function(r,b,a){var f,l,m,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;r=a(1);f=a(0);l=a(11);m=a(34);d=a(287);g=a(8);c.prototype.MFb=function(){var h;h=nb.devicePixelRatio || 1;return {width:this.xga.y2b || l.fv.width * h,height:this.xga.x2b || l.fv.height * h};};Wa.Object.defineProperties(c.prototype,{xga:{configurable:!0,enumerable:!0,get:function(){return g.ja.get(m.rB);}}});a=c;r.__decorate([d.aW],a.prototype,"xga",null);a=r.__decorate([f.R()],a);b.yLa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.Dd=void 0;r=a(0);c=a(500);f=a(1129);l=a(119);m=a(288);d=a(1130);g=a(1131);h=a(1133);k=a(1134);n=a(1135);p=a(501);q=a(502);v=a(132);u=a(290);t=a(1136);w=a(289);x=a(1137);b.Dd=new r.od(function(y){y(c.FHa).to(f.EHa).aa();y(m.Tda).to(d.GIa).aa();y(l.bF).to(g.oLa).aa();y(p.FIa).to(n.$Ea).aa();y(p.EIa).to(k.eEa).aa();y(p.DIa).to(h.XDa).aa();y(u.rya).lZb(function(){var z;return null === (z=v.Tm.tj) || void 0 === z?void 0:z.tu;});y(u.qya).to(t.pya).aa();y(q.Rda).to(q.sIa);y(w.vba).to(x.vza).aa();});},function(r,b,a){var f,l,m;function c(d,g){this.ib=g;this.ta=d.hb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;r=a(1);f=a(0);l=a(7);a=a(26);c.prototype.Jyb=function(d){var g;g=this;try{return {direction:d.direction,w9b:d.layoutHasChanged,fac:d.rowInteractionIndex,Ya:d.lolomos.map(function(h){return g.Eyb(h);})};}catch(h){this.ta.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.Eyb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(h){return g.Dyb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,gac:d.rowSegment};};c.prototype.Dyb=function(d){var g,h;g={Cd:d.pts,property:d.property,Z:d.viewableId,index:d.index};h=d.preplay;this.ib.yg(h) && (g.o9=this.Iyb(h));d=d.params;this.ib.yg(d) && (g.Nb=this.vTa(d));return g;};c.prototype.Iyb=function(d){var g;g={Cd:d.pts,Z:d.viewableId,VN:d.pipelineNum,index:d.index};d=d.params;this.ib.yg(d) && (g.Nb=this.vTa(d));return g;};c.prototype.vTa=function(d){return {ve:d.uiLabel,wj:d.trackingId,Ro:d.sessionParams};};c.prototype.Hyb=function(d){var g;g=this;try{return d.map(function(h){return g.Fyb(h);});}catch(h){this.ta.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.Fyb=function(d){var g,h;h=d.params;this.ib.yg(h) && (g=this.Gyb(h));return {J:d.movieId,priority:d.priority,force:d.force,Nb:g,ve:d.uiLabel,Yac:d.uiExpectedStartTime,Xac:d.uiExpectedEndTime,yl:d.firstTimeAdded};};c.prototype.Gyb=function(d){var g,h;g=void 0;h=d.sessionParams;this.ib.yg(h) && (g=h);return {S2:this.Cyb(d.authParams),Ro:g,wj:d.trackingId,Y:d.startPts,sa:d.manifest,Al:d.isBranching};};c.prototype.Cyb=function(d){return {KQb:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(a.Yf))],m);b.EHa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t,w){this.is=t;this.cg=w;this.log=v.hb("TaskScheduler");this.Ob=new p.wk();this.config=u();this.currentIteration=this.ZT=0;this.DI=[];this.paused=!1;this.w$=[];this.VRa=[];this.IIb=this.config.QRb || q.append;this.addEventListener=this.Ob.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;r=a(1);f=a(0);l=a(288);m=a(7);d=a(13);g=a(130);h=a(26);k=a(17);n=a(4);p=a(72);(function(v){v.prepend="prepend";v.append="append";v.XHb="ignore";})(q || (q={}));c.prototype.Gpb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.DI=this.JIb(v);this.ZT=0;this.currentIteration+=1;this.Nf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Nf=function(){var v,u,t,w;v=this;if(this.ZT === this.DI.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.ZT,numberOfTasks:this.DI.length});else {u=this.hFb();t=this.currentIteration;u.startTime=this.cg.Wb().da(n.ka);u.status=g.yk.Pw;this.Ob.vc(l.LJ.JYb,{J:u.J,type:u.type});this.w$.push(u);w=function(x){u.endTime=v.cg.Wb().da(n.ka);x();v.VRa.push(u);v.w$.splice(v.w$.indexOf(u),1);v.currentIteration === t && (v.ZT++,v.Nf());};u.RUb().then(function(){w(function(){u.status=g.yk.fP;v.sta(u,l.LJ.KYb,"task succeeded");});}).catch(function(x){w(function(){0 <= [g.yk.vh,g.yk.Psb,g.yk.Xia].indexOf(x.status)?(u.status=x.status,v.sta(u,l.LJ.HYb,"cancelled task")):(u.status=g.yk.Et,v.sta(u,l.LJ.IYb,"task failed",x));});});}};c.prototype.hFb=function(){return this.DI[this.ZT];};c.prototype.getStats=function(v,u,t){var w,x,y,z;w=this.VRa.map(function(A){return A.Mt();});x=this.w$.map(function(A){return A.Mt();});y=this.is.yg(v) && this.is.yg(u);z={};if(this.is.yg(t))return (z.iub=w.filter(function(A){return A.movieId === t;}),z);w.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.yk.Pw?A.startTime:A.endTime;y && B && B >= v && B < u && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.sta=function(v,u,t,w){var x;x=v.Mt();w?this.log.warn(t,x,w):this.log.trace(t,x);this.Ob.vc(u,{J:v.J,type:v.type,reason:v.status});v.IN(x);};c.prototype.JIb=function(v){var u,t;u=this.DI.filter(function(w){return w.IQb && w.status === g.yk.oo;});t=this.IIb;return t === q.XHb?[].concat(v):t === q.prepend?u.concat(v):v.concat(u);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.ob)),r.__param(1,f.l(d.Rc)),r.__param(2,f.l(h.Yf)),r.__param(3,f.l(k.cd))],a);b.GIa=a;},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z,A,B,D,E,F,C,G,J,K){this.l1b=A;this.ib=B;this.cg=D;this.Uf=E;this.jVa=F;this.zBb=C;this.ABb=G;this.Ela=J;this.events=new x.EventEmitter();this.log=y.hb("VideoPreparer");this.config=z();this.Oxa={};this.h8={};this.Md={num_of_calls:0,num_of_movies:0};this.Ng=K.Ng;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;r=a(1);l=a(1132);m=a(13);d=a(0);g=a(7);h=a(81);k=a(26);n=a(288);p=a(17);q=a(4);v=a(130);u=a(289);t=a(501);w=a(290);x=a(18);c.prototype.y7a=function(y,z,A){this.Ng.setData(y,"ldl",z,A);};c.prototype.MYa=function(y){return this.Ng.yV(y,"ldl");};c.prototype.vRa=function(y){this.Ng.clearData(y,"ldl",void 0,!0);};c.prototype.qM=function(y,z){return this.Ng.getData(y,z);};c.prototype.pWa=function(y){var z;z=this.Ng.getData(y,"ldl");this.Ng.clearData(y,"ldl",void 0,!0);return z;};c.prototype.Bab=function(y){return this.I8a === y || this.QSa === y;};c.prototype.NH=function(y,z){var A,B,D;A=this;y=y.map(function(E){E.Nb=E.Nb || ({S2:{KQb:!1},wj:0});A.ib.nG(E.Nb.wj) || (E.Nb.wj=0);A.ib.nG(E.Cd) && (E.Nb.Y=E.Cd);return E;});B=y.map(function(E){return A.pxb(E,z);}).reduce(function(E,F){return E.concat(F);},[]);D=B.map(function(E){return E.J + "-" + E.type;});this.log.trace("prepare tasks",D);this.Uf.Gpb(B);this.Md.num_of_calls++;this.Md.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.h8[A] || ({})),{DI:this.Uf.getStats(y,z,A),cache:this.Ng.getStats(y,z),NCb:Object.assign(Object.assign({},this.Md),this.Ela.getStats())});};c.prototype.XGb=function(y){this.I8a=y;};c.prototype.WGb=function(y){this.log.trace("task scheduler paused on playback created");this.Uf.pause();this.config.Ayb && this.Ng.pja(y,["manifest"]);this.config.zyb && this.Ng.pja(y,["ldl"]);this.config.vyb && this.Ng.clearData(y,"manifest");this.Ela.Y5a(y);this.QSa=y;};c.prototype.JYa=function(){this.log.info("track changed, clearing all manifests from cache");this.Ng.pja("none",["manifest"]);};c.prototype.VGb=function(y){var z;z=this;this.config.wyb?this.Ng.clearData(y,"manifest"):this.Ng.yV(y,"manifest") && this.Ng.getData(y,"manifest").then(function(A){A.Wc.isSupplemental || z.Ng.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.uja(y);this.I8a=this.QSa=void 0;};c.prototype.uja=function(y){delete this.Oxa[y];};c.prototype.lz=function(y){return this.Oxa[y];};c.prototype.PSa=function(y){return this.Oxa[y]=this.l1b.Hy();};c.prototype.e8a=function(y,z){if(this.MYa(y))return v.yk.vh;if(!z.zV)return v.yk.Xia;};c.prototype.pxb=function(y,z){var A,B;y.ve && y.Nb && (y.Nb.ve=y.ve);this.E_b(y.J,y.yl);A=this.Wwb(y,z);B=this.Swb(y,null === A || void 0 === A?void 0:A.id,z);y=[this.Ywb(y,null === A || void 0 === A?void 0:A.id,z)];return [A,B].concat(ca(y)).filter(f);};c.prototype.Wwb=function(y,z){if(this.Ng.yV(y.J,"manifest"))this.log.trace("manifest exists in cache for " + y.J);else return new l.tR("manifest",this.cg.Wb().da(q.ka),! !y.Nb.Hh,void 0,z,this.jVa,y,this);};c.prototype.Swb=function(y,z,A){if(this.config.CU)if(this.Ng.yV(y.J,"ldl"))!1;else return this.config.Zo?new l.tR("ldl",this.cg.Wb().da(q.ka),! !y.Nb.Hh,z,A,this.zBb,y,this):new l.tR("ldl",this.cg.Wb().da(q.ka),! !y.Nb.Hh,z,A,this.ABb,y,this);};c.prototype.Ywb=function(y,z,A){if(this.config.wUa)return new l.tR("getMedia",this.cg.Wb().da(q.ka),! !y.Nb.Hh,z,A,this.Ela,y,this);};c.prototype.E_b=function(y,z){this.h8[y] || (this.h8[y]={m9:0,yl:0});y=this.h8[y];y.m9=(void 0 !== y?void 0 !== y.m9?y.m9:0:0) + 1;y.yl=z;};a=c;a=r.__decorate([d.R(),r.__param(0,d.l(g.ob)),r.__param(1,d.l(m.Rc)),r.__param(2,d.l(h.rx)),r.__param(3,d.l(k.Yf)),r.__param(4,d.l(p.cd)),r.__param(5,d.l(n.Tda)),r.__param(6,d.l(t.FIa)),r.__param(7,d.l(t.EIa)),r.__param(8,d.l(t.DIa)),r.__param(9,d.l(w.qya)),r.__param(10,d.l(u.vba))],a);b.oLa=a;},function(r,b,a){var f,l;function c(m,d,g,h,k,n,p,q){this.type=m;this.oo=d;this.IQb=void 0 === g?!1:g;this.notify=k;this.BBb=n;this.bO=p;this.Dd=q;this.id=++l;this.status=f.yk.oo;}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;f=a(130);l=0;c.prototype.Mt=function(){var m;m={id:this.id,type:this.type,created:this.oo,status:this.status,movieId:this.J};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.IN=function(m){this.notify && this.notify(m);};c.prototype.RUb=function(){return this.BBb.fetch(this.bO,this.Dd);};Wa.Object.defineProperties(c.prototype,{J:{configurable:!0,enumerable:!0,get:function(){return this.bO.J;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.bO.priority;}}});b.tR=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y;function c(z,A,B,D,E,F,C,G,J,K){this.Xr=B;this.yY=D;this.Mc=E;this.xa=F;this.za=C;this.mN=G;this.SQb=J;this.dk=K;this.log=z.hb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.XDa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(130);g=a(62);h=a(57);k=a(34);n=a(154);p=a(186);q=a(35);v=a(4);u=a(37);t=a(17);w=a(187);x=a(198);a=a(104);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",w.rJ(z));this.J=z.J;this.Dd=A;return A.qM(z.J,"ldl").catch(function(){B.log.trace("Requesting a new license",w.rJ(z));return B.dk.d5(z.J).then(function(D){var E,F;B.sa=D;B.Wc=D.Wc;if(D=B.Dd.e8a(z.J,B.Wc))throw {status:D};D=B.Wc.WA[0].vu;E=B.Wc.WA[0].Wka;F=(D?D:[E]).map(function(C){return B.Mc.decode(C.bytes);});B.lf=B.iG({kUa:B.log,qla:function(C){return B.handleError(C);},Bd:void 0,Lra:function(){},xa:{getTime:function(){return B.za.Wb().da(v.ka);},I8b:function(){return B.xa.bf.da(v.Un);}}});A.y7a(z.J,B.lf);return B.lf.create(B.config.km).then(function(){return B.lf.zg(h.Oh.Qn,F,!0);}).then(function(){return B.lf;}).catch(function(C){B.handleError(C);throw C;});}).catch(function(D){B.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.yk.vh};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.lf.close();this.Dd.vRa(this.J);this.Dd.uja(this.J);};c.prototype.iG=function(z){var A,B;A=this;if(!this.Xr.pJ || !this.Xr.nJ){B=this.SQb();this.Xr.pJ=B.Yb;this.Xr.nJ=B.request;}B=new this.Xr.nJ(z.kUa,function(D){var E;E=[];D.Uj.forEach(function(F){E.push({sessionId:F.sessionId,dataBase64:A.Mc.encode(F.data)});});D={Uj:E,f4:[A.Wc.gm],Qf:g.Pn.nSa(D.Qf),lj:A.Wc.lj,ca:A.Dd.PSa(A.J),bk:A.sa.bk};A.log.trace("xid created ",{MovieId:A.J,xid:D.ca});return A.mN.gy(D);},void 0,{nf:!1,Ok:!1});return this.Xr.pJ(z.kUa,z.Bd,{nf:!1,Ok:!1,Hl:B,BX:this.config.h5a,X:void 0,TA:this.config.sUa,onerror:z.qla,Lra:z.Lra,xa:z.xa,IH:!1,Qqb:this.yY.C3([]),I0b:this.yY.F3([]),o6:this.config.o6});};y=c;y=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.Rc)),r.__param(2,f.l(k.rB)),r.__param(3,f.l(n.zR)),r.__param(4,f.l(q.mi)),r.__param(5,f.l(u.Lh)),r.__param(6,f.l(t.cd)),r.__param(7,f.l(p.RQ)),r.__param(8,f.l(x.Dda)),r.__param(9,f.l(a.mB))],y);b.XDa=y;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t,w,x,y){this.Mc=t;this.Ezb=w;this.wN=x;this.dk=y;this.log=v.hb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(57);g=a(35);h=a(120);k=a(137);n=a(130);p=a(187);a=a(104);c.prototype.fetch=function(v,u){var t;t=this;this.log.trace("Fetching LDL",p.rJ(v));this.J=v.J;this.Dd=u;return u.qM(v.J,"ldl").then(function(w){return w.h$;}).catch(function(){t.log.trace("Requesting a new license",p.rJ(v));return t.dk.d5(v.J).then(function(w){var x,y,z,A;t.Wc=w.Wc;if(u.MYa(v.J))return u.qM(v.J,"ldl").then(function(B){return B.h$;});x=t.Dd.e8a(v.J,t.Wc);if(x)throw {status:x};y=t.Wc.WA[0].vu;x=t.Wc.WA[0].Wka;z=(y?y:[x]).map(function(B){return t.Mc.decode(B.bytes);});A=t.Ezb().then(function(B){var D;D={type:d.Oh.Qn,initData:z,context:{vu:y},Fi:{J:v.J,ca:u.PSa(v.J),lj:t.Wc.lj,gm:t.Wc.gm,bk:w.bk}};return B.zg(D,t.wN());}).catch(function(B){t.handleError("Unable to prepare an EME session.",B);throw B;});t.Dd.y7a(v.J,{h$:A,source:"videopreparer"},function(){if(!t.Dd.Bab(v.J))try{A.then(function(B){return B.close();}).catch(function(B){t.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){t.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(w){t.log.warn("Manifest not available for ldl request",w);if(void 0 !== w.status)throw w;throw {status:n.yk.vh};});});};c.prototype.handleError=function(v,u){this.log.warn(v + " LDL is now invalid.",u);this.Dd.vRa(this.J);this.Dd.uja(this.J);};q=c;q=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.Rc)),r.__param(2,f.l(g.mi)),r.__param(3,f.l(h.r_)),r.__param(4,f.l(k.$Q)),r.__param(5,f.l(a.mB))],q);b.eEa=q;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t,w,x){this.Aqa=t;this.cg=w;this.dk=x;this.log=v.hb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(1);f=a(13);l=a(0);m=a(7);d=a(17);g=a(4);h=a(156);k=a(103);n=a(187);p=a(104);q=a(57);c.prototype.fetch=function(v,u){var t,w;this.log.trace("Fetching manifest",n.rJ(v));w=v.Nb;this.config.Wob && w && w.sa && !this.dk.$na(v.J) && (!(("clientGenesis" in w.sa) && w.sa.clientGenesis) || Date.now() - w.sa.clientGenesis < this.config.U4a) && (w=this.Aqa.create(w.sa)) && (w.ZH=this.cg.Wb().da(g.ka),w.tO=this.cg.Wb().da(g.ka),this.dk.y$(v.J,w));return this.dk.zM({Z:v.J,ab:null !== (t=v.Nb) && void 0 !== t?t:{},It:k.Gm.QE,Qf:q.Oh.Qn},function(){u.events.emit("manifestRemovedFromCache",{target:u,type:"manifestRemovedFromCache",Z:v.J});});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.ob)),r.__param(1,l.l(f.Rc)),r.__param(2,l.l(h.ZQ)),r.__param(3,l.l(d.cd)),r.__param(4,l.l(p.mB))],a);b.$Ea=a;},function(r,b,a){var l,m,d,g,h,k,n,p,q,v,u,t,w;function c(){var x;x=this;this.promise=new Promise(function(y,z){x.resolve=y;x.reject=z;});}function f(x,y,z,A,B){var D;D=this;this.Ysa=z;this.NRb=A;this.dk=B;this.DZ=[];this.lA=new Map();this.qPb=function(E){var F,C;E=E.wishListItem.key.Z;if(D.lA.has(E)){C=D.lA.get(E);E=C.bO;C=C.Eja;null === (F=C.resolve) || void 0 === F?void 0:F.call(C,E);}};this.n3a=function(E){!E.target.Bab(E.Z) && D.lA.has(E.Z) && (D.Y5a(E.Z),D.Y7a(D.DZ),D.fl.has(E.Z) && (D.fl.fq(E.Z).Dt=!0,D.fl.remove(E.Z)));};this.ta=x.hb("VideoPreparer");this.config=y();this.fl=new w.Hea();}Object.defineProperty(b,"__esModule",{value:!0});b.pya=void 0;r=a(1);l=a(7);a(187);m=a(132);d=a(47);g=a(13);h=a(14);k=a(103);n=a(290);p=a(0);q=a(502);v=a(18);u=a(104);t=a(57);w=a(503);f.prototype.fetch=function(x,y){if(-1 === y.events.listeners("manifestRemovedFromCache").indexOf(this.n3a))y.events.on("manifestRemovedFromCache",this.n3a);!1;this.Y7a(this.aub(this.yxb(x,y)));return this.lA.get(x.J).Eja.promise;};f.prototype.getStats=function(){return this.tu.getStats();};f.prototype.aub=function(x){return [x].concat(ca(this.DZ.filter(function(y){return y.key.Z !== x.key.Z;}))).slice(0,this.config.LRb).map(this.config.MRb?function(y,z){return Object.assign({},y,{priority:z});}:function(y){return y;});};f.prototype.zM=function(x){var y;return this.dk.zM({Z:x.J,It:k.Gm.QE,Qf:t.Oh.Qn,ab:null !== (y=x.Nb) && void 0 !== y?y:{}}).then(function(z){return z.Wc;});};f.prototype.yxb=function(x,y){var z,A,B,D,E,F;B=new c();if(this.lA.has(x.J)){D=this.lA.get(x.J);E=D.bO;if(E.J === x.J && E.ve === x.ve)F=D.f1b.key;this.tu.getStats().contents.some(function(C){return C.id === x.J;}) && (B=D.Eja);}D=m.Tm.Od.tt(h.Hja(x.ve));F || (F={Z:x.J,config:D});this.fl.has(x.J) || this.fl.store(x.J,this.xxb(x,y,D));y={key:F,q9b:!1,priority:x.priority,V2:d.S.tb(null !== (A=null === (z=x.Nb) || void 0 === z?void 0:z.Y) && void 0 !== A?A:0),fl:this.fl};this.lA.set(x.J,{f1b:y,bO:x,Eja:B});return y;};f.prototype.xxb=function(x,y,z){var A,B,D;A=this;B=x.J;return {get ca() {return y.lz(B);},Dt:!1,events:new v.EventEmitter(),Wia:function(){},get XA() {D || (D=A.zM(x).then(function(E){return {sa:E,Xh:E.boa && !E.zV,config:z,k8a:{}};}));return D;},Z:B,g9a:!1,equals:function(E){var F;F=y.lz(B);return E.Z === B && (!E.ca || !F || F === E.ca);}};};f.prototype.G7a=function(x){this.DZ=x;};f.prototype.Y7a=function(x){this.G7a(x);this.tu.X7a(this.DZ);};f.prototype.Y5a=function(x){this.lA.has(x) && (this.G7a(this.DZ.filter(function(y){return y.key.Z !== x;})),this.lA.delete(x));};Wa.Object.defineProperties(f.prototype,{tu:{configurable:!0,enumerable:!0,get:function(){this.Yx || (this.Yx=this.NRb(),this.Yx.uva(this.Ysa).x7a({TG:this.config.KRb}),this.Yx.events.on("prefetchComplete",this.qPb));return this.Yx;}}});a=f;a=r.__decorate([p.R(),r.__param(0,p.l(l.ob)),r.__param(1,p.l(g.Rc)),r.__param(2,p.l(q.Rda)),r.__param(3,p.l(n.rya)),r.__param(4,p.l(u.mB))],a);b.pya=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){var q;q=this;this.cg=n;n=p();this.Ng=new h({log:k.hb("CacheManager"),xa:{getTime:function(){return q.cg.Wb().da(d.ka);}},Promise:Promise,nf:!1,isb:n.TRb,hsb:n.RRb,eBb:n.U4a,dBb:n.SRb});}Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;r=a(1);f=a(0);l=a(17);m=a(7);d=a(4);g=a(13);h=a(1138);c=r.__decorate([f.R(),r.__param(0,f.l(m.ob)),r.__param(1,f.l(l.cd)),r.__param(2,f.l(g.Rc))],c);b.vza=c;},function(r,b,a){var d;function c(){return Object.create(null);}function f(g){this.log=g.log;this.xa=g.xa;this.qD=c();this.Promise=g.Promise;this.Ey=g.Ey;this.$wa=g.$wa;this.nf=g.nf || !1;this.Wv=c();this.lC=c();this.RF=c();this.job(g);g.Zp && (this.Zp=g.Zp);}function l(g){return "undefined" !== typeof g;}function m(g){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(l(n))return n;}}a(1139);d=a(1140);f.prototype.job=function(g){this.Wv.manifest=m(g.eBb,d.Wv.sa);this.Wv.ldl=m(g.dBb,d.Wv.bW);this.Wv.metadata=m(g.u8b,d.Wv.Ac);this.lC.manifest=m(g.isb,d.lC.sa);this.lC.ldl=m(g.hsb,d.lC.bW);this.lC.metadata=m(g.A7b,d.lC.Ac);this.RF.manifest=m(g.y7b,d.RF.sa);this.RF.ldl=m(g.x7b,d.RF.bW);this.RF.metadata=m(g.z7b,d.RF.Ac);};f.prototype.yV=function(g,h){this.At("undefined" !== typeof g);this.At("undefined" !== typeof h);return ! !this.tMa(g,h,void 0).value;};f.prototype.tMa=function(g,h,k){var n,p;n={value:null,reason:"",log:""};p=this.qD[h];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(k=p[g][k?k:"DEFAULTCAPS"]) && k.value?this.M6(h,k.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + g,n.reason="expired"):(n.log=this.Promise && k.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + g:"cache hit: " + h + " available for movieId:" + g,n.value=k.value):(n.log="cache miss: " + h + " data not available for movieId:" + g,n.reason="unavailable");return n;};f.prototype.getData=function(g,h,k){this.At("undefined" !== typeof g);this.At("undefined" !== typeof h);g=this.tMa(g,h,k);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.$wa?JSON.parse(this.$wa(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};f.prototype.setData=function(g,h,k,n,p){var q,v,u;this.At("undefined" !== typeof g);this.At("undefined" !== typeof h);q=this.qD;v=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.Ey?this.Ey(JSON.stringify(k),"gzip",!0):k;q=q[h];this.Xlb(g,h,v,q);u=this;n={creationTime:this.xa.getTime(),value:k,size:0,type:h,Hka:n,cBb:setTimeout(function(){u.clearData(g,h,v,!1,"expired");},this.Wv[h] + 1)};q[g]=q[g] || c();q[g][v]=q[g][v] || c();q[g][v]=n;q.size+=0;q.numEntries++;this.Zp && this.Zp.emit("addedCacheItem",n);return n;};f.prototype.Xlb=function(g,h,k,n){var p,q,v,u,t,w,x,y,z;p=this;q=n.numEntries;v=this.lC[h];u=n[g] && n[g][k];if(u && u.value)(t=g,w="promise_or_expired");else if(q >= v){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][k];B && B.value && p.M6(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});t=z || x;w="cache_full";}this.nf && this.log.debug("makespace ",{maxCount:v,currentCount:n.numEntries,field:h,movieId:g,movieToBeRemoved:t});t && (p.clearData(t,h,k,void 0,w),this.log.debug("removed from cache: ",t,h));};f.prototype.pja=function(g,h){var k,n;k=this;k.At("undefined" !== typeof g);n=g + "";h.forEach(function(p){var q;q=k.qD[p];q && Object.keys(q).forEach(function(v){v != n && k.clearData(v,p,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(g,h,k,n,p){var q;this.At("undefined" !== typeof g);this.At("undefined" !== typeof h);q=this.qD[h];h=q?q[g]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){q.size-=h[k].size;q.numEntries--;if(q=h && h[k])(clearTimeout(q.cBb),h[k]=void 0,!n && q.Hka && q.Hka());this.Zp && (g={creationTime:q.creationTime,destroyFn:q.Hka,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Zp.emit("deletedCacheItem",g));}};f.prototype.flush=function(g){var h;this.At("undefined" !== typeof g);h=this.qD;h[g]=c();h[g].numEntries=0;h[g].size=0;};f.prototype.tRa=function(){var g,h;this.At(!1);g=this;h=this.qD;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;g.xa.getTime() - n.creationTime > g.Wv[void 0] && this.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.M6=function(g,h){return this.xa.getTime() - h > this.Wv[g];};f.prototype.getStats=function(g,h,k){var n,p,q,v,u;n={};p=this;q=p.qD;v=l(g) && l(h);u=k || "DEFAULTCAPS";Object.keys(q).forEach(function(t){var w,x;w=Object.keys(q[t]);x=q[t];w.forEach(function(y){!(y=x && x[y] && x[y][u]) || !l(y.value) || y.value instanceof this.Promise || (n[t]=(n[t] | 0) + 1,p.M6(y.type,y.creationTime) && (n[t + "_expired"]=(n[t + "_expired"] | 0) + 1),v && y.creationTime >= g && y.creationTime < h && (n[t + "_delta"]=(n[t + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(g){var h,k,n,p;h=[];k=this;n=k.qD;p=g || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var v,u;v=Object.keys(n[q]);u=n[q];v.forEach(function(t){var w,x;w=u && u[t] && u[t][p];if(w && l(w.value)){x=k.M6(w.type,w.creationTime)?"expired":w.value instanceof this.Promise?"loading":"cached";h.push({movieId:t,state:x,type:q,size:w.size});}});});return h;};f.prototype.At=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.nf))throw Error("Debug Assert Failed ");};r.exports=f;},function(r){function b(a){var c;c=[];return (function m(l){if(l && "object" === typeof l){if(-1 !== c.indexOf(l))return !0;c.push(l);for(var d in l){if(l.hasOwnProperty(d) && m(l[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var l;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){l=a.pop();if("boolean" === typeof l)f+=4;else if("string" === typeof l)f+=2 * l.length;else if("number" === typeof l)f+=8;else if("object" === typeof l && -1 === c.indexOf(l)){c.push(l);for(var m in l){a.push(l[m]);}}}return f;};},function(r){r.exports={Wv:{sa:12E5,bW:9E5,Ac:12E5},lC:{sa:10,bW:10,Ac:10},RF:{sa:10240,bW:10240,Ac:10240}};},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Na=void 0;r=a(0);c=a(189);f=a(1142);l=a(504);m=a(1143);d=a(505);g=a(1144);h=a(1145);k=a(506);n=a(1146);b.Na=new r.od(function(p){p(c.Pba).to(f.MAa).aa();p(l.qFa).to(m.pFa).aa();p(d.kGa).to(g.jGa).aa();p(d.xFa).to(h.wFa).aa();p(k.vFa).to(n.uFa).aa();});},function(r,b,a){var f,l,m,d;function c(g){function h(k,n){this.I=k;this.Ql=n;this.D4=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.xg=g.hb("DownloadTrack");}h.prototype.Tp=function(){!1;this.q2=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.q2 + " config: " + JSON.stringify(this.I);};h.prototype.toJSON=function(){return "Download Track id:" + this.q2 + " config: " + JSON.stringify(this.I);};h.prototype.A9=function(k){this.I.connections !== k.connections && (this.I=k);};h.prototype.Zt=function(){return 1 < this.I.connections?!0:!1;};Wa.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.q2;}},oo:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.q2;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},XN:{configurable:!0,enumerable:!0,get:function(){return this.xg;}},lH:{configurable:!0,enumerable:!0,get:function(){return this.Ql.lH;}}});this.lJ=Object.assign(h,new m.NAa());}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;r=a(1);f=a(0);l=a(7);m=a(189);d=a(114).EventEmitter;c=r.__decorate([f.R(),r.__param(0,f.l(l.ob))],c);b.MAa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t,w,x,y){this.dL=v;this.ef=t;this.ib=w;this.za=x;this.config=y;this.log=u.hb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(1);f=a(190);l=a(98);m=a(3);d=a(7);g=a(0);h=a(87);k=a(26);n=a(17);p=a(4);a=a(13);c.prototype.fz=function(){return this.za.Wb().da(p.ka);};c.prototype.U2a=function(v,u){v.kOb({mediaRequest:v,timestamp:u});};c.prototype.m3a=function(v){var u;u=v.mediaRequest.Zz;u.readyState=f.oc.Kc.Dx;v=v.connect?v:{timestamp:this.fz(),connect:!1};v.mediaRequest=u;v.readyState=u.readyState;u.Kra(v);};c.prototype.H8=function(v){this.U2a(v.mediaRequest.Zz,v.timestamp);};c.prototype.J8=function(v){var u,t;u=v.mediaRequest.Zz;t=v.bytes;"undefined" === typeof u?!1:(u.readyState === f.oc.Kc.Ex && this.m3a(v),this.ib.wi(t) && (v.mediaRequest=u,v.timestamp=this.fz(),t > u.bytesReceived && (v.newBytes=t - u.bytesReceived,v.bytesLoaded=t,u.nOb(v))));};c.prototype.xn=function(v){var u,t,w,x;u=v.mediaRequest;t=v.errorcode;w=v.httpcode;x=f.oc.u_;if("undefined" === typeof u)!1;else if((u=u.Zz,"undefined" === typeof u))!1;else if(u.readyState !== f.oc.Kc.qJ)if(t === m.L.iB)(u.readyState=f.oc.Kc.MP,v.mediaRequest=u,v.readyState=u.readyState,u.gOb(v));else {u.readyState=f.oc.Kc.qJ;switch(t){case m.L.MQ:w=x.nza;break;case m.L.kca:w=x.hca;break;case m.L.JQ:w=400 < w && 500 > w?x.jca:500 <= w?x.ECa:x.hca;break;case m.L.KQ:w=x.ica;break;case m.L.IQ:w=x.oza;break;case m.L.LQ:w=x.M_;break;case m.L.uE:w=x.M_;break;case m.L.DCa:w=x.CCa;break;case m.L.zCa:w=x.jca;break;case m.L.Sdb:w=x.ica;break;default:w=x.M_;}v.mediaRequest=u;v.readyState=u.readyState;v.errorcode=w;v.nativecode=t;u.Mra(v);}};c.prototype.esa=function(v,u){var t,w;t=u.request.Zz;if(t)if(u.$){if((!1,v.j && t.readyState !== f.oc.Kc.DONE)){switch(t.readyState){case f.oc.Kc.MP:!1;return;case f.oc.Kc.qJ:!1;break;case f.oc.Kc.Dx:break;case f.oc.Kc.Ex:this.m3a({mediaRequest:u.request});break;default:!1;}t.readyState=f.oc.Kc.DONE;if(!t.Vc){w={mediaRequest:t,readyState:t.readyState,timestamp:this.fz(),cadmiumResponse:u};v.j.Iwa+=1;t.qGb();t.HJb() && (v.j.Dua+=1,u.mm.hi=Math.ceil(t.Ula),u.mm.Oo=Math.ceil(t.$F),u.mm.Gq=Math.floor(t.gD));t.w3=w;t.IN(w);}}}else (!1,t.readyState === f.oc.Kc.MP?!1:(v={mediaRequest:u.request,timestamp:this.fz(),errorcode:u.na,httpcode:u.$j},this.xn(v)));};c.prototype.download=function(v,u){var t,w;t=this;u=this.ef.download(v,u);if(v.Zz){w=v.Zz;-1 < [f.oc.Kc.OPENED,f.oc.Kc.qJ].indexOf(w.readyState) && (w.readyState=f.oc.Kc.Ex,this.config().PMb?u.dWb(function(x){t.H8(x);}):this.U2a(w,this.fz()));}u.oha(function(x){t.esa(v,x);});u.jWb(function(x){t.J8(x);});u.VVb(function(x){t.xn(x);});return u;};q=c;q=r.__decorate([g.R(),r.__param(0,g.l(l.OP)),r.__param(1,g.l(d.ob)),r.__param(2,g.l(h.sx)),r.__param(3,g.l(k.Yf)),r.__param(4,g.l(n.cd)),r.__param(5,g.l(a.Rc))],q);b.pFa=q;},function(r,b,a){var f,l,m;function c(d,g){this.ef=g;this.log=d.hb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;r=a(1);f=a(0);l=a(7);a=a(87);c.prototype.YU=function(d,g,h){d={url:d.url,fVb:h};!1;this.ef.cXb(d);};c.prototype.JF=function(d){try{d.woa();}catch(g){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(a.sx))],m);b.jGa=m;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t,w,x,y,z){this.za=u;this.Hr=t;this.config=w;this.ef=y;this.OMb=z;this.log=x.hb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(1);f=a(47);l=a(0);m=a(7);d=a(87);g=a(504);h=a(90);k=a(190);n=a(17);p=a(4);q=a(40);a=a(13);c.prototype.YU=function(u,t,w){var y,z,A;function x(){u.removeEventListener(k.oc.Je.NE,x);u.KU?u.KU++:u.KU=1;u.KU >= y.config().Cla.length && (u.KU=y.config().Cla.length - 1);setTimeout(function(){y.YU(u,t,w);},y.config().Cla[u.KU]);}y=this;u.r9b=!0;z=this.OMb.download({url:u.url,responseType:this.ef.qib.Gbb,withCredentials:!1,tC:u.mediaType === f.Sb.Qa.Lb?"audio":"video",offset:t.start,length:u.Sg,track:{type:u.mediaType === f.Sb.Qa.Lb?h.ri.audio:h.ri.video},stream:{fd:u.Pa,bitrate:u.bitrate},kc:u.Ld,Zz:u,q$:w,Cs:this.Hr.Cs},function(B){B.$ && u.readyState !== k.oc.Kc.DONE && (u.readyState === k.oc.Kc.MP?!1:(u.readyState === k.oc.Kc.qJ?!1:u.readyState === k.oc.Kc.Ex?(u.readyState=k.oc.Kc.Dx,u.Kra({mediaRequest:u,readyState:u.readyState,timestamp:y.fz(),connect:!1})):u.readyState !== k.oc.Kc.Ex && u.readyState !== k.oc.Kc.Dx && !1,u.readyState=k.oc.Kc.DONE,B={mediaRequest:u,readyState:u.readyState,timestamp:y.fz(),cadmiumResponse:B,response:B.content},u.w3=B,u.IN(B)));});if(u.Vc){A={mediaRequest:u,readyState:u.readyState,timestamp:this.fz(),connect:!1};u.Kra(A);}u.addEventListener(k.oc.Je.NE,x);u.woa=z.abort;};c.prototype.JF=function(u){try{u.woa();}catch(t){this.log.warn("exception aborting request");}};c.prototype.fz=function(){return this.za.Wb().da(p.ka);};v=c;v=r.__decorate([l.R(),r.__param(0,l.l(n.cd)),r.__param(1,l.l(q.Em)),r.__param(2,l.l(a.Rc)),r.__param(3,l.l(m.ob)),r.__param(4,l.l(d.sx)),r.__param(5,l.l(g.qFa))],v);b.wFa=v;},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u,t,w){function x(z,A){this.track=z;this.label=A;this.sh=n.oc.Kc.UNSENT;this.bytesReceived=0;this.hs=[];this.requestId=w.Hy().toString();this.ib=v;this.log=q.hb("MediaRequest");this.config=p;this.Ob=new k.wk();"notification" === this.label?this.config().Wy && (this.lH=u):this.lH=t;!1;}function y(z,A){this.requestId=w.Hy().toString();this.ib=v;this.log=q.hb("MediaRequest");this.config=p;this.Ob=new k.wk();this.label=A;"notification" === this.label?this.config().Wy && (this.lH=u):this.lH=t;this.LV=this.qL=this.rL=void 0;this.track=z;this.f3=this.url=this.responseType=void 0;this.sh=n.oc.Kc.UNSENT;this.ij=this.hM=this.ah=this.status=void 0;this.cs=this.bytesReceived=0;this.connect=this.Ula=this.$F=this.gD=this.Hpa=this.pf=this.Tla=this.loadTime=this.MK=void 0;this.hs=[];this.oo=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Ob.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Ob.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Ob.vc.call(this,z,A,B);};x.prototype.kOb=function(z){this.sh === n.oc.Kc.OPENED && (this.LV=!0,this.loadTime=this.pf=z.timestamp,!1,this.sh=n.oc.Kc.Ex,this.emit(n.oc.Je.cGa,z));};x.prototype.Kra=function(z){var A;if(this.sh < n.oc.Kc.Dx){this.hs=[];A=z.timestamp - this.loadTime;!this.Vc && 0 < A && (this.connect=!0,this.hs.push(A));!0 === this.config().aIb?this.Tla=z.timestamp:this.Tla=this.pf=z.timestamp;!1;this.sh=n.oc.Kc.Dx;this.emit(n.oc.Je.bGa,z);}};x.prototype.nOb=function(z){this.sh === n.oc.Kc.Dx && (!1,this.Hpa=this.pf=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.ib.yg(this.Hpa) && this.emit(n.oc.Je.dGa,z));};x.prototype.IN=function(z){-1 < [n.oc.Kc.Ex,n.oc.Kc.Dx].indexOf(this.sh) && (this.LV=!1,!1,this.pf=z.timestamp,this.sh=n.oc.Kc.DONE,z.newBytes=this.Sg - this.bytesReceived,this.bytesReceived=this.Sg,this.ib.yg(this.$F) && (this.pf=this.$F,0 === z.newBytes && (this.Hpa=this.$F)),this.ib.yg(this.gD) && (this.loadTime=this.gD),this.MK=z.response,this.emit(n.oc.Je.hR,z));};x.prototype.gOb=function(z){this.LV=!1;!1;this.emit(n.oc.Je.ahb,z);};x.prototype.Mra=function(z){this.pf=z.timestamp;this.status=z.httpcode;this.ah=z.errorcode;this.hM=n.oc.u_.name[this.ah];this.ij=z.nativecode;!1;this.emit(n.oc.Je.NE,z);this.LV=!1;};x.prototype.open=function(z,A,B,D,E,F,C){this.Pw=!1;this.f3=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.sh=n.oc.Kc.OPENED;this.lH.YU(this,A,C);return !0;};x.prototype.Zc=function(){!1;-1 !== [n.oc.Kc.OPENED,n.oc.Kc.Ex,n.oc.Kc.Dx].indexOf(this.sh) && this.abort();return !0;};x.prototype.uRa=function(){this.MK=void 0;this.w3 && (this.w3.response=void 0,this.w3.cadmiumResponse.content=void 0);this.woa=void 0;};x.prototype.I$=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.sh=n.oc.Kc.MP;this.lH.JF(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.QX=function(){};x.prototype.ci=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.ci(),segmentId:this.ya,isHeader:this.Vc,ptsStart:this.pA,ptsOffset:this.zu,responseType:this.responseType,duration:this.Ty,readystate:this.sh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.qGb=function(){var z,A;if(this.config().kab && d.ev && d.ev.getEntriesByType && (!this.ib.yg(this.gD) || !this.ib.yg(this.$F) && this.ib.yg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.rL + "-" + this.qL + "*");A=new RegExp(z);z=d.ev.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.ib.yg(z) && (0 < z.startTime && (this.gD=z.startTime,0 < z.requestStart && (this.gD=Math.max(this.gD,z.requestStart))),0 < z.responseStart && (this.Ula=z.responseStart),0 < z.responseEnd && (this.$F=z.responseEnd));}};x.prototype.HJb=function(){return this.ib.yg(this.gD) && this.ib.yg(this.$F) && this.ib.yg(this.Ula);};Wa.Object.defineProperties(x.prototype,{Sg:{configurable:!0,enumerable:!0,get:function(){return this.f3.end - this.f3.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.qL - this.rL + 1;}},PYa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Vc:{configurable:!0,enumerable:!0,get:function(){return !this.ZC;}},response:{configurable:!0,enumerable:!0,get:function(){return this.MK;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.sh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.$q=Object.assign(y,n.oc);}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;r=a(1);f=a(0);l=a(7);m=a(13);d=a(11);g=a(26);h=a(505);k=a(72);n=a(190);a=a(81);c=r.__decorate([f.R(),r.__param(0,f.l(m.Rc)),r.__param(1,f.l(l.ob)),r.__param(2,f.l(g.Yf)),r.__param(3,f.l(h.kGa)),r.__param(4,f.l(h.xFa)),r.__param(5,f.l(a.rx))],c);b.uFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.t2a=void 0;r=a(0);c=a(330);f=a(1148);b.t2a=new r.od(function(l){l(c.$ca).to(f.MFa).aa();});},function(r,b,a){var f,l,m,d,g;function c(h){return l.We.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;r=a(1);f=a(45);l=a(46);m=a(0);d=a(36);g=a(4);la(c,l.We);Wa.Object.defineProperties(c.prototype,{k2a:{configurable:!0,enumerable:!0,get:function(){return g.Hc(5E3);}},y3a:{configurable:!0,enumerable:!0,get:function(){return g.Hc(1E3);}},z3a:{configurable:!0,enumerable:!0,get:function(){return g.Hc(1E3);}}});a=c;r.__decorate([f.config(f.Qk,"minDecoderBufferMilliseconds")],a.prototype,"k2a",null);r.__decorate([f.config(f.Qk,"optimalDecoderBufferMilliseconds")],a.prototype,"y3a",null);r.__decorate([f.config(f.Qk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"z3a",null);a=r.__decorate([m.R(),r.__param(0,m.l(d.Ol))],a);b.MFa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.j4a=void 0;r=a(0);c=a(507);f=a(1150);l=a(66);m=a(1152);d=a(510);g=a(1153);h=a(462);k=a(1154);n=a(191);p=a(1155);b.j4a=new r.od(function(q){q(l.Ns).to(m.NGa).aa();q(c.PGa).to(f.OGa).aa();q(h.ZGa).to(k.YGa);q(h.XGa).Ff(function(v){return function(){return v.eb.get(h.ZGa);};});q(d.vHa).to(g.uHa).aa();q(n.n0).to(p.rHa).aa();});},function(r,b,a){var m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A;function c(B){this.config=B;this.Cy=[];}function f(B,D,E){this.za=B;this.pP=D;this.context=E;this.startTime=this.za.Wb();}function l(B,D,E,F,C,G,J,K,H){this.h$a=D;this.json=E;this.za=F;this.Hr=C;this.Fta=G;this.Ic=J;this.config=K;this.Ob=H;this.log=B.hb("Pbo");K.Q5a && (this.Cy=new c(K));this.pP=this.h$a();}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(1);m=a(0);d=a(4);g=a(508);h=a(7);k=a(38);n=a(17);p=a(40);q=a(139);v=a(48);u=a(509);t=a(66);w=a(97);x=a(15);y=a(68);z=a(1151);A={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(B,D){var E;E=new f(this.za,this.pP,B);this.Cy && this.Cy.append(E);return this.gva(B,D,E);};l.prototype.gva=function(B,D,E){var F;F=this;return new Promise(function(C,G){F.retry(B,D).then(function(J){var K,H;F.CVb(J);K=aa(F.x0b(J));H=K.next().value;K=K.next().value;H && (F.Wtb(E),C(J));K && (F.IRa(E,K),G(K));}).catch(function(J){var K;K=F.IRa(E,J);J.Bb && (J.Bb=[J.Bb," ",K].join(""));G(J);});});};l.prototype.CVb=function(B){(B=B.serverTime) && this.Ob.vc(x.tca.p7a,d.Hc(B));};l.prototype.x0b=function(B){var D;!1;D=B.result;if(("deviceCommand" in B)){B=B.deviceCommand;this.log.trace("Received device command '" + B + "'");switch(B){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + B + "'"));}return [,{AD:!0,code:D,detail:{message:"Server sent device action to '" + B + "' device"}}];}if(D)return (!1,[D,void 0]);if(B.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",B),[,{code:B.code,detail:{message:B.message}}]);this.log.error("Response did not contain a result or an error",B);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.Lqb=function(B,D,E){var F;F=this;this.K_b(D,B);this.pP=this.h$a(E);return this.pP.send(D,E).then(function(C){return {retry:!1,result:z.l0.oQb(F.json,C.body)};}).catch(function(C){var G,J;G=z.l0.WEb(C);J=void 0 !== G?Math.min(G,D.Gua):D.Gua;return F.n$(D,C,B,J)?(G=F.ysb(C,B,J),F.log.warn("Method failed, retrying",Object.assign({Method:D.tl,Attempt:B + 1,WaitTime:G,MaxRetries:J},F.tka(C))),Promise.resolve({retry:!0,delay:G,error:C})):Promise.resolve({retry:!1,error:C});});};l.prototype.XCb=function(B){var D,E;if(!this.iha || this.iha.SPb !== B){D="";E=B;Object.entries(A).find(function(F){var C;C=aa(F);F=C.next().value;C=C.next().value;if(0 === B.indexOf(F))return (D=C,B=B.slice(F.length),!0);});this.iha={DRa:D,PA:B,SPb:E};}return this.iha;};l.prototype.K_b=function(B,D){var E,F,C,G;G=B.url.searchParams;G.set(y.tB.tib,(D + 1).toString());G.set(y.tB.uib,B.rua);B=this.XCb(null !== (E=this.config.PA) && void 0 !== E?E:"");B.DRa && (G.set(y.tB.Scb,B.DRa),B.PA && G.set(y.tB.hjb,encodeURIComponent(B.PA)),E=this.Hr.fe,(null === E || void 0 === E?0:E.name) && G.set(y.tB.ncb,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && G.set(y.tB.scb,encodeURIComponent(E.version)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.name) && G.set(y.tB.bhb,encodeURIComponent(E.os.name)),(null === (C=null === E || void 0 === E?void 0:E.os) || void 0 === C?0:C.version) && G.set(y.tB.chb,encodeURIComponent(E.os.version)));};l.prototype.retry=function(B,D,E){var F;F=this;E=void 0 === E?0:E;return this.Lqb(E++,B,D).then(function(C){if(C.retry)return F.wait(C.delay).then(function(){return F.retry(B,D,E);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};l.prototype.n$=function(B,D,E,F){var C;C=this.Hr.L6a || z.l0.IJb(D);if(C && E < F)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:B.tl,Attempt:E + 1,MaxRetries:F},this.tka(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:B.tl},this.tka(D)));return !1;};l.prototype.ysb=function(B,D,E){return B && B.LD && void 0 !== B.LD.retryAfterSeconds?d.jh(B.LD.retryAfterSeconds):d.Hc(this.Fta.t5a(1E3 * (0 === D?1:D),1E3 * Math.pow(2,Math.min(D,E))));};l.prototype.wait=function(B){var D;D=this;return new Promise(function(E){D.Ic.nk(B || d.bb,E);});};l.prototype.tka=function(B){return u.x_a(B)?B:{message:B.message,subCode:B.xc,extCode:B.Kd,mslCode:B.aA,data:B.data};};l.prototype.Wtb=function(B){B.fP();};l.prototype.IRa=function(B,D){var E;B.Et(D);if(this.Cy)try{E=this.json.stringify(this.Cy);this.log.error("PBO command history",E);return E;}catch(F){}return "";};a=l;a=r.__decorate([m.R(),r.__param(0,m.l(h.ob)),r.__param(1,m.l(g.OKa)),r.__param(2,m.l(k.xE)),r.__param(3,m.l(n.cd)),r.__param(4,m.l(p.Em)),r.__param(5,m.l(q.x0)),r.__param(6,m.l(v.Gj)),r.__param(7,m.l(t.Ns)),r.__param(8,m.l(w.$ba))],a);b.OGa=a;f.prototype.fP=function(){this.$=!0;this.elapsedTime=this.za.Wb().Ca(this.startTime);};f.prototype.Et=function(B){this.$=!1;this.elapsedTime=this.za.Wb().Ca(this.startTime);this.cYb=B.xc || B.subCode;this.iBb=B.Kd || B.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var B;B=Object.assign({success:this.$,method:this.context.tl,startTime:this.startTime.da(d.ka),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.ka):"in progress"},this.pP.Mja());return this.$?B:Object.assign(Object.assign(Object.assign({},B),this.pP.Mja()),{subcode:this.cYb,extcode:this.iBb});};c.prototype.append=function(B){this.Cy.push(B);0 < this.config.soa && this.Cy.length > this.config.soa && this.Cy.shift();};c.prototype.toJSON=function(){return this.Cy;};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.l0=void 0;f=a(3);c.IJb=function(l){var m,d;m=l && l.code;d=l && (l.na || l.xc);l=l.Kd !== f.O_.EGa;d=! !d && d >= f.L.MQ && d <= f.L.KQ && l;return !("RETRY" !== m && "FAIL" !== m) || d;};c.WEb=function(l){var m,d;d=null === (m=null === l || void 0 === l?void 0:l.LD) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === l || void 0 === l?void 0:l.code)?1:void 0;};c.oQb=function(l,m){var d;if(m){try{d=l.parse(m);}catch(g){throw {AD:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (l=d.result.find(function(g){return g.error;})))throw l.error;return d;}throw {AD:!0,code:"FAIL",message:"There is no result property on the response"};}throw {AD:!0,code:"FAIL",message:"There is no body property on the response"};};b.l0=c;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p){k=l.We.call(this,k,"PboConfigImpl") || this;k.config=n;k.hqb=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);d=a(45);g=a(13);a=a(121);la(c,l.We);Wa.Object.defineProperties(c.prototype,{PA:{configurable:!0,enumerable:!0,get:function(){return this.config().Fr.PA || "";}},daa:{configurable:!0,enumerable:!0,get:function(){return this.config().Fr.daa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Fr.ita;}},jpa:{configurable:!0,enumerable:!0,get:function(){return !1;}},GMb:{configurable:!0,enumerable:!0,get:function(){return !0;}},IMb:{configurable:!0,enumerable:!0,get:function(){return !0;}},q7a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.hqb.tQa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.r7a);}},r7a:{configurable:!0,enumerable:!0,get:function(){return {};}},Q5a:{configurable:!0,enumerable:!0,get:function(){return !1;}},soa:{configurable:!0,enumerable:!0,get:function(){return 10;}},ePa:{configurable:!0,enumerable:!0,get:function(){return !1;}},u3:{configurable:!0,enumerable:!0,get:function(){return !1;}},uUa:{configurable:!0,enumerable:!0,get:function(){return !1;}},a0b:{configurable:!0,enumerable:!0,get:function(){return !1;}},mab:{configurable:!0,enumerable:!0,get:function(){return !1;}},tUa:{configurable:!0,enumerable:!0,get:function(){return !0;}},BUa:{configurable:!0,enumerable:!0,get:function(){return !0;}},gla:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"PA",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"daa",null);r.__decorate([d.config(d.QA,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.C$,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.Yc,"hasLimitedPlaybackFunctionality")],h.prototype,"jpa",null);r.__decorate([d.config(d.Yc,"mdxBindUsingNodeQuark")],h.prototype,"GMb",null);r.__decorate([d.config(d.Yc,"mdxPairUsingNodeQuark")],h.prototype,"IMb",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"q7a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"r7a",null);r.__decorate([d.config(d.Yc,"pboRecordHistory")],h.prototype,"Q5a",null);r.__decorate([d.config(d.QA,"pboHistorySize")],h.prototype,"soa",null);r.__decorate([d.config(d.Yc,"pboAddXEsnHeader")],h.prototype,"ePa",null);r.__decorate([d.config(d.Yc,"combineManifestAndLicense")],h.prototype,"u3",null);r.__decorate([d.config(d.Yc,"enableLicensedManifestForPrefetch")],h.prototype,"uUa",null);r.__decorate([d.config(d.Yc,"useLdlForPrefetchLicensedManifest")],h.prototype,"a0b",null);r.__decorate([d.config(d.Yc,"pboUseStudioManifest")],h.prototype,"mab",null);r.__decorate([d.config(d.Yc,"pboEnableLeanManifest")],h.prototype,"tUa",null);r.__decorate([d.config(d.Yc,"pboEnableV2OptimizedManifest")],h.prototype,"BUa",null);r.__decorate([d.config(d.Yc,"pboEnableManifestPartialHydrationSupport")],h.prototype,"gla",null);h=r.__decorate([f.R(),r.__param(0,f.l(m.Ol)),r.__param(1,f.l(g.Rc)),r.__param(2,f.l(a.bJ))],h);b.NGa=h;},function(r,b,a){var l,m;function c(d,g,h,k,n,p,q){this.version=d;this.url=g;this.id=h;this.languages=k;this.Nb=n;this.Mzb=p;this.JNb=q;}function f(d){this.Ch=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;r=a(1);l=a(0);a=a(66);f.prototype.create=function(d,g,h,k,n){return new c(this.Ch.version,g,d,this.Ch.languages,h,k,n);};m=f;m=r.__decorate([l.R(),r.__param(0,l.l(a.Ns))],m);b.uHa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Nb,echo:this.Mzb};};},function(r,b,a){var f,l,m;function c(d,g){this.oG=g;this.log=d.hb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;r=a(1);f=a(0);l=a(7);a=a(91);c.prototype.TOa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.jV=function(d){!1;return this.links[d];};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(a.jx))],m);b.YGa=m;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(1);a=a(0);c.prototype.cWb=function(f){this.listener=f;};c.prototype.fO=function(f){var l;null === (l=this.listener) || void 0 === l?void 0:l.call(this,f);};a=r.__decorate([a.R()],c);b.rHa=a;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(460);f=a(511);l=a(1157);m=a(513);d=a(1158);g=a(344);h=a(341);k=a(1159);n=a(1170);p=a(13);q=a(17);v=a(96);u=a(26);t=a(7);w=a(1171);x=a(257);y=a(1172);z=a(4);A=a(1173);B=a(1174);D=a(533);E=a(1175);F=a(97);C=a(514);G=a(1176);J=a(112);K=a(29);H=a(154);L=a(91);R=a(280);I=a(536);P=a(1177);N=a(70);M=a(40);Q=a(515);T=a(1178);da=a(291);pa=a(25);b.j=new r.od(function(wa){wa(I.Mda).to(P.SHa).aa();wa(da.fba).Ff(function(ua){var X;X=ua.eb;return function(sa,O){return new (a(1179).iya)(sa,O,X.get(v.Wu));};});wa(c.RKa).Ff(function(ua){var X;X=ua.eb;return function(sa,O,S,ka,ia,Pa,Ea,Va,Ya){return new (a(1182).SKa)(X.get(A.XKa),sa,O,S,ka,ia,Pa,Ea,Va,Ya);};});wa(A.XKa).to(B.WKa).aa();wa(f.VKa).to(l.UKa).aa();wa(h.NHa).to(k.MHa).aa();wa(Q.eJa).to(T.dJa);wa(Q.cJa).S9a(Q.eJa);wa(g.GAa).Ff(function(ua){var X;X=ua.eb;return function(sa){return new (a(1183).HAa)(X.get(F.FAa),X.get(v.Wu),X.get(q.cd),sa);};});wa(m.Jya).Ff(function(){return function(ua){return new d.Kya(ua);};});wa(w.HHa).Ff(function(ua){var X;X=ua.eb;return function(sa){return new n.IHa(sa,X.get(t.ob),X.get(p.Rc),X.get(u.Yf),X.get(v.Wu));};});wa(x.Oda).Ff(function(ua){var X;X=ua.eb;return function(sa,O,S,ka,ia,Pa,Ea,Va,Ya){return new y.UHa(sa,O,S,ka,ia,Pa,Ea,Va,Ya,X.get(w.HHa),X.get(I.Mda));};});wa(D.xJa).Ff(function(ua){return function(X){var sa,O;sa=ua.eb.get(p.Rc);O=ua.eb.get(t.ob);return new E.yJa(sa,X,O);};});wa(C.PHa).Ff(function(ua){return function(X){var sa,O,S,ka,ia;sa=ua.eb.get(L.jx);O=ua.eb.get(J.PJ);S=ua.eb.get(K.Zf);ka=ua.eb.get(H.zR);ia=ua.eb.get(pa.ix);return new G.QHa(X,sa,O(z.jh(1)),S,ka,ia);};});wa(R.Yca).$D(function(ua){return new (a(1184).IFa)(ua.eb.get(N.cR),ua.eb.get(M.Em));}).aa();});},function(r,b,a){var f,l,m,d,g,h;function c(k,n){this.cg=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(1);f=a(15);l=a(512);m=a(17);d=a(0);g=a(4);a=a(13);c.prototype.$L=function(k){var n;k.gZ={};if(!k.bD() && k.OA && 0 < k.OA.length && (k.NA=this.gXa(k),k.NA)){n=this.DWb(k);n() || (k.zb.addListener(n),k.Se.addListener(n));}};c.prototype.DWb=function(k){var p;function n(){var q,v;if(!k.Se.value || k.zb.value === f.cb.Jf)return !1;q=k.NA;v=q.getState();return v === l.np.LOADING?!1:v !== l.np.yE && q.retry?(q=p.tGb(k))?(k.gZ.offset=p.cg.Wb().da(g.ka),k.NA=q,q.download(),!0):!1:(k.zb.removeListener(n),k.Se.removeListener(n),!1);}p=this;return n;};c.prototype.tGb=function(k){var n,p;n=this.config();p=k.Fl.LM() < n.LZb;n=(k.Se.value?k.Se.value.bitrate:0) > n.KZb;return this.RFb(k,p && n);};c.prototype.RFb=function(k,n){if(n && (n=this.gXa(k),this.fYa(k,n.size)))return (k.gZ.v6a="h",n);n=this.UEb(k);if(this.fYa(k,n.size))return (k.gZ.v6a="l",n);};c.prototype.fYa=function(k,n){var p,q;p=this.config();q=Math.min(k.jT(),k.sZ());return k.prb.nsb(n) * (1 + .01 * p.Mpb[2]) < q * p.OZb;};c.prototype.gXa=function(k){return k.OA[k.OA.length - 1];};c.prototype.UEb=function(k){return k.OA[0];};h=c;h=r.__decorate([d.R(),r.__param(0,d.l(m.cd)),r.__param(1,d.l(a.Rc))],h);b.UKa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;a.prototype.Q$a=function(){var c;c=this.j.Na;if(null !== c && void 0 !== c && c.HB){c=c.Pb.get();if(null === c || void 0 === c?0:c.pj)this.j.pj=c.pj.Fa;if(null === c || void 0 === c?0:c.Sa)this.j.Sa=c.Sa.Fa;}};a.prototype.Nt=function(){-1 === this.j.Sa && this.Q$a();return this.j.Sa;};a.prototype.nsb=function(c){-1 !== this.j.pj && -1 !== this.j.Sa || this.Q$a();return -1 === this.j.pj || -1 === this.j.Sa?Number.MAX_VALUE:this.j.pj + 8 * c / this.j.Sa;};b.Kya=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H;function c(L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa,O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb){this.rz=L;this.hL=R;this.za=I;this.xa=P;this.rrb=N;this.ywa=M;this.mW=Q;this.Bqa=T;this.pN=da;this.Dd=pa;this.Hi=wa;this.Uk=ua;this.kL=X;this.sX=sa;this.dk=O;this.Pwa=S;this.Rf=ka;this.rm=ia;this.Ie=Pa;this.Psa=Ea;this.iUb=Va;this.Tha=Ya;this.pH=bb;this.n3=Xa;this.dL=mb;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;r=a(1);f=a(81);l=a(0);m=a(112);d=a(33);g=a(17);h=a(37);k=a(513);n=a(258);p=a(461);q=a(482);v=a(119);u=a(140);t=a(160);w=a(98);x=a(451);y=a(257);z=a(1160);A=a(511);B=a(49);D=a(29);E=a(514);F=a(70);C=a(515);G=a(291);J=a(280);K=a(104);c.prototype.create=function(L,R,I,P,N,M,Q,T){return new (a(516).OHa)(L,R,M,Q,P,N,this.rz,I,this.za,this.hL,this.xa,this.mW,this.rrb,this.ywa,this.Bqa,this.pN,this.Dd,this.Hi,this.Uk,this.kL,this.sX,this.dk,this.Pwa,this.Rf,this.Ie,this.Psa,this.rm,this.iUb(),this.Tha,this.pH,void 0,this.n3,T);};H=c;H=r.__decorate([l.R(),r.__param(0,l.l(f.rx)),r.__param(1,l.l(d.oh)),r.__param(2,l.l(g.cd)),r.__param(3,l.l(h.Lh)),r.__param(4,l.l(k.Jya)),r.__param(5,l.l(m.PJ)),r.__param(6,l.l(n.Sca)),r.__param(7,l.l(p.aFa)),r.__param(8,l.l(q.WQ)),r.__param(9,l.l(v.bF)),r.__param(10,l.l(u.rR)),r.__param(11,l.l(t.KJ)),r.__param(12,l.l(x.Sya)),r.__param(13,l.l(y.Oda)),r.__param(14,l.l(K.mB)),r.__param(15,l.l(A.VKa)),r.__param(16,l.l(B.Fm)),r.__param(17,l.l(F.cR)),r.__param(18,l.l(D.Zf)),r.__param(19,l.l(E.PHa)),r.__param(20,l.l(C.cJa)),r.__param(21,l.l(G.fba)),r.__param(22,l.l(J.Yca)),r.__param(23,l.l(z.Cza)),r.__param(23,l.optional()),r.__param(24,l.l(w.OP)),r.__param(24,l.optional())],H);b.MHa=H;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cza=b.Dza=void 0;r=b.Dza || (b.Dza={});r[r.ihb=0]="PAUSE";r[r.rib=1]="RESUME";r[r.e2b=2]="CAPTIONS_ON";r[r.d2b=3]="CAPTIONS_OFF";r[r.f2b=4]="CAPTION_LANGUAGE_CHANGED";r[r.v1b=5]="AUDIO_LANGUAGE_CHANGED";r[r.E4b=6]="NEXT_EP";r[r.v5b=7]="PREV_EP";r[r.uB=8]="SEEK";r[r.qJa=9]="STOP";b.Cza="CastInteractionTrackerSymbol";},function(r,b,a){var d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H;function c(){this.U$=[];this.tZb=50;}function f(L){var R;R=this;this.j=L;this.Jab=Promise.resolve();this.pBa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.WB=[];this.Ts=new n.wk();this.fMa=this.Sea=0;this.h1=[];this.xg=v.zh(this.j,"MediaElementASE");this.aOa=z.jl;this.ofa=!1;this.$b=new c();this.ho={};this.IMa={};this.k5=this.XR(function(){var I;if(R.X)return null !== (I=R.X.webkitDecodedFrameCount) && void 0 !== I?I:0;});this.FC=this.XR(function(){var I;if(R.X){I=R.z1();return I?I.totalVideoFrames:R.X.webkitDecodedFrameCount;}});this.DG=this.XR(function(){var I;if(R.X){I=R.z1();return I?I.droppedVideoFrames:R.X.webkitDroppedFrameCount;}});this.dV=this.XR(function(){var I;if(R.X){I=R.z1();return I && I.corruptedVideoFrames;}});this.p5=this.XR(function(){var I;if(R.X){I=R.z1();return I && B.Oi(I.totalFrameDelay * z.il);}});this.cNa=function(I){return R.Ts.vc(F.Dj.r0a,{Z:I});};this.Bl=v.ja.get(E.cEa).create(k.config.Zo,this,this.j);k.config.fD && (this.Jab=new Promise(function(I){R.aOa=I;R.j.addEventListener(J.ba.fg,I);}));this.xg.trace("Created Media Element");this.addEventListener=this.Ts.addListener;this.removeEventListener=this.Ts.removeListener;}function l(L){var R,I;R=v.ja.get(C.zLa).MFb();L=L.width / L.height * R.height;I=(R.width - L) / 2;return k.config.xWb?z.createElement("VIDEO","position:absolute;width:" + L + "px;height:" + R.height + "px;left:" + I + "px;top:0px"):z.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(L){L.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;d=a(47);g=a(297);h=a(12);k=a(14);n=a(72);p=a(60);q=a(50);v=a(8);u=a(3);t=a(22);w=a(92);x=a(325);y=a(24);z=a(30);A=a(298);B=a(11);D=a(19);E=a(522);F=a(299);C=a(499);G=a(4);J=a(15);K=a(62);H=! !(B.LE && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);f.prototype.eV=function(L){try{this.X && (this.fMa=this.X.currentTime);}catch(R){this.xg.error("Exception while getting VIDEO.currentTime",R);L && this.TR(u.M.Nhb,R);}return B.Oi(this.fMa * z.il);};f.prototype.seek=function(L){var R;t.rb(!this.yp);this.UNa();R=this.eV(!0);if(!k.config.bqb && B.DE(R - L) <= this.Xua)(this.xg.trace("Seek delta too small",{currentTime:R,seekTime:L,min:this.Xua}),this.$b.trace("smallseek",L));else {this.$b.trace("seek",L);try{this.xg.trace("Setting video elements currentTime",{From:w.Qi(R),To:w.Qi(L)});this.yp={};this.X.currentTime=L / z.il;this.Ts.vc(F.Dj.Rp);}catch(I){this.xg.error("Exception while setting VIDEO.currentTime",I);this.TR(u.M.Ohb,I);}}};f.prototype.gYa=function(){return ! !this.yp;};f.prototype.addSourceBuffer=function(L){var R,I;R=z.Ee(this.Sea.toString() + this.WB.length.toString());R={zY:this.Sea,b3:R};try{I=new g.Vca(this.j,L,this.Kf,R,this.xg);this.WB.push(I);L == h.DJ && I.Vla && I.Vla.addListener(this.aOa);return I;}catch(P){I=z.Jd(P);this.xg.error("Unable to add source buffer.",{error:I});this.j.Vd(u.M.oda,{na:L === d.Sb.gl.Lb?z.L.Pca:z.L.Qca,Bb:I});}};f.prototype.A2=function(L){var R;R=this;L.forEach(function(I){return R.addSourceBuffer(I);});this.Ts.vc(F.Dj.x8a);return !0;};f.prototype.removeSourceBuffer=function(L){this.WB=this.WB.filter(function(R){return !q.PRa(L,R);});this.Kf.removeSourceBuffer(L);};f.prototype.endOfStream=function(){this.$b.trace("endofstream");!1;k.config.Uia && this.Kf.endOfStream();};f.prototype.Tp=function(L){!1;this.WB=[];L && L.E$b();return !0;};f.prototype.JVb=function(L){this.Sea=L;};f.prototype.BXa=function(){if(this.Kf)return G.Q4a(this.Kf.duration);};f.prototype.Ryb=function(){var L;if(!this.ofa && this.X && this.X.readyState >= K.Pn.L_.HAVE_CURRENT_DATA){L=this.X.webkitDecodedFrameCount;if(void 0 === L || 0 < L || k.config.Z0b)this.ofa=!0;}return this.ofa;};f.prototype.open=function(){var L,R,I;L=this;this.X=l(this.j.UA);this.sourceBuffers=this.WB;this.j.addEventListener(J.ba.h8a,function(P){return L.bnb(P);});if(H){this.j.cD && !k.config.bab && this.Bl.I8();try{this.Kf=new B.LE();}catch(P){this.TR(u.M.Ehb,P);return;}try{this.pl=URL.createObjectURL(this.Kf);}catch(P){this.TR(u.M.Fhb,P);return;}try{this.Bl.qpb(this.cNa);this.Kf.addEventListener("sourceopen",function(P){return L.CNa(P);});this.Kf.addEventListener(this.pBa + "sourceopen",function(P){return L.CNa(P);});this.X.addEventListener("error",this.ho.error=function(P){return L.xS(P);});this.X.addEventListener("seeking",this.ho.seeking=function(){return L.anb();});this.X.addEventListener("seeked",this.ho.seeked=function(){return L.$mb();});this.X.addEventListener("timeupdate",this.ho.timeupdate=function(){return L.cnb();});this.X.addEventListener("loadstart",this.ho.loadstart=function(){return L.rga();});this.X.addEventListener("volumechange",this.ho.volumechange=function(P){return L.dnb(P);});this.X.addEventListener(this.Bl.uD,this.ho[this.Bl.uD]=function(){L.xg.trace(L.Bl.uD);L.Ymb();});R=this.j.Cg;I=R.lastChild;I?R.insertBefore(this.X,I):R.appendChild(this.X);k.config.ETa && this.X.addEventListener("contextmenu",m);this.X.src=this.pl;p.df.addListener(p.PM,this.IMa[p.PM]=function(){return L.BNa();});this.BNa();}catch(P){this.TR(u.M.Ghb,P);}}else this.d1(u.M.yGa);};f.prototype.close=function(){var R;function L(){R.pl && (R.UNa(),p.df.removeListener(p.PM,R.IMa[p.PM]),R.nkb());}R=this;this.$b.trace("close");this.X.removeEventListener(this.Bl.uD,this.ho[this.Bl.uD]);this.X.removeEventListener("error",this.ho.error);this.X.removeEventListener("seeking",this.ho.seeking);this.X.removeEventListener("seeked",this.ho.seeked);this.X.removeEventListener("timeupdate",this.ho.timeupdate);this.X.removeEventListener("loadstart",this.ho.loadstart);this.X.removeEventListener("volumechange",this.ho.volumechange);this.Bl.QTb(this.cNa);k.config.Zo?this.Bl.uA().then(function(){return L();}):L();this.Bl.h6a && clearTimeout(this.Bl.h6a);};f.prototype.KC=function(){return this.$b.KC();};f.prototype.Ymb=function(){k.config.bab && this.Bl.I8();};f.prototype.z1=function(){if(this.X)return this.X.getVideoPlaybackQuality && this.X.getVideoPlaybackQuality() || this.X.videoPlaybackQuality || this.X.playbackQuality;};f.prototype.lob=function(){var L;L=this.j.bi;return (L=L && L.errorCode) && 0 <= [u.M.j0,u.M.P_].indexOf(L);};f.prototype.nkb=function(){var L;L=!1;k.config.cSb && this.lob() && (L=!0);k.config.Ptb && !L && (this.X.removeAttribute("src"),this.X.load && this.X.load());URL.revokeObjectURL(this.pl);k.config.ETa && this.X.removeEventListener("contextmenu",m);!L && this.X && this.j.Cg.removeChild(this.X);this.X=this.Kf=void 0;this.pl="";};f.prototype.BNa=function(){!0 === B.Ue.hidden?this.h1.forEach(function(L){L.refresh();L.wXb();}):this.h1.forEach(function(L){L.refresh();L.JXb();});};f.prototype.XR=function(L){var R;R=v.ja.get(x.hGa)(L);this.h1.push(R);return function(){R.refresh();return R.MDb();};};f.prototype.TR=function(L,R){var I,P;I={na:z.L.Aj,Bb:z.Jd(R)};try{(P=R.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == P.length && (I.mf=P);}catch(N){}this.j.Vd(L,I);};f.prototype.UNa=function(){this.h1.forEach(function(L){L.refresh();});};f.prototype.hlb=function(){return this.X && this.X.msGraphicsTrustStatus;};f.prototype.d1=function(L,R){this.j.Vd(L,R,void 0);};f.prototype.bnb=function(L){var R,P,N,M,Q,T,da;if(this.X){L=L.uZ;R=this.hlb();R && (L.ConstrictionActive=R.constrictionActive,L.Status=R.status);try{L.readyState="" + this.X.readyState;L.currentTime="" + this.X.currentTime;L.pbRate="" + this.X.playbackRate;}catch(pa){}R=this.WB.length;for(var I;R--;){I=this.WB[R];P="";I.type == h.U_?P="audio":I.type == h.DJ && (P="video");z.Xb(L,I.c5(),{prefix:P});k.config.lAb && this.j.bi && h.DJ == I.type && (P=z.QO(I.i5()),3E3 > (P.data && P.data.length) && (P.data=y.pSa(P.data).join(),z.Xb(L,P,{prefix:I.type})));}this.Kf && (R=this.Kf.duration) && !isNaN(R) && (L.duration=R.toFixed(4));if(k.config.vLb)try{N=this.j.lf;M=N && N.Gb;if(M){Q=M.expiration;isNaN(Q) || (L.exp=Q);T=M.keyStatuses.entries();if(T.next){da=T.next().value;da && (L.keyStatus=da[1]);}}}catch(pa){}}};f.prototype.CNa=function(L){!1;this.nob || (this.nob=!0,this.Ts.vc(F.Dj.y8a,L));};f.prototype.anb=function(){this.$b.trace("seeking");this.xg.trace("Video element event: seeking");this.yp?this.yp.GOb=!0:(this.xg.error("unexpected seeking event"),k.config.wBb && this.d1(u.M.Thb,{Bb:{Trace:this.KC()}}));};f.prototype.$mb=function(){this.$b.trace("seeked");this.xg.trace("Video element event: seeked");this.yp?(t.rb(this.yp.GOb),this.yp.FOb=!0,this.vOa()):(this.xg.error("unexpected seeked event"),k.config.vBb && this.d1(u.M.Shb,{Bb:{Trace:this.KC()}}));};f.prototype.cnb=function(){var L;this.$b.trace("timeupdate",null === (L=this.X) || void 0 === L?void 0:L.currentTime);!1;this.yp && (this.yp.IOb=!0,this.vOa());this.Ts.vc(F.Dj.Rp);};f.prototype.rga=function(){this.xg.trace("Video element event: loadstart");};f.prototype.dnb=function(L){this.xg.trace("Video element event:",L.type);try{this.j.volume.set(this.X.volume);this.j.muted.set(this.X.muted);}catch(R){this.xg.error("error updating volume",R);}};f.prototype.xS=function(L){var R,I,P,N,M,Q,T,da,pa,wa;R=this.d1;I=u.M.xGa;P=u.HBa;N=this.KC();M=L.target;Q=M && M.error;T=L.errorCode;M=Q && Q.code;z.Pc(M) || (M=T && T.code);T=Q && Q.message;da=Q && Q.msExtendedCode;z.Pc(da) || (da=Q && Q.systemCode);z.Pc(da) || (da=L.systemCode);if(!z.Pc(da))try{for(L=/\(([^)]+)\)/g;pa=L.exec(T);){wa=Number(pa[1]);D.Ba(wa) && (da=wa);}}catch(ua){}N=z.Xb({},{code:M,systemCode:da,trace:JSON.stringify(N)},{dA:!0});P={na:P(M),Bb:A.vqa(N)};try{T && (P.uW=T);}catch(ua){}da=z.Ee(da);D.Ba(da) && (P.mf=v.sia(da,4));R.call(this,I,P);};f.prototype.vOa=function(){this.yp && this.yp.FOb && this.yp.IOb && (this.$b.trace("seekcomplete"),this.yp=void 0,this.Ts.vc(F.Dj.iY));};Wa.Object.defineProperties(f.prototype,{Xua:{configurable:!0,enumerable:!0,get:function(){return k.config.oXb;}}});b.oFa=f;c.prototype.trace=function(L,R){this.U$.push([L,R]);this.U$.length > this.tZb && this.U$.shift();};c.prototype.KC=function(){return this.U$;};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u){var t;t=this;this.j=u;this.qwa=this.y2a=0;this.fg=this.yq=!1;this.O9=0;this.Jn=function(){var w,x;t.L9();t.kG && (t.log.info("Deactivating",t.kG),t.IA.Kxb(t.Me()));t.j.Uh.set(null);t.GI.H7a(void 0);t.ARa();w=t.j.ic.value;w && w.Qr() && !w.oq() && (w=null);if(w && t.j.zb.value !== q.cb.Jf){x=t.Me();t.IA.apb(x,w);}w?(t.log.info("Activating",w),t.j.ym.set(w.getState() === f.XE.vB.yE?q.tf.oe:q.tf.ud),t.yq || t.j.Bd("tt_start"),w.s6().then(t.ZK).catch(t.ZK)):t.j.ym.set(q.tf.oe);t.kG=w;t.TI();};this.sync=function(){t.yq && (t.GI.start(),t.j.zb.value !== q.cb.Ec && t.GI.stop());};this.TI=function(){var w;t.j.state.value === q.Qb.oe && t.j.zb.value !== q.cb.Jf && (t.kh?w=t.GI.ZCb():t.j.ic.value && (w=c.FXb[t.j.ic.value.getState()]));w && p.Pc(w.startTime) && t.j.Pu.value !== w && (t.y2a++,t.qwa+=t.GI.CXa() - w.startTime,t.oQa=Math.ceil(t.qwa / (t.y2a + 0)));t.j.Pu.set(w);};this.Me=function(){var w;w=t.j.lna();t.kG && t.kG.St && (w+=t.kG.St);return w;};this.APb=function(w){t.fireEvent(c.bXb,w);w && w.id && (t.IA.U$a(w.id),!1);t.log.trace("showsubtitle",t.oYa(w));};this.vPb=function(w){t.fireEvent(c.YTb,w);t.log.trace("removesubtitle",t.oYa(w));};this.gk=function(){t.log.warn("imagesubs buffer underflow",t.j.ic.value.kg);t.j.ym.set(q.tf.ud);};this.UOb=function(){t.log.info("imagesubs buffering complete",t.j.ic.value.kg);t.j.ym.set(q.tf.oe);};this.D8=function(){t.yq && t.kh && t.kh.Bs(t.Me());};this.r3a=function(w){t.yq && t.kh && (t.kh.pause(),t.kh.DA(w.Vj));};this.xD=function(){t.yq && t.kh && t.kh.zta();};this.o3a=function(w){t.kh && t.kh.Yk(w.Yh,w.MW);};this.v3a=function(w){t.kh && t.kh.ki(w.ya,w.N_b);};this.nPb=function(){t.yq=!0;n.Nf(function(){var w,x;(null === (w=t.kG) || void 0 === w?0:w.pn)?null === (x=t.kh) || void 0 === x?void 0:x.Bs(t.Me()):t.sync();t.TI();});};this.kPb=function(){t.ARa();t.GI.stop();t.TI();t.fg=!0;t.L9();};this.msa=function(w){(w=w.newValue) && p.isArray(w.blocks) && (t.IA.U$a.apply(t.IA,ca(w.blocks.map(function(x){return x.id;}))),!1);};this.rPb=function(w){t.H_b(w.newValue,w.oldValue);t.sync();t.TI();};this.ZK=function(w){var x;if(!t.fg){x=w.track;if(x === t.j.ic.value)try{t.kh=x.nwa;x.pn?t.Zob(w):t.$ob(w);}catch(y){t.log.error("Error activating track:",y,x);return;}t.yq || t.j.Bd(w.$?"tt_comp":"tt_err");w.$?(d.config.U6a?setTimeout(function(){t.j.ym.set(q.tf.oe);},d.config.U6a):t.j.ym.set(q.tf.oe),x.pn || t.TI()):w.aborted?t.log.warn("aborted timed text track loading"):d.config.uBb?t.j.Vd(k.M.Dfb,{Bb:w.track?w.track.kg:{}}):(t.log.error("ignore subtitle initialization error",w),t.j.ym.set(q.tf.oe));}};this.Ob=new m.wk();this.IA=new h.kKa(g.zh(u,"SubtitleTracker"),d.config.yAb);this.log=g.zh(u,"TimedTextManager");this.GI=new l.GKa(this.Me,this.TI);this.j.ic.addListener(this.Jn);d.config.yRb?(this.j.addEventListener(q.ba.yq,this.nPb),this.Jn()):(this.j.ym.set(q.tf.oe),this.j.addEventListener(q.ba.yq,function(){t.yq=!0;t.Jn();}));this.j.zb.addListener(this.rPb);this.j.addEventListener(q.ba.zwa,this.sync);this.j.Pu.addListener(this.msa);this.j.addEventListener(q.ba.fg,this.kPb);}Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;f=a(276);l=a(523);m=a(72);d=a(14);g=a(8);h=a(1163);k=a(3);n=a(61);p=a(19);q=a(15);v=a(1164);c.prototype.addEventListener=function(u,t,w){this.Ob.addListener(u,t,w);};c.prototype.removeEventListener=function(u,t){this.Ob.removeListener(u,t);};c.prototype.fireEvent=function(u,t,w){this.Ob.vc(u,t,w);};c.prototype.qha=function(u,t,w){var x,y;x=this;y=v.CKa.Bwb(this.j,u,t,w);this.c_a(this.j.vj,y);this.j.Rj.forEach(function(z){x.c_a(z.vj,y);});this.j.ic.set(y);this.j.fireEvent(q.ba.KA);};c.prototype.ERb=function(u){this.wua(u)?u.s6().then(function(){}):Promise.resolve();};c.prototype.jGb=function(u){return this.IA.SFb(u);};c.prototype.Gna=function(u){return this.IA.Gna(u);};c.prototype.sV=function(){var u,t;u=this.j.WY;t=d.config.Ewa.characterSize;t={size:d.config.P$.characterSize || t};u && (t.visibility=u.Mna(),t.zT=u.Kna(),t.Ur=u.Lna());return t;};c.prototype.tWb=function(u){d.config.P$.characterSize=u;u=this.j.ic.value;this.wua(u) && !u.pn && u.s6().then(this.ZK).catch(this.ZK);};c.prototype.H_b=function(u,t){var w;u === q.cb.Ec || u == q.cb.Vg?t !== q.cb.Ec && t !== q.cb.Vg && ((t=this.j.ic.value) && !this.wua(t) || this.IA.D2a(this.Me(),t || void 0,"presentingstate:" + u)):u !== q.cb.Jf && u !== q.cb.Wq || this.IA.kla(null !== (w=this.Me()) && void 0 !== w?w:void 0,"presentingstate:" + u);};c.prototype.L9=function(){this.O9=0;clearTimeout(this.KUb);};c.prototype.ARa=function(){var u;this.kh && this.kh.stop();(null === (u=this.kG) || void 0 === u?0:u.pn) && this.c1a("removeListener");this.kh=void 0;};c.prototype.c1a=function(u){this.kh && (this.kh[u]("showsubtitle",this.APb),this.kh[u]("removesubtitle",this.vPb),this.kh[u]("underflow",this.gk),this.kh[u]("bufferingComplete",this.UOb),"addListener" === u?(this.j.addEventListener(q.ba.Rp,this.D8),this.j.addEventListener(q.ba.kk,this.r3a),this.j.addEventListener(q.ba.jI,this.xD),this.j.addEventListener(q.ba.s8,this.o3a),this.j.addEventListener(q.ba.jxa,this.v3a)):(this.j.removeEventListener(q.ba.Rp,this.D8),this.j.removeEventListener(q.ba.kk,this.r3a),this.j.removeEventListener(q.ba.jI,this.xD),this.j.removeEventListener(q.ba.s8,this.o3a),this.j.removeEventListener(q.ba.jxa,this.v3a)));};c.prototype.oYa=function(u){return {currentPts:this.Me(),displayTime:u.displayTime,duration:u.duration,id:u.id,originX:u.originX,originY:u.originY,sizeX:u.sizeX,sizeY:u.sizeY,rootContainerExtentX:u.rootContainerExtentX,rootContainerExtentY:u.rootContainerExtentY};};c.prototype.Zob=function(u){var t,w;t=this;w=u.track;if(!w || !w.pn)throw Error("Not an image base subtitle");u.$?(this.L9(),this.c1a("addListener"),this.log.info("Activated",w),this.j.Uh.set(w),this.yq?n.Nf(function(){t.kh.Bs(t.Me());}):this.kh.pause()):this.K6a(w,u);};c.prototype.$ob=function(u){var t,w;t=u.track;w=u.$;if(!t || t.pn)throw Error("Not a valid text track");w?(this.L9(),this.GI.H7a(this.kh),this.log.info("Activated",t),this.j.Uh.set(t)):this.K6a(t,k.Ks(u));this.TI();};c.prototype.K6a=function(u,t){var w,x;w=this;x=this.O9 < d.config.yMb;x && (this.KUb=setTimeout(function(){w.O9++;u.s6().then(w.ZK).catch(w.ZK);},d.config.aZb));this.log.error("Failed to activate" + ((null === u || void 0 === u?0:u.pn)?" img subtitle":""),{retry:x},t,u);};c.prototype.wua=function(u){return !(!u || u.Qr() && !u.oq());};c.prototype.c_a=function(u,t){var w;w=u.findIndex(function(x){return x.Zd >= t.Zd;});-1 === w && (w=0);u.splice(w,0,t);};b.EKa=c;r={};c.FXb=(r[f.XE.vB.LOADING]={r7:!0},r[f.XE.vB.QQ]={Et:!0},r);c.bXb="showsubtitle";c.YTb="removesubtitle";},function(r,b,a){var l;function c(m,d,g){this.start=m;this.track=d;this.AI=Array.isArray(g)?g:[];}function f(m,d){this.log=m;this.TA=d;this.Hta=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;l=a(22);f.prototype.apb=function(m,d){this.D2a(m,d,"activating");};f.prototype.Kxb=function(m){this.kla(m,"de-activating");};f.prototype.D2a=function(m,d,g){var h;this.Hk && this.kla(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ca(this.orphans)),this.orphans=[]);this.Hk=new c(m,d,h);this.TA && this.log.trace("new range: " + g,this.Hk);};f.prototype.kla=function(m,d){this.Hk && (this.Hk.end=m,this.Hta.push(this.Hk),this.TA && this.log.trace("end range: " + d,this.Hk || ({})),this.Hk=void 0);};f.prototype.U$a=function(m){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.Hk?this.Hk.AI.push.apply(this.Hk.AI,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};f.prototype.Gna=function(m){var d,g;d=this.Hta.slice(0);if(this.Hk && "undefined" !== typeof m){g=new c(this.Hk.start,this.Hk.track,this.Hk.AI);g.end=m;d.push(g);}m=d.reduce(function(h,k){var n,p,q,v;if(!k.track)return h;p=k.track.fd;q=k.track.Ir(k.start,k.end);if(void 0 === q || null === q)return h;v=new Set(k.AI);h[p]?(k=h[p],k.expected+=q,k.missed+=q - v.size):h[p]={dlid:p,bcp47:k.track.$i,profile:k.track.profile,expected:q,missed:q - v.size,startPts:null !== (n=k.track.dGb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.TA && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};f.prototype.SFb=function(m){var d,g,h,k;d=this.Hta.slice(0);g=0;h=0;if(this.Hk && "undefined" != typeof m){k=new c(this.Hk.start,this.Hk.track,this.Hk.AI);k.end=m;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){l.rb(!1,"negative range");n.MD=0;return;}p=new Set(n.AI);q=n.track.Ir(n.start,n.end);n.A4=q;n.MD=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.MD=100;p=n.end - n.start;g+=p;h+=n.MD * p;});k=g?Math.round(h / g):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.TA && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.MD),lang:n.track?n.track.$i:"none","actual  ":n.AI.join(" "),expected:n.A4};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,p){return p;}," ")));return k;};b.kKa=f;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v,u,t,w,x){var y,z;q=g.XE.call(this,v,q,q,w,!0,"1",{0:u},[{id:0,name:"custom"}],"xx",t || q,h.mp.JJ,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=v;q.url=u;q.options=x;q.Cs=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(58);f=a(14);l=a(60);m=a(8);d=a(30);g=a(276);h=a(129);k=a(73);n=a(131);p=a(15);r.Lda(r.Hda,function(q){var u;function v(t){var w;if(t.ctrlKey && t.altKey && t.shiftKey && t.keyCode == n.$u.$ib){w=d.createElement("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var x,y,z;x=w.files[0];if(x){y=x.name;u.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.Pq.qha("nourl",y,{content:z.result});});}});w.click();}}u=m.zh(q,"TimedTextCustomTrack");f.config.lka && (u.info("Loading url",{Url:f.config.lka}),q.Pq.qha(f.config.lka,"custom"));l.df.addListener(l.NC,v);q.addEventListener(p.ba.fg,function(){l.df.removeListener(l.NC,v);});});la(c,g.XE);c.Bwb=function(q,v,u,t){var w;w="custom" + c.KIb++;return new c(w,q,v,u,-1,t);};c.prototype.XTa=function(){var q;q=this;return new Promise(function(v,u){var t,w;if(null === (t=q.options) || void 0 === t?0:t.content)v(q.options.content);else if(q.url){w={responseType:k.toa,url:q.url,track:q,kc:null,tC:"tt-" + q.$i};q.j.j6.download(w,function(x){x.$?v(x.content):(x.reason="downloadfailed",x.url=w.url,x.track=q,u(x));});}});};b.CKa=c;c.KIb=0;},function(r,b,a){var f,l,m,d,g,h;function c(k){var n,p;n=this;this.j=k;this.ZOb=function(){var q;m.df.removeListener(m.R5,n.t3a);q=n.Lr.ln();q && q.parentNode && q.parentNode.removeChild(q);};this.msa=function(q){n.Lr.UVb(q.newValue);};this.DPb=function(q){n.Lr.aWb(q.newValue?q.newValue.R6:void 0);};this.t3a=function(){n.Lr.nO();};this.Lr=new g.DKa(d.config.Dwa,k.ic.value?k.ic.value.R6:void 0);p=k.UA;l.rb(.1 < p.width / p.height);this.Lr.KVb(p.width / p.height);k.Cg.appendChild(this.Lr.ln());k.Pu.addListener(this.msa);k.ic.addListener(this.DPb);k.addEventListener(h.ba.fg,this.ZOb,f.OE);m.df.addListener(m.R5,this.t3a);}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=void 0;f=a(12);l=a(22);m=a(60);d=a(14);g=a(528);h=a(15);c.prototype.Bva=function(k){this.Lr.Bva(k);};c.prototype.Mna=function(){return this.Lr.Mna();};c.prototype.zva=function(k){this.Lr.zva(k);};c.prototype.Kna=function(){return this.Lr.Kna();};c.prototype.Ava=function(k){this.Lr.Ava(k);};c.prototype.Lna=function(){return this.Lr.Lna();};b.FKa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j5a=void 0;b.j5a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u){this.j=u;this.vYb=!1;this.log=d.zh(this.j,"MediaAppendManager");this.Ub=this.j.Ub;this.X=this.Ub.X;this.yZ=this.oT=!1;this.audio={type:m.ri.audio,Qv:[],Cl:[],TN:!1};this.video={type:m.ri.video,Qv:[],Cl:[],TN:!1};u={};this.KI=(u[f.Sb.gl.Jb]=this.video,u[f.Sb.gl.Lb]=this.audio,u);this.closed=!1;this.Sz=l.config.Sz;this.X7=l.config.X7;this.EH=l.$Ra(! !this.j.ab.Al).EH;this.pQa=!0;h.rb(this.Sz > this.X7,"bad config");h.rb(this.Sz > this.EH,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;f=a(47);l=a(14);m=a(90);d=a(8);g=a(3);h=a(22);k=a(30);n=a(15);p=a(183);q=a(4);v=a(62);c.prototype.b5=function(){var w,x;function u(y,z){return t(y,z.M7);}function t(y,z){var A,B,D,E;D=! !z.response;E=z.response;if(z.Vc)return y + (E.byteLength || 0);z=(null !== (A=null === z || void 0 === z?void 0:z.qL) && void 0 !== A?A:0) - (null !== (B=null === z || void 0 === z?void 0:z.rL) && void 0 !== B?B:0);return (D?E.byteLength:z) + y;}w=this.KI[f.Sb.gl.Jb];x=this.KI[f.Sb.gl.Lb];return {videoToAppend:w.Cl.reduce(t,0),videoInBuffer:w.Qv.reduce(u,0),audioToAppend:x.Cl.reduce(t,0),audioInBuffer:x.Qv.reduce(u,0)};};c.prototype.wOb=function(){this.audio.Ki && !this.audio.Ki.yh() && (!1,this.audio.Ki.CPa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.mWb=function(){this.audio.Gva=!0;this.video.Gva=!0;};c.prototype.rWb=function(u){u === f.Sb.gl.Lb?this.oT=!0:u === f.Sb.gl.Jb && (this.yZ=!0);};c.prototype.yh=function(){var u,t;return !(null === (u=this.audio.Ki) || void 0 === u || !u.yh()) || !(null === (t=this.video.Ki) || void 0 === t || !t.yh());};c.prototype.j$=function(u){var t,w;null === (t=this.audio.Ki) || void 0 === t?void 0:t.j$(u);null === (w=this.video.Ki) || void 0 === w?void 0:w.j$(u);};c.prototype.lqb=function(u){var t;u.mediaType === f.Sb.gl.Lb?this.oT=!1:u.mediaType === f.Sb.gl.Jb && (this.yZ=!1);t=this.KI[u.mediaType];t?t.Cl.push(u):h.rb(!1);};c.prototype.jqb=function(u,t,w){t={mediaType:u.type,ZC:!1,response:t,ci:function(){return "header";},get Vc() {return !this.ZC;},profile:w.profile};(u=this.KI[u.type])?u.Cl.push(t):h.rb(!1);};c.prototype.pWb=function(u){var t;t=this.KI[u.type];if(t)try{t.Ki=u;}catch(w){this.Vd(g.M.oda,{na:p.n5(u.type),Bb:k.Jd(w)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Vd=function(u,t,w){this.closed || this.j.Vd(u,t,w);};c.prototype.vka=function(u){return this.PTa(this.audio,u,this.M3()) && this.PTa(this.video,u,this.M3());};c.prototype.M3=function(){return this.j.zb.value === n.cb.Jf?this.EH:this.X7;};c.prototype.gZb=function(){var u,t;u=this.video.Cl.filter(function(w){return !w.Vc;}).reduce(function(w,x){return w + x.Ty;},0);t=this.audio.Cl.filter(function(w){return !w.Vc;}).reduce(function(w,x){return w + x.Ty;},0);return Math.min(u,t);};c.prototype.PTa=function(u,t,w){var x;x=u.wka;x=x && x.M7;return !u.Ki || 0 === u.Cl.length && (u.type === m.ri.audio && this.oT || u.type === m.ri.video && this.yZ)?!0:x && x.Gw - t >= w || !1;};c.prototype.Swa=function(u){var t,w,x,y;this.vYb || (this.k$a(this.audio,u),this.k$a(this.video,u));if(!this.closed){u=!this.audio.Ki || 0 !== this.audio.Qv.length;x=0 === this.video.Cl.length && this.yZ;y=!this.video.Ki || 0 !== this.video.Qv.length;!(!(0 === this.audio.Cl.length && this.oT && y || x && u) || (null === (t=this.audio.Ki) || void 0 === t?0:t.yh()) || (null === (w=this.video.Ki) || void 0 === w?0:w.yh()) || this.jla) && this.X.readyState > v.Pn.L_.HAVE_NOTHING && (this.jla=!0,this.Ub.endOfStream());}};c.prototype.k$a=function(u,t){var w,x,y;if(!this.closed && u.Ki){w=u.Ki;x=u.Qv;!w.yh() && 0 < x.length && (u.wka=x[x.length - 1]);if(u.Gva){if(w.yh())return;u.Gva=!1;y=this.Ub.BXa().P4a(q.Un);0 < y && w.remove(0,y);}for(y=u.Cl[0];y && y.response && (y.Vc || y.pA - t <= this.Sz);){if((this.jla=!1,this.VZb(y)))(u.Cl.shift(),y=u.Cl[0]);else break;}!w.yh() && 0 < x.length && (u.wka=x[x.length - 1]);}};c.prototype.VZb=function(u){var t,w,x;!1;h.rb(u && ! !u.response);t=u.response;w=u.mediaType;x=this.KI[w];if(!this.closed && x.Ki && !x.Ki.yh()){try{u.Vc && u.profile && x.Ki.btb(u.profile);this.log.trace("Feeding media segment to decoder",{Bytes:t.byteLength});x.Ki.CPa(t,u);u.Vc || x.Qv.push(this.Dwb(u));l.config.dzb && !u.Vc && u.uRa();}catch(y){"QuotaExceededError" === y.name?(this.j.O3=this.j.O3?this.j.O3 + 1:1,this.pQa=!1,x.TN=!0):(this.log.error("Exception while appending media",u,y),this.Vd("CodecSwitchingError" === y.name?g.M.zGa:g.M.Phb,p.n5(w)));return;}return !0;}};c.prototype.vwb=function(u){var t;t=this.j.bHb(u.Ld);t || (this.log.warn("Could not find CDN",{cdnId:u.Ld}),t={id:u.Ld,$pa:u.location});return t;};c.prototype.JSa=function(u){var t,w;w=u.Pa;u.mediaType === f.Sb.gl.Lb?t=this.j.KYa(w):u.mediaType === f.Sb.gl.Jb && (t=this.j.VYa(w));t || this.log.error("Could not find stream",{stream:w});return t;};c.prototype.Dwb=function(u){var t;t=this.JSa(u);return {M7:u,stream:t,Zl:{startTime:Math.floor(u.pA),endTime:Math.floor(u.Gw)},kc:this.vwb(u)};};c.prototype.eja=function(u){this.qRa(u,f.Sb.gl.Lb);this.qRa(u,f.Sb.gl.Jb);};c.prototype.qRa=function(u,t){var w,x,y,z,A,B,D,E,F;w=this;x=u;this.pQa && (x-=l.config.wO);y=this.KI[t];z=y.Qv;D=!1;z.some(function(C,G){var J;J=C.M7;if(u < J.pA)return (h.rb(!1,"decoder content does not contain media time"),!0);x >= J.Gw && (A=G);if(u < J.Gw)return (B=G,G=t === f.Sb.gl.Lb?w.j.gf:w.j.ke,C !== G.value && (G.set(C),D=!0),!0);});if((y.TN || D) && void 0 !== A && !this.jla){if(A + 1 === B){if(0 === A)return;A--;}E=z[A].M7.Gw - 1;if(0 < E){F=y.Ki;F && !F.yh()?(F.remove(0,E / k.il),y.TN=!1,z.splice(0,A + 1)):(y.TN=!0,!1);}}};c.prototype.A6a=function(){!1;[this.audio,this.video].forEach(function(u){u.Qv=[];u.wka=void 0;u.Cl=[];});this.yZ=this.oT=!1;this.j.fireEvent(n.ba.J7);};c.prototype.Sna=function(){return [this.audio,this.video].filter(function(u){return u.Ki;});};c.prototype.vDb=function(){var u,t;if(this.yh())h.rb(!1,"should not be busy while checking buffer ranges");else {u=this.Sna().map(function(w){var x,y,z,A,B;A=w.Cl.filter(function(D){return D.ZC;});B=w.Ki.buffered();w=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;w=null !== w && void 0 !== w?w:null === (x=A[0]) || void 0 === x?void 0:x.pA;x=null !== (z=null === (y=A[A.length - 1]) || void 0 === y?void 0:y.Gw) && void 0 !== z?z:B;if(void 0 !== w && void 0 !== x)return {start:w,end:x};});if(u.every(function(w){return w;})){t=Math.max.apply(Math,ca(u.map(function(w){return w.start;})));u=Math.min.apply(Math,ca(u.map(function(w){return w.end;})));if(u > t)return {start:q.Hc(t),end:q.Hc(u)};}}};c.prototype.skip=function(u){h.rb(!this.yh(),"should not be busy while skipping");this.Sna().forEach(function(t){t.TN=!0;});this.eja(u);this.Sna().forEach(function(t){0 < t.Qv.length || (t.Cl=t.Cl.filter(function(w){return w.Vc || w.Gw > u?!0:!1;}));});};b.fFa=c;},function(r,b){function a(f,l,m){var d,g,h,k;d=[];f.forEach(function(n){-1 == d.indexOf(n.Zg) && d.push(n.Zg);});g=null;h=null;l.forEach(function(n){null === g?h=g=n.bitrate:h < n.bitrate?h=n.bitrate:g > n.bitrate && (g=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};g && h && (p.ranges.push({min:g,max:h}),m && (p.disallowed=m.filter(function(q){return q.stream.Zg === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.Z3};})),k.push(p));});return k;}function c(f,l){var m;m=void 0;f=f.filter(function(g){var h;h=l(g);h && (m=m || [],m.push({stream:g,Z3:h}));return !h;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].AHb=f[d + 1];}return {AC:f,bzb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.azb=b.ut=b.uxb=b.AYa=void 0;b.AYa=function(f,l){l=c(f,l);return a(f,l.AC,l.bzb);};b.uxb=a;b.ut=c;b.azb=function(f){if(f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(r,b,a){var f,l;function c(m,d){m=f.ac.call(this,m) || this;m.Mqa=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;f=a(80);l=a(92);la(c,f.ac);c.prototype.set=function(m){f.ac.prototype.set.call(this,l.ip(m,0,this.Mqa));};b.THa=c;},function(r,b,a){var l,m,d,g,h,k,n,p;function c(q,v,u,t,w){var x;x=this;this.Gi=q;this.config=u;this.ib=t;this.debug=w;this.g9=[];this.Zr=[];this.Ssa=[];this.PF={};this.QTa=!1;this.uT={};this.Uoa=0;this.log=v.hb("PlayTimeTracker");this.startTime=this.Gi.mediaTime.value;this.v7=this.config().Vob;this.XI();this.PF.abrdel=0;this.v7.forEach(function(y){y="abrdel" + y;x.uT[y]=0;x.PF[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(1);l=a(0);m=a(7);d=a(13);g=a(94);a(4);h=a(26);k=a(96);n=a(12);p=a(24);f.prototype.encode=function(q){return {key:q.key,downloadableId:q.fd,bitrate:q.bitrate,vmaf:q.Eb,duration:q.duration,metric:q.wW,cdnId:q.nC};};f.prototype.decode=function(q){return {key:q.key,fd:q.downloadableId,bitrate:q.bitrate,Eb:q.vmaf,duration:q.duration,wW:q.metric,nC:q.cdnId};};c.prototype.LM=function(){var q;this.uI(this.Gi.mediaTime.value);q=0;this.Zr.forEach(function(v){q+=(v.endTime - v.startTime) / v.rate;});return Math.floor(q);};c.prototype.Nna=function(){var q;this.uI(this.Gi.mediaTime.value);q=0;this.Zr.forEach(function(v){q+=v.endTime - v.startTime;});this.debug.assert(q === Math.floor(q),"Value of totalContentPlayTime is not an integer.");return Math.floor(q);};c.prototype.hDb=function(){this.uI(this.Gi.mediaTime.value);return {audio:this.gV(this.g9,this.KWa),video:this.gV(this.Zr,this.KWa)};};c.prototype.wFb=function(){var q;q={total:this.LM(),totalContentTime:this.Nna(),audio:this.gV(this.g9,this.m5),video:this.gV(this.Zr,this.m5),timedtext:this.gV(this.Ssa,this.m5)};this.debug.assert(!(!q.audio || !q.video));return q;};c.prototype.zma=function(){var q,v;this.uI(this.Gi.mediaTime.value);q=this.tma(this.Zr,this.tDb);try{v=this.gWa(q);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.PF.abrdel=Math.round(v);return this.PF.abrdel;};c.prototype.hWa=function(){var q,v;this.uI(this.Gi.mediaTime.value);q=this.tma(this.Zr,this.EGb);try{v=this.gWa(q);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.fWa=function(){var q,v;q=this;if(!this.QTa){v=this.LM();this.v7.forEach(function(u){var t,w,x;if(0 === q.uT["abrdel" + u] && v > u * n.il){t=0;w=0;x=0;q.Zr.some(function(y){t+=y.stream.bitrate * (y.endTime - y.startTime);w+=y.endTime - y.startTime;x=y.stream.bitrate;if(w > u * n.il)return !0;});t && (q.uT["abrdel" + u]=Math.round((t - x * (w - u * n.il)) / (u * n.il)));}});0 !== this.uT["abrdel" + this.v7[this.v7.length - 1]] && (this.QTa=!0);p.re(this.uT,function(u,t){q.PF[u]=0 === t?q.PF.abrdel:t;});}return this.PF;};c.prototype.opb=function(q){this.Uoa+=q;};c.prototype.WYa=function(){return ! !(this.Zr[0] && this.Zr[0].stream && this.ib.yg(this.Zr[0].stream.Eb));};c.prototype.XI=function(){var q;q=this;this.Gi.gf.addListener(function(v){q.HL=q.jRa(q.HL,q.g9,v.newValue);});this.Gi.ke.addListener(function(v){q.KL=q.jRa(q.KL,q.Zr,v.newValue);});this.Gi.playbackRate.addListener(function(v){q.uI(q.Gi.mediaTime.value,v.oldValue);});this.Gi.Uh.addListener(this.OOb.bind(this));};c.prototype.Nra=function(q,v){this.uI(q);this.startTime=v;this.KL=this.HL=void 0;this.JL && (this.JL.startTime=this.startTime);!1;};c.prototype.OOb=function(q){this.EX(this.JL,this.Ssa,this.Gi.mediaTime.value);this.JL=q.newValue?{track:q.newValue,startTime:this.Gi.mediaTime.value,endTime:g.lB}:void 0;};c.prototype.uI=function(q,v){v=void 0 === v?this.Gi.playbackRate.value:v;q && this.HL && this.KL && (q=Math.min(q,this.HL.endTime,this.KL.endTime),this.EX(this.HL,this.g9,q,v),this.HL.startTime=q,this.EX(this.KL,this.Zr,q,v),this.KL.startTime=q,this.JL && (this.EX(this.JL,this.Ssa,q,v),this.JL.startTime=q),this.startTime=q,!1);};c.prototype.jRa=function(q,v,u){q && this.EX(q,v,Math.min(q.endTime,this.Gi.mediaTime.value));if(u && u.stream)return (q=u.Zl,v=u.stream,{kc:u.kc,track:v.track,stream:v,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime});};c.prototype.EX=function(q,v,u,t){t=void 0 === t?this.Gi.playbackRate.value:t;q && u && u >= q.startTime && (q={kc:q.kc,track:q.track,stream:q.stream,startTime:q.startTime,endTime:u,rate:t},(u=v[v.length - 1]) && u.track === q.track && u.stream === q.stream && u.kc === q.kc && u.endTime === q.startTime && u.rate === q.rate?u.endTime=q.endTime:v.push(q),!1);};c.prototype.tma=function(q,v){var u,t;u=this;t={};return q.reduce(function(w,x){var y,z,A;y=v.bind(u,x)();z=y.key;x=x.endTime - x.startTime;A=t[z];A?A.duration+=x:(delete y.key,A=y,A.duration=x,w.push(A),t[z]=A);return w;},[]);};c.prototype.gV=function(q,v){return this.tma(q,v).map(function(u){return new f().encode(u);});};c.prototype.m5=function(q){var v,u,t;v=q.stream;if(v){q=v.fd;u=v.bitrate;t=v.Eb;}else q=q.track.fd;return {key:q + "$" + (u || 0),fd:q,bitrate:u,Eb:t};};c.prototype.KWa=function(q){var v;v=this.m5(q);q=q.kc.id;return Object.assign({},v,{key:v.key + "$" + q,nC:q});};c.prototype.tDb=function(q){q=(q=q.stream)?q.bitrate:0;return {key:q,wW:q};};c.prototype.EGb=function(q){q=(q=q.stream)?q.Eb:0;return {key:q,wW:q};};c.prototype.gWa=function(q){var v,u,t;v=this;u=0;q.forEach(function(w){if(v.ib.yg(w.duration) && v.ib.yg(w.wW))u+=w.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;t=0;q.forEach(function(w){t+=w.wW * w.duration / u;});return t;};a=c;a=r.__decorate([l.R(),r.__param(1,l.l(m.ob)),r.__param(2,l.l(d.Rc)),r.__param(3,l.l(h.Yf)),r.__param(4,l.l(k.Wu))],a);b.IHa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var f,l;function c(m,d,g,h,k,n,p,q,v,u,t){this.index=m;this.J=d;this.ya=g;this.ab=h;this.ca=k;this.jk=n;this.hqa=p;this.Eub=v;this.b2a=t;this.Uc=new f.ac(null);this.rg=new f.ac(null);this.ic=new f.ac(null);this.Uh=new f.ac(null);this.Pu=new f.ac(void 0);this.Se=new f.ac(null);this.Yg=new f.ac(null);this.gf=new f.ac(null);this.ke=new f.ac(null);this.kc=[new f.ac(null),new f.ac(null)];this.mediaTime=new f.ac(void 0);this.playbackRate=new f.ac(1);this.Jp=new f.ac(null);this.TF=this.SF="notcached";this.background=!1;q && (this.Se.set(q.Se.value),this.Yg.set(q.Yg.value));this.Fl=u(this);this.rm=this.b2a.BTb(this.ca,this.jk);}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;f=a(80);l=a(4);c.prototype.Bd=function(m){this.rm.Gp(m);};c.prototype.uz=function(m){var d;d=this;Object.entries(m).forEach(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;d.rm.Gp(g,l.Hc(h - d.jk.da(l.ka)));});};c.prototype.z8=function(){this.b2a.TTb(this.ca);};Wa.Object.defineProperties(c.prototype,{ve:{configurable:!0,enumerable:!0,get:function(){return this.ab.ve;}},oaa:{configurable:!0,enumerable:!0,get:function(){return this.ab.oaa;}},gm:{configurable:!0,enumerable:!0,get:function(){return this.bd && this.bd.gm;}},Rj:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.Rj) && void 0 !== m?m:[];}},$o:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.$o) && void 0 !== m?m:[];}},OA:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.OA) && void 0 !== m?m:[];}},vj:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.vj) && void 0 !== m?m:[];}},lj:{configurable:!0,enumerable:!0,get:function(){return this.bd && this.bd.lj;}},cD:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.cD) && void 0 !== m?m:!1;}},yu:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.yu) && void 0 !== m?m:[];}},Tj:{configurable:!0,enumerable:!0,get:function(){var m;return null !== (m=this.bd && this.bd.Tj) && void 0 !== m?m:[];}},Fy:{configurable:!0,enumerable:!0,get:function(){return this.hfa && 0 < this.hfa.da(l.ka)?this.hfa:l.Hc(this.sa?this.sa.Wc.duration:0);},set:function(m){this.hfa=m;}},wj:{configurable:!0,enumerable:!0,get:function(){return this.ab.wj || 0;}},ika:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.RT?this.RT:void 0 === this.mediaTime.value?null:this.Eub(this.mediaTime.value,this.ya);}},Wj:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.sa) || void 0 === m?void 0:m.Wc.eRa) || void 0 === d?void 0:d.zw;}},nI:{configurable:!0,enumerable:!0,get:function(){var m,d;return null === (d=null === (m=this.sa) || void 0 === m?void 0:m.Wc.eRa) || void 0 === d?void 0:d.nI;}},jd:{configurable:!0,enumerable:!0,get:function(){return this.rm.jd;}}});b.UHa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XKa="TrickPlayParserSymbol";},function(r,b,a){var f,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(1);l=a(164);a=a(0);c.prototype.parse=function(d){var g,h;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);h=new l.gQ(g);d=this.iQb(h);g=this.jQb(h,g,d);return {header:d,images:g};};c.prototype.iQb=function(d){var g,h,k,n;if(d.sna() < this.uUb())throw Error("array buffer too short");f.EEa.forEach(function(p){if(p != d.sA())throw Error("BIF has invalid magic.");});g=d.hO();if(g > f.VERSION)throw Error("BIF version in unsupported");h=d.hO();if(0 == h)throw Error("BIF has no frames.");k=d.hO();n=d.Eh(f.PIa);return {version:g,DOb:h,P9a:k,y6a:n};};c.prototype.jQb=function(d,g,h){var p,q;for(var k=[],n=0;n <= h.DOb;n++){p={timestamp:d.hO(),offset:d.hO()};void 0 != q && k.push(g.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.uUb=function(){return f.EEa.length + 4 + 4 + 4 + f.PIa;};m=f=c;m.EEa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.PIa=44;m=f=r.__decorate([a.R()],m);b.WKa=m;},function(r,b,a){var f,l,m;function c(d,g,h){this.config=d;this.j=g;this.Sf=h;this.mX=void 0;this.W8=!1;this.Lpa=0;this.log=this.Sf.hb();}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;f=a(15);l=a(4);m=a(92);c.prototype.dFb=function(d,g,h,k,n){var p,q,v,u;h=void 0 === h?this.j.ya:h;k=void 0 === k?!1:k;p=g === f.ze.OJ;q=this.Asb(p?d:this.Ftb(d,h),k,h);k=this.j.Na;p?(d=q,q=k.st(q)):d=k.EL(h,q);g === f.ze.qx && (this.j.BQa=q);n=this.Ai(d,g,n);v=(p=p || n)?d:q;if(this.j.ou){u=this.config().EH;this.j.NYa(v,u) || g !== f.ze.uB || (v=this.j.ou.da(l.ka) - u - 1E3,p?(d=v,q=k.st(v)):(d=k.EL(h,v),q=v));}return {r8:v,Vj:q,gRb:d,Ai:n};};c.prototype.Asb=function(d,g,h){d=this.EJb() || g?Math.round(d):this.j.Na.Tia(d,h);this.j.ab.Al && (d=this.tCb(d));this.config().Wua && (d+=this.config().Wua);return d;};c.prototype.Ai=function(d,g,h){if(this.config().$yb || g === f.ze.qx || g === f.ze.AR || g === f.ze.x_ || !h || d < h.start.da(l.ka) || d >= h.end.da(l.ka))return !1;g=this.j.Na;return (null === g || void 0 === g?void 0:g.Rh) && g.Ai(d) || !1;};c.prototype.EJb=function(){return this.j.ab.Al?!0:"boolean" === typeof this.j.ab.vX?this.j.ab.vX:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().vX && this.config().BRb:this.config().vX;};c.prototype.Ftb=function(d,g){var h;g=this.j.im(g);h=g.Fy;g=(g.zMb || h).da(l.ka) - this.config().j1b;return m.ip(d,0,g);};c.prototype.tCb=function(d){var g,h,k;g=this.j.bV();if(Object.values(g).find(function(n){var p;p=n.Oc;p=d < (null !== p && void 0 !== p?p:Infinity);return n.wc <= d && p;}))return (!1,d);k=d;Object.entries(g).forEach(function(n){var p;n=aa(n);n.next();n=n.next().value.wc;p=n - d;0 < p && (void 0 === h || p < h) && (h=p,k=n);});!1;return k;};Wa.Object.defineProperties(c.prototype,{lpa:{configurable:!0,enumerable:!0,get:function(){return this.W8 || ! !this.mX;}}});b.yJa=c;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w;function c(x,y,z,A,B,D){var E;E=this;this.j=x;this.Yj=y;this.oZ=z;this.ae=A;this.yY=B;this.Zm=D;this.WSa={};this.update=function(){var F;if(E.Vo.selectionStart == E.Vo.selectionEnd){F="";E.yM().forEach(function(C){F=F?F + "\n":"";Object.entries(C).forEach(function(G){var J;J=aa(G);G=J.next().value;J=J.next().value;F+=G + ": " + J + "\n";});});E.Vo.style.fontSize=d.ip(h.vx(E.element.clientHeight / 60),8,18) + "px";E.Vo.value=F;}};this.dPb=function(){var F,C;if(E.j.Tf){C=E.j.Tf.DG();C && (E.jka=C - (null !== (F=E.X9a) && void 0 !== F?F:0),E.X9a=C,E.NN());}};this.NN=function(){E.oZ.Il(E.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.$u.Vcb || F.keyCode == p.$u.Q) && E.toggle();};this.B4a=[x.mediaTime,x.kc[f.Sb.Qa.Lb],x.kc[f.Sb.Qa.Jb],x.gf,x.ke,x.Yg,x.Se,x.Uh,x.state,x.zr,x.zb,x.volume,x.muted];this.element=this.ae.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Vo=this.ae.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Vo);this.controls=this.ae.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.ae.createElement("button",void 0,"X");y.addEventListener("click",function(){return E.Kr();},!1);this.controls.appendChild(y);m.df.addListener(m.NC,this.onkeydown);x.addEventListener(n.ba.fg,function(){m.df.removeListener(m.NC,E.onkeydown);E.Kr();});}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;f=a(47);l=a(58);m=a(60);d=a(92);g=a(298);h=a(11);k=a(19);n=a(15);p=a(131);q=a(4);r={};v=(r[n.Qb.GJ]="Not Loaded",r[n.Qb.LOADING]="Loading",r[n.Qb.oe]="Normal",r[n.Qb.CLOSING]="Closing",r[n.Qb.CLOSED]="Closed",r);r={};u=(r[n.tf.oe]="Normal",r[n.tf.ud]="Pre-buffering",r[n.tf.pJa]="Network stalled",r);r={};t=(r[n.cb.Jf]="Waiting for decoder",r[n.cb.Ec]="Playing",r[n.cb.Vg]="Paused",r[n.cb.Wq]="Media ended",r);w=[n.ba.J7,n.ba.qrb];c.prototype.RVb=function(x){this.WSa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.OIb=nb.setInterval(this.dPb,1E3),document.body.appendChild(this.element),this.B4a.forEach(function(y){y.addListener(x.NN);}),w.forEach(function(y){x.j.addEventListener(y,x.NN);}),this.visible=!0,this.Zm.KY().then(function(y){x.foa=y;x.NN();}));this.update();};c.prototype.Kr=function(){var x;x=this;this.visible && (clearInterval(this.OIb),this.X9a=this.jka=void 0,document.body.removeChild(this.element),this.B4a.forEach(function(y){y.removeListener(x.NN);}),w.forEach(function(y){x.j.removeEventListener(y,x.NN);}),this.oZ.Il(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Kr():this.show();};c.prototype.yM=function(){var x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T,da,pa,wa,ua,X,sa,O,S,ka,ia,Pa,Ea,Va,Ya,bb,Xa,mb;C=[];G=this.Yj();C.push({Version:"0.0032.989.910",Esn:G?G.Lk:"UNKNOWN",PBCID:this.j.Wj,UserAgent:h.qB});try{J={MovieId:this.j.J,TrackingId:this.j.wj,Xid:this.j.ca + " (" + l.Tn.map(function(Za){return Za.ca;}).join(", ") + ")",Position:d.Qi(this.j.mediaTime.value),Duration:d.Qi(this.j.Fy.da(q.ka)),PlayerDuration:d.Qi(this.j.ou.da(q.ka)),Volume:h.Oi(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.ab.Al || this.j.ab.U6)(J["Segment Position"]=d.Qi(this.j.IC()),J.Segment=this.j.mna());C.push(J);}catch(Za){}try{C.push({"Player state":v[this.j.state.value],"Buffering state":u[this.j.zr.value],"Rendering state":t[this.j.zb.value]});}catch(Za){}try{K=this.j.Bxa() + this.j.$ha();H=this.j.gf.value;L=null === H || void 0 === H?void 0:H.stream;R=this.j.ke.value;I=null === R || void 0 === R?void 0:R.stream;P=null !== (x=null === L || void 0 === L?void 0:L.bitrate) && void 0 !== x?x:"?";N=I?I.bitrate + " (" + I.width + "x" + I.height + ")":"?";M=null !== (y=null === I || void 0 === I?void 0:I.Eb) && void 0 !== y?y:"?";Q=null !== (A=null === (z=this.j.Se.value) || void 0 === z?void 0:z.Eb) && void 0 !== A?A:"?";T=null !== (D=null === (B=this.j.Yg.value) || void 0 === B?void 0:B.bitrate) && void 0 !== D?D:"?";da=null !== (F=null === (E=this.j.Se.value) || void 0 === E?void 0:E.bitrate) && void 0 !== F?F:"?";pa=this.j.kc[f.Sb.Qa.Jb].value;wa=this.j.kc[f.Sb.Qa.Lb].value;C.push({"Playing bitrate (a/v)":P + " / " + N,"Playing/Buffering vmaf":M + "/" + Q,"Buffering bitrate (a/v)":T + " / " + da,"Buffer size in Bytes (a/v)":this.j.$ha() + " / " + this.j.Bxa(),"Buffer size in Bytes":"" + K,"Buffer size in Seconds (a/v)":d.Qi(this.j.jT()) + " / " + d.Qi(this.j.sZ()),"Current CDN (a/v)":(wa?wa.name + ", Id: " + wa.id:"?") + " / " + (pa?pa.name + ", Id: " + pa.id:"?")});}catch(Za){}try{if(this.j.gf.value && this.j.ke.value){ua=this.j.gf.value.stream;X=ua.track;sa=this.j.ke.value.stream;O=this.j.Uh.value;S=this.yY.F3(this.j.rg.value?this.j.rg.value.streams:[]);ka=this.yY.C3(X.streams);ia=sa.Zg;Pa=(/hevc/).test(ia)?"hevc":(/vp9/).test(ia)?"vp9":(/h264hpl/).test(ia)?"avchigh":(/av1/).test(ia)?"av1":"avc";(/hdr/).test(ia) && (Pa+=", hdr");(/dv/).test(ia) && (Pa+=", dv");(/prk/).test(ia) && (Pa+=", prk");Ea=ua.Zg;Va=(/xheaac/).test(Ea)?"xhe-aac":(/heaac/).test(Ea)?"he-aac":(/ddplus/).test(Ea)?"ddplus":"unknown";(/atmos/).test(Ea) && (Va+=", atmos");C.push({"Audio Track":X.$i + ", Id: " + X.trackId + ", Channels: " + X.channels + ", Codec: " + ka + " (" + Va + ")","Video Track":"Codec: " + S + " (" + Pa + ")","Timed Text Track":O?O.$i + ", Profile: " + O.profile + ", Id: " + O.trackId:"none"});}}catch(Za){}try{Ya=this.j.Tf;bb=this.j.Se.value?this.j.Se.value.framerate:0;Xa=a(535).X0a;C.push({Framerate:bb.toFixed(3),"Current Dropped Frames":k.Ba(this.jka)?this.jka:"","Total Frames":Ya.FC(),"Total Dropped Frames":Ya.DG(),"Total Corrupted Frames":Ya.dV(),"Total Frame Delay":Ya.p5(),"Main Thread stall/sec":Xa?Xa.xEb().join(" "):"DISABLED",VideoDiag:g.vqa(this.j.M5()),"HDR support":this.foa?this.foa.result + " (" + this.foa.reason + ")":"unknown"});}catch(Za){}try{C.push({Throughput:this.j.Sa + " kbps"});}catch(Za){}mb=void 0;try{Object.entries(this.WSa).forEach(function(Za){var Sa;Sa=aa(Za);Za=Sa.next().value;Sa=Sa.next().value;mb=mb || ({});mb[Za]=JSON.stringify(Sa);});mb && C.push(mb);}catch(Za){}return C;};b.QHa=c;},function(r,b,a){var l,m,d,g;function c(h,k,n,p){this.ca=h;this.rUb=k;this.ta=n;this.cg=p;this.jd={};}function f(h,k){this.Sf=h;this.cg=k;this.Ac={};this.ta=h.hb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.fib=b.SHa=void 0;r=a(1);l=a(0);m=a(7);d=a(17);g=a(4);f.prototype.BTb=function(h,k){this.Ac[h] && this.ta.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.cg.Wb()).da(g.ka);this.ta.trace("registerPlayback: xid " + h + " at " + k);this.Ac[h]=new c(h,k,this.ta,this.cg);return this.Ac[h];};f.prototype.yFb=function(h){this.Ac[h] || this.ta.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Ac[h];};f.prototype.TTb=function(h){this.ta.trace("removePlayback: xid " + h);delete this.Ac[h];};a=f;a=r.__decorate([l.R(),r.__param(0,l.l(m.ob)),r.__param(1,l.l(d.cd))],a);b.SHa=a;c.prototype.Gp=function(h,k){k=k?k.da(g.ka):this.cg.Wb().da(g.ka) - this.rUb;this.ta.trace("addMilestone: xid " + this.ca + " " + h + " at " + k);this.jd[h]=k;};b.fib=c;},function(r,b,a){var f,l,m,d;function c(g){this.za=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;r=a(1);f=a(15);l=a(0);m=a(17);d=a(4);c.prototype.kk=function(g){g.cause !== f.ze.qx && (this.trace.unshift({time:this.za.Wb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.qYa=function(){var g,h;g=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.L9a(h.time),lastRepositionCause:this.sWa(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:g.L9a(k.time),cause:g.sWa(k.event.cause),newMediaTime:k.event.r8,oldMediaTime:k.event.csa,contentPts:k.event.Vj,skip:k.event.skip};})};};c.prototype.L9a=function(g){return this.za.Wb().Ca(g).da(d.ka);};c.prototype.sWa=function(g){switch(g){case f.ze.qx:return "initial";case f.ze.uB:return "seek";case f.ze.OJ:return "segment_changed";case f.ze.AR:return "track_changed";case f.ze.x_:return "force_rebuffer";}};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(m.cd))],a);b.dJa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z,A){var B;B=this;this.yb=y;this.j=z;this.debug=A;this.nr=this.Rh=this.HB=!1;this.Ws=this.Qm=void 0;this.Le=function(){var D,E,F,C,G,J;B.debug.assert(B.pa,"has access to asePlaygraph");B.debug.assert(B.gd,"has access to internalLogger");B.debug.assert(B.eu,"has access to mediaBufferGetLogFields");if(B.rf.value !== f.ma.gr && B.rf.value !== f.ma.Ri){G=B.ko;J=null === (E=null === (D=B.Pb.get()) || void 0 === D?void 0:D.Sa) || void 0 === E?void 0:E.Fa;D={type:"logdata",target:"startplay",fields:{hasasereport:B.j.XL,hashindsight:!1,buffCompleteReason:G.reason,actualbw:J,initSelReason:null !== (F=G.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:G.vBufferLevelMs,bcABufferLevelMs:G.aBufferLevelMs}};h.Yha({UUa:D,ck:B.ck,loadTime:B.loadTime});B.pa.hZ("startplay",m.ce.Uo);null !== (C=B.Ea) && void 0 !== C && C.Ao?(B.gd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:G},B.eu()),B.j.ko=G,B.j.zr.set(k.tf.oe),B.iCb || (B.iCb=!0,B.j.Bd("pb")),B.play()):B.gd.error("Shim received buffering complete but player has no position (player " + (B.Ea?"":"un") + "defined, state " + B.j.state + ")");}};this.pT=function(){var D,E;B.debug.assert(B.gd,"has access to internalLogger");!1;B.Qm=void 0;B.j.paused.value && B.zD && (B.zD=!1,B.j.paused.set(!1,{Hra:!0}));null === (D=B.j.Tf) || void 0 === D?void 0:D.gub();null === (E=B.UW) || void 0 === E?void 0:E.call(B);B.UW=void 0;};this.events=new x();this.fl=new w.Hea();}Object.defineProperty(b,"__esModule",{value:!0});b.iya=void 0;f=a(47);l=a(18);m=a(291);d=a(61);g=a(3);h=a(1180);k=a(15);n=a(14);p=a(19);q=a(4);v=a(1181);u=a(92);t=a(80);w=a(503);x=a(114).EventEmitter;c.prototype.g3=function(){};c.prototype.Zc=function(){var y;this.nr=!1;this.Pb.MO(null);this.debug.assert(this.tj,"has access to streamingEngine");this.pa && this.tj.Bu(this.pa);this.Ea && this.tj.lO(this.Ea);this.tj.gua(this.fl.fq(this.yb.ia.Z));this.fl.clear();null === (y=this.gj) || void 0 === y?void 0:y.Tp();};c.prototype.CWb=function(y){var z,A,B,D,E,F,C,G,J,K,H,L,R;z=y.config;A=y.Tm;B=y.gd;D=y.Ie;E=y.eu;F=y.Di;C=y.pY;y=y.kI;this.gd=B;this.eu=E;this.pY=C;this.kI=y;E=this.j.ia;this.debug.assert(E,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.tj,"has access to streamingEngine");this.debug.assert(E.sa,"has access to manifest");this.tj=A.tj;A.Od.set(a(184)(z),!0,F("ASE"));A.Od.set({maxNumberTitlesScheduled:null !== (J=null === (G=z.xRb) || void 0 === G?void 0:G.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);z.Pub && 3E5 > E.sa.Wc.duration?A.Od.eX({expandDownloadTime:!1},!0,B):A.Od.eX({expandDownloadTime:A.Od.p4a().expandDownloadTime},!0,B);z=E.background || z.vRb && "postplay" === E.ve?"historical":A.Od.p4a().initBitrateSelectorAlgorithm;A.Od.eX({initBitrateSelectorAlgorithm:z},!0,B);z=null === (R=null === (L=null === (H=null === (K=E.rg) || void 0 === K?void 0:K.value) || void 0 === H?void 0:H.streams) || void 0 === L?void 0:L[0]) || void 0 === R?void 0:R.Zg;A.Od.eX(n.ZRa(! !E.ab.Al,! !E.ab.U6,z),!0,B);B=D.rH({},n.Hja(E.ve));this.Od=A.Od.tt(B);f.platform.events.emit("networkchange",E.bd.IVb);this.HB=!0;};c.prototype.z6=function(y){var z,A;this.debug.assert(this.tj,"has access to streamingEngine");z=this.j.im(y.ya);this.debug.assert(z.bd,"has access to playback parsedManifest");A=y.flags;this.Pb.reset();this.zd=new Set([f.Sb.Qa.Lb,f.Sb.Qa.Jb]);(A.eE || A.mT) && this.zd.delete(A.eE?f.Sb.Qa.Lb:f.Sb.Qa.Jb);this.nP=[z.bd.gyb,z.bd.qyb];this.YT(y.ya,y.Pv);this.BIb(y);this.Zja();};c.prototype.mZ=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.mZ(y);};c.prototype.Crb=function(y){var z,A,B,D;z=this;A=y.loadTime;B=y.ck;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ea,"has access to asePlayer");this.ck=B;this.loadTime=A;y=this.pa.events;D=this.Ea.events;y.addListener("error",function(E){"NFErr_MC_StreamingFailure" === E.error && (z.gd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(E)),z.gd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.eu())),d.Nf(function(){z.j.Vd(g.M.hbb,{na:E.nativeCode,Bb:E.errormsg,$j:E.httpCode,m8:E.networkErrorCode});}));});y.addListener("logdata",function(E){var F;"string" === typeof E.target && "object" === typeof E.fields && (E.fields.aseApiVersion=null === (F=z.pa) || void 0 === F?void 0:F.NF,h.Yha({UUa:E,ck:B,loadTime:A}));});y.addListener("bufferingStarted",function(){z.j.zr.set(k.tf.ud);});y.addListener("bufferingComplete",function(E){z.ko=E;});this.j.paused.addListener(function(E){var F;z.debug.assert(z.gd,"has access to internalLogger");null !== (F=E.dm) && void 0 !== F && F.Hra || !z.HB || (E.newValue && z.rf.value === f.ma.Ec?(z.rf.set(f.ma.Vg),z.Ad.emit("paused",{type:"paused",pts:z.Ad.Gc})):E.newValue || z.rf.value !== f.ma.Vg || (z.rf.set(f.ma.Ec),z.Ad.emit("playing",{type:"playing",pts:z.Ad.Gc})));E.newValue || (z.zD=!1);z.gd.info("Paused changed",{From:E.oldValue,To:E.newValue,MediaTime:u.Qi(z.j.mediaTime.value)});});this.j.Uc.addListener(function(E){var F,C,G,J;if(z.HB)if((z.debug.assert(z.gd,"has access to internalLogger"),E.dm && E.dm.rPa))z.gd.trace("Not processing already applied track",null === (F=E.newValue) || void 0 === F?void 0:F.trackId);else {J=E.newValue;z.J$({Wm:J.Bz,toJSON:function(){return J.kg;}})?z.gd.trace("ASE accepted the audio track switch",null === (G=E.newValue) || void 0 === G?void 0:G.trackId):(z.gd.trace("ASE rejected the audio track switch",null === (C=E.newValue) || void 0 === C?void 0:C.trackId),E.oldValue && E.oldValue.Bz !== J.Bz && z.j.Uc.set(E.oldValue,{rPa:!0}));}});y.addListener("serverSwitch",function(E){var F;z.j.fireEvent(k.ba.mY,E);if("video" === E.mediatype)F=f.Sb.Qa.Jb;else "audio" === E.mediatype && (F=f.Sb.Qa.Lb);p.Pc(F) && z.pY(E.segmentId,E.server,F);});y.addListener("streamSelected",function(E){var F,C,G,J;C=(null === (F=z.pa) || void 0 === F?void 0:F.OC(E.position)).dG.T;F=[];if(E.mediaType === f.Sb.Qa.Jb){G=z.j.VYa(E.streamId);J=z.j.Se;F=z.j.LG();}else E.mediaType === f.Sb.Qa.Lb && (G=z.j.KYa(E.streamId),J=z.j.Yg,F=z.j.eDb());G && J?(!1,J.set(G,{VF:C,vT:E.bandwidth})):z.gd.error("no matching stream for streamSelected event",{streamId:E.streamId,mediaType:E.mediaType,streamList:F,cachedManifest:z.j.TF});});y.addListener("segmentNormalized",function(E){var F,C;F=z.j.im(E.segmentId);C=Math.floor(E.viewableEarliestContentEnd.T);E=q.Hc(Math.floor(E.viewableContentEnd.T));C=q.Hc(C);F && (F.Fy=E,F.zMb=C);z.j.ou || (z.j.ou=E);});D.addListener("segmentPresenting",function(E){var F;z.debug.assert(z.pa,"has access to asePlaygraph");z.debug.assert(z.Ea,"has access to asePlayer");z.debug.assert(z.kI,"has access to segmentPresentingHandler");F=z.pa.OC(E.position);z.kI(F.Z,!1);z.j.fireEvent(k.ba.jI,{type:"segmentPresenting",position:{segmentId:E.position.ya,offset:E.position.offset},playerTimestamp:E.playerTimestamp,metrics:E.metrics});z.Ws=z.Ea.xo();});D.addListener("ptsChanged",function(){z.Ad.emit("skipped");});y.addListener("locationSelected",function(E){z.j.fireEvent(k.ba.Lz,E);});y.addListener("aseReportEnabled",function(){z.j.XL=!0;});y.addListener("aseReport",function(E){z.j.fireEvent(k.ba.eL,E);});};c.prototype.xo=function(){var y,z,A,B,D,E,F,C,G;C=null === (y=this.Ea) || void 0 === y?void 0:y.a6();y=(null !== (z=this.Ws) && void 0 !== z?z:C && this.Ea.xo()) || ({});z=y.N;C=y.eg;G=y.ZN;y=y.LH;return {id:String(null === z || void 0 === z?void 0:z.id),Ce:null !== (A=null === C || void 0 === C?void 0:C.T) && void 0 !== A?A:0,$c:null !== (B=null === z || void 0 === z?void 0:z.Eg.T) && void 0 !== B?B:Infinity,Fc:null !== (D=null === z || void 0 === z?void 0:z.Kk.T) && void 0 !== D?D:0,Yd:null !== (E=null === G || void 0 === G?void 0:G.T) && void 0 !== E?E:Infinity,sd:null !== (F=null === y || void 0 === y?void 0:y.T) && void 0 !== F?F:0};};c.prototype.e5=function(){return {Ce:0};};c.prototype.D6=function(){var y,z;this.debug.assert(this.pa,"has access to asePlaygraph");y={};z=this.pa.pM();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Rsa=function(){this.Ad.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Ad.Gc});};c.prototype.J$=function(y){var z,A,B,D;z=this;this.debug.assert(this.gd,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ea,"has access to asePlayer");this.debug.assert(this.j.sa,"has access to playback manifest");if(this.LI)return (!1,!1);if(!this.j.sa.Wc.audio_tracks.some(function(E,F){if(E.track_id === y.Wm)return (D=F,!0);}))return (!1,!1);!1;this.Qm=D;null === (A=this.j.Tf) || void 0 === A?void 0:A.EXb();(null === (B=this.Ea) || void 0 === B?0:B.JA)?this.zD=!1:n.config.tQb && !this.j.paused.value && (this.Ea.pause([f.Sb.Qa.Lb]),this.zD=!0,this.j.paused.set(!0,{Hra:!0}));this.debug.Wha(this.Qm,"has access to valid requestedAudioTrackIndex number");this.nP[f.Sb.Qa.Lb]=this.Qm;(this.pa.PD({ms:function(){return z.nP[f.Sb.Qa.Lb];}},{ms:function(){return z.nP[f.Sb.Qa.Jb];}}) || this.zD) && this.Ea.resume(this.zD?[f.Sb.Qa.Lb]:void 0);this.Sq(this.pT);return !0;};c.prototype.Ln=function(){var y;this.rf.set(f.ma.If);null === (y=this.pa) || void 0 === y?void 0:y.hZ("intrplay",m.ce.Ln);this.Ad.emit("underflow",{type:"underflow",pts:this.Ad.Gc});this.Sq(this.Le);};c.prototype.Jq=function(y,z){this.VA.Jq(y,z);};c.prototype.open=function(){this.nr || (this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Ea,"has access to asePlayer"),this.nr=this.Rh=!0,this.pa.open(),this.debug.assert(this.Ow,"invalid start position relative to playgraph"),this.pa.hI(this.Ow),this.rf.set(f.ma.ud),this.Sq(this.Le),this.pa.Zha(this.Ea),this.fLb());};c.prototype.play=function(){this.debug.assert(this.pa,"has access to asePlaygrah");this.debug.assert(this.Ea,"has access to asePlayer");0 !== this.pa.state && (this.Ea.resume(this.zD?[f.Sb.Qa.Lb]:void 0),this.rf.set(f.ma.Ec),this.Ad.emit("playing",{type:"playing",pts:this.Ad.Gc}));};c.prototype.stop=function(){var y;this.rf.set(f.ma.gr);null === (y=this.Ea) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Ad.emit("paused",{type:"paused",pts:this.Ad.Gc});};c.prototype.flush=function(){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.tj,"has access to streamingEngine");this.nr && this.rf.value !== f.ma.Ri && this.rf.value !== f.ma.gr && this.stop();this.pa.hZ("endplay",m.ce.Wp);this.pa.xf();this.tj.Bh.save();this.tj.tn.save();};c.prototype.st=function(y){var z;this.debug.assert(this.pa,"has access to asePlaygraph");z=f.S.tb(y);return (z=this.pa.$r(z,{t8a:!0,s8a:!0}))?this.pa.Ga.Aa[z.ya].wc + Number(z.offset.T.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.EL=function(y,z){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.gd,"has access to internalLogger");this.pa.Ga.Aa[y] || (y=this.OU(z));this.debug.N2(y,"has access to segmentId");y={ya:y,offset:f.S.tb(z - this.pa.Ga.Aa[y].wc)};if(y=this.pa.tV(y))return y.T;!1;return z;};c.prototype.Tia=function(y,z){var A,B,D;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ea,"has access to asePlayer");z && this.pa.Ga.Aa[z] || (z=null !== (A=this.OU(y)) && void 0 !== A?A:null === (B=this.Ea) || void 0 === B?void 0:B.cj.ya);return null === (D=this.pa.gn(z,y)) || void 0 === D?void 0:D.$c;};c.prototype.Sy=function(y){var z;z=void 0 === z?!0:z;this.Rh?Number.isFinite(y) && (this.debug.assert(this.Ea,"has access to asePlayer"),z?this.Ea.rY(y):this.Ea.pva(y)):this.fail("Must call open prior to drmReady");};c.prototype.Y5=function(){var y;return null !== (y=this.Ea) && void 0 !== y && y.Ao?this.Ea.Do(this.pa.Ga.Aa[this.Ea.cj.ya].Z):!1;};c.prototype.Ai=function(y){!1;return this.Ea?this.Ea.Ai(f.S.tb(y)):(!1,!1);};c.prototype.ls=function(y,z){var A;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ea,"has access to asePlayer");z && this.pa.Ga.Aa[z] || (z=null !== (A=this.OU(y)) && void 0 !== A?A:this.Ea.cj.ya);this.debug.N2(z,"has access to segmentId");this.debug.assert(this.pa.Ga.Aa[z],"segment exists in playgraph map");y={ya:z,offset:f.S.tb(y - this.pa.Ga.Aa[z].wc)};this.pa.hI(y);this.Ea.resume();this.rf.set(f.ma.ud);this.Sq(this.Le);y=this.pa.Nua(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.T;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.sP=function(y,z){var A;A={};this.pa.ki((A[y]=z,A));};c.prototype.ot=function(y,z){var A,B;this.debug.assert(this.gd,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ea,"has access to asePlayer");A=this.xo().id;B=this.pa.CM(A,y);if(z){if(!B.pab)return (this.gd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.FN)return (!1,B.FN === y);this.pa.Yk(A,y,!1,z);return !0;}if(void 0 !== B.FN)return (!1,!1);B.oL && (this.Ea.reset(),this.pa.Yk(A,y,!1,z),this.Ea.resume(),this.rf.set(f.ma.ud),this.Sq(this.Le));return ! !B.oL;};c.prototype.Gn=function(){var y;this.debug.assert(this.gd,"has access to internalLogger");y=this.Ad.Gc;!1;this.Ad.emit("skipped",{type:"skipped",pts:y});return new f.ZE(Promise.resolve()).Fua;};c.prototype.OU=function(y){var z,A,B,D,E,F,C,G,J;this.debug.assert(this.pa,"has acccess to asePlaygraph");this.debug.assert(this.gd,"has acccess to internalLogger");z=this.pa.Ga;A=[];B=Infinity;for(D in z.Aa){E=z.Aa[D];F=E.wc;E=E.Oc;C=F <= y;G=y < Number(null !== E && void 0 !== E?E:Infinity);!1;if(C && G)(!1,A.push(D));else if((F=Math.min(Math.abs(y - F),Math.abs(y - E)),F < B)){B=F;J=D;}}y=A[0] || J;this.debug.N2(y,"has access to locatedSegmentId");!1;return y;};c.prototype.fLb=function(){var y,z;y=this;this.debug.assert(this.j.Ub,"has acccess to mediaElement");z=this.j.Ub.X;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.rf.value === f.ma.Vg && (y.rf.set(f.ma.Ec),y.Ad.emit("playing",{type:"playing",pts:y.Ad.Gc}));});z.addEventListener("pause",function(){y.rf.value === f.ma.Ec && (y.rf.set(f.ma.Vg),y.Ad.emit("paused",{type:"paused",pts:y.Ad.Gc}));});};c.prototype.fail=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.Sq=function(y){var z,A,B,D,E,F,C,G;z=this;if(y !== this.pT && this.LI)this.UW=y;else {G=!0 === (null === (A=this.Ea) || void 0 === A?void 0:A.Yz.value);A=(null === (B=this.pa) || void 0 === B?void 0:B.Lf.value) === f.Dc.Fj;null === (D=this.Ea) || void 0 === D?void 0:D.Yz.removeListener(this.O1a);null === (E=this.pa) || void 0 === E?void 0:E.Lf.removeListener(this.MQa);G && A?y():(this.O1a=function(){return z.Sq(y);},this.MQa=function(){return z.Sq(y);},null === (F=this.Ea) || void 0 === F?void 0:F.Yz.addListener(this.O1a),null === (C=this.pa) || void 0 === C?void 0:C.Lf.addListener(this.MQa));}};c.prototype.VCb=function(y){var z,A,B;z=this;B=this.j.im(y);return Promise.resolve(null !== (A=B.sa) && void 0 !== A?A:this.j.LSb(B).then(function(){z.j.HRb(B);return B.sa;})).then(function(D){D=D.Wc;return {sa:D,Xh:D.boa && !D.zV,config:z.Od,zd:[].concat(ca(z.zd))};});};c.prototype.YT=function(y,z){var A,B,D;A=this;this.debug.assert(this.tj,"has access to streamingEngine");B=this.yb.Ne(y).Z;if(!this.fl.has(B)){this.fl.store(B,{Wia:function(){},equals:function(E){return E.Z === B && (z.ca === E.ca || !E.ca || !z.ca);},get XA() {D || (D=A.VCb(y));return D;},events:new l.EventEmitter(),ca:z.ca,Z:B,Dt:!1,g9a:!1});this.Od.Wy && this.tj.OD(this.fl.fq(B),{ca:z.ca,zw:z.zw,wC:z.Vy});}};c.prototype.CM=function(y){var z;this.debug.assert(this.Ea,"has access to asePlayer");this.debug.assert(this.pa,"has access to asePlaygraph");return this.pa.CM(null === (z=this.Ea.xo().N) || void 0 === z?void 0:z.id,y);};c.prototype.BIb=function(y){var z,A,B;z=this;A=y.Pv;B=y.ya;this.debug.assert(this.tj,"has access to streamingEngine");this.debug.assert(this.gd,"has access to internalLogger");y=this.j.im(B);y=this.yb.D5(y);B=y.Aa[B];this.debug.assert(B,"segment exists");this.Ow=v.qV(B.Z,y,this.j.Y,B.wc);A=Object.create(this.Od,{Vy:{value:A.Vy}});this.rf=new t.ac(f.ma.qh);this.pa=this.tj.KF(y,this.Od.H4a,A,this.fl);this.VA=new f.aF(this.gd);A=this.pa.hG(this.VA);y=this.pa.gG();this.pa.xva(y,A);this.pa.PD({ms:function(){return z.nP[f.Sb.Qa.Lb];}},{ms:function(){return z.nP[f.Sb.Qa.Jb];}});this.zD=!1;};c.prototype.Zja=function(){var y,z;y=this;this.debug.assert(this.tj,"has access to streamingEngine");z=Object.create(this.Od,{zd:{value:[].concat(ca(this.zd))},lV:{value:function(){return y.A5();}}});this.Ad=Object.create(new l.EventEmitter(),{Gc:{get:function(){y.debug.Wha(y.j.mediaTime.value,"has access to mediaTime.value");return f.S.tb(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},kV:{value:function(){y.debug.assert(y.j.Ub,"has access to mediaElement");return y.j.Ub;}}});this.Ea=this.tj.YOa(this.Ad,z);};c.prototype.A5=function(){this.gj || (this.gj=new f.platform.MediaSource(this.Ad),this.gj.dc || (this.gj.dc=f.platform.MediaSource.dc));return this.gj;};Wa.Object.defineProperties(c.prototype,{LI:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.Qm;}},Pb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.tj,"has access to streamingEngine");return this.tj.Pb;}}});b.iya=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Yha=void 0;c=a(19);b.Yha=function(f){var l,m,d,g;l=f.ck;m=f.loadTime;f=f.UUa;d=c.Ba(m)?m:0;g=l[f.target] || ({});l[f.target] !== g && (l[f.target]=g);Object.entries(f.fields).forEach(function(h){var k,n,p,q;k=aa(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)g[h]=k;else {n=k.type;if("count" === n)(void 0 === g[h] && (g[h]=0),++g[h]);else if(void 0 !== k.value){if("array" === n){n=g[h];p=k.adjust;q=k.value;n || (n=g[h]=[]);p && 0 < p.length && p.forEach(function(v){q[v]-=d || 0;});n.push(q);}else g[h]="sum" === n?(g[h] || 0) + k.value:k.value;}else g[h]=k;}});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.qV=void 0;c=a(47);f=a(22);b.qV=function(l,m,d,g){return m.Aa[m.ff].wc === g?(l=c.Qja(m,l,c.S.tb(d)),f.rb(l,"has valid start position relative to playgraph"),l):{ya:m.ff,offset:c.S.bb};};},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v,u,t,w,x,y,z){var A;A=this;this.NZb=n;this.j=p;this.id=q;this.height=v;this.width=u;this.MQb=t;this.NQb=w;this.size=x;this.St=y;this.urls=z;this.type=f.ri.Qwa;this.retry=!0;this.state=g.np.c0;this.kg={};this.P2={};this.tSb=function(B){if(B.$)try{A.data=A.NZb.parse(B.content);A.state=g.np.yE;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.kg);A.j.fireEvent(h.ba.fZ);}catch(D){A.state=g.np.lGa;A.log.error("TrickPlay parse failed.",D);}else (A.state=g.np.c0,A.log.error("TrickPlay download failed.",k.Ks(B),A.kg));};this.log=m.zh(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;f=a(90);l=a(14);m=a(8);d=a(73);g=a(512);h=a(15);k=a(3);c.prototype.qEb=function(n){if(this.data && (this.St && (n+=this.St),n=Math.floor(n / this.data.header.P9a),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.P9a,height:this.height,width:this.width,pixelAspectHeight:this.MQb,pixelAspectWidth:this.NQb};};c.prototype.H5=function(){switch(this.state){case g.np.yE:return "downloaded";case g.np.LOADING:return "loading";case g.np.QQ:return "downloadfailed";case g.np.lGa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.wGb();n?(this.state=g.np.LOADING,this.tzb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.wGb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(v){return (n.P2[n.urls[v]] || 0) <= l.config.JZb;});if(p){q=this.urls[p];(q in this.P2)?this.P2[q]++:this.P2[q]=1;return {url:q,nC:p};}};c.prototype.tzb=function(n){this.log.trace("Downloading",n.url,this.kg);n={responseType:d.DV,kc:this.Dma(n.nC),url:n.url,track:this};this.j.j6.download(n,this.tSb);};c.prototype.Dma=function(n){return this.j.Tj.find(function(p){return p && p.id === n;});};b.SKa=c;},function(r,b,a){var f;function c(l,m,d,g){this.Lka=l;this.debug=m;this.za=d;this.j=g;this.Q8=[];this.f8={};this.Nka={};this.Rla=!1;this.s9a=1;this.Fya=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;f=a(4);a(15);a(19);a(73);c.prototype.register=function(l,m){this.debug.assert(!(0 <= this.Q8.indexOf(l)),"panel already registered");this.f8[l]=m;this.Q8.push(l);};c.prototype.Ora=function(l){var m;m=this;this.Nka[l]=!0;this.Rla || (this.Rla=!0,setTimeout(function(){return m.cCb();},0));};c.prototype.EXa=function(l){return (l=this.f8[l])?l():void 0;};c.prototype.yM=function(){var l;l=this.j.b9;return l?l.yM():[];};c.prototype.addEventListener=function(l,m){this.Lka.addListener(l,m);this.f8[l] && this.Ora(l);};c.prototype.removeEventListener=function(l,m){this.Lka.removeListener(l,m);};c.prototype.getTime=function(){return this.za.Wb().da(f.ka);};c.prototype.cCb=function(){this.Rla=!1;for(var l=this.Q8.length,m;l--;){m=this.Q8[l];this.Nka[m] && (this.Nka[m]=!1,this.Lka.vc(m + "changed",{getModel:this.f8[m]}));}};b.HAa=c;},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p){var q;q=this;this.rm=n;this.Hr=p;this.Z9a=function(v){var u,t,w,x,y,z,A;u=q.s9a++;t=v.request.tC || "dl";w=q.wYa(t,"start");if(w){x=v.request.Zz;y=x.stream.O.Lo;x=aa(x.stream.O.Ph).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.N.id,!q.J8a.has(y))){z=q.RXa(y);A=v.ds;q.rm.mark(w,z,A?t + "-" + A + "-" + u:t);v.oha(function(){var B,D;B=q.wYa(t,"end");D=A?t + "-" + A + "-" + u:t;B && q.rm.mark(B,z,D);});}}};this.s9a=0;this.J8a=new Set();this.Zua=new Map();p.DU && this.c1b();}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;r=a(1);f=a(0);l=a(62);m=a(70);d=a(4);g=a(73);a=a(40);h={start:{video:l.Ia.ZP,audio:l.Ia.VP},end:{video:l.Ia.YP,audio:l.Ia.UP}};c.prototype.SXa=function(n){var q,v,u,t,w,x,y,z;function p(A){return d.timestamp(q.jPa(d.timestamp(A),n,!0));}q=this;v=new Set();u=n.jd;t=n.ca;w=void 0 === n.D8a?null:n.D8a;x=n.ya;y=this.rm.uXa(t);z=x && this.RXa(x);z && y.push.apply(y,ca(this.rm.uXa(z)));this.rm.$5a(n.ca);z && this.rm.$5a(z);x && this.J8a.add(x);x=[];("pr_ats" in u) && x.push({name:l.Ia.w0,xs:p(u.pr_ats),ca:t,Wj:"request-pre-manifest"});("ats" in u) && x.push({name:l.Ia.u0,xs:p(u.ats),ca:t,Wj:"request-manifest"});("pr_at" in u) && x.push({name:l.Ia.v0,xs:p(u.pr_at),ca:t,Wj:"request-pre-manifest"});("at" in u) && x.push({name:l.Ia.t0,xs:p(u.at),ca:t,Wj:"request-manifest"});("lg" in u) && x.push({name:l.Ia.s0,xs:p(u.lg),ca:t,Wj:"request-license"});("lr" in u) && (x.push({name:l.Ia.r0,xs:p(u.lr),ca:t,Wj:"request-license"}),x.push({name:l.Ia.MZ,xs:p(u.lr),ca:t,Wj:"apply-license"}));("ld" in u) && x.push({name:l.Ia.LZ,xs:p(u.ld),ca:t,Wj:"apply-license"});("tt_start" in u) && x.push({name:l.Ia.XP,xs:p(u.tt_start),ca:t,Wj:"request-timed-text"});("tt_comp" in u) && x.push({name:l.Ia.WP,xs:p(u.tt_comp),ca:t,Wj:"request-timed-text"});return x.concat(y).map(function(A){return q.eZb(A,n);}).filter(function(A){return A.ts <= (null !== w && void 0 !== w?w:A.ts)?("end" === A.step && v.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || v.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var D;D=B.eventName;delete B.eventName;D && (A[D]=B);return A;},{});};c.prototype.Npb=function(n,p,q){return (void 0 === q?0:q)?n.da(d.ka) + p.jk.da(d.ka):n.da(d.ka) - p.jk.da(d.ka);};c.prototype.jPa=function(n,p,q){q=void 0 === q?!1:q;if(p.zm)if(q)n.da(d.ka) + p.zm;else return n.da(d.ka) - p.zm;return this.Npb(n,p,q);};c.prototype.eZb=function(n,p){var q,v;q=n.Wj;v=n.name;return {eventName:this.cOb(v,q),eventId:q || v,ts:this.jPa(n.xs,p),comp:this.cV(v),cat:this.ADb(v),step:this.fGb(v)};};c.prototype.cOb=function(n,p){switch(n){case l.Ia.XP:case l.Ia.WP:case l.Ia.VP:case l.Ia.UP:case l.Ia.ZP:case l.Ia.YP:return n + "-" + p;default:return n;}};c.prototype.cV=function(n){switch(n){case l.Ia.w0:case l.Ia.v0:case l.Ia.u0:case l.Ia.t0:return "manifest";case l.Ia.s0:case l.Ia.r0:case l.Ia.eea:case l.Ia.dea:case l.Ia.A_:case l.Ia.z_:case l.Ia.MZ:case l.Ia.LZ:return "license";case l.Ia.XP:case l.Ia.WP:case l.Ia.VP:case l.Ia.UP:case l.Ia.ZP:case l.Ia.YP:case l.Ia.Iaa:case l.Ia.Haa:return "buffering";case l.Ia.lda:case l.Ia.kda:return "playback";default:return null;}};c.prototype.ADb=function(n){switch(n){case l.Ia.w0:case l.Ia.v0:case l.Ia.u0:case l.Ia.t0:return "aws";case l.Ia.s0:case l.Ia.r0:return "mixed";case l.Ia.lda:case l.Ia.kda:case l.Ia.eea:case l.Ia.dea:case l.Ia.A_:case l.Ia.z_:case l.Ia.MZ:case l.Ia.LZ:case l.Ia.Iaa:case l.Ia.Haa:return "device";case l.Ia.XP:case l.Ia.WP:case l.Ia.VP:case l.Ia.UP:case l.Ia.ZP:case l.Ia.YP:return "cdn";default:return null;}};c.prototype.fGb=function(n){switch(n){case l.Ia.w0:case l.Ia.lda:case l.Ia.u0:case l.Ia.s0:case l.Ia.Iaa:case l.Ia.XP:case l.Ia.VP:case l.Ia.ZP:case l.Ia.eea:case l.Ia.A_:case l.Ia.MZ:return "start";case l.Ia.v0:case l.Ia.kda:case l.Ia.t0:case l.Ia.r0:case l.Ia.dea:case l.Ia.z_:case l.Ia.LZ:case l.Ia.Haa:case l.Ia.WP:case l.Ia.UP:case l.Ia.YP:return "end";default:return null;}};c.prototype.wYa=function(n,p){if((n in h[p]))return h[p][n];};c.prototype.i_b=function(){g.ef.removeEventListener(g.g6,this.Z9a);};c.prototype.c1b=function(){this.i_b();g.ef.addEventListener(g.g6,this.Z9a);};c.prototype.RXa=function(n){var p;if(this.Zua.has(n))return this.Zua.get(n);p=Date.now();this.Zua.set(n,p);return p;};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(m.cR)),r.__param(1,f.l(a.Em))],k);b.IFa=k;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D,E,F,C,G,J,K,H,L,R,I,P,N,M,Q,T;Object.defineProperty(b,"__esModule",{value:!0});b.NRa=void 0;r=a(0);c=a(476);f=a(1186);l=a(103);m=a(1187);d=a(487);g=a(1188);h=a(489);k=a(1189);n=a(490);p=a(1190);q=a(282);v=a(1191);u=a(82);t=a(1192);w=a(1193);x=a(41);y=a(3);z=a(1194);A=a(1195);B=a(1196);D=a(53);E=a(1197);F=a(296);C=a(1198);G=a(1199);J=a(1200);K=a(473);H=a(1201);L=a(1202);R=a(1203);I=a(345);P=a(1204);N=a(66);M=a(537);Q=a(1205);T=a(1206);b.NRa=new r.od(function(da){da(D.Hm).to(E.MGa);da(c.aHa).to(f.$Ga);da(F.tda).to(C.HGa);da(K.JGa).to(H.IGa);da(G.$hb).to(J.eHa);da(l.wda).to(m.bHa);da(M.cHa).Ff(function(pa){return function(){var wa;wa=pa.eb.get(N.Ns);return wa && wa.mab?pa.eb.resolve(T.wHa):pa.eb.resolve(Q.dHa);};});da(d.GGa).to(g.FGa);da(h.tHa).to(k.sHa);da(n.VGa).to(p.UGa);da(q.vda).to(v.WGa);da(u.YJa).to(t.XJa);da(u.bKa).to(w.aKa);da(u.ODa).to(z.NDa);da(u.TJa).to(A.SJa);da(u.ABa).to(B.zBa);da(R.aib).to(L.fHa);da(I.TGa).to(P.SGa);da(u.Wba).Ff(function(pa){return function(wa){switch(wa){case u.gp.start:return pa.eb.get(u.YJa);case u.gp.stop:return pa.eb.get(u.bKa);case u.gp.VV:return pa.eb.get(u.ODa);case u.gp.splice:return pa.eb.get(u.TJa);case u.gp.aM:return pa.eb.get(u.ABa);}throw new x.md(y.M.ohb,void 0,void 0,void 0,void 0,"The event key was invalid - " + wa);};});});},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.$fb,1,m.Si.K0a,m.Si.K0a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k){var n;n=this;return this.send(h,"/" + this.name,k).then(function(p){return p.result;}).catch(function(p){throw n.kn(p);});};c.prototype.aq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.$Ga=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t,w,x,y){u=d.oi.call(this,u,l.M.YQ,3,m.Si.sa,m.Si.sa) || this;u.platform=t;u.Aqa=w;u.KKb=x;u.WLb=y;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;r=a(1);f=a(103);l=a(3);m=a(68);a(185);d=a(74);g=a(53);h=a(34);k=a(40);n=a(156);p=a(282);q=a(0);a=a(537);la(c,d.oi);c.prototype.ig=function(u,t){var w,x;w=this;this.W1=t.It === f.Gm.QE?"prefetch/manifest":m.Si.sa;x=t.It === f.Gm.C0?k.dv.zIa:k.dv.sR;return this.WLb().transform(t,x).then(function(y){var z,A;y=aa(y);z=y.next().value;A=y.next().value;!1;A.Sv && (w.W1=t.It === f.Gm.QE?"prefetch/licensedManifest":"licensedManifest");return w.send(u,A.tl,z,void 0,void 0,x).then(function(B){var D;B=w.Aqa.create(B.result);D=B.Wc.WA.map(function(E){return E.zg;}).filter(Boolean);A.Sv && (0 < D.length?(D=w.KKb.d$a(D),A.Sv.ROa(D),B.Sv=A.Sv,B.s_a=t.It === f.Gm.QE,B.r_a=!0):A.Sv.close());!1;return B;});}).catch(function(y){!1;throw w.kn(y);});};c.prototype.aq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=c;v=r.__decorate([q.R(),r.__param(0,q.l(g.Hm)),r.__param(1,q.l(h.xk)),r.__param(2,q.l(n.ZQ)),r.__param(3,q.l(p.vda)),r.__param(4,q.l(a.cHa))],v);b.bHa=v;},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.zJ,3,m.Si.zg,m.Si.zg) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.aq=function(h,k,n){var p;p=this;k=k.jV(n.t0a).href;this.W1="ldl" === n.t0a?"prefetch/license":m.Si.zg;return this.send(h,k,n.inputs,"drmSessionId").then(function(q){q=q.result;p.itb(q);return q;}).catch(function(q){throw p.kn(q);});};c.prototype.itb=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.FGa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.$da,3,m.Si.zg,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k){var n;n=this;return this.send(h,"/bundle",k).then(function(p){return p.result;}).catch(function(p){throw n.kn(p);});};c.prototype.aq=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.sHa=g;},function(r,b,a){var f,l,m;function c(d){this.xa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UGa=void 0;r=a(1);f=a(0);l=a(37);m=a(4);c.prototype.CZb=function(d){var g;g=this.xa.bf.da(m.Un);return {inputs:d.Uj.map(function(h){return {drmSessionId:h.sessionId,clientTime:g,challengeBase64:h.dataBase64,xid:d.ca.toString(),mdxControllerEsn:d.sW};}),t0a:"standard" === d.Qf.toLowerCase()?"license":"ldl"};};c.prototype.FZb=function(d){var g,h;g=this;h=[];return d.se.map(function(k){h.push(k.id);return {url:g.$rb(k.hH,k.fW),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.ca.toString()}};});};c.prototype.$rb=function(d,g){return "/releaseLicense?drmLicenseContextId=" + d + (g?"&licenseId=" + g:"");};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Lh))],a);b.UGa=a;},function(r,b,a){var f,l,m;function c(d,g){this.ae=d;this.qy=g;}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;r=a(1);f=a(0);l=a(29);a=a(35);c.prototype.d$a=function(d){var g,h;g=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return g.ae.hX(k.substring(k.indexOf("?") + 1));});return {$:!0,se:d.map(function(k,n){return {id:k.drmSessionId,hH:h[n].drmlicensecontextid,fW:h[n].licenseid};}),ej:d.map(function(k){return {data:g.qy.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.Zf)),r.__param(1,f.l(a.mi))],m);b.WGa=m;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Vq.call(this,h,l.M.Jib,d.gp.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;r=a(1);f=a(0);l=a(3);m=a(161);d=a(82);a=a(53);la(c,m.Vq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.XJa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Vq.call(this,h,l.M.qJa,d.gp.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(1);f=a(0);l=a(3);m=a(161);d=a(82);a=a(53);la(c,m.Vq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.aKa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Vq.call(this,h,l.M.xca,d.gp.VV,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;r=a(1);f=a(0);l=a(3);m=a(161);d=a(82);a=a(53);la(c,m.Vq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.NDa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Vq.call(this,h,l.M.oJa,d.gp.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;r=a(1);f=a(0);l=a(3);m=a(161);d=a(82);a=a(53);la(c,m.Vq);g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.SJa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return m.Vq.call(this,h,l.M.peb,d.gp.aM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;r=a(1);f=a(0);l=a(3);m=a(161);d=a(82);a=a(53);la(c,m.Vq);c.prototype.c3=function(h){return Object.assign(Object.assign({},m.Vq.prototype.c3.call(this,h)),{action:h.action});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.zBa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v,u,t,w,x,y,z,A){this.th=q;this.ef=v;this.Ch=u;this.gzb=t;this.rz=w;this.V_b=x;this.pka=y;this.lUb=z;this.oG=A;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;r=a(1);f=a(0);l=a(121);m=a(66);d=a(510);g=a(507);h=a(81);k=a(87);n=a(332);p=a(97);a=a(91);c=r.__decorate([f.R(),r.__param(0,f.l(l.bJ)),r.__param(1,f.l(k.sx)),r.__param(2,f.l(m.Ns)),r.__param(3,f.l(g.PGa)),r.__param(4,f.l(h.rx)),r.__param(5,f.l(n.$Ka)),r.__param(6,f.l(p.o_)),r.__param(7,f.l(d.vHa)),r.__param(8,f.l(a.jx))],c);b.MGa=c;},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.Hbb,2,m.Si.bind,m.Si.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.kn(q);});};c.prototype.aq=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.HGa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$hb="PboPairCommandSymbol";},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.ghb,2,m.Si.O3a,m.Si.O3a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.kn(q);});};c.prototype.aq=function(){return Promise.reject(Error("Links are unsupported with pair"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.eHa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.Ibb,2,m.Si.bind,m.Si.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k,n){var p;p=this;return this.send(h,"/bindDevice",k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.kn(q);});};c.prototype.aq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.IGa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.zhb,1,m.Si.ping,m.Si.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k,n){var p;p=this;return this.send(h,"/" + this.name,k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.kn(q);});};c.prototype.aq=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.fHa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aib="PboPingCommandSymbol";},function(r,b,a){var f,l,m,d,g;function c(h){return d.oi.call(this,h,l.M.Feb,2,m.Si.sa,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=void 0;r=a(1);f=a(0);l=a(3);m=a(68);d=a(74);a=a(53);la(c,d.oi);c.prototype.ig=function(h,k){var n;n=this;return this.send(h,"/generateScreenshots",k).then(function(p){return p.result;}).catch(function(p){throw n.kn(p);});};c.prototype.aq=function(h,k,n){var p;p=this;return this.send(h,k.jV("generateScreenshots").href,n).then(function(q){return q.result;}).catch(function(q){throw p.kn(q);});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.Hm))],g);b.SGa=g;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t,w,x;function c(y,z,A,B,D,E,F,C,G,J){this.Ch=y;this.platform=z;this.config=A;this.Tsb=B;this.$Qb=D;this.ek=E;this.HT=F;this.xa=C;this.L7=G;this.Zm=J;}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;r=a(1);f=a(0);l=a(103);m=a(13);d=a(456);g=a(454);h=a(536);k=a(79);n=a(34);p=a(37);q=a(4);v=a(165);u=a(66);t=a(334);w=a(25);x=a(57);c.prototype.transform=function(y,z){var A,B,D,E,F,C,G,J,K,H,L,R,I;A=this;C=y.ab;G=Object.assign({},C.S2,C.Ro);J={};K=y.Z;J[K]={unletterboxed:! !G.preferUnletterboxed};H=this.config();L=H.g0b?30:25;R=H.Zo?this.ek.bEb():Promise.resolve(this.L7.Kt());I=null === (D=null === (B=H.Ywa) || void 0 === B?void 0:B[null === C || void 0 === C?void 0:C.ve]) || void 0 === D?void 0:D.Zw;B=null === (F=null === (E=H.Ywa) || void 0 === E?void 0:E[null === C || void 0 === C?void 0:C.ve]) || void 0 === F?void 0:F.fC;return Promise.all([this.Zm.rYa(B),this.Zm.tYa(I),this.Zm.DM(),this.Zm.C5(),this.BDb(y.ca,z),this.fEb(y),R]).then(function(P){var N,M,Q,T,da,pa;N=aa(P);M=N.next().value;Q=N.next().value;T=N.next().value;da=N.next().value;pa=N.next().value;P=N.next().value;N=N.next().value;M=(M || []).concat(Q || []).concat(A.config().Qu).concat(["BIF240","BIF320"]).filter(Boolean);da=da?da.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === C.ve?!0:! !G.isUIAutoPlay;T={type:"standard",manifestVersion:A.Ch.BUa?"v2":"v1",viewableId:K,profiles:M,flavor:y.It,drmType:N,drmVersion:L,usePsshBox:!0,isBranching:! !y.ab.Al,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().uYb,imageSubtitleHeight:d.tea.YXa(),uiVersion:A.Ch.PA,uiPlatform:A.Ch.daa,clientVersion:A.platform.version,supportsPreReleasePin:A.config().Fr.pYb,supportsWatermark:A.config().Fr.qYb,showAllSubDubTracks:A.config().Fr.aXb || ! !G.showAllSubDubTracks,packageId:A.rFb(C),deviceSecurityLevel:da,videoOutputInfo:T,titleSpecificData:J,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:Q,challenge:pa,isNonMember:A.Ch.jpa,pin:C.q4a,desiredVmaf:A.config().fab?A.config().xTa:A.config().yTa,desiredSegmentVmaf:A.config().fab?A.config().xTa:A.config().yTa,requestSegmentVmaf:A.config().qUb,supportsPartialHydration:A.Ch.gla};C.YUa && (T.extraParams=C.YUa);C.wTa && (T.desiredDownloadables=C.wTa);C.tua && (T.requestReference=C.tua);pa={tl:P?"licensedManifest":"manifest",Sv:null === P || void 0 === P?void 0:P.Yb};P && (P={drmSessionId:P.Yb.gz() || "session",clientTime:A.xa.lY.da(q.Un),challengeBase64:P.bja},T.challenges={"default":[P]},T.profileGroups=[{name:"default",profiles:M}],T.licenseType=y.Qf == x.Oh.Qn?"limited":"standard",y.ca && (T.xid=y.ca.toString()));A.Ch.tUa && y.It === l.Gm.C0 && (T.maxSupportedLanguages=2);return [T,pa];});};c.prototype.rFb=function(y){if(this.config().u9.enabled){if(void 0 !== y.Ko)return y.Ko;if(void 0 !== this.config().u9.Ko)return Number(this.config().u9.Ko);}};c.prototype.BDb=function(y,z){var A;A=this;return this.Tsb.tWa(z).then(function(B){var D;D=y && A.$Qb.yFb(y);D && D.Gp("cad");return B;});};c.prototype.fEb=function(y){var z;if(void 0 === y.Qf || !this.config().Zo)return Promise.resolve(void 0);z=y.Qf === x.Oh.kp && this.Ch.u3;return y.Qf === x.Oh.Qn && this.Ch.uUa || z?this.HT.zna(y.Qf):Promise.resolve(void 0);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(u.Ns)),r.__param(1,f.l(n.xk)),r.__param(2,f.l(m.Rc)),r.__param(3,f.l(g.iza)),r.__param(4,f.l(h.Mda)),r.__param(5,f.l(k.cv)),r.__param(6,f.l(v.YZ)),r.__param(7,f.l(p.Lh)),r.__param(8,f.l(t.Uca)),r.__param(9,f.l(w.ix))],a);b.dHa=a;},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q){this.platform=k;this.config=n;this.HT=p;this.Zm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;r=a(1);f=a(0);l=a(13);m=a(34);d=a(165);g=a(25);h=a(57);c.prototype.transform=function(k){var n,p;n=this;p=k.ab;return Promise.all([this.Zm.rYa(),this.Zm.tYa(),this.HT.zna(h.Oh.kp)]).then(function(q){var v,u;v=aa(q);q=v.next().value;u=v.next().value;v=v.next().value;return [{viewableId:k.Z,packageId:p.Ko,assetId:p.Xha,challenge:v.bja,audioProfiles:q,textProfiles:n.config().Qu,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u,audioLanguages:p.Rqb,textLanguages:p.NYb,videoLanguages:p.vab?[p.vab]:void 0,requestReference:p.tua},{Sv:null === v || void 0 === v?void 0:v.Yb,tl:"studioManifest"}];});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.xk)),r.__param(1,f.l(l.Rc)),r.__param(2,f.l(d.YZ)),r.__param(3,f.l(g.ix))],a);b.wHa=a;},function(r,b,a){var c,f,l,m,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(275);f=a(508);l=a(1208);m=a(1209);d=a(1210);g=a(40);b.transports=new r.od(function(h){h(c.N0).to(d.NKa).aa();h(f.PFa).to(l.OFa);h(f.VJa).to(m.UJa);h(f.OKa).Ff(function(k){return function(n){var p;return k.eb.get(c.N0).o$(null !== (p=null === n || void 0 === n?void 0:n.JNb) && void 0 !== p?p:g.dv.sR)?k.eb.get(f.PFa):k.eb.get(f.VJa);};});});},function(r,b,a){var f,l,m,d,g,h,k;function c(n,p,q,v){var u;u=this;this.rD=p;this.receiver=q;this.profile=v;this.log=n.hb("MslTransport");this.rD().then(function(t){return u.j8=t;});}Object.defineProperty(b,"__esModule",{value:!0});b.OFa=void 0;r=a(1);f=a(0);l=a(7);m=a(155);d=a(4);g=a(191);a=a(94);h={license:!0};c.prototype.send=function(n,p){var q,v;q=this;v={u2a:Object.assign({ef:n.ef,log:n.log,profile:this.profile},n.Brb),method:n.tl,url:n.url.href,body:JSON.stringify(p),timeout:n.timeout.da(d.ka),m0b:this.profile,Z$b:!h[n.tl],aOb:! !h[n.tl],Jk:!0,O9:n.Gua,headers:n.headers};!1;return this.rD().then(function(u){return u.send(v).then(function(t){q.receiver.fO({command:n.tl,inputs:p,outputs:t});return t;}).catch(function(t){var w;if(!t.error)throw (t.xc=t.na || t.xc,q.receiver.fO({command:n.tl,inputs:p,outputs:t}),t);w=t.error;w.LD=t.LD;q.log.error("Error sending MSL request",{mslCode:w.aA,subCode:w.xc,data:w.data,message:w.message});q.receiver.fO({command:n.tl,inputs:p,outputs:w});throw w;});});};c.prototype.Mja=function(){var n;return {userTokens:null === (n=this.j8) || void 0 === n?void 0:n.GW.getUserIdTokenKeys()};};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(l.ob)),r.__param(1,f.l(m.dR)),r.__param(2,f.l(g.n0)),r.__param(3,f.l(a.uR))],k);b.OFa=k;},function(r,b,a){var f,l,m,d,g;function c(h,k,n){this.receiver=k;this.ef=n;this.log=h.hb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(1);f=a(0);l=a(4);m=a(7);d=a(191);a=a(87);c.prototype.send=function(h,k){var n,p;n=this;p={url:h.url.href,tC:"nq-" + h.tl,cta:JSON.stringify(k),y3:h.timeout.da(l.ka),headers:h.headers,withCredentials:!0};!1;return new Promise(function(q,v){n.ef.download(p,function(u){u.$?q(u):v(u);});}).then(function(q){q={status:"success",body:q.content};n.receiver.fO({command:h.tl,inputs:k,outputs:q});return q;}).catch(function(q){var v;if(!q.error)throw (q.xc=q.na || q.xc,n.receiver.fO({command:h.tl,inputs:k,outputs:q}),q);v=q.error;v.LD=q.LD;n.log.error("Error sending SSL request",{subCode:v.xc,data:v.content,message:v.message});n.receiver.fO({command:h.tl,inputs:k,outputs:v});throw v;});};c.prototype.Mja=function(){return {};};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(m.ob)),r.__param(1,f.l(d.n0)),r.__param(2,f.l(a.sx))],g);b.UJa=g;},function(r,b,a){var f,l,m,d,g;function c(h){return l.We.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NKa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);d=a(45);g=a(40);la(c,l.We);c.prototype.o$=function(h){var k,n;k=this.VI;n=this.oPa;switch(h){case g.dv.sR:return k;case g.dv.zIa:return k && !n;case g.dv.Ygb:return !1;}};Wa.Object.defineProperties(c.prototype,{VI:{configurable:!0,enumerable:!0,get:function(){return !0;}},oPa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Yc,"usesMsl")],a.prototype,"VI",null);r.__decorate([d.config(d.Yc,"allowRequestsWithoutMsl")],a.prototype,"oPa",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.Ol))],a);b.NKa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Bl=void 0;r=a(0);c=a(522);f=a(1212);b.Bl=new r.od(function(l){l(c.cEa).to(f.bEa);});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u,t){this.rG=p;this.Vp=q;this.config=v;this.wN=u;this.Dd=t;}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;r=a(1);f=a(0);l=a(120);m=a(1213);d=a(1214);g=a(69);h=a(13);k=a(137);a=a(119);c.prototype.create=function(p,q,v){return p?new m.dEa(this.config(),this.Vp,this.Dd,q,v,this.rG,this.wN()):new d.WDa(this.config,this.Dd,q,v);};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(l.r_)),r.__param(1,f.l(g.Zu)),r.__param(2,f.l(h.Rc)),r.__param(3,f.l(k.$Q)),r.__param(4,f.l(a.bF))],n);b.bEa=n;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v,u,t,w,x,y){t=k.TP.call(this,t,w) || this;t.config=q;t.Vp=v;t.Dd=u;t.rG=x;t.Yqa=y;t.log=l.zh(t.j,"LicenseBroker");t.dW=new Set();t.Xqa=!1;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;r=a(1);f=a(3);l=a(8);m=a(323);d=a(4);g=a(0);h=a(287);k=a(538);n=a(57);p=a(15);la(c,k.TP);c.prototype.I8=function(){var q,v;q=this;v=this.j.ia;this.dW.has(v.J) || (this.dW.add(v.J),this.nqb(v).catch(function(){return q.m6a(v);}).then(function(){return q.GPa(v);}).catch(function(u){return q.FPa(v,u);}).catch(function(u){return q.Vd(u.code,u,u.Kd);}));};c.prototype.nqb=function(q){var v;v=this;return Promise.all([this.Dd.pWa(q.J),this.rG()]).then(function(u){var t,w;u=aa(u);t=u.next().value;w=u.next().value;return t.h$.then(function(x){var y;if("manifest" === t.source){y=v.qXa(q);w.o2a(y,x);}return x;}).then(function(x){return v.J2(x,q,t.source);});}).catch(function(u){v.log.warn("eme not in cache",u);throw u;});};c.prototype.J2=function(q,v,u){this.b5a(q,v);v.SF=u;this.Yqa.setMediaKeys(q.mediaKeys);return q.Oha();};c.prototype.wCb=function(q){var v;v={};q.forEach(function(u){v[m.cUa(u.xW)]=u.time.da(d.ka);});return v;};c.prototype.b5a=function(q,v){var u;u=this;v.lf=q;q.WVb(function(t){u.Vd(t.code,t,t.Kd);});};c.prototype.GPa=function(q){this.log.info("Successfully applied license for xid: " + q.ca + ", viewable: " + q.J + ", segment: " + q.ya);this.uz(q);this.Xqa?this.K4(q.J):this.setMediaKeys(q);};c.prototype.FPa=function(q,v){this.uz(q);throw v;};c.prototype.uz=function(q){q.lf && q.uz(this.wCb(q.lf.jd));};c.prototype.qXa=function(q){var v;return {type:this.t5(!1),initData:q.yu.map(function(u){return l.Ar(u);}),context:{X:this.Ub.X,vu:null === (v=q.rg.value) || void 0 === v?void 0:v.vu},Fi:{J:q.J,ca:q.ca,lj:q.lj,gm:q.gm,bk:q.sa.bk}};};c.prototype.m6a=function(q){var v;v=this;return this.rG().then(function(u){var t;t=v.qXa(q);v.dW.add(q.J);return u.zg(t,v.Yqa).then(function(w){v.b5a(w,q);v.j.fireEvent(p.ba.nN,{J:q.J});return w.Oha();});});};c.prototype.setMediaKeys=function(q){var v;v=this;if(this.Xqa)this.log.trace("Media Keys already set");else try{this.Ub.X?this.Ub.X.setMediaKeys(q.lf.mediaKeys).then(function(){v.K4(q.J);v.Xqa=!0;}).catch(function(u){u=v.zYa(u);v.Vd(f.M.IJ,u,u.mf);}):this.K4(q.J);}catch(u){this.Vd(f.M.IJ,u,void 0);}};c.prototype.uA=function(){var q,v;q=this;v=this.j.ia.lf;return v?this.rG().then(function(u){return u.release(v,q.Yqa).then(function(t){q.log.trace("Successfully released the license");return t.close();}).catch(function(t){q.log.error("Unable to release the license",t);});}):Promise.resolve();};c.prototype.l6a=function(q){var v;v=this;q=void 0 === q?this.j:q;return this.m6a(q).then(function(){return v.GPa(q);}).catch(function(u){return v.FPa(q,u);});};c.prototype.t5=function(q){return this.Vp.TU?n.Oh.Qn:q?n.Oh.Qn:n.Oh.kp;};Wa.Object.defineProperties(c.prototype,{uD:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},km:{configurable:!0,enumerable:!0,get:function(){return this.config.km;}}});a=c;r.__decorate([h.aW],a.prototype,"uD",null);a=r.__decorate([g.R()],a);b.dEa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v;function c(u,t,w,x){w=p.TP.call(this,w,x) || this;w.config=u;w.Dd=t;w.log=l.zh(w.j,"LegacyLicenseBroker");w.km=w.config().km;w.config().h5a?d.z_a()?w.naa=!0:w.log.error("Promise based eme requested but platform does not support it",{browserua:g.qB}):w.naa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;r=a(1);f=a(3);l=a(8);m=a(154);d=a(50);g=a(11);h=a(0);k=a(287);n=a(34);p=a(538);q=a(57);la(c,p.TP);c.prototype.xSa=function(u){var t;t=void 0 === t?this.j:t;return new this.Xr.nJ(u,function(w){return t.ST.HG(w);},function(w){return t.ST.release(w);},{nf:!1,Ok:!1});};c.prototype.iG=function(u){var t,w,x,y,z,A;t=this;u=void 0 === u?this.j:u;w=a(52).aj;this.Xr.nJ || this.Vd(f.M.zJ,f.L.heb);x=l.zh(u,"Eme");y=this.xSa(x);z=l.ja.get(m.zR);A=z.C3(u.Uc.value.streams);z=z.F3(u.rg.value.streams);return this.Xr.pJ(x,function(B){return u.Bd(B);},{nf:!1,Ok:!1,xa:{getTime:w},Hl:y,BX:! !this.naa,X:this.Ub.X,TA:this.config().sUa,onerror:function(B,D,E){return t.Vd(B,D,E);},Lra:function(){},IH:!0,Qqb:A,I0b:z,o6:this.config().o6});};c.prototype.setMediaKeys=function(u){var t;t=this;return this.naa?new Promise(function(w,x){if(t.Ub.X)t.Ub.X.setMediaKeys(u).then(function(){w();}).catch(function(y){var z;z=t.zYa(y);x({$:!1,code:f.M.IJ,xc:z.na,Kd:z.mf,Bb:z.Bb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.QUa=function(u){return {code:u.code,subCode:u.xc,extCode:u.Kd,edgeCode:u.bn,message:u.message,errorDetails:u.Bb,errorData:u.dM,state:u.state};};c.prototype.sva=function(u,t,w){var y,z,A;function x(){z.WH().catch(function(B){y.log.error("Unable to set the license",y.QUa(B));B.cause && B.cause.Bb && (B.Bb=B.Bb?B.Bb + B.cause.Bb:B.cause.Bb);y.Vd(B.code,B,B.Kd);});}y=this;w=void 0 === w?this.j:w;z=w.lf;this.log.info("Setting the license");A=t?function(){return Promise.resolve();}:function(){return z.zg(y.t5(!1),u);};return (t?function(){return z.J2(y.Ub.X);}:function(){return z.create(y.km).then(function(){return Promise.resolve();});})().then(function(){return y.config().I7a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().I7a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.K4(w.J);y.Ub.Jab.then(function(){y.config().fD && (t || y.config().TU) && (y.h6a=nb.setTimeout(x,y.config().fD));});}).catch(function(B){y.log.error("Unable to set the license",y.QUa(B));B.cause && B.cause.Bb && (B.Bb=B.Bb?B.Bb + B.cause.Bb:B.cause.Bb);if(t)throw Error(B && B.message?B.message:"failed to set license");y.Vd(B.code,B,B.Kd);});};c.prototype.uA=function(){return Promise.resolve();};c.prototype.I8=function(){var t;function u(){var w;t.j.lf=t.iG();w=[];t.j.yu.forEach(function(x){w.push(l.Ar(x));});t.sva(w);}t=this;this.dW || (this.dW=!0,this.Xr.pJ?this.j.yu?this.config().CU && this.config().Dw?this.Dd.pWa(this.j.J).then(function(w){t.j.lf=w;return w.Fxa.then(function(){var x;x=[];t.j.yu.forEach(function(y){x.push(l.Ar(y));});return t.sva(x,!0).then(function(){var y;if(w.K7b)t.Vd(f.M.keb);else {y=l.zh(t.j,"Eme");w.O$a({log:y,yn:function(z){return t.j.Bd(z);}},{Hl:t.xSa(y),onerror:function(z,A,B){return t.Vd(z,A,B);}});t.j.uz(w.jd || ({}));t.j.SF="videopreparer";}});});}).catch(function(w){t.log.warn("eme not in cache",w);u();}):u():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Vd(f.M.Lhb)):this.Vd(f.M.zJ,f.L.ieb));};c.prototype.l6a=function(u){var t;u=void 0 === u?this.j:u;u.lf=this.iG();t=[];u.yu.forEach(function(w){t.push(l.Ar(w));});return this.sva(t,!1,u);};c.prototype.t5=function(u){return this.config().TU?q.Oh.Qn:u?q.Oh.Qn:q.Oh.kp;};Wa.Object.defineProperties(c.prototype,{Xr:{configurable:!0,enumerable:!0,get:function(){return l.ja.get(n.rB);}},uD:{configurable:!0,enumerable:!0,get:function(){return this.naa?"encrypted":this.Ub.pBa + "needkey";}}});v=c;r.__decorate([k.aW],v.prototype,"Xr",null);r.__decorate([k.aW],v.prototype,"uD",null);v=r.__decorate([h.R()],v);b.WDa=v;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u;Object.defineProperty(b,"__esModule",{value:!0});b.Dh=void 0;r=a(0);c=a(300);f=a(1216);l=a(301);m=a(1221);d=a(188);g=a(1224);h=a(1225);k=a(160);n=a(539);p=a(1226);q=a(540);v=a(1228);u=a(81);b.Dh=new r.od(function(t){t(c.Qda).to(f.kIa).aa();t(l.Sda).to(m.wIa).aa();t(d.o0).to(g.iIa).aa();t(k.KJ).to(h.gIa).aa();t(n.qIa).to(p.pIa).aa();t(q.uIa).Ff(function(w){var x;x=w.eb;return function(y){return new v.vIa(y,x.get(u.rx),x.get(k.KJ));};});});},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v,u,t,w,x,y){this.Sf=q;this.wla=v;this.Uk=u;this.Mwa=t;this.lRb=w;this.nRb=x;this.mRb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(1);f=a(0);l=a(1217);m=a(7);d=a(160);g=a(335);h=a(539);k=a(343);n=a(540);a=a(301);c.prototype.create=function(q){return new l.lIa(q,this.Sf,this.wla,this.Uk,this.Mwa,this.lRb,this.nRb,this.mRb);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(m.ob)),r.__param(1,f.l(g.oQ)),r.__param(2,f.l(d.KJ)),r.__param(3,f.l(k.LKa)),r.__param(4,f.l(h.qIa)),r.__param(5,f.l(n.uIa)),r.__param(6,f.l(a.Sda))],p);b.kIa=p;},function(r,b,a){var f,l,m;function c(d,g,h,k,n,p,q,v){this.Mwa=n;this.Dxa=v;this.QU=!1;k.maa && (d=new m.mIa().EZb(d));this.yb=q(d);this.tk=new l.xIa(this.yb);this.tk.B7a(this.yb.ia.Z);this.log=g.hb("PlaygraphManager");this.Ob=h.create();this.Cw=p.create(this.yb,this.tk,this.log,this.Ob);this.FWb();}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;f=a(15);l=a(1218);m=a(1220);c.prototype.BFb=function(){return this.yb.i9;};c.prototype.i5=function(){return this.yb.ia;};c.prototype.DWa=function(){return this.yb.Yh;};c.prototype.KG=function(){return this.yb.Vk;};c.prototype.Yk=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.yb.Yk.apply(this.yb,ca(g));};c.prototype.Mtb=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.yb.VPa(g);};c.prototype.mZ=function(d){this.yb.Vk=d;};c.prototype.ki=function(d,g){this.yb.ki(d,g);};c.prototype.Una=function(d,g,h){var k;h=void 0 === h?{}:h;if(d !== this.yb.Yh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (k=this.KG().Aa[d].next) && void 0 !== k?k:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.b8a();return this.Cw.Vna(g,h);};c.prototype.isReady=function(){return this.Cw.isReady();};c.prototype.addListener=function(d,g,h){this.Ob.addListener(d,g,h);};c.prototype.removeListener=function(d,g){this.Ob.removeListener(d,g);};c.prototype.ln=function(){return this.Cw.ln();};c.prototype.wb=function(){return this.Cw.FM();};c.prototype.ixb=function(d,g,h){var k;d=void 0 === d?this.KG().ff:d;g=void 0 === g?{}:g;k=this.Dxa.HSa(this);this.PRb(null !== d && void 0 !== d?d:this.KG().ff,g,h);return k;};c.prototype.Jpb=function(d){var g;this.log.info("Adding segment - movieId: " + d.J + ", startPts: " + d.Y + ", logicalEnd: " + d.fj);g=Object.assign({},d.Nb,d.Y?{Y:d.Y}:{},d.fj?{fj:d.fj}:{});this.R8a(d.J,g,d.sa);d=this.Cw.dPa(d);this.b8a();return d;};c.prototype.transition=function(d){var g;g=this.yb.ina(this.yb.Yh);return g?this.Una(this.yb.Yh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Cw.close(d);};c.prototype.PRb=function(d,g,h){var k;void 0 === d && (d=null === (k=this.KG()) || void 0 === k?void 0:k.ff);(g || h) && this.R8a(this.KG().Aa[d].Z,null !== g && void 0 !== g?g:{},h);this.Cw.OH(d);};c.prototype.R8a=function(d,g,h){h && this.tk.$K(d,h);this.tk.ypb(d,g);};c.prototype.FWb=function(){var d;d=this;this.yb.fYb(function(){d.tk.xw();d.Cw.xw();});this.yb.gYb(function(g){d.Cw.ksa(g);});this.addListener(f.TE.jY,function(){return d.yPb();});this.addListener(f.Ka.e_a,function(g){return d.lPb(g);});};c.prototype.b8a=function(){var d;d=this;this.QU || (this.wb().wha(f.ba.jI,function(g){return d.xD(g);}),this.QU=!0);};c.prototype.lPb=function(d){var g;g=this;this.Cw.o$a(d).catch(function(){return g.Ob.vc(f.Ka.error,d.$Y());});};c.prototype.yPb=function(){var d;d=this.wb().getError();d?this.Ob.vc(f.Ka.pL,d):(this.Ob.vc(f.Ka.gia),this.Ob.vc(f.Ka.Vm),this.Ob.vc(f.Ka.KA),this.Ob.vc(f.Ka.Jn),this.Ob.vc(f.Ka.fZ),this.Ob.vc(f.Ka.pL));};c.prototype.xD=function(d){var g,h,k;!1;g=d.metrics;if(g){h=this.wb();k=h.im(d.position.segmentId);g=h.im(g.srcsegment);this.Mwa.uSb(d,k,g,! !h.TXa().Al);}};b.lIa=c;},function(r,b,a){var f;function c(l){this.Ga=l;this.AP={};this.xw();}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;f=a(1219);c.prototype.xw=function(){var l;l=this;Object.values(this.Ga.Vk.Aa).forEach(function(m){m=m.Z;l.AP[m] || l.$Za(m);});this.faa();};c.prototype.NM=function(l){return this.AP[l];};c.prototype.YVb=function(l){this.nV(l).state=f.Jx.UBa;this.faa();};c.prototype.XVb=function(l,m){l=this.nV(l);l.state=f.Jx.Error;l.error=m;l.I6a(!1);this.faa();};c.prototype.B7a=function(l){l=this.nV(l);l.state=f.Jx.$db;l.I6a(!0);this.faa();};c.prototype.ypb=function(l,m){this.nV(l).Nb=m;};c.prototype.$K=function(l,m){this.nV(l).sa=m;};c.prototype.nV=function(l){var m;return null !== (m=this.NM(l)) && void 0 !== m?m:this.$Za(l);};c.prototype.$Za=function(l){var m,d;m=void 0;d=new Promise(function(g,h){m=function(k){(k?g:h)();};});return this.AP[l]={state:f.Jx.YFa,VSb:d,I6a:m};};c.prototype.faa=function(){var m;for(var l=this.Ga.Yh;l=this.Ga.ina(l);){m=this.kq(l);if(this.AP[m].state === f.Jx.Error)break;if(this.AP[m].state === f.Jx.UBa)break;if(this.AP[m].state === f.Jx.YFa)break;}};c.prototype.kq=function(l){return this.Ga.Vk.Aa[l].Z;};b.xIa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jx=void 0;r=b.Jx || (b.Jx={});r[r.YFa=0]="None";r[r.UBa=1]="Fetching";r[r.$db=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mIa=void 0;f=a(67);c.prototype.EZb=function(l){var m;if(!this.KJb(l.Aa))return l;m=new f.SE().sY(l.ff);Object.entries(l.Aa).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;d === l.ff?m.jo(d,Object.assign(Object.assign({},g),{next:void 0,Oc:void 0,Zh:void 0})):m.jo(d,g);});return m.zi();};c.prototype.KJb=function(l){l=Object.values(l).map(function(m){return m.Z;});return 1 === new Set(l).size;};b.mIa=c;},function(r,b,a){var f,l,m;function c(d){this.za=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(1);f=a(0);l=a(17);c.prototype.create=function(d){return new (a(302).P0)(this.za.Wb(),d);};c.prototype.HSa=function(d){return new (a(1222).kLa)(this.za.Wb(),d);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.cd))],m);b.wIa=m;},function(r,b,a){var f,l;function c(m,d){var g;g=f.P0.call(this,m,d) || this;g.seek=function(h){return g.wb().seek(h);};g.addEpisode=function(h){return g.Upa.jpb(h);};g.playNextEpisode=function(h){h=void 0 === h?{}:h;return g.Upa.XQb(h);};g.watchCredits=function(){return g.Upa.X0b();};g.playSegment=function(h){return g.wb().y4a(h);};g.queueSegment=function(h){return g.wb().r5a(h);};g.updateNextSegmentWeights=function(h,k){return g.wb().ki(h,k);};g.setNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(p){return {ya:p.segmentId,MW:p.nextSegmentId};});g.Dh.Yk.apply(g.Dh,ca(k));};g.clearNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return g.Dh.Mtb.apply(g.Dh,ca(k));};g.goToNextSegment=function(h,k){return g.Dh.Una(h,k);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return ! !g.wb().sV().visibility;};g.setTimedTextVisibility=function(h){return g.setTimedTextVisible(h);};g.setTimedTextSize=function(h){return g.wb().PO({size:h});};g.setTimedTextBounds=function(h){return g.wb().PO({bounds:h});};g.setTimedTextMargins=function(h){return g.wb().PO({margins:h});};g.setTimedTextVisible=function(h){return g.wb().PO({visibility:h});};g.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};g.Upa=new l.$Da(m,d,g.log);return g;}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;f=a(302);l=a(1223);la(c,f.P0);b.kLa=c;},function(r,b,a){var f;function c(l,m,d){this.jk=l;this.Dh=m;this.log=d;this.c9=new f.Nda();}Object.defineProperty(b,"__esModule",{value:!0});b.$Da=void 0;f=a(541);c.prototype.jpb=function(l){var m,d,g,h,k,n,p;this.log.info("Next episode added",l);n=this.c9.Cqa(l.playbackParams);p=Math.max(0,null !== (g=null !== (d=null !== (m=l.startPts) && void 0 !== m?m:l.nextStartPts) && void 0 !== d?d:n.Y) && void 0 !== g?g:0);m=null !== (k=null !== (h=l.endPts) && void 0 !== h?h:l.currentEndPts) && void 0 !== k?k:n.fj;return this.Dh.Jpb({J:l.movieId,Y:p,fj:m,Nb:n,sa:l.manifest,jk:this.jk});};c.prototype.XQb=function(l){var m,d,g,h,k;l=this.c9.Cqa(l);this.log.info("Playing the next episode",l);d=this.Dh.DWa();g=this.Dh.KG();h=g.Aa[d];k=Object.keys(null !== (m=h.next) && void 0 !== m?m:{}).find(function(n){return h.Z !== g.Aa[n].Z;});return k?this.Dh.Una(d,k,l):Promise.reject(Error("Next episode not found"));};c.prototype.X0b=function(){};b.$Da=c;},function(r,b,a){var f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(1);f=a(0);l=a(67);c.prototype.dxb=function(m){var h,k,n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;if(0 === d.length)throw Error("Empty playgraph");k=new l.SE().sY(this.Zv(d[0]));d.reverse().forEach(function(p){var q;q=h.Zv(p);k.jo(q,Object.assign({Z:p,wc:0,Oc:Infinity},n?{Zh:n}:{}));n=q;});return k.zi();};c.prototype.Zv=function(m,d){return m + ":" + (void 0 === d?"main":d);};c.prototype.mqb=function(m,d){var g,h,k,n;if(void 0 === k)k=null !== (g=d.id) && void 0 !== g?g:this.Zv(d.J);g=this.nXa(m);n=new l.SE(m);n.jo(k,{Z:d.J,wc:null !== (h=d.Y) && void 0 !== h?h:0,Oc:Infinity});m=m.Aa[g];d={};n.jo(g,Object.assign({},m,{Zh:k,next:Object.assign({},m.next || ({}),(d[k]={},d))}));return n.zi();};c.prototype.nXa=function(m){for(var d=m.ff,g=d;g=m.Aa[g].Zh;){d=g;}return d;};a=r.__decorate([f.R()],c);b.iIa=a;},function(r,b,a){var f,l,m,d,g;function c(h){return l.We.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;r=a(1);f=a(0);l=a(46);m=a(36);d=a(45);g=a(4);la(c,l.We);Wa.Object.defineProperties(c.prototype,{VRb:{configurable:!0,enumerable:!0,get:function(){return 2;}},URb:{configurable:!0,enumerable:!0,get:function(){return g.e8(3);}},wxa:{configurable:!0,enumerable:!0,get:function(){return !1;}},maa:{configurable:!0,enumerable:!0,get:function(){return !1;}},lab:{configurable:!0,enumerable:!0,get:function(){return !1;}},JVa:{configurable:!0,enumerable:!0,get:function(){return !1;}},N4a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.QA,"prepareSegmentsUpfront")],a.prototype,"VRb",null);r.__decorate([d.config(d.Qk,"prepareSegmentsDuration")],a.prototype,"URb",null);r.__decorate([d.config(d.Yc,"usePlaygraphForPostPlay")],a.prototype,"wxa",null);r.__decorate([d.config(d.Yc,"usePlaygraphForSkipSegment")],a.prototype,"maa",null);r.__decorate([d.config(d.Yc,"useSinglePlayerPlayback")],a.prototype,"lab",null);r.__decorate([d.config(d.Yc,"forcePlaygraphTrace")],a.prototype,"JVa",null);r.__decorate([d.config(d.Yc,"postPlayDefaultNextEpisode")],a.prototype,"N4a",null);a=r.__decorate([f.R(),r.__param(0,f.l(m.Ol))],a);b.gIa=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p,q;function c(v,u,t,w,x,y,z){this.za=v;this.mVb=t;this.Uk=x;this.Aq=z;this.lVb=u.EC(!1,"0.0032.989.910",v.id,y,w);}Object.defineProperty(b,"__esModule",{value:!0});b.pIa=void 0;r=a(1);f=a(0);l=a(17);m=a(160);d=a(1227);g=a(340);h=a(209);k=a(13);n=a(542);p=a(38);a=a(188);c.prototype.create=function(v,u,t,w){var x,y;x=this.mVb.Vwb(v,this.lVb,u);y=v.xxa;t.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.QJa(this.Uk,v,u,t,x,w,this.Aq):new n.HE(v,u,x,w,this.Aq);};q=c;q=r.__decorate([f.R(),r.__param(0,f.l(l.cd)),r.__param(1,f.l(g.CJa)),r.__param(2,f.l(h.kea)),r.__param(3,f.l(k.Rc)),r.__param(4,f.l(m.KJ)),r.__param(5,f.l(p.qR)),r.__param(6,f.l(a.o0))],q);b.pIa=q;},function(r,b,a){var f,l,m,d;function c(g,h,k,n,p,q,v){var u;u=d.HE.call(this,h,k,p,q,v) || this;u.Uk=g;u.ta=n;u.QU=!1;u.rla=new Map();u.oPb=function(){u.FM().wha(l.ba.jI,function(t){u.Ob.vc(l.TE.jY);u.yb.Yh=t.position.segmentId;});};u.wIb();q.addListener(l.Ka.loaded,u.oPb);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.QJa=void 0;f=a(67);l=a(15);m=a(3);d=a(542);la(c,d.HE);c.prototype.dPa=function(g){var h,k,n,p,q,v,u,t,w,x,y;h=this;n=this.yb.Vk;p=this.Aq.Zv(g.J,"ident");q=this.Aq.Zv(g.J,"main");v=this.Aq.Zv(g.J,"credits");u=isFinite(g.fj);t=isFinite(g.Y) && g.J !== n.Aa[n.ff].Z;w={};x=new f.SE(n).jo(q,Object.assign({Z:g.J,wc:t && g.Y || 0,Oc:null !== (k=g.fj) && void 0 !== k?k:Infinity},u?{next:(w[v]={},w),Zh:v}:{}));t && (k={},x.jo(p,{Z:g.J,wc:0,Oc:g.Y,next:(k[q]={},k),Zh:q}));u && x.jo(v,{Z:g.J,wc:g.fj,Oc:Infinity});if(!this.yb.iI(q)){g=n.Aa[this.Aq.nXa(n)].Z;y=this.Aq.Zv(g,"credits");[this.Aq.Zv(g,"main"),y].filter(function(z){return h.yb.iI(z);}).forEach(function(z){var A,B,D;A=h.yb.Ne(z);B=z === y || h.Uk.N4a;D={};x.jo(z,Object.assign({},A,{next:Object.assign({},A.next,(D[q]={},D))},B?{Zh:q}:{}));});}this.yb.Vk=x.zi();return this.OH(q);};c.prototype.xw=function(){this.isReady() && this.FM().xw();};c.prototype.ksa=function(){};c.prototype.Vna=function(g,h){h=void 0 === h?{}:h;this.ta.debug("goToSegment " + g);return this.FM().S5(g,h);};c.prototype.OH=function(g){if(g === this.kVb)return null;this.kVb=g;return this.QU?this.tk.NM(this.yb.Ne(g).Z).VSb:(this.QU=!0,d.HE.prototype.OH.call(this,g));};c.prototype.o$a=function(g){return g.errorCode && this.rla.has(g.errorCode)?this.rla.get(g.errorCode)(g):Promise.reject(Error("Error " + g.errorCode + " isn't recoverable"));};c.prototype.wIb=function(){var g;g=this;this.rla.set(m.M.zGa,function(){var h,k;return null !== (k=null === (h=d.HE.prototype.OH.call(g,g.yb.Yh)) || void 0 === h?void 0:h.then(function(){var n,p;d.HE.prototype.Vna.call(g,g.yb.Yh,null !== (p=null === (n=g.tk.NM(g.yb.ia.Z)) || void 0 === n?void 0:n.Nb) && void 0 !== p?p:{});})) && void 0 !== k?k:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.QJa=c;},function(r,b,a){var f,l;function c(m,d,g){this.rz=d;this.Uk=g;this.L1={};this.H$a=[];this.q8a=[];this.Uha=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;f=a(67);l=a(67);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.Aa).length && 1 === new Set(Object.values(m.Aa).map(function(g){return g.Z;})).size;this.Job=this.Uk.lab || d;this.O7a(m);this.Yh=m.ff;this.rnb=this.rz.Hy();this.Ova=new Map();};c.prototype.D5=function(m){if(this.xxa)return this.Vk;this.Uha.has(m) || this.Uha.set(m,f.rI(m.J,m.ya));return this.Uha.get(m);};c.prototype.O7a=function(m){this.snb=m;this.L1={};m=Object.keys(m.Aa);this.VPa(m);this.vOb();};c.prototype.Yk=function(m){var h;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;d.filter(function(k){return h.iI(k.ya);}).filter(function(k){k=k.MW;return !k || h.iI(k);}).forEach(function(k){h.L1[k.ya]=h.$2a(k.MW);});};c.prototype.VPa=function(m){var d;d=this;m.filter(function(g){return d.iI(g);}).forEach(function(g){d.L1[g]=d.$2a(d.Ne(g).Zh);});};c.prototype.ki=function(m,d){var g,h,k;g=this.Ne(m);if(g && g.next){h=new l.SE(this.Vk);k=Object.keys(g.next).reduce(function(n,p){n[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return n;},{});k=Object.assign({},g,{next:k});h.jo(m,k);this.Vk=h.zi();}};c.prototype.iI=function(m,d){d=void 0 === d?this.Vk.Aa:d;return (m in d);};c.prototype.ina=function(m){return this.L1[m];};c.prototype.Ne=function(m){return this.Vk.Aa[m];};c.prototype.aGb=function(m){if(this.Ova.has(m))return this.Ova.get(m);m=this.Ne(m);return isFinite(m.Oc)?m.Oc:void 0;};c.prototype.D_b=function(m,d){this.Ova.set(m,d);this.rOb(m);};c.prototype.fYb=function(m){this.H$a.push(m);};c.prototype.gYb=function(m){this.q8a.push(m);};c.prototype.vOb=function(){var m;m=this;this.H$a.forEach(function(d){return d(m.Vk);});};c.prototype.rOb=function(m){this.q8a.forEach(function(d){return d(m);});};c.prototype.$2a=function(m){return null === m?void 0:m;};Wa.Object.defineProperties(c.prototype,{i9:{configurable:!0,enumerable:!0,get:function(){return this.rnb;}},xxa:{configurable:!0,enumerable:!0,get:function(){return this.Job;}},Vk:{configurable:!0,enumerable:!0,get:function(){return this.snb;},set:function(m){if(this.Yh && !this.iI(this.Yh,m.Aa))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Yh);this.O7a(m);}},Yh:{configurable:!0,enumerable:!0,get:function(){return this.Akb;},set:function(m){if(!this.iI(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.Akb=m;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.Ne(this.Yh);}}});b.vIa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.YPa=void 0;r=a(0);c=a(1230);f=a(33);b.YPa=new r.od(function(l){l(f.oh).to(c.zya).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n,p,q,v,u,t;function c(w,x,y,z,A,B){var D;D=this;this.al=w;this.config=y;this.Mo=z;this.debug=A;this.za=B;this.T9a=[];this.jd={};this.log=x.hb("loadAsync");this.PLb=v.bCa(function(E){D.CTb=!0;D.startTime=D.za.Wb().da(p.ka);D.load(D.T9a).then(function(){D.endTime=D.za.Wb().da(p.ka);E(t.Ve);}).catch(function(F){D.endTime=D.za.Wb().da(p.ka);E(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.zya=void 0;r=a(1);f=a(70);l=a(3);m=a(1231);d=a(62);g=a(0);h=a(7);k=a(13);n=a(64);p=a(4);q=a(96);v=a(543);u=a(17);t=a(12);c.prototype.gW=function(w){this.PLb(w);};c.prototype.register=function(w,x){this.debug.assert(!this.CTb);this.T9a.push({kLb:this.Gsb(x),errorCode:w});};c.prototype.Bd=function(w){this.debug.assert(void 0 === this.jd[w]);this.jd[w]=this.za.Wb().da(p.ka);};c.prototype.load=function(w){var x;x=this;return m.$4a(w).then(function(y){x.al.mark(d.Pn.Hj.pbb);return y.reduce(function(z,A){return z.then(function(){return x.hLb(A);});},Promise.resolve()).then(function(){x.al.mark(d.Pn.Hj.nbb);});});};c.prototype.hLb=function(w){var x,y;x=this;y=w.kLb;!1;return this.Mo.Hq(p.Hc(this.config().Fqb),y()).catch(function(z){x.log.error("Failed to load component " + w.errorCode,z);x.al.mark(d.Pn.Hj.obb);if(z instanceof n.hr)throw {na:l.L.mbb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.na=z.na || l.L.lbb;throw z;});};c.prototype.Gsb=function(w){return function(){return new Promise(function(x,y){w(function(z){z.$?x():y(z);});});};};a=c;a=r.__decorate([g.R(),r.__param(0,g.l(f.YE)),r.__param(1,g.l(h.ob)),r.__param(2,g.l(k.Rc)),r.__param(3,g.l(n.Cx)),r.__param(4,g.l(q.Wu)),r.__param(5,g.l(u.cd))],a);b.zya=a;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.$4a=void 0;c=a(3);f=[c.M.mfb,c.M.kDa,c.M.iDa,c.M.jDa,c.M.oDa,c.M.fDa,c.M.dDa,c.M.pca,c.M.qDa,c.M.gDa,c.M.jfb,c.M.kfb,c.M.eDa,c.M.jB,c.M.aDa,c.M.cDa,c.M.lDa,c.M.mDa,c.M.nDa,c.M.nfb,c.M.pfb,c.M.tfb,c.M.rfb,c.M.qfb,c.M.ofb,c.M.sfb,c.M.vfb,c.M.hDa,c.M.ufb,c.M.bDa];(function(m){m.Wgb=function(d){var k;for(var g={},h=0;h < d.length;h++){k=d[h];if(g[k.errorCode])return {errorCode:k.errorCode,na:c.L.jbb};g[k.errorCode]=1;}};m.Xgb=function(d){var h;for(var g=0;g < d.length;g++){h=d[g];if(-1 === f.indexOf(h.errorCode))return {errorCode:h.errorCode,na:c.L.kbb};}};})(l || (l={}));b.$4a=function(m){return new Promise(function(d,g){var h;h=l.Xgb(m);h && g(h);(h=l.Wgb(m)) && g(h);d(m.sort(function(k,n){return f.indexOf(k.errorCode) - f.indexOf(n.errorCode);}));});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sa=void 0;r=a(0);c=a(1233);f=a(104);b.sa=new r.od(function(l){l(f.mB).to(c.VEa).aa();});},function(r,b,a){var f,l,m,d,g,h,k,n;function c(p,q,v,u,t){this.cg=q;this.TLb=u;this.SX=new Map();this.log=p.hb("ManifestFetcher");this.Ng=v.Ng;this.gsb=t().mAb;}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;r=a(1);f=a(0);l=a(17);m=a(41);d=a(7);g=a(4);h=a(13);k=a(103);a=a(289);c.prototype.zM=function(p,q){var v,u;v=this;q && this.Dpb(p.Z,q);if(this.$na(p.Z))return this.d5(p.Z);this.log.trace("Requesting a new manifest",p.Z);u=this.cg.Wb().da(g.ka);q=this.TLb.ig(this.log,p).then(function(t){var w,x;if(t.Sv){w=t.Sv;x={h$:Promise.resolve(w),source:"manifest"};delete t.Sv;v.Ng.setData(p.Z,"ldl",x,function(){w.close().catch(function(y){v.log.info("Unable to cleanup LDL session.",y);});});}p.It === k.Gm.QE && (t.ZH=u,t.tO=v.cg.Wb().da(g.ka));return t;}).catch(function(t){v.y$(p.Z,void 0);v.log.error("Failed to fetch manifest",m.md.Jd(t));throw t;});this.y$(p.Z,q);return q;};c.prototype.$na=function(p){return this.Ng.yV(p,"manifest");};c.prototype.y$=function(p,q){var v;v=this;this.gsb && this.Ng.setData(p,"manifest",q,function(){return v.SGb(p);});};c.prototype.d5=function(p){return this.Ng.getData(p,"manifest");};c.prototype.SGb=function(p){var q;null === (q=this.SX.get(p)) || void 0 === q?void 0:q.forEach(function(v){return v();});this.SX.delete(p);};c.prototype.Dpb=function(p,q){this.SX.has(p) || this.SX.set(p,[]);this.SX.get(p).push(q);};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(d.ob)),r.__param(1,f.l(l.cd)),r.__param(2,f.l(a.vba)),r.__param(3,f.l(k.wda)),r.__param(4,f.l(h.Rc))],n);b.VEa=n;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.zPa=void 0;c=a(1235);f=a(121);r=a(0);l=a(94);m=a(13);b.zPa=new r.od(function(d){d(f.bJ).to(c.Zxa).aa();});b.profile=new r.od(function(d){d(l.uR).$D(function(g){return (g=g.eb.get(m.Rc)()) && g.Uv?"browsertest":"browser";});});},function(r,b,a){var f,l,m,d,g,h;function c(k,n,p,q){k=d.We.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.aaa=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;r=a(1);f=a(0);l=a(40);m=a(45);d=a(46);g=a(36);a=a(275);la(c,d.We);c.prototype.kFb=function(k){return "" + this.JUa + (this.aaa.o$(k)?"/msl_v1":"");};c.prototype.vFb=function(k){return "" + this.host + (this.aaa.o$(k)?"/msl":"") + "/playapi";};Wa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},JUa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.cM){case l.nx.Rib:k="www.stage";break;case l.nx.uKa:k="www-qa.test";break;case l.nx.GDa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},tQa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"JUa",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"tQa",null);h=r.__decorate([f.R(),r.__param(0,f.l(g.Ol)),r.__param(1,f.l(l.Em)),r.__param(2,f.l(a.N0)),r.__param(3,f.l(g.bQ)),r.__param(3,f.optional())],h);b.Zxa=h;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.o0b=b.Yib=b.Wib=b.Vib=b.Xib=void 0;c=a(30);f=a(11);b.Xib=function(l,m,d){for(d=(d - l.length) / m.length;0 < d--;){l+=m;}return l;};b.Vib=function(l,m,d){d=c.Oe(d)?d:"...";return l.length <= m?l:l.substr(0,l.length - (l.length + d.length - m)) + d;};b.Wib=function(l,m){var g;for(var d=1;d < arguments.length;++d){;}g=f.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof g[k]?g[k]:h;});};b.Yib=function(l){for(var m=l.length,d=new Uint16Array(m),g=0;g < m;g++){d[g]=l.charCodeAt(g);}return d.buffer;};b.o0b=function(l){var m;m=new Uint8Array(l.length);Array.prototype.forEach.call(l,function(d,g){m[g]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(8);b=a(113);a=a(286);r.ja.get(b.BJ).C9(a.Hca.Icb,function(c){var f,l;f=c.level;if(!nb._cad_global.config || f <= nb._cad_global.config.BLb){c=c.R$();l=nb.console;1 >= f?l.error(c):2 >= f?l.warn(c):l.log(c);}});},function(r,b,a){var h,k,n,p,q;function c(v){var u,w;k.NL(v);if(n.Oe(v) && b.tDa.test(v)){u=v.split(".");if(4 === u.length){for(var t=0;t < u.length;t++){w=n.Ee(u[t]);if(0 > w || !q.Fz(w,0,255) || 1 !== u[t].length && 0 === u[t].indexOf("0"))return;}return v;}}}function f(v){var u;u=0;if(c(v) === v)return (v=v.split("."),u+=n.Ee(v[0]) << 24,u+=n.Ee(v[1]) << 16,u+=n.Ee(v[2]) << 8,u + n.Ee(v[3]));}function l(v){var u;k.NL(v);if(n.Oe(v) && v.match(b.uDa)){u=v.split(":");-1 !== u[u.length - 1].indexOf(".") && (v=m(u[u.length - 1]),u.pop(),u.push(v[0]),u.push(v[1]),v=u.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== u.length) && (u=1 < v.length?d(v):u,v=u.length,8 === v)){for(;v--;){if(!q.Fz(parseInt(u[v],16),0,h.GEa))return;}return u.join(":");}}}function m(v){var u;v=f(v) >>> 0;u=[];u.push((v >>> 16 & 65535).toString(16));u.push((v & 65535).toString(16));return u;}function d(v){var u,t,w;u=v[0].split(":");v=v[1].split(":");1 === u.length && "" === u[0] && (u=[]);1 === v.length && "" === v[0] && (v=[]);t=8 - (u.length + v.length);if(1 > t)return [];for(w=0;w < t;w++){u.push("0");}for(w=0;w < v.length;w++){u.push(v[w]);}return u;}function g(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.Mfb=b.Rfb=b.Ofb=b.Nfb=b.Qfb=b.Lfb=b.Pfb=b.vE=b.uDa=b.tDa=void 0;h=a(12);k=a(22);n=a(30);p=a(11);q=a(19);b.tDa=/^[0-9.]*$/;b.uDa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.vE="0000000000000000";b.Pfb=c;b.Lfb=f;b.Qfb=l;b.Nfb=m;b.Ofb=d;b.Rfb=function(v,u,t){var w,x,y,z;w=c(v);x=l(v);y=c(u);z=l(u);if(!w && !x || !y && !z || w && !y || x && !z)return !1;if(v === w)return (t=g(t),(f(v) & t) !== (f(u) & t)?!1:!0);if(v === x){v=v.split(":");u=u.split(":");for(w=p.vx(t / b.vE.length);w--;){if(v[w] !== u[w])return !1;}t%=b.vE.length;if(0 !== t)for((v=parseInt(v[w],16).toString(2),u=parseInt(u[w],16).toString(2),v=b.vE.substring(0,b.vE.length - v.length) + v,u=b.vE.substring(0,b.vE.length - u.length) + u,w=0);w < t;w++){if(v[w] !== u[w])return !1;}return !0;}return !1;};b.Mfb=g;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(14);a(12);r=a(8);a(113);a(286);a(3);a(112);a(4);a=a(33);r.ja.get(a.oh);!1;},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(50);f=a(12);l=a(14);m=a(3);d=a(197);g=a(34);h=a(11);k=a(8);r=a(33);n=k.ja.get(r.oh);n.register(m.M.oDa,function(p){h.Qp && h.Qp.generateKey && h.Qp.importKey && h.Qp.unwrapKey?!k.ja.get(g.rB).Cba && l.config.jL != d.cx.Xhb && l.config.jL != d.cx.jgb || h.Z_?(n.Bd("wcs"),c.DH(h.Qp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Bd("wcdone");p(f.Ve);},function(q){var v;q="" + q;if(0 <= q.indexOf("missing crypto.subtle"))v=m.L.Jea;else 0 <= q.indexOf("timeout waiting for iframe to load") && (v=m.L.qjb);p({na:v,Bb:q});})):p({na:m.L.pjb}):p({na:m.L.Jea});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(8);f=a(497);a=a(33);c.ja.get(a.oh).register(r.M.dDa,function(l){c.ja.get(f.$Aa)().then(function(){l({$:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);l({$:!0});});});},function(r,b,a){var m,d,g,h;function c(k,n,p,q){var v,u,t;m.rb(h.Ah(k) && !h.isArray(k));q=q || "";v="";u=k.hasOwnProperty(g.uk) && k[g.uk];u && d.re(u,function(w,x){v && (v+=" ");v+=w + '="' + l(x) + '"';});p=(n?n + ":":"") + p;u=q + "<" + p + (v?" " + v:"");t=k.hasOwnProperty(g.Es) && k[g.Es].trim && "" !== k[g.Es].trim() && k[g.Es];if(t)return u + ">" + l(t) + "</" + p + ">";k=f(k,n,q + "  ");return u + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function f(k,n,p){var q;m.rb(h.Ah(k) && !h.isArray(k));p=p || "";q="";d.re(k,function(v,u){var x;if("$" != v[0])for(var t=d.jw(u),w=0;w < t.length;w++){if((u=t[w],q && (q+="\n"),h.Ah(u)))q+=c(u,n,v,p);else {x=(n?n + ":":"") + v;q+=p + "<" + x + ">" + l(u) + "</" + x + ">";}}});return q;}function l(k){if(h.Oe(k))return d.CV(k);if(h.Ba(k))return (m.cU(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";m.rb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.nZb=b.eKb=b.dKb=void 0;m=a(22);d=a(24);g=a(157);h=a(19);b.dKb=c;b.eKb=f;b.nZb=l;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(292);f=a(192);l=a(14);m=a(12);d=a(3);g=a(22);h=a(8);k=a(70);n=a(62);p=a(78);q=a(24);v=a(11);u=a(19);t=a(50);w=a(112);x=a(4);r=a(33);y=a(468);z={};A=h.ja.get(r.oh);A.register(d.M.gDa,function(B){var C,G,J,K,H,L,R,I,P,N,M,Q,T,da;function D(pa){pa && pa.userList && l.config.QWb && (pa.userList=[]);K({esn:f.Yj.Lk,esnPrefix:f.Yj.ro,authenticationType:l.config.jL,authenticationKeyNames:l.config.hQa,systemKeyWrapFormat:l.config.AYb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:T,storeState:pa,notifyMilestone:A.Bd.bind(A),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.L.xgb,MSL_READ_TIMEOUT:d.L.wgb}},{result:function(wa){E(wa);},timeout:function(){B({na:d.L.PEa});},error:function(wa){B(F(d.L.PEa,void 0,wa));}});}function E(pa){var ua,X,sa;function wa(){Q && h.ja.get(p.bB).create().then(function(O){return O.save(N,X,!1);}).catch(function(O){R.error("Error persisting msl store",d.Ks(O));});}ua=h.ja.get(w.PJ)(x.Hc(100));sa=H.extend({init:function(O){this.rNa=O;},getResponse:function(O,S,ka){var ia,Pa;S=this.rNa;ia=S.u2a.ef || ia;O=u.wpa(O.body)?h.qZ(O.body):O.body;g.NL(O,"Msl should not be sending empty request");O={url:S.url,cta:O,withCredentials:!0,tC:"nq-" + S.method,headers:S.headers};S=this.rNa.timeout;O.y3=S;O.Era=S;Pa=ia.download(O,function(Ea){try{if(Ea.$)ka.result({body:Ea.content});else if(400 === Ea.$j && Ea.Bb)ka.result({body:Ea.Bb});else throw q.Xb(new L("HTTP error, SubCode: " + Ea.na + (Ea.$j?", HttpCode: " + Ea.$j:"")),{cadmiumResponse:Ea});}catch(Va){ka.error(Va);}});return {abort:function(){Pa.abort();}};}});P && pa.addEventHandler("shouldpersist",function(O){X=O.storeState;ua.Il(wa);});q.Xb(z,{i9b:function(){M=!0;},send:function(O){function S(){var ka,ia;ka=O.u2a;ia={method:O.method,nonReplayable:O.aOb,encrypted:O.Jk,userId:O.m0b,body:O.body,timeout:2 * O.timeout,url:new sa(O),allowTokenRefresh:Q,sendUserAuthIfRequired:da,shouldSendUserAuthData:l.config.UWb};ka.email?(ia.email=ka.email,ia.password=ka.password || ""):ka.pZb?(ia.token=ka.pZb,ia.mechanism=ka.Y9b,ka.vra && (ia.netflixId=ka.vra,ia.secureNetflixId=ka.iVb),ka.vta && (ia.profileGuid=ka.vta)):ka.vra?(ia.netflixId=ka.vra,ia.secureNetflixId=ka.iVb):ka.HMb?(ia.mdxControllerToken=ka.HMb,ia.mdxPin=ka.W9b,ia.mdxNonce=ka.V9b,ia.mdxEncryptedPinB64=ka.U9b,ia.mdxSignature=ka.X9b):M || ka.useNetflixUserAuthData?ia.useNetflixUserAuthData=!0:ka.vta && (ia.profileGuid=ka.vta);return ia;}return new Promise(function(ka,ia){var Pa;Pa=S();pa.send(Pa).then(function(Ea){M && (M=!1);ka({$:!0,body:Ea.body});}).catch(function(Ea){var Va,Ya;if(Ea.error){Va=Ea.error.cadmiumResponse && Ea.error.cadmiumResponse.na?Ea.error.cadmiumResponse.na:pa.isErrorReauth(Ea.error)?d.L.OEa:pa.isErrorHeader(Ea.error)?d.L.qgb:d.L.pgb;Ya=pa.getErrorCode(Ea.error);ia(F(Va,Ya,Ea.error));}else (R.error("Unknown MSL error",Ea),Ea.xc=Ea.subCode,ia({na:Ea.xc?Ea.xc:d.L.ygb}));});});},GW:pa});B(m.Ve);h.ja.get(y.ada).MNb(z);}function F(pa,wa,ua){var X,sa,O,S;O={na:pa,s4:wa};if(ua){S=function(ka){var ia;ka=ka || "" + ua;if(ua.stack){ia="" + ua.stack;ka=0 <= ia.indexOf(ka)?ia:ka + ia;}return ka;};if(sa=ua.cadmiumResponse){if(X=sa.mf && sa.mf.toString())sa.mf=X;sa.na=pa;sa.s4=wa;sa.Bb=S(ua.message);sa.error={xc:pa,Kd:X,aA:wa,data:ua.cause,message:ua.message};return sa;}S=S(ua.errorMessage);X=q.Ee(ua.internalCode) || q.Ee(ua.error && ua.error.internalCode);sa=void 0 !== ua.UAb?t.Ura(ua.UAb):void 0;}S && (O.Bb=S);X && (O.mf=X);O.error={xc:pa,Kd:X.toString(),aA:wa,data:sa,message:S};return O;}g.rb(l.config);C=h.ja.get(k.YE);G=n.Pn.Hj;if(v.pB && v.Qp && v.Qp.unwrapKey){try{J=nb.netflix.msl;K=J.createMslClient;H=J.IHttpLocation;L=J.MslIoException;}catch(pa){B({na:d.L.rgb});return;}R=h.Di("Msl");I=l.config.INb;P=l.config.KNb;N=l.config.Uv?"mslstoretest":"mslstore";J=c.xI.t7a;M=l.config.mIb;Q=!J || J.$;T=h.Ar(l.config.Uv?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");da=! !l.config.iva;h.ja.get(p.bB).create().then(function(pa){I?pa.remove(N).then(function(){D();}).catch(function(wa){R.error("Unable to delete MSL store",d.Ks(wa));D();}):P?pa.load(N).then(function(wa){C.mark(G.tgb);D(wa.value);}).catch(function(wa){wa.na == d.L.wB?(C.mark(G.vgb),D()):(R.error("Error loading msl store",d.Ks(wa)),C.mark(G.ugb),pa.remove(N).then(function(){D();}).catch(function(ua){B(ua);}));}):D();}).catch(function(pa){R.error("Error creating app storage while loading msl store",d.Ks(pa));B(pa);});}else B({na:d.L.sgb});});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(159);f=a(12);l=a(14);m=a(58);d=a(52);r=a(3);g=a(8);h=a(70);k=a(11);n=a(61);p=a(19);q=a(49);v=a(89);a=a(33);w=g.ja.get(a.oh);w.register(r.M.eDa,function(x){var z;function y(){var A,B,D;A=w.startTime;B={browserua:k.qB,browserhref:k.a0.href,initstart:A,initdelay:w.endTime - A};(A=k.Ue.documentMode) && (B.browserdm="" + A);"undefined" !== typeof nb.nrdp && nb.nrdp.device && (B.firmware_version=nb.nrdp.device.firmwareVersion);p.Gz(l.config.hVa) && (B.fesn=l.config.hVa);Object.assign(B,c.vna());D=k.ev && k.ev.timing;D && l.config.yLb.map(function(E){var F;F=D[E];F && (B["pt_" + E]=F - d.ERa());});A=z.sXa();Object.entries(A).forEach(function(E){var F;F=aa(E);E=F.next().value;F=F.next().value;return B["m_" + E]=F;});A=t.vt("startup","info",B,m.sB.Xla);u.Bc(A);}t=g.ja.get(v.tx);u=g.ja.get(q.Fm);z=g.ja.get(h.YE);w.gW(function(){u.xb();n.Nf(y);});x(f.Ve);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t,w,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(47);l=a(506);m=a(1247);d=a(297);g=a(14);h=a(12);k=a(189);n=a(545);p=a(52);r=a(3);q=a(8);v=a(281);u=a(11);t=a(293);b=a(33);w=a(58);x=a(132);q.ja.get(b.oh).register(r.M.aDa,function(y){var z,A,B,D,E,F,C;z=q.ja.get(v.d0).Wja();A=q.ja.get(k.Pba).lJ;B=q.ja.get(l.vFa).$q;D={XN:q.$U("ASE"),rqb:q.$U("JS-ASE",void 0,"Platform"),Di:q.$U,storage:t.storage,jFb:u.jJ,getTime:p.aj,lN:{},$q:B,gv:m.gv,lJ:A,MediaSource:n.yFa,SourceBuffer:d.Vca,vo:function(){return [g.config.gT,g.config.hT];},ut:function(G){w.Tn.forEach(function(J){J.T7a(G);});}};A=new Promise(function(G){t.storage.load("nh",function(J){D.lN.nh=J.$?J.data:void 0;G();});});B=new Promise(function(G){t.storage.load("lh",function(J){D.lN.lh=J.$?J.data:void 0;G();});});E=new Promise(function(G){t.storage.load("gh",function(J){D.lN.gh=J.$?J.data:void 0;G();});});F=new Promise(function(G){t.storage.load("sth",function(J){D.lN.sth=J.$?J.data:void 0;G();});});C=new Promise(function(G){t.storage.load("vb",function(J){D.lN.vb=J.$?J.data:void 0;G();});});Promise.all([A,B,C,F,E]).then(function(){return c.__awaiter(this,void 0,void 0,function J(){var K,H,L;return Ha(J,function(R){var I;if(1 == R.xH){K=a(1249)(D);x.Tm.Od=a(546);x.Tm.Od.declare(f.fm);x.Tm.Od.set(a(184)(g.config),!0,q.$U("ASE"));H=f.Z0a(K);x.Tm.TPa=new H(x.Tm.Od,z);x.Tm.TPa.xb(g.config.gT,g.config.hT,{XN:D.XN},g.config.wO);I=f.IG(K);R.xH=2;return {value:I};}L=R.Qxa;L.open(x.Tm.Od,z);L.nva({audio:g.config.gT,video:g.config.hT},{T:g.config.wO,fa:void 0});x.Tm.tj=L;y(h.Ve);R.xH=0;});});}).catch(function(G){D.XN.error("Exception loading location history from local storage",G);});});},function(r,b,a){var f,l,m,d,g,h,k;function c(){var n;n=new l.wk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.vc.bind(this);this.V1=h++;this.xg=m.Di("ProbeRequest");this.MNa=f.KIa;d.rb(void 0 !== this.MNa);this.sh=b.gv.Kc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.gv=void 0;f=a(1248);l=a(72);m=a(8);d=a(22);g=a(30);h=0;(function(){function n(){return JSON.stringify({url:this.pl,id:this.V1,affected:this.V0,readystate:this.sh});}g.Xb(c.prototype,{IN:function(p){p.affected=this.V0;p.probed={requestId:this.V1,url:this.pl,Ld:this.NS,groupId:this.A1};this.emit(b.gv.Je.hR,p);},Mra:function(p){this.qob=p.httpcode;p.affected=this.V0;p.probed={requestId:this.V1,url:this.pl,Ld:this.NS,groupId:this.A1};this.emit(b.gv.Je.NE,p);},open:function(p,q,v,u){if(!p)return (!1,!1);this.pl=p;this.V0=q;this.NS=v;this.sh=b.gv.Kc.OPENED;this.Slb=u;this.MNa.YU(this);return !0;},Zc:function(){!1;return !0;},ci:function(){return this.V1;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.sh;},set:function(){}},status:{get:function(){return this.qob;}},url:{get:function(){return this.pl;}},f7b:{get:function(){return this.V0;}},rLb:{get:function(){return this.Slb;}}});})();(function(n){n.Je={hR:"pr0",NE:"pr1"};n.Kc={UNSENT:0,OPENED:1,Ex:2,DONE:3,qJ:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.gv=Object.assign(c,k);},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;c=a(8);f=a(73);b.KIa=(function(){c.Di("ProbeDownloader");return {YU:function(l){l={url:l.url,iSb:l};!1;f.ef.lSb(l);}};})();},function(r,b,a){var g,h,k,n,p,q,v,u,t,w,x,y,z,A,B,D;function c(E,F,C){this.mo=E;this.groups=F;this.prefix=C;E=w(E,F,C);this.info=E.info.bind(E);this.fatal=E.fatal.bind(E);this.error=E.error.bind(E);this.warn=E.warn.bind(E);this.trace=E.trace.bind(E);this.debug=E.debug.bind(E);this.log=E.log.bind(E);}function f(){this.vSa=function(){throw Error("Not implemented");};this.fzb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function l(){}function m(){return t?t:"0.0.0.0";}function d(E){E({B3a:0,PY:0,fZa:0,gVa:0});}g=a(18);f.prototype.set=function(E,F){n[E]=F;p.save(E,F);};f.prototype.get=function(E,F){if(n.hasOwnProperty(E))return n[E];u.trace("key: " + E + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(E,function(C){C.$?(n[E]=C.data,F && F(C.data)):n[E]=void 0;});};f.prototype.remove=function(E){p.remove(E);};f.prototype.clear=function(){u.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return q();};l.prototype.ea=function(){return v();};l.prototype.sra=function(E){return E + q() - v();};l.prototype.Pra=function(E){return E + v() - q();};c.prototype.KSa=function(E){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(E);return new c(this.mo,this.groups,F);};x=(function(){var E;E=Promise;E.prototype.fail=Promise.prototype.catch;return E;})();r.exports=function(E){h=E.XN;w=E.Di;p=E.storage;n=E.lN;q=E.jFb;v=E.getTime;u=E.rqb;y=E.$q;D=E.gv;z=E.lJ;A=E.SourceBuffer;B=E.MediaSource;t=E.l9b;k=E.ut;return {name:"cadmium",ut:k,XN:h,storage:new f(),Storage:f,time:new l(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,$q:y,lJ:z,Bgb:A,MediaSource:B,gv:D,Jo:{name:m},memory:{vEb:d},vo:E.vo};};},function(r,b,a){r.exports={EventEmitter:a(1251),Nh:a(1252)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.xd)return (this.xd={},this.xd[c]=[f],!0);l=this.xd[c];return void 0 === l?(this.xd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.xd?this.xd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.xd)return !1;l=this.xd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.xd[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.xd && (void 0 === c?delete this.xd:delete this.xd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var f,l,m,d,g,h,k,n,p;function c(q,v){var w,x,y,z,A,B,D,E,F,C,G;function u(){var J;J=q.zb.value === n.cb.Ec && q.state.value === n.Qb.oe && q.J === v.J;G?J || (clearInterval(G),B=G=void 0):J && (G=nb.setInterval(t,1E3));}function t(){var J,K,H,L,R,I;J=q.ke.value;J=(J=J && J.stream) && J.height;if(null !== J && 0 < J){K=d.aj();H=q.Tf.DG();if(H){if(B && 2E3 > K - B.time && J === B.height){L=H - B.Fzb;R=x[J];R || (x[J]=R=[],J > E && (A.push(J),m.OZ(A)));0 < L && !(C && C < J) && (C=J);R.push(L);R.length > D && R.shift();(R=z[J]) || (z[J]=R={});I=R[L];R[L]=I?I + 1:1;}B={time:K,Fzb:H,height:J};q.b9 && q.b9.RVb(x);}}}w=g.zh(q,"DFF");x={};y=f.config.Jzb;z={};A=[];D=f.config.Hzb;E=f.config.Izb;F=l.FEa;if(f.config.Gzb)return (v.Zka={mDb:function(){var J;J={};z && A.forEach(function(K){var H,L,R;H=z[K];if(H){L=0;R=0;p.re(H,function(I,P){R+=h.Ee(I);L+=P;});J[K]=R / L;}});return J;},oV:function(J){var K;K={};J.forEach(function(H){K[H]={};});z && (m.OZ(J),A.forEach(function(H){var L,R,I,P;L=z[H];if(L){R=0;I=0;p.re(L,function(da,pa){R+=pa;});P=Object.keys(L).map(Number);m.OZ(P);for(var N=P.length - 1,M=P[N],Q=J.length - 1;0 <= Q;Q--){for(var T=J[Q];M >= T && 0 <= N;){(M=L[M]) && (I+=M);M=P[--N];}K[T][H]=k.Oi(I / R * 100);}}}));return K;}},q.state.addListener(u),q.zb.addListener(u),q.addEventListener(n.ba.iH,u),{iM:"df",Ju:function(J){var L,R,I,M,Q;if(J.lower && J.height > E){J=J.height;a:{if(C){for(var K=A.length,H=0;H < K;H++){L=A[H];if(L >= C && L < F){R=x[L];if(I=R)b:{I=y.length;for(var P=R.length,N=0;N < I;N++){M=y[N];Q=M[0];M=M[1];for(var T=0;T < P;T++){if(R[T] >= M && 0 >= --Q){I=!0;break b;}}}I=!1;}if(I && F != L){w.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:L});v.Jp.set({reason:"droppedFrames",height:L});K=F=L;break a;}}}C=void 0;}K=F;}J=J >= K;}else J=!1;return J;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Dgb=void 0;r=a(107);f=a(14);l=a(12);m=a(50);d=a(52);g=a(8);h=a(30);k=a(11);n=a(15);p=a(24);r.FE(c);b.Dgb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(107).FE(function(){return {iM:"op",Ju:function(){}};});},function(r,b,a){var f,l;function c(m,d){var g,h;g=l.zh(m,"MSS");if(f.config.hNb)return {iM:"mss",Ju:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=nb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");h=!0;}h || (g.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Jp.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Egb=void 0;r=a(107);f=a(14);l=a(8);r.FE(c);b.Egb=c;},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(107);c=a(1257);f=a(8);l=a(34);m=a(79);r.FE(function(d){var g;if(f.ja.get(l.xk).RX){g=f.ja.get(m.cv);return new c.QDa(d,f.Sf,g);}});},function(r,b,a){var f;function c(l,m,d){var g;g=this;this.j=l;this.ta=m;this.Wqa=d;this.tpa=!1;this.log=this.ta.hb("KeySystemRobustness",this.j);this.tpa=!1;this.Wqa.aw().then(function(h){var k,n;n=null === (k=h.getConfiguration().videoCapabilities) || void 0 === k?void 0:k.map(function(p){return p.robustness;});g.tpa=!(null === n || void 0 === n || !n.some(function(p){return p === f.vJ;}));l.U7a("keySystem",h.keySystem);l.U7a("robustness",null === n || void 0 === n?void 0:n.toString());g.log.trace("KeySystemRobustness: " + n);}).catch(function(h){g.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;f=a(63);c.prototype.Ju=function(l){return l.lower && l.Ez && !this.tpa && 720 < l.height;};Wa.Object.defineProperties(c.prototype,{iM:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.QDa=c;},function(r,b,a){var c,f,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(107);c=a(14);f=a(8);l=a(1259);r.FE(function(m,d){if(c.config.jKb)return new l.PDa(m,d,f.Sf,c.config,f.xa,f.Ic);});},function(r,b,a){var f,l,m;function c(d,g,h,k,n,p){var q;q=this;this.j=d;this.va=g;this.ta=h;this.config=k;this.xa=n;this.Ic=p;this.cqb=function(v){!0 === v.oldValue && !1 === v.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.GUb());};this.XZb=function(v){var u,t,w;q.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);t=null === v || void 0 === v?void 0:v.newValue;w=null === v || void 0 === v?void 0:v.oldValue;"usable" !== t && (q.LVb(t,(null === (u=null === v || void 0 === v?void 0:v.dm) || void 0 === u?void 0:u.height) || 0),"usable" === w && (v=q.xa.bf.Ca(q.lKb),q.log.error("UHD KeyStatus unexpectedly changed: " + v.da(m.ka))));};this.K_a=!1;this.log=this.ta.hb("KeyStatusStreamFilter",this.j);this.pPa=new l.ac(!1,this.cqb);this.WZb=new l.ac(void 0,this.XZb);}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;f=a(205);l=a(80);m=a(4);c.prototype.Ju=function(d){this.dYb();this.pPa.set(this.K_a && this.pHb);return d.lower && 1080 < d.height && !this.pPa.value?!0:!1;};c.prototype.fub=function(){this.pHb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.$Ya);};c.prototype.Qwb=function(){var d,g,h;g={};h=null === (d=this.va.rg.value) || void 0 === d?void 0:d.vu;null === h || void 0 === h?void 0:h.forEach(function(k){g[k.dj]=k.bI.height;});this.log.trace("KeyStatusMap",g);return g;};c.prototype.E2a=function(d){var g;g=this;Object.entries(d).forEach(function(h){var k;k=aa(h);h=k.next().value;k=k.next().value;h=g.kKb[h];1080 < h && (g.K_a="usable" === k,g.WZb.set(k,{height:h}));});};c.prototype.dYb=function(){var d,g;d=this;g=this.va.lf;!this.OJb && f.Yoa(g) && (this.OJb=!0,this.kKb=this.Qwb(),this.E2a(g.keyStatuses.value),g.keyStatuses.addListener(function(h){return d.E2a(h.newValue);}),this.Ic.nk(m.Hc(this.config.$Ya),function(){return d.fub();}),this.lKb=this.xa.bf);};c.prototype.LVb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.va.Jp.set({reason:"keyStatus",height:g});};Wa.Object.defineProperties(c.prototype,{iM:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.PDa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(107);c=a(14);f=a(8);r.FE(function(l,m){var d,g,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.YZb);g=d[m.ve];if(c.config.ZZb && g){h={};k=f.zh(l,"MediaStreamFilter");return {iM:"uiLabel",Ju:function(n){if(n.lower && n.height > g)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),m.Jp.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(159);f=a(544);r=a(58);l=a(14);m=a(60);d=a(12);g=a(50);h=a(52);k=a(24);n=a(11);p=a(8);q=a(121);v=a(15);u=a(33);t=a(34);r.Lda(r.Gda,function(w){var E,F,C,G,J,K;function x(H){var L,R;if(H.newValue >= v.Qb.LOADING){w.state.removeListener(x);H=n.$_;try{L="" + h.r3();localStorage.setItem("player$test",L);R=localStorage.getItem("player$test");localStorage.removeItem("player$test");L=L == R?"success":"mism";}catch(I){L="ex: " + I;}D("type=openplay&sev=info&locstor=" + H.call(n,L));C=h.aj();A();}}function y(){K("type=startplay&sev=info&outcome=success");}function z(){var H,L;H=w.bi;if(H){L="type=startplay&sev=error&outcome=error";H=c.kna(p.ja.get(t.xk).Yp,H);k.re(H,function(R,I){L+="&" + n.$_(R) + "=" + n.$_(I || "");});K(L);}else K("type=startplay&sev=info&outcome=abort");}function A(){var H,L;H=G.shift();if(0 < H){L=n.Rn(H - (h.aj() - C),0);F=setTimeout(function(){D("type=startstall&sev=info&kt=" + H);A();},L);}}function B(){K("type=startplay&sev=info&outcome=unload");}function D(H){H=J + "&soffms=" + w.rna() + "&" + H;w.jd && Object.keys(w.jd).length && (H+="&" + g.MN(k.Xb({},w.jd,{prefix:"sm_"})));f.a$a("playback",H,E);}E=p.ja.get(q.bJ).host + l.config.Kwa;if(l.config.b$a && E && l.config.c$a.playback){G=l.config.AZb.slice();J="xid=" + w.ca + "&pbi=" + w.index + "&uiLabel=" + (w.ve || "");w.state.addListener(x);w.addEventListener(v.ba.zq,y);w.addEventListener(v.ba.fg,z);m.df.addListener(m.zl,B,d.OE);K=function(H){var L;K=d.jl;L=p.ja.get(u.oh);H+="&initstart=" + L.startTime + "&initend=" + L.endTime;D(H);clearTimeout(F);w.removeEventListener(v.ba.zq,y);w.removeEventListener(v.ba.fg,z);m.df.removeListener(m.zl,B);};}});},function(r,b,a){var c,f,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);l=a(8);m=a(166);a=a(33);l.ja.get(a.oh).register(r.M.cDa,function(d){c.config.KCb && l.ja.get(m.aCa).start();d(f.Ve);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;c=a(73);f=a(50);l=a(22);m=a(24);d=a(30);b.Qza=function(g,h){l.rb(g);l.rb(h);l.NL(h.KAb,"endpointURL property is required");l.rb(h.fe);this.log=g;this.F4a=h;};b.Qza.prototype.EC=function(){var g,h,k;g=this;g.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(g.F4a.fe)};k=g.F4a.KAb + "?" + f.MN(h);return new Promise(function(n,p){function q(w){var x,y;try{if(w.$){x=new Uint8Array(w.content);y=String.fromCharCode.apply(null,x);return {$:!0,config:JSON.parse(y).core.initParams};}return {$:!1,message:"Unable to download the config. " + w.Bb,SC:w.$j};}catch(z){return (w=m.Jd(z),g.log.error("Unable to download the config. Received an exception parsing response",{message:z.message,exception:w,url:k}),{$:!1,Bb:w,message:"Unable to download the config. " + z.message});}}function v(w,x,y){return x > y?(g.log.error("Config download failed, retry limit exceeded, giving up",d.Xb({Attempts:x - 1,MaxRetries:y},w)),!1):!0;}function u(w){return new Promise(function(x){setTimeout(function(){x();},w);});}function t(w,x,y){c.ef.download(w,function(z){var A;z=q(z);if(z.$)n(z);else {g.log.warn("Config download failed, retrying",d.Xb({Attempt:x,WaitTime:A,MaxRetries:y},z));if(v(z,x + 1,y)){A=m.Gta(1E3,1E3 * Math.pow(2,Math.min(x - 1,y)));return u(A).then(function(){return t(w,x + 1,y);});}p(z);}});}return c.ef?t({url:k,responseType:3,withCredentials:!0,tC:"config-download"},1,3):Promise.reject({$:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);f=a(162);l=a(12);m=a(14);r=a(3);d=a(8);g=a(22);h=a(24);k=a(30);n=a(19);p=a(49);q=a(89);a=a(33);d.ja.get(a.oh).register(r.M.lDa,function(v){var u,t;u=d.Di("NccpApi");t=h.PPa(["info","warn","trace","error"]);f.UJ.iT.nccp={getEsn:function(){return c.Yj.Lk;},getPreferredLanguages:function(){return m.config.Fr.ita;},setPreferredLanguages:function(w){g.rb(n.isArray(w) && k.Gz(w[0]));m.config.Fr.ita=w;},queueLogblob:function(w,x,y){var z;if(w && x)if((x=x.toLowerCase(),t[x])){z=d.ja.get(p.Fm);w=d.ja.get(q.tx).vt(w,x,y);z.Bc(w);}else u.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.ja.get(p.Fm).flush(!0);}};v(l.Ve);});},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(33);b=a(3);c=a(7);f=a(34);l=a(191);m=a(12);d=a(14);g=a(8);h=a(132);k=a(58);n=a(162);p=a(296);q=a(119);g.ja.get(r.oh).register(b.M.nDa,function(v){var w,x,y;function u(z,A){return void 0 === z || void 0 === A?Promise.reject("Invalid email and/or password"):g.ja.get(p.tda).ig(this.log,{},{email:z,password:A}).then(function(){});}function t(z){var A;A=g.ja.get(q.bF);return A.jVa.fetch(z,A);}if(d.config.gBb){w=g.ja.get(l.n0);x=g.ja.get(f.xk);y=g.ja.get(c.ob).hb("Test");n.UJ.iT.test={setPboRequestsListener:function(z){return w.cWb(z);},playbacks:k.Tn,getPlayback:function(z){return k.Tn.find(function(A){return A.ca === z;});},playgraphManager:{isNextSegmentReady:function(z,A){var B,D;return void 0 !== (null === (D=null === (B=k.Tn.find(function(E){return E.ca === z;})) || void 0 === B?void 0:B.Na) || void 0 === D?void 0:D.e5(A));},isNextSegmentBuffering:function(z,A){var B,D;return null === (D=null === (B=k.Tn.find(function(E){return E.ca === z;})) || void 0 === B?void 0:B.Na) || void 0 === D?void 0:D.CM(A).oL;}},aseManager:{cacheDestroy:function(){return h.Tm.TPa.wy();}},device:{esn:nb._cad_global.device.Lk,esnPrefix:x.ro,errorPrefix:x.Yp},log:{info:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.info(z,B);},error:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.error(z,B);},warn:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.warn(z,B);},trace:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.trace(z,B);},log:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.log(z,B);},debug:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.debug(z,B);}},login:u,getManifest:t};}v(m.Ve);});},function(r,b,a){var c,f,l,m,d,g,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1267);c=a(12);f=a(14);l=a(58);b=a(7);m=a(8);d=a(49);g=a(113);h=a(22);k=a(30);n=a(11);nb.netflix=nb.netflix || ({});h.rb(!nb.netflix.player);nb.netflix.player={VideoSession:r.rLa,diag:{togglePanel:function(p,q){var v;v=[];if(!f.config || f.config.VX){switch(p){case "info":v=l.Tn.map(function(u){return u.b9;});break;case "streams":v=l.Tn.map(function(u){return u.d9;});break;case "log":v=[];}v.forEach(function(u){k.Pc(q)?q?u.show():u.Kr():u.toggle();});}},addLogMessageSink:function(p){m.ja.get(d.Fm).addListener({tac:function(){},ZMb:function(q){p({data:q.data});}});}},log:m.Di("Ext"),LogLevel:b.Cj,addLogSink:function(p,q){m.ja.get(g.BJ).C9(p,q);},getVersion:function(){return "0.0032.989.910";},getMostRecentPlaybackDiagnosticGroups:function(){var p;return null === (p=l.sB.r2a) || void 0 === p?void 0:p.X3.yM();},isWidevineSupported:function(p){var v;function q(u){return function(t,w){return w.contentType == u;};}if("function" !== typeof p)throw Error("input param is not a function");v=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.ux,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.CJ,robustness:"SW_SECURE_CRYPTO"}]}];try{n.hf.requestMediaKeySystemAccess("com.widevine.alpha",v).then(function(u){var t;t=u.getConfiguration();u=t.videoCapabilities || [];t=(t.audioCapabilities || []).reduce(q(c.CJ),!1);u=u.reduce(q(c.ux),!1);p(t && u);}).catch(function(){p(!1);});}catch(u){p(!1);}}};},function(r,b,a){var f,l,m,d,g,h;function c(k){var n;n=m.UJ.call(this,k) || this;n.createPlayer=function(p,q){var v,u,t;q=void 0 === q?{}:q;q="number" === typeof q?{wj:q}:q;v=f.ja.get(l.o0);u=f.ja.get(g.ZQ).create(q.manifest);t=f.ja.get(d.Sda);p=v.dxb(p);v=f.ja.get(h.Qda).create(p);p=v.i5();t=t.HSa(v);t.addEpisode({movieId:p.Z,playbackParams:n.gQa(q,p),manifest:u});return t;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;f=a(8);l=a(188);m=a(162);d=a(301);g=a(156);h=a(300);la(c,m.UJ);b.rLa=c;},function(r,b,a){var c,f,l,m,d,g,h,k,n,p,q,v,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(162);f=a(192);l=a(12);m=a(50);r=a(3);d=a(8);g=a(164);h=a(22);k=a(30);n=a(11);b=a(33);p=a(52);q=a(94);v=a(155);u=a(163);d.ja.get(b.oh).register(r.M.mDa,function(t){var B;function w(){return f.Yj.Lk;}function x(D){var E;E=d.ja.get(q.uR);d.ja.get(v.dR)().then(function(F){var C,G;C=F.GW.getStateForMdx(E);G=C.cryptoContext;F=C.masterToken;C=C.userIdToken;F && C?(h.rb(G),F=["1",d.gC(JSON.stringify(F.toJSON())),d.gC(JSON.stringify(C.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,K){J=k.Oe(J)?d.uP(J):J;G.encrypt(J,{result:function(H){H=d.gC(H);K({success:!0,mslEncryptionEnvelopeBase64:H});},timeout:function(){K({success:!1});},error:function(H){h.rb(!1,"Encrypt error: " + H);K({success:!1});}});},decrypt:function(J,K){J=d.Ar(J);G.decrypt(J,{result:function(H){K({success:!0,text:d.qZ(H)});},timeout:function(){K({success:!1});},error:function(H){h.rb(!1,"Decrypt error: " + H);K({success:!1});}});},hmac:function(J,K){J=k.Oe(J)?d.uP(J):J;G.sign(J,{result:function(H){K({success:!0,hmacBase64:d.gC(H)});},timeout:function(){K({success:!1});},error:function(H){h.rb(!1,"Hmac error: " + H);K({success:!1});}});}}})):(h.rb(!1,"Must login first"),D({success:!1}));});}function y(D,E){var F;F=d.Ar(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([m.DH(n.Qp.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),m.DH(n.Qp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(C){E({success:!0,cryptoContext:z(C[0],C[1])});},function(){E({success:!1});});}function z(D,E){function F(C){C=new g.gQ(d.Ar(C));C.sA();return {iv:C.x5a(),IAb:C.x5a()};}return {encrypt:function(C,G){var J;C=k.Oe(C)?d.uP(C):C;J=n.pB.getRandomValues(new Uint8Array(16));m.DH(n.Qp.encrypt({name:"AES-CBC",iv:J},D,C)).then(function(K){var H,L;K=new Uint8Array(K);H=[];L=new g.gQ(H);L.Baa(2);L.Rab(J);L.Rab(K);K=d.gC(H);G({success:!0,encryptedDataAsn1Base64:K});},function(K){h.rb(!1,"Encrypt error: " + K);G({success:!1});});},decrypt:function(C,G){C=F(C);m.DH(n.Qp.decrypt({name:"AES-CBC",iv:C.iv},D,C.IAb)).then(function(J){J=new Uint8Array(J);G({success:!0,text:d.qZ(J)});},function(J){h.rb(!1,"Decrypt error: " + J);G({success:!1});});},hmac:function(C,G){C=k.Oe(C)?d.uP(C):C;m.DH(n.Qp.sign({name:"HMAC",hash:{name:"SHA-256"}},E,C)).then(function(J){J=new Uint8Array(J);G({success:!0,hmacBase64:d.gC(J)});},function(J){h.rb(!1,"Hmac error: " + J);G({success:!1});});}};}function A(){return p.vja();}B=d.ja.get(u.eB);if(B.k_a || B.ew)c.UJ.iT.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};t(l.Ve);});},function(r,b,a){var c,f,l,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(14);f=a(12);r=a(3);l=a(8);b=a(33);m=a(119);l.ja.get(b.oh).register(r.M.hDa,function(g){var h,k,n;if(c.config.fRb){h=l.Di("PlayerPredictionModel");k=l.ja.get(m.bF);n=a(1270);h.log=h.trace.bind(h);d=new n({},h,{XX:function(){},eUb:function(){}},k,{NH:function(){}});nb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}g(f.Ve);});},function(r,b,a){var m,d,g,h,k,n,p;function c(q,v,u,t,w,x){this.J=this.Z=q;this.priority=v;this.Cd=u;x && x.ve && (this.ve=x.ve);void 0 !== t && (this.VN=t);this.yl=w;this.Nb=x;}function f(q,v,u,t,w){g(void 0 !== t,"video preparer is null");g(void 0 !== w,"ui preparer is null");this.H=v;this.Ja=u;this.Kob=t;this.Dob=w;this.KNa=n.fta;this.SK=[];this.cha=!1;this.$R=0;new p().on(n,"changed",l,this);this.reset();}function l(){this.H.log("config changed");n.fta && (this.KNa=n.fta);n.FW !== this.GK && (this.reset(),this.nua());}m=a(303);d=a(304);b=a(547);g=b.assert;h=b.sVa;k=a(1271);n=a(548).config;p=a(1272).Nh;n.declare({fta:["ppmConfig",{W1b:{e3a:0,d3a:2,b3a:0,c3a:5,Z7a:0},i6b:{e3a:0,d3a:1,b3a:0,c3a:3,Z7a:1E3},l2b:{e3a:0,d3a:1,b3a:0,c3a:3,Z7a:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.Dfa=!0;this.GK=n.FW;this.H.log("create model: " + n.FW,n.P6a,n.JRa);switch(n.FW){case "modelone":this.GK=new k(this.H);break;default:this.GK=new k(this.H);}};f.prototype.nua=function(){var v,u;if(!1 === this.cha){this.cha=!0;for(var q=0;q < this.SK.length;q++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.SK[q]));v=this.oSa(this.SK[q]);u=this.aWa(v);this.GK.update(v,u);this.Dfa=!1;}this.SK=[];}};f.prototype.update=function(q){var v,u,t;this.H.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Ya && q.Ya[0]){!1 === this.cha && this.SK.length < n.rMb && this.SK.push(q);v=this.oSa(q);u=this.aWa(v);this.H.log("actionType",u);v="mlmodel" == n.FW?this.GK.update(q,u):this.GK.update(v,u);v=this.UCb(v,n.ZJb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.$R && (this.$R=m(),this.Ja && this.Ja.XX && this.Ja.XX({Kyb:this.$R}));if(this.Ja && this.Ja.eUb){this.TDb();t=[];v.forEach(function(w){t.push({Vac:w.Z});});JSON.stringify(q);JSON.stringify(v);}this.Kob.NH(v);this.Dob.NH(v);this.Dfa=!1;}};f.prototype.TDb=function(){m();};f.prototype.XX=function(){this.$R=m();this.Ja && this.Ja.XX && this.Ja.XX({Kyb:this.$R});};f.prototype.oSa=function(q){var v,u,t,w,x;v={};t=q.Ya || [];w=(function(y){var z,A;z={};x=d.PQ.name.indexOf(y.context);z.context=0 <= x?x:d.PQ.Ax;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];u=y.list || [];u.forEach((function(B){A={Z:B.Z,Cd:B.Cd,index:B.index,VN:B.VN,o9:B.o9,list:B.list,Nb:B.Nb};void 0 !== B.property && (x=d.xJ.name.indexOf(B.property),A.property=0 <= x?x:d.xJ.Ax);z.list.push(A);}).bind(this));v.Ya.push(z);}).bind(this);if(void 0 !== q.direction){x=d.bv.name.indexOf(q.direction);v.direction=0 <= x?x:d.bv.Ax;}void 0 !== q.RU && (v.A8b=q.RU.rowIndex,v.z8b=q.RU.$tb);v.RU=q.RU;v.Ya=[];t.forEach(w);return v;};f.prototype.aWa=function(q){var v,u,t;v=q.direction || d.bv.Ax;u=q.RU;t=q.Ya || [];!0 === this.Dfa?q=d.ax.PBa:!0 === t.some(this.nHb)?(q=d.ax.kR,this.E9(t,v,u)):q=t[0].context === d.PQ.z0?d.ax.z0:v === d.bv.SIa || v === d.bv.RDa?d.ax.lJa:d.ax.Ax;return q;};f.prototype.nHb=function(q){return (q.list || []).some(function(v){return v.property === d.xJ.kR || v.property === d.xJ.gAa;});};f.prototype.E9=function(q,v,u){var t,w;this.H.log("reportPlayFocusEvent: ",v,u);t={};w=h(q);this.Ja && this.Ja.E9 && (t.r8b=m(),t.direction=d.bv.name[v],u && (t.rowIndex=u.rowIndex,t.yja=u.$tb),void 0 !== w.lk && (t.requestId=q[w.lk].requestId),this.Ja.E9 && this.Ja.E9(t));};f.prototype.UCb=function(q,v){for(var u=q.length,t=[],w,x,y,z,A=0;A < u;A++){x=q[A];w=Math.floor(A / v) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.Ytb,z) && !(y[B].yl=x.yl,this.WOa(y[B],w,t),t.length >= n.D1a);B++){;}}else this.WOa(x,w,t);if(t.length >= n.D1a)break;}return t;};f.prototype.WOa=function(q,v,u){var w,x;function t(y){y.ve && (y.Nb || (y.Nb={}),y.Nb.ve=y.ve);return y.Nb;}w=q.o9;if(void 0 !== w && w instanceof Array)w.forEach(function(y){void 0 !== y.Z && (x=t(y),u.push(new c(y.Z,v,y.Cd,y.VN,q.yl,x)));});else if(void 0 !== w && void 0 !== w.Z){w=q.o9;x=t(w);u.push(new c(w.Z,v,w.Cd,w.VN,q.yl,x));}void 0 !== q.Z && (x=t(q),u.push(new c(q.Z,v,q.Cd,q.VN,q.yl,x)));};f.prototype.EC=function(q){var v;v=this.KNa;return q?v[q]:v;};r.exports=f;},function(r,b,a){var l,m,d,g,h,k,n,p,q,v;function c(u,t){this.lk=u;this.$l=t;}function f(u){this.H=u;this.reset();}l=a(303);m=a(304);b=a(547);d=a(548).config;g=b.LDb;h=b.sDb;k=b.Myb;n=b.MOb;p=b.LOb;q=b.KOb;v=b.sVa;f.prototype.constructor=f;f.prototype.reset=function(){this.LNa=void 0;this.Bk=[];this.zNa=this.ANa=!1;};f.prototype.update=function(u,t){var w;this.Bk && (this.Bk=this.Bk.filter(this.SWb,this));if(!1 === this.ANa){w=g(u.Ya).slice(0,d.XSa);0 < w.length && (this.sH(w,m.fx.kl),this.ANa=!0,this.Bk=this.RI(w.concat(this.Bk)));}!1 === this.zNa && (w=h(u.Ya).slice(0,d.XSa),0 < w.length && (this.sH(w,m.fx.kl),this.zNa=!0,this.Bk=this.RI(w.concat(this.Bk))));switch(t){case m.ax.PBa:t=this.PGb(u);break;case m.ax.lJa:t=this.YGb(u);break;case m.ax.z0:t=this.ZGb(u);break;case m.ax.kR:t=this.UGb(u);break;default:t=this.MGb(u);}this.LNa=u;return t;};f.prototype.PGb=function(u){u=n(u.Ya,d.P6a,d.JRa);this.sH(u,m.fx.kl);return this.Bk=this.RI(this.Bk.concat(u));};f.prototype.YGb=function(u){var t,w;this.H.log("handleScrollHorizontal");t=u.Ya;u=n(t,d.R6a,d.KRa);w=k(t,this.LNa.Ya);t=t[w].list.slice(0,d.PUb);t.concat(u);this.sH(t,m.fx.vea);return this.RI(t.concat(this.Bk));};f.prototype.sH=function(u,t){u.forEach(function(w){if(void 0 === w.mC || w.mC < t)w.mC=t;void 0 === w.iP && (w.iP=l());void 0 === w.yl && (w.yl=l());});};f.prototype.ZGb=function(u){this.H.log("handleSearch");u=p(u.Ya,d.gVb);this.sH(u,m.fx.mJa);this.Bk=u.concat(this.Bk);return this.Bk=this.RI(this.Bk);};f.prototype.UGb=function(u){var t,w,x,y,z;this.H.log("handlePlayFocus: ",d.BV);t=u.direction;w=u.Ya;u=[];x=v(w);if(void 0 !== x.lk)switch((u.push(x),t)){case m.bv.SIa:for(t=1;t < d.BV;t++){u.push(new c(x.lk,x.$l + t));}u.push(new c(x.lk - 1,x.$l));u.push(new c(x.lk + 1,x.$l));break;case m.bv.RDa:for(t=1;t < d.BV;t++){u.push(new c(x.lk,x.$l - t));}u.push(new c(x.lk - 1,x.$l));u.push(new c(x.lk + 1,x.$l));break;case m.bv.kjb:u.push(new c(x.lk - 1,x.$l));for(t=1;t <= d.BV / 2;t++){u.push(new c(x.lk,x.$l + t));u.push(new c(x.lk,x.$l - t));}break;case m.bv.Rdb:for((u.push(new c(x.lk + 1,x.$l)),t=1);t <= d.BV / 2;t++){u.push(new c(x.lk,x.$l + t));u.push(new c(x.lk,x.$l - t));}}y=[];u.forEach(function(A){z=q(w,A.lk,A.$l);void 0 !== z && y.push(z);});this.sH(y,m.fx.vea);return this.RI(y.concat(this.Bk));};f.prototype.MGb=function(u){this.H.log("ModelOne: handleDefaultCase");u=n(u.Ya,d.R6a,d.KRa);this.sH(u,m.fx.vea);return this.RI(u.concat(this.Bk));};f.prototype.SWb=function(u){return u.mC == m.fx.kl | u.mC == m.fx.mJa & l() - u.iP < d.GHb;};f.prototype.RI=function(u){var t,w,x,y,z,A,B;t=[];w={};y=0;z=u.length;for(x=0;x < z;x++){A=u[x].Z;B=u[x];!1 === (A in w)?(t.push(B),w[A]=y,y++):(A=t[w[A]],B.yl < A.yl && (A.yl=B.yl),B.mC > A.mC && (A.mC=B.mC),B.iP > A.iP && (A.iP=B.iP));}return t;};r.exports=f;},function(r,b,a){r.exports={EventEmitter:a(1273),Nh:a(1274)};},function(r){function b(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.xd)return (this.xd={},this.xd[c]=[f],!0);l=this.xd[c];return void 0 === l?(this.xd[c]=[f],!0):0 > l.indexOf(f)?(l.push(f),!0):!1;}function a(c,f){c=this.xd?this.xd[c]:void 0;if(!c)return !1;c.forEach(function(l){l(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var l;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.xd)return !1;l=this.xd[c];if(void 0 === l)return !1;f=l.indexOf(f);if(0 > f)return !1;if(1 === l.length)return (delete this.xd[c],!0);l.splice(f,1);return !0;},Va:a,emit:a,removeAllListeners:function(c){this.xd && (void 0 === c?delete this.xd:delete this.xd[c]);return this;}};},function(r){function b(c,f,l,m){c.trace(":",l,":",m);f(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,l,m){l=m?l.bind(m):l;m=!1;if(c){this.console && (l=b.bind(null,this.console,l,f));if("function" === typeof c.addEventListener)m=c.addEventListener(f,l);else if("function" === typeof c.addListener)m=c.addListener(f,l);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,l]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var l,m;l=f[0];m=f[1];f=f[2];"function" === typeof l.removeEventListener?l.removeEventListener(m,f):"function" === typeof l.removeListener && l.removeListener(m,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(nb);})(window);}).call(window);