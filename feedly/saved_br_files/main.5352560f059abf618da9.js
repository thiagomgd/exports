(self.webpackChunk=self.webpackChunk||[]).push([[179],{75401:(e,t,s)=>{"use strict";s.d(t,{c:()=>h});var n=s(32735),i=s(16842),r=s.n(i),a=s(8353),o=s(26327),l=s(14007);const c=["enableCustomSharing","enableEvernote","enableInstapaper","enablePocket","enableOneNote","enableTwitter","enableFacebook","enableLinkedIn","enableBuffer","enableEmail","enableBlogger","enableWordPress","enableSave"],d=r()({displayName:"EntryControlComponent",UNSAFE_componentWillMount(){this.setupEntry(this.props.entryId)},componentDidMount(){this.inlinedEntryControl.setPart(this.refs.inlineFrameElem),this.inlinedEntryControl.display(),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this)},UNSAFE_componentWillReceiveProps(e){e.entryId!=this.props.entryId?(this.cleanupEntry(),this.setupEntry(e.entryId),this.inlinedEntryControl.setPart(this.refs.inlineFrameElem),this.inlinedEntryControl.display()):e.isCurrent!=this.props.isCurrent&&(e.isCurrent?this.inlinedEntryControl.startReadTime():this.inlinedEntryControl.endReadTime())},componentWillUnmount(){this.cleanupEntry(),this.preferences.unregisterObserver(this),this.preferences=null},setupEntry(e){this.inlinedEntryControl=new a.c,this.inlinedEntryControl.setPreferences(streets.service("preferences")),this.inlinedEntryControl.setProfile(streets.service("profile")),this.inlinedEntryControl.setReader(streets.service("reader")),this.inlinedEntryControl.setSigns(streets.service("signs")),this.inlinedEntryControl.setRouter(streets.service("router")),this.inlinedEntryControl.setAnalytics(streets.service("analytics")),this.inlinedEntryControl.setDots(streets.service("dots")),this.inlinedEntryControl.setLeo(streets.service("leo")),this.inlinedEntryControl.setMicrosessions(streets.service("microsessions")),this.inlinedEntryControl.setEntryId(e)},cleanupEntry(){this.inlinedEntryControl.destroy()},onPreferenceChanged(e){c.indexOf(e)>-1&&(this.cleanupEntry(),this.setupEntry(this.props.entryId),this.inlinedEntryControl.setPart(this.refs.inlineFrameElem),this.inlinedEntryControl.display())},render:()=>n.createElement("div",{className:"slideEntryContent",ref:"inlineFrameElem"})}),h=r()({displayName:"EntryHolder",UNSAFE_componentWillMount(){this.feedly=streets.service("feedly"),this.navigo=streets.service("navigo")},componentDidMount(){this.props.navigatable&&this.checkNavigoBumpers()},UNSAFE_componentWillReceiveProps(e){e.navigatable&&this.checkNavigoBumpers()},componentWillUnmount(){this.feedly=null,this.navigo=null},checkNavigoBumpers(){this.setState({allowRight:!!this.navigo.lookupNextEntry(!1),allowLeft:!!this.navigo.lookupPreviousEntry(!1),left:null,right:null})},getInitialState:()=>({}),render(){let e,t;return this.props.navigatable&&(this.state.allowLeft&&(e=n.createElement("div",{onClick:()=>{streets.service("readingManager").onPreviousEntry()},className:"slideBumper slideBumper-left"},n.createElement("div",null,n.createElement(o.Z,null)))),this.state.allowRight&&(t=n.createElement("div",{onClick:()=>{streets.service("readingManager").onNextEntry()},className:"slideBumper slideBumper-right"},n.createElement("div",null,n.createElement(l.Z,null))))),n.createElement("div",{className:"floatingEntryContentSlide sliderWidth"},n.createElement("div",{className:"bumperHolder sliderContainer sliderPad left"},n.createElement("div",{style:{position:"relative"}},e)),n.createElement("div",{className:"bumperHolder sliderContainer sliderPad right"},n.createElement("div",{style:{position:"relative"}},t)),n.createElement(d,{isCurrent:this.props.isCurrent,entryId:this.props.entryId}))}})},68211:(e,t,s)=>{"use strict";s.d(t,{Z:()=>w});var n=s(47169),i=s(32735);const r=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"m9.726 4.391-4.583 3a.5.5 0 0 0 0 .837l4.583 3a.5.5 0 0 0 .548 0l4.583-3a.5.5 0 0 0 0-.837l-4.583-3a.5.5 0 0 0-.548 0ZM10 5.407l3.67 2.402L10 10.212 6.329 7.809l3.67-2.402ZM14.91 11.982a.5.5 0 0 1 .493.41l.008.09v2.375a.5.5 0 0 1-.17.376l-.07.05-4.91 3a.5.5 0 0 1-.439.042l-.083-.041-4.91-3a.5.5 0 0 1-.232-.341l-.008-.086v-2.375a.5.5 0 0 1 .992-.09l.008.09v2.094l4.41 2.695 4.41-2.694.002-2.095a.5.5 0 0 1 .41-.492l.09-.008Z"}),i.createElement("path",{d:"M14.196 7.494a.5.5 0 0 1 .628-.123l.075.05 3.274 2.668a.5.5 0 0 1 .035.744l-.077.062-4.583 3a.5.5 0 0 1-.514.02l-.076-.051-3.274-2.667a.5.5 0 0 1 .557-.826l.075.05 2.989 2.436 3.705-2.425-2.742-2.235a.5.5 0 0 1-.123-.628l.05-.075Z"}),i.createElement("path",{d:"M5.1 7.422a.5.5 0 0 1 .697.712l-.065.063-2.743 2.235 3.705 2.425 2.99-2.435a.5.5 0 0 1 .64.007l.064.065a.5.5 0 0 1-.008.64l-.064.063-3.274 2.667a.5.5 0 0 1-.508.074l-.082-.043-4.583-3a.5.5 0 0 1-.112-.737l.07-.07 3.274-2.666ZM12.958 1.755a.5.5 0 0 1 .508-.074l.082.044 4.583 3a.5.5 0 0 1 .112.736l-.07.07-3.274 2.666a.5.5 0 0 1-.696-.712l.065-.063 2.743-2.235-3.706-2.426-2.99 2.436a.5.5 0 0 1-.64-.007l-.063-.065a.5.5 0 0 1 .008-.64l.064-.063 3.274-2.667Z"}),i.createElement("path",{d:"M6.452 1.725a.5.5 0 0 1 .514-.021l.076.051 3.274 2.667a.5.5 0 0 1-.557.826l-.075-.05-2.99-2.437-3.706 2.426 2.744 2.235a.5.5 0 0 1 .123.629l-.05.074a.5.5 0 0 1-.63.123l-.074-.05L1.827 5.53a.5.5 0 0 1-.035-.745l.077-.061 4.583-3Z"})))}));var a=s(80716),o=s(25035),l=s(1464),c=s(28594),d=s(50240),h=s(38916),u=s(65060),p=s(53670),m=s(15149),g=s(2772),f=s(9990),y=s(66772),v=s(31220),b=s(18542);const E={Html:"HTML",Letter:"US Letter PDF",A4:"A4 PDF"},C=["Reddit","Twitter"];class w extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_closeDropboxBackupModal",(()=>{this.setState({isDropboxBackupModalOpen:!1})})),(0,n.Z)(this,"_onClick",((e,t)=>{t?this._onDisconnectIntegration(e):this.integrations.connect(e)})),(0,n.Z)(this,"_onDisconnectIntegration",(async e=>{this.setState((t=>{let{loading:s}=t;return{loading:{...s,[e]:!0}}})),await this.integrations.askDisconnect(e),this.setState((t=>{let{loading:s}=t;return{loading:{...s,[e]:!1}}}))})),(0,n.Z)(this,"_onDropboxBackupClick",(()=>{const{dropboxFormat:e}=this.state;this.setState({isDropboxBackupButtonLoading:!0}),this.profile.askStartDropboxBackup(e).then((()=>{this.setState({dropboxBackupEnabled:!0,dropboxBackupError:"",isDropboxBackupButtonLoading:!1,isDropboxBackupModalOpen:!1})})).catch((e=>{this.setState({dropboxBackupError:e,isDropboxBackupButtonLoading:!1})}))})),(0,n.Z)(this,"_onDropboxFormatChange",(e=>{this.setState({dropboxFormat:e})})),(0,n.Z)(this,"_openDropboxBackupModal",(()=>{this.setState({isDropboxBackupModalOpen:!0})})),(0,n.Z)(this,"_updateIntegrations",(()=>{this.setState((e=>{let{integrations:t}=e;return{integrations:t.map((e=>{const t=this.profile.isIntegrationConnected(e.key);return{...e,isConnected:t,label:t?"Disconnect from ".concat(h.gJ[e.key]):"Connect to ".concat(h.gJ[e.key])}}))}}))})),(0,n.Z)(this,"_updateDropboxInfo",(()=>{const e=this.profile.getUserInfo();e.dropboxConnected&&e.dropboxTagBackup&&this.setState({dropboxBackupEnabled:!0,dropboxFormat:e.dropboxFormat})}));const t=[{key:h.bK.dropbox,iconComponent:r,sub:"A real-time backup of your saved articles, tagged articles and OPML file."},{key:h.bK.evernote,iconComponent:a.Z,sub:" Connect Feedly to your Evernote account and easily save the most useful articles you discover in Feedly in your Evernote notebooks."},{key:h.bK.oneNote,iconComponent:o.Z,sub:"Connect Feedly to your OneNote account and easily save the most useful articles you discover in Feedly in your OneNote notebooks."},{key:h.bK.pocket,iconComponent:l.Z,sub:"Connect Feedly to your Pocket account and easily save the most useful articles you discover."}];streets.hasBusinessAccess()||t.push({key:h.bK.reddit,iconComponent:c.Z,sub:"Connect Feedly to your Reddit account to follow Reddit searches, subreddits, and timelines."}),streets.isProPlusPlan()&&!streets.hasBusinessAccess()&&t.push({key:h.bK.twitter,iconComponent:d.Z,sub:"Connect Feedly to your Twitter account to follow Twitter accounts and hashtags."}),this.state={integrations:t,dropboxBackupEnabled:!1,dropboxBackupError:"",dropboxFormat:"Html",isDropboxBackupButtonLoading:!1,isDropboxBackupModalOpen:!1,loading:{}}}componentDidMount(){this.integrations=streets.service("integrations"),this.signs=streets.service("signs"),this.profile=streets.service("profile"),this.profile.registerObserver(this),this._updateDropboxInfo(),this._updateIntegrations()}componentWillUnmount(){this.profile.unregisterObserver(this),this.integrations=null,this.profile=null,this.signs=null}onProfileChanged(){this._updateIntegrations()}render(){const e=streets.isEnterprisePlan()?"Enterprise":"Business";return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered m-b-2"},i.createElement(g.H2,{appearance:"h1",kicker:"Manage account"},"Integrations"),this._renderIntegrations(),streets.hasBusinessAccess()&&C.map((t=>i.createElement(f.H3,{appearance:"h2",key:t,sub:streets.isUserAdmin()?i.createElement(i.Fragment,null,"You can manage your ",t," integration in your"," ",i.createElement(y.r,{uri:"team/integrations"},e," settings"),"."):i.createElement(i.Fragment,null,"Your ",t," integration must be configured in the"," ",e,"settings by an admin.")},t))),!streets.hasProPlusAccess()&&i.createElement(f.H3,{appearance:"h2",sub:i.createElement(i.Fragment,null,i.createElement(y.r,{uri:"pro/twitter"},"Upgrade")," to Pro+ to follow Twitter timelines, hashtags, Lists, and searches in your Feedly."," ",i.createElement(y.r,{href:"https://blog.feedly.com/twitter-feeds/",newWindow:!0},"Learn more"),".")},"Twitter")),this._renderDropboxBackupModal())}_renderIntegrations(){const{integrations:e,dropboxBackupEnabled:t,dropboxFormat:s,loading:n}=this.state;return e.map((e=>{let{iconComponent:r,isConnected:a,key:o,label:l,sub:c}=e,d=null;return o===h.bK.dropbox&&a&&t?d=i.createElement("p",null,"Backup enabled with ",E[s]," format. See your Dropbox"," ",i.createElement(y.r,{href:"https://www.dropbox.com/home",newWindow:!0},"Apps > Feedly Vault")," ","folder."):o===h.bK.dropbox&&a&&(d=i.createElement("p",null,"Account connected. ",i.createElement(m.Z,{onClick:this._openDropboxBackupModal,primary:!0},"Select format")," to start backup.")),i.createElement("div",{key:o},i.createElement(f.H3,{appearance:"h2",sub:c},h.gJ[o]),i.createElement(p.z,{icon:i.createElement(r,{color:a?"black":"white"}),importance:a?"secondary":"primary",label:l,loading:n[o],onClick:()=>{this._onClick(o,a)}}),d)}))}_renderDropboxBackupModal(){const{dropboxBackupError:e,dropboxFormat:t,isDropboxBackupButtonLoading:s,isDropboxBackupModalOpen:n}=this.state;return n?i.createElement(u.u,{className:"form",onClose:this._closeDropboxBackupModal},i.createElement("div",{className:"field"},i.createElement("label",null,"Format",i.createElement("div",{className:"sub"},"Select the format you want your articles to be saved as.")),i.createElement(b.E,{name:"dropboxFormat",onChange:this._onDropboxFormatChange,selectedValue:t},Object.keys(E).map((e=>i.createElement(v.Y,{key:e,value:e},E[e]))))),i.createElement(p.z,{importance:"primary",label:"Begin backup",loading:s,onClick:this._onDropboxBackupClick}),i.createElement(p.z,{importance:"secondary",label:"Cancel",onClick:this._closeDropboxBackupModal}),e&&i.createElement("div",{className:"message error"},e)):null}}},56341:(e,t,s)=>{"use strict";s.d(t,{d:()=>v});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(3167),l=s(53670),c=s(9990),d=s(2121),h=s(31220),u=s(18542),p=s(44205);class m extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{font:this.props.initialFont}),(0,n.Z)(this,"_onFontChange",(e=>{d.Jn[e]&&!streets.hasProAccess()?(streets.service("router").loadPage("pro/font"),this.props.onDone()):(this.setState({font:e}),this.font.setFontFamily(e))}))}componentDidMount(){this.font=streets.service("font")}componentWillUnmount(){this.font=null}render(){const{font:e}=this.state,{keyId:t,options:s}=this.props;return i.createElement(u.E,{name:t,onChange:this._onFontChange,selectedValue:e},s.map((e=>i.createElement(h.Y,{key:e.value,value:e.value},e.label,!!d.Jn[e.value]&&i.createElement(p.x,{className:"m-l-1",color:"accent",size:"small",tagName:"span"},"Pro+")))))}}m.propTypes={initialFont:a().oneOfType([a().string,a().number]).isRequired,keyId:a().string.isRequired,onDone:a().func,options:a().arrayOf(a().object).isRequired},m.defaultProps={onDone:()=>{}};class g extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{value:this.props.initialValue}),(0,n.Z)(this,"_onPreferenceChange",(e=>{const{keyId:t}=this.props;this.setState({value:e}),this.preferences.askSetPreference(t,e)}))}componentDidMount(){this.preferences=streets.service("preferences")}componentWillUnmount(){this.preferences=null}render(){const{value:e}=this.state,{keyId:t,options:s}=this.props;return i.createElement(u.E,{name:t,onChange:this._onPreferenceChange,selectedValue:e},s.map((e=>i.createElement(h.Y,{key:e.value,value:e.value},e.label))))}}g.propTypes={initialValue:a().oneOfType([a().string,a().number]).isRequired,keyId:a().string.isRequired,options:a().arrayOf(a().object).isRequired};var f=s(32968);class y extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{value:this.props.initialValue}),(0,n.Z)(this,"_onChange",(e=>{this.preferences.askSetPreference(this.props.keyId,e),this.setState({value:e})}))}componentDidMount(){this.preferences=streets.service("preferences")}componentWillUnmount(){this.preferences=null}render(){return i.createElement("div",{className:"field"},i.createElement(f.o,{value:this.state.value,onChange:this._onChange}))}}y.propTypes={initialValue:a().string,keyId:a().string.isRequired},y.defaultProps={initialValue:""};class v extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onAlphabetizeFeeds",(()=>{try{streets.service("feedly").sortPersonalCollectionsAlphabetically(),streets.service("feedly").sortTeamCollectionsAlphabetically()}catch(e){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}}))}render(){const{description:e,label:t}=this.props.preference;return i.createElement("div",{className:"preference-sections"},i.createElement(c.H3,{className:"preference-title"},t),i.createElement("p",{className:"preference-description"},e),i.createElement("div",{className:"form"},this._renderForm()))}_renderForm(){const{onDone:e,preference:{buttonLabel:t,key:s,kind:n,options:r},value:a}=this.props;return s===o.FD?i.createElement(m,{initialFont:a,keyId:s,onDone:e,options:r}):"kind.select"===n?i.createElement(g,{initialValue:a,keyId:s,options:r}):"kind.button"===n?i.createElement(l.z,{className:"field",label:t,onClick:this._onAlphabetizeFeeds}):i.createElement(y,{initialValue:a,keyId:s})}}v.propTypes={onDone:a().func,preference:a().shape({description:a().string,key:a().string,label:a().string,options:a().array}).isRequired,value:a().oneOfType([a().string,a().number]).isRequired},v.defaultProps={onDone:()=>{}}},5768:(e,t,s)=>{"use strict";s.d(t,{S:()=>l});var n=s(47169),i=s(32735),r=s(19054),a=s(2772),o=s(56341);class l extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTogglePreference",(e=>{const{values:t}=this.state,s="no"===t[e]?"yes":"no";"no"===s||this._isBelowMaxSharingServices()?this.preferences.askSetPreference(e,s):this.signs.showMessage("You can only display ".concat(8," services"))})),this.state={preferences:[],values:{},tables:[]}}componentDidMount(){this.signs=streets.service("signs"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.signs=null}onPreferenceChanged(e){this.state.preferences.find((t=>t.key===e))&&(this._updatePreferences(),this.signs.showMessage("Preference changed"))}render(){return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},i.createElement(a.H2,{appearance:"h1",kicker:"Manage account"},"Saving and sharing"),this._renderPreferences()))}_renderPreferences(){const e=this.state.preferences||null,t=[],s=[];return!!e&&(e.forEach((e=>{"kind.table"!==e.kind?s.push(i.createElement(o.d,{key:e.key,preference:e,value:this.state.values[e.key]})):t.indexOf(e.table)<0&&(s.push(this._renderTables()),t.push(e.table))})),s)}_renderTables(){const e=this.state.tables||null,t=[];return!!e&&(e.forEach((e=>{const s=this.state.values[e.key],n="yes"===s||!0===s,a=e.icon;t.push(i.createElement("tr",{key:e.key},i.createElement("td",null,i.createElement(a,{importance:"tertiary"})," ",e.label),i.createElement("td",{className:"align-right"},i.createElement(r.X,{checked:n,onChange:()=>this._onTogglePreference(e.key)}))))})),i.createElement("table",{key:"table-sharing",className:"table-sharing"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,"Service"),i.createElement("th",{className:"align-right"},"Enable tool"))),i.createElement("tbody",null,t)))}_updateTables(){const{preferences:e}=this.state,t=[];e.forEach((e=>{"kind.table"===e.kind&&t.push(e)})),this.setState({tables:t})}_updatePreferences(){const e=this.preferences.getSection("saving and sharing");this.setState(e,this._updateTables)}_isBelowMaxSharingServices(){const{values:e}=this.state;return Object.keys(e).reduce(((t,s)=>"yes"===e[s]&&s.startsWith("enable")&&"enableAnnotations"!==s?t+1:t),0)<8}}},77817:(e,t,s)=>{"use strict";s.d(t,{q:()=>l});var n=s(32735),i=s(60216),r=s.n(i);const a=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14 3.25a4.75 4.75 0 1 0 0 9.5 4.75 4.75 0 0 0 0-9.5Zm0 1.5a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5ZM14 15.25A8.75 8.75 0 0 1 22.75 24a.75.75 0 1 1-1.5 0 7.25 7.25 0 0 0-14.5 0 .75.75 0 1 1-1.5 0A8.75 8.75 0 0 1 14 15.25Z"})))}));var o=s(15813);function l(e){let{alt:t,className:s,compact:i,elementRef:r,iconSize:l,title:c,url:d}=e;return n.createElement(o.t,{className:s,compact:i,elementRef:r,url:d,alt:t,title:c},!d&&n.createElement(a,{className:"m-r-0",importance:"secondary",height:l,width:l}))}l.propTypes={alt:r().string,className:r().string,compact:r().bool,elementRef:r().shape({current:r().instanceOf(Element)}),iconSize:r().oneOf([12,16,28,80,120]),title:r().string,url:r().string},l.defaultProps={alt:void 0,className:void 0,compact:!1,elementRef:void 0,iconSize:16,title:void 0,url:void 0}},21050:(e,t,s)=>{"use strict";s.d(t,{G:()=>h});var n=s(47169),i=s(33259),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(57855),d=s(23005);class h extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_updateChildCount",r()((()=>{this.setState((e=>{let{childCount:t}=e;const{batchSize:s,childRenderArgs:n,scrollTarget:i}=this.props;return t<n.length&&(0,c.Hp)(i)?{childCount:t+s}:null}))}),400,{leading:!1})),this.state={childCount:"number"==typeof e.initialChildCount?e.initialChildCount:e.batchSize}}componentDidMount(){this._updateScrollEvents(),this._updateChildCount()}componentDidUpdate(e,t){const{scrollTarget:s}=this.props,{childCount:n}=this.state;n!==t.childCount&&this._updateChildCount(),this._isListeningToScroll&&s!==e.scrollTarget&&(this._removeScrollListeners(e.scrollTarget),this._addScrollListeners(s)),this._updateScrollEvents()}componentWillUnmount(){this._updateChildCount.cancel(),this._removeScrollListeners(this.props.scrollTarget),this._isListeningToScroll=null}render(){const{childRenderArgs:e,childRenderer:t}=this.props,{childCount:s}=this.state;return a.createElement(a.Fragment,null,e.slice(0,s).map(t),e.length>s&&a.createElement(d.g,null))}_addScrollListeners(e){this._isListeningToScroll||(this._isListeningToScroll=!0,e.addEventListener("scroll",this._updateChildCount))}_removeScrollListeners(e){this._isListeningToScroll=!1,e.removeEventListener("scroll",this._updateChildCount)}_updateScrollEvents(){const{childRenderArgs:e,scrollTarget:t}=this.props,{childCount:s}=this.state;s<e.length?this._addScrollListeners(t):this._isListeningToScroll&&this._removeScrollListeners(t)}}h.propTypes={batchSize:l().number.isRequired,childRenderArgs:l().arrayOf(l().object),childRenderer:l().func.isRequired,initialChildCount:l().number,scrollTarget:l().oneOfType([l().shape({clientHeight:l().number,scrollHeight:l().number,scrollTop:l().number}),l().shape({document:l().object})]).isRequired},h.defaultProps={childRenderArgs:[],initialChildCount:void 0}},42584:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(99175);function o(e){let{children:t,vendor:s}=e;return n.createElement(a.d,{content:n.createElement(n.Fragment,null,n.createElement("div",{className:"CVETipsy__title"},"Awareness level of this CVE"),n.createElement("div",{className:"CVETipsy__message"},"How many sources and people are talking about this specific CVE compared to other ",s," vulnerabilities. Higher trending CVEs are more likely to be exploited.",n.createElement("div",{className:"CVETipsy__legend m-y-t"},n.createElement("div",{className:"CVETipsy__legend-dot CVETipsy__legend-dot--orange"}),"This specific CVE"),n.createElement("div",{className:"CVETipsy__legend"},n.createElement("div",{className:"CVETipsy__legend-dot CVETipsy__legend-dot--gray"}),"Baseline for all vulnerabilities for this vendor"))),tipClass:"fx"},t)}o.propTypes={children:r().node.isRequired,vendor:r().string},o.defaultProps={vendor:void 0}},38084:(e,t,s)=>{"use strict";s.d(t,{u:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(24818),o=s(96297),l=s(7837),c=s(44205);function d(e){let{brand:t,className:s,expirationMonth:i,expirationYear:r,last4:d,showWarnings:h}=e;const u=(0,o.y5)(t);let p;return(0,o.h6)({expirationMonth:i,expirationYear:r})?p=n.createElement(l.j,{className:"m-l-1",color:"danger",iconComponent:a.Z},"Expired"):(0,o._P)({expirationMonth:i,expirationYear:r})&&(p=n.createElement(l.j,{className:"m-l-1",color:"danger",iconComponent:a.Z},"Expiring Soon")),n.createElement("div",{className:"CardDetails ".concat(s)},!!u&&n.createElement(u,{importance:"secondary"}),n.createElement(c.x,{color:"secondary",size:"small",tagName:"span"},t," ending in ",d," expiring ",i,"/",r),h&&p)}d.propTypes={brand:r().string.isRequired,className:r().string,expirationMonth:r().number.isRequired,expirationYear:r().number.isRequired,last4:r().string.isRequired,showWarnings:r().bool},d.defaultProps={className:"",showWarnings:!1}},59663:(e,t,s)=>{"use strict";s.d(t,{C:()=>d});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(53670);class d extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_showAll",(()=>{this.setState({showAll:!0})})),this.state={showAll:!1}}render(){const{cards:e,className:t,kind:s,layout:n,limit:r}=this.props,{showAll:o}=this.state,l=o?e:e.slice(0,r);return i.createElement("div",{className:a()("list-card",t)},i.createElement("div",{className:"row"},l.map((e=>i.createElement("div",{key:e.key,className:n},e)))),e.length>l.length&&i.createElement(c.z,{importance:"secondary",onClick:this._showAll,label:s?"More ".concat(s,"s"):"More"}))}}d.propTypes={cards:l().arrayOf(l().element).isRequired,className:l().string,kind:l().string,layout:l().string.isRequired,limit:l().number},d.defaultProps={className:void 0,kind:void 0,limit:1e3}},16113:(e,t,s)=>{"use strict";s.d(t,{A:()=>Q});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o);const c=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10 1.884a8.116 8.116 0 1 0 0 16.232 8.116 8.116 0 0 0 0-16.232Zm0 1.5a6.616 6.616 0 1 1 0 13.232 6.616 6.616 0 0 1 0-13.232Z"}),i.createElement("path",{d:"M10 5.812a4.187 4.187 0 1 0 0 8.375 4.187 4.187 0 0 0 0-8.375Zm0 1.5a2.688 2.688 0 1 1 0 5.375 2.688 2.688 0 0 1 0-5.375Z"}),i.createElement("path",{d:"M14.678 4.261a.75.75 0 0 1 1.133.977l-.072.084-2.779 2.779a.75.75 0 0 1-1.133-.977l.072-.084 2.779-2.779ZM11.9 11.9a.75.75 0 0 1 .976-.073l.084.072 2.779 2.779a.75.75 0 0 1-.977 1.133l-.084-.072-2.779-2.779a.75.75 0 0 1 0-1.06ZM7.04 11.9a.75.75 0 0 1 1.133.976l-.072.084-2.779 2.779a.75.75 0 0 1-1.133-.977l.072-.084 2.779-2.779ZM4.261 4.261a.75.75 0 0 1 .977-.072l.084.072L8.101 7.04a.75.75 0 0 1-.977 1.133l-.084-.072L4.26 5.322a.75.75 0 0 1 0-1.06Z"})))}));var d=s(5375),h=s(92814),u=s(87753),p=s(57993),m=s(57471),g=s(54960),f=s(56295),y=s(31454),v=s(8199),b=s(3167),E=s(88982),C=s(6172),w=s(23005),k=s(53670),_=s(8629),M=s(32727),S=s(31220),I=s(18542),T=s(74256);class N extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAccessChange",(e=>{this.setState({access:e})})),(0,n.Z)(this,"_onCreateClick",(()=>{const{access:e}=this.state;this.setState({isButtonLoading:!0}),e===p.s.personal?this._createPersonalCollection():e===p.s.team&&this._createTeamCollection()})),(0,n.Z)(this,"_onNameChange",(e=>{this._list.current&&this._list.current.resetSelection(),this.setState({name:e,error:(0,E.B)(e)?E.I:""})})),this._list=i.createRef();const t=streets.hasAdminBusinessAccess();this.state={access:t?p.s.team:p.s.personal,error:"",isButtonLoading:!1,isLoading:!0,isUpgradeNeeded:!1,name:e.initialName,suggestions:[]}}componentDidMount(){this.feeds=streets.service("feeds"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections=streets.service("enterprisecollections"),this._updateSuggestions(),this._updateIsUpgradeNeeded()}UNSAFE_componentWillReceiveProps(e){e.feedId!==this.props.feedId&&this._updateSuggestions(e.feedId)}componentWillUnmount(){this.personalcollections=null,this.enterprisecollections=null,this.feeds=null,this._list=null}render(){const{isLoading:e}=this.state;return i.createElement("div",{className:"CreateCollectionMenu form"},e?i.createElement(w.g,null):this._renderBody())}_renderBody(){const{access:e,error:t,isButtonLoading:s,isUpgradeNeeded:n,name:r,suggestions:a}=this.state;return n?i.createElement(C.Y,{size:"small"}):i.createElement(i.Fragment,null,i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"collection-name"},"Folder name"),i.createElement(T.A,{autoFocus:!0,clearable:!0,id:"collection-name",error:t,onChange:this._onNameChange,placeholder:"e.g. "+(a&&a.length?a[0]:"Design Systems"),type:"text",value:r})),this._renderSuggestions(),streets.hasAdminBusinessAccess()&&i.createElement(I.E,{name:"access",onChange:this._onAccessChange,selectedValue:e,title:"Access"},i.createElement(S.Y,{value:p.s.team}),i.createElement(S.Y,{value:p.s.personal})),i.createElement(k.z,{disabled:s||!!t||!r,label:"Create",loading:s,onClick:this._onCreateClick}),i.createElement(k.z,{label:"Cancel",onClick:this.props.onCancel,importance:"secondary"}))}_renderSuggestions(){const{name:e,suggestions:t}=this.state,s=e.toLowerCase(),n=t.filter((e=>{const t=e.toLowerCase();return s!==t&&0===t.indexOf(s)}));return n.length?i.createElement(M.G,{className:"field",deselectable:!0,ref:this._list},i.createElement("label",{htmlFor:"suggestions"},"Suggestions"),n.map((e=>i.createElement(_.s,{key:e,className:"item-with-visuals",onClick:()=>{this._onNameChange(e)}},i.createElement(d.Z,{importance:"tertiary"}),e)))):null}async _createPersonalCollection(){const{name:e}=this.state,{analyticsContext:t,bundle:s,feedId:n,feedTitle:i,onSourceFollowed:r,onSubmit:a,onSubmitError:o,scheme:l}=this.props;try{const o=await this.personalcollections.askSave({label:e},{silently:!0});n?await this.personalcollections.askAddFeed(o.id,{id:n,scheme:l,title:i},{analyticsContext:t}).then((()=>{r(n,o)})):s&&await this.personalcollections.askAddFeeds(o.id,s.feeds.map((e=>{let{id:t,title:s}=e;return{id:t,title:s}})),{analyticsContext:t}),a(o)}catch(c){c&&"duplicate label"===c.errorMessage?this.setState({error:"A collection with that name already exists.",isButtonLoading:!1}):o(c)}}async _createTeamCollection(){const{name:e}=this.state,{analyticsContext:t,bundle:s,feedId:n,feedTitle:i,onSourceFollowed:r,onSubmit:a,onSubmitError:o,scheme:l}=this.props;try{const o=await this.enterprisecollections.askSave({label:e},{silently:!0});n?await this.enterprisecollections.askAddFeed(o.id,{id:n,scheme:l,title:i},{analyticsContext:t}).then((()=>{r(n)})):s&&await streets.service("enterprisecollections").askAddFeeds(o.id,s.feeds.map((e=>{let{id:t,title:s}=e;return{id:t,title:s}}))),a(o)}catch(c){c&&"duplicate label"===c.errorMessage?this.setState({error:"A collection with that name already exists.",isButtonLoading:!1}):o(c)}}async _updateIsUpgradeNeeded(){const e=await this.personalcollections.askIsUpgradeNeededToCreate();this.setState({isLoading:!1,isUpgradeNeeded:e})}async _updateSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.feedId,{nameSuggestions:t}=this.props;if(!t){const s=await this.feeds.askMetadata(e);t=s&&s.topics||[]}this.setState({suggestions:t.map((e=>e.charAt(0).toUpperCase()+e.slice(1)))})}}N.propTypes={analyticsContext:l().string,bundle:l().shape({feeds:l().arrayOf(l().shape({id:l().string,title:l().string})),label:l().string}),feedId:l().string,feedTitle:l().string,initialName:l().string,nameSuggestions:l().arrayOf(l().string),onCancel:l().func,onSourceFollowed:l().func,onSubmit:l().func,onSubmitError:l().func,scheme:l().string},N.defaultProps={analyticsContext:void 0,bundle:void 0,feedId:null,feedTitle:null,initialName:"",nameSuggestions:null,onCancel:()=>{},onSourceFollowed:()=>{},onSubmit:()=>{},onSubmitError:()=>{},scheme:""};var L=s(264),P=s(41528),D=s(98978),A=s.n(D),O=s(86330),x=s.n(O),R=s(618),j=s(10936),F=s(88591),U=s(71824);class z extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onFilterTermChange",(e=>{this.setState({filterTerm:e}),this.props.onFilterChange(e)})),this.state={filterTerm:"",personalCollections:[],subscribedEnterpriseCollections:[],unsubscribedEnterpriseCollections:[]}}componentDidMount(){this.feeds=streets.service("feeds"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this._updateEnterpriseCollections(),this._updatePersonalCollections()}componentDidUpdate(e){e.feedId!==this.props.feedId&&(this._updateEnterpriseCollections(),this._updatePersonalCollections())}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.enterprisecollections=null,this.feeds=null,this.personalcollections=null}onCollectionsChanged(){this._updateEnterpriseCollections()}onFeedChanged(e){e===this.props.feedId&&this._updatePersonalCollections()}render(){const{subscribedEnterpriseCollections:e,unsubscribedEnterpriseCollections:t,filterTerm:s,personalCollections:n}=this.state,r=this._renderFilteredEnterpriseCollections(e),a=this._renderFilteredEnterpriseCollections(t),o=this._renderFilteredPersonalCollections();return n.length||e.length||t.length?i.createElement(j.P,{hint:r.length+o.length+a.length===0?"No feeds found.":"",menuItems:this._renderMenuItems(r,a,o),onChange:this._onFilterTermChange,value:s}):i.createElement(F.v,{width:300},i.createElement("p",{className:"hint p-x-2"},"Organize the feeds you want to follow into folders"))}_renderFilteredEnterpriseCollections(e){let{filterTerm:t}=this.state;const{feedId:s}=this.props;if(!e||!e.length)return[];let n=[...e];return t&&(t=t.toLowerCase(),n=x()(n,(e=>{let{label:s}=e;return s.toLowerCase().includes(t)})),n=A()(n,(e=>{let{label:s}=e;return s.toLowerCase().indexOf(t)}))),n.map((e=>{const t=e.containsFeed(s);return this._renderMenuItem(e,"team-collection",t,(()=>{this._onSelectEnterpriseCollection(e,t)}))}))}_renderFilteredPersonalCollections(){let{filterTerm:e}=this.state;const{personalCollections:t=[]}=this.state,{feedId:s}=this.props;if(!t.length)return[];let n=[...t];return e&&(e=e.toLowerCase(),n=x()(n,(t=>{let{label:s}=t;return s.toLowerCase().includes(e)})),n=A()(n,(t=>{let{label:s}=t;return s.toLowerCase().indexOf(e)}))),n.map((e=>{const t=e.containsFeed(s);return this._renderMenuItem(e,"collection",t,(()=>{this._onSelectPersonalCollection(e,t)}))}))}_renderMenuItem(e,t,s,n){return i.createElement(R.A,{key:e.id,highlightedText:this.state.filterTerm,label:e.label,onClick:n,selected:s,type:t})}_renderMenuItems(e,t,s){const n=[];return e.length&&n.push(i.createElement(U.N,{key:"teamDivider"},"Team Folders")),n.push(...e),s.length&&streets.hasBusinessAccess()&&n.push(i.createElement(U.N,{key:"personalDivider"},"Personal Folders")),n.push(...s),t.length&&n.push(i.createElement(U.N,{key:"unsubbedDivider"},"Team Feeds You Do Not Follow")),n.push(...t),n}async _onSelectEnterpriseCollection(e,t){const{analyticsContext:s,bundle:n,feedId:i,feedTitle:r,onClose:a,onSelect:o,onSourceFollowed:l,onUpdateError:c,scheme:d}=this.props;o(e);try{if(n)await this.enterprisecollections.askAddFeeds(e.id,n.feeds.map((e=>{let{id:t,title:s}=e;return{id:t,title:s}})));else if(t)await this.enterprisecollections.askRemoveFeed(e.id,i);else if(i){let t=r;if(!t){const e=await this.feeds.askMetadata(i);if(!e)throw new Error("The provided feed could not be found");t=e.title}await this.enterprisecollections.askAddFeed(e.id,{id:i,scheme:d,title:t},{analyticsContext:s}),l(i,e),a()}}catch(h){c(h,p.s.team)}}async _onSelectPersonalCollection(e,t){const{analyticsContext:s,bundle:n,feedId:i,feedTitle:r,onClose:a,onSelect:o,onSourceFollowed:l,onUpdateError:c,scheme:d}=this.props;o(e);try{if(n)await this.personalcollections.askAddFeeds(e.id,n.feeds.map((e=>{let{id:t,title:s}=e;return{id:t,title:s}})),{analyticsContext:s});else if(t)await this.personalcollections.askRemoveFeed(e.id,i);else if(i){let t=r;if(!t){const e=await this.feeds.askMetadata(i);if(!e)throw new Error("The provided feed could not be found");t=e.title}await this.personalcollections.askAddFeed(e.id,{id:i,scheme:d,title:t},{analyticsContext:s}),l(i,e),a()}}catch(h){c(h,p.s.personal)}}async _updateEnterpriseCollections(){if(streets.hasAdminBusinessAccess())try{const[e,t]=await Promise.all([this.enterprisecollections.askListSubscribedCollections(),this.enterprisecollections.askListNonSubscribedCollections()]);this.setState({subscribedEnterpriseCollections:e,unsubscribedEnterpriseCollections:t})}catch(e){this.props.onUpdateError(e)}}async _updatePersonalCollections(){const e=await this.personalcollections.askListCollections();this.setState({personalCollections:e.slice(0)})}}z.propTypes={analyticsContext:l().string,bundle:l().shape({feeds:l().arrayOf(l().shape({id:l().string,title:l().string})),label:l().string}),feedId:l().string,feedTitle:l().string,onClose:l().func,onFilterChange:l().func.isRequired,onSelect:l().func,onSourceFollowed:l().func,onUpdateError:l().func,scheme:l().string},z.defaultProps={analyticsContext:void 0,bundle:void 0,feedId:null,feedTitle:"",onClose:()=>{},onSelect:()=>{},onSourceFollowed:()=>{},onUpdateError:()=>{},scheme:""};var Z=s(96968),B=s(31731),H=s(44205),Y=s(31234),W=s(40150),q=s(5156),V=s(59003);class Q extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onButtonClick",(async()=>{const{analyticsContext:e,bundle:t,feedId:s,onCollectionPickerOpened:n}=this.props;if(!streets.getUserId())return void(0,y.YM)();const i=(0,g.Qc)(s)||(0,m.tp)(s);if(!t&&i&&!streets.isProLegacyPlan()&&!streets.hasProPlusAccess()&&!await this.feeds.askLookupFeed(s)){let t="pro/google-news";return e&&(t+="?featureContext=".concat(e)),void window.setTimeout((()=>{streets.service("router").loadPage(t)}),10)}i&&(this.setState({isGoogleFeedLoading:!0}),this.feeds.askRecentEntries(s).then((()=>{this.setState({isGoogleFeedLoading:!1})}))),this.setState((e=>({isOpen:!e.isOpen,showUpgradePrompt:!1})),(()=>{n(s)}))})),(0,n.Z)(this,"_onFilterTextChange",(e=>{this.setState({filterText:e})})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isCreateMode:!1,isOpen:!1,filterText:"",showUpgradePrompt:!1})})),(0,n.Z)(this,"_onCollectionSelect",(e=>{const{onCollectionSelect:t}=this.props;this.setState({isLoading:!0}),t(e)})),(0,n.Z)(this,"_onCollectionUpdateError",((e,t)=>{const{onUpdateError:s}=this.props;e.errorMessage?e.errorMessage.startsWith(f.xV)?(this.setState({isLoading:!1,isOpen:!1}),s(e,t)):e.errorMessage.startsWith(f.Ke)&&this.setState({isLoading:!1,showUpgradePrompt:!0,isLimitReachedPersonal:t===p.s.personal,isLimitReachedTeam:t===p.s.team}):(this.signs.setDefaultErrorMessage(e),this.setState({isLoading:!1}))})),(0,n.Z)(this,"_onCreateCancel",(()=>{this.setState({isCreateMode:!1,filterText:""})})),(0,n.Z)(this,"_onCreateClick",(()=>{this.setState({isCreateMode:!0})})),(0,n.Z)(this,"_onCreateSubmit",(e=>{const{onCollectionCreated:t}=this.props;t(e),this.setState({isCreateMode:!1,isOpen:!1,filterText:""})})),(0,n.Z)(this,"_onContactSupport",(()=>{this.helpscout.open()})),this.state={feedTitle:"",filterText:"",isCreateMode:!1,isGoogleFeedLoading:!1,isLoading:!1,isOpen:!1,isSubscribed:!1,showUpgradePrompt:!1}}componentDidMount(){const{analyticsContext:e,feedId:t}=this.props;this.enterprisecollections=streets.service("enterprisecollections"),this.feeds=streets.service("feeds"),this.helpscout=streets.service("helpscout"),this.personalcollections=streets.service("personalcollections"),this.signs=streets.service("signs"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),e&&((0,m.tp)(t)||(0,g.Qc)(t))&&(streets.service("analytics").trackNewFeaturesEvent("keyword_alert","impression",{context:e}),(0,u.K)("keyword_alert_impression",{context:e},["amplitude","ga"])),this._isMounted=!0,this._updateInfo()}componentDidUpdate(e){const{feedId:t,feedTitle:s}=this.props;(e.feedId!==t||s&&e.feedTitle!==s)&&this._updateInfo()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.enterprisecollections=null,this.feeds=null,this.helpscout=null,this.personalcollections=null,this.signs=null,this._isMounted=!1}onCollectionsChanged(){this._updateInfo()}onFeedChanged(e){const{feedId:t}=this.props;t===e&&this._updateInfo()}onFeedsChanged(){const{bundle:e}=this.props;e&&(this.signs.showMessage("Starter Kit followed"),this._updateInfo())}render(){const{align:e,analyticsContext:t,bundle:s,buttonLabel:n,children:r,className:o,disabled:l,feedId:c,float:h,importance:u,nameSuggestions:p,onSourceFollowed:m,scheme:g,size:f}=this.props,{feedTitle:y,filterText:v,isCreateMode:E,isOpen:C,isGoogleFeedLoading:w,isLoading:k,isSubscribed:_,showUpgradePrompt:M}=this.state,S=a()({[o]:o},n?{}:{follow:!_,"following-feed":_,"follow-all":!!s});let I;if(M)I=this._renderUpgradeMenu();else if(w){const e=streets.service("feedly").getTheme();I=i.createElement("div",{className:"menu",style:{width:"300px"}},i.createElement(L.u,{description:"Loading Google News source...",illustration:e===b.Bd.dark?W:Y,size:"small"}))}else I=E?i.createElement(N,{analyticsContext:t,bundle:s,feedId:c,feedTitle:y,initialName:v,nameSuggestions:p,onCancel:this._onCreateCancel,onSourceFollowed:m,onSubmit:this._onCreateSubmit,onSubmitError:this._onCollectionUpdateError,scheme:g}):i.createElement(i.Fragment,null,i.createElement(z,{analyticsContext:t,bundle:s,feedId:c,feedTitle:y,onClose:this._onCloseMenu,onSelect:this._onCollectionSelect,onSourceFollowed:m,onFilterChange:this._onFilterTextChange,onUpdateError:this._onCollectionUpdateError,scheme:g}),i.createElement(Z.E,{className:"menu-footer",importance:"primary",onClick:this._onCreateClick},i.createElement(d.Z,{color:"accent"}),i.createElement(H.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"New Folder")));return i.createElement(B.X,{align:e,caret:!0,className:S,disabled:l,float:h,label:this._getButtonLabel(),loading:k,importance:u,isOpen:C,menu:I,onButtonClick:this._onButtonClick,onCloseMenu:this._onCloseMenu,size:f,tipsy:"Save to collection",wrapperChildren:r})}_renderUpgradeMenu(){const{isLimitReachedPersonal:e,isLimitReachedTeam:t}=this.state;if(!e&&!t)return null;const s=i.createElement(h.Z,{color:"white"});let n;streets.isStandardPlan()||streets.isProStandardPlan()?n={icon:s,label:"Upgrade",uri:"pro/limit-proPlus-sources"}:streets.isProLegacyPlan()||streets.isProPlusPlan()||streets.isBusinessPlan()?n={icon:s,label:"Try Feedly Enterprise",uri:"pro/limit-enterprise-sources"}:streets.isEnterprisePlan()&&(n={icon:i.createElement(c,{color:"white"}),label:"Contact Support",onClick:this._onContactSupport});const r=streets.getPlan(),{accountLimits:a={}}=streets.service("profile").getUserInfo();return i.createElement("div",{className:"menu m-b-1",style:{width:"300px"}},i.createElement(L.u,{description:i.createElement(H.x,{className:"m-t-0",size:"small"},i.createElement(P.D,{feature:"Sources",limit:a.maxFeeds,planLabel:v.vu[r],type:e?p.s.personal:p.s.team})),illustration:V,illustrationDark:q,size:"small",actions:[n]}))}_getButtonLabel(){const{isSubscribed:e}=this.state,{bundle:t,buttonLabel:s}=this.props;return s||(t?"Follow All":e?"Following":"Follow")}async _updateInfo(){const{feedId:e,feedTitle:t}=this.props;if(e){const[s,n]=await Promise.all([this.feeds.askLookupFeed(e),this.feeds.askMetadata(e)]);if(!this._isMounted)return;this.setState({feedTitle:t||n.title,isLoading:!1,isSubscribed:!!s})}else this.setState({isLoading:!1}),this._onCloseMenu()}}Q.propTypes={align:l().string,analyticsContext:l().string,bundle:l().shape({feeds:l().arrayOf(l().object),label:l().string}),buttonLabel:l().string,children:l().node,className:l().string,disabled:l().bool,feedId:l().string,feedTitle:l().string,float:l().string,importance:l().string,nameSuggestions:l().arrayOf(l().string),onCollectionCreated:l().func,onCollectionPickerOpened:l().func,onCollectionSelect:l().func,onSourceFollowed:l().func,onUpdateError:l().func,scheme:l().string,size:l().oneOf(["small","normal"])},Q.defaultProps={align:"right",analyticsContext:void 0,bundle:void 0,buttonLabel:"",children:null,className:"",disabled:!1,feedId:null,feedTitle:"",float:void 0,importance:"",nameSuggestions:null,onCollectionCreated:()=>{},onCollectionPickerOpened:()=>{},onCollectionSelect:()=>{},onSourceFollowed:void 0,onUpdateError:void 0,scheme:"",size:"normal"}},73019:(e,t,s)=>{"use strict";s.d(t,{h:()=>m});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(40854),l=s(88982),c=s(53670),d=s(2772),h=s(92121),u=s(30658),p=s(74256);class m extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCollectionSelect",(e=>{this.setState({collectionToImport:e})})),(0,n.Z)(this,"_onDescriptionChange",(e=>{this.setState({description:e})})),(0,n.Z)(this,"_onSubmit",(e=>{const{collectionToImport:t,deleteCover:s,description:n,label:i}=this.state;if(e.preventDefault(),!i.length)return void this.setState({labelError:"The 'Name' field is required."});this.setState({isLoading:!0});const r={label:i.trim(),description:n.trim()};s&&(r.deleteCover=!0);const a="Folder created";t?this.personalcollections.askListCollectionFeeds(t.id).then((e=>{r.feeds=e,this._saveCollection(r,a)})):this._saveCollection(r,a)})),(0,n.Z)(this,"_onLabelChange",(e=>{this.setState({label:e,labelError:(0,l.B)(e)?l.I:""})})),this.state={collectionToImport:e.initialCollectionToImport,coverImageFile:null,deleteCover:!1,description:"",id:null,label:e.initialLabel||"",labelError:"",isLoading:!1,personalCollections:[]}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.signs=streets.service("signs"),this._updatePersonalCollections()}componentWillUnmount(){this.enterprisecollections=null,this.personalcollections=null,this.signs=null}render(){const{description:e,id:t,isLoading:s,label:n,labelError:r}=this.state,{onDone:a}=this.props;return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},this._renderHeader(),i.createElement("form",{className:"form m-b-2",onSubmit:this._onSubmit},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"enterprise-collection-title"},"Title"),i.createElement(p.A,{error:r,id:"enterprise-collection-title",placeholder:"Topic, type, project, etc.",value:n,onChange:this._onLabelChange})),this._renderCollectionImport(),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"enterprise-collection-description"},"Description"),i.createElement(u.K,{id:"enterprise-collection-description",placeholder:"Describe the purpose of this folder to your teammates",value:e,rows:3,onChange:this._onDescriptionChange})),i.createElement(c.z,{disabled:s,importance:"primary",label:t?"Save":"Create",loading:s,type:"submit"}),i.createElement(c.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:a}))))}_renderCollectionImport(){const{collectionToImport:e,personalCollections:t}=this.state;return i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"enterprise-collection-import"},"Copy personal folder"),i.createElement(h.P,{defaultLabel:"None",fullWidth:!0,iconComponent:o.Z,id:"enterprise-collection-import",items:t,labelKey:"label",onItemSelect:this._onCollectionSelect,value:e&&e.label}))}_renderHeader(){const{initialCollectionToImport:{label:e}={}}=this.props;return e?i.createElement(d.H2,{appearance:"h1",sub:"Copy this feed into your team space so that your teammates can easily follow it"},"Share ",e," Feed"):i.createElement(d.H2,{appearance:"h1",sub:"Group your feeds into folders by topic, type, or project"},"Create a Team Folder")}_saveCollection(e,t){const{coverImageFile:s}=this.state;this.enterprisecollections.askSave(e).then((e=>{s?this.enterprisecollections.askSaveCoverImage(e.id,s).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(t),this.props.onDone(e),streets.service("router").loadPage("collection/content/".concat(e.id))})).catch((()=>{this.setState({isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(t),this.props.onDone(e),streets.service("router").loadPage("collection/content/".concat(e.id)))})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({labelError:"A folder with that name already exists."}):this.setState({labelError:""}),this.setState({isLoading:!1})}))}async _updatePersonalCollections(){const e=await this.personalcollections.askListCollections();this.setState({personalCollections:e})}}m.propTypes={initialCollectionToImport:a().shape({label:a().string}),initialLabel:a().string,onDone:a().func.isRequired},m.defaultProps={initialCollectionToImport:void 0,initialLabel:""}},29650:(e,t,s)=>{"use strict";s.d(t,{K:()=>U});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(65940),c=s(3562),d=s(81501),h=s(69734),u=s(67863),p=s(89685),m=s(96750);class g extends i.Component{constructor(e){super(e);const{streamInfo:t}=this.props;this.state={id:t.id,feeds:t.feeds||null}}componentDidMount(){this.setState({scrollTarget:streets.service("slider").getScrollTarget()})}render(){return i.createElement("div",{className:"m-y-2"},this._renderFeeds())}_renderFeeds(){const{feeds:e,scrollTarget:t}=this.state;return!(!e||!t)&&i.createElement(m.A,{feedRenderer:e=>i.createElement(p.f,{feed:e,includeFollowButton:!0,key:e.id,showMetadata:!0,showTopics:!0}),feeds:e,scrollTarget:t})}}g.propTypes={streamInfo:a().object},g.defaultProps={};var f=s(88982),y=s(73265),v=s(53670),b=s(30658),E=s(74256);class C extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onValueChange",((e,t)=>{this.setState({[t]:e,labelError:(0,f.B)(e)?f.I:""})})),(0,n.Z)(this,"_onSubmit",(e=>{e.preventDefault();const{coverImageFile:t,id:s,label:n}=this.state;if(!n.length)return void this.setState({labelError:"The 'Title' field is required."});this.setState({isLoading:!0});const i="Folder ".concat(s?"updated":"created"),r=this._generateApiInput();this.enterprisecollections.askSave(r).then((e=>{t?this.enterprisecollections.askSaveCoverImage(e.id,t).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i),this.props.onDone(e)})).catch((()=>{this.setState({isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i),this.props.onDone(e))})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({labelError:"A folder with that name already exists."}):this.setState({labelError:""}),this.setState({isLoading:!1})}))}));const{streamInfo:t}=this.props;this.state={coverImage:t.cover,coverImageFile:null,deleteCover:!1,description:t.description,id:t.id,label:t.label,labelError:""}}UNSAFE_componentWillMount(){this.enterprise=streets.service("enterprise"),this.preferences=streets.service("preferences"),this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.enterprise.registerObserver(this)}componentWillUnmount(){this.enterprise.unregisterObserver(this),this.preferences=null,this.enterprisecollections=null,this.signs=null,this.reader=null}render(){const{onDone:e}=this.props,{description:t,isLoading:s,label:n,labelError:r}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"title"},"Title"),i.createElement(E.A,{id:"title",error:r,placeholder:"Topic, type, project, etc.",value:n,onChange:e=>{this._onValueChange(e,"label")}})),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"purpose"},"Purpose"),i.createElement(b.K,{id:"purpose",placeholder:"Why do you follow these feeds?",value:t,hint:"Example: Monitor trends in 3D printing industry, Discover content to share on LinkedIn, etc.",rows:3,onChange:e=>{this._onValueChange(e,"description")}})),this._renderCoverImage(),i.createElement(v.z,{disabled:s,importance:"primary",label:"Save",loading:s,type:"submit"}),i.createElement(v.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_renderCoverImage(){const{coverImage:e}=this.state;return i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"cover"},"Cover Image"),i.createElement(y.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange.bind(this)}))}_onImageChange(e){e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})}_generateApiInput(){const{deleteCover:e,description:t,id:s,label:n}=this.state,i={label:n?n.trim():null,description:t?t.trim():null};return s&&(i.id=s),e&&(i.deleteCover=!0),i}}C.propTypes={onDone:a().func.isRequired,streamInfo:a().shape({cover:a().string,description:a().string,id:a().string,label:a().string}).isRequired},C.defaultProps={};var w=s(10498);function k(e){let{streamInfo:{id:t}}=e;return i.createElement("form",{className:"form m-y-2"},i.createElement(w.l,{streamId:t,streamType:"feed"}))}k.propTypes={streamInfo:a().shape({id:a().string}).isRequired};var _=s(24443),M=s.n(_),S=s(2222),I=s(78136),T=s(23005),N=s(81197),L=s(28045),P=s(67654),D=s(46656),A=s(85794),O=s(72403),x=s(63013),R=s(9990),j=s(66772);class F extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddFilterClick",(()=>{const{streamInfo:{id:e}}=this.props;this.slider.addSlide(N.K,{initialFilter:{streamId:e}})})),(0,n.Z)(this,"_onAddPriorityClick",(()=>{const{streamInfo:{id:e}}=this.props;this.slider.addSlide(O.q,{initialPriority:{streamIds:[e]}})})),this.state={hasPrioritiesAccess:!1,isLeoEnabled:!1,isLoading:!0,muteFilters:null,legacyFilters:null,priorities:null}}componentDidMount(){this.enterprisefilters=streets.service("enterprisefilters"),this.enterprisemutefilters=streets.service("enterprisemutefilters"),this.enterprisepriorities=streets.service("enterprisepriorities"),this.leo=streets.service("leo"),this.priorities=streets.service("priorities"),this.slider=streets.service("slider"),this.enterprisemutefilters.registerObserver(this),this.enterprisefilters.registerObserver(this),this.enterprisepriorities.registerObserver(this),this._updateIsLeoEnabled(),this._updateInfo()}componentWillUnmount(){this.enterprisemutefilters.unregisterObserver(this),this.enterprisefilters.unregisterObserver(this),this.enterprisepriorities.unregisterObserver(this),this.enterprisefilters=null,this.enterprisemutefilters=null,this.enterprisepriorities=null,this.leo=null,this.priorities=null,this.slider=null}onFiltersChanged(){this._updateInfo()}onMuteFiltersChanged(){this._updateInfo()}onPrioritiesChanged(){this._updateInfo()}onPriorityChanged(e){const{priorities:t}=this.state;t.find((t=>t.id===e))&&this._updateInfo()}render(){const{globalPriorities:e,hasPrioritiesAccess:t,isLeoEnabled:s,isLoading:n,legacyFilters:r,muteFilters:a,priorities:o}=this.state,l=streets.hasAdminBusinessAccess();if(n)return i.createElement(T.g,null);if(!s)return i.createElement(I.P,{description:"Leo learns what makes articles important so he can prioritize them in your Feedly."});const c=o.length+e.length,d=r.length+a.length,h=t?[{label:M()("Priority",c),value:c},{label:M()("Mute Filter",d),value:d}]:[{label:M()("Mute Filter",d),value:d}];return 0===e.length&&h.unshift({label:"Noise Reduction",value:"".concat((0,S.FR)(o),"%")}),i.createElement("div",{className:"m-y-2"},i.createElement("section",null,i.createElement(R.H3,{appearance:"h2"},"Summary"),i.createElement(x.Z,{items:h,layout:"col-md-3 col-sm-12 m-b-h"})),t&&i.createElement("section",null,i.createElement(R.H3,{appearance:"h2",sub:"Teach Leo to prioritize important articles"},i.createElement(v.z,{className:"right floated",importance:"primary",onClick:this._onAddPriorityClick,label:"New Priority"}),"Priorities"),o.length>0&&i.createElement(A.E,{priorities:o,team:!0}),e.length>0&&i.createElement("p",null,"See"," ",i.createElement(j.r,{primary:!0,uri:"trainLeo"},e.length," ",M()("priority",e.length))," ","defined for all your team feeds"),0===c&&i.createElement("p",null,"No priorities yet")),i.createElement("section",null,l?i.createElement(R.H3,{appearance:"h2",sub:"Teach Leo to remove irrelevant articles from your feeds"},i.createElement(v.z,{className:"right floated",importance:"primary",onClick:this._onAddFilterClick,label:"New Mute Filter"}),"Mute Filters"):i.createElement(R.H3,{appearance:"h2"},"Mute Filters"),a.length?i.createElement(D.N,{filters:a,tableElement:L.J,team:!0}):i.createElement("p",null,"No mute filters yet"),r.length>0&&i.createElement(i.Fragment,null,i.createElement(R.H3,{appearance:"h4"},"Legacy"),i.createElement(D.N,{filters:r,tableElement:P.C,team:!0,isLegacy:!0}))))}async _updateInfo(){const{streamInfo:{id:e}}=this.props,[t,{priorities:s,globalPriorities:n},i,r]=await Promise.all([this.priorities.askHasPrioritiesAccess(e),this.priorities.askListStreamPriorities(e),this.enterprisefilters.askListFiltersForFeed(e),this.enterprisemutefilters.askListFiltersForFeed(e)]);this.setState({globalPriorities:n,hasPrioritiesAccess:t,isLoading:!1,legacyFilters:i,muteFilters:r,priorities:s})}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}F.propTypes={streamInfo:a().shape({id:a().string}).isRequired};class U extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTabChange",(e=>{this.setState({activeTab:e})}));const{streamInfo:{id:t}}=e;this.tabs=[];const{isGlobal:s}=(0,o.Yg)(t);s||this.tabs.push({component:C,id:"general",label:"General"},{component:g,id:"feeds",label:"Feeds"}),this.tabs.push({component:F,id:"trainLeo",label:"Train Leo"}),s||this.tabs.push({component:c.U,id:"members",label:"Members"},{component:u.k,id:"email",label:"Newsletter"},{component:k,id:"sharing",label:"Sharing"}),this.state={activeTab:e.defaultTab}}render(){return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(d.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),this._renderTabs(),this._renderContent()))}_renderHeader(e){let{isSticky:t}=e;const{streamInfo:s}=this.props;return i.createElement(l.m,{compact:t,kicker:t?"":s.label,sticky:t,title:"Folder Settings"})}_renderTabs(){return i.createElement(h.m,{active:this.state.activeTab,items:this.tabs,onChange:this._onTabChange})}_renderContent(){const{activeTab:e}=this.state,{onDone:t,streamInfo:s}=this.props,n=this.tabs.find((t=>t.id===e)).component;return i.createElement(n,{streamInfo:s,onDone:t})}}U.propTypes={defaultTab:a().string,onDone:a().func.isRequired,streamInfo:a().shape({label:a().string}).isRequired},U.defaultProps={defaultTab:"general"}},7486:(e,t,s)=>{"use strict";s.d(t,{Y:()=>A});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(65940),c=s(81501),d=s(69734),h=s(264),u=s(89685),p=s(96750),m=s(5156),g=s(59003);class f extends i.Component{constructor(e){super(e);const{streamInfo:t}=this.props;this.state={feeds:t.feeds||null}}componentDidMount(){this.reader=streets.service("reader"),this.personalcollections=streets.service("personalcollections"),this.router=streets.service("router"),this.reader.registerObserver(this),this._updateFeeds(),this.setState({scrollTarget:streets.service("slider").getScrollTarget()})}componentWillUnmount(){this.reader.unregisterObserver(this),this.router=null,this.reader=null,this.personalcollections=null}render(){const{onDone:e,streamInfo:t}=this.props;return t.feeds.length?i.createElement("div",{className:"m-y-2"},this._renderFeeds()):i.createElement(h.u,{header:"You're not currently following any sources",illustration:g,illustrationDark:m,description:"You can follow publications, blogs, keyword alerts, and twitter feeds.",actions:[{label:"Add content",onClick:()=>{this.router.loadPage("discover"),e()}}]})}_renderFeeds(){const{feeds:e,scrollTarget:t}=this.state;return e&&t?i.createElement(p.A,{feedRenderer:e=>i.createElement(u.f,{feed:e,includeFollowButton:!0,showMetadata:!0,showTopics:!0}),feeds:e,scrollTarget:t}):null}async _updateFeeds(){const{streamInfo:{id:e}}=this.props,t=await this.personalcollections.askLookupCollection(e);this.setState({feeds:t&&t.feeds})}}f.propTypes={onDone:a().func.isRequired,streamInfo:a().shape({feeds:a().arrayOf(a().object),id:a().string}).isRequired},f.defaultProps={};var y=s(12089),v=s(24443),b=s.n(v),E=s(2222),C=s(23005),w=s(81197),k=s(28045),_=s(67654),M=s(46656),S=s(85794),I=s(72403),T=s(63013),N=s(53670),L=s(9990),P=s(66772);class D extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddFilterClick",(()=>{const{streamInfo:{id:e}}=this.props;this.slider.addSlide(w.K,{initialFilter:{streamId:e}})})),(0,n.Z)(this,"_onAddPriorityClick",(()=>{const{streamInfo:{id:e}}=this.props;this.slider.addSlide(I.q,{initialPriority:{streamIds:[e]}})})),this.state={hasPrioritiesAccess:!1,isLoading:!0,muteFilters:null,priorities:null}}componentDidMount(){this.personalfilters=streets.service("personalfilters"),this.personalmutefilters=streets.service("personalmutefilters"),this.personalpriorities=streets.service("personalpriorities"),this.priorities=streets.service("priorities"),this.slider=streets.service("slider"),this.personalfilters.registerObserver(this),this.personalmutefilters.registerObserver(this),this.personalpriorities.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.personalfilters.unregisterObserver(this),this.personalmutefilters.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.personalfilters=null,this.personalmutefilters=null,this.personalpriorities=null,this.slider=null,this.priorities=null}onFiltersChanged(){this._updateInfo()}onMuteFiltersChanged(){this._updateInfo()}onPrioritiesChanged(){this._updateInfo()}onPriorityChanged(e){const{priorities:t}=this.state;t.find((t=>t.id===e))&&this._updateInfo()}render(){const{globalPriorities:e,hasPrioritiesAccess:t,isLoading:s,legacyFilters:n,muteFilters:r,priorities:a}=this.state,{streamInfo:{id:l}}=this.props,{isEnterprise:c}=(0,o.Yg)(l);if(s)return i.createElement(C.g,null);const d=a.length+e.length,h=n.length+r.length,u=t?[{label:b()("Priority",d),value:d},{label:b()("Mute Filter",h),value:h}]:[{label:b()("Mute Filter",h),value:h}];return 0===e.length&&u.unshift({label:"Noise Reduction",value:"".concat((0,E.FR)(a),"%")}),i.createElement("div",{className:"m-y-2"},i.createElement("section",null,i.createElement(L.H3,{appearance:"h2"},"Summary"),i.createElement(T.Z,{items:u,layout:"col-md-3 col-sm-12 m-b-h"})),t&&i.createElement("section",null,i.createElement(L.H3,{appearance:"h2",sub:"Teach Leo to prioritize important articles"},i.createElement(N.z,{className:"right floated",importance:"primary",onClick:this._onAddPriorityClick,label:"New Priority"}),"Priorities"),a.length>0&&i.createElement(S.E,{priorities:a,team:!0}),e.length>0&&i.createElement("p",null,"See"," ",i.createElement(P.r,{primary:!0,uri:"trainLeo"},e.length," ",b()("priority",e.length))," ","defined for all your personal feeds"),0===d&&i.createElement("p",null,"No priorities yet")),i.createElement("section",null,i.createElement(L.H3,{appearance:"h2",sub:"Teach Leo to remove irrelevant articles from your feeds"},i.createElement(N.z,{className:"right floated",importance:"primary",onClick:this._onAddFilterClick,label:"New Mute Filter"}),"Mute Filters"),r.length?i.createElement(M.N,{filters:r,tableElement:k.J,team:c}):i.createElement("p",null,"No mute filters yet"),n.length>0&&i.createElement(i.Fragment,null,i.createElement(L.H3,{appearance:"h4"},"Legacy"),i.createElement(M.N,{filters:n,isLegacy:!0,tableElement:_.C,team:c}))))}async _updateInfo(){const{streamInfo:{id:e}}=this.props,[t,{priorities:s,globalPriorities:n},i,r]=await Promise.all([this.priorities.askHasPrioritiesAccess(e),this.priorities.askListStreamPriorities(e),this.personalfilters.askListFiltersForFeed(e),this.personalmutefilters.askListFiltersForFeed(e)]);this.setState({globalPriorities:n,hasPrioritiesAccess:t,isLoading:!1,legacyFilters:i,muteFilters:r,priorities:s})}}D.propTypes={streamInfo:a().shape({id:a().string}).isRequired};class A extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTabChange",(e=>{this.setState({activeTab:e})})),this.state={activeTab:null,tabs:null,isLoading:!0}}componentDidMount(){this.leo=streets.service("leo"),this._updateData()}componentWillUnmount(){this.leo=null}render(){const{isLoading:e}=this.state;return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(c.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),!e&&this._renderTabs(),!e&&this._renderContent()))}_renderHeader(e){let{isSticky:t}=e;const{streamInfo:s}=this.props;return i.createElement(l.m,{compact:t,kicker:"Manage",sticky:t,title:s.label})}_renderTabs(){const{activeTab:e,tabs:t}=this.state;return i.createElement(d.m,{items:t,active:e,onChange:this._onTabChange})}_renderContent(){const{onDone:e,streamInfo:t}=this.props,{activeTab:s,tabs:n}=this.state,r=n.find((e=>e.id===s)).component;return i.createElement(r,{onDone:e,streamInfo:t})}async _updateData(){var e,t;const s=await this.leo.askIsLeoEnabled(),{defaultTab:n,streamInfo:{id:i}}=this.props,r=[],{isAll:a,isGlobal:l}=(0,o.Yg)(i);l||r.push({id:"general",label:"General",component:y.T}),a||r.push({id:"feeds",label:"Feeds",component:f}),s&&r.push({id:"trainLeo",label:"Train Leo",component:D});const c=null!==(e=null===(t=r.find((e=>e.id===n)))||void 0===t?void 0:t.id)&&void 0!==e?e:r[0].id;this.setState({isLoading:!1,tabs:r,activeTab:c})}}A.propTypes={defaultTab:a().string,onDone:a().func.isRequired,streamInfo:a().shape({label:a().string}).isRequired},A.defaultProps={defaultTab:"general"}},67863:(e,t,s)=>{"use strict";s.d(t,{k:()=>d});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(16874),l=s(15500),c=s(53670);class d extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_updateEmailSettings",(e=>{this.setState({emailSettings:e})})),(0,n.Z)(this,"_onSubmit",(e=>{e.preventDefault(),this.setState({isLoading:!0});const t=this._generateApiInput();this.enterprisecollections.askSave(t).then((e=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Folder updated");const{onDone:t}=this.props;t(e)})).catch((()=>{this.setState({isLoading:!1})}))})),this.state={emailSettings:e.streamInfo.emailSettings||(0,o._e)()}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisecollections=null,this.signs=null}render(){const{onDone:e,streamInfo:t}=this.props,{emailSettings:s,isLoading:n}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement(l.o,{streamLabel:t.label,streamType:l.J.collection,settings:s,onChange:this._updateEmailSettings}),i.createElement(c.z,{disabled:n,label:"Update",loading:n,type:"submit"}),i.createElement(c.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_generateApiInput(){const{streamInfo:e}=this.props,{emailSettings:t}=this.state;return{...e,emailSettings:t}}}d.propTypes={onDone:a().func.isRequired,streamInfo:a().object.isRequired}},12089:(e,t,s)=>{"use strict";s.d(t,{T:()=>u});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(88982),l=s(6172),c=s(23005),d=s(53670),h=s(74256);class u extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLabelChange",(e=>{this.setState({label:e,labelError:(0,o.B)(e)?o.I:""})})),(0,n.Z)(this,"_onSubmit",(async e=>{e.preventDefault();const{onCollectionChanged:t,onDone:s}=this.props;let{id:n,label:i=""}=this.state;if(i=i.trim(),i.length){this.setState({isButtonLoading:!0});try{if(n)await this.personalcollections.askSave({id:n,label:i}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Folder updated");else{n=(await this.personalcollections.askSave({label:i})).id}}catch(r){let e="Operation failed";return r.errorMessage&&r.errorMessage.indexOf("duplicate label")>-1&&(e="A folder with that name already exists."),void this.setState({isButtonLoading:!1,labelError:e})}this.setState({isButtonLoading:!1}),t(n),s()}else this.setState({labelError:"The 'Title' field is required."})}));const{streamInfo:{id:t,label:s=""}={}}=e;this.state={id:t,isButtonLoading:!1,isLoading:!t,isUpgradeNeeded:!1,label:s,labelError:""}}componentDidMount(){this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this),this._updateIsUpgradeNeeded()}componentWillUnmount(){this.reader.unregisterObserver(this),this.personalcollections=null,this.reader=null,this.signs=null}render(){const{onDone:e}=this.props,{isButtonLoading:t,isLoading:s,isUpgradeNeeded:n,label:r,labelError:a}=this.state;return s?i.createElement(c.g,null):n?i.createElement(l.Y,null):i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"collection-title"},"Title"),i.createElement(h.A,{autoFocus:!0,error:a,id:"collection-title",onChange:this._onLabelChange,placeholder:"Topic, type, project, etc.",value:r})),i.createElement(d.z,{disabled:t,label:"Save",loading:t,type:"submit"}),i.createElement(d.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}async _updateIsUpgradeNeeded(){const{streamInfo:e}=this.props;if(e&&e.id)return;const t=await this.personalcollections.askIsUpgradeNeededToCreate();this.setState({isLoading:!1,isUpgradeNeeded:t})}}u.propTypes={onCollectionChanged:a().func,onDone:a().func.isRequired,streamInfo:a().shape({id:a().string,label:a().string})},u.defaultProps={onCollectionChanged:()=>{},streamInfo:void 0}},20569:(e,t,s)=>{"use strict";s.d(t,{o:()=>b});var n=s(47169),i=s(32735),r=s(24443),a=s.n(r),o=s(60216),l=s.n(o),c=s(85902),d=s(62784),h=s(89631),u=s(23005),p=s(99149),m=s(65060),g=s(53670),f=s(19054),y=s(2772);function v(e){let{children:t}=e;return i.createElement("div",{className:"MobileMenuHeader"},t)}v.propTypes={children:l().node},v.defaultProps={children:null};s(44205);class b extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCancel",(()=>{this.state.isSaving||this.props.onClose()})),(0,n.Z)(this,"_onConfirm",(async e=>{const{onClose:t,streamId:s}=this.props,{isUnfollowBothChecked:n,personalCollections:i}=this.state;try{let t,r;e.preventDefault(),t=streets.service("pageManager").getPageInfo().streamId,r=streets.service("navigo").getNextURI(),this.setState({isSaving:!0}),await streets.service("personalcollections").askRemoveFeedFromAll(s),!n&&i.length||await streets.service("enterprisecollections").askRemoveFeedFromAll(s);if(!!!await streets.service("feeds").askLookupFeed(s)){const e=(0,d.kW)(s);e&&await streets.service("alerts").askDelete(e);const n=(0,h._)(s);n&&await streets.service("websitefeeds").askDelete(n),t===s&&r&&streets.service("router").loadPage(r)}streets.service("commonsigns").showMessage("Source Removed")}catch(r){streets.service("commonsigns").showError(r)}this.personalcollections&&t()})),(0,n.Z)(this,"_onUnfollowBothClick",(()=>{this.setState((e=>{let{isUnfollowBothChecked:t}=e;return{isUnfollowBothChecked:!t}}))})),this.state={isSaving:!1,isUnfollowBothChecked:!1,personalCollections:null,teamCollections:null}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this._updateEnterpriseCollections(),this._updatePersonalCollections()}componentWillUnmount(){this.enterprisecollections=null,this.personalcollections=null}render(){const{isModal:e,isDrawer:t}=this.props;return e?i.createElement(m.u,{onClose:this._onCancel,small:!0},this._renderForm()):t?i.createElement(p.d,{onClose:this._onCancel},this._renderForm()):this._renderForm()}_renderForm(){const{streamLabel:e}=this.props,{isSaving:t,personalCollections:s,teamCollections:n}=this.state;if(!s||!n)return i.createElement(u.g,{details:"source details"});let r=[],o=!1,l="Folder";s.length?r=s:n.length&&(r=n,o=!0,l="Team Folder");const d="Remove '".concat(e,"' from ").concat(a()(l,r.length,!0),"?"),h="It will be removed from ".concat((0,c.sw)(r.map((e=>{let{label:t}=e;return"'".concat(t,"'")})),{limit:3}),".");return i.createElement("form",{className:"form",onSubmit:this._onConfirm},i.createElement(y.H2,{appearance:"h3"},d),i.createElement("p",null,h),!o&&this._renderUnfollowBothCheckbox(),i.createElement(g.z,{className:"",color:"danger",label:"Yes, Remove",loading:t,type:"submit"}),i.createElement(g.z,{className:"",label:"Cancel",onClick:this._onCancel,importance:"secondary"}))}_renderUnfollowBothCheckbox(){const{teamCollections:e,isUnfollowBothChecked:t}=this.state,s=e.length;return s?i.createElement(f.X,{className:"m-b-1",checked:t,onChange:this._onUnfollowBothClick},"Also remove it from ".concat(a()("Team Folder",s,!0),", "),s>1&&"including ",(0,c.sw)(e.map((e=>{let{label:t}=e;return"'".concat(t,"'")})),{limit:3}),"."):null}async _updateEnterpriseCollections(){const{streamId:e}=this.props;let t;streets.isUserAdmin()&&(t=await this.enterprisecollections.askListCollectionsForFeed(e)),this.setState({teamCollections:t||[]})}async _updatePersonalCollections(){const{streamId:e}=this.props,t=await this.personalcollections.askListCollectionsForFeed(e);this.setState({personalCollections:t||[]})}}b.propTypes={isDrawer:l().bool,isModal:l().bool,onClose:l().func.isRequired,streamId:l().string.isRequired,streamLabel:l().string},b.defaultProps={isDrawer:!1,isModal:!1,streamLabel:"this source"}},49616:(e,t,s)=>{"use strict";s.d(t,{T:()=>m});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(39908),l=s(40854),c=s(74221),d=s(31731),h=s(8629),u=s(71824),p=s(32727);class m extends i.Component{static getCollectionForAllEnterprise(){const e=(0,c.Gr)();let t;return e&&(t={id:e,label:"All Team Feeds",streamId:e}),t}static getCollectionForAllPersonal(){const e=(0,c.N1)();let t;return e&&(t={id:e,label:"All Personal Feeds",streamId:e}),t}constructor(e){super(e),(0,n.Z)(this,"_renderMenu",(()=>{const{prefixedCollections:e=[],showPersonal:t,showTeam:s}=this.props;let{enterpriseCollections:n,personalCollections:r}=this.state;return n=s?n:[],r=t?r:[],i.createElement(p.G,{maxHeight:"50vh"},e.map((e=>this._renderMenuItem(e))),n.length>0&&i.createElement(u.N,null,"Team Folders"),n.map((e=>this._renderMenuItem(e))),r.length>0&&(e.length>0||n.length>0)&&i.createElement(u.N,null,"Personal Folders"),r.map((e=>this._renderMenuItem(e))))})),(0,n.Z)(this,"_renderMenuItem",(e=>{const{onSelect:t}=this.props,{isAll:s}=(0,c.Yg)(e.id);return i.createElement(h.s,{key:e.id,onClick:s=>{s.preventDefault(),this._closeMenu(),t(e)}},s?i.createElement(o.Z,{importance:"tertiary"}):i.createElement(l.Z,{importance:"tertiary"}),e.label)})),(0,n.Z)(this,"_closeMenu",(()=>{this.setState({isOpen:!1})})),(0,n.Z)(this,"_onButtonClick",(()=>{this.setState((e=>{let{isOpen:t}=e;return{isOpen:!t}}))})),this.state={enterpriseCollections:[],isLoadingEnterprise:!0,isLoadingPersonal:!0,isOpen:!1,personalCollections:[]}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this.reader.registerObserver(this),this._updatePersonalCollections(),this._updateEnterpriseCollections()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.signs=null}render(){const{className:e,id:t}=this.props,{isOpen:s}=this.state;return i.createElement(d.X,{className:e,dropDownArrow:!0,fullWidth:!0,id:t,isOpen:s,label:this._getSelectedLabel()||"Please select a folder",menu:this._renderMenu(),onButtonClick:this._onButtonClick,onCloseMenu:this._closeMenu})}_getSelectedLabel(){const{prefixedCollections:e,selected:t}=this.props,{enterpriseCollections:s,isLoadingEnterprise:n,isLoadingPersonal:i,personalCollections:r}=this.state;let a;if(t){const o="string"==typeof t?t:t.id,{isEnterprise:l}=(0,c.Yg)(o);let d;if(e&&(d=e.find((e=>o===e.id))),!d){d=(l?s:r).find((e=>o===e.id))}a=d?d.label:l&&n||i?"Loading...":"Unknown feed"}return a}async _updateEnterpriseCollections(){try{const{showAll:e}=this.props;let t=[];const s=await this.enterprisecollections.askListCollections();s.length&&(t=e?[...s,m.getCollectionForAllEnterprise()]:s),this.setState({enterpriseCollections:t,isLoadingEnterprise:!1})}catch(e){this.signs.setDefaultErrorMessage(e)}}async _updatePersonalCollections(){const{showAll:e}=this.props;this.setState({isLoadingPersonal:!1,personalCollections:[...await this.personalcollections.askListCollections(),...e?[m.getCollectionForAllPersonal()]:[]]})}}m.propTypes={className:a().string,id:a().string,onSelect:a().func.isRequired,prefixedCollections:a().arrayOf(a().shape({id:a().string,label:a().string})),selected:a().oneOfType([a().shape({id:a().string}),a().string]),showAll:a().bool,showPersonal:a().bool,showTeam:a().bool},m.defaultProps={className:void 0,id:void 0,prefixedCollections:void 0,selected:void 0,showAll:!1,showPersonal:!1,showTeam:!1}},56962:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var n=s(32735),i=s(60216),r=s.n(i);class a extends n.Component{render(){const{conjunction:e,limit:t,showLimitCount:s}=this.props;let{children:i}=this.props;if(i=n.Children.toArray(i),!i||!i.length||t<1)return null;const r=t===1/0?i:i.slice(0,t),a=i.length-r.length;if(a&&r.push(s?"".concat(a," more"):"more"),r.length>1){const t=r.length-1;r[t]=n.createElement(n.Fragment,{key:"CommaDelimited__conjunction"},"".concat(e," "),r[t])}const o=r.length>2?", ":" ";return n.createElement(n.Fragment,null,this._insertBetween(r,o))}_insertBetween(e,t){const s=e.length-1;return e.reduce(((e,n,i)=>(e.push(n),i!==s&&e.push(t),e)),[])}}a.propTypes={children:r().arrayOf(r().node),conjunction:r().string,limit:r().number,showLimitCount:r().bool},a.defaultProps={children:[],conjunction:"and",limit:1/0,showLimitCount:!1}},1651:(e,t,s)=>{"use strict";s.d(t,{t:()=>L});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(6880),l=s(55631),c=s.n(l),d=s(60216),h=s.n(d),u=s(77817),p=s(7860),m=s(53670);const g=/(?:\s|^|\[|\()\+[^\s]*/g;class f extends i.Component{constructor(e){super(e),this._onMentionRef=e=>{this._target=e}}componentDidMount(){const{decoratedText:e,offsetKey:t}=this.props;this.props.register(t,this._target),this.props.onSearchChange(t,e)}componentDidUpdate(e){const{decoratedText:t}=this.props;e.decoratedText!==t&&this.props.onSearchChange(this.props.offsetKey,t)}componentWillUnmount(){this.props.unregister(this.props.offsetKey)}render(){return i.createElement("span",{ref:this._onMentionRef},this.props.children)}}f.propTypes={children:h().node,decoratedText:h().string.isRequired,offsetKey:h().string.isRequired,onSearchChange:h().func,register:h().func,unregister:h().func},f.REGEX=g,f.STRATEGY=(e,t)=>{const s=e.getText();let n,i,r;for(;null!==(i=g.exec(s));)n=i[0],r=i.index,t(r+n.indexOf("+"),r+n.length)};class y extends i.Component{componentWillUnmount(){const{contentState:e,entityKey:t,onRemove:s}=this.props;s&&s(e.getEntity(t).data)}render(){const{children:e}=this.props;return i.createElement("span",{className:"comment-mention"},e)}}y.propTypes={children:h().node,contentState:h().shape({getEntity:h().func}),entityKey:h().string,onRemove:h().func},y.defaultProps={children:void 0,contentState:void 0,entityKey:void 0,onRemove:void 0},y.STRATEGY=(e,t,s)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"mention"===s.getEntity(t).getType()}),t)};const v=/(?:\s|^|\[|\()[@#][\w\.-]*/g,b=/@|#/;class E extends i.Component{constructor(e){super(e),this._onMentionRef=e=>{this._target=e}}componentDidMount(){const{decoratedText:e,offsetKey:t}=this.props;this.props.register(t,this._target),this.props.onSearchChange(t,e)}componentDidUpdate(e){const{decoratedText:t,offsetKey:s}=this.props;e.decoratedText!==t&&this.props.onSearchChange(s,t)}componentWillUnmount(){this.props.unregister(this.props.offsetKey)}render(){return i.createElement("span",{ref:this._onMentionRef},this.props.children)}}E.propTypes={children:h().node,decoratedText:h().string.isRequired,offsetKey:h().string.isRequired,onSearchChange:h().func,register:h().func,unregister:h().func},E.REGEX=v,E.STRATEGY=(e,t)=>{const s=e.getText();let n,i,r;for(;null!==(i=v.exec(s));)n=i[0],r=i.index,t(r+n.search(b),r+n.length)};var C=s(46291),w=s(8629),k=s(32727);const _={"+":"email","@":"name","#":"channelName"},M=/.+@.+\..+/,S=/^[@#\+]/;class I extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAfterMouseDown",(()=>{const{onSelectMouseUp:e}=this.props;this._handleAfterMouseDown=null,e()})),this._list=i.createRef(),this.state={suggestions:[]}}UNSAFE_componentWillMount(){this.enterprise=streets.service("enterprise"),this.enterprise.askListSlackUsers().then((e=>{if(!e||!e.length)return;const t=e.slice().sort(((e,t)=>e.name.localeCompare(t.name)));this.setState({slackUsers:t},(()=>{this._updateSuggestionsList(this.props)}))})),this.enterprise.askListSlackChannels().then((e=>{if(!e||!e.length)return;const t=e.slice().sort(((e,t)=>e.channelName.localeCompare(t.channelName)));this.setState({slackChannels:t},(()=>{this._updateSuggestionsList(this.props)}))})),this.enterprise.askListUsers().then((e=>{if(!e||!e.length)return;const t=e.filter((e=>!!e.email)).slice().sort(((e,t)=>e.email.localeCompare(t.email)));this.setState({emails:t},(()=>{this._updateSuggestionsList(this.props)}))}))}UNSAFE_componentWillReceiveProps(e){const{props:t}=this;e.searchText===t.searchText&&typeof e.target==typeof t.target&&typeof e.offsetParent==typeof t.offsetParent||this._updateSuggestionsList(e)}componentDidUpdate(e,t){const{suggestions:s}=this.state,{onIsEmpty:n}=this.props;s.length&&!t.suggestions.length&&n?n(!1):!s.length&&t.suggestions.length&&n&&n(!0)}componentWillUnmount(){window.clearTimeout(this._handleAfterMouseDown),this._handleAfterMouseDown=null,this.enterprise=null,this._list=null}parseIntoSuggestion(e){let t=e.match(S);t=t&&t[0];const s=_[t];let n=this._getOptionsForPrefix(t);const i=e.replace(S,"");if("+"!==t||n||(n=[]),!s||!n||!i)return null;const r=i.toLowerCase();for(let a,o=0;a=n[o];o+=1)if(a[s].toLowerCase()===r)return{name:a[s],prefix:t};return"+"===t&&M.test(i)?{name:i,prefix:t}:null}render(){const{offsetParent:e,target:t}=this.props,{prefix:s,suggestions:n}=this.state,r=_[s];return n.length?i.createElement(C.J,{align:"start",offsetParent:e,target:t},i.createElement(k.G,{ref:this._list},n.map((e=>{const t=e[r];return i.createElement(w.s,{key:t,onClick:()=>{this._afterMouseDown||this._onSelect(s,t)},onMouseDown:()=>{this._onSelect(s,t),this._handleAfterMouseDown=window.setTimeout(this._onAfterMouseDown,0)}},s+t)})))):null}_getOptionsForPrefix(e){let t;const{state:s}=this;return"#"===e?t=s.slackChannels:"@"===e?t=s.slackUsers:"+"===e&&(t=s.emails),t||null}_onSelect(e,t){const{onSelect:s}=this.props;s&&s(e,t)}_updateSuggestionsList(e){let{searchText:t}=e;const{offsetParent:s,target:n}=e,i=t&&t.charAt(0),r=this._getOptionsForPrefix(i);if(!(n&&s&&t&&r))return void this.setState({suggestions:[]});if(t=t.replace(S,""),!t)return this._list.current&&this._list.current.resetSelection(),void this.setState({prefix:i,suggestions:r.slice(0,5)});let a,o;const l=t.toLowerCase(),c=_[i];let d;for(let h=0;d=r[h];h+=1)if(0===d[c].toLowerCase().indexOf(l)){a=h;break}if(void 0===a)return void this.setState({suggestions:[]});for(let h=Math.min(a+5,r.length)-1;d=r[h];h-=1)if(0===d[c].toLowerCase().indexOf(l)){o=h;break}this._list.current&&this._list.current.resetSelection(),this.setState({prefix:i,suggestions:r.slice(a,o+1)})}}I.propTypes={offsetParent:h().object,onSelect:h().func.isRequired,onSelectMouseUp:h().func.isRequired,onIsEmpty:h().func.isRequired,searchText:h().string,target:h().object},I.defaultProps={offsetParent:null,searchText:"",target:null};const T=/\+/,N=/@|#/;class L extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_changeToEditMode",(()=>{this.setState({isEditing:!0})})),(0,n.Z)(this,"_handleBeforeInput",(e=>{const{suggestionTargetOffsetKey:t,suggestionTargetsText:s}=this.state;if(!t||" "!==e)return!1;const n=this._suggestionList.parseIntoSuggestion(s[t]);return n&&this._onSuggestionSelect(n.prefix,n.name),!!n})),(0,n.Z)(this,"_handleReturn",(()=>{const{suggestionTargetOffsetKey:e,suggestionTargetsText:t}=this.state;if(e){const s=this._suggestionList.parseIntoSuggestion(t[e]);if(s)return this._onSuggestionSelect(s.prefix,s.name),!0}return!1})),(0,n.Z)(this,"_handlePastedText",(e=>{let{editorState:t}=this.state;const s=o.Modifier.replaceText(t.getCurrentContent(),t.getSelection(),e);let n=o.EditorState.createWithContent(s);const i=s.getBlocksAsArray(),r=s.getSelectionAfter(),a=i.indexOf(s.getBlockForKey(r.getAnchorKey())),l=i.lastIndexOf(s.getBlockForKey(r.getFocusKey())),d=[],h=[],u=e=>{const t=this._suggestionList.parseIntoSuggestion(e);return t&&(N.test(t.prefix)?d.push(t.prefix+t.name):h.push(t.name)),!!t};return i.forEach(((e,t)=>{t<a||t>l||(n=this._getEntityEditorState(e,n,E.REGEX,N,u),n=this._getEntityEditorState(e,n,f.REGEX,T,u))})),t=o.EditorState.push(t,n.getCurrentContent(),"insert-characters"),t=o.EditorState.forceSelection(t,r),this.setState({editorState:t,emailMentions:c()(this.state.emailMentions,{$push:h}),slackMentions:c()(this.state.slackMentions,{$push:d})}),!0})),(0,n.Z)(this,"_onCancelClick",(()=>{this._askResetUI().then((()=>{this.props.onCancel&&this.props.onCancel()}))})),(0,n.Z)(this,"_onEditorStateChange",(e=>{this.setState({editorState:e})})),(0,n.Z)(this,"_onInputBlur",(()=>{const{editorState:e}=this.state;this.setState({isEditing:!(!e||!e.getCurrentContent().hasText()),suggestionTargetOffsetKey:null,suggestionTargetStart:null,suggestionTargetEnd:null})})),(0,n.Z)(this,"_onMentionRemove",(e=>{let{emailMentions:t,slackMentions:s}=this.state;const{name:n,prefix:i}=e;if(T.test(i)){const e=t.indexOf(n);e>-1&&(t=t.slice(),t.splice(e,1))}else if(N.test(i)){const e=s.indexOf(i+n);e>-1&&(s=s.slice(),s.splice(e,1))}this.setState({emailMentions:t,slackMentions:s})})),(0,n.Z)(this,"_onMentionSearchChange",((e,t)=>{this.setState({suggestionTargetsText:c()(this.state.suggestionTargetsText,{$merge:{[e]:t}})})})),(0,n.Z)(this,"_onSuggestionListRef",(e=>{this._suggestionList=e})),(0,n.Z)(this,"_onSuggestionSelect",((e,t)=>{if(!e||!t)return;const{editorState:s,suggestionTargetEnd:n,suggestionTargetStart:i}=this.state;let{emailMentions:r,slackMentions:a}=this.state;const l=s.getSelection();let d=this._convertToMentionEntity(s,l.merge({anchorOffset:i,focusOffset:n}),{prefix:e,name:t});n===s.getCurrentContent().getBlockForKey(l.getAnchorKey()).getLength()&&(d=o.Modifier.insertText(d,d.getSelectionAfter()," "));const h=o.EditorState.push(s,d,"insert-mention");o.EditorState.forceSelection(h,d.getSelectionAfter()),N.test(e)?a=c()(a,{$push:[e+t]}):r=c()(r,{$push:[t]}),this.setState({emailMentions:r,slackMentions:a,mentionSearchText:null,suggestionsTarget:null,editorState:h})})),(0,n.Z)(this,"_onSuggestionSelectMouseUp",(()=>{this._editor.current.focus()})),(0,n.Z)(this,"_onSuggestionTargetCreate",((e,t)=>{this.setState({suggestionTargets:c()(this.state.suggestionTargets,{$merge:{[e]:t}})})})),(0,n.Z)(this,"_onSuggestionTargetRemove",(e=>{this.setState({suggestionTargetsText:c()(this.state.suggestionTargetsText,{$merge:{[e]:null}}),suggestionTargets:c()(this.state.suggestionTargets,{$merge:{[e]:null}})})})),(0,n.Z)(this,"_onSubmit",(async()=>{this.setState({isLoading:!0});const{onSubmit:e}=this.props;await this._askSaveAnnotation(),await this._askResetUI(),e&&e()})),(0,n.Z)(this,"_onIsSuggestionListEmpty",(e=>{this.setState({isSuggestionListEmpty:e})})),this._onPopoverOffsetParent=e=>{e&&this.setState({popoverOffsetParent:e})},this._editor=i.createRef(),this._decorator=new o.CompositeDecorator([{strategy:y.STRATEGY,component:e=>i.createElement(y,Object.assign({},e,{onRemove:this._onMentionRemove}))},{strategy:E.STRATEGY,component:e=>i.createElement(E,Object.assign({},e,{onSearchChange:this._onMentionSearchChange,register:this._onSuggestionTargetCreate,unregister:this._onSuggestionTargetRemove}))},{strategy:f.STRATEGY,component:e=>i.createElement(f,Object.assign({},e,{onSearchChange:this._onMentionSearchChange,register:this._onSuggestionTargetCreate,unregister:this._onSuggestionTargetRemove}))}]),this.state={editorState:this._getInitialEditorState(e),isEditing:!1,isLoading:!1,isSuggestionListEmpty:!0,emailMentions:e.initialEmailMentions||[],slackMentions:e.initialSlackMentions||[],suggestionTargetOffsetKey:null,suggestionTargets:{},suggestionTargetsText:{}}}componentDidMount(){this.reader=streets.service("reader")}componentDidUpdate(e,t){const{annotationId:s,saveState:n}=this.props,{emailMentions:i,isEditing:r,slackMentions:a,suggestionTargets:l}=this.state;let{editorState:c}=this.state;const d=t.editorState.getCurrentContent().getPlainText(),h=c.getCurrentContent().getPlainText();d===h&&t.emailMentions===i&&t.slackMentions===a||n({initialEmailMentions:i,initialSlackMentions:a,initialText:h}),(s&&!e.annotationId||r&&!t.isEditing)&&(c=o.EditorState.moveFocusToEnd(c),this.setState({editorState:c}));const u=t.editorState.getSelection(),p=c.getSelection();let m=null,g=null,f=null;if(p.isCollapsed()&&p.getHasFocus()){const e=p.getAnchorKey(),t=p.getAnchorOffset();for(let s in l){if(!l[s])continue;const[n,i,r]=s.split("-");if(n===e){const e=c.getBlockTree(n).getIn([i,"leaves",r]);if(!e)continue;if(e.start<t&&e.end>=t){m=s,f=e.start,g=e.end;break}}}}else if(!p.getHasFocus()&&u.getHasFocus()&&this.state.suggestionTargetOffsetKey){const e=this._suggestionList.parseIntoSuggestion(this.state.suggestionTargetsText[this.state.suggestionTargetOffsetKey]);e&&this._onSuggestionSelect(e.prefix,e.name)}m===this.state.suggestionTargetOffsetKey&&f===this.state.suggestionTargetStart&&g===this.state.suggestionTargetEnd||this.setState({suggestionTargetOffsetKey:m,suggestionTargetStart:f,suggestionTargetEnd:g})}componentWillUnmount(){this._decorator=null,this.reader=null}render(){const{annotationId:e,hideButtons:t,user:s}=this.props,{editorState:n,isEditing:r,isLoading:o,isSuggestionListEmpty:l,popoverOffsetParent:c,suggestionTargetOffsetKey:d,suggestionTargets:h,suggestionTargetsText:g}=this.state;let f="Add note";return streets.hasBusinessAccess()&&r&&(f="mention someone via +email or @slack"),i.createElement("div",{className:a()({comment:!0,"comment-new":!r&&!e}),onClick:r?null:this._changeToEditMode},i.createElement(u.q,{alt:s.fullName||s.email,className:"item-large",url:s.picture}),i.createElement("div",{ref:this._onPopoverOffsetParent,className:"form"},r&&i.createElement("div",{className:"item-header small"},"You"),i.createElement(p.O,{ref:this._editor,editorState:n,handleBeforeInput:this._handleBeforeInput,handlePastedText:this._handlePastedText,handleReturn:this._handleReturn,ignoreEnterKey:!l,onBlur:this._onInputBlur,onChange:this._onEditorStateChange,onFocus:this._changeToEditMode,placeholder:f,readOnly:o,style:{minHeight:r?"4.5rem":null,marginTop:r?"0.5rem":null}}),r&&!t&&[i.createElement(m.z,{key:"submit",disabled:!n.getCurrentContent().hasText(),label:e?"Update":"Add note",loading:o,onClick:this._onSubmit}),i.createElement(m.z,{key:"cancel",disabled:o,label:"Cancel",onClick:this._onCancelClick,importance:"secondary"})],i.createElement(I,{ref:this._onSuggestionListRef,offsetParent:c,onSelect:this._onSuggestionSelect,onSelectMouseUp:this._onSuggestionSelectMouseUp,onIsEmpty:this._onIsSuggestionListEmpty,searchText:g[d],target:h[d]})))}async askSaveComment(){const{editorState:e,isEditing:t}=this.state;return t&&e.getCurrentContent().hasText()?this._askSaveAnnotation():null}_getInitialEditorState(e){const{annotationId:t,initialEmailMentions:s,initialSlackMentions:n,initialText:i}=e;let r;if(i){if(r=o.EditorState.createWithContent(o.ContentState.createFromText(e.initialText)),n&&n.length||s&&s.length){r.getCurrentContent().getBlockMap().forEach((e=>{r=this._convertToEntities(e,r,n,E.REGEX,N),r=this._convertToEntities(e,r,s&&s.map((e=>"+"+e)),f.REGEX,T)}))}t&&(r=o.EditorState.moveFocusToEnd(r))}else r=o.EditorState.createEmpty();return r=o.EditorState.set(r,{decorator:this._decorator}),r}_convertToEntities(e,t,s,n,i){if(!s||!s.length)return t;return this._getEntityEditorState(e,t,n,i,(e=>s.indexOf(e)>-1))}_convertToMentionEntity(e,t,s){const n=e.getCurrentContent(),i=n.createEntity("mention","IMMUTABLE",s);return o.Modifier.replaceText(n,t,s.prefix+s.name,null,i.getLastCreatedEntityKey())}_getEntityEditorState(e,t,s,n,i){let r,a,l;const c=o.SelectionState.createEmpty(e.getKey());let d;const h=e.getText();let u=t;const p=new RegExp(s.source,s.flags);for(;r=p.exec(h);)if(l=r[0].search(n),d=l+r.index,a=r[0].slice(l),i(a)){const e=this._convertToMentionEntity(u,c.merge({anchorOffset:d,focusOffset:d+a.length}),{name:a.substr(1),prefix:a.charAt(0)});u=o.EditorState.createWithContent(e)}return u}async _askSaveAnnotation(){this.setState({isLoading:!0});const{annotationId:e,entryId:t}=this.props,{editorState:s,emailMentions:n,slackMentions:i}=this.state,r=s.getCurrentContent().getPlainText();return e?this.reader.askUpdateAnnotation(t,e,{comment:r,emailMentions:n,slackMentions:i}):this.reader.askAddAnnotation(t,{comment:r,emailMentions:n,slackMentions:i})}_askResetUI(){return new Promise((e=>{this.setState({editorState:this._getInitialEditorState(this.props),emailMentions:this.props.initialEmailMentions||[],isEditing:!1,isLoading:!1,slackMentions:this.props.initialSlackMentions||[],suggestionTargets:{},suggestionTargetsText:{}},e)}))}}L.propTypes={annotationId:h().string,entryId:h().string.isRequired,initialEmailMentions:h().arrayOf(h().string),initialSlackMentions:h().arrayOf(h().string),initialText:h().string,hideButtons:h().bool,onCancel:h().func,onSubmit:h().func,saveState:h().func,user:h().shape({fullName:h().string,email:h().string,picture:h().string})},L.defaultProps={annotationId:void 0,initialEmailMentions:void 0,initialSlackMentions:void 0,initialText:"",hideButtons:!1,onCancel:void 0,onSubmit:void 0,saveState:()=>{},user:void 0}},65973:(e,t,s)=>{"use strict";s.d(t,{M:()=>de});var n=s(47169),i=s(10268),r=s.n(i),a=s(33259),o=s.n(a),l=s(75453),c=s.n(l),d=s(73400),h=s.n(d),u=s(32735),p=s(40841),m=s.n(p),g=s(60216),f=s.n(g),y=s(94773);const v=(0,y.Z)((function(e){return u.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3a7 7 0 1 0 0 14 7 7 0 0 0 0-14Zm-8 7a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.333a3.667 3.667 0 1 0 0 7.334 3.667 3.667 0 0 0 0-7.333ZM5.333 10a4.667 4.667 0 1 1 9.334 0 4.667 4.667 0 0 1-9.334 0Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.167a.5.5 0 0 1 .5.5V9.5h7.833a.5.5 0 1 1 0 1H10.5v7.833a.5.5 0 0 1-1 0V10.5H1.667a.5.5 0 1 1 0-1H9.5V1.667a.5.5 0 0 1 .5-.5Z",fill:"currentColor"}))}));const b=(0,y.Z)((function(e){return u.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u.createElement("g",{clipPath:"url(#patch-sm_svg__a)",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},u.createElement("path",{d:"M11.517 2.787a4.027 4.027 0 1 1 5.696 5.696l-8.73 8.73a4.027 4.027 0 0 1-5.696-5.696l8.73-8.73Zm4.989.707a3.027 3.027 0 0 0-4.282 0l-1.517 1.518 4.282 4.281 1.517-1.517a3.027 3.027 0 0 0 0-4.282ZM14.28 10 10 5.72 5.719 10 10 14.281l4.281-4.28ZM9.293 14.99 5.01 10.707l-1.517 1.517a3.028 3.028 0 0 0 4.282 4.282l1.517-1.517ZM17.213 11.517a4.028 4.028 0 0 1-5.696 5.696.5.5 0 1 1 .707-.707 3.028 3.028 0 0 0 4.282-4.282.5.5 0 0 1 .707-.707Zm-8.73-8.023a.5.5 0 0 1-.707 0 3.027 3.027 0 1 0-4.282 4.282.5.5 0 1 1-.707.707 4.027 4.027 0 0 1 5.696-5.696.5.5 0 0 1 0 .707Z"})),u.createElement("defs",null,u.createElement("clipPath",{id:"patch-sm_svg__a"},u.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))))}));var E=s(81445),C=s(71263),w=s(49279),k=s(96864),_=s(2695),M=s(3015),S=s(57855),I=s(7761),T=s(85902),N=s(35610),L=s(16216),P=s(10974),D=s(62784),A=s(42584),O=s(264),x=s(24389),R=s(58074),j=s(51239),F=s(11459),U=s(78505),z=s(79199),Z=s(8680),B=s(72009),H=s(49904),Y=s(1910),W=s(96780),q=s(46063),V=s(54504);class Q extends u.Component{render(){const{entry:e,hideAuthor:t,layout:s,showSourceTitle:n}=this.props,i=this._findInterestingMetadata();return u.createElement(B.a,{entry:e,hideAuthor:t,interestingMetadata:i,layout:s,showSourceTitle:n})}_findInterestingMetadata(){const{entry:e,hideBoardLabel:t,hideMeme:s,popoverOffsetParent:n,sourceType:i}=this.props;let r=e.listEnterpriseTags();r&&0!==r.length||(r=e.listPersonalTags(!0));const a=e.getFeedback(),o=e.getDecoration(j.I.evernote),l=e.getDecoration(j.I.instapaper),c=[];return a&&c.push(u.createElement(Y.H,{key:"EntryMetadataLessLikeThis",entry:e,feedback:a,popoverOffsetParent:n})),r&&r.length>0&&!t&&c.push(u.createElement(V.v,{key:"EntryMetadataTag",tag:r[0]})),e.metadata.isSavedToPocket&&c.push(u.createElement(Z.h,{key:"Pocket",label:"Pocket"})),l&&c.push(u.createElement(Z.h,{key:"Instapaper",label:"Instapaper"})),o&&c.push(u.createElement(Z.h,{key:"Evernote",label:"Evernote"})),e.isQuicklisted()&&!t&&c.push(u.createElement(q.E,{key:"ReadLater",onClick:e=>{e.stopPropagation(),streets.service("router").loadPage("saved")}})),i&&c.push(u.createElement(Z.h,{key:"sourceType",label:i})),!s&&e.getFeaturedMeme()&&c.push(u.createElement(W.M,{key:"meme",meme:e.getFeaturedMeme()})),e.getIndicatorsOfCompromise().mentions&&c.push(u.createElement(H.o,{key:"EntryMetadataIoc",entry:e})),c.filter(Boolean).slice(0,U.PN)}}Q.propTypes={entry:z.A.isRequired,hideAuthor:f().bool,hideBoardLabel:f().bool,hideMeme:f().bool,layout:f().oneOf(F.tv),popoverOffsetParent:f().shape({current:f().instanceOf(Element)}),showSourceTitle:f().bool,sourceType:f().string},Q.defaultProps={hideAuthor:!1,hideBoardLabel:!1,hideMeme:!1,layout:F.Ar.magazine,popoverOffsetParent:void 0,showSourceTitle:!0,sourceType:void 0};var G=s(23005),K=s(44002),J=s(72406),X=s(2772),$=s(57640),ee=s(66772),te=s(44205),se=s(77469),ne=s(99175),ie=s(91343);function re(e){let{associations:t,cvssRating:s,iconComponent:n,label:i,onClick:r,value:a}=e,o=u.createElement(ie.A,{className:m()("VulnerabilityChip","VulnerabilityChip--".concat(s)),size:"lg",onClick:r},u.createElement(n,{className:"m-r-1",importance:"secondary"}),u.createElement("span",{className:"VulnerabilityChip__label m-r-t"},i,": "),u.createElement("span",{className:"VulnerabilityChip__value"},a));return t&&(o=u.createElement(ne.d,{animateClass:"animateFadeIn",content:u.createElement(u.Fragment,null,u.createElement("div",{className:"VulnerabilityChip__title"},i),u.createElement("div",{className:"VulnerabilityChip__message"},t.map((e=>u.createElement("span",{key:e,className:"VulnerabilityChip__association"},e))))),position:"bottom",tipClass:"fx VulnerabilityChip__tipsy"},o)),o}re.propTypes={associations:f().arrayOf(f().string),cvssRating:f().string,iconComponent:f().elementType.isRequired,label:f().string.isRequired,onClick:f().func,value:f().oneOfType([f().string,f().number]).isRequired},re.defaultProps={associations:null,cvssRating:"low",onClick:void 0};var ae=s(48499),oe=s(65899);const le="Unknown",ce=Object.freeze({vendor:"Vendor Report",vulnDigests:"Vulnerabilities Digest",threatIntelligenceReports:"Threat Intelligence Report",certReports:"CERT Report"});class de extends u.Component{constructor(e){super(e),(0,n.Z)(this,"_renderOverview",(()=>{const{cveId:e}=this.props,{cveInfo:{cvssV3:{vectorString:t}={},cweIds:s,cweIdsEstimate:n,description:i,feedlyInsertedDate:r,publishedDate:a,stats:{firstTimestamp:o},trendingSparklineUrl:l,vulnerableProducts:{vendor:c}={}},chatterEntryIds:d}=this.state;let h;a?h=(0,M.p6)(new Date(a),"M/dd/yyyy"):r&&(h=(0,M.p6)(new Date(r),"M/dd/yyyy"));let p={},g=!1;s&&s.length?p=s[0]:n&&n.length&&(p=n[0],g=!0);const{cweID:f="",name:y=""}=p,v="".concat(y," (").concat(f,")"),b=this._getChipListDetails();return u.createElement("div",{className:"CVEInfo__overview"},u.createElement(X.H2,{className:"m-t-0 m-b-1",kicker:h},e,f&&y&&u.createElement(te.x,{className:"CVEInfo__cweid"},u.createElement(u.Fragment,null,u.createElement("span",{className:"CVEInfo__cwe-description"},v),g&&u.createElement("span",{className:"CVEInfo__prediction-tag"},u.createElement(E.Z,{className:"m-r-t",importance:"tertiary"}),u.createElement("span",{className:"CVEInfo__prediction-label"},"Leo prediction"))))),u.createElement(J.j,{className:"CVEInfo__chip-list"},b.map((e=>u.createElement(re,e)))),u.createElement("div",{className:"CVEInfo__details-container"},u.createElement("div",{className:"CVEInfo__details"},u.createElement(te.x,{className:m()("CVEInfo__description m-b-h",{"m-t-0":!b.length})},(0,T.oN)(i)||"The CVE description is not yet public but we found some discussions about it. It may be a sign of a critical vulnerability. The description will be updated as soon as we receive more information."),t&&u.createElement(te.x,{className:"CVEInfo__vector-string m-y-h",size:"smallish"},t)),l&&u.createElement("div",{className:"CVEInfo__trending-graph m-t-1"},u.createElement(A.q,{vendor:c},u.createElement("img",{src:l,alt:"Trend graph of ".concat(e)})),u.createElement(te.x,{size:"smallish"},u.createElement("b",null,d.length," sources")," in the last"," ",(0,M.vp)((new Date).getTime()-o),"."))))})),(0,n.Z)(this,"_renderReferences",(()=>{const{navigation:{focusSelectedEntry:e,selectedEntryId:t},referenceEntries:s}=this.state;return s.length?u.createElement(u.Fragment,null,u.createElement($.H4,null,"References"),s.map((s=>{let{firstEntryId:n,sourceType:i}=s;const r=n===t;return u.createElement(x.k,{key:n,entryId:n,hideCVSSMetadata:!!this._getBaseScore(),focusOnSelect:r&&e,layout:"u4",metadataComponent:Q,selected:r,sourceType:i})}))):null})),(0,n.Z)(this,"_renderCVSSDetails",(()=>{const{cveInfo:{cvssV2:e,cvssV3:t}}=this.state;let s={},n=!1;t&&t.baseScore?(n=!0,s={cvssInfo:t,cvssHeader:"CVSS V3.1",cvssLabels:L.dw}):e&&e.baseScore&&(n=!0,s={cvssInfo:e,cvssHeader:"CVSS V2.0",cvssLabels:L.kQ});const{cvssInfo:i,cvssHeader:r="CVSS V3.1",cvssLabels:a}=s;return u.createElement(u.Fragment,null,u.createElement($.H4,{className:"CVEInfo__header--sidebar"},r),n?u.createElement("div",null,Object.keys(a).map((e=>u.createElement("div",{key:e,className:"m-b-h"},u.createElement(te.x,{className:"CVEInfo__cvss-label m-r-h",color:"primary",size:"small",tagName:"span"},a[e],":"),u.createElement(te.x,{color:"secondary",size:"small",tagName:"span"},h()(i[e])||le))))):this._renderUnknownDetails())})),(0,n.Z)(this,"_renderPatches",(()=>{const{cveInfo:{patchDetails:e=[]}}=this.state,t=r()(e,"url");return u.createElement(u.Fragment,null,u.createElement($.H4,{className:"CVEInfo__header--sidebar"},"Patches"),t.length?u.createElement(u.Fragment,null,t.map((e=>u.createElement("div",{key:e.url,className:"m-b-h"},u.createElement(ee.r,{className:"CVEInfo__patches",href:e.url,newWindow:!0},e.title))))):this._renderUnknownDetails())})),(0,n.Z)(this,"_renderChatter",(()=>{const{chatterEntries:e,navigation:{focusSelectedEntry:t,selectedEntryId:s}}=this.state;return e.length?u.createElement(u.Fragment,null,u.createElement($.H4,null,"Chatter"),u.createElement(R.f,{key:"entryList",entries:e,hideCVSSMetadata:!!this._getBaseScore(),layout:"u4",endOfFeedLabel:"End of results",focusSelectedEntry:t,hideAuthor:!0,metadataComponent:Q,selectedEntryId:s,showSourceTitle:!0})):null})),(0,n.Z)(this,"_renderUnknownDetails",(()=>u.createElement(te.x,{className:"CVEInfo__unknown",color:"primary",size:"small",tagName:"span"},le))),(0,n.Z)(this,"_enrichEntries",((e,t)=>e.sort(((e,t)=>t.age-e.age)).map((e=>({...e,sourceType:t}))))),(0,n.Z)(this,"_getAffectedProducts",(()=>{const{cveInfo:{affectedProducts:e=[]}}=this.state,t=e.reduce(((e,t)=>[...e,...t.product.map((e=>e.name))]),[]),s=t.slice(2).length;return"".concat(t.slice(0,2).join(", ")).concat(s>0?", +".concat(s," other products"):"")})),(0,n.Z)(this,"_getBaseScore",(()=>{const{cveInfo:{cvssEstimate:e,cvssV2:{baseScore:t}={},cvssV3:{baseScore:s}={}}}=this.state;return s||t||e})),(0,n.Z)(this,"_getChipListDetails",(()=>{const{cveInfo:{cveid:e,cvssCategoryEstimate:t,exploits:s=[],patched:n,patchDetails:i=[]},malwareFamilies:r,threatActors:a}=this.state,o=(0,P.OZ)(e),l=this._getAffectedProducts(),c=this._getBaseScore(),d=r.map((e=>e.label)),u=a.map((e=>e.label)),p=[];if(c||t){const e=(0,P.zz)(c),s=c?"".concat(c," (").concat(h()(e),")"):"".concat(h()(t)," (Estimate)");p.push({key:"cvss",cvssRating:e||t.toLowerCase(),iconComponent:C.Z,label:"CVSS",onClick:()=>{this._onOpenLink(o)},value:s})}return s.length&&p.push({key:"exploit",iconComponent:v,label:"Exploit",onClick:()=>{this._onOpenLink(s[0])},value:(0,N._Y)(s[0]).split(".")[0]}),a.length&&p.push({key:"associated-threat-actors",associations:u,iconComponent:w.Z,label:"Threat Actors",onClick:()=>{this._onPowerSearch(e,a)},value:(0,T.sw)(u,{limit:2,showLimitCount:!0})}),r.length&&p.push({key:"associated-malwares",associations:d,iconComponent:k.Z,label:"Malware Families",onClick:()=>{this._onPowerSearch(e,r)},value:(0,T.sw)(d,{limit:2,showLimitCount:!0})}),l&&p.push({key:"affected-systems",iconComponent:_.Z,label:"Affected Systems",onClick:()=>{this._onOpenLink("".concat(o,"#vulnConfigurationsArea"))},value:l}),n&&i.length>0&&p.push({key:"patched",iconComponent:b,label:"Patched",onClick:()=>{this._onOpenLink(i[0].url)},value:i[0].title}),p})),(0,n.Z)(this,"_onOpenLink",(e=>{window.open(e,"_blank")})),(0,n.Z)(this,"_onPowerSearch",((e,t)=>{const s=[{parts:[{text:e}],salience:I.mb.mention,type:I.ur.matches},{parts:t,salience:I.mb.mention,type:I.ur.matches}],n=[se.t8];this.slider.hasSlides()?this.slider.addSlide(K.q,{pageInfo:{beyondSearchOptions:{bundles:n,layers:s}}}):this.router.loadPage("powerSearch/beyond?options=".concat((0,D.Fs)({layers:s,bundles:n})))})),(0,n.Z)(this,"_onScrollPage",(()=>{const{chatterEntryIds:e,entryIndex:t,isLoading:s,isLoadingMoreEntries:n}=this.state;(0,S.Hp)(this._scrollTarget)&&!n&&!s&&t<e.length&&this._updateEntries()})),(0,n.Z)(this,"_updateEntries",(async()=>{const{chatterEntries:e,chatterEntryIds:t,entryIndex:s,referenceEntryList:n}=this.state;try{const i=t.slice(s,s+8);if(!i.length)return void this.setState({isLoading:!1});this.setState({isLoadingMoreEntries:!0});const r=await this.reader.askLookupEntries(i),a=[...e,...r];this.navigo.setEntries([...n,...a]),this.setState({chatterEntries:a,entryIndex:s+8,isLoading:!1,isLoadingMoreEntries:!1})}catch(i){this.setState({isLoading:!1,isLoadingMoreEntries:!1}),this.signs.setMessage("Failed to load more entries")}})),(0,n.Z)(this,"_updateCVEInfo",(async()=>{const{cveId:e}=this.props;try{const t=await this.cybersecuritydashboard.askCVEInfo(e),{stats:{referenceEntries:{certReports:s=[],threatIntelligenceReports:n=[],vendor:i=[],vulnDigests:r=[]}={},timeSeries:a={}}={}}=t,o=[...this._enrichEntries(i,ce.vendor),...this._enrichEntries(n,ce.threatIntelligenceReports),...this._enrichEntries(r,ce.vulnDigests),...this._enrichEntries(s,ce.certReports)].slice(0,5).sort(((e,t)=>t.age-e.age)),l=o.length?await this.reader.askLookupEntries(o.map((e=>e.firstEntryId))):[],d=c()(Object.values(a)).reverse().map((e=>e.firstEntryId));this.navigo.setEntries(l),this.setState({cveInfo:t,chatterEntryIds:d,referenceEntries:o,referenceEntryList:l},(()=>{this._updateCVERelationships({hasCVEInfo:!!t.cveid})}))}catch(t){console.error(t),this.setState({isLoading:!1}),this.signs.setDefaultErrorMessage(t)}finally{this._updateEntries()}})),(0,n.Z)(this,"_updateCVERelationships",(async e=>{let{hasCVEInfo:t}=e;const{cveId:s}=this.props;if(t)try{const{malwareFamilies:e,threatActors:t}=await this.cybersecuritydashboard.askCVERelationships(s);this.setState({malwareFamilies:e,threatActors:t})}catch(n){console.error(n),this.signs.showError("Failed to load CVE relationships")}})),this.navigo=streets.service("navigo"),this.state={chatterEntries:[],chatterEntryIds:[],cveInfo:{},entryIndex:0,isLoading:!0,isLoadingMoreEntries:!1,malwareFamilies:[],navigation:this.navigo.getState(),referenceEntries:[],threatActors:[]}}componentDidMount(){const{isSlider:e}=this.props;this.cybersecuritydashboard=streets.service("cybersecuritydashboard"),this.feedly=streets.service("feedly"),this.reader=streets.service("reader"),this.router=streets.service("router"),this.signs=streets.service("signs"),this.slider=streets.service("slider"),this.navigo.registerObserver(this),this._scrollTarget=e?this.slider.getScrollTarget():this.feedly.getMainScrollTarget(),this._throttledCheckMoreEntriesNeeded=o()(this._onScrollPage,200),this._scrollTarget.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._updateCVEInfo()}componentWillUnmount(){this._scrollTarget.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._scrollTarget=null,this.navigo.unregisterObserver(this),this.navigo.reset(),this.cybersecuritydashboard=null,this.feedly=null,this.navigo=null,this.reader=null,this.router=null,this.signs=null,this.slider=null}onNavigationChanged(e){this.setState({navigation:e})}render(){const{cveId:e}=this.props,{chatterEntries:t,cveInfo:s,isLoading:n}=this.state;return n?u.createElement(G.g,{details:"cve info"}):s.cveid||t.length?u.createElement("div",{className:"CVEInfo"},this._renderOverview(),u.createElement("div",{className:"CVEInfo__container"},u.createElement("div",{className:"CVEInfo__main-section"},this._renderReferences(),this._renderChatter()),u.createElement("div",null,this._renderCVSSDetails(),this._renderPatches()))):u.createElement(u.Fragment,null,u.createElement("div",{className:"p-a-1"},u.createElement(X.H2,{className:"CVEInfo__cveId m-b-1"},u.createElement("span",null,e))),u.createElement(O.u,{header:"Sorry, Leo does not know about this CVE yet",illustration:oe,illustrationDark:ae}))}}de.propTypes={cveId:f().string.isRequired,isSlider:f().bool,onDone:f().func},de.defaultProps={isSlider:!1,onDone:void 0}},68217:(e,t,s)=>{"use strict";s.d(t,{g:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(65973);function o(e){let{cveId:t}=e;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"container center"},n.createElement(a.M,{cveId:t,isSlider:!0})))}o.propTypes={cveId:r().string.isRequired}},15851:(e,t,s)=>{"use strict";s.d(t,{c:()=>g});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(54960),l=s(35610),c=s(53670),d=s(91343),h=s(72406),u=s(31731),p=s(2772),m=s(74256);class g extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_closeDomainSelect",(()=>{this.setState({domainSelectText:"",isDomainSelectOpen:!1})})),(0,n.Z)(this,"_onClearClick",(e=>{e.stopPropagation(),this.props.onChange(""),this.setState({domainSelectText:""})})),(0,n.Z)(this,"_onDomainSelectTextChange",(e=>{this.setState({domainSelectText:e,domainError:""})})),(0,n.Z)(this,"_onDomainSelectTextSubmit",(()=>{let e=this.state.domainSelectText.trim();e=e.replace(new RegExp(/^http:\/\/|^https:\/\//i),""),e=e.replace(new RegExp(/^www\./i),""),e.indexOf(" ")>-1||-1===e.indexOf(".")?this.setState({domainError:"Not a valid site name"}):(this.props.onChange(e),this._closeDomainSelect())})),(0,n.Z)(this,"_onKeyPress",(e=>{this.state.domainSelectText&&"Enter"===e.key&&this._onDomainSelectTextSubmit()})),(0,n.Z)(this,"_toggleDomainSelect",(()=>{this.state.isDomainSelectOpen||this._generateDomainSuggestions(),this.setState((e=>{let{isDomainSelectOpen:t}=e;return{domainSelectText:t?"":this.props.domain,isDomainSelectOpen:!t}}))})),this.state={domainSelectText:e.domain,domainError:"",domainSuggestions:null,isDomainSelectOpen:!1}}componentDidMount(){this.reader=streets.service("reader")}componentDidUpdate(e){e.keyword!==this.props.keyword&&this.setState({domainSuggestions:null})}componentWillUnmount(){this.reader=null}render(){const{domain:e}=this.props,{domainSelectText:t,domainError:s,domainSuggestions:n,isDomainSelectOpen:r}=this.state;return i.createElement("div",{className:"domain-select"},i.createElement(u.X,{align:"right",clearable:!!e,className:"domain-select--button",dropDownArrow:!0,fullWidth:!0,label:e?i.createElement("span",null,"site: ",i.createElement("span",{className:"domain-select--site"},e)):"All news sites",isOpen:r,onButtonClick:this._toggleDomainSelect,onClear:this._onClearClick,onCloseMenu:this._closeDomainSelect,menu:i.createElement("div",{className:"domain-select--menu",onKeyPress:this._onKeyPress},i.createElement(p.H2,{appearance:"h3",className:"domain-select--menu-title"},"Refine to a specific news site"),i.createElement(m.A,{autoFocus:!0,className:"domain-select--input",error:s,hint:s?"":"Example: forbes.com",onChange:this._onDomainSelectTextChange,padBottom:!0,value:t}),i.createElement(c.z,{className:"domain-select--filter-button",disabled:!t,label:"Filter",onClick:this._onDomainSelectTextSubmit}),n&&i.createElement(h.j,{className:"domain-select--suggestions"},n.map((e=>i.createElement(d.A,{key:e,onClick:()=>{this._onDomainSelectTextChange(e)}},e)))))}))}async _generateDomainSuggestions(){const{keyword:e,language:t}=this.props;if(!e)return;const s=(0,o.Cg)(e,t),{entries:n}=await this.reader.askMoreEntries(s,{},10,null);let i=n.map((e=>(0,l._Y)(e.getBestAlternateLink())));i=i.filter(((e,t)=>i.indexOf(e)===t)),this.setState({domainSuggestions:i})}}g.propTypes={domain:a().string,keyword:a().string,language:a().string,onChange:a().func},g.defaultProps={domain:"",keyword:"",language:"en",onChange:()=>{}}},91891:(e,t,s)=>{"use strict";s.d(t,{o:()=>v});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(19577),d=s(92316),h=s(46291),u=s(55118),p=s(53670),m=s(15149),g=s(9990);const f={absolute:!0,fixed:!0,relative:!0,sticky:!0},y={bottom:!0,left:!0,right:!0,top:!0};class v extends i.Component{static querySelector(e){return'[data-dot="'.concat(e,'"]')}constructor(e){super(e),(0,n.Z)(this,"_onClickClose",(()=>{this.setState({isOpen:!1,isDismissing:!0},(()=>{this.dots.dismissDot(this.props.id)})),this._handleDismiss=window.setTimeout((()=>{this.setState({isDismissing:!1})}),500)})),(0,n.Z)(this,"_onClickLearnMore",(()=>{const{config:{tutorial:e}}=this.state;this._handleClickLearnMore||(this.feedly.inlineEntry(e),this._handleClickLearnMore=window.setTimeout((()=>{this._handleClickLearnMore=null,this._onClickClose()}),1))})),this.feedly=streets.service("feedly"),this._scrollTarget=this.feedly.getMainScrollTarget(),this._onTargetRef=e=>{e?(this.setState({target:e}),this._handleOnClick=this._onClick.bind(this),e.addEventListener("click",this._handleOnClick)):(this.state.target.removeEventListener("click",this._handleOnClick),this._handleOnClick=null)},this._closePopover=()=>{this.setState({isOpen:!1})},this.state={config:{},isDelayed:!1,isDismissing:!1,isOpen:null,isParentPositioned:!1}}componentDidUpdate(e,t){t.isOpen!==this.state.isOpen&&this._updateCloseEventListeners(),this._updateOffsetParentPositioned()}componentDidMount(){this.analytics=streets.service("analytics"),this.notifications=streets.service("notifications"),this.dots=streets.service("dots"),this.dots.registerObserver(this),this._updateConfig(),this._updateCloseEventListeners(),this._updateOffsetParentPositioned()}componentWillUnmount(){this.analytics=null,this.feedly=null,this.notifications=null,this.dots.unregisterObserver(this),this.dots=null,this._offsetParent&&(this._offsetParent.style.position="",this._offsetParent=null),window.clearTimeout(this._handleDelay),this._handleDelay=null,window.clearTimeout(this._handleDismiss),this._handleDismiss=null,window.clearTimeout(this._handleOpen),this._handleOpen=null,this._scrollTarget.removeEventListener("scroll",this._closePopover),window.removeEventListener("resize",this._closePopover),this._closePopover=null,this._onTargetRef=null,window.clearTimeout(this._handleClickLearnMore),this._handleClickLearnMore=null,this._scrollTarget=null}onCloseDotPopovers(){this.state.isOpen&&this.setState({isOpen:!1})}onDotChanged(e){e===this.props.id&&this._updateConfig()}render(){const{config:e,isDelayed:t,isDismissing:s,isOpen:n,isParentPositioned:r,target:o}=this.state;let{corner:l}=e;const{active:f,carouselConfig:v,description:b,topPriority:E,title:C,tooltipSide:w,tutorial:k,xOffset:_,yOffset:M,zIndex:S=null}=e;if(t||!f&&!s)return null;const I={visibility:r?null:"hidden",zIndex:S};return"bottom-right"===l?(I.right=_||0,I.bottom=M||0):"bottom-left"===l?(I.left=_||0,I.bottom=M||0):"top-left"===l?(I.left=_||0,I.top=M||0):(l="top-right",I.right=_||0,I.top=M||0),i.createElement("div",{ref:this._onTargetRef,className:a()({[l]:!0,dot:!0,"dot-leave":s,"dot-pulse":E}),style:I},i.createElement("div",{className:"dot-center"}),n&&r&&!v&&i.createElement(u.h,{className:"fx",target:document.body},i.createElement(h.J,{caret:!0,className:"dot-popover",color:"accent",offsetParent:document.body,position:y[w]?w:"right",target:o},i.createElement(p.z,{className:"dot-popover__close right floated",icon:i.createElement(c.Z,{color:"white",importance:"primary"}),importance:"",onClick:this._onClickClose,title:"Close"}),i.createElement(g.H3,{className:"dot-popover__heading"},C),i.createElement("p",{className:"dot-popover__description"},b),k&&i.createElement(m.Z,{className:"dot-popover__learn-more",onClick:this._onClickLearnMore,primary:!0},"Learn More ",i.createElement(d.Z,{color:"accent"})))))}_onClick(e){const{config:{carouselConfig:t}}=this.state;e.stopPropagation(),t?this.notifications.askShowCarouselPopup(t).then(this._onClickClose):this.setState((e=>{let{isOpen:t}=e;return{isOpen:!t}}))}_updateCloseEventListeners(){this.state.isOpen?(this._scrollTarget.addEventListener("scroll",this._closePopover),window.addEventListener("resize",this._closePopover)):(this._scrollTarget.removeEventListener("scroll",this._closePopover),window.removeEventListener("resize",this._closePopover))}_updateConfig(){const{isOpen:e}=this.state,t=this.dots.lookupDot(this.props.id)||{};this.setState({config:t,isDelayed:!!t.delay}),t.delay&&(this._handleDelay=window.setTimeout((()=>{this.setState({isDelayed:!1})}),t.delay)),null===e&&t.autoActivate&&(window.clearTimeout(this._handleOpen),this._handleOpen=window.setTimeout((()=>{t.carouselConfig?this.notifications.askShowCarouselPopup(t.carouselConfig).then(this._onClickClose):this.setState({isOpen:!0})}),500))}_updateOffsetParentPositioned(){const{id:e}=this.props,{target:t}=this.state,s="data-dot"===this.props.offsetParent?document.querySelector('[data-dot="'.concat(e,'"]')):t&&t.parentNode;if(this._offsetParent&&this._offsetParent!==s&&(this._offsetParent.style.position=""),this._offsetParent=s,s){const e=window.getComputedStyle(s),{style:t}=s;f[t.position]||f[e.position]||(t.position="relative")}const n=!!s;n!==this.state.isParentPositioned&&this.setState({isParentPositioned:n})}}v.propTypes={id:l().string.isRequired,offsetParent:l().oneOf(["parentNode","data-dot"])},v.defaultProps={offsetParent:"parentNode"}},99689:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(94866),o=s(30840),l=s(65940),c=s(81501);class d extends n.Component{render(){const{onDone:e,streamInfo:t}=this.props;return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(c.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return n.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),n.createElement(o.v,{onDone:e,streamInfo:t})))}_renderHeader(e){let{isSticky:t}=e;const{streamInfo:s}=this.props;return n.createElement(l.m,{compact:t,kicker:(0,a.Xp)(s)?"Manage Website":"Manage Feed",sticky:t,title:s.title})}}d.propTypes={onDone:r().func.isRequired,streamInfo:r().shape({id:r().string,isEmailFeed:r().bool,title:r().string,websiteFeedParams:r().shape({cssSelector:r().string,url:r().string})}).isRequired}},30840:(e,t,s)=>{"use strict";s.d(t,{v:()=>u});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(94866),l=s(88982),c=s(53670),d=s(44205),h=s(74256);class u extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSubmit",(async e=>{const{onDone:t,streamInfo:{id:s}}=this.props;e.preventDefault();const{title:n}=this.state;if(n.length){this.setState({isLoading:!0});try{await this.feeds.askRenameFeed(s,n),this.setState({isLoading:!1}),t()}catch(i){this.signs.showError("Update failed: ".concat(i.message))}}else this.setState({labelError:"The 'Title' field is required."})})),(0,n.Z)(this,"_onTitleChange",(e=>{this.setState({title:e,labelError:(0,l.B)(e)?l.I:""})}));const{streamInfo:t}=e;this.state={title:t.title,labelError:""}}componentDidMount(){this.feeds=streets.service("feeds"),this.signs=streets.service("signs")}componentWillUnmount(){this.feeds=null,this.signs=null}render(){const{isLoading:e,labelError:t,title:s}=this.state,{onDone:n}=this.props;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement("div",{className:"field m-b-2"},i.createElement("label",{className:"required",htmlFor:"feed-title"},"Title"),i.createElement(h.A,{autoFocus:!0,error:t,id:"feed-title",onChange:this._onTitleChange,placeholder:"Title",value:s})),this._renderFeedInfo(),i.createElement(c.z,{disabled:e,label:"Save",loading:e,type:"submit"}),i.createElement(c.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>{n()}}))}_renderFeedInfo(){const{streamInfo:e}=this.props,{isEmailFeed:t,id:s}=e;if(t){const e=s.split("email/")[1];return e?i.createElement("div",{className:"field m-b-2"},i.createElement("label",{htmlFor:"feed-email"},"Email address"),i.createElement(d.x,{className:"m-t-0"},"".concat(e,"@feedly.email"))):null}if((0,o.Xp)(e)){const{websiteFeedParams:t={}}=e,{cssSelector:s,url:n}=t;return i.createElement(i.Fragment,null,n&&i.createElement("div",{className:"field m-b-2"},i.createElement("label",{htmlFor:"feed-url"},"Website URL"),i.createElement(d.x,{className:"m-t-0"},n)),s&&i.createElement("div",{className:"field m-b-2"},i.createElement("label",{htmlFor:"feed-url"},"CSS Selector"),i.createElement(d.x,{className:"m-t-0"},s)))}if((0,o.jM)(e)){const e=s.slice(5);return e?i.createElement("div",{className:"field m-b-2"},i.createElement("label",{htmlFor:"feed-url"},"RSS"),i.createElement(d.x,{className:"m-t-0"},e)):null}return null}}u.propTypes={onDone:a().func.isRequired,streamInfo:a().shape({id:a().string,isEmailFeed:a().bool,title:a().string,websiteFeedParams:a().shape({cssSelector:a().string,url:a().string})}).isRequired}},15500:(e,t,s)=>{"use strict";s.d(t,{o:()=>P,J:()=>I});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(23005),l=s(9990),c=s(66772),d=s(31220),h=s(18542),u=s(92121);const p=["Text only (no image)","Text and featured image"];class m extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_updateTemplate",(e=>{const t=e!==p[0],{onChangeTemplate:s}=this.props;s(t)})),(0,n.Z)(this,"_updateSubject",(e=>{const{onChangeSubject:t}=this.props;t(e)}))}render(){return i.createElement("div",{className:"picker-email"},i.createElement(l.H3,{appearance:"h2"},"Appearance"),this._renderSubjectPicker(),this._renderTemplatesPicker(),i.createElement("div",{className:"hint"},i.createElement(c.r,{className:"hint__link","data-inlineentryid":"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15ce6ad3025:33284a6:5b78a817",href:"https://blog.feedly.com/newsletter-templates"},"See samples")))}_renderTemplatesPicker(){const{includeImages:e}=this.props;return i.createElement("div",null,i.createElement("label",{htmlFor:"select-template"},i.createElement("div",{className:"sub"},"Template")),i.createElement("div",{className:"template-picker"},i.createElement(u.P,{fullWidth:!0,onItemSelect:this._updateTemplate,items:p,value:e?p[1]:p[0]})))}_renderSubjectPicker(){const{streamLabel:e,subjectTemplate:t}=this.props;return i.createElement("div",null,i.createElement("label",{htmlFor:"select-subject"},i.createElement("div",{className:"sub"},"Subject")),i.createElement(h.E,{name:"radio-subject",onChange:this._updateSubject,selectedValue:t},i.createElement(d.Y,{value:"NameAndDate"},e," Newsletter // [Date]"),i.createElement(d.Y,{value:"FirstArticleTitle"},"Title of the first article")))}}m.propTypes={includeImages:a().bool,onChangeSubject:a().func.isRequired,onChangeTemplate:a().func.isRequired,streamLabel:a().string.isRequired,subjectTemplate:a().string},m.defaultProps={includeImages:!0,subjectTemplate:"NameAndDate"};var g=s(86205),f=s.n(g),y=s(80556),v=s.n(y),b=s(99717),E=s.n(b),C=s(20647),w=s(3015),k=s(19054);class _ extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_updateDay",(e=>{const{daysOfWeek:t,hourOfDay:s,onChange:n}=this.props;n(t.indexOf(e)>-1?f()(t,e):[...t,e],s)})),(0,n.Z)(this,"_updateHour",(e=>{const{onChange:t,daysOfWeek:s,hourOfDay:n}=this.props,{meridiem:i}=(0,w.cc)(n);t(s,(0,w.EO)(parseInt(e),i))})),(0,n.Z)(this,"_updateMeridiem",(e=>{const{daysOfWeek:t,hourOfDay:s,onChange:n}=this.props,{hour:i}=(0,w.cc)(s);n(t,(0,w.EO)(i,e))})),this._ids={day:v()("SchedulePicker"),time:v()("SchedulePicker")}}componentWillUnmount(){this._ids=null}render(){const{daysOfWeek:e,hourOfDay:t,timezone:s}=this.props,{hour:n,meridiem:r}=(0,w.cc)(t);return i.createElement("div",{className:"pickerschedule"},i.createElement(l.H3,{appearance:"h2"},"Schedule"),i.createElement("label",{htmlFor:this._ids.day},i.createElement("div",{className:"sub"},"On specific days:")),i.createElement("div",{className:"list-days"},C.Z.days.map(((t,s)=>i.createElement(k.X,{checked:e.indexOf(t)>-1,className:"m-r-3",id:0===s?this._ids.day:null,key:"day-".concat(t),onChange:()=>{this._updateDay(t)}},t.substring(0,3))))),i.createElement("label",{htmlFor:this._ids.time},i.createElement("div",{className:"sub"},"At a specific time:")),i.createElement("div",{className:"time-picker"},i.createElement(u.P,{id:this._ids.time,fullWidth:!0,onItemSelect:this._updateHour,items:C.Z.hours,value:"".concat(n<10?"0":"").concat(n)}),i.createElement(u.P,{fullWidth:!0,onItemSelect:this._updateMeridiem,items:["AM","PM"],value:r}),i.createElement("p",{className:"form-info"},i.createElement("b",null,s)," timezone")))}}_.propTypes={daysOfWeek:a().arrayOf(a().oneOf(C.Z.days)),hourOfDay:a().oneOf(E()(24)),timezone:a().string,onChange:a().func.isRequired},_.defaultProps={daysOfWeek:[],hourOfDay:10,timezone:""};var M=s(84475),S=s(30658);const I=Object.freeze({collection:"collection",board:"board",webAlert:"webAlert"}),T=[{value:"Most Popular",key:"best"},{value:"Latest",key:"newest"},{value:"Oldest",key:"oldest"}],N={value:"Leo Priorities",key:"prioritized"},L=["1","3","5","10","20","30"];class P extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_toggleEmailRoundup",(()=>{const{settings:e,onChange:t}=this.props;t({...e,disabled:!e.disabled})})),(0,n.Z)(this,"_updateSchedule",((e,t)=>{const{settings:s,onChange:n}=this.props;n({...s,daysOfWeek:e,hourOfDay:t})})),(0,n.Z)(this,"_updateMaxStories",(e=>{const{settings:t,onChange:s}=this.props;s({...t,maxEntries:parseInt(e)})})),(0,n.Z)(this,"_updateRank",(e=>{const{settings:t,onChange:s}=this.props;s({...t,ranked:e.key})})),(0,n.Z)(this,"_updateTemplate",(e=>{const{settings:t,onChange:s}=this.props;s({...t,includeImages:e})})),(0,n.Z)(this,"_updateSubject",(e=>{const{settings:t,onChange:s}=this.props;s({...t,subjectTemplate:e})})),(0,n.Z)(this,"_onMembersClick",(()=>{const{settings:e,onChange:t}=this.props;t({...e,includeFollowers:!e.includeFollowers})})),(0,n.Z)(this,"_onIncludeChange",(e=>{const{settings:t,onChange:s}=this.props;s({...t,[e]:!t[e]})})),(0,n.Z)(this,"_onEmailListChange",(e=>{const{settings:t,onChange:s}=this.props,n=e.split(",").map((e=>e.trim()));s({...t,emailAddresses:n.slice(0,100)}),this.setState({emailAddressesError:this._getEmailAddressesError(n)})})),(0,n.Z)(this,"_onEmailListKeyDown",(e=>{const{onChange:t,settings:s,settings:{emailAddresses:n}}=this.props;if("Backspace"===e.key){const i=[...n],r=n.pop();i.length&&""===r&&(e.preventDefault(),t({...s,emailAddressesCopy:i}))}})),this.state={isLoading:!0,isLeoEnabled:!1,emailAddressesError:this._getEmailAddressesError(e.settings.emailAddresses)}}componentDidMount(){this.leo=streets.service("leo"),this._updateIsLeoEnabled()}componentWillUnmount(){this.leo=null}render(){return i.createElement("div",{className:"field integration-email"},this._renderEmailRoundup())}_renderEmailRoundup(){const{settings:e}=this.props,t=!e.disabled,s=t?"Newsletter activated":"Activate newsletter";return i.createElement("div",null,i.createElement(l.H3,{appearance:"h2",sub:this._renderSub()},"Activation"),i.createElement(M.r,{isOn:t,label:s,onToggle:this._toggleEmailRoundup}),this._renderEmailRoundupForm())}_renderSub(){const{streamType:e}=this.props;let t;if(e===I.board)t="saved to this board";else if(e===I.collection)t="from this folder";else{if(e!==I.webAlert)throw new Error("unsupported streamType");t="from this Leo Web Alert"}return"Automatically send an email with the latest articles ".concat(t,".")}_renderEmailRoundupForm(){const{settings:e,streamLabel:t,streamType:s}=this.props,{emailAddressesError:n,isLoading:r}=this.state,a=(e.emailAddresses||[]).join(", ");return e.disabled?null:r?i.createElement(o.g,null):i.createElement("div",{className:"email-roundup-form"},this._renderEmailCollectionOptions(),i.createElement("label",null,i.createElement("div",{className:"sub"},"Include")),i.createElement(k.X,{checked:e.includeNotes,className:"m-b-h",onChange:()=>{this._onIncludeChange("includeNotes")}},"Notes"),i.createElement(k.X,{checked:e.includeHighlights,className:"m-b-h",onChange:()=>{this._onIncludeChange("includeHighlights")}},"Highlights"),i.createElement(k.X,{checked:e.useLeoSummary,className:"m-b-h",onChange:()=>{this._onIncludeChange("useLeoSummary")}},"Summarization"),i.createElement(_,{onChange:this._updateSchedule,daysOfWeek:e.daysOfWeek,hourOfDay:e.hourOfDay,timezone:e.timeZone}),i.createElement(l.H3,{appearance:"h2"},"Target Audience"),(s===I.board||s===I.collection)&&i.createElement(k.X,{checked:e.includeFollowers,className:"m-b-h",onChange:this._onMembersClick},"Include all followers of this"," ",s===I.board?"board":"folder"),i.createElement(S.K,{className:"checkbox-indent",error:n,hint:n?"":"Separate emails with commas",onChange:this._onEmailListChange,onKeyDown:this._onEmailListKeyDown,placeholder:"External recipients' email addresses",value:a}),i.createElement(m,{streamLabel:t,includeImages:e.includeImages,subjectTemplate:e.subjectTemplate,onChangeTemplate:this._updateTemplate,onChangeSubject:this._updateSubject}))}_renderEmailCollectionOptions(){const{streamType:e,settings:{maxEntries:t,ranked:s}}=this.props,{isLeoEnabled:n}=this.state;if(e===I.board)return null;const r=n?[N,...T]:T,a=r.find((e=>{let{key:t}=e;return t===s}));return i.createElement(i.Fragment,null,i.createElement("div",{className:"select-rank"},i.createElement("label",{htmlFor:"orderBy"},i.createElement("div",{className:"sub"},"Order by")),i.createElement(u.P,{id:"orderBy",items:r,labelKey:"value",onItemSelect:this._updateRank,value:a.value})),i.createElement("div",{className:"select-number-stories"},i.createElement("label",{htmlFor:"numStories"},i.createElement("div",{className:"sub"},"Maximum article count")),i.createElement(u.P,{id:"numStories",items:L,onItemSelect:this._updateMaxStories,value:t.toString()})))}_getEmailAddressesError(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{streamType:t}=this.props,s=e.filter(Boolean);return s.length>100?"The maximum number of email addresses has been reached.":t===I.webAlert&&0===s.length?"Please add recipients":""}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e,isLoading:!1})}}P.propTypes={onChange:a().func.isRequired,settings:a().shape({daysOfWeek:a().arrayOf(a().string),disabled:a().bool,emailAddresses:a().arrayOf(a().string),hourOfDay:a().number,includeFollowers:a().bool,includeHighlights:a().bool,includeImages:a().bool,includeNotes:a().bool,maxEntries:a().number,ranked:a().string,subjectTemplate:a().string,timeZone:a().string,useLeoSummary:a().bool}).isRequired,streamLabel:a().string.isRequired,streamType:a().oneOf(Object.values(I)).isRequired}},6172:(e,t,s)=>{"use strict";s.d(t,{Y:()=>h});var n=s(32735),i=s(60216),r=s.n(i),a=s(89919),o=s(8199),l=s(264),c=s(5156),d=s(59003);function h(e){let{size:t}=e;const s={icon:n.createElement(a.Z,{color:"white"}),label:"Upgrade",uri:"pro/feeds"};return n.createElement(l.u,{actions:[s],description:"The free version of Feedly offers ".concat(o.Av," feeds. Please upgrade to Feedly Pro+ to create more feeds."),illustration:d,illustrationDark:c,size:t})}h.propTypes={size:r().oneOf(["small","medium","large"])},h.defaultProps={size:"medium"}},264:(e,t,s)=>{"use strict";s.d(t,{u:()=>u});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(3167),c=s(53670),d=s(2772),h=s(43940);class u extends n.Component{constructor(e){super(e),this.feedly=streets.service("feedly"),this.state={theme:this.feedly.getTheme()}}componentDidMount(){this.preferences=streets.service("preferences"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.preferences=null}onPreferenceChanged(e){e!==l.BF&&e!==l.ZW||this.setState({theme:this.feedly.getTheme()})}render(){const{actions:e,badge:t,className:s,description:i,header:a,size:o}=this.props;return n.createElement("div",{className:r()("EmptyState",s,{["EmptyState--".concat(o)]:o})},this._renderIllustrationOrAnimation(),a&&n.createElement(d.H2,{appearance:"small"===o?"h3":"h2",className:"EmptyState__heading"},a,t&&n.createElement("span",{className:"EmptyState__badge badge accent small m-l-1"},t)),"string"==typeof i?n.createElement("p",{className:r()("EmptyState__description",{["EmptyState__description--".concat(o)]:o})},i):i,e&&e.length>0&&n.createElement("div",{className:"EmptyState__actions"},e&&e.map((e=>{const{className:t,...s}=e,i=s.uri?h.Q:c.z;return n.createElement(i,Object.assign({key:e.label,className:r()("EmptyState__button",t)},s))}))))}_renderIllustrationOrAnimation(){const{theme:e}=this.state,{header:t,animation:s,animationDark:i,illustration:a,illustrationDark:o,illustrationSize:c,size:d}=this.props,h=e===l.Bd.dark||e===l.z0.night;if(s)return i&&h?n.createElement("div",null,i):s;let u=a;if(o&&h&&(u=o),a){const e=c||d;return n.createElement("img",{alt:"".concat(t," illustration"),src:u,className:r()("EmptyState__illustration","illustration",{["EmptyState__illustration--".concat(e)]:e})})}return null}}u.propTypes={actions:o().arrayOf(o().shape({label:o().string.isRequired})),animation:o().node,animationDark:o().node,badge:o().string,className:o().string,description:o().oneOfType([o().string,o().element]),header:o().string,illustration:o().string,illustrationDark:o().string,illustrationSize:o().oneOf(["small","medium","large"]),size:o().oneOf(["small","medium","large"])},u.defaultProps={actions:[],animation:void 0,animationDark:void 0,badge:void 0,className:void 0,description:null,header:void 0,illustration:void 0,illustrationDark:void 0,illustrationSize:void 0,size:"medium"}},78136:(e,t,s)=>{"use strict";s.d(t,{P:()=>v});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(3167),l=s(13183),c=s(53670),d=s(2772),h=s(40841),u=s.n(h),p=s(30392),m=s(89036);class g extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseModal",(()=>{this.setState({isModalOpen:!1},this.props.onCloseModal)})),(0,n.Z)(this,"_onOpenModal",(()=>{this.setState({isModalOpen:!0})})),this.state={isModalOpen:e.isModalOpen}}componentDidUpdate(e){const{isModalOpen:t}=this.props;t&&t!==e.isModalOpen&&this._onOpenModal()}render(){const{isModalOpen:e}=this.state,{className:t,illustration:s,vimeoId:n}=this.props;return i.createElement("div",{className:u()("VideoIllustration",t)},i.createElement("div",{className:"VideoIllustration__content",onClick:this._onOpenModal},i.createElement("img",{alt:"illustration",src:s,className:"VideoIllustration__illustration"}),i.createElement(c.z,{className:"VideoIllustration__button",icon:i.createElement(p.Z,{color:"white"})})),e&&i.createElement(m.K,{vimeoId:n,onClose:this._onCloseModal}))}}g.propTypes={className:a().string,illustration:a().string,isModalOpen:a().bool,onCloseModal:a().func,vimeoId:a().string.isRequired},g.defaultProps={className:void 0,disallowAutoplay:!1,illustration:void 0,isModalOpen:!1,onCloseModal:()=>{}};var f=s(97448),y=s(42746);class v extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseModal",(()=>{this.setState({isModalOpen:!1})})),(0,n.Z)(this,"_onOpenModal",(()=>{this.setState({isModalOpen:!0})})),this.feedly=streets.service("feedly"),this.state={isLeoEnabled:!1,isModalOpen:!1,theme:this.feedly.getTheme()}}componentDidMount(){this.feeds=streets.service("feeds"),this.leo=streets.service("leo"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updateInitialData()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feedly=null,this.feeds=null,this.leo=null,this.preferences=null}onPreferenceChanged(e){e===o.BF&&this.setState({theme:this.feedly.getTheme()})}render(){const{isModalOpen:e,theme:t}=this.state,{description:s,header:n}=this.props;return i.createElement("div",{className:"LeoEmptyState"},i.createElement(g,{className:"LeoEmptyState__videoIllustration",vimeoId:"365065639",illustration:t===o.Bd.light?y:f,isModalOpen:e,onCloseModal:this._onCloseModal}),n&&i.createElement(d.H2,{className:"LeoEmptyState__header"},n),"string"==typeof s?i.createElement("p",{className:"LeoEmptyState__description"},s):s,i.createElement("div",{className:"LeoEmptyState__actions"},this._renderAction(),i.createElement(c.z,{importance:"secondary",label:"Watch Demo",onClick:()=>{this._onOpenModal()}})))}_renderAction(){const{streamId:e}=this.props,{isLeoEnabled:t}=this.state;return t?i.createElement(l.h,{align:"end",button:i.createElement(c.z,{importance:"primary",label:"New Priority"}),streamId:e}):i.createElement(c.z,{label:"How does Leo work?",onClick:()=>{this.feedly.askOpenLeoBlogPost("priority-tab-empty-state")}})}async _updateInitialData(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}v.propTypes={description:a().string,header:a().string,streamId:a().string},v.defaultProps={description:"",header:"",streamId:void 0}},66360:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(14956),o=s(32853),l=s(7837),c=s(99175);function d(e){let{filter:t}=e;return(0,o.IE)(t)?n.createElement(c.d,{animateClass:"animateFadeIn",content:n.createElement(n.Fragment,null,n.createElement("div",{className:"Tipsy__title"},"Feedly Enterprise Needed"),"This Leo ".concat(t.term?"filter":"priority"," relies on a topic or skill that belongs to the\n            Feedly Enterprise plan.\n            Please upgrade to reactivate it.")),tipClass:"Tipsy--text-align-left"},n.createElement(l.j,{color:"danger",fontSize:"small",iconComponent:a.Z},"Disabled")):null}d.propTypes={filter:r().shape({active:r().bool,inactiveReason:r().string,term:r().oneOfType([r().string,r().shape({text:r().string})])}).isRequired}},24389:(e,t,s)=>{"use strict";s.d(t,{k:()=>Fe});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(3244),d=s(74221),h=s(11459),u=s(3167),p=s(37225),m=s(68620),g=s(57855),f=s(1913),y=s(70542),v=s(59213),b=s(39970);class E extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{expandHighlights:!1})}render(){const{entry:e,highlightKeywords:t}=this.props,s=e.getLeoSummarySentences(),n=e.getHighlightableKeywordSnippets();if(t&&n&&n.length>0)return this._renderHighlightableKeywordSnippets(n);const i=e.listHighlights();return i&&i.length>0?this._renderHighlights():n&&n.length>0?this._renderHighlightableKeywordSnippets(n):e.metadata.hasCustomHeader?this._renderDefaultSummary():s.length>0?this._renderLeoSummary(s):this._renderDefaultSummary()}_renderDefaultSummary(){const{entry:e}=this.props;return i.createElement("div",{className:"summary",dangerouslySetInnerHTML:{__html:e.getBestSummary()}})}_renderHighlights(){const{expandHighlights:e}=this.state,{entry:t}=this.props,s=t.listAnnotations().filter((e=>e.highlight&&e.authorUser)).map((e=>i.createElement("div",{key:e.id,className:"item-highlight"},i.createElement("span",null,e.highlight.text))));return 0===s.length?null:s.length>1&&!e?i.createElement("div",{className:"list-highlight"},s[0],i.createElement("div",{key:"showMore",onClick:()=>{this.setState({expandHighlights:!0})},className:"item-more"},"+",s.length-1," highlights")):i.createElement("div",{className:"list-highlight"},s)}_renderLeoSummary(e){const{layout:t}=this.props;let s;return s=t===h.Ar.titleOnly?"inline":t===h.Ar.cards||t===h.Ar.magazine?"paragraph":"list",i.createElement(v.k,{sentences:e,display:s})}_renderHighlightableKeywordSnippets(e){if(!e||0===e.length)return null;const{highlightKeywords:t}=this.props,s=e[0];let n,r=s.text;if(t&&(r=i.createElement(b.L,{wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0})),s.text&&s.text.length<160&&e.length>1){const s=e[1];n=s.text,t&&(n=i.createElement(b.L,{wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0}))}return i.createElement("div",{className:"summary mention"},r,n&&i.createElement(i.Fragment,null,"... ",n))}}E.propTypes={entry:l().object.isRequired,highlightKeywords:l().bool,layout:l().oneOf(h.tv).isRequired},E.defaultProps={highlightKeywords:!1};var C=s(86451),w=s(15615),k=s(65698),_=s(87928),M=s(53670);function S(e){let{className:t,darkBackground:s,dashboardInfo:n,entry:r,isAnyPowerSearch:o,isCybersecurityTrend:l,isLeoPreview:c,layout:d,onLessLikeThisOpenChange:u,searchOptions:p,small:m}=e,g=[];if(c){const e=r.getMostRelevantPriority()||{};if(g=(0,k.p2)(r,e.layers),!g.length)return null}o&&(g=(0,k.p2)(r,p.layers));const f=m?C.Z:w.Z;return i.createElement(_.y,{align:d===h.Ar.magazine?"end":"start",button:i.createElement(M.z,{"aria-label":"Less like this",className:a()("LessLikeThisSelector__button","LessLikeThisSelector__button--entry-".concat(d),"LessLikeThisSelector__button--".concat(s?"dark":"white"),t),onClick:e=>{e.stopPropagation()},icon:i.createElement(f,{color:s?"white":"black"}),importance:""}),dashboardInfo:n,entry:r,isCybersecurityTrend:l,isLeoPreview:c,isAnyPowerSearch:o,onOpenChange:u,previewExcludeTopics:g,tagName:"span"})}function I(e){let{entry:t,highlightKeywords:s}=e,n=t.getCleanTitle();const r=Object.keys(t.getHighlightableKeywords());return s&&r&&r.length>0&&(n=i.createElement(b.L,{wordClassName:"entry__keyword",words:r,text:n,wrapper:"fragment",fullword:!0})),n}S.propTypes={className:l().string,darkBackground:l().bool,dashboardInfo:l().shape({dashboardName:l().string,section:l().string}),entry:l().object.isRequired,isAnyPowerSearch:l().bool,isCybersecurityTrend:l().bool,isLeoPreview:l().bool,layout:l().oneOf(h.tv).isRequired,onLessLikeThisOpenChange:l().func.isRequired,searchOptions:l().shape({layers:l().arrayOf(p.nJ)}),small:l().bool},S.defaultProps={className:void 0,darkBackground:!1,dashboardInfo:void 0,isAnyPowerSearch:!1,isCybersecurityTrend:!1,isLeoPreview:!1,searchOptions:{},small:!1},I.propTypes={entry:l().object.isRequired,highlightKeywords:l().bool},I.defaultProps={highlightKeywords:!1};var T=s(66772);class N extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onBlur",(()=>{const{onFocusChange:e}=this.props;e(!1)})),(0,n.Z)(this,"_onFocus",(()=>{const{onFocusChange:e}=this.props;e(!0)}))}render(){const{children:e,disableFocusVisible:t,entry:s,onFocusChange:n,tweet:r}=this.props;return i.createElement(T.r,Object.assign({className:a()("entry__title",{"entry__title--tweet":r}),disableFocusVisible:t,href:s.getBestAlternateLink()||"",newWindow:!0},n?{onBlur:this._onBlur,onFocus:this._onFocus}:{}),e)}}N.propTypes={children:l().node,disableFocusVisible:l().bool,entry:l().shape({getBestAlternateLink:l().func.isRequired}).isRequired,onFocusChange:l().func,tweet:l().bool},N.defaultProps={children:void 0,disableFocusVisible:!0,onFocusChange:void 0,tweet:!1};var L=s(60964),P=s(79199),D=s(11505),A=s(1948),O=s(763),x=s(19577),R=s(99175);function j(e){let t,s,{className:n,dark:r,onClick:o,small:l,showDeleteOption:c}=e;return c?(t=l?i.createElement(D.Z,{color:r?"white":"black"}):i.createElement(A.Z,{color:r?"white":"black"}),s="Remove"):(t=l?i.createElement(O.Z,{color:r?"white":"black"}):i.createElement(x.Z,{color:r?"white":"black"}),s="Mark as Read and Hide"),i.createElement(R.d,{content:s},i.createElement(M.z,{"aria-label":s,className:a()("EntryHideButton",n,{"EntryHideButton--dark":r}),onClick:o,icon:t,importance:""}))}j.propTypes={className:l().string,dark:l().bool,onClick:l().func.isRequired,showDeleteOption:l().bool.isRequired,small:l().bool},j.defaultProps={className:void 0,dark:!1,small:!1};var F=s(4425),U=s(94773);const z=(0,U.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M20.215 5.65a.5.5 0 0 1 .77.63l-.057.07-11.786 12a.5.5 0 0 1-.643.06l-.07-.06-5.357-5.454a.5.5 0 0 1 .645-.76l.068.06 5 5.09L20.216 5.65Z",fill:"currentColor",fillRule:"nonzero"}))}));function Z(e){let{className:t,dark:s,onClick:n,read:r,small:o}=e;const l=r?"Mark as Unread":"Mark as Read",c=o?F.Z:z;return i.createElement(R.d,{content:l},i.createElement(M.z,{"aria-label":l,className:a()("EntryMarkAsReadButton",t,{"EntryMarkAsReadButton--dark":s}),onClick:n,icon:i.createElement(c,{color:s?"white":"black"}),importance:""}))}Z.propTypes={className:l().string,dark:l().bool,onClick:l().func.isRequired,read:l().bool.isRequired,small:l().bool},Z.defaultProps={className:void 0,dark:!1,small:!1};var B=s(56352);class H extends i.Component{render(){const{darkBackground:e,entry:t,hideMarkAsRead:s,layout:n,lessLikeThis:r,onHideClick:o,onMarkAsReadClick:l,onReadLaterClick:c,onTagPickerStateChange:d,rtl:u,showDeleteOption:p}=this.props,m=n===h.Ar.magazine||n===h.Ar.miniMagazine;return i.createElement("div",{className:a()("EntryToolbar",{dark:e})},i.createElement(B.y,{darkBackground:e,onSaveClick:c,saved:t.isQuicklisted(),small:m}),i.createElement(L.D,{align:u?"left":"right",className:a()("EntryToolbar__tag-button",{"EntryToolbar__tag-button--dark":e}),dark:e,entry:t,importance:"",onTagPickerStateChange:d,small:m}),i.cloneElement(r,{small:m}),!s&&i.createElement(Z,{dark:e,onClick:l,read:t.isRead(),small:m}),i.createElement(j,{dark:e,onClick:o,showDeleteOption:p,small:m}))}}H.propTypes={darkBackground:l().bool,entry:P.A.isRequired,hideMarkAsRead:l().bool,layout:l().oneOf(["u4","u5","u6","u7"]).isRequired,lessLikeThis:l().node.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onReadLaterClick:l().func.isRequired,onTagPickerStateChange:l().func.isRequired,rtl:l().bool,showDeleteOption:l().bool.isRequired},H.defaultProps={darkBackground:!1,hideMarkAsRead:!1,rtl:!1};var Y=s(41786);class W extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this._elementRef=i.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:n,entry:r,hideRelatedEntries:o,highlightKeywords:l,imageUrl:c,isAnyPowerSearch:d,isLeoPreview:u,metadataProps:p,onBlur:m,onFocus:g,onHideClick:v,onMarkAsReadClick:b,onOpenFeedbackModal:C,onSaveClick:w,onTitleFocusChange:k,showDeleteOption:_}=this.props,M=h.Ar.cards,{isTwitterFeed:T,hasLinkedArticle:L}=r.metadata,P=T&&!L;return i.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:a()(s,{"entry--popover-open":t||e})},n,{"data-u":"5",onBlur:m,onFocus:g}),i.createElement("div",{className:"visual-container"},i.createElement(y.u,{url:c}),i.createElement("div",{className:"visual-overlay"})),i.createElement("div",{className:"content"},i.createElement(N,{entry:r,onFocusChange:k,tweet:P},i.createElement(I,{entry:r,highlightKeywords:l})),i.createElement(H,{darkBackground:!0,entry:r,hideMarkAsRead:d,layout:M,lessLikeThis:i.createElement(S,{darkBackground:!0,entry:r,isAnyPowerSearch:d,isLeoPreview:u,layout:M,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:C}),onHideClick:v,onMarkAsReadClick:b,onReadLaterClick:w,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:_}),i.createElement(f.l,p),!P&&i.createElement(E,{entry:r,highlightKeywords:l,layout:M}),!o&&i.createElement(Y.w,{entry:r})))}}W.propTypes={className:l().string,dataAttributes:l().object.isRequired,entry:l().object.isRequired,hideRelatedEntries:l().bool,highlightKeywords:l().bool,imageUrl:l().string,isAnyPowerSearch:l().bool,isLeoPreview:l().bool,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,showDeleteOption:l().bool},W.defaultProps={className:"",hideRelatedEntries:!1,highlightKeywords:!1,imageUrl:null,isAnyPowerSearch:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1};var q=s(98978),V=s.n(q),Q=s(3015),G=s(16216),K=s(10974),J=s(42584),X=s(26880),$=s(2772),ee=s(9990),te=s(85694);class se extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_updateCVEInfo",(async()=>{const{entry:e}=this.props,t=e.getFeaturedMeme(),s=e.listTopVulnerability();if(t&&"vulnerabilities"===t.topic&&s){const e=await this.leo.askEntityInfo(s.id);this.setState({vulnerabilityEntity:e})}})),this._elementRef=i.createRef(),this.state={vulnerabilityEntity:{}}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentDidMount(){this.leo=streets.service("leo"),this._updateCVEInfo()}componentWillUnmount(){this.leo=null,this._elementRef=null}render(){const{dataAttributes:e,entry:t,highlightKeywords:s,imageUrl:n,metadataProps:r}=this.props,{vulnerabilityEntity:o}=this.state,l=t.getFeaturedMeme();let c;return o&&o.cveid?c=o.cveid:l&&l.topic&&(c="in ".concat(l.topic)),i.createElement("article",Object.assign({ref:this._elementRef,id:t.getId()+"_main",className:"FeaturedLargeEntry entry"},e),i.createElement("div",{className:a()("FeaturedLargeEntry__visual",{"FeaturedLargeEntry__visual--no-image":!n})},i.createElement(y.u,{url:n}),i.createElement("div",{className:"FeaturedLargeEntry__visual-content"},i.createElement(N,{entry:t,disableFocusVisible:!1},i.createElement($.H2,{className:"FeaturedLargeEntry__title"},c&&i.createElement(te.H,{className:"FeaturedLargeEntry__kicker"},c),i.createElement("span",{className:"FeaturedLargeEntry__heading heading"},i.createElement(I,{entry:t,highlightKeywords:s})))),i.createElement(f.l,r))),l&&i.createElement("div",{className:"FeaturedLargeEntry__meme"},this._renderMemeSummary(l),this._renderMemeSparkline(l)))}_renderMemeSparkline(e){const{vulnerabilityEntity:t}=this.state,{cveid:s,trendingSparklineUrl:n,vulnerableProducts:{vendor:r}={}}=t,a=n||e.sparklineUrl;if(!a||!e.items)return null;let o=i.createElement("img",{className:"FeaturedLargeEntry__sparkline-visual",src:a,alt:n?"Trend graph of ".concat(s):"".concat(e.title," trend")});n&&(o=i.createElement(J.q,{vendor:r},o));const l=this._getMemeEntryDifference(e.items);return i.createElement("div",{className:"FeaturedLargeEntry__sparkline"},i.createElement(ee.H3,{appearance:"h4",className:"m-t-0"},"Trending chart"),o,i.createElement("p",null,i.createElement("b",null,e.items.length," sources")," covered '",s||e.title,"' over ",i.createElement("b",null,(0,Q.vp)(l),".")))}_renderMemeSummary(e){const{vulnerabilityEntity:t}=this.state,{cvssV3:{attackComplexity:s,attackVector:n,availabilityImpact:r}={},description:a,exploits:o,patched:l}=t,c=a&&!(0,K._h)(a);if(!c&&!e.summary)return null;let d;return d=c?i.createElement("div",{className:"FeaturedLargeEntry__summary"},i.createElement("div",{className:"FeaturedLargeEntry__summary-item"},a),i.createElement("div",{className:"FeaturedLargeEntry__summary-item"},i.createElement("div",{className:"FeaturedLargeEntry__cve-info"},"Exploit:"," ",i.createElement("span",{className:"FeaturedLargeEntry__cve-info-value"},o&&o.length?"Yes":"No")),i.createElement("div",{className:"FeaturedLargeEntry__cve-info"},"Patched:"," ",i.createElement("span",{className:"FeaturedLargeEntry__cve-info-value"},l?"Yes":"No")),n&&i.createElement(X.y,{label:"Attack Vector (AV):",value:G.z3[n]}),s&&i.createElement(X.y,{label:"Attack Complexity (AC):",value:G.DQ[s]}),r&&i.createElement(X.y,{label:"Availability (A):",value:G.UQ[r]}))):i.createElement("ul",{className:"FeaturedLargeEntry__summary FeaturedLargeEntry__summary--list"},e.summary.slice(0,2).map((e=>i.createElement("li",{key:"summary-".concat(e),className:"FeaturedLargeEntry__summary-item FeaturedLargeEntry__summary-item--list"},e)))),i.createElement("div",{className:"FeaturedLargeEntry__highlights"},i.createElement(ee.H3,{appearance:"h4",className:"m-t-0"},"Highlights"),d)}_getMemeEntryDifference(e){const t=V()(e,(e=>e.published));return t[t.length-1].published-t[0].published}}se.propTypes={dataAttributes:l().object.isRequired,entry:l().object.isRequired,highlightKeywords:l().bool,imageUrl:l().string,metadataProps:l().object.isRequired},se.defaultProps={highlightKeywords:!1,imageUrl:null};var ne=s(51899);class ie extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this._elementRef=i.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dashboardInfo:n,dataAttributes:r,entry:o,imageUrl:l,metadataProps:c,onBlur:d,onFocus:u,onHideClick:p,onMarkAsReadClick:m,onOpenFeedbackModal:g,onSaveClick:v,onTitleFocusChange:b,showDeleteOption:C}=this.props,w=h.Ar.cards,{isTwitterFeed:k,hasLinkedArticle:_}=o.metadata,M=k&&!_,T=o.isContentRTL();return i.createElement("article",Object.assign({ref:this._elementRef,id:o.getId()+"_main",className:a()(s,{"entry--popover-open":t||e,rtl:T})},r,{"data-u":"6",onBlur:d,onFocus:u}),i.createElement("div",{className:"visual-container"},i.createElement(y.u,{url:l}),i.createElement("div",{className:"visual-overlay"})),i.createElement("div",{className:"content"},i.createElement(N,{entry:o,onFocusChange:b,tweet:M},i.createElement(I,{entry:o})),i.createElement(H,{darkBackground:!0,entry:o,layout:w,lessLikeThis:i.createElement(S,{darkBackground:!0,dashboardInfo:n,entry:o,layout:w,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:g}),onHideClick:p,onMarkAsReadClick:m,onReadLaterClick:v,onTagPickerStateChange:this._onTagPickerStateChange,rtl:T,showDeleteOption:C}),i.createElement(f.l,c),!M&&i.createElement(E,{entry:o,layout:w}),i.createElement(Y.w,{entry:o})))}}ie.propTypes={className:l().string,dataAttributes:l().object.isRequired,dashboardInfo:l().shape({dashboardName:l().string,section:l().string}),entry:l().object.isRequired,imageUrl:l().string,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,showDeleteOption:l().bool},ie.defaultProps={className:"",dashboardInfo:void 0,imageUrl:null,onOpenFeedbackModal:void 0,showDeleteOption:!1};var re=s(77817),ae=s(14163);function oe(e){let{description:t,pictureAlt:s,pictureUrl:n,title:r}=e;return i.createElement("div",{className:"item-note"},i.createElement(re.q,{alt:s,className:"item-picture",iconSize:12,url:n}),i.createElement("div",{className:"item-content"},i.createElement(ae.s,null,r),t&&i.createElement("div",{className:"item-description"},t)))}oe.propTypes={description:l().node,pictureAlt:l().string,pictureUrl:l().string.isRequired,title:l().node.isRequired},oe.defaultProps={description:void 0,pictureAlt:""};class le extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{expandNotes:!1}),(0,n.Z)(this,"_renderSourceTitle",(e=>{let{ownerName:t,title:s}=e;return[t,i.createElement("span",{key:"meta",className:"item-header item-header--normal-case is-muted"}," saved to "),s]})),(0,n.Z)(this,"_onExpandClick",(()=>{this.setState({expandNotes:!0})}))}render(){const{entry:e}=this.props,{expandNotes:t}=this.state,s=e.listAnnotations(),n=e.getFirstPublicBoardSourceInfo(),r=s.filter((e=>e.comment&&e.authorUser)).map((e=>{let{authorUser:{email:t,name:s,picture:r}={},comment:a,emailMentions:o=[],id:l,slackMentions:c=[]}=e;const d=o.map((e=>"+".concat(e))).concat(c);return i.createElement(oe,{key:l,description:i.createElement(b.L,{wordClassName:"mention",words:d,text:a}),pictureAlt:s||t,pictureUrl:r,title:n?this._renderSourceTitle(n):s})}));if(!r.length){const{viaStreamId:t}=e.metadata;return n&&t&&!(0,d.Yg)(t).isFeed?i.createElement("div",{className:"list-note"},i.createElement(oe,{pictureAlt:n.ownerName,pictureUrl:n.ownerPicture,title:this._renderSourceTitle(n)})):null}return r.length>1&&!t?i.createElement("div",{className:"list-note"},r[0],i.createElement("div",{className:"item-more",onClick:this._onExpandClick},"+",r.length-1," notes")):i.createElement("div",{className:"list-note"},r)}}le.propTypes={entry:l().object.isRequired};var ce=s(50240);class de extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTweetClick",(()=>{const{layout:e,onClick:t}=this.props,s=e===h.Ar.fullArticle;this.setState((()=>s?{isHidden:!0}:null),t)})),(0,n.Z)(this,"_onTweetIconClick",(e=>{const{tweet:{link:t}}=this.props;window.open(t,"_blank"),e.preventDefault(),e.stopPropagation()})),this.state={isHidden:!1}}render(){const{layout:e,tweet:{authorName:t,authorHandle:s,content:n,icon:r}}=this.props,{isHidden:o}=this.state;if(!n||o)return null;const l={TweetInfo:!0,"TweetInfo--fullArticle":e===h.Ar.fullArticle},c=e===h.Ar.fullArticle?i.createElement("span",null,i.createElement("strong",null,t)," ",i.createElement("span",null,s)):i.createElement("span",null,s);return i.createElement("div",null,e===h.Ar.fullArticle&&i.createElement($.H2,{appearance:"h4"},"Tweet")," ",i.createElement("div",{className:a()(l),onClick:this._onTweetClick},i.createElement("div",{className:"TweetInfo__author"},r&&i.createElement(re.q,{url:r,className:"TweetInfo__author-avatar",iconSize:12}),c,i.createElement(ce.Z,{importance:"secondary",className:"TweetInfo__icon",onClick:this._onTweetIconClick})),i.createElement("div",{className:"TweetInfo__content"},n," ")))}}function he(e){let{entry:t,layout:s}=e;const{metadata:{tweet:n}={}}=t;return t&&n&&n.content?i.createElement("div",{className:"tweetHolder"},i.createElement(de,{layout:s,tweet:n})):null}de.propTypes={layout:l().oneOf(h.tv),onClick:l().func,tweet:l().shape({authorHandle:l().string,authorName:l().string,content:l().string,icon:l().string,link:l().string}).isRequired},de.defaultProps={layout:h.Ar.fullArticle,onClick:()=>{}},he.propTypes={entry:l().object.isRequired,layout:l().oneOf(h.tv).isRequired};class ue extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this._elementRef=i.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dashboardInfo:n,dataAttributes:r,entry:o,hideRelatedEntries:l,highlightKeywords:c,imageUrl:d,isAnyPowerSearch:u,isCybersecurityTrend:p,isLeoPreview:m,metadataComponent:g,metadataProps:f,onBlur:v,onFocus:b,onHideClick:C,onMarkAsReadClick:w,onSaveClick:k,onTitleFocusChange:_,searchOptions:M,showDeleteOption:T}=this.props,L=h.Ar.magazine,P=o.getId(),{isTwitterFeed:D,hasLinkedArticle:A}=o.metadata,O=D&&!A;return i.createElement("article",Object.assign({ref:this._elementRef,id:P+"_main",className:a()(s,{"entry--popover-open":t||e})},r,{"data-u":"4",onBlur:v,onFocus:b}),i.createElement(y.u,{url:d}),i.createElement("div",{className:"content"},i.createElement(N,{entry:o,onFocusChange:_,tweet:O},i.createElement(I,{entry:o,highlightKeywords:c})),i.createElement(H,{entry:o,hideMarkAsRead:u,layout:L,lessLikeThis:i.createElement(S,{dashboardInfo:n,entry:o,isAnyPowerSearch:u,isCybersecurityTrend:p,isLeoPreview:m,layout:L,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,searchOptions:M}),onHideClick:C,onMarkAsReadClick:w,onReadLaterClick:k,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:T}),i.createElement(g,f),i.createElement(le,{entry:o}),!O&&i.createElement(E,{entry:o,highlightKeywords:c,layout:L}),i.createElement(he,{entry:o,layout:L}),!l&&i.createElement(Y.w,{entry:o})))}}ue.propTypes={className:l().string,dashboardInfo:l().shape({dashboardName:l().string,section:l().string}),dataAttributes:l().object.isRequired,entry:l().object.isRequired,hideRelatedEntries:l().bool,highlightKeywords:l().bool,imageUrl:l().string,isAnyPowerSearch:l().bool,isCybersecurityTrend:l().bool,isLeoPreview:l().bool,metadataComponent:l().elementType,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,searchOptions:l().shape({layers:l().arrayOf(p.nJ)}),showDeleteOption:l().bool},ue.defaultProps={className:"",dashboardInfo:void 0,hideRelatedEntries:!1,highlightKeywords:!1,imageUrl:null,isAnyPowerSearch:!1,isCybersecurityTrend:!1,isLeoPreview:!1,metadataComponent:f.l,searchOptions:{},showDeleteOption:!1};class pe extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this._elementRef=i.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dashboardInfo:n,dataAttributes:r,entry:o,imageUrl:l,metadataProps:c,onBlur:d,onFocus:u,onHideClick:p,onMarkAsReadClick:m,onOpenFeedbackModal:g,onSaveClick:v,onTitleFocusChange:b,showDeleteOption:E}=this.props,C=h.Ar.miniMagazine,w=o.getId(),{isTwitterFeed:k,hasLinkedArticle:_}=o.metadata,M=k&&!_,T=o.isContentRTL();return i.createElement("article",Object.assign({ref:this._elementRef,id:w+"_main",className:a()(s,{"entry--popover-open":t||e,rtl:T})},r,{"data-u":"7",onBlur:d,onFocus:u}),i.createElement("div",{className:"visual-container"},i.createElement(y.u,{url:l}),i.createElement("div",{className:a()("visual-overlay",{"visual-overlay--hidden":!l})})),i.createElement("div",{className:"content"},i.createElement(N,{entry:o,onFocusChange:b,tweet:M},i.createElement(I,{entry:o})),i.createElement(H,{darkBackground:!!l,entry:o,layout:C,lessLikeThis:i.createElement(S,{darkBackground:!!l,dashboardInfo:n,entry:o,layout:C,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:g}),onHideClick:p,onMarkAsReadClick:m,onReadLaterClick:v,onTagPickerStateChange:this._onTagPickerStateChange,rtl:T,showDeleteOption:E}),i.createElement(f.l,c),i.createElement(Y.w,{entry:o,relatedEntriesShown:1})))}}pe.propTypes={className:l().string,dashboardInfo:l().shape({dashboardName:l().string,section:l().string}),dataAttributes:l().object.isRequired,entry:l().object.isRequired,imageUrl:l().string,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,showDeleteOption:l().bool},pe.defaultProps={className:"",dashboardInfo:void 0,imageUrl:null,onOpenFeedbackModal:void 0,showDeleteOption:!1};class me extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this._elementRef=i.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:n,entry:r,highlightKeywords:o,imageUrl:l,isAnyPowerSearch:c,isLeoPreview:d,metadataProps:u,onBlur:p,onFocus:m,onHideClick:g,onMarkAsReadClick:v,onOpenFeedbackModal:b,onSaveClick:C,onTitleFocusChange:w,showDeleteOption:k}=this.props,_=h.Ar.cards,{isTwitterFeed:M,hasLinkedArticle:T}=r.metadata,L=M&&!T;return i.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:a()(s,"rtl",{"entry--popover-open":t||e})},n,{"data-u":"5",onBlur:p,onFocus:m}),i.createElement("div",{className:"visual-container"},i.createElement(y.u,{url:l}),i.createElement("div",{className:"visual-overlay"})),i.createElement("div",{className:"content"},i.createElement(N,{entry:r,onFocusChange:w,tweet:L},i.createElement(I,{entry:r,highlightKeywords:o})),i.createElement(H,{darkBackground:!0,entry:r,hideMarkAsRead:c,layout:_,lessLikeThis:i.createElement(S,{darkBackground:!0,entry:r,isAnyPowerSearch:c,isLeoPreview:d,layout:_,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:b}),rtl:!0,onHideClick:g,onMarkAsReadClick:v,onReadLaterClick:C,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:k}),i.createElement(f.l,u),!L&&i.createElement(E,{entry:r,highlightKeywords:o,layout:_})))}}me.propTypes={className:l().string,dataAttributes:l().object.isRequired,entry:l().object.isRequired,highlightKeywords:l().bool,imageUrl:l().string,isAnyPowerSearch:l().bool,isLeoPreview:l().bool,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,showDeleteOption:l().bool},me.defaultProps={className:"",highlightKeywords:!1,imageUrl:null,isAnyPowerSearch:!1,isLeoPreview:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1};class ge extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this._elementRef=i.createRef(),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{isLessLikeThisOpen:e,isTagPickerOpen:t}=this.state,{className:s,dataAttributes:n,entry:r,highlightKeywords:o,imageUrl:l,isAnyPowerSearch:c,isLeoPreview:d,metadataComponent:u,metadataProps:p,onBlur:m,onFocus:g,onHideClick:f,onMarkAsReadClick:v,onOpenFeedbackModal:b,onSaveClick:C,onTitleFocusChange:w,searchOptions:k,showDeleteOption:_}=this.props,M=h.Ar.magazine,{isTwitterFeed:T,hasLinkedArticle:L}=r.metadata,P=T&&!L;return i.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:a()(s,"rtl",{"entry--popover-open":t||e})},n,{"data-u":"4",onBlur:m,onFocus:g}),i.createElement("div",{className:"content"},i.createElement(N,{entry:r,onFocusChange:w,tweet:P},i.createElement(I,{entry:r,highlightKeywords:o})),i.createElement(H,{entry:r,hideMarkAsRead:c,layout:M,lessLikeThis:i.createElement(S,{entry:r,isAnyPowerSearch:c,isLeoPreview:d,layout:M,onLessLikeThisOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:b,searchOptions:k}),rtl:!0,onHideClick:f,onMarkAsReadClick:v,onReadLaterClick:C,onTagPickerStateChange:this._onTagPickerStateChange,showDeleteOption:_}),i.createElement(u,p),i.createElement(le,{entry:r}),!P&&i.createElement(E,{entry:r,highlightKeywords:o,layout:M}),i.createElement(he,{entry:r,layout:M})),i.createElement(y.u,{url:l}))}}ge.propTypes={className:l().string,dataAttributes:l().object.isRequired,entry:l().object.isRequired,highlightKeywords:l().bool,imageUrl:l().string,isAnyPowerSearch:l().bool,isLeoPreview:l().bool,metadataComponent:l().elementType,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onMarkAsReadClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,searchOptions:l().shape({layers:l().arrayOf(p.nJ)}),showDeleteOption:l().bool},ge.defaultProps={className:"",highlightKeywords:!1,imageUrl:null,isAnyPowerSearch:!1,isLeoPreview:!1,metadataComponent:f.l,onOpenFeedbackModal:void 0,searchOptions:{},showDeleteOption:!1};var fe=s(82316),ye=s(45146),ve=s(80716),be=s(25035);const Ee=(0,U.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.143 2.357H4.857a2.5 2.5 0 0 0-2.5 2.5v10.286a2.5 2.5 0 0 0 2.5 2.5h10.286a2.5 2.5 0 0 0 2.5-2.5V4.857a2.5 2.5 0 0 0-2.5-2.5Zm-10.286 1h10.286a1.5 1.5 0 0 1 1.5 1.5v10.286a1.5 1.5 0 0 1-1.5 1.5H4.857a1.5 1.5 0 0 1-1.5-1.5V4.857a1.5 1.5 0 0 1 1.5-1.5Z"}),i.createElement("path",{d:"m9.494 7.035.006.108c0 .63.892.664.991.105l.009-.105c0-.513.416-.929.929-.929.666 0 .666-1 0-1H8.57c-.63 0-.664.892-.105.991l.105.01c.477 0 .87.358.923.82ZM8.466 14.777l.105.009h2.858l.105-.01c.526-.092.526-.888 0-.981l-.106-.01-.108-.006a.93.93 0 0 1-.814-.814l-.006-.108c0-.63-.892-.664-.991-.105l-.009.105a.929.929 0 0 1-.82.922l-.109.007c-.63 0-.664.892-.105.99Z"}),i.createElement("path",{d:"M10 5.929a.5.5 0 0 1 .492.41l.008.09v7.142a.5.5 0 0 1-.992.09l-.008-.09V6.43a.5.5 0 0 1 .5-.5Z"})))}));var Ce=s(1464);const we=(0,U.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.857 3.786H4.143a2.5 2.5 0 0 0-2.5 2.5v8.143a2.5 2.5 0 0 0 2.5 2.5h11.714a2.5 2.5 0 0 0 2.5-2.5V6.286a2.5 2.5 0 0 0-2.5-2.5Zm-11.714 1h11.714a1.5 1.5 0 0 1 1.5 1.5v8.143a1.5 1.5 0 0 1-1.5 1.5H4.143a1.5 1.5 0 0 1-1.5-1.5V6.286a1.5 1.5 0 0 1 1.5-1.5Z"}),i.createElement("path",{d:"M14.71 6.736a.5.5 0 0 1 .649.755l-.069.059-5.007 3.571a.5.5 0 0 1-.503.046l-.078-.046L4.709 7.55a.5.5 0 0 1 .504-.86l.078.046L9.993 10.1l4.717-3.364Z"})))}));const ke=(0,U.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.143 2.357H4.857a2.5 2.5 0 0 0-2.5 2.5v10.286a2.5 2.5 0 0 0 2.5 2.5h10.286a2.5 2.5 0 0 0 2.5-2.5V4.857a2.5 2.5 0 0 0-2.5-2.5Zm-10.286 1h10.286a1.5 1.5 0 0 1 1.5 1.5v10.286a1.5 1.5 0 0 1-1.5 1.5H4.857a1.5 1.5 0 0 1-1.5-1.5V4.857a1.5 1.5 0 0 1 1.5-1.5Z"}),i.createElement("path",{d:"M14.291 5.929a.5.5 0 0 1 .09.992l-.09.008h-1.425c-1.101 0-1.6.442-1.648 1.473l-.004.168v8.573a.5.5 0 0 1-.992.09l-.008-.09V8.57c0-1.639.87-2.568 2.458-2.637l.194-.004h1.425Z"}),i.createElement("path",{d:"M13.571 10.214a.5.5 0 0 1 .09.992l-.09.008H7.857a.5.5 0 0 1-.09-.992l.09-.008h5.714Z"})))}));const _e=(0,U.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M12.857 7.357a4.786 4.786 0 0 0-4.786 4.786v5a.5.5 0 0 0 .5.5h2.858a.5.5 0 0 0 .5-.5v-5a.929.929 0 1 1 1.857 0v5a.5.5 0 0 0 .5.5h2.857a.5.5 0 0 0 .5-.5v-5a4.786 4.786 0 0 0-4.786-4.786Zm.195 1.005c2 .101 3.59 1.755 3.59 3.78v4.5h-1.857v-4.5a1.929 1.929 0 0 0-1.928-1.928l-.15.006a1.929 1.929 0 0 0-1.778 1.923v4.5H9.07v-4.5a3.786 3.786 0 0 1 3.786-3.786l.195.005ZM5.714 8.071H2.857a.5.5 0 0 0-.5.5v8.572a.5.5 0 0 0 .5.5h2.857a.5.5 0 0 0 .5-.5V8.57a.5.5 0 0 0-.5-.5Zm-.5 1v7.571H3.357v-7.57h1.857ZM4.286 3.071a1.929 1.929 0 1 0 0 3.858 1.929 1.929 0 0 0 0-3.858Zm0 1a.929.929 0 1 1 0 1.858.929.929 0 0 1 0-1.858Z"})))}));var Me=s(44323),Se=s(89458),Ie=s(51239),Te=s(15454),Ne=s(24916);class Le extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onLessLikeThisOpenChange",(e=>{this.setState({isLessLikeThisOpen:e})})),(0,n.Z)(this,"_onTagPickerStateChange",(e=>{this.setState({isTagPickerOpen:e})})),this.state={isLessLikeThisOpen:!1,isTagPickerOpen:!1}}componentDidMount(){this.microsessions=streets.service("microsessions"),this.preferences=streets.service("preferences"),this.router=streets.service("router"),this.signs=streets.service("signs")}componentWillUnmount(){this.microsessions=null,this.preferences=null,this.router=null,this.signs=null}render(){const{enabledSharingServices:e,entry:t,onHideClick:s,onOpenFeedbackModal:n,showDeleteOption:r}=this.props,{isLessLikeThisOpen:o,isTagPickerOpen:l}=this.state;return i.createElement("div",{className:a()("CondensedToolbar",{"CondensedToolbar--visible":l||o}),onClick:e=>{e.stopPropagation()}},i.createElement(L.D,{align:"right",className:"CondensedToolbar__button",entry:this.props.entry,importance:"",onTagPickerStateChange:this._onTagPickerStateChange,small:!0}),i.createElement(_.y,{align:"end",button:i.createElement(M.z,{"aria-label":"Less Like This",className:"CondensedToolbar__button",icon:i.createElement(C.Z,null),importance:""}),entry:t,onOpenChange:this._onLessLikeThisOpenChange,onOpenFeedbackModal:n,tagName:"span"}),e.map((e=>{const{icon:t,title:s}=Le.SHARING_SERVICES[e];return i.createElement(R.d,{key:e,content:s},i.createElement(M.z,{"aria-label":s,className:"CondensedToolbar__button",icon:i.createElement(t,null),importance:"",onClick:t=>{this._onShareClick(e,t)}}))})),i.createElement(j,{className:"icon CondensedToolbar__button",onClick:s,showDeleteOption:r,small:!0}))}_createPopupWindow(e,t,s){const n=window.screen.height,i=window.screen.width,r=Math.round(i/2-s/2);let a=0;n>t&&(a=Math.round(n/2-t/2));const o=window.open(e,"_blank","left="+r+",top="+a+",width="+s+",height="+t+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");o?o.focus():(0,Te.d)()}_onShareClick(e,t){if("email"===e){"gmail"===this.preferences.getPreference("emailClient")&&(e="gmail")}const{entry:s}=this.props,n=Le.SHARING_SERVICES[e],i=this.preferences.getPreference("customSharing"),r=this.preferences.getPreference("twitterPostfix")||"";if("redef"!==e)if("customSharing"===e&&i&&0!==i.indexOf("http"))this.signs.showMessage("Invalid custom share URL");else if(n.decoration&&s.getDecoration(n.decoration)){const e=s.getDecoration(n.decoration);0===e.indexOf("http")&&window.open(e)}else if(!n.requiresPro||streets.hasProAccess())if(t.target=t.currentTarget,!n.popupUrl||streets.hasProAccess()&&n.showPopup)n.showPopup.call(this,t,s),this.microsessions.setEntryAsShared(s.getId());else{if("customSharing"===e&&!i)return void this.router.loadPage("account/saving-sharing");this._createPopupWindow(n.popupUrl(s.getAlternateLink(),s,r,i),n.windowHeight,n.windowWidth),streets.service("analytics").trackEvent("sharing",n.analyticsName),this.microsessions.setEntryAsShared(s.getId())}else this.router.loadPage("pro/"+n.proAnalytics);else(0,Ne.x)(s)}}Le.propTypes={enabledSharingServices:l().arrayOf(l().string),entry:l().object.isRequired,onHideClick:l().func.isRequired,onOpenFeedbackModal:l().func,showDeleteOption:l().bool},Le.defaultProps={enabledSharingServices:[],onOpenFeedbackModal:void 0,showDeleteOption:!1},Le.SHARING_SERVICES={redef:{icon:ye.Z,title:"Redef"},evernote:{analyticsName:"evernote",decoration:Ie.I.evernote,icon:ve.Z,showPopup(e,t){streets.service("feedly").askPickNotebook(t.id,e.target,{align:"end"})},title:"Evernote"},oneNote:{analyticsName:"oneNote",decoration:Ie.I.oneNote,icon:be.Z,showPopup(e,t){streets.service("feedly").askPickOneNoteSection(t.id,e.target)},title:"OneNote"},instapaper:{windowWidth:550,windowHeight:400,analyticsName:"instapaper",icon:Ee,popupUrl:(e,t)=>"http://www.instapaper.com/edit?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime(),requiresPro:!0,proAnalytics:"sharing.button.instapaper",title:"Instapaper"},pocket:{windowWidth:550,windowHeight:320,analyticsName:"pocket",decoration:Ie.I.pocket,icon:Ce.Z,popupUrl:(e,t)=>"https://getpocket.com/save?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime()+"&__popup=true",showPopup(e,t){streets.service("feedly").askAddToPocket(t.id)},title:"Pocket"},email:{analyticsName:"email",icon:we,showPopup(e,t){const s=t.body?encodeURIComponent(t.body+"\n"+t.getAlternateLink()):encodeURIComponent(t.getCleanTitle()+"\n"+t.getAlternateLink()+"\n\n -- via my Feedly newsfeed"),n="?subject="+encodeURIComponent(t.getCleanTitle()+" [feedly]")+"&body="+s;window.open("mailto:"+n,"_blank")},title:"Email"},gmail:{windowWidth:700,windowHeight:500,analyticsName:"gmail",icon:we,popupUrl(e,t){const s=t.body?encodeURIComponent(t.body+"\n"+t.getAlternateLink()):encodeURIComponent(t.getCleanTitle()+"\n"+t.getAlternateLink()+"\n\n -- via my Feedly newsfeed");return"http://mail.google.com/mail/?view=cm&fs=1&tf=1&to=&su="+encodeURIComponent(t.getCleanTitle()+" [feedly]")+"&body=\n\n"+s},title:"Email"},twitter:{windowWidth:550,windowHeight:286,analyticsName:"tweet",icon:ce.Z,popupUrl(e,t,s){t.getCleanTitle||(t=null);const n=t?t.getDefaultTagOrCategory():null;let i=t?t.getCleanTitle():"";const r=[];return s&&(i+=" "+s),t&&"no"!==streets.service("preferences").getPreference("twitterHashtags")&&(n&&r.push(encodeURIComponent(n.slice(1))),r.push("feedly")),"http://twitter.com/share?related=feedly&text="+encodeURIComponent(i)+"&url="+encodeURIComponent(e)+"&_="+(new Date).getTime()+"&hashtags="+r.join(",")},title:"Twitter"},facebook:{windowWidth:550,windowHeight:450,analyticsName:"facebook",icon:ke,popupUrl:(e,t,s)=>"http://www.facebook.com/share.php?src=bm&v=4&i=1289025326&t="+encodeURIComponent(t.getCleanTitle()+" "+s)+"&u="+encodeURIComponent(e)+"&_="+(new Date).getTime(),title:"Facebook"},linkedIn:{windowWidth:550,windowHeight:600,analyticsName:"linkedin",icon:_e,requiresPro:!0,proAnalytics:"sharing.button.linkedin",popupUrl:e=>"https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(e)),title:"LinkedIn"},buffer:{analyticsName:"buffer",icon:Me.Z,showPopup(e,t){streets.service("buffer").askShareEntry(t.id)},title:"Buffer"},customSharing:{windowWidth:550,windowHeight:750,analyticsName:"customSharing",icon:Se.Z,requiresPro:!0,proAnalytics:"sharing.button.custom-sharing",popupUrl(e,t,s,n){return 0!==n.indexOf("http:")&&0!==n.indexOf("https:")?(this.signs.showMessage("Invalid custom sharing URL"),null):n.replace(/\${id}/g,encodeURIComponent(t.id)).replace(/\${url}/g,encodeURIComponent(e)).replace(/\${source}/g,encodeURIComponent(t.getCleanSourceTitle())).replace(/\${title}/g,encodeURIComponent(t.getCleanTitle()))},title:"Custom Sharing"}};var Pe=s(23656),De=s(40625),Ae=s(5540);function Oe(e){let{entry:t}=e;return i.createElement(Ae.R,{engagement:t.getEngagement(),engagementRate:t.getEngagementRate(),hideFlameIcon:!0,isHot:t.isHot()})}Oe.propTypes={entry:l().object.isRequired};class xe extends i.Component{constructor(e){super(e),this._elementRef=i.createRef(),this.state={enabledSharingServices:streets.service("preferences").getEnabledSharingServices(fe.t)}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{enabledSharingServices:e}=this.state,{className:t,dataAttributes:s,density:n,entry:r,highlightKeywords:o,metadataProps:l,onBlur:c,onFocus:d,onHideClick:u,onOpenFeedbackModal:p,onSaveClick:m,onTitleFocusChange:g,showDeleteOption:y,showSourceTitle:v}=this.props,{isTwitterFeed:b,hasLinkedArticle:E}=r.metadata,C=b&&!E;return i.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:a()(t,"rtl")},s,{"data-u":"0",onBlur:c,onFocus:d}),i.createElement(Le,{enabledSharingServices:e,entry:r,onHideClick:u,onOpenFeedbackModal:p,showDeleteOption:y}),i.createElement(De.E,{date:r.getCrawledDate(),lastModifiedDate:r.getLastModifiedDate()}),i.createElement("div",{className:"content"},i.createElement(N,{entry:r,onFocusChange:g,tweet:C},i.createElement(I,{entry:r,highlightKeywords:o})),i.createElement(f.l,l),!C&&i.createElement("div",{className:"summary"},r.getExcerpt())),C&&r.metadata.tweet.icon&&i.createElement(re.q,{compact:!0,iconSize:12,url:r.metadata.tweet.icon}),i.createElement("div",{className:"engagement-container"},i.createElement(Oe,{entry:r})),v&&i.createElement("div",{className:"entry__meta-column"},i.createElement(Pe.P,{entry:r,layout:h.Ar.titleOnly},r.getSourceTitle())),i.createElement(B.y,{className:"EntryReadLaterButton--density-".concat(n),onSaveClick:m,saved:r.isQuicklisted()}))}}xe.propTypes={className:l().string,dataAttributes:l().object.isRequired,density:l().oneOf([24,29,34]).isRequired,entry:l().object.isRequired,highlightKeywords:l().bool,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,showDeleteOption:l().bool,showSourceTitle:l().bool},xe.defaultProps={className:"",highlightKeywords:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1,showSourceTitle:!1};class Re extends i.Component{constructor(e){super(e),this._elementRef=i.createRef(),this.state={enabledSharingServices:streets.service("preferences").getEnabledSharingServices(fe.t)}}focus(){const{entry:e}=this.props,{current:t}=this._elementRef;t&&(0,g.du)(e.getBestAlternateLink()||"",t)}componentWillUnmount(){this._elementRef=null}render(){const{enabledSharingServices:e}=this.state,{className:t,dataAttributes:s,density:n,entry:r,hideRelatedEntries:a,highlightKeywords:o,metadataProps:l,onBlur:c,onFocus:d,onHideClick:u,onOpenFeedbackModal:p,onSaveClick:m,onTitleFocusChange:g,showDeleteOption:y,showSourceTitle:v}=this.props,b=h.Ar.titleOnly,{isTwitterFeed:C,hasLinkedArticle:w}=r.metadata,k=C&&!w;return i.createElement("article",Object.assign({ref:this._elementRef,id:r.getId()+"_main",className:t},s,{"data-u":"0",onBlur:c,onFocus:d}),i.createElement(B.y,{className:"EntryReadLaterButton--density-".concat(n),onSaveClick:m,saved:r.isQuicklisted()}),v&&i.createElement("div",{className:"entry__meta-column"},i.createElement(Pe.P,{entry:r,layout:h.Ar.titleOnly},r.getSourceTitle())),i.createElement("div",{className:"engagement-container"},i.createElement(Oe,{entry:r})),k&&r.metadata.tweet.icon&&i.createElement(re.q,{compact:!0,iconSize:12,url:r.metadata.tweet.icon}),i.createElement("div",{className:"content"},i.createElement(N,{entry:r,onFocusChange:g,tweet:k},i.createElement(I,{entry:r,highlightKeywords:o})),i.createElement(f.l,l),!k&&i.createElement(E,{entry:r,highlightKeywords:o,layout:b})),!a&&i.createElement(Y.w,{entry:r,isCompact:!0}),i.createElement(De.E,{date:r.getCrawledDate(),lastModifiedDate:r.getLastModifiedDate()}),i.createElement(Le,{enabledSharingServices:e,entry:r,showDeleteOption:y,onHideClick:u,onOpenFeedbackModal:p}))}}Re.propTypes={className:l().string,dataAttributes:l().object.isRequired,density:l().oneOf([24,29,34]).isRequired,entry:l().object.isRequired,hideRelatedEntries:l().bool,highlightKeywords:l().bool,metadataProps:l().object.isRequired,onBlur:l().func.isRequired,onFocus:l().func.isRequired,onHideClick:l().func.isRequired,onOpenFeedbackModal:l().func,onSaveClick:l().func.isRequired,onTitleFocusChange:l().func.isRequired,showDeleteOption:l().bool,showSourceTitle:l().bool},Re.defaultProps={className:"",hideRelatedEntries:!1,highlightKeywords:!1,onOpenFeedbackModal:void 0,showDeleteOption:!1,showSourceTitle:!1};const je={u4:[130,78],u5:[254,182],u6:[382,280],u7:[130,78],uFeatured:[604,320]};class Fe extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderConfirmationModal",(()=>{const{isConfirmDeleteModalOpen:e}=this.state;return e?i.createElement(m.c,{cancelLabel:"No, keep story",danger:!0,description:"Are you sure you want to delete this story?",onCancel:this._onCloseConfirmDeleteModal,onSuccess:this._onConfirmDeleteClick,successLabel:"Delete",title:"Delete story from board"}):null})),(0,n.Z)(this,"_updateIsBlurred",(()=>{this.setState((e=>{let{isFocused:t}=e;return t?{isFocused:!1}:null}))})),(0,n.Z)(this,"_onBlur",(()=>{clearTimeout(this._blurTimeout),this._blurTimeout=setTimeout(this._updateIsBlurred,50)})),(0,n.Z)(this,"_onCloseConfirmDeleteModal",(()=>{this.setState({isConfirmDeleteModalOpen:!1})})),(0,n.Z)(this,"_onConfirmDeleteClick",(()=>{const{entryId:e,streamId:t}=this.props;try{this.reader.askUntagEntry(e,{id:t})}catch(s){this.signs.showMessage("Failed to delete story")}})),(0,n.Z)(this,"_onFocus",(()=>{const{entryId:e}=this.props;this._blurTimeout&&(clearTimeout(this._blurTimeout),this._blurTimeout=null),this.setState((t=>{let{isFocused:s,selected:n}=t;return s?null:(n||this.navigo.selectEntry(e),{isFocused:!0})}))})),(0,n.Z)(this,"_onHideClick",(e=>{const{entryId:t,hideRelatedEntries:s,streamId:n}=this.props;if(e.stopPropagation(),n){const{isAnnotated:e,isReadLater:t,isTag:s}=(0,d.Yg)(n);if(s&&!t&&!e)return void this.setState({isConfirmDeleteModalOpen:!0})}streets.service("readingManager").askBuryEntry(t,{updateRelatedEntries:!s})})),(0,n.Z)(this,"_onMarkAsReadClick",(e=>{const{entryId:t,hideRelatedEntries:s}=this.props,{entry:n}=this.state;e.stopPropagation(),n.isRead()?this.reader.askKeepEntryAsUnread(t,{updateRelatedEntries:!s}):this.reader.askMarkEntryAsRead(t,{updateRelatedEntries:!s})})),(0,n.Z)(this,"_onSaveClick",(e=>{const{entryId:t}=this.props,{entry:s}=this.state;e.stopPropagation(),this.reader.askToggleEntryQuicklisted(t),this.analytics.trackEvent("sharing","save"),this.analytics.trackEntryEvent(s,"save","feedly")})),(0,n.Z)(this,"_onTitleFocusChange",(e=>{this.setState({isTitleFocused:e})})),this._elementRef=i.createRef(),this.preferences=streets.service("preferences"),this.reader=streets.service("reader"),this.feedly=streets.service("feedly"),this.state={displayDensity:this.preferences.getPreference("displayDensity")||29,entry:this.reader.lookupEntry(e.entryId),imageUrl:null,isFocused:!1,isTitleFocused:!1,theme:this.feedly.getTheme()}}componentDidMount(){this.analytics=streets.service("analytics"),this.engagements=streets.service("engagements"),this.image=streets.service("image"),this.navigo=streets.service("navigo"),this.engagements.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this);const{entry:e}=this.state;e?(this.engagements.askRefreshEntryEngagement(e),this._updateVisualUrl()):this._updateEntry({refreshEngagement:!0})}componentDidUpdate(e){const{focusOnSelect:t,inlined:s,selected:n}=this.props,{current:i}=this._elementRef;t&&!e.selected&&n&&i&&i.focus&&i.focus(),s&&!e.inlined&&this.setState({isFocused:!1,isTitleFocused:!1})}componentWillUnmount(){this._elementRef=null,clearTimeout(this._blurTimeout),this._blurTimeout=null,this.engagements.unregisterObserver(this),this.preferences.unregisterObserver(this),this.reader.unregisterObserver(this),this.analytics=null,this.engagements=null,this.feedly=null,this.image=null,this.navigo=null,this.preferences=null,this.reader=null}onEntryMarkedAsRead(e,t){const{entryId:s}=this.props;e!==s||t&&!0===t.batch||this._updateEntry()}onEntryKeptUnread(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryAnnotationsChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryQuicklistStatusChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryRecentlyRead(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryEngagementChanged(e,t){const{entryId:s}=this.props;e===s&&(!t||t<20||this._updateEntry())}onEntryFeedbackChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryPriorityChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onPreferenceChanged(e){e===u.BF&&this.setState({theme:this.feedly.getTheme()},(()=>this._updateVisualUrl()))}render(){const{className:e,dashboardInfo:t,hideAuthor:s,hideBoardLabel:n,hideCVSSMetadata:r,hideMeme:o,hideRelatedEntries:l,highlightKeywords:h,inlined:u,isBeyondPowerSearch:p,isLeoPreview:m,isPowerSearch:g,metadataComponent:f,popoverOffsetParent:y,previewLayers:v,searchOptions:b,selected:E,showKeywordMarker:C,showSecondarySourceMarker:w,showSourceTitle:k,sourceType:_,streamId:M}=this.props;let{layout:S,navigation:I}=this.props;const{displayDensity:T,entry:N,imageUrl:L,isFocused:P,isTitleFocused:D}=this.state,{isAnnotated:A,isReadLater:O,isTag:x}=(0,d.Yg)(M),R=x&&!O&&!A,j={entry:N,hideAuthor:s,hideMeme:o,hideBoardLabel:n,hideCVSSMetadata:r,isLeoPreview:m,isPowerSearch:g,layout:S,popoverOffsetParent:y,previewLayers:v,showKeywordMarker:C,showSecondarySourceMarker:w,showSourceTitle:k,sourceType:_};if("u3"!==S&&S||(S="u4"),!N)return i.createElement("div",null);if(u)return i.createElement(ne.n,{entry:N,layout:S,selected:E});const F=this._showAsRead(),U=a()({entry:!0,"entry--focused":P,"entry--read":F,"entry--selected":E,"entry--title-focused":D,"entry--unread":!F,prioritized:N.isPrioritized(),quicklisted:N.isQuicklisted(),[S]:!0,["density-"+T]:!0,[e]:!!e});I||(I=N.getNavigation());const z=N.getId(),Z={"data-alternate-link":N.getBestAlternateLink(),"data-navigation":I};"visit"!==I?Z["data-inlineentryid"]=z:Z["data-visitentryid"]=z;let B=null;if(N.isContentRTL())switch(S){case"u0":B=i.createElement(xe,{ref:this._elementRef,className:U,dataAttributes:Z,density:T,entry:N,highlightKeywords:h,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:b,showDeleteOption:R,showSourceTitle:k});break;case"u5":B=i.createElement(me,{ref:this._elementRef,className:U,dataAttributes:Z,entry:N,hideRelatedEntries:l,highlightKeywords:h,imageUrl:L,isAnyPowerSearch:p||g,isLeoPreview:m,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:R});break;case"u6":B=i.createElement(ie,{ref:this._elementRef,className:U,dataAttributes:Z,entry:N,imageUrl:L,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:R});break;case"u7":B=i.createElement(pe,{ref:this._elementRef,className:U,dataAttributes:Z,entry:N,imageUrl:L,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:R});break;default:B=i.createElement(ge,{ref:this._elementRef,className:U,dataAttributes:Z,entry:N,hideRelatedEntries:l,highlightKeywords:h,imageUrl:L,isAnyPowerSearch:p||g,isLeoPreview:m,metadataComponent:f,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:b,showDeleteOption:R})}else switch(S){case"u0":B=i.createElement(Re,{ref:this._elementRef,className:U,dataAttributes:Z,density:T,entry:N,hideRelatedEntries:l,highlightKeywords:h,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:b,showDeleteOption:R,showSourceTitle:k});break;case"u5":B=i.createElement(W,{ref:this._elementRef,className:U,dataAttributes:Z,entry:N,hideRelatedEntries:l,highlightKeywords:h,imageUrl:L,isAnyPowerSearch:p||g,isLeoPreview:m,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:R});break;case"u6":B=i.createElement(ie,{ref:this._elementRef,className:U,dashboardInfo:t,dataAttributes:Z,entry:N,imageUrl:L,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:R});break;case"u7":B=i.createElement(pe,{ref:this._elementRef,className:U,dashboardInfo:t,dataAttributes:Z,entry:N,imageUrl:L,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,showDeleteOption:R});break;case"uFeatured":B=i.createElement(se,{ref:this._elementRef,dataAttributes:Z,entry:N,highlightKeywords:h,imageUrl:L,metadataProps:j});break;default:B=i.createElement(ue,{ref:this._elementRef,className:U,dashboardInfo:t,dataAttributes:Z,entry:N,hideRelatedEntries:l,highlightKeywords:h,imageUrl:L,isAnyPowerSearch:p||g,isCybersecurityTrend:M===c.A.cybersecurity,isLeoPreview:m,metadataComponent:f,metadataProps:j,onBlur:this._onBlur,onFocus:this._onFocus,onHideClick:this._onHideClick,onMarkAsReadClick:this._onMarkAsReadClick,onSaveClick:this._onSaveClick,onTitleFocusChange:this._onTitleFocusChange,searchOptions:b,showDeleteOption:R})}return i.createElement(i.Fragment,null,B,this._renderConfirmationModal())}_showAsRead(){const{isBeyondPowerSearch:e,isPowerSearch:t,streamId:s}=this.props,{entry:n}=this.state;return!(0,d.m2)(s)&&(e||t?n.isRecentlyRead():n.isRead())}_updateEntry(){let{refreshEngagement:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{entryId:t}=this.props;return this.reader.askLookupEntry(t).then((t=>{this.reader&&this.setState({entry:t},(()=>{this._updateVisualUrl(),e&&this.engagements.askRefreshEntryEngagement(t)}))}))}async _updateVisualUrl(){const{layout:e}=this.props,{entry:t,theme:s}=this.state;if(t&&(e===h.Ar.magazine||e===h.Ar.miniMagazine||e===h.Ar.cards||e===h.Ar.largeCards||e===h.Ar.featuredLarge)){const[n,i]=je[e],r=await this.image.askSecureVisualUrl(t,{layout:e,height:i,theme:s,width:n}),{entry:a}=this.state;a&&a.getId()===t.getId()&&this.setState({imageUrl:r})}}}Fe.propTypes={className:l().string,dashboardInfo:l().shape({dashboardName:l().string,section:l().string}),entryId:l().string.isRequired,focusOnSelect:l().bool,hideAuthor:l().bool,hideBoardLabel:l().bool,hideCVSSMetadata:l().bool,hideMeme:l().bool,hideRelatedEntries:l().bool,highlightKeywords:l().bool,inlined:l().bool,isBeyondPowerSearch:l().bool,isLeoPreview:l().bool,isPowerSearch:l().bool,layout:l().oneOf(["u0","u4","u5","u6","u7","uFeatured","u100"]),metadataComponent:l().elementType,navigation:l().oneOf(["slider",void 0]),popoverOffsetParent:l().shape({current:l().instanceOf(Element)}),previewLayers:l().arrayOf(l().object),searchOptions:l().shape({layers:l().arrayOf(p.nJ)}),selected:l().bool,showKeywordMarker:l().bool,showSecondarySourceMarker:l().bool,showSourceTitle:l().bool,sourceType:l().string,streamId:l().string},Fe.defaultProps={className:void 0,dashboardInfo:void 0,focusOnSelect:!1,hideAuthor:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,hideMeme:!1,hideRelatedEntries:!1,highlightKeywords:!1,inlined:!1,isBeyondPowerSearch:!1,isLeoPreview:!1,isPowerSearch:!1,layout:"u4",metadataComponent:void 0,navigation:void 0,popoverOffsetParent:void 0,previewLayers:[],searchOptions:{},selected:!1,showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0,sourceType:void 0,streamId:""}},5540:(e,t,s)=>{"use strict";s.d(t,{R:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);class l extends n.Component{render(){const{className:e,engagement:t,engagementRate:s,hideFlameIcon:i,isHot:a}=this.props;if(!t||t<20)return null;const o=s>2?Math.floor(s)+" times more popular than usual":"metric showing how popular this article is";return n.createElement("span",{className:r()("EntryEngagement",e,{"EntryEngagement--hot":a,"EntryEngagement--no-icon":i}),title:o},this._renderTextContent())}_renderTextContent(){const{engagement:e}=this.props;let t=e;return e>1e3?t=Math.floor(e/1e3)+"K":e>500?t="500+":e>400?t="400+":e>300?t="300+":e>200?t="200+":e>100&&(t="100+"),t}}l.propTypes={className:o().string,engagement:o().number.isRequired,engagementRate:o().number,hideFlameIcon:o().bool,isHot:o().bool},l.defaultProps={className:"",engagementRate:-1,hideFlameIcon:!1,isHot:!1}},56352:(e,t,s)=>{"use strict";s.d(t,{y:()=>m});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);const l=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13.077 2.5H6.923C5.861 2.5 5 3.384 5 4.474v12.63l.005.067c.042.257.32.41.557.284l4.443-2.366 4.433 2.366a.385.385 0 0 0 .562-.35V4.474c0-1.09-.861-1.974-1.923-1.974Z",fill:"currentColor",fillRule:"nonzero"}))}));var c=s(76730),d=s(56816),h=s(68130),u=s(99175),p=s(53670);function m(e){let t,{className:s,darkBackground:i,onSaveClick:a,saved:o,small:m}=e;if(!streets.getUserId())return null;if(o){const e=m?l:c.Z;t=n.createElement(e,{color:"accent"})}else{const e=m?d.Z:h.Z;t=n.createElement(e,{color:i?"white":"black"})}return n.createElement(u.d,{content:"Read Later"},n.createElement(p.z,{"aria-label":"Read Later",className:r()("EntryReadLaterButton",s,{"EntryReadLaterButton--dark":i,"EntryReadLaterButton--saved":o}),onClick:a,icon:t,importance:""}))}m.propTypes={className:o().string,darkBackground:o().bool,onSaveClick:o().func,saved:o().bool.isRequired,small:o().bool},m.defaultProps={className:void 0,darkBackground:!1,onSaveClick:void 0,small:!1}},51899:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(8353),c=s(763);class d extends n.Component{constructor(e){super(e),this._entryControlHolder=n.createRef(),this._createControl(e.entry.getId(),e.layout)}componentDidMount(){const{selected:e}=this.props;this.entryControl&&(this.entryControl.setPart(this._entryControlHolder.current),this.entryControl.display(e))}componentDidUpdate(e){const{entry:t,layout:s,selected:n}=this.props;e.entry.getId()!==t.getId()&&(this._destroyControl(),this._createControl(t.getId(),s),this.entryControl&&(this.entryControl.setPart(this._entryControlHolder.current),this.entryControl.display(n)))}componentWillUnmount(){this._entryControlHolder=null,this._destroyControl()}render(){const{entry:e,layout:t,selected:s}=this.props;return n.createElement("div",{id:e.getId()+"_inlineFrame","aria-label":s?"Opened Article":null,className:r()("inlineFrame",{"inlineFrame--selected":s,[t]:!0}),"data-uninlineentryid":e.getId(),onClick:()=>{streets.service("reader").askMarkEntryAsRead(e.getId(),{batch:!1,buried:!1,inlined:!0,skipKeptUnread:!0})},tabIndex:"-1"},n.createElement(c.Z,{className:"close-button","data-uninlineentryid":e.getId()}),n.createElement("div",{ref:this._entryControlHolder}))}_createControl(e,t){this.entryControl=new l.c,this.entryControl.setPreferences(streets.service("preferences")),this.entryControl.setProfile(streets.service("profile")),this.entryControl.setReader(streets.service("reader")),this.entryControl.setSigns(streets.service("signs")),this.entryControl.setRouter(streets.service("router")),this.entryControl.setAnalytics(streets.service("analytics")),this.entryControl.setDots(streets.service("dots")),this.entryControl.setLeo(streets.service("leo")),this.entryControl.setMicrosessions(streets.service("microsessions")),this.entryControl.setLayout(t),this.entryControl.setEntryId(e)}_destroyControl(){this.entryControl&&(this.entryControl.destroy(),this.entryControl=null)}}d.propTypes={entry:o().object.isRequired,layout:o().oneOf(["u0","u4","u5","u100"]),selected:o().bool},d.defaultProps={layout:"u4",selected:!1}},41786:(e,t,s)=>{"use strict";s.d(t,{w:()=>m});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(3167),c=s(24389),d=s(60454);function h(e){let{referenceEntry:t}=e;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"container center"},n.createElement(c.k,{entryId:t.getId(),layout:"uFeatured",hideAuthor:!0}),n.createElement(d.p,{entry:t})))}h.propTypes={referenceEntry:o().shape({getId:o().function}).isRequired};var u=s(85902);class p extends n.PureComponent{constructor(e){super(e),this.state={entryId:e.initialEntryId,isRead:e.initialIsRead}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryKeptUnread(e){const{entryId:t}=this.state;e===t&&this.setState({isRead:!1})}onEntryMarkedAsRead(e){const{entryId:t}=this.state;e===t&&this.setState({isRead:!0})}render(){const{sourceTitle:e}=this.props,{entryId:t,isRead:s}=this.state,i=this._renderCroppedTitle(e);return n.createElement("div",{className:r()("RelatedEntries__source RelatedEntries__source--clickable",{"RelatedEntries__source--dark":!s}),"data-inlineentryid":t,"data-navigation":"slider",title:e},i)}_renderCroppedTitle(e){if(!e)return null;const t=(0,u.Qc)(e,":-");return t.length>20?"".concat(t.slice(0,20),"..."):t}}function m(e){let{entry:t,isCompact:s,relatedEntriesShown:i}=e;if("no"===streets.service("preferences").getPreference(l.xV))return null;const a=t.listRelatedEntries();if(!a||!a.length)return null;const o=s?[]:a.slice(0,i),c=o.length-1,d=a.length-o.length;return n.createElement("div",{className:r()("RelatedEntries",{"RelatedEntries--compact":s})},n.createElement("span",{className:"metadata"},o.length>0&&"Also in ",o.map(((e,t)=>{const{entryId:s,feedTitle:i,unread:r}=e;return n.createElement(n.Fragment,{key:s},n.createElement(p,{initialEntryId:s,initialIsRead:!r,sourceTitle:i}),0===d&&t===c?" ":", ")})),d>0&&n.createElement("span",{className:r()({"RelatedEntries__more--compact":s}),onClick:e=>{e&&e.stopPropagation(),streets.service("slider").addSlide(h,{referenceEntry:t})}},"+",d," sources")))}p.propTypes={initialEntryId:o().string.isRequired,initialIsRead:o().bool,sourceTitle:o().string.isRequired},p.defaultProps={initialIsRead:!1},m.propTypes={entry:o().shape({listRelatedEntries:o().func}).isRequired,isCompact:o().bool,relatedEntriesShown:o().number},m.defaultProps={isCompact:!1,relatedEntriesShown:2}},79199:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var n=s(60216);const i=n.PropTypes.shape({getCleanSourceTitle:n.PropTypes.func,getDecoration:n.PropTypes.func,getEngagement:n.PropTypes.func,getEngagementRate:n.PropTypes.func,getFeaturedMeme:n.PropTypes.func,getFeedback:n.PropTypes.func,getFeedId:n.PropTypes.func,getFirstAlertSourceInfo:n.PropTypes.func,getId:n.PropTypes.func,getPreviewSearchTerms:n.PropTypes.func,getSourceAlternateLink:n.PropTypes.func,getSourceTitle:n.PropTypes.func,isContentRTL:n.PropTypes.func,isHot:n.PropTypes.func,isPrioritized:n.PropTypes.func,isQuicklisted:n.PropTypes.func,listAuthors:n.PropTypes.func,listEnterpriseTags:n.PropTypes.func,listPersonalTags:n.PropTypes.func,metadata:n.PropTypes.shape({hasLinkedArticle:n.PropTypes.bool,isRedditFeed:n.PropTypes.bool,isSavedToPocket:n.PropTypes.bool,isTwitterFeed:n.PropTypes.bool,prettyTerm:n.PropTypes.string,redditPost:n.PropTypes.shape({subredditName:n.PropTypes.string}),tweet:n.PropTypes.shape({isRetweet:n.PropTypes.bool,twitterFeedAuthorHandle:n.PropTypes.string})}),showCVSS:n.PropTypes.func})},58074:(e,t,s)=>{"use strict";s.d(t,{f:()=>le});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(11459),c=s(44406),d=s(3167),h=s(37225),u=s(47169),p=s(99165),m=s(31245),g=s(35278),f=s(24389);const y=["density","entryId","layout","showSourceTitle","showKeywordMarker","selected","inlined","hideMeme","hideBoardLabel"];class v extends n.Component{shouldComponentUpdate(e){for(let t=0;t<y.length;t+=1){const s=y[t];if(e[s]!==this.props[s])return!0}return!1}render(){const{entryRenderer:e}=this.props;return e(this.props)}}v.propTypes={dashboardInfo:o().shape({dashboardName:o().string,section:o().string}),demo:o().bool,density:o().oneOf(d.fM),entryId:o().string.isRequired,entryRenderer:o().func,hideAuthor:o().bool,hideBoardLabel:o().bool,hideCVSSMetadata:o().bool,hideMeme:o().bool,highlightKeywords:o().bool,inlined:o().bool,isBeyondPowerSearch:o().bool,isLeoPreview:o().bool,isPowerSearch:o().bool,layout:o().oneOf(l.tv),metadataComponent:o().elementType,navigation:o().oneOf(["slider",void 0]),popoverOffsetParent:o().shape({current:o().instanceOf(Element)}),previewLayers:o().arrayOf(o().object),searchOptions:o().shape({layers:o().arrayOf(h.nJ)}),selected:o().bool,showKeywordMarker:o().bool,showSourceTitle:o().bool,streamId:o().string},v.defaultProps={dashboardInfo:void 0,demo:!1,density:d.AM.comfortable,entryRenderer:function(e){return n.createElement(f.k,e)},hideAuthor:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,hideMeme:!1,highlightKeywords:!1,inlined:!1,isBeyondPowerSearch:!1,isLeoPreview:!1,isPowerSearch:!1,layout:"u4",metadataComponent:void 0,navigation:void 0,popoverOffsetParent:void 0,previewLayers:[],searchOptions:{},selected:!1,showKeywordMarker:!1,showSourceTitle:!0,streamId:""};var b=s(763),E=s(74221),C=s(28514),w=s(17771),k=s(53670),_=s(2772),M=s(44205),S=s(62553),I=s(19070),T=s(62083),N=s(84791),L=s(89556),P=s(78075);const D=[{id:"unhappy",scoreLabel:"Unhappy",score:2,animation:L},{id:"disappointed",scoreLabel:"Disappointed",score:4,animation:S},{id:"justok",scoreLabel:"Just Ok",score:6,animation:T},{id:"happy",scoreLabel:"Happy",score:8,animation:I},{id:"loveit",scoreLabel:"Love It",score:10,animation:N}];class A extends n.Component{constructor(e){super(e),(0,u.Z)(this,"_onContactSupport",(e=>{const{selectedScore:t}=this.state,{feature:s,streamId:n}=this.props;(0,C.$L)()?this.helpscout.open({prefill:{subject:e},sessionData:{leoSatisfactionScore:t,feature:s,streamId:n}}):window.$B.core.application.composeMail({ishtml:!1,to:[streets.hasBusinessAccess()?"teams@feedly.com":"pro@feedly.com"],subject:e,body:"\n\n\n--\nuserId: ".concat(streets.getUserId()," / ").concat((0,C.gn)()?"iOS":"Android"," / score: ").concat(t," / feature: ").concat(s," / streamId: ").concat(n)})})),(0,u.Z)(this,"_onCloseClick",(()=>{this.setState({isClosed:!0})})),(0,u.Z)(this,"_onMouseEnterScoreOption",(e=>{this.setState({scoreAnimationStartedId:e.id})})),(0,u.Z)(this,"_onMouseLeaveScoreOption",(()=>{this.setState({scoreAnimationStartedId:null})})),(0,u.Z)(this,"_onScoreClick",(e=>{const{feature:t}=this.props;this.leo.askSaveSatisfactionScore(e,this._getStreamInfo(),t),this.preferences.setPreference("lastLeoFeedbackDate",Date.now()),this.setState({selectedScore:e})})),this.state={isClosed:!1,selectedScore:null,scoreAnimationStartedId:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.helpscout=streets.service("helpscout"),this.leo=streets.service("leo"),this.preferences=streets.service("preferences")}componentWillUnmount(){this.enterprise=null,this.helpscout=null,this.leo=null,this.preferences=null}_renderScoreOptionEmoji(e){const{scoreAnimationStartedId:t}=this.state;return n.createElement("div",{className:"LeoSatisfactionPrompt__emoji"},n.createElement(w.V,{path:e.animation,play:t===e.id,goTo:0}))}render(){const{isClosed:e,selectedScore:t}=this.state,{layout:s}=this.props;if(!e){if(null===t)return n.createElement("div",{className:r()("LeoSatisfactionPrompt LeoSatisfactionPrompt__score",{"LeoSatisfactionPrompt--magazine":s===l.Ar.magazine})},n.createElement(_.H2,{appearance:"h3",className:"LeoSatisfactionPrompt__heading",light:!0},"How satisfied were you with Leo these past few months?"),D.map((e=>n.createElement("div",{key:e.id,className:"LeoSatisfactionPrompt__option",onClick:()=>{this._onScoreClick(e.score)},onMouseEnter:()=>{this._onMouseEnterScoreOption(e)},onMouseLeave:this._onMouseLeaveScoreOption},this._renderScoreOptionEmoji(e),(0,C.$L)()&&n.createElement("div",{className:"LeoSatisfactionPrompt__score-labels"},n.createElement(M.x,{color:"tertiary",size:"small",tagName:"div"},e.scoreLabel))))),n.createElement(k.z,{className:"LeoSatisfactionPrompt__close",onClick:this._onCloseClick,importance:"tertiary",icon:n.createElement(b.Z,null)}));if(t<=6)return this._renderWrittenFeedback("negative");if(t>6)return this._renderWrittenFeedback("positive")}return null}_renderWrittenFeedback(e){const{layout:t}=this.props;let s,i,a;return"positive"===e?(s="Thanks for the feedback. Do you have any feature requests or suggestions that would make Leo even better for you?",i="SUGGEST A FEATURE",a="New Leo feature request"):"negative"===e&&(s="Sorry it's been disappointing. Can you tell us a little more about what's wrong so we can help tune your Leo?",i="SUGGEST IMPROVEMENTS",a="Need help training Leo"),n.createElement("div",{className:r()("LeoSatisfactionPrompt--feedback LeoSatisfactionPrompt form",{"LeoSatisfactionPrompt--magazine":t===l.Ar.magazine})},n.createElement("div",{className:"LeoSatisfactionPrompt__avatar"},n.createElement("img",{className:"LeoSatisfactionPrompt__avatar-image",alt:"",src:P})),n.createElement("div",{className:"LeoSatisfactionPrompt__response"},n.createElement(_.H2,{appearance:"h3",className:" LeoSatisfactionPrompt__response-text m-t-0",light:!0},s),n.createElement(k.z,{className:"LeoSatisfactionPrompt__contact",label:i,onClick:()=>{this._onContactSupport(a)}})),n.createElement(k.z,{className:"LeoSatisfactionPrompt__close",onClick:this._onCloseClick,importance:"tertiary",icon:n.createElement(b.Z,null)}))}_getStreamInfo(){const{streamId:e}=this.props,{isPriority:t}=(0,E.Yg)(e);return t?{priorityId:e}:{streamId:e}}}A.propTypes={feature:o().string,layout:o().oneOf(l.tv).isRequired,streamId:o().string.isRequired},A.defaultProps={feature:m.z1.priority};var O=s(74296),x=s(65698),R=s(7761),j=s(85902),F=s(56732),U=s(81197),z=s(72403),Z=s(66772),B=s(69323);const H=Object.freeze({negative:"dismiss",positive:"follow"}),Y=Object.freeze({likeBoard:"likeBoard",muteFilter:"muteFilter",security:"security"});class W extends n.Component{constructor(e){super(e),(0,u.Z)(this,"_onFeedbackClick",(e=>{const{data:{id:t}}=this.props;this.suggestions.askSaveSuggestionFeedback({feedback:e,id:t}),streets.service("preferences").setPreference("lastLeoSuggestionDate",Date.now()),e===H.negative&&(streets.service("signs").showMessage("Feedback collected. Thank you!"),this.setState({hasFeedback:!0}))})),(0,u.Z)(this,"_onTrainLeoClick",(()=>{const{data:{boardId:e,id:t,label:s,streamId:n,term:i,type:r}}=this.props;r===Y.likeBoard?this.slider.addSlide(z.q,{initialPriority:{layers:[{[R.y9.likeBoard]:[{id:e,label:s}],type:R.ur.likeBoard}],streamIds:[n]},viaSuggestion:{id:t}}):r===Y.muteFilter?this.slider.addSlide(U.K,{initialFilter:{streamId:n,term:i},viaSuggestion:{id:t}}):r===Y.security&&this.slider.addSlide(z.q,{initialPriority:{layers:[{[R.y9.security]:[R.$R.high],type:R.ur.security}],streamIds:[n]},viaSuggestion:{id:t}}),this._onFeedbackClick(H.positive)})),this.state={hasFeedback:!1,isLoading:!1}}componentDidMount(){this.slider=streets.service("slider"),this.suggestions=streets.service("suggestions")}componentWillUnmount(){this.slider=null,this.suggestions=null}render(){const{hasFeedback:e}=this.state,{layout:t,data:{type:s}}=this.props;return e||!Y[s]?null:n.createElement("div",{className:"LeoSuggestionPrompt--".concat(t)},t===l.Ar.magazine&&n.createElement(n.Fragment,null,n.createElement(F.Q,{className:"LeoSuggestionPrompt__image",src:B,size:"5"}),n.createElement("div",null,this._renderLeoSuggestionContent())),t===l.Ar.titleOnly&&this._renderLeoSuggestionContent())}_renderLeoSuggestionContent(){const{layout:e}=this.props,{isLoading:t}=this.state;return n.createElement(n.Fragment,null,n.createElement(M.x,{className:"LeoSuggestionPrompt__message--".concat(e," m-r-1"),size:e===l.Ar.titleOnly?"small":"base"},this._renderMessage()),n.createElement(k.z,{className:"LeoSuggestionPrompt__train-leo-button",color:"accent",disabled:t,importance:"secondary",label:"Yes, train Leo",loading:t,onClick:this._onTrainLeoClick,size:"small"}),n.createElement(k.z,{disabled:t,importance:"secondary",label:"No",loading:t,onClick:()=>{this._onFeedbackClick(H.negative)},size:"small"}),n.createElement(Z.r,{href:"https://blog.feedly.com/leo/",newWindow:!0,title:"Learn more about Leo"},n.createElement(O.Z,{importance:"secondary"})))}_renderMessage(){const{data:{label:e,term:t,type:s}}=this.props;if(s===Y.likeBoard){const t=R.Pr.likeBoard.icon;return n.createElement(n.Fragment,null,"Would you like Leo to read this feed and prioritize the articles you are most likely to save in your"," ",n.createElement(t,{className:"LeoSuggestionPrompt__icon"}),n.createElement("span",{className:"LeoSuggestionPrompt__label LeoSuggestionPrompt--left-adjusted"},e)," ","board?")}if(s===Y.muteFilter){const e=(0,x.mm)(t);return n.createElement(n.Fragment,null,"There are a lot of articles about"," ",n.createElement(e,{className:"LeoSuggestionPrompt__icon"}),n.createElement("span",{className:"LeoSuggestionPrompt__label LeoSuggestionPrompt--left-adjusted"},(0,j.kC)(t.label))," ","in this feed, would you like Leo to mute them?")}return s===Y.security?n.createElement(n.Fragment,null,"Would you like Leo to read this feed and prioritize"," ",n.createElement("span",{className:"LeoSuggestionPrompt__label"},"high-risk vulnerabilities"),"?"):null}}W.propTypes={data:o().shape({type:o().string.isRequired,streamId:o().string.isRequired,id:o().string.isRequired,affinity:o().string,boardId:o().string,label:o().string,term:o().shape({id:o().string,label:o().string})}),layout:o().oneOf(l.tv).isRequired,streamId:o().string.isRequired},W.defaultProps={data:{},layout:"u4"};var q=s(13079),V=(s(42566),s(56352)),Q=s(99149),G=s(42142),K=s(90260);function J(e){let{data:t,onClose:s,onUpgrade:i}=e;return n.createElement(Q.d,{className:"SponsorDrawer",onClose:s},n.createElement(G.O,null,"The Faster Feedly Sponsorship",n.createElement(K.h,null,"We would like to thank ",t.company," for sponsoring Feedly and for making your Feedly experience better."),n.createElement(K.h,null,"Want to remove this module from your feed? Back Feedly directly via Feedly Pro.")),n.createElement(k.z,{className:"full-width",onClick:i,importance:"primary",label:"Learn more"}))}J.propTypes={data:o().shape({company:o().string}),onClose:o().func,onUpgrade:o().func},J.defaultProps={data:{},onClose:()=>{},onUpgrade:()=>{}};s(20785),s(13626),s(63166);var X=s(99730),$=s(9990),ee=s(70542);const te="https://blog.feedly.com/ads",se=Object.freeze({click:"click",impression:"impression"});class ne extends n.Component{constructor(e){var t;super(e),t=this,(0,u.Z)(this,"_renderSponsorDrawer",(()=>{const{data:e,isSponsorDrawerOpen:t}=this.state;return t?n.createElement(J,{data:e,onClose:this._onCloseSponsorDrawer,onUpgrade:this._onMobileUpgrade}):null})),(0,u.Z)(this,"_onOpenSponsorDrawer",(()=>{this.setState({isSponsorDrawerOpen:!0})})),(0,u.Z)(this,"_onCloseSponsorDrawer",(()=>{this.setState({isSponsorDrawerOpen:!1})})),(0,u.Z)(this,"_onMobileUpgrade",(()=>{this.tabsManager.askOpenNewPage("premium/pro"),this._onCloseSponsorDrawer()})),(0,u.Z)(this,"_onOpenTarget",(()=>{const{data:e}=this.state;this._onTrackClick(),window.open(e.statlink,"_blank")})),(0,u.Z)(this,"_onTrackClick",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se.click;const{data:s}=t.state;if(!s||!s.statlink)return;const n=s.company||"no-company",i=s.zonekey||"no-zone";streets.service("analytics").trackAdPageview("bsa-inlined.v1/".concat(i,"/").concat(e,"/").concat(n))})),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this.state={data:e.data,displayDensity:this.preferences.getPreference("displayDensity")||29,isSponsorDrawerOpen:!1}}componentDidMount(){this.analytics=streets.service("analytics"),this.bsa=streets.service("bsa"),this.feeds=streets.service("feeds"),this.tabsManager=streets.service("tabsManager"),this.bsa.registerObserver(this),this._onTrackClick(se.impression)}componentWillUnmount(){this.analytics=null,this.bsa.unregisterObserver(this),this.preferences.unregisterObserver(this),this.bsa=null,this.feeds=null,this.preferences=null,this.tabsManager=null}onBSALoaded(e){const{data:t}=this.state;t||this.setState({data:e})}onPreferenceChanged(e){"displayDensity"===e&&this.setState({displayDensity:e})}render(){const{layout:e,showSourceTitle:t}=this.props,{data:s,displayDensity:i}=this.state;if(!s)return null;const{company:a,image:o,sub:c,clickUrl:d,header:h}=s;if(!a||!d)return null;const u=n.createElement(n.Fragment,null,n.createElement("span",{className:"SponsorPrompt__company sponsoredBy",onClick:this._onOpenTarget},"by ",a),n.createElement("div",{className:"SponsorPrompt__sponsored",onClick:()=>{window.open(te,"_blank")}},"sponsored"));let p;t&&(p=n.createElement(Z.r,{href:d,newWindow:!0,className:r()("entry__source",{"entry__source--u0":e===l.Ar.titleOnly})},a));const m=r()("entry","unread",{[e]:!0,["density-"+i]:!0,MobileEntry:!1});switch(e){case l.Ar.titleOnly:return n.createElement("div",{className:m,"data-u":"0"},n.createElement(V.y,{className:"EntryReadLaterButton--density-".concat(i),saved:!1}),t&&n.createElement("div",{className:"entry__meta-column"},p),n.createElement("div",{className:"engagement-container"},n.createElement("span",{className:"SponsorPrompt__engagement engagement no-icon"},"∞")),n.createElement("div",{className:"content"},n.createElement(Z.r,{className:"entry__title",href:d,onClick:this._onTrackClick,newWindow:!0},h),n.createElement(Z.r,{className:"summary",href:d,onClick:this._onTrackClick,newWindow:!0},c)),n.createElement(Z.r,{className:"SponsorPrompt__sponsored ago",href:te,newWindow:!0},"Sponsored"),n.createElement("div",{className:"CondensedToolbar"},this._renderExplainDropdown(!1)));case l.Ar.cards:return n.createElement("div",{className:r()(m),"data-u":"5"},n.createElement("div",{className:"visual-container"},n.createElement(Z.r,{className:"SponsorPrompt__visual-link",href:d,newWindow:!0,onClick:this._onTrackClick},n.createElement(ee.u,{url:o}),n.createElement("div",{className:"visual-overlay"}))),n.createElement("div",{className:"content"},n.createElement(Z.r,{className:"entry__title",href:d,newWindow:!0},h),n.createElement("div",{className:"metadata"},u),n.createElement("div",{className:"summary",onClick:this._onOpenTarget},c)));case l.Ar.magazine:default:return n.createElement("div",{className:r()(m),"data-u":"4"},n.createElement(Z.r,{className:"visual",href:d,onClick:this._onTrackClick,newWindow:!0},n.createElement(ee.u,{className:"m-r-0",url:o})),n.createElement("div",{className:"content"},n.createElement(Z.r,{className:"entry__title",href:d,onClick:this._onTrackClick,newWindow:!0},h),this._renderExplainDropdown(!1),n.createElement("div",{className:"metadata"},u),n.createElement("div",{className:"summary",onClick:this._onOpenTarget},c)))}}_renderExplainDropdown(e){const{layout:t}=this.props,{data:s}=this.state,i=n.createElement("div",{className:"SponsorPrompt__popover-thanks"},n.createElement($.H3,{className:"m-t-0"},"The Faster Feedly Sponsorship"),n.createElement("p",null,"We would like to thank ",s.company," for sponsoring Feedly and for making your Feedly experience better."),n.createElement("p",null,"Want to remove this module? Back Feedly directly via",n.createElement(Z.r,{className:"m-l-h",primary:!0,uri:"pro/thanks"},"Feedly Pro+"),"."),n.createElement("p",{className:"m-b-0"},"Want to showcase your products or services?",n.createElement(Z.r,{className:"m-l-h",href:"https://discover.buysellads.com/tech/feedly",primary:!0},"Learn more"),"."));return n.createElement(X.L,{align:"right",caret:!0,className:r()("CondensedToolbar__button SponsorPrompt__close",{"SponsorPrompt__close--u4":t===l.Ar.magazine,dark:e}),float:"right",icon:n.createElement(b.Z,null),importance:"tertiary",menu:i,title:"Thanks to"})}}ne.propTypes={data:o().shape({clickUrl:o().string,company:o().string,header:o().string,image:o().string,sub:o().string}),layout:o().oneOf(Object.values(l.Ar)),showSourceTitle:o().bool},ne.defaultProps={data:null,layout:"u4",showSourceTitle:!1};const ie=Object.freeze({biopharmaUpgrade:q.X,leoSatisfactionPrompt:A,leoSecurityUpgrade:q.X,leoSecurityUpgradeMalware:q.X,leoSecurityUpgradeThreatActors:q.X,leoSecurityUpgradeVulns:q.X,likeBoard:W,muteFilter:W,security:W,sponsor:ne});class re extends n.Component{constructor(e){super(e),(0,u.Z)(this,"_renderEntry",((e,t)=>{const{dashboardInfo:s,density:i,entryRenderer:r,focusSelectedEntry:a,hideAuthor:o,hideBoardLabel:c,hideCVSSMetadata:d,hideMeme:h,hideRelatedEntries:u,highlightKeywords:p,inlinedEntryId:m,isBeyondPowerSearch:g,isLeoPreview:f,isPowerSearch:y,layout:b,metadataComponent:E,navigation:C,popoverOffsetParent:w,previewLayers:k,searchOptions:_,selectedEntryId:M,showKeywordMarker:S,showSecondarySourceMarker:I,showSourceTitle:T,streamId:N}=this.props,L=e.getId(),P=M===L;return n.createElement(v,{key:L,dashboardInfo:s,demo:this._showSwipeDiscovery()&&0===t,density:i,entryId:L,entryRenderer:r,focusOnSelect:P&&a,hideAuthor:o,hideBoardLabel:c,hideCVSSMetadata:d,hideMeme:h,hideRelatedEntries:u,highlightKeywords:p,inlined:m===L||b===l.Ar.fullArticle,isBeyondPowerSearch:g,isLeoPreview:f,isPowerSearch:y,layout:b,metadataComponent:E,navigation:C,popoverOffsetParent:w,previewLayers:k,searchOptions:_,selected:P,showKeywordMarker:S,showSecondarySourceMarker:I,showSourceTitle:T,streamId:N})})),this.preferences=streets.service("preferences")}shouldComponentUpdate(e,t){return Object.keys(re.propTypes).some((t=>e[t]!==this.props[t]))}componentWillUnmount(){this.preferences=null}render(){const{entries:e,showDateHeadings:t}=this.props;let s=t?this._renderEntriesWithDateHeadings():e.map(this._renderEntry);return s=this._insertPrompt(s),s}_renderEntriesWithDateHeadings(){const{dateHeadingComponent:e,entries:t,headingField:s,previousHeading:i}=this.props;let r=i;return t.reduce(((t,i,a)=>{const o=i.getDateHeading(s),l=e;return o!==r&&(r=o,t.push(n.createElement(l,{appearance:"h4",key:"headingFor"+o,className:"EntryList__heading"},o))),t.push(this._renderEntry(i,a)),t}),[])}_showSwipeDiscovery(){const{swipeDiscovery:e}=this.props;if(!streets.getUserId()||!e)return!1;let t=this.preferences.getPreference(d.M_);const s="feedly_backup_".concat(d.M_),n=(0,g.$8)(s);if("yes"!==t&&"yes"===n){streets.service("preferences").setPreference(d.M_,"yes",null,!0),t="yes"}const i="yes"!==t;if(i){streets.service("preferences").setPreference(d.M_,"yes",null,!0),(0,g.If)(s,"yes")}return i}_insertPrompt(e){const{displayMode:t,layout:s,prompt:i,showDateHeadings:r,showSourceTitle:a,showPrompt:o,streamId:d}=this.props;if(!o||!i||!i.type||i.type===m.yQ.leoSatisfactionPrompt&&e.length<=7)return e;let h=i.position;i.type.includes("Upgrade")&&(h=0);const u=[...e],g=ie[i.type];if(!g)return u;const f={description:m.rr[i.type],hideable:!0,id:i.id},y={biopharmaUpgrade:{...f,feature:p.tp.Biopharma},leoSatisfactionPrompt:{layout:s,streamId:d,feature:i.feature},leoSecurityUpgrade:{...f,feature:p.tp.LeoSecurity},leoSecurityUpgradeMalware:{...f,feature:p.tp.LeoSecurity},leoSecurityUpgradeThreatActors:{...f,feature:p.tp.LeoSecurity},leoSecurityUpgradeVulns:{...f,feature:p.tp.LeoSecurity},likeBoard:{data:i,layout:s,streamId:d},muteFilter:{data:i,layout:s,streamId:d},security:{data:i,layout:s,streamId:d},sponsor:{data:i.data,layout:s,showSourceTitle:a,streamId:d}};t===c.DC.tablet&&l.Ar.cards;if(i.type===m.yQ.sponsor&&s===l.Ar.cards)return 3!==e.length&&u.splice(2,0,n.createElement(g,Object.assign({key:i.type},y[i.type]))),u;let v=0,b=0;if(r)for(let n=0;n<u.length;n+=1){const e=u[n];if(b>h)break;"h4"===e.type?v+=1:b+=1}return u.splice(h+v,0,n.createElement(g,Object.assign({key:i.type},y[i.type]))),u}}re.propTypes={dashboardInfo:o().shape({dashboardName:o().string,section:o().string}),dateHeadingComponent:o().func,density:o().oneOf(d.fM),displayMode:o().oneOf(Object.values(c.DC)),entries:o().arrayOf(o().object),entryRenderer:o().func,focusSelectedEntry:o().bool,headingField:o().oneOf(["action","published"]),hideAuthor:o().bool,hideBoardLabel:o().bool,hideCVSSMetadata:o().bool,hideMeme:o().bool,hideRelatedEntries:o().bool,highlightKeywords:o().bool,inlinedEntryId:o().string,isBeyondPowerSearch:o().bool,isLeoPreview:o().bool,isPowerSearch:o().bool,layout:o().oneOf(l.tv),leoUpgradeDate:o().number,metadataComponent:o().elementType,navigation:o().oneOf(["slider",void 0]),popoverOffsetParent:o().shape({current:o().instanceOf(Element)}),previewLayers:o().arrayOf(o().object),previousHeading:o().string,prompt:o().shape({data:o().object,feature:o().string,id:o().string,position:o().number,type:o().string.isRequired}),searchOptions:o().shape({layers:o().arrayOf(h.nJ)}),selectedEntryId:o().string,showDateHeadings:o().bool,showKeywordMarker:o().bool,showPrompt:o().bool,showSecondarySourceMarker:o().bool,showSourceTitle:o().bool,streamId:o().string,swipeDiscovery:o().bool},re.defaultProps={dashboardInfo:void 0,dateHeadingComponent:_.H2,density:d.AM.comfortable,displayMode:void 0,entries:[],entryRenderer:void 0,focusSelectedEntry:!1,headingField:"published",hideAuthor:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,hideMeme:!1,hideRelatedEntries:!1,highlightKeywords:!1,inlinedEntryId:void 0,isBeyondPowerSearch:!1,isLeoPreview:!1,isPowerSearch:!1,layout:l.Ar.magazine,leoUpgradeDate:void 0,metadataComponent:void 0,navigation:void 0,popoverOffsetParent:void 0,previewLayers:[],previousHeading:void 0,prompt:void 0,searchOptions:{},selectedEntryId:void 0,showDateHeadings:!1,showKeywordMarker:!1,showPrompt:!1,showSecondarySourceMarker:!1,showSourceTitle:!1,streamId:void 0,swipeDiscovery:!1};var ae=s(23005);function oe(e,t){const s=e.entries[e.entries.length-1];return s?s.getDateHeading(t):null}class le extends n.Component{static getDerivedStateFromProps(e,t){const{entries:s,headingField:n,layout:i,streamVersion:r}=e,{lastCacheKey:a}=t,o="".concat(r,"-").concat(i),c=e.layout===l.Ar.cards&&!0;let d=t.chunks||[];(o!==a||c||function(e,t){return!(!e||0===e.length||0===e[0].entries.length||t.length<2)&&e[0].entries[0].getId()===t[1].getId()}(d,s))&&(d=[]);const{deletions:h,additions:u,startOfNextChunk:p}=function(e,t){let s=0,n=0;return e.forEach((e=>{let i;e.entries.forEach(((r,a)=>{t[s]&&r.getId()===t[s].getId()?s+=1:(i||(i=e.entries.slice(0)),i.splice(a,1),n+=1)})),i&&(e.entries=i)})),{deletions:n,additions:t.length-s,startOfNextChunk:s}}(d,s);if(o===a&&!(h>0||u>0))return null;if(h){const e=d.findIndex((e=>{let{entries:t}=e;return!t||!t.length}));if(e>-1){const t=d[e+1],s=d[e-1];t&&(t.previousHeading=s?oe(s,n):null),d.splice(e,1)}}return u&&d.push({key:"chunk-".concat(d.length),entries:s.slice(p),previousHeading:d.length>0?oe(d[d.length-1],n):null}),{chunks:d,lastCacheKey:o}}constructor(e){super(e),this._wrapper=n.createRef(),this.state={chunks:[]}}shouldComponentUpdate(e){return Object.keys(le.propTypes).some((t=>e[t]!==this.props[t]))}componentWillUnmount(){this._wrapper=null}render(){const{className:e,endOfFeedLabel:t,hasAllEntries:s,isLoading:i,layout:a,prompt:o,sponsor:c}=this.props,{chunks:d}=this.state,h=d.map(((e,t)=>n.createElement("div",{key:e.key,className:"EntryList__chunk"},n.createElement(re,Object.assign({},this.props,{entries:e.entries,popoverOffsetParent:this._wrapper,previousHeading:e.previousHeading,showPrompt:a!==l.Ar.fullArticle&&o&&0===t,sponsor:c&&0===t?c:null})))));return n.createElement("div",{ref:this._wrapper,className:r()("list-entries","list-entries--layout-".concat(a),e)},h,i&&n.createElement("div",{className:"EntryList__loading"},n.createElement(ae.g,{key:"loadingEntriesIndicator",details:"articles"})),s&&""!==t&&n.createElement(_.H2,{appearance:"h4",key:"endIndicator",className:"EntryList__heading"},t))}}le.propTypes={className:o().string,dashboardInfo:o().shape({dashboardName:o().string,section:o().string}),density:o().oneOf(d.fM),endOfFeedLabel:o().string,entries:o().arrayOf(o().object),entryRenderer:o().func,focusSelectedEntry:o().bool,hasAllEntries:o().bool,headingField:o().oneOf(["action","published"]),hideAuthor:o().bool,hideBoardLabel:o().bool,hideCVSSMetadata:o().bool,hideMeme:o().bool,highlightKeywords:o().bool,inlinedEntryId:o().string,isBeyondPowerSearch:o().bool,isLeoPreview:o().bool,isLoading:o().bool,isPowerSearch:o().bool,layout:o().oneOf(l.tv),leoUpgradeDate:o().number,metadataComponent:o().elementType,navigation:o().oneOf(["slider",void 0]),previewLayers:o().arrayOf(o().object),prompt:o().shape({data:o().object,position:o().number,type:o().string.isRequired}),searchOptions:o().shape({layers:o().arrayOf(h.nJ)}),selectedEntryId:o().string,showDateHeadings:o().bool,showKeywordMarker:o().bool,showSourceTitle:o().bool,sponsor:o().object,streamId:o().string,streamVersion:o().number,swipeDiscovery:o().bool},le.defaultProps={className:void 0,dashboardInfo:void 0,density:d.AM.comfortable,endOfFeedLabel:"End of feed",entries:[],entryRenderer:void 0,focusSelectedEntry:void 0,hasAllEntries:!1,headingField:"published",hideAuthor:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,hideMeme:!1,highlightKeywords:!1,inlinedEntryId:void 0,isBeyondPowerSearch:!1,isLeoPreview:!1,isLoading:!1,isPowerSearch:!1,layout:l.Ar.magazine,leoUpgradeDate:void 0,metadataComponent:void 0,navigation:void 0,previewLayers:[],prompt:void 0,searchOptions:{},selectedEntryId:void 0,showDateHeadings:!1,showKeywordMarker:!1,showSourceTitle:!1,sponsor:void 0,streamId:void 0,streamVersion:0,swipeDiscovery:!1}},72009:(e,t,s)=>{"use strict";s.d(t,{a:()=>C});var n=s(32735),i=s(60216),r=s.n(i),a=s(11459),o=s(79199),l=s(51138),c=s(96968),d=s(47169),h=s(3015),u=s(85902),p=s(5540),m=s(99175),g=s(66772),f=s(30424),y=s(57343),v=s(23656),b=s(16972);class E extends n.Component{constructor(){super(...arguments),(0,d.Z)(this,"_renderSource",(()=>{const{entry:e,layout:t,showSourceTitle:s}=this.props,{isFromWebAlertSource:i}=e.metadata,{googleNews:r,hasLinkedArticle:o,isRedditFeed:l,isTwitterFeed:c,redditPost:d}=e.metadata;let h;(r||c||l||i||s)&&(h=e.getCleanSourceTitle(),h&&(h=(0,u.tW)(h,40)));const p=l&&(!o||h.includes(d.subredditName));return!h||p?null:n.createElement(n.Fragment,null,n.createElement(v.P,{entry:e,layout:t},h),t!==a.Ar.fullArticle&&" / ")}))}render(){const{entry:e,layout:t}=this.props,{isTwitterFeed:s,hasLinkedArticle:i,tweet:r}=e.metadata,a=s&&!i,o=a&&r.isRetweet,[l]=e.listEnterpriseTags(),c=this._renderAuthor();return n.createElement(n.Fragment,null,n.createElement("div",{className:"EntryMetadataBasic__source-info"},n.createElement(p.R,{engagement:e.getEngagement(),engagementRate:e.getEngagementRate(),hideFlameIcon:!0,isHot:e.isHot()}),!a&&this._renderSource(),!!c&&n.createElement(n.Fragment,null,c," / "),n.createElement(f.B,{layout:t,entry:e}),o&&this._renderRetweetedBy()),l&&l.addedByUser&&n.createElement(m.d,{content:"Saved ".concat((0,h.Sy)(new Date(l.actionTimestamp),!0,!0))},n.createElement("span",null," Saved by ",l.addedByUser.name)))}_renderAuthor(){const{entry:e,hideAuthor:t}=this.props,s=e.listAuthors(),{isTwitterFeed:i,hasLinkedArticle:r}=e.metadata;if(i&&!r)return n.createElement(b.J,{entry:e});if(t||!s||s===e.getSourceTitle()||e.metadata.isTwitterFeed)return null;let a="by ";return e.isContentRTL()&&(a="/ "),n.createElement("span",{className:"authors"},a+s)}_renderRetweetedBy(){const{entry:e}=this.props,t=e.getFeedId()&&"subscription/".concat(encodeURIComponent(e.getFeedId()));return n.createElement(n.Fragment,null,n.createElement(y.J,null),n.createElement(g.r,{uri:t},e.metadata.tweet.twitterFeedAuthorHandle+" retweeted"))}}function C(e){let{entry:t,hideAuthor:s,interestingMetadata:i,layout:r,onBuryEntryClick:o,onKeepUnreadClick:d,showSourceTitle:h}=e;const[u,...p]=i,m=t.isContentRTL(),g=n.createElement(l.T,{isRTL:m,layout:r,separatorSide:"right"},u),f=p.map((e=>e&&n.createElement(l.T,{key:e.key,isRTL:m,layout:r,separatorSide:r===a.Ar.titleOnly?"right":"left"},e)));return r===a.Ar.titleOnly?n.createElement("div",{className:"EntryMetadata--u0"},g,f):n.createElement("div",{className:"metadata EntryMetadata"},g,n.createElement(E,{entry:t,hideAuthor:s,layout:r,showSourceTitle:h}),(r===a.Ar.magazine||r===a.Ar.fullArticle)&&f,r===a.Ar.fullArticle&&n.createElement("span",null,n.createElement("span",{className:"m-l-1 m-r-1"},"//"),n.createElement(c.E,{className:"action",importance:"tertiary",onClick:d},"keep unread"),n.createElement("span",{className:"m-l-1 m-r-1"},"//"),n.createElement(c.E,{className:"action",importance:"tertiary",onClick:o,title:"mark as read and remove from list"},"hide")))}E.propTypes={entry:o.A.isRequired,hideAuthor:r().bool,layout:r().oneOf(a.tv),showSourceTitle:r().bool},E.defaultProps={hideAuthor:!1,layout:a.Ar.magazine,showSourceTitle:!0},C.propTypes={entry:o.A.isRequired,hideAuthor:r().bool,interestingMetadata:r().arrayOf(r().node),layout:r().oneOf(a.tv),onBuryEntryClick:r().func,onKeepUnreadClick:r().func,showSourceTitle:r().bool},C.defaultProps={hideAuthor:!1,interestingMetadata:[],layout:a.Ar.magazine,onBuryEntryClick:void 0,onKeepUnreadClick:void 0,showSourceTitle:!0}},30424:(e,t,s)=>{"use strict";s.d(t,{B:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(40625);function c(e){let{entry:t}=e;return n.createElement(l.E,{className:r()({"m-l-1":t.isContentRTL(),EntryMetadataAgo:!0}),date:t.getCrawledDate(),isRTL:t.isContentRTL(),lastModifiedDate:t.getLastModifiedDate()})}c.propTypes={entry:o().shape({getCrawledDate:o().func,getLastModifiedDate:o().func,isContentRTL:o().func}).isRequired}},13294:(e,t,s)=>{"use strict";s.d(t,{y:()=>h});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(71263),l=s(10974),c=s(68217),d=s(8680);class h extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onClick",(e=>{const{entry:t}=this.props;e.stopPropagation();const{label:s}=t.listTopVulnerability()||{};s&&this.slider.addSlide(c.g,{cveId:s},{customPath:"cve/".concat(encodeURIComponent(s))})}))}componentDidMount(){this.slider=streets.service("slider")}componentWillUnmount(){this.slider=null}render(){const{className:e,entry:t}=this.props,s=t.listTopVulnerability()||{},{vulnerabilityInfo:n={},vulnerabilityInfo:{cvssScore:r,hasExploit:a}={}}=s,c=t.getPrioritySeverity(),{category:h}=t.getEstimatedCVSS()||{},u=r&&(r>8||r>5&&a);return i.createElement("div",{className:e,style:{display:"inline-block",position:"relative"}},i.createElement(d.h,{label:(0,l.GE)(n,c,h),iconComponent:o.Z,iconColor:u?"accent":"black",iconTitle:"CVSS Score",importance:u?void 0:"secondary",onClick:this._onClick}))}}h.propTypes={className:a().string,entry:a().shape({getEstimatedCVSS:a().func,getPrioritySeverity:a().func,listTopVulnerability:a().func,suggestViaFeedId:a().func}).isRequired},h.defaultProps={className:""}},49904:(e,t,s)=>{"use strict";s.d(t,{o:()=>l});var n=s(32735),i=s(33642),r=s(94059),a=s(79199),o=s(8680);function l(e){let{entry:t}=e;const s=(0,i.hg)(t.getIndicatorsOfCompromise());return n.createElement(o.h,{className:"m-r-h",key:s,iconComponent:r.XA.indicatorsOfCompromise,iconColor:"accent",importance:"primary",label:s})}l.propTypes={entry:a.A.isRequired}},1910:(e,t,s)=>{"use strict";s.d(t,{H:()=>h});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(8680),l=s(46291),c=s(55118),d=s(93613);class h extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseExplanation",(()=>{this.setState({isExplanationOpen:!1})})),(0,n.Z)(this,"_onDeleteFeedback",(async()=>{const{entry:e}=this.props;await this.reader.askDeleteEntryFeedback(e.getId()),streets.service("signs").showMessage("Feedback undone")})),(0,n.Z)(this,"_onMarkerClick",(e=>{e.stopPropagation(),this.setState({isExplanationOpen:!0})})),this._offsetParent=i.createRef(),this._target=i.createRef(),this.state={isExplanationOpen:!1}}componentDidMount(){this.reader=streets.service("reader")}componentWillUnmount(){this._offsetParent=null,this._target=null,this.reader=null}render(){const{entry:e,feedback:t}=this.props;return e&&t?i.createElement("div",{className:"EntryMetadataLessLikeThis",ref:this._offsetParent},i.createElement(o.h,{label:"Less like this",onClick:this._onMarkerClick,elementRef:this._target}),this._renderExplanation()):null}_renderExplanation(){const{entry:e,feedback:t,popoverOffsetParent:s}=this.props,{isExplanationOpen:n}=this.state;if(!n)return null;const r=i.createElement(l.J,{align:"middle",caret:!0,className:"EntryMetadataLessLikeThis__popover",offsetParent:s?s.current:this._offsetParent.current,onClick:e=>{e.stopPropagation()},onClose:this._onCloseExplanation,target:this._target.current},i.createElement(d.T,{entry:e,feedback:t,onDeleteFeedback:this._onDeleteFeedback}));return s?i.createElement(c.h,{target:s.current},r):r}}h.propTypes={entry:a().object.isRequired,feedback:a().shape({addedBy:a().string,description:a().string,reason:a().string}).isRequired,popoverOffsetParent:a().shape({current:a().instanceOf(Element)})},h.defaultProps={popoverOffsetParent:void 0}},40189:(e,t,s)=>{"use strict";s.d(t,{O:()=>u});var n=s(32735),i=s(60216),r=s.n(i),a=s(94059),o=s(65698),l=s(78505),c=s(2222),d=s(79199),h=s(8680);function u(e){let{entry:t,matchingParts:s}=e;const i=t.findRelevantCausedEntities({searchTerms:{parts:s}});return n.createElement(n.Fragment,null,s.slice(0,l.Rc).map((e=>{var s;let r=t.getIocLabel(e)||e.label||e.text;const l=(0,o.FW)(e,{estimatedCVSS:t.getEstimatedCVSS()});if("security"===l)return null;let d;return i.length&&(d=i.find((t=>t.id===e.id)),r=d?(0,c.sH)(d):r),n.createElement(h.h,{className:"EntryMetadataMatchingParts m-r-h",key:r,iconComponent:null!==(s=a.XA[l])&&void 0!==s?s:a.XA.other,iconColor:"accent",importance:"primary",label:r})})))}u.propTypes={entry:d.A.isRequired,matchingParts:r().arrayOf(r().object).isRequired}},96780:(e,t,s)=>{"use strict";s.d(t,{M:()=>d});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(90898),l=s(8680),c=s(83362);class d extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onMemeClick",(e=>{const{meme:t}=this.props;e&&e.stopPropagation(),streets.service("slider").addSlide(c.r,{memeId:t.id},{customPath:"meme/".concat(encodeURIComponent(t.id))})}))}render(){const{meme:e}=this.props;return e.id?i.createElement(l.h,{label:e.label,iconComponent:o.Z,iconColor:"accent",iconTitle:"Meme",onClick:this._onMemeClick}):null}}d.propTypes={meme:a().shape({id:a().string,label:a().string}).isRequired}},46063:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(56816),o=s(8680);function l(e){let{onClick:t}=e;return n.createElement(o.h,{className:"EntryMetadataReadLater",iconColor:"accent",iconComponent:a.Z,label:"Read later",onClick:t})}l.propTypes={onClick:r().func.isRequired}},92262:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(28594),o=s(8680);function l(e){let{entry:t}=e;const s="subscription/".concat(t.getFeedId());return n.createElement(o.h,{label:"Shared in ".concat(t.metadata.redditPost.subredditName),iconComponent:a.Z,iconTitle:"Reddit",importance:"secondary",onClick:e=>{e.stopPropagation(),streets.service("router").loadPage(s)}})}l.propTypes={entry:r().object.isRequired}},57343:(e,t,s)=>{"use strict";s.d(t,{J:()=>r});var n=s(32735),i=s(44205);function r(){return n.createElement(i.x,{className:"EntryMetadataSeparator",color:"tertiary",size:"smallish",tagName:"span"},"•")}},23656:(e,t,s)=>{"use strict";s.d(t,{P:()=>h});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(11459),c=s(66772),d=s(27256);function h(e){let{children:t,entry:s,layout:i}=e;if(!t)return null;const a=s.getFeedId(),o=s.getSourceAlternateLink(),h=a&&"subscription/".concat(encodeURIComponent(s.getFeedId())),u=r()("entry__source",{"m-r-h":i===l.Ar.fullArticle,"entry__source--u0":i===l.Ar.titleOnly});return o?n.createElement(c.r,{className:u,href:o,uri:h,onClick:e=>{e.stopPropagation()}},t):h?n.createElement(d.O,{className:u,uri:h,onClick:e=>{e.stopPropagation()},underline:"hover"},t):n.createElement("span",{className:u},t)}h.propTypes={children:o().node,entry:o().shape({getFeedId:o().func.isRequired,getSourceAlternateLink:o().func.isRequired}).isRequired,layout:o().oneOf(l.tv)},h.defaultProps={children:void 0,layout:l.Ar.magazine}},54504:(e,t,s)=>{"use strict";s.d(t,{v:()=>h});var n=s(32735),i=s(60216),r=s.n(i),a=s(19381),o=s(3015),l=s(99220),c=s(8680),d=s(99175);class h extends n.Component{render(){const{className:e,tag:{actionTimestamp:t,addedByUser:s,id:i,label:r}}=this.props;if(!i)return null;const h=n.createElement(c.h,{className:e,label:r,iconComponent:a.Z,iconColor:"accent",iconTitle:"".concat(r," Board"),onClick:e=>{e.stopPropagation(),streets.service("router").loadPage((0,l.no)(i))}});if(!s)return h;const u="Saved by ".concat(s.name," ").concat((0,o.Sy)(new Date(t),!0,!0));return n.createElement(d.d,{animateClass:"animateFadeIn",content:u},h)}}h.propTypes={className:r().string,tag:r().shape({actionTimestamp:r().number,addedByUser:r().shape({name:r().string}),id:r().string,label:r().string}).isRequired},h.defaultProps={className:void 0}},16972:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var n=s(32735),i=s(77817),r=s(79199),a=s(66772);function o(e){let{entry:t}=e;const{authorHandle:s,icon:r}=t.metadata.tweet,o="subscription/"+encodeURIComponent(t.getFeedId());return n.createElement("span",{className:"authors EntryMetadataTweet"},r&&n.createElement(i.q,{url:r,className:"EntryMetadataTweet__avatar"}),n.createElement(a.r,{className:"EntryMetadataTweet__handle",uri:o},s))}o.propTypes={entry:r.A.isRequired}},58710:(e,t,s)=>{"use strict";s.d(t,{H:()=>C});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(11459),l=s(78505),c=s(7761),d=s(2222),h=s(62784),u=s(79199),p=s(8680),m=s(72009),g=s(13294),f=s(49904),y=s(40189),v=s(96780),b=s(92262),E=s(54504);class C extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{hasLeoSecurity:!1})}componentDidMount(){this.leo=streets.service("leo"),this._updateLeoInfo()}componentWillUnmount(){this.leo=null}render(){const{entry:e,hideAuthor:t,layout:s,showSourceTitle:n}=this.props,r=this._findInterestingMetadata();return i.createElement(m.a,{entry:e,hideAuthor:t,interestingMetadata:r,layout:s,showSourceTitle:n})}_findInterestingMetadata(){const{hasLeoSecurity:e}=this.state,{entry:t,hideMeme:s,previewLayers:n}=this.props;let r=t.listEnterpriseTags();r&&0!==r.length||(r=t.listPersonalTags(!0));const{parts:a=[]}=t.getPreviewSearchTerms()||{},o=[];let u=!1,m=!1;n&&(u=0!==(0,d.eG)(n,c.ur.security).length,m=0!==(0,d.eG)(n,c.ur.likeBoard).length);const C=a.find(h.Qv);C&&C.label&&o.push(i.createElement(p.h,{key:"publication",label:C.label})),t.showCVSS()&&u&&e&&o.push(i.createElement(g.y,{key:c.ur.security,entry:t})),t.getIndicatorsOfCompromise().mentions&&o.push(i.createElement(f.o,{key:"EntryMetadataIoc",entry:t}));const w=t.getSearchTermMatchedParts(n);return t.showMatchesMetadata(w,(0,d.X$)(n))&&o.push(i.createElement(y.O,{key:"EntryMetadataMatchingParts",entry:t,matchingParts:w})),r&&r.length>0&&m&&o.push(i.createElement(E.v,{key:c.ur.likeBoard,tag:r[0]})),t.metadata.isRedditFeed&&o.push(i.createElement(b.m,{key:"metadata-reddit",entry:t})),!s&&t.getFeaturedMeme()&&o.push(i.createElement(v.M,{key:"meme",meme:t.getFeaturedMeme()})),o.filter(Boolean).slice(0,l.PN)}async _updateLeoInfo(){const e=await this.leo.askHasLeoSecurityFeature();this.setState({hasLeoSecurity:e})}}C.propTypes={entry:u.A.isRequired,hideAuthor:a().bool,hideMeme:a().bool,layout:a().oneOf(o.tv),previewLayers:a().arrayOf(a().object),showSourceTitle:a().bool},C.defaultProps={hideAuthor:!1,hideMeme:!1,layout:o.Ar.magazine,previewLayers:[],showSourceTitle:!0}},1913:(e,t,s)=>{"use strict";s.d(t,{l:()=>q});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(51239),l=s(11459),c=s(94059),d=s(78505),h=s(85902),u=s(62784),p=s(79199),m=s(8680),g=s(72009),f=s(13294),y=s(49904),v=s(51205);function b(e){const{keyword:t,onClick:s}=e;return t?i.createElement(m.h,{label:t,iconComponent:v.Z,iconTitle:"Keyword Alert",importance:"secondary",onClick:s}):null}b.propTypes={keyword:a().string,onClick:a().func},b.defaultProps={keyword:null,onClick:void 0};var E=s(42070),C=s(74221),w=s(46291),k=s(55118),_=s(29931),M=s(25327),S=s(97);class I extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseDeleteModal",(()=>{this.setState({priorityToDelete:null,isDeleteConfirmModalOpen:!1,isExplanationOpen:!1})})),(0,n.Z)(this,"_onCloseExplanation",(()=>{this.setState({isExplanationOpen:!1})})),(0,n.Z)(this,"_onDeleteClick",((e,t)=>{this.setState({priorityToDelete:e,isDeleteConfirmModalOpen:!0,isExplanationOpen:!1,usernames:t})})),(0,n.Z)(this,"_onDeleteConfirmClick",(async()=>{const{priorityToDelete:e}=this.state;this.setState({isDeleteConfirmLoading:!0});try{await this.priorities.askDelete(e.id),this.setState({isDeleteConfirmLoading:!1,isDeleteConfirmModalOpen:!1}),this.signs.showMessage("".concat(e.label," has been deleted."))}catch(t){this.setState({isDeleteConfirmLoading:!1,isDeleteConfirmModalOpen:!1}),this._onUpdateError(e)}})),(0,n.Z)(this,"_onMarkerClick",(e=>{e.stopPropagation(),this.setState({isExplanationOpen:!0})})),(0,n.Z)(this,"_onPauseClick",(async e=>{const t={streamIds:[],...e,active:!1},{isEnterprise:s}=(0,C.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.setState({isExplanationOpen:!1}),this.signs.showMessage("".concat(e.label," has been paused."))}catch(n){this.setState({isExplanationOpen:!1}),this._onUpdateError(e)}})),(0,n.Z)(this,"_onRefineClick",(e=>{this.setState({isExplanationOpen:!1}),streets.service("slider").addSlide(S.c,{initialPriority:e})})),(0,n.Z)(this,"_onResumeClick",(async e=>{const t={streamIds:[],...e,active:!0},{isEnterprise:s}=(0,C.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.setState({isExplanationOpen:!1}),this.signs.showMessage("".concat(e.label," has been resumed."))}catch(n){this.setState({isExplanationOpen:!1}),this._onUpdateError(e)}})),this._offsetParent=i.createRef(),this._target=i.createRef(),this.state={isDeleteConfirmLoading:!1,isDeleteConfirmModalOpen:!1,isExplanationOpen:!1,priorityToDelete:null,usernames:{}}}componentDidMount(){this.priorities=streets.service("priorities"),this.signs=streets.service("signs")}componentWillUnmount(){this._offsetParent=null,this._target=null,this.priorities=null,this.signs=null}render(){const{entry:e}=this.props;if(!e)return null;const t=e.getPriorityLabel();return t?i.createElement("div",{className:"EntryMetadataLeo",ref:this._offsetParent},i.createElement(m.h,{label:t,iconComponent:E.Z,iconColor:"accent",iconTitle:"Prioritized by Leo",onClick:this._onMarkerClick,elementRef:this._target}),this._renderExplanation(),this._renderDeleteConfirmModal()):null}_renderDeleteConfirmModal(){const{isDeleteConfirmLoading:e,isDeleteConfirmModalOpen:t,priorityToDelete:s,usernames:n}=this.state;if(!t)return null;const{createdBy:r,label:a,streamLabels:o}=s,{isEnterprise:l}=(0,C.Yg)(s.id);return this._updatePriorityService(l),i.createElement(_.b,{collectionLabel:o[0],createdByName:n[r],isCreatedByMe:streets.getUserId()===r,isEnterprise:l,isLoading:e,onCancel:this._onCloseDeleteModal,onConfirm:this._onDeleteConfirmClick,priorityLabel:a})}_renderExplanation(){const{entry:e,popoverOffsetParent:t}=this.props,{isDeleteConfirmModalOpen:s,isExplanationOpen:n}=this.state,r=e.getMostRelevantPriority();if(!n||s)return null;const a=i.createElement(w.J,{align:"middle",caret:!0,className:"EntryMetadataLeo__popover",offsetParent:t?t.current:this._offsetParent.current,onClick:e=>{e.stopPropagation()},onClose:this._onCloseExplanation,target:this._target.current},i.createElement(M.e,{entry:e,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onRefineClick:this._onRefineClick,onResumeClick:this._onResumeClick,priority:r}));return t?i.createElement(k.h,{target:t.current},a):a}_onUpdateError(e){this.signs.showMessage("There was an error when trying to update ".concat(e.label,"."))}_updatePriorityService(e){this.priorities=e?streets.service("enterprisepriorities"):streets.service("personalpriorities")}}I.propTypes={entry:a().shape({getMostRelevantPriority:a().func,getPriorityLabel:a().func}).isRequired,popoverOffsetParent:a().shape({current:a().instanceOf(Element)})},I.defaultProps={popoverOffsetParent:void 0};var T=s(1910),N=s(40189),L=s(96780),P=s(46063),D=s(92262),A=s(54504),O=s(40429),x=s(48325),R=s(24443),j=s.n(R),F=s(83442),U=s(65698),z=s(56962),Z=s(23005),B=s(88591),H=s(8629);class Y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderEntityCauses",(()=>{const{entry:e}=this.props,{webAlertInfo:t}=this.state,s=e.findRelevantCausedEntities(t);if(s.length){const e=s[0].causes.slice(0,3);return this._renderTerms(e," This article mentions ",!0)}return null})),this.state={isLoading:!1,webAlertInfo:e.initialWebAlert}}componentDidMount(){this._updateWebAlertInfo()}render(){const{onRefineClick:e}=this.props,{isLoading:t,webAlertInfo:{streamId:s,title:n,searchTerms:{parts:r=[]}={}}={}}=this.state;return t?i.createElement(Z.g,null):r.length?i.createElement("div",{className:"WebAlertExplanation"},i.createElement("p",{className:"WebAlertExplanation__description"},"This Web Alert tracks articles about ",this._renderTerms(r),this._renderEntityCauses()),i.createElement(B.v,{className:"WebAlertExplanation__menu"},i.createElement(H.s,{onClick:()=>{e({feedId:s,webAlertId:(0,u.kW)(s),webAlertTitle:n})}},i.createElement(F.Z,{importance:"secondary"}),i.createElement("div",{className:"WebAlertExplanation__item-label"},"Refine Web Alert")))):null}_renderPart(e,t){var s;let{label:n,type:r}=e;const a=r===c.w7?"".concat(j()(n)):n,o=null!==(s=c.XA[r])&&void 0!==s?s:c.XA.other;return i.createElement("span",{className:"WebAlertExplanation__keyword",key:"".concat(n)},!t&&i.createElement(o,{className:"WebAlertExplanation__keyword-icon"}),a)}_renderTerms(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{entry:n}=this.props;if(!e||0===e.length)return[];const r=e.reduce(((e,t)=>{if((0,u.Qv)(t))return e;const i=s?t:n.findSearchTermFullInfo(t),r=(0,U.FW)(i,{estimatedCVSS:n.getEstimatedCVSS()}),a=(0,u.vE)(i);return e.push(this._renderPart({id:i.id,label:a,type:r},s)),e}),[]);return i.createElement(i.Fragment,null,t,i.createElement(z.S,null,r),".")}async _updateWebAlertInfo(){const{initialWebAlert:{streamId:e,searchTerms:t},initialWebAlert:s}=this.props;if(t)return;this.setState({isLoading:!0});const n=(await streets.service("alerts").askInfo((0,u.kW)(e))).layers.reduce(((e,t)=>t.parts?e.concat(t.parts):e),[]);this.setState({isLoading:!1,webAlertInfo:{...s,searchTerms:{parts:n}}})}}Y.propTypes={entry:p.A.isRequired,initialWebAlert:a().shape({searchTerms:a().shape({parts:a().arrayOf(a().object)}),streamId:a().string,title:a().string}).isRequired,onRefineClick:a().func.isRequired};class W extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseExplanation",(()=>{this.setState({isExplanationOpen:!1})})),(0,n.Z)(this,"_onMarkerClick",(()=>{this.setState({isExplanationOpen:!0})})),(0,n.Z)(this,"_onRefineClick",(e=>{this.setState({isExplanationOpen:!1}),streets.service("slider").addSlide(x.S,e)})),this._offsetParent=i.createRef(),this._target=i.createRef(),this.state={isExplanationOpen:!1}}componentWillUnmount(){this._offsetParent=null,this._target=null}render(){const{entry:e}=this.props;if(!e)return null;const t=e.getFirstAlertSourceInfo()||{},s=e.getWebAlertLabel();return s?i.createElement("div",{className:"EntryMetadataWebAlert",ref:this._offsetParent},i.createElement(m.h,{elementRef:this._target,iconClassName:"m-r-h",iconComponent:O.Z,iconTitle:"Web Alert",importance:"secondary",label:s,onClick:e=>{e.stopPropagation(),this._onMarkerClick()}}),this._renderExplanation(t)):null}_renderExplanation(e){const{entry:t,popoverOffsetParent:s}=this.props,{isExplanationOpen:n}=this.state;if(!n)return null;const r=i.createElement(w.J,{align:"middle",caret:!0,className:"EntryMetadataWebAlert__popover",offsetParent:s?s.current:this._offsetParent.current,onClick:e=>{e.stopPropagation()},onClose:this._onCloseExplanation,target:this._target.current},i.createElement(Y,{entry:t,onRefineClick:this._onRefineClick,initialWebAlert:e}));return s?i.createElement(k.h,{target:s.current},r):r}}W.propTypes={entry:p.A.isRequired,popoverOffsetParent:a().shape({current:a().instanceOf(Element)})},W.defaultProps={popoverOffsetParent:void 0};class q extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{hasLeoSecurity:!1}),(0,n.Z)(this,"_onBuryEntryClick",(()=>{const{entry:e}=this.props;streets.service("readingManager").askBuryEntry(e.getId())})),(0,n.Z)(this,"_onKeepUnreadClick",(()=>{const{entry:e}=this.props;streets.service("readingManager").askKeepEntryAsUnread(e.getId())}))}componentDidMount(){this.leo=streets.service("leo"),this._updateLeoInfo()}componentWillUnmount(){this.leo=null}render(){const{entry:e,hideAuthor:t,layout:s,showSourceTitle:n}=this.props,r=this._findInterestingMetadata();return i.createElement(g.a,{entry:e,hideAuthor:t,interestingMetadata:r,layout:s,onBuryEntryClick:this._onBuryEntryClick,onKeepUnreadClick:this._onKeepUnreadClick,showSourceTitle:n})}_findInterestingMetadata(){var e,t;const{hasLeoSecurity:s}=this.state,{entry:n,hideBoardLabel:r,hideCVSSMetadata:a,hideMeme:l,popoverOffsetParent:c,showKeywordMarker:u,showSecondarySourceMarker:p}=this.props;let g=n.listEnterpriseTags();g&&0!==g.length||(g=n.listPersonalTags(!0));const v=n.getDecoration(o.I.evernote),E=n.getDecoration(o.I.instapaper),C=n.getFeedback(),w=[],{isFromWebAlertSource:k}=n.metadata,_=n.getIndicatorsOfCompromise().mentions&&!(null!==(e=n.getPriorityLabel())&&void 0!==e&&e.startsWith("IoC > "))&&!(null!==(t=n.getWebAlertLabel())&&void 0!==t&&t.startsWith("IoC > "));if(C&&w.push(i.createElement(T.H,{key:"EntryMetadataLessLikeThis",entry:n,feedback:C,popoverOffsetParent:c})),g&&g.length>0&&!r&&w.push(i.createElement(A.v,{key:"EntryMetadataTag",tag:g[0]})),n.metadata.isSavedToPocket&&w.push(i.createElement(m.h,{key:"Pocket",label:"Pocket"})),E&&w.push(i.createElement(m.h,{key:"Instapaper",label:"Instapaper"})),v&&w.push(i.createElement(m.h,{key:"Evernote",label:"Evernote"})),n.isQuicklisted()&&!r&&w.push(i.createElement(P.E,{key:"ReadLater",onClick:e=>{e.stopPropagation(),streets.service("router").loadPage("saved")}})),n.isPrioritized()&&w.push(i.createElement(I,{key:"Leo",popoverOffsetParent:c,entry:n})),this._showWebAlertLabel()&&w.push(i.createElement(W,{key:"WebAlert",entry:n,popoverOffsetParent:c})),k&&w.push(this._renderInFeedMatchesMetadata()),!a&&n.showCVSS()&&s&&w.push(i.createElement(f.y,{key:"CVSS",entry:n})),_&&w.push(i.createElement(y.o,{key:"IoC",entry:n})),!l&&n.getFeaturedMeme()&&w.push(i.createElement(L.M,{key:"Meme",meme:n.getFeaturedMeme()})),n.metadata.isRedditFeed&&p&&w.push(i.createElement(D.m,{key:"Reddit",entry:n})),u&&n.metadata.prettyTerm){let e=n.metadata.prettyTerm;e&&(e=(0,h.tW)(e,40)),w.push(i.createElement(b,{key:"Keyword",keyword:e}))}return w.filter(Boolean).slice(0,d.PN)}_renderInFeedMatchesMetadata(){const{entry:e}=this.props,{searchTerms:{parts:t,isComplexFilter:s}={}}=e.getMostRelevantAlert()||{};if(!t||e.showEntityCauseLabel(t))return null;const n=t.reduce(((t,s)=>((0,u.Qv)(s)||s.id&&s.id===c.Zh||t.push(e.findSearchTermFullInfo(s)),t)),[]);return e.showMatchesMetadata(n,s)?i.createElement(N.O,{key:"MatchingParts",entry:e,matchingParts:n}):null}_showWebAlertLabel(){const{entry:e,showSecondarySourceMarker:t}=this.props,{searchTerms:{parts:s}={}}=e.getMostRelevantAlert()||{},{isFromWebAlertSource:n}=e.metadata;return n&&(t||e.showEntityCauseLabel(s)||e.getIndicatorsOfCompromise().mentions)}async _updateLeoInfo(){const e=await this.leo.askHasLeoSecurityFeature();this.setState({hasLeoSecurity:e})}}q.propTypes={entry:p.A.isRequired,hideAuthor:a().bool,hideBoardLabel:a().bool,hideCVSSMetadata:a().bool,hideMeme:a().bool,layout:a().oneOf(l.tv),popoverOffsetParent:a().shape({current:a().instanceOf(Element)}),showKeywordMarker:a().bool,showSecondarySourceMarker:a().bool,showSourceTitle:a().bool},q.defaultProps={hideAuthor:!1,hideBoardLabel:!1,hideCVSSMetadata:!1,hideMeme:!1,layout:l.Ar.magazine,popoverOffsetParent:void 0,showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0}},85933:(e,t,s)=>{"use strict";s.d(t,{S:()=>u});var n=s(32735),i=s(12788),r=s(21548),a=s(60216),o=s.n(a),l=s(3167),c=s(90514),d=s(48499),h=s(65899);function u(e){let{children:t}=e;const s=streets.service("feedly").getTheme()===l.Bd.dark?d:h;return n.createElement(r.SV,{fallback:e=>{let{eventId:t}=e;const r=streets.hasProAccess()?n.createElement(c._,{information:{header:"An unexpected error occurred",sub:"Please report this issue to help us improve Feedly",primaryAction:"Report a Problem",tertiaryAction:"Reload Feedly",visual:s},onPrimaryAction:()=>{streets.service("helpscout").open({prefill:{subject:"Unexpected error",text:"Please list the steps you took before seeing this error. Be as descriptive as possible:\n1. "},sessionData:{errorId:t}})},onTertiaryAction:()=>{window.location.reload()}}):n.createElement(c._,{information:{header:"An unexpected error occurred",sub:"Try reloading Feedly",primaryAction:"Reload Feedly",visual:s},onPrimaryAction:()=>{window.location.reload()}});return i.createPortal(n.createElement("div",{className:"fx modal-container"},r),document.body)}},t)}u.propTypes={children:o().node.isRequired}},70917:(e,t,s)=>{"use strict";s.d(t,{$:()=>f});var n=s(47169),i=s(81346),r=s.n(i),a=s(32735),o=s(12788),l=s(60216),c=s.n(l),d=s(80716),h=s(23005),u=s(46291),p=s(88591),m=s(8629),g=s(71824);class f extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_renderMenuItems",((e,t)=>t.length?a.createElement(a.Fragment,null,a.createElement(g.N,null,e," Notebooks"),t.map((e=>a.createElement(m.s,{key:e.guid,onClick:()=>{this._onSelect(e)}},a.createElement(d.Z,{importance:"tertiary"}),e.name)))):[])),(0,n.Z)(this,"_onSelect",(async e=>{const{entryId:t,imageTitle:s,imageURL:n,onCloseMenu:i,selection:r}=this.props;let a;n?a={imageTitle:s,imageURL:n}:r&&(a={selection:r}),this.evernote.askAdd(t,e,a),i()})),this.state={businessNotebooks:[],isLoading:!0,personalNotebooks:[]}}componentDidMount(){this.evernote=streets.service("evernote"),this.evernote.registerObserver(this),this._updateNotebooks()}componentWillUnmount(){this.evernote.unregisterObserver(this),this.evernote=null}onEvernoteAdded(e){const{entryId:t}=this.props;e===t&&this.setState({})}render(){const{align:e,offsetParent:t,onCloseMenu:s,target:n}=this.props,{businessNotebooks:i,isLoading:r,personalNotebooks:l}=this.state;let c;return c=r?a.createElement(h.g,{className:"m-l-2",details:"notebooks"}):i.length||l.length?a.createElement(a.Fragment,null,this._renderMenuItems("Personal",l),this._renderMenuItems("Business",i)):a.createElement("p",{className:"p-x-2"},"Please create a Notebook in Evernote to get started."),o.createPortal(a.createElement(u.J,{align:e,className:"fx EvernoteNotebookPopover",offsetParent:t,onClose:s,position:"bottom",target:n},a.createElement(p.v,{width:300},c)),t)}async _updateNotebooks(){const e=await this.evernote.askListNotebooks(),{business:t=[],personal:s=[]}=r()(e,"type");this.setState({businessNotebooks:t,isLoading:!1,personalNotebooks:s})}}f.propTypes={align:u.J.propTypes.align,entryId:c().string.isRequired,imageTitle:c().string,imageURL:c().string,offsetParent:c().instanceOf(Element),onCloseMenu:c().func.isRequired,selection:c().string,target:c().oneOfType([c().instanceOf(Element),c().shape({current:c().instanceOf(Element)})])},f.defaultProps={align:"start",imageTitle:void 0,imageURL:void 0,offsetParent:void 0,selection:void 0,target:void 0}},7429:(e,t,s)=>{"use strict";s.d(t,{H:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(98701),c=s(44205);function d(e){let{onClick:t,icon:s,label:i,description:a,size:o,iconColor:d}=e;const h=s;return n.createElement(l.W,{className:r()("ExampleCard","ExampleCard--".concat(o),"card","topic-card"),onClick:t},n.createElement("div",{className:"card-header"},i),a&&n.createElement(c.x,{className:"m-y-t p-b-t",color:"tertiary",size:"smaller",tagName:"div"},a),n.createElement("div",{className:"card-footer"},n.createElement(h,{importance:d,className:"topic-visual"})))}d.propTypes={description:o().string,icon:o().elementType.isRequired,iconColor:o().oneOf(["primary","secondary","tertiary"]),label:o().string.isRequired,onClick:o().func.isRequired,size:o().oneOf(["small","medium","large"])},d.defaultProps={description:void 0,iconColor:"secondary",size:"small"}},1542:(e,t,s)=>{"use strict";s.d(t,{c:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(58074),o=s(58710),l=s(23005),c=s(44205);function d(e){let{entryRenderer:t,entries:s,isLeoPreview:i,loading:r,noEntriesText:d,previewLayers:h,streamVersion:u}=e;return r||!s?n.createElement(l.g,{details:"examples"}):s.length?n.createElement(a.f,{key:"entryList",className:"ExampleEntryList",entryRenderer:t,entries:s,layout:"u4",hasAllEntries:!1,hideAuthor:!0,hideBoardLabel:!0,hideMeme:!0,highlightKeywords:!0,isLeoPreview:i,isLoading:!1,metadataComponent:o.H,previewLayers:h,showSourceTitle:!0,streamVersion:u}):n.createElement(c.x,null,d)}d.updateDelay=1500,d.propTypes={entries:r().arrayOf(r().object),entryRenderer:r().func,isLeoPreview:r().bool,loading:r().bool,noEntriesText:r().string,previewLayers:r().arrayOf(r().object),streamVersion:r().number},d.defaultProps={entries:[],entryRenderer:void 0,isLeoPreview:!1,loading:!1,noEntriesText:"Sorry, no articles were found.",previewLayers:[],streamVersion:0}},14967:(e,t,s)=>{"use strict";s.d(t,{Y:()=>u});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(25193),l=s(94059),c=s(65698),d=s(62329),h=s(53670);class u extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onExcludeTopic",(e=>{const{onSubmit:t}=this.props;this.leo.askAddNotTopic(e),t()}))}componentDidMount(){this.leo=streets.service("leo")}componentWillUnmount(){this.leo=null}render(){const{excludeTopics:e}=this.props;return i.createElement("div",{className:"ExcludeTopicSelector__menu"},e.length>0&&i.createElement(d.i,{iconComponent:o.Z,label:"Exclude Topic"},e.map((e=>{const t=(0,c.mm)(e);return i.createElement(h.z,{key:e.id,className:"m-b-t ExcludeTopicSelector__topic-button",label:e.label,icon:i.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{const t=(0,c.xT)(e.id)?e:{...e,type:l.gQ.other};this._onExcludeTopic(t)}})}))))}}u.propTypes={excludeTopics:a().arrayOf(a().object),onSubmit:a().func.isRequired},u.defaultProps={excludeTopics:[]}},73215:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var n=s(32735),i=s(58645),r=s(3167);function a(e){const t=streets.service("preferences"),[s,a]=(0,n.useState)(!1);(0,i.m)(t,{onPreferenceChanged(s){s===r.As.favorites&&a(t.isFavorite(e))}},[e]),(0,n.useEffect)((()=>{a(t.isFavorite(e))}),[e]);return{isFavorite:s,toggleFavorite:(0,n.useCallback)((()=>{t.toggleFavorite(e)}),[e]),label:s?"Remove from Favorites":"Add to Favorites"}}},89685:(e,t,s)=>{"use strict";s.d(t,{f:()=>b});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(40854),d=s(16113),h=s(12859),u=s(99175),p=s(91343),m=s(72406),g=s(19426),f=s(66772),y=s(70542),v=s(62066);class b extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onTitleClick",(()=>{const{feed:e,scheme:t}=this.props;streets.service("slider").addFeedPreviewSlide(e.id,{scheme:t})}))}render(){const{className:e,feed:t,includeFollowButton:s,onCollectionPickerOpened:n,onSourceFollowed:r,scheme:o,view:l}=this.props,c=a()(e,"item","feed",{"feed-large":"large"===l,"feed-medium":"medium"===l,"feed-small":"small"===l});return i.createElement("div",{className:c,onClick:this._onClick.bind(this)},i.createElement(y.u,{className:"item-image",url:t.visualUrl,alt:t.title}),i.createElement("div",{className:"item-content"},s&&i.createElement(d.A,{feedId:t.id,float:"right",onCollectionPickerOpened:n,onSourceFollowed:r,scheme:o,size:"small"}),this._renderTitle(t),this._renderMetadata(),"large"===l&&i.createElement("div",{className:"item-description"},t.description),this._renderTopics(t),this._renderCollections()))}_renderMetadata(){const{feed:e,view:t,showMetadata:s}=this.props;if(!s)return null;let n;return"small"!==t&&(n=i.createElement("span",{className:"separated right"},i.createElement(v.M,{count:e.velocity}))),i.createElement("div",{className:"item-meta"},!e.private&&!!e.subscribers&&[i.createElement(h.g,{key:"followers",count:e.subscribers}),n?" / ":null],n)}_renderTitle(e){const{title:t,website:s}=e;return i.createElement(g.s,{onClick:this._onTitleClick},s?i.createElement(u.d,{content:s},i.createElement("span",null,t)):i.createElement("span",null,t))}_renderCollections(){const{collections:e,onCollectionClick:t,showCollections:s}=this.props;return s&&e?i.createElement(m.j,{className:"item-extra",condensed:!0},e.map((e=>i.createElement(p.A,{key:e.id,muted:!0,onClick:()=>{t(e)},size:"sm"},i.createElement(c.Z,{importance:"tertiary",tiny:!0}),e.label)))):null}_renderTopics(e){const{view:t,showTopics:s}=this.props,n=e.topics||[];if(!s)return null;if("large"===t){const e={},t=n.reduce(((t,s)=>(e[s]||(e[s]=!0,t.push(i.createElement(f.r,{key:s,uri:"discover/sources/search/topic/".concat(s)},i.createElement(p.A,{muted:!0,size:"sm"},"#".concat(s))))),t)),[]);if(t.length)return i.createElement(m.j,{className:"item-extra",condensed:!0},t)}return null}_onClick(){this.props.onClick&&this.props.onClick(this.props.feed)}}b.propTypes={className:l().string,collections:l().arrayOf(l().object),feed:l().shape({description:l().string,id:l().string,subscribers:l().number,title:l().string,topics:l().arrayOf(l().string),velocity:l().number,visualUrl:l().string}).isRequired,includeFollowButton:l().bool,onClick:l().func,onCollectionClick:l().func,onCollectionPickerOpened:l().func,onSourceFollowed:l().func,scheme:l().string,showMetadata:l().bool,showCollections:l().bool,showTopics:l().bool,view:l().oneOf(["small","medium","large"])},b.defaultProps={collections:void 0,includeFollowButton:!1,onClick:void 0,onCollectionClick:()=>{},onCollectionPickerOpened:()=>{},onSourceFollowed:()=>{},scheme:"",showCollections:!1,showMetadata:!1,showTopics:!1,view:"large"}},96750:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(19577),d=s(21050),h=s(53670),u=s(9990);class p extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderFeed",((e,t)=>{const{feedRenderer:s,onSourceFollowed:n}=this.props,{areRecsVisible:r,leoQueryFeedId:o,leoRecs:l,preloadedLeoQueryFeedId:d,scheme:p}=this.state;let m=null;if(e.id===o||e.id===d){const t=l.map((e=>i.cloneElement(s(e),{className:"m-t-1",key:e.id,onSourceFollowed:n.bind(this,null),scheme:p,hideSimilarSourcesButton:!0}))),g=a()({"leo-recommendations":!0,hidden:!r||e.id===d&&e.id!==o});m=i.createElement("div",{className:g,key:"leo-recommendations"},l.length&&i.createElement("div",null,i.createElement(u.H3,{appearance:"h4",className:"leo-recommendations__heading"},"People who read this source also read"),i.createElement(h.z,{className:"close-button",icon:i.createElement(c.Z,{importance:"tertiary"}),importance:"tertiary",onClick:this._onCloseClick,title:"Close"}),t))}return i.cloneElement(s(e,t),{key:e.id,index:t,onCollectionPickerOpened:this._onCollectionPickerOpened,onSourceFollowed:this._onSourceFollowed.bind(this,t),recommendedSourcesSection:m})})),(0,n.Z)(this,"_onCloseClick",(()=>{this.setState({areRecsVisible:!1})})),(0,n.Z)(this,"_onCollectionPickerOpened",(e=>{const{enableLeo:t}=this.props,{areRecsVisible:s,leoQueryFeedId:n,preloadedLeoQueryFeedId:i}=this.state;t&&e!==n&&e!==i&&(s||this.setState({preloadedLeoQueryFeedId:e}),this.feeds.askFeedRecommendations(e,3).then((t=>{const{recommendations:s,scheme:n,versionCode:i}=t;s&&s.length?this.setState({preloadedLeoRecs:s,preloadedLeoVersionCode:i,preloadedScheme:n}):(this.setState({preloadedLeoQueryFeedId:""}),this.analytics.trackLeoEvent("discover.feedRecommendations.none","fetch",e))})).catch((e=>{this.setState({preloadedLeoRecs:[],preloadedLeoVersionCode:"",preloadedScheme:""}),console.log("Failed to get leo recs: ".concat(e.message))})))})),(0,n.Z)(this,"_onSourceFollowed",((e,t)=>{const{enableLeo:s,onSourceFollowed:n}=this.props,{areRecsVisible:i,leoQueryFeedId:r,preloadedLeoRecs:a,preloadedLeoQueryFeedId:o,preloadedLeoVersionCode:l,preloadedScheme:c}=this.state;n(e),s&&(t===r&&i||(r&&this._saveLeoAnalytics(),this.setState({addedLeoRecIds:[],areRecsVisible:!1,leoQueryFeedId:t,leoRecs:[]}),a.length&&o===t?(this.setState({addedLeoRecIds:[],areRecsVisible:!0,leoRecs:a,leoVersionCode:l,preloadedLeoQueryFeedId:"",preloadedLeoVersionCode:"",scheme:c}),this.analytics.trackLeoEvent("discover.feedRecommendations","show",t)):this.feeds.askFeedRecommendations(t,3).then((e=>{const{recommendations:s,scheme:n,versionCode:i}=e;s&&s.length?(this.setState({areRecsVisible:!0,leoRecs:s,leoVersionCode:i,scheme:n}),this.analytics.trackLeoEvent("discover.feedRecommendations","show",t)):(this.setState({leoQueryFeedId:""}),this.analytics.trackLeoEvent("discover.feedRecommendations.none","fetch",t))})).catch((e=>{this.setState({areRecsVisible:!1}),console.log("Failed to get leo recs: ".concat(e.message))}))))})),this._defaultScrollTarget=document.getElementById("feedlyFrame"),this.state={addedLeoRecIds:[],areRecsVisible:!1,leoQueryFeedId:"",leoRecs:[],leoVersionCode:"",preloadedLeoRecs:[],preloadedLeoQueryFeedId:"",preloadedLeoVersionCode:"",preloadedScheme:"",scheme:""}}componentDidMount(){this.leo=streets.service("leo"),this.feeds=streets.service("feeds"),this.analytics=streets.service("analytics"),this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.state.leoQueryFeedId&&this._saveLeoAnalytics(),this._defaultScrollTarget=null,this.leo=null,this.feeds=null,this.analytics=null,this.reader.unregisterObserver(this),this.reader=null}onFeedChanged(e){const{addedLeoRecIds:t,leoRecs:s}=this.state;s.find((t=>t.id===e))&&this.setState({addedLeoRecIds:[...t,e]})}render(){const{feeds:e,renderAllAtOnce:t,scrollTarget:s=this._defaultScrollTarget}=this.props;return i.createElement("div",{className:"list list-feed"},t?e.map(this._renderFeed):i.createElement(d.G,{batchSize:3,childRenderArgs:e,childRenderer:this._renderFeed,initialChildCount:7,scrollTarget:s}))}_saveLeoAnalytics(){const{addedLeoRecIds:e,leoQueryFeedId:t,leoRecs:s,leoVersionCode:n}=this.state,i=s.map((e=>e.id));this.leo.askSaveAnalytics(t,i,e,n,"discover").catch((e=>{console.log("Failed to save leo analytics: ".concat(e.message))}))}}p.propTypes={enableLeo:l().bool,feedRenderer:l().func.isRequired,feeds:l().arrayOf(l().object).isRequired,onSourceFollowed:l().func,renderAllAtOnce:l().bool,scrollTarget:l().oneOfType([l().shape({clientHeight:l().number,scrollHeight:l().number,scrollTop:l().number}),l().shape({document:l().object})])},p.defaultProps={enableLeo:!1,onSourceFollowed:()=>{},renderAllAtOnce:!1,scrollTarget:void 0}},46449:(e,t,s)=>{"use strict";s.d(t,{j:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(15813);class o extends n.PureComponent{render(){const{alt:e,borderless:t,className:s,compact:i,square:r,url:o}=this.props,l=!o&&e&&e.length?e.charAt(0):null;return n.createElement(a.t,{alt:e,borderless:t,className:s,compact:i,square:r,url:o},l)}}o.propTypes={alt:r().string,borderless:r().bool,className:r().string,compact:r().bool,square:r().bool,url:r().string},o.defaultProps={alt:void 0,borderless:!1,className:void 0,compact:!1,square:!1,url:void 0}},56336:(e,t,s)=>{"use strict";s.d(t,{W:()=>h});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(50506),d=s.n(c);class h extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onBlur",(e=>{const{children:t}=this.props,s=i.Children.only(t),{props:{onBlur:n}={}}=s;this.setState({isFocusVisible:!1}),n&&n(e)})),(0,n.Z)(this,"_onFocus",(e=>{const{children:t}=this.props,s=i.Children.only(t),{props:{onFocus:n}={}}=s,r="keyboard"===d().ask();this.setState({isFocusVisible:r}),n&&n(e)})),this.state={isFocusVisible:!1}}render(){const{children:e,focusVisibleClass:t}=this.props,{isFocusVisible:s}=this.state,n=i.Children.only(e),{props:{className:r,...o}={}}=n;return i.cloneElement(n,{...o,className:a()(r,{[t]:s}),onBlur:this._onBlur,onFocus:this._onFocus})}}h.propTypes={children:l().node.isRequired,focusVisibleClass:l().string.isRequired}},7860:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var n=s(47169),i=s(32735),r=s(6880),a=s(60216),o=s.n(a);class l extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_handleReturn",(()=>{const{handleReturn:e,ignoreEnterKey:t}=this.props;return!t&&e?e():t})),(0,n.Z)(this,"_onBlur",(()=>{this._onBlur=window.setTimeout((()=>{const{onBlur:e}=this.props;null==e||e()}),0)})),(0,n.Z)(this,"_onContainerRef",(e=>{this._container=e})),(0,n.Z)(this,"_onEditorRef",(e=>{this._editor=e})),(0,n.Z)(this,"_onFocus",(()=>{const{onFocus:e}=this.props;e()}))}componentDidMount(){this._updateEventListeners();const{editorState:e}=this.props;e.getSelection().hasFocus&&this._onFocus()}componentDidUpdate(){this._updateEventListeners()}componentWillUnmount(){const e=this._container.querySelector("[contenteditable=true]");window.clearTimeout(this._onBlur),this._onBlur=null,e&&(e.removeEventListener("blur",this._handleOnBlur),e.removeEventListener("focus",this._handleOnFocus)),this._handleOnBlur=null,this._handleOnFocus=null}render(){const{className:e,keyBindingFn:t,style:s}=this.props,n={...this.props,ignoreEnterKey:null,onBlur:null,onFocus:null,style:null};return i.createElement("div",{ref:this._onContainerRef,className:"draft-editor "+(e||""),style:s},i.createElement(r.Editor,Object.assign({},n,{ref:this._onEditorRef,keyBindingFn:t,handleReturn:this._handleReturn,stripPastedStyles:!0,suppressContentEditableWarning:!0})))}blur(){this._editor&&this._editor.blur()}focus(){this._editor&&this._editor.focus()}_updateEventListeners(){const{onBlur:e,onFocus:t}=this.props,s=this._container.querySelector("[contenteditable=true]");e?this._handleOnBlur||(this._handleOnBlur=this._onBlur,s.addEventListener("blur",this._handleOnBlur)):this._handleOnBlur&&(s.removeEventListener("blur",this._handleOnBlur),this._handleOnBlur=null),t?this._handleOnFocus||(this._handleOnFocus=this._onFocus,s.addEventListener("focus",this._handleOnFocus)):this._handleOnFocus&&(s.removeEventListener("focus",this._handleOnFocus),this._handleOnFocus=null)}}l.propTypes={className:o().string,editorState:o().shape({getSelection:o().func}),handleReturn:o().func,ignoreEnterKey:o().bool,onBlur:o().func,onFocus:o().func},l.defaultProps={className:void 0,editorState:void 0,handleReturn:void 0,ignoreEnterKey:!1,onBlur:void 0,onFocus:void 0}},12859:(e,t,s)=>{"use strict";s.d(t,{g:()=>h});var n=s(32735),i=s(40841),r=s.n(i),a=s(24443),o=s.n(a),l=s(60216),c=s.n(l),d=s(32470);function h(e){let{className:t,count:s}=e;return n.createElement("span",{className:r()(t,"count-followers"),title:s,"data-count":s},(0,d.HN)(s)," ",o()("follower",s))}h.propTypes={className:c().string,count:c().number.isRequired},h.defaultProps={className:""}},75113:(e,t,s)=>{"use strict";s.d(t,{h:()=>ht});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(94773);const d=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M11 18h11v2H11v-2Zm-5 0h5v2H6v-2Zm5-5h11v2H11v-2Zm-5 0h5v2H6v-2Zm5-5h11v2H11V8ZM6 8h5v2H6V8Z",fill:"currentColor",fillRule:"evenodd"}))}));const h=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M11 18h11v2H11v-2Zm-5 0h3v2H6v-2Zm5-5h11v2H11v-2Zm-5 0h3v2H6v-2Zm5-5h11v2H11V8ZM6 8h3v2H6V8Z",fill:"currentColor",fillRule:"evenodd"}))}));const u=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M6 8h4v2H6V8Zm6 0h4v2h-4V8Zm6 0h4v2h-4V8ZM6 13h4v2H6v-2Zm6 0h4v2h-4v-2Zm6 0h4v2h-4v-2ZM6 18h4v2H6v-2Zm6 0h4v2h-4v-2Zm6 0h4v2h-4v-2Z",fill:"currentColor",fillRule:"evenodd"}))}));const p=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M20 18h-9v2h11v-7H11v2h9v3ZM8 18h3v2H6v-7h5v2H8v3Zm3-10h11v2H11V8ZM6 8h5v2H6V8Z",fill:"currentColor",fillRule:"evenodd"}))}));const m=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M7.89 10.43c.924 0 1.68.756 1.68 1.68v4.21c0 .924-.756 1.68-1.68 1.68-.926 0-1.681-.756-1.681-1.68v-4.21c0-.924.755-1.68 1.68-1.68Zm4.22 4.209c.926 0 1.681.755 1.681 1.68 0 .925-.755 1.681-1.68 1.681-.925 0-1.681-.756-1.681-1.68v-1.681h1.68ZM5.362 10.43v1.68c0 .926-.755 1.681-1.68 1.681-.925 0-1.681-.755-1.681-1.68 0-.925.756-1.68 1.68-1.68h1.681Zm10.958 0c.925 0 1.681.756 1.681 1.68 0 .926-.756 1.681-1.68 1.681h-4.21c-.924 0-1.68-.755-1.68-1.68 0-.925.756-1.68 1.68-1.68h4.21ZM7.89 6.21c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68H3.68C2.757 9.57 2 8.815 2 7.89c0-.925.756-1.68 1.68-1.68h4.21Zm8.43 0c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68h-1.681V7.89c0-.925.755-1.68 1.68-1.68ZM12.111 2c.925 0 1.68.756 1.68 1.68v4.21c0 .924-.755 1.68-1.68 1.68-.925 0-1.681-.756-1.681-1.68V3.68c0-.924.756-1.68 1.68-1.68ZM7.889 2c.925 0 1.681.756 1.681 1.68v1.681H7.89c-.926 0-1.681-.755-1.681-1.68 0-.925.755-1.681 1.68-1.681Z",fill:"currentColor",fillRule:"nonzero"}))}));var g=s(83442),f=s(5375),y=s(70664),v=s(94866),b=s(74221),E=s(45750),C=s.n(E),w=s(3015),k=s(1651),_=s(85902),M=s(37567),S=s(53670),I=s(30658),T=s(74256);class N extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddPdfClick",(async()=>{const{summary:e,title:t}=this.state,{onClose:s,onSave:n,pdfPreview:i,tag:r,url:a}=this.props;this.setState({isLoading:!0});const o={author:i.author,summary:(0,_.Bj)(e),title:t,url:a};r&&(o.tagId=r.id);n(await this.reader.askLookupPdfEntry(o)),s&&s()})),(0,n.Z)(this,"_onKeyPress",(e=>{const{isSummaryFocused:t}=this.state,{pdfPreview:s}=this.props;"Enter"!==e.key||!s||this._isAddPdfButtonDisabled()||t||this._onAddPdfClick()})),(0,n.Z)(this,"_onSummaryChange",(e=>{this.setState({summary:e})})),(0,n.Z)(this,"_onTitleChange",(e=>{this.setState({title:e})})),(0,n.Z)(this,"_onSummaryBlur",(()=>{this.setState({isSummaryFocused:!1})})),(0,n.Z)(this,"_onSummaryFocus",(()=>{this.setState({isSummaryFocused:!0})})),this.state={isLoading:!1,isSummaryFocused:!1,summary:e.pdfPreview.summary||"",title:e.pdfPreview.title||""}}componentDidMount(){this.reader=streets.service("reader")}componentWillUnmount(){this.reader=null}render(){const{isLoading:e,summary:t,title:s}=this.state,{className:n,onClose:r}=this.props;return i.createElement("div",{className:"form ".concat(n),onKeyPress:this._onKeyPress},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"SavePdfForm__title"},"Title"),i.createElement(T.A,{autoFocus:!0,id:"SavePdfForm__title",onChange:this._onTitleChange,value:s})),i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"SavePdfForm__summary"},"Summary"),i.createElement(I.K,{id:"SavePdfForm__summary",onBlur:this._onSummaryBlur,onChange:this._onSummaryChange,onFocus:this._onSummaryFocus,value:t})),i.createElement(M.X,{className:"m-b-1",title:s}),i.createElement(S.z,{label:"Save to Board",onClick:this._onAddPdfClick,loading:e,disabled:this._isAddPdfButtonDisabled()}),r&&i.createElement(S.z,{label:"Cancel",onClick:r,importance:"secondary"}))}_isAddPdfButtonDisabled(){return!this.state.title||!this.state.summary}}N.propTypes={className:l().string,onClose:l().func,onSave:l().func,pdfPreview:l().shape({author:l().string,summary:l().string,title:l().string}),tag:l().shape({id:l().string,label:l().string}),url:l().string.isRequired},N.defaultProps={className:"",onClose:void 0,onSave:()=>{},pdfPreview:{},tag:void 0};var L=s(2772),P=s(70542);class D extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddWebPageClick",(()=>{const{onClose:e,saveState:t,tag:s}=this.props;this._onSaveComment(),this.reader.askTagEntry(this.state.entryPreview.getId(),s).then((()=>{t(null),e()})).catch((e=>{this.signs.showError("Error: "+(e.message||e))}))})),(0,n.Z)(this,"_onKeyPress",(e=>{const{isAddWebPageButtonDisabled:t}=this.state;"Enter"!==e.key||t||this._onAddWebPageClick()})),(0,n.Z)(this,"_onSaveComment",(async()=>{streets.hasProAccess()&&await this._createCommentRef.current.askSaveComment()})),(0,n.Z)(this,"_onUrlChange",(e=>{this.setState({isAddWebPageButtonDisabled:!0,isButtonLoading:!0,entryPreview:null,previewLoading:!0,url:e,urlHint:"",urlError:""});const t=e.trim();""===t?(this.setState({buttonLabel:"Save to board",isButtonLoading:!1,previewLoading:!1}),this.props.saveState&&this.props.saveState(null)):this._lookupUrl(t)})),this._createCommentRef=i.createRef(),this._lookupUrl=C()(this._lookupUrl,500),e.initialState?this.state=e.initialState:this.state={buttonLabel:"Save to board",commentState:{},entryPreview:null,imageUrl:null,isAddWebPageButtonDisabled:!0,isButtonLoading:!1,isSummaryFocused:!1,pdfPreview:null,pdfSummary:"",pdfTitle:"",previewLoading:!1,url:"",urlHint:"",urlError:""}}componentDidMount(){this.reader=streets.service("reader"),this.image=streets.service("image"),this.signs=streets.service("signs")}componentDidUpdate(e,t){t!==this.state&&this.props.saveState(this.state)}componentWillUnmount(){this.reader=null,this.image=null,this.signs=null}render(){const{onClose:e,tag:t}=this.props,{pdfPreview:s,url:n}=this.state;return i.createElement("div",{className:"AddUrlForm form"},i.createElement(L.H2,{className:"m-t-0"},"Save a URL to ",t.label),s?i.createElement(N,{onClose:e,pdfPreview:s,tag:t,url:n}):this._renderWebForm())}_renderPreview(){const{entryPreview:e,imageUrl:t}=this.state;if(e){let s;return e.listAuthors()&&(s=" by "+e.listAuthors()),i.createElement("div",null,i.createElement(P.u,{className:"AddUrlForm__visual item-image",url:t}),i.createElement("div",null,i.createElement("div",{className:"item-header"},e.getTitle()),i.createElement("div",{className:"item-meta"},e.getSourceTitle(),s)))}return i.createElement("div",{className:"AddUrlForm__empty-preview"})}_renderWebForm(){const{buttonLabel:e,commentState:t,entryPreview:s,isAddWebPageButtonDisabled:n,isButtonLoading:r,previewLoading:o,url:l,urlError:c,urlHint:d}=this.state,{onClose:h}=this.props;return i.createElement("div",{onKeyPress:this._onKeyPress},i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"AddUrlForm__url"},"URL"),i.createElement(T.A,{autoComplete:"off",autoFocus:!0,clearable:!0,error:c,hint:d,id:"AddUrlForm__url",onChange:this._onUrlChange,value:l})),i.createElement("div",{className:"AddUrlForm__entry-preview field"},i.createElement("label",{className:a()({loading:o})},"Preview"),this._renderPreview()),streets.hasProAccess()&&i.createElement("div",{className:"AddUrlForm__comment"},i.createElement(k.t,Object.assign({},t,{entryId:s?s.getId():"",hideButtons:!0,ref:this._createCommentRef,saveState:e=>{this.setState({commentState:e})},user:streets.service("profile").getUserInfo()}))),i.createElement(S.z,{label:e,onClick:this._onAddWebPageClick,loading:r,disabled:n}),i.createElement(S.z,{label:"Cancel",onClick:h,importance:"secondary"}))}async _lookupUrl(e){const{tag:{id:t}}=this.props;if(1===e.length)return;let s;try{s=await this.reader.askLookupEntryByUrl(e)}catch(i){console.log(i.message)}if(!s){try{const t=await this.reader.askPdfMetadata(e);if(t)return void this.setState({buttonLabel:"Save to Board",isButtonLoading:!1,entryPreview:null,pdfPreview:t,pdfSummary:t.summary||"",pdfTitle:t.title||"",previewLoading:!1,urlHint:""})}catch(i){console.log(i.message)}return void this.setState({buttonLabel:"No Content",isButtonLoading:!1,entryPreview:null,pdfPreview:null,previewLoading:!1,urlHint:"Content not available"})}const n=s.listTags().find((e=>e.id===t));if(n){const e=(0,w.p6)(new Date(n.actionTimestamp),"MM/dd/yyyy");this.setState({buttonLabel:"Already Saved",isButtonLoading:!1,entryPreview:s,pdfPreview:null,previewLoading:!1,urlHint:"Already saved on "+e})}n||this.setState({isAddWebPageButtonDisabled:!1,buttonLabel:"Save to board",isButtonLoading:!1,entryPreview:s,pdfPreview:null,previewLoading:!1});try{const e=await this.image.askSecureVisualUrl(s);this.setState({imageUrl:e})}catch(i){this.setState({imageUrl:null})}}}D.propTypes={initialState:l().objectOf(l().any),onClose:l().func.isRequired,saveState:l().func,tag:l().shape({id:l().string,label:l().string}).isRequired},D.defaultProps={initialState:null,saveState:()=>{}};var A=s(29650),O=s(84756),x=s(20569),R=s(9648),j=s(30392),F=s(11505),U=s(86044),z=s(63836),Z=s(39908),B=s(54274),H=s(30271),Y=s(81464),W=s(77496),q=s(15238),V=s(54960),Q=s(7486),G=s(99689),K=s(80556),J=s.n(K),X=s(94600),$=s(855),ee=s(15851),te=s(1542),se=s(9990),ne=s(92121),ie=s(36407);const re={batchSize:20};class ae extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_askAddFeed",(async(e,t,s)=>{const{streamInfo:{id:n}}=this.props,{title:i}=this.state;await Promise.all([...s.map((t=>{let{id:s}=t;return this.personalcollections.askAddFeed(s,{id:e,title:i})})),...t.map((t=>{let{id:s}=t;return this.enterprisecollections.askAddFeed(s,{id:e,title:i})}))]),await Promise.all([...s.map((e=>{let{id:t}=e;return this.personalcollections.askRemoveFeed(t,n)})),...t.map((e=>{let{id:t}=e;return this.enterprisecollections.askRemoveFeed(t,n)}))])})),(0,n.Z)(this,"_askUpdateTitle",(async(e,t,s)=>{const{title:n}=this.state;return Promise.all([...s.map((t=>{let{id:s}=t;return this.personalcollections.askRenameFeed(s,{id:e,title:n})})),...t.map((t=>{let{id:s}=t;return this.enterprisecollections.askRenameFeed(s,{id:e,title:n})}))])})),(0,n.Z)(this,"_onDomainChange",(e=>{this.setState((t=>{let{domain:s,hasPendingChanges:n}=t;return{hasPendingChanges:n||s!==e,domain:e}}),this._updateExamples)})),(0,n.Z)(this,"_onKeywordChange",(e=>{const t=(0,$.zd)(e);this.setState({hasPendingChanges:!0,keyword:t,error:(0,$.Rd)(t)},(()=>{const{error:e}=this.state;e||this._updateExamples()}))})),(0,n.Z)(this,"_onLanguageChange",(e=>{let{code:t}=e;this.setState({hasPendingChanges:!0,languageCode:t},this._updateExamples)})),(0,n.Z)(this,"_onSubmitClick",(async()=>{const{onDone:e}=this.props,{streamInfo:{id:t}}=this.props;this.setState({isSaving:!0});try{const[s,n,i]=await Promise.all([this._askActiveFeedId(),this.personalcollections.askListCollectionsForFeed(t),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollectionsForFeed(t):[]]);s!==t?(await this._askAddFeed(s,i,n),streets.service("router").loadPage("subscription/".concat(encodeURIComponent(s)))):(await this._askUpdateTitle(s,i,n),this.setState({isSaving:!1},e))}catch(s){this.signs.setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onTitleChange",(e=>{this.setState({hasPendingChanges:!0,title:e})})),(0,n.Z)(this,"_updateExamples",(()=>{this.setState({isLoadingExamples:!0}),this._updateExamplesDebounced()})),(0,n.Z)(this,"_updateExamplesDebounced",C()((async()=>{const{keyword:e}=this.state;this._exampleStream&&(this.reader.releaseStream(this._exampleStream),this._exampleStream.unregisterObserver(this),this._exampleStream=null);try{const t=await this._askActiveFeedId();if(e!==this.state.keyword)return;t?(this._exampleStream=this.reader.lookupStream(t,re),this._exampleStream.registerObserver(this),this.setState((e=>({streamVersion:e.streamVersion+1})))):this.setState({exampleEntries:null,isDeadFeed:!0,isLoadingExamples:!1})}catch(t){this.setState({exampleEntries:null,isDeadFeed:!1,isLoadingExamples:!1})}}),1500));const{streamInfo:{id:t,title:s}={}}=e,i=(0,V.hM)(t),{domain:r,keyword:a}=(0,V.QW)(i);this.state={domain:r,error:null,keyword:a,hasPendingChanges:!1,isDeadFeed:!1,isLoadingExamples:!1,languageCode:(0,V.Ds)(t)||(0,X.Mb)(),title:s,streamVersion:0}}componentDidMount(){this._id=J()("UpdateFilterForm"),this.feeds=streets.service("feeds"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections=streets.service("enterprisecollections"),this.collections=streets.service("collections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this._updateExamples()}componentWillUnmount(){this._id=null,this.personalcollections=null,this.enterprisecollections=null,this.collections=null,this.reader=null,this.signs=null,this.feeds=null}onStreamStateChanged(){const{entries:e,isLoadingEntries:t}=this._exampleStream.getState();this.setState({exampleEntries:e,isDeadFeed:!1,isLoadingExamples:t})}render(){const{onDone:e}=this.props,{domain:t,error:s,exampleEntries:n,keyword:r,hasPendingChanges:a,isDeadFeed:o,isLoadingExamples:l,isSaving:c,languageCode:d,title:h,streamVersion:u}=this.state;return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(L.H2,{appearance:"h1",sub:"Track mentions across thousands of news sites"},"Update Keyword Alert"),i.createElement("div",{className:"form"},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"".concat(this._id,"-title")},"Display title"),i.createElement(T.A,{id:"".concat(this._id,"-title"),clearable:!0,onChange:this._onTitleChange,padBottom:!0,value:h})),i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"".concat(this._id,"-keyword")},"Keyword"),i.createElement(T.A,{id:"".concat(this._id,"-keyword"),clearable:!0,hint:i.createElement(ie.Z,null,"Use ",i.createElement("strong",null,"AND"),", ",i.createElement("strong",null,"OR")," and"," ",i.createElement("strong",null,"-")," operators to refine this keyword."),onChange:this._onKeywordChange,padBottom:!0,value:r,error:s})),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"".concat(this._id,"-domain")},"Refine to a specific news site"),i.createElement(ee.c,{domain:t,keyword:r,language:d,onChange:this._onDomainChange})),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"".concat(this._id,"-language")},"Language"),i.createElement(ne.P,{id:"".concat(this._id,"-language"),fullWidth:!0,items:Object.entries(X.As).map((e=>{let[t,s]=e;return{code:t,label:s}})),labelKey:"label",onItemSelect:this._onLanguageChange,value:X.As[d]})),o&&i.createElement("div",{className:"field"},i.createElement("span",{className:"hint"},i.createElement("span",{className:"error"},"Sorry, there was a problem with the feed Google returned for this search."))),i.createElement(S.z,{className:"floated left",label:"Update Keyword",onClick:this._onSubmitClick,loading:c,disabled:c||o||!a||!h||!r}),i.createElement(S.z,{className:"floated left",label:"Cancel",onClick:e,importance:"secondary"}),i.createElement("div",{className:"field"},i.createElement(se.H3,{appearance:"h4"},"Example of matching stories"),i.createElement(te.c,{entries:n,loading:l,streamVersion:u})))))}async _askActiveFeedId(){const{domain:e,keyword:t,languageCode:s}=this.state,n=(0,V.T3)(t,e),i=(0,V.Cg)(n,s);if(!t)throw new Error;const[r]=await this.feeds.askSearchFeeds(i,{locale:s,numResults:1});return r&&"dead"!==r.state?r.id:null}}ae.propTypes={onDone:l().func.isRequired,streamInfo:l().shape({id:l().string,title:l().string}).isRequired};var oe=s(16581),le=s(17344),ce=s(86990),de=s(14355),he=s(88591),ue=s(8629),pe=s(6797),me=s(31220),ge=s(30840),fe=s(65940),ye=s(81501),ve=s(69734),be=s(16874),Ee=s(15500),Ce=s(23005);class we extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_updateEmailSettings",(e=>{this.setState((t=>{let{webAlertInfo:s}=t;return{webAlertInfo:{...s,emailSettings:e}}}))})),(0,n.Z)(this,"_onSubmit",(async e=>{e.preventDefault();try{const{onDone:e}=this.props,{webAlertInfo:t}=this.state;this.setState({isLoading:!0}),await this.alerts.askUpdateIntegrations(t.id,t),this.signs.showMessage("Web Alert settings updated"),e()}catch(t){this.signs.showError("Failed to update Web Alert settings: ".concat(t.message))}finally{this.setState({isLoading:!1})}})),(0,n.Z)(this,"_updateInfo",(async()=>{const{streamInfo:e}=this.props;try{this.setState({isLoadingAlertInfo:!0});const t=await this.alerts.askInfo(e.alertId);t.emailSettings||(t.emailSettings=(0,be.fW)()),this.setState({webAlertInfo:t})}catch(t){console.error("Failed to grab Web Alert info",t)}finally{this.setState({isLoadingAlertInfo:!1})}})),this.state={isLoading:!1,isLoadingAlertInfo:!0,webAlertInfo:null}}componentDidMount(){this.alerts=streets.service("alerts"),this.signs=streets.service("signs"),this._updateInfo()}componentWillUnmount(){this.alerts=null,this.signs=null}render(){const{isLoadingAlertInfo:e}=this.state;if(e)return i.createElement(Ce.g,{details:"sharing options"});const{onDone:t,streamInfo:s}=this.props,{isLoading:n,webAlertInfo:{emailSettings:r}}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement(Ee.o,{streamLabel:s.title,streamType:Ee.J.webAlert,settings:r,onChange:this._updateEmailSettings}),i.createElement(S.z,{disabled:n,label:"Update",loading:n,type:"submit"}),i.createElement(S.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:t}))}}we.propTypes={onDone:l().func.isRequired,streamInfo:l().shape({alertId:l().string.isRequired,id:l().string.isRequired,title:l().string.isRequired}).isRequired};var ke=s(94516),_e=s(61363),Me=s(82624),Se=s(10498);class Ie extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onSlackSettingsChanged",(e=>{let{slackChannelId:t}=e;this.setState((e=>{let{webAlertInfo:s}=e;return{webAlertInfo:{...s,slackChannelId:t}}}))})),(0,n.Z)(this,"_onWebhookSettingsChanged",(e=>{this.setState((t=>{let{webAlertInfo:s}=t;return{webAlertInfo:{...s,microsoftTeamsSettings:e}}}))})),(0,n.Z)(this,"_onSubmit",(async e=>{e.preventDefault();try{const{onDone:e}=this.props,{webAlertInfo:t}=this.state;this.setState({isLoading:!0}),await this.alerts.askUpdateIntegrations(t.id,t),this.signs.showMessage("Web Alert settings updated"),e()}catch(t){this.signs.showMessage("Failed to update Web Alert settings: ".concat(t.message))}this.setState({isLoading:!1})})),(0,n.Z)(this,"_updateInfo",(async()=>{const{streamInfo:e}=this.props;try{this.setState({isLoadingAlertInfo:!0});const t=await this.alerts.askInfo(e.alertId);this.setState({webAlertInfo:t})}catch(t){console.error("Failed to grab Web Alert info",t)}finally{this.setState({isLoadingAlertInfo:!1})}})),this.state={isLoading:!1,isLoadingAlertInfo:!1,webAlertInfo:{}}}componentDidMount(){this.alerts=streets.service("alerts"),this.signs=streets.service("signs"),this._updateInfo()}componentWillUnmount(){this.alerts=null,this.signs=null}render(){const{onDone:e,streamInfo:{id:t,alertId:s}}=this.props,{isLoading:n,isLoadingAlertInfo:r,webAlertInfo:{microsoftTeamsSettings:a={},slackChannelId:o}}=this.state;return r?i.createElement(Ce.g,{details:"sharing options"}):i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement(Me.A,{onChange:this._onSlackSettingsChanged,slackChannelId:o,streamId:t}),i.createElement(ke.F,{settings:a,onChange:this._onWebhookSettingsChanged,streamId:t}),i.createElement(_e.F,{sub:"Push articles from this Web Alert to other applications (MailChimp, SharePoint, etc.) via RSS",alwaysOn:!0,url:"".concat(window.BACKEND,"/f/alert/").concat(s,".atom")}),i.createElement(Se.l,{streamId:t,streamType:"Web Alert"}),i.createElement(S.z,{disabled:n,label:"Update",loading:n,type:"submit"}),i.createElement(S.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}}Ie.propTypes={onDone:l().func.isRequired,streamInfo:l().shape({alertId:l().string,id:l().string}).isRequired};const Te="email",Ne="sharing",Le=[{id:"general",label:"General"},{id:"email",label:"Newsletter"},{id:"sharing",label:"Sharing"}];class Pe extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTabChange",(e=>{this.setState({activeTab:e})})),this.state={activeTab:e.defaultTab}}render(){return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(ye.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),this._renderTabs(),this._renderContent()))}_renderHeader(e){let{isSticky:t}=e;const{streamInfo:s}=this.props;return i.createElement(fe.m,{compact:t,kicker:s.title,sticky:t,title:"Web Alert Settings"})}_renderTabs(){const{activeTab:e}=this.state;return i.createElement(ve.m,{items:Le,active:e,onChange:this._onTabChange})}_renderContent(){const{onDone:e,streamInfo:t}=this.props,{activeTab:s}=this.state;return s===Te?i.createElement(we,{onDone:e,streamInfo:t}):s===Ne?i.createElement(Ie,{onDone:e,streamInfo:t}):i.createElement(ge.v,{onDone:e,streamInfo:t})}}Pe.propTypes={defaultTab:l().string,onDone:l().func.isRequired,streamInfo:l().shape({alertId:l().string,id:l().string,title:l().string}).isRequired},Pe.defaultProps={defaultTab:"general"};const De="latest",Ae="oldest",Oe="most popular",xe="popular + latest";class Re extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{priorityDetails:null,usernames:{}}),(0,n.Z)(this,"_onEntryNavigationClick",(()=>{const{pagePreferences:e,setPreference:t}=this.props,{entryNavigation:s}=e;t("entryNavigation","visit"===s?"inline":"visit"),document.body.style.overflow=""})),(0,n.Z)(this,"_onManageClick",(e=>{const{streamId:t,streamInfo:s}=this.props,{isFeed:n,isCategory:i,isEnterprise:r,isTag:a}=(0,b.Yg)(t),o={streamInfo:s};e&&(o.defaultTab=e);let l=null;a?l=r?le.v:ce.q:i?l=r?A.K:Q.Y:(0,V.XP)(t)?l=ae:(0,v.$O)(s)?l=s.enterpriseName?Pe:G.s:n&&(l=G.s),this.slider.addSlide(l,o)})),(0,n.Z)(this,"_onOrganizeClick",(async()=>{const{streamInfo:e}=this.props,[t,s]=await Promise.all([this.personalcollections.askListCollections(),...streets.hasAdminBusinessAccess()?[this.enterprisecollections.askListCollections()]:[]]);streets.service("slider").addSlide(oe.e,{initialCollections:t,initialFeeds:[e],initialTeamCollections:s})})),(0,n.Z)(this,"_onUnreadOnlyClick",(()=>{const{pagePreferences:e,setPreference:t}=this.props,{hideReadArticlesFilter:s}=e;t("hideReadArticlesFilter","on"===s?"off":"on"),document.body.style.overflow=""}))}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.priorities=streets.service("priorities"),this.slider=streets.service("slider"),this._updateInfo()}componentWillUnmount(){this.enterprisecollections=null,this.personalcollections=null,this.priorities=null,this.slider=null}render(){return i.createElement(he.v,{className:"CustomizePageMenu",preventBackgroundScroll:!0},this._renderSortOptions(),this._renderFilterOptions(),this._renderPriorityControls(),this._renderNavigationOptions(),this._renderManage(),this._renderUnfollowAndArchive(),this._renderDelete())}_renderSortOptions(){const{activeTab:e,pagePreferences:t,setPreference:s,streamId:n}=this.props,{isImportant:r,isPriority:a,isTag:o}=(0,b.Yg)(n);if(!n||"priority"===e||r||a)return null;let{entrySort:l}=t;return o&&l!==De&&l!==Ae&&(l=De),i.createElement(pe.a,{name:"entrySort",className:"CustomizePageMenu__section",onChange:e=>{e!==Oe||streets.hasProAccess()?s("entrySort",e):streets.service("router").loadPage("pro/sort-popularity")},selectedValue:l},!o&&i.createElement(me.Y,{value:Oe},"Most Popular"),!o&&i.createElement(me.Y,{value:xe},"Popular + Latest"),i.createElement(me.Y,{value:De},"Latest"),i.createElement(me.Y,{value:Ae},"Oldest"))}_renderFilterOptions(){const{onShowMutedClick:e,pagePreferences:t,showMuted:s,streamId:n}=this.props,{isEnterprise:r,isGlobalEnterprise:a,isTag:o}=(0,b.Yg)(n),{hideReadArticlesFilter:l}=t;return!n||!r&&o&&!a?null:i.createElement("div",{className:"CustomizePageMenu__section"},i.createElement(ue.s,{onClick:this._onUnreadOnlyClick},i.createElement(de.P,{checked:"on"===l}),"Unread only"),!o&&i.createElement(ue.s,{onClick:e},i.createElement(de.P,{checked:s}),"Show muted articles"))}_renderPriorityControls(){const{streamId:e,onPauseClick:t,onResumeClick:s}=this.props,{priorityDetails:n,usernames:r}=this.state,{isEnterprise:a,isPriority:o}=(0,b.Yg)(e),l=streets.hasAdminBusinessAccess();return n&&e&&o?a&&!l?null:i.createElement("div",{className:"CustomizePageMenu__section"},i.createElement(ue.s,{onClick:()=>{n.active?t(n):s(n)}},n.active?i.createElement(R.Z,{importance:"secondary"}):i.createElement(j.Z,{importance:"secondary"}),n.active?"Pause":"Resume"),i.createElement(ue.s,{danger:!0,onClick:()=>{this._onRemoveClick(n,r)}},i.createElement(F.Z,{color:"danger"}),"Delete")):null}_renderNavigationOptions(){const{pagePreferences:e,streamId:t,streamInfo:s}=this.props,{entryNavigation:n}=e,{isFeed:r}=(0,b.Yg)(t);return!r||(0,v.dB)(s)?null:i.createElement("div",{className:"CustomizePageMenu__section"},i.createElement(ue.s,{onClick:this._onEntryNavigationClick},i.createElement(de.P,{checked:"visit"===n}),"Open in website directly"))}_renderManage(){const{isSubscribed:e,streamId:t,streamInfo:s}=this.props,{isAll:n,isCategory:r,isEnterprise:a,isFeed:o,isGlobal:l,isGlobalEnterprise:c,isImportant:d,isReadLater:h,isRecentlyRead:u,isTag:p,isAnnotated:m}=(0,b.Yg)(t),g=[],f=(0,v.$O)(s)&&s.enterpriseName;return m||a&&!streets.hasAdminBusinessAccess()||n||d||h||u||!streets.getUserId()?null:(o&&e&&(0,V.XP)(t)?g.push(i.createElement(ue.s,{key:"updateKeyword",onClick:this._onManageClick},i.createElement(U.Z,{importance:"secondary"}),"Update Keyword")):(o&&e||p&&!l||r&&!l)&&g.push(i.createElement(ue.s,{key:"rename",onClick:()=>{this._onManageClick("general")}},i.createElement(U.Z,{importance:"secondary"}),"Rename")),(f||a&&(p||r)&&!l)&&g.push(i.createElement(ue.s,{key:"Sharing",onClick:()=>{this._onManageClick("sharing")}},i.createElement(z.Z,{importance:"secondary"}),"Sharing")),r&&!c&&g.push(i.createElement(ue.s,{key:"sources",onClick:()=>{this._onManageClick("feeds")}},i.createElement(Z.Z,{importance:"secondary"}),"Manage feeds")),o&&e&&g.push(i.createElement(ue.s,{key:"organize",onClick:this._onOrganizeClick},i.createElement(B.Z,{importance:"secondary"}),"Move to...")),!(0,V.XP)(t)&&(o&&e||p&&!c||r&&!c)&&g.push(i.createElement(ue.s,{key:"general-properties",onClick:()=>{this._onManageClick("general")}},i.createElement(H.Z,{importance:"secondary"}),"More settings")),g.length?i.createElement("div",{className:"CustomizePageMenu__section"},g):null)}_renderDelete(){const{onDeleteClick:e,streamId:t}=this.props,{isCategory:s,isEnterprise:n,isTag:r,isGlobal:a,isReadLater:o}=(0,b.Yg)(t);return!t||!r&&!s||n||a&&!o?null:i.createElement("div",{className:"CustomizePageMenu__section"},i.createElement(ue.s,{danger:!0,onClick:e},i.createElement(F.Z,{color:"danger"}),o?"Clear all":"Delete"))}_renderUnfollowAndArchive(){const{isSubscribed:e,onArchiveClick:t,onUnfollowClick:s,streamId:n}=this.props,{isAll:r,isAllTag:a,isAnnotated:o,isCategory:l,isFeed:c,isGlobal:d,isTag:h}=(0,b.Yg)(n);if(!e||o||r||a||d)return null;let u;return u=l?Y.Z:h?W.Z:F.Z,streets.hasAdminBusinessAccess()&&!c?i.createElement("div",{className:"CustomizePageMenu__section"},i.createElement(ue.s,{onClick:s},i.createElement(u,{importance:"secondary"}),"Unfollow"),i.createElement(ue.s,{danger:!0,onClick:t},i.createElement(q.Z,{color:"danger"}),"Archive")):i.createElement("div",{className:"CustomizePageMenu__section"},i.createElement(ue.s,{danger:!0,onClick:s},i.createElement(u,{color:"danger"}),"Unfollow"))}_onRemoveClick(e,t){const{onRemoveClick:s}=this.props;s(e,t[e.createdBy])}async _updateInfo(){const{streamId:e}=this.props,[t,s]=await Promise.all([this.priorities.askPriority(e),this.enterprise.askListUsernames()]);this.setState({priorityDetails:t,usernames:s})}}Re.propTypes={activeTab:l().string,isSubscribed:l().bool,onArchiveClick:l().func,onDeleteClick:l().func,onPauseClick:l().func,onRemoveClick:l().func,onResumeClick:l().func,onShowMutedClick:l().func.isRequired,onUnfollowClick:l().func,pagePreferences:l().objectOf(l().any).isRequired,setPreference:l().func.isRequired,showMuted:l().bool.isRequired,streamId:l().string,streamInfo:l().shape({enterpriseName:l().string,label:l().string})},Re.defaultProps={activeTab:"",isSubscribed:!1,onArchiveClick:()=>{},onDeleteClick:()=>{},onPauseClick:()=>{},onRemoveClick:()=>{},onResumeClick:()=>{},onUnfollowClick:()=>{},streamId:"",streamInfo:null};var je=s(56877),Fe=s(91729),Ue=s(65060),ze=s(29931),Ze=s(31731);class Be extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_closeDeleteModal",(()=>{this.setState({isDeleteModalOpen:!1})})),(0,n.Z)(this,"_deleteEntity",(async()=>{const{streamId:e}=this.props,{isTag:t}=(0,b.Yg)(e);this.setState({isDeleteButtonLoading:!0});try{t?await this.personaltags.askDeleteTag(e):await this.personalcollections.askDeleteCollection(e),streets.service("router").loadMyPage(),streets.service("signs").showMessage("".concat(t?"Board":"Feed"," deleted"))}catch(s){streets.service("signs").showError("Operation failed: ".concat(s.message)),this.setState({isDeleteButtonLoading:!1,isDeleteModalOpen:!1})}})),(0,n.Z)(this,"_onCloseDeletePriorityModal",(()=>{this.setState({priorityToDelete:null,isDeletePriorityConfirmModalOpen:!1})})),(0,n.Z)(this,"_onDeleteClick",(()=>{this.setState({isDeleteModalOpen:!0})})),(0,n.Z)(this,"_onCloseArchiveModal",(()=>{const{streamId:e}=this.props,{isTag:t,isCategory:s}=(0,b.Yg)(e);t?this.setState({boardToArchive:null}):s&&this.setState({collectionToArchive:null})})),(0,n.Z)(this,"_onArchiveClick",(async()=>{const{streamId:e}=this.props,{isTag:t,isCategory:s}=(0,b.Yg)(e);t?this.setState({boardToArchive:await this.enterprisetags.askLookupTag(e)}):s&&this.setState({collectionToArchive:await this.enterprisecollections.askLookupCollection(e)})})),(0,n.Z)(this,"_onDeletePriorityConfirmClick",(async()=>{const{priorityToDelete:e}=this.state;this.setState({isDeletePriorityConfirmLoading:!0});try{await this.priorities.askDelete(e.id),this.signs.showMessage("".concat(e.label," has been deleted.")),streets.service("router").loadDefaultPage()}catch(t){this._onUpdateError(e)}this.setState({isDeletePriorityConfirmLoading:!1,isDeletePriorityConfirmModalOpen:!1})})),(0,n.Z)(this,"_onPauseClick",(async e=>{const t={streamIds:[],...e,active:!1},{isEnterprise:s}=(0,b.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.signs.showMessage("".concat(e.label," has been paused."))}catch(n){this._onUpdateError(e)}})),(0,n.Z)(this,"_onRemoveClick",((e,t)=>{this.setState({priorityToDelete:e,isDeletePriorityConfirmModalOpen:!0,enterpriseCreatedByName:t})})),(0,n.Z)(this,"_onResumeClick",(async e=>{const t={streamIds:[],...e,active:!0},{isEnterprise:s}=(0,b.Yg)(e.id);this._updatePriorityService(s);try{await this.priorities.askSave(t),this.signs.showMessage("".concat(e.label," has been resumed."))}catch(n){this._onUpdateError(e)}})),(0,n.Z)(this,"_onUnfollowClick",(async()=>{const{streamId:e}=this.props,{isCategory:t,isFeed:s,isTag:n}=(0,b.Yg)(e);if(s)this.setState({isUnfollowSourceModalOpen:!0});else try{n?await this.enterprisetags.askUnsubscribeTag(e):t&&await this.enterprisecollections.askUnsubscribeCollection(e)}catch(i){const e="Failed to unfollow ".concat(n?"board":"collection",": ").concat(i.message);console.error(e),this.signs(e)}})),(0,n.Z)(this,"_onUnfollowSourceModalCancel",(()=>{this.setState({isUnfollowSourceModalOpen:!1})})),this.state={boardToArchive:null,collectionToArchive:null,enterpriseCreatedByName:null,isDeleteButtonLoading:!1,isDeleteModalOpen:!1,isDeletePriorityConfirmLoading:!1,isDeletePriorityConfirmModalOpen:!1,isUnfollowSourceModalOpen:!1,priorityToDelete:null}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.personalcollections=streets.service("personalcollections"),this.personaltags=streets.service("personaltags"),this.priorities=streets.service("priorities"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags=null,this.personaltags=null,this.personalcollections=null,this.priorities=null,this.reader=null,this.signs=null}render(){const{activeTab:e,isOpen:t,isSubscribed:s,onButtonClick:n,onCloseClick:r,onShowMutedClick:a,pagePreferences:o,setPreference:l,showMuted:c,streamId:d,streamInfo:h}=this.props,{isUnfollowSourceModalOpen:u,boardToArchive:p,collectionToArchive:m}=this.state;return i.createElement("span",null,i.createElement(Ze.X,{align:"right",closeOnClick:!0,icon:i.createElement(O.Z,{importance:"secondary"}),importance:"tertiary",isOpen:t,menu:i.createElement(Re,{activeTab:e,isSubscribed:s,onArchiveClick:this._onArchiveClick,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onRemoveClick:this._onRemoveClick,onResumeClick:this._onResumeClick,onShowMutedClick:a,onUnfollowClick:this._onUnfollowClick,pagePreferences:o,setPreference:l,showMuted:c,streamId:d,streamInfo:h}),onButtonClick:n,onCloseMenu:r,title:"More options"}),u&&i.createElement(x.o,{isModal:!0,onClose:this._onUnfollowSourceModalCancel,streamId:h.id,streamLabel:h.title}),this._renderDeleteModal(),this._renderDeletePriorityConfirmModal(),m&&i.createElement(Fe.h,{collection:m,onClose:this._onCloseArchiveModal}),p&&i.createElement(je.l,{board:p,onClose:this._onCloseArchiveModal}))}_renderDeleteModal(){const{isDeleteButtonLoading:e,isDeleteModalOpen:t}=this.state,{isStreamEmpty:s,streamId:n}=this.props,{isCategory:r,isTag:a}=(0,b.Yg)(n);if(!t)return null;let o="Delete all saved articles",l="Are you sure you want to delete all the articles saved in this board? This operation cannot be undone.",c="No, keep saved articles";return a&&s?(o="Delete board",l="Are you sure you want to delete this board? This operation cannot be undone.",c="No, keep this board"):r&&(o="Delete feed",l="Are you sure you want to delete this feed? This operation cannot be undone.",c="No, keep this feed"),i.createElement(Ue.u,{key:"confirmation",onClose:this._closeDeleteModal,small:!0},i.createElement(L.H2,{appearance:"h3"},o),i.createElement("p",null,l),i.createElement(S.z,{color:"danger",label:"Delete",onClick:this._deleteEntity,loading:e}),i.createElement(S.z,{label:c,onClick:this._closeDeleteModal,importance:"secondary"}))}_renderDeletePriorityConfirmModal(){const{enterpriseCreatedByName:e,isDeletePriorityConfirmLoading:t,isDeletePriorityConfirmModalOpen:s,priorityToDelete:n}=this.state;if(!s)return null;const{createdBy:r,label:a,streamLabels:o}=n,{isEnterprise:l}=(0,b.Yg)(n.id);return this._updatePriorityService(l),i.createElement(ze.b,{collectionLabel:o[0],createdByName:e,isCreatedByMe:streets.getUserId()===r,isEnterprise:l,isLoading:t,onCancel:this._onCloseDeletePriorityModal,onConfirm:this._onDeletePriorityConfirmClick,priorityLabel:a})}_onUpdateError(e){this.signs.showMessage("There was an error when trying to update ".concat(e.label,"."))}_updatePriorityService(e){this.priorities=e?streets.service("enterprisepriorities"):streets.service("personalpriorities")}}Be.propTypes={activeTab:l().string,isOpen:l().bool,isStreamEmpty:l().bool,isSubscribed:l().bool,onButtonClick:l().func.isRequired,onCloseClick:l().func.isRequired,onShowMutedClick:l().func.isRequired,pagePreferences:l().objectOf(l().any).isRequired,setPreference:l().func.isRequired,showMuted:l().bool.isRequired,streamId:l().string,streamInfo:l().objectOf(l().any)},Be.defaultProps={activeTab:"",isOpen:!1,isStreamEmpty:!1,isSubscribed:!1,streamId:null,streamInfo:null};var He=s(91891);const Ye=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M17.846 6.005a4.894 4.894 0 0 0-3.252 1.456L14 8.062l-.594-.6a4.88 4.88 0 0 0-6.965 0 5.029 5.029 0 0 0 0 7.047l7.28 7.374a.391.391 0 0 0 .558 0l7.28-7.374A5.015 5.015 0 0 0 23 10.985c0-1.321-.518-2.59-1.442-3.524A4.892 4.892 0 0 0 18.076 6l-.23.005Z",fill:"#2BB24C"}))}));const We=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.558 7.461A5.015 5.015 0 0 1 23 10.985c0 1.322-.518 2.59-1.442 3.524l-7.28 7.374a.391.391 0 0 1-.557 0l-7.28-7.374a5.029 5.029 0 0 1 0-7.048 4.88 4.88 0 0 1 6.965 0l.594.601.594-.6a4.89 4.89 0 0 1 3.252-1.456l.23-.006c1.307 0 2.56.526 3.482 1.461Zm-5.54 1.405-.002.002L14 10.908l-2.016-2.041a2.881 2.881 0 0 0-4.119 0 3.029 3.029 0 0 0 0 4.237L14 19.319l6.135-6.215c.55-.558.865-1.32.865-2.119 0-.799-.314-1.56-.865-2.118A2.894 2.894 0 0 0 18.097 8l-.177.004a2.895 2.895 0 0 0-1.903.862Z",fill:"currentColor",fillOpacity:.54}))}));var qe=s(73215);function Ve(e){let{streamId:t}=e;const{isFavorite:s,toggleFavorite:n,label:r}=(0,qe.$)(t);return i.createElement(S.z,{icon:s?i.createElement(Ye,null):i.createElement(We,null),importance:"tertiary",onClick:n,title:r})}Ve.propTypes={streamId:l().string.isRequired};var Qe=s(66149),Ge=s(3167);function Ke(e){let{pagePreferences:t,setPreference:s}=e;const n=t[Ge.aR];return i.createElement(he.v,null,i.createElement(pe.a,{name:"layout",onChange:s.bind(this,Ge.aR),selectedValue:n},i.createElement(me.Y,{value:Ge.Ar.titleOnly},"Title-Only View"),i.createElement(me.Y,{value:Ge.Ar.magazine},"Magazine View"),i.createElement(me.Y,{value:Ge.Ar.cards},"Cards View"),i.createElement(me.Y,{value:Ge.Ar.fullArticle},"Article View")))}Ke.propTypes={pagePreferences:l().objectOf(l().any).isRequired,setPreference:l().func.isRequired};class Je extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSlackSettingsChanged",(e=>{this.setState({slackSettings:e})})),(0,n.Z)(this,"_onWebhookSettingsChanged",(e=>{this.setState({microsoftTeamsSettings:e})})),(0,n.Z)(this,"_onSubmit",(async e=>{e.preventDefault();try{const{slackSettings:{slackChannelId:e},microsoftTeamsSettings:t}=this.state,{onDone:s,priorityInfo:n}=this.props;this.setState({isLoading:!0}),await this.enterprisepriorities.askSave({...n,slackChannelId:e,microsoftTeamsSettings:t}),this.signs.showMessage("Priority Settings updated"),s()}catch(t){this.signs.showMessage("Failed to update Priority Settings: ".concat(t.message))}this.setState({isLoading:!1})})),(0,n.Z)(this,"_onTabChange",(e=>{this.setState({activeTab:e})}));const{defaultTab:t,priorityInfo:{slackChannelId:s,microsoftTeamsSettings:i}}=this.props;this.state={activeTab:t,isLoading:!1,slackSettings:{slackChannelId:s},microsoftTeamsSettings:i||{}};const{tabs:r}=Je;this.fragments=[{id:r.sharing,label:"Sharing"}]}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisepriorities=null,this.signs=null}render(){const{activeTab:e}=this.state;return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630"},i.createElement(ye.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),i.createElement(ve.m,{items:this.fragments,active:e,onChange:this._onTabChange}),this._renderForm()))}_renderForm(){const{onDone:e,priorityInfo:{id:t}}=this.props,{isLoading:s,slackSettings:{slackChannelId:n},microsoftTeamsSettings:r}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement(Me.A,{onChange:this._onSlackSettingsChanged,slackChannelId:n,streamId:t}),i.createElement(ke.F,{settings:r,onChange:this._onWebhookSettingsChanged,streamId:t}),i.createElement(S.z,{disabled:s,label:"Update",loading:s,type:"submit"}),i.createElement(S.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_renderHeader(e){let{isSticky:t}=e;const{priorityInfo:s}=this.props;return i.createElement(fe.m,{compact:t,kicker:s.label,sticky:t,title:"Priority Settings"})}}(0,n.Z)(Je,"tabs",{sharing:"sharing"}),Je.propTypes={defaultTab:l().oneOf(Object.values(Je.tabs)),onDone:l().func.isRequired,priorityInfo:l().shape({id:l().string,label:l().string,microsoftTeamsSettings:ke.Y,slackChannelId:l().string}).isRequired},Je.defaultProps={defaultTab:Je.tabs.sharing};var Xe=s(81445),$e=s(264),et=s(46291),tt=s(97);class st extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseNoAccessPopover",(()=>{this.setState({isNoAccessPopoverOpen:!1})})),(0,n.Z)(this,"_onNonAdminClick",(()=>{this.setState({isNoAccessPopoverOpen:!0})})),(0,n.Z)(this,"_onRefineClick",(async()=>{const{streamInfo:e}=this.props,t=await this.priorities.askPriority(e.id);t?this.slider.addSlide(tt.c,{initialPriority:t}):this.signs.showError("Priority not found")})),this._button=i.createRef(),this._wrapper=i.createRef(),this.state={isNoAccessPopoverOpen:!1}}componentDidMount(){this.priorities=streets.service("priorities"),this.signs=streets.service("signs"),this.slider=streets.service("slider")}componentWillUnmount(){this.priorities=null,this.signs=null,this.slider=null,this._button=null,this._wrapper=null}render(){return i.createElement("div",{ref:this._wrapper,className:"TrainLeoButton"},this._renderButton(),this._renderNoAccessPopover())}_renderButton(){const{streamInfo:e}=this.props,{isEnterprise:t}=(0,b.Yg)(e.id);return i.createElement(S.z,{icon:i.createElement(Xe.Z,{importance:"secondary"}),importance:"secondary",label:"Refine",onClick:streets.hasAdminBusinessAccess()||!t?this._onRefineClick:this._onNonAdminClick,elementRef:this._button})}_renderNoAccessPopover(){const{isNoAccessPopoverOpen:e}=this.state;return e?i.createElement(et.J,{caret:!0,offsetParent:this._wrapper,onClose:this._onCloseNoAccessPopover,target:this._button},i.createElement(he.v,{width:300},i.createElement($e.u,{header:"Admin permission needed",description:"You need admin permission to refine a Leo priority on a team feed.\n            Please ask one of your team's admins to grant you admin permission.",size:"small"}))):null}}st.propTypes={streamInfo:l().shape({id:l().string}).isRequired};const nt=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M19.65 8.35A7.958 7.958 0 0 0 14 6c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 14 20c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L15 13h7V6l-2.35 2.35Z",fill:"currentColor",fillRule:"evenodd"}))}));var it=s(99175);class rt extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{loading:!1})}render(){const{loading:e}=this.state,{hasNewerEntries:t}=this.props,s=i.createElement(S.z,{className:a()({"update-available":t&&!e}),icon:i.createElement(nt,{importance:"secondary"}),importance:"tertiary",loading:e,onClick:this._onClick.bind(this),title:t?"":"Refresh"});return t?i.createElement(it.d,{animateClass:"animateFadeIn",content:"Refresh to see newer stories",position:"bottom"},s):s}_onClick(){streets.service("router").refresh()}}rt.propTypes={hasNewerEntries:l().bool},rt.defaultProps={hasNewerEntries:!1};var at=s(50544),ot=s(37675),lt=s(66772),ct=s(48325);const dt={0:d,4:h,5:u,100:p};class ht extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderRefreshButton",(()=>{const{hasNewerEntries:e,hideRefreshButton:t}=this.props;return!t&&i.createElement(rt,{hasNewerEntries:e})})),(0,n.Z)(this,"_onAddUrlClick",(()=>{const{isAddUrlFormOpen:e,saveHeaderState:t}=this.props;t("isAddUrlFormOpen",!e)})),(0,n.Z)(this,"_onCloseAddUrlForm",(()=>{const{saveHeaderState:e}=this.props;e("isAddUrlFormOpen",!1),e("addUrlFormState",null)})),(0,n.Z)(this,"_onCustomizePageClick",(()=>{const{isCustomizePageMenuOpen:e,saveHeaderState:t}=this.props;t("isCustomizePageMenuOpen",!e)})),(0,n.Z)(this,"_onPageLayoutClick",(()=>{const{isPageLayoutMenuOpen:e,saveHeaderState:t}=this.props;t("isPageLayoutMenuOpen",!e)})),(0,n.Z)(this,"_onInviteToEnterpriseGroupClick",(()=>{const{isInviteToEnterpriseGroupMenuOpen:e,saveHeaderState:t}=this.props;t("isInviteToEnterpriseGroupMenuOpen",!e)})),(0,n.Z)(this,"_saveFormState",((e,t)=>{const{saveHeaderState:s}=this.props;s(e,t)})),(0,n.Z)(this,"_updateInfo",(async()=>{const{streamInfo:e}=this.props;try{const[t,s]=await Promise.all([this.alerts.askHasWebAlertsAccess(),(0,v.$O)(e)&&!!(await this.enterprisecollections.askListCollectionsForFeed(e.id)).length]);this.setState({isEnterpriseAlert:s,showWebAlerts:t})}catch(t){console.error("Error: ".concat(t.errorMessage))}})),this.state={isEnterpriseAlert:!1,showWebAlerts:!1}}componentDidMount(){this.alerts=streets.service("alerts"),this.enterprisecollections=streets.service("enterprisecollections"),this.slider=streets.service("slider"),this._updateInfo()}componentWillUnmount(){this.alerts=null,this.enterprisecollections=null,this.slider=null}render(){const{actions:e,className:t,compact:s,details:n,headingColumnCount:r,hideRefreshButton:o,kicker:l,showAddUrlButton:c,showCustomizePageButton:d,showFavoriteButton:h,showInviteButton:u,showPageLayoutButton:p,showSubscribeButton:m,sub:g,title:f,useH2:y}=this.props;let v=!0;!o||c||d||h||u||p||m||e&&e.length||(v=!1);const b=r||(v?6:12),E=a()("header","row",{kickered:l,[t]:t});if(s)return i.createElement("header",{className:E},i.createElement(L.H2,{className:"header__sticky-heading col-xs-".concat(b," col-md-").concat(b)},f),v&&i.createElement("div",{className:"col-xs-".concat(12-b," col-md-").concat(12-b," right-col")},this._renderTrainLeoButton(),this._renderRefineWebAlert(),this._renderAddUrlButton(),this._renderSubscribeButton(),this._renderActions(),this._renderInviteButton(),this._renderNewsletterButton(),this._renderSlackButton(),this._renderPageLayoutButton(),this._renderFavouriteButton(),this._renderRefreshButton(),this._renderCustomizePageButton()));const C=y?L.H2:ot.H1;return i.createElement("header",{className:E},i.createElement("div",{className:"col-xs-".concat(b," col-md-").concat(b)},i.createElement(C,{appearance:"h1",className:"m-b-0",kicker:l,sub:g},i.createElement("span",{id:"header-title"},this._renderTitle())),n&&i.createElement("div",null,n)),v&&i.createElement("div",{className:"col-xs-".concat(12-b," col-md-").concat(12-b," p-t-2 right-col extra")},i.createElement("div",{className:"actions-container"},this._renderTrainLeoButton(),this._renderRefineWebAlert(),this._renderAddUrlButton(),this._renderSubscribeButton(),this._renderActions(),this._renderInviteButton(),this._renderNewsletterButton(),this._renderSlackButton(),this._renderPageLayoutButton(),this._renderFavouriteButton(),this._renderRefreshButton(),this._renderCustomizePageButton())))}_renderRefineWebAlert(){const{isSubscribed:e,streamInfo:t}=this.props,{showWebAlerts:s}=this.state;return e&&s&&"WebAlert"===t.feedlyFeedType?i.createElement(S.z,{icon:i.createElement(g.Z,{importance:"secondary"}),importance:"secondary",label:"Refine",onClick:()=>{this.slider.addSlide(ct.S,{feedId:t.id,webAlertId:t.alertId,webAlertTitle:t.title})}}):null}_renderTrainLeoButton(){const{streamInfo:e}=this.props,{isPriority:t}=(0,b.Yg)(e.id);return t?i.createElement(st,{streamInfo:e}):null}_renderTitle(){const{dataUri:e,href:t,title:s}=this.props;return t?i.createElement(lt.r,{className:"header__link",href:t,newWindow:!0,underline:"never"},s):e?i.createElement(lt.r,{className:"header__link",uri:e,underline:"never"},s):s}_renderActions(){const{actions:e}=this.props;return e?e.map((e=>e?i.cloneElement(e):null)):null}_renderAddUrlButton(){const{addUrlFormState:e,isAddUrlFormOpen:t,isSubscribed:s,showAddUrlButton:n,streamInfo:r}=this.props;if(!n)return null;const{isTag:a,isEnterprise:o,isGlobalEnterprise:l}=(0,b.Yg)(r.id);if(a&&o&&!s||a&&l)return null;const c={id:r.id,label:r.label};return i.createElement(Ze.X,{align:"right",key:"addUrlButton",caret:!0,icon:i.createElement(f.Z,{importance:"secondary"}),isOpen:t,label:"Article",menu:i.createElement(D,{initialState:e,onClose:this._onCloseAddUrlForm,saveState:this._saveFormState.bind(this,"addUrlFormState"),tag:c}),onButtonClick:this._onAddUrlClick,onCloseMenu:this._onCloseAddUrlForm})}_renderCustomizePageButton(){const{activeTab:e,isCustomizePageMenuOpen:t,isStreamEmpty:s,isSubscribed:n,onShowMutedClick:r,pagePreferences:a,setPreference:o,showCustomizePageButton:l,showMuted:c,streamInfo:d}=this.props;return l&&a?i.createElement(Be,{activeTab:e,isOpen:t,isStreamEmpty:s,isSubscribed:n,onButtonClick:this._onCustomizePageClick,onCloseClick:this._closeMenu.bind(this,"isCustomizePageMenuOpen"),onShowMutedClick:r,pagePreferences:a,setPreference:o,showMuted:c,streamId:d.id,streamInfo:d}):null}_renderInviteButton(){const{inviteToEnterpriseGroupState:e,isInviteToEnterpriseGroupMenuOpen:t,showInviteButton:s,streamInfo:n}=this.props;return s&&n?i.createElement(Qe.u,{feed:n,initialState:e,isOpen:t,onButtonClick:this._onInviteToEnterpriseGroupClick,onCloseMenu:this._closeMenu.bind(this,"isInviteToEnterpriseGroupMenuOpen"),saveState:this._saveFormState.bind(this,"inviteToEnterpriseGroupState")}):null}_renderNewsletterButton(){const{isSubscribed:e,showNewsletterButton:t}=this.props,{isEnterpriseAlert:s}=this.state;return s||t&&e&&streets.hasAdminBusinessAccess()?i.createElement(S.z,{icon:i.createElement(y.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onSettingsClick.bind(this,"email"),title:"Newsletter"}):null}_renderPageLayoutButton(){const{isPageLayoutMenuOpen:e,pagePreferences:t,setPreference:s,showPageLayoutButton:n}=this.props;if(!n||!t)return null;const r=t["entryOverviewSize.desktop"],a=dt[r];return i.createElement(Ze.X,{align:"right",icon:i.createElement(a,{importance:"secondary"}),importance:"tertiary",isOpen:e,menu:i.createElement(Ke,{pagePreferences:t,setPreference:(e,t)=>{s(e,t),this._closeMenu("isPageLayoutMenuOpen")}}),onButtonClick:this._onPageLayoutClick,onCloseMenu:this._closeMenu.bind(this,"isPageLayoutMenuOpen"),title:"Change layout",wrapperChildren:i.createElement(He.o,{id:"change-layout-button"})})}_renderFavouriteButton(){const{showFavoriteButton:e}=this.props;if(!e)return null;const{streamInfo:{id:t}}=this.props;return i.createElement(Ve,{streamId:t})}_renderSlackButton(){const{isSubscribed:e,showSlackButton:t,streamInfo:s}=this.props,{isEnterpriseAlert:n}=this.state,{isEnterprise:r,isPriority:a}=(0,b.Yg)(s.id);return t&&e&&streets.hasAdminBusinessAccess()||a&&r||n?i.createElement(S.z,{icon:i.createElement(m,{importance:"secondary"}),importance:"tertiary",onClick:()=>{this._onSettingsClick("sharing")},title:"Slack integration"}):null}_renderSubscribeButton(){const{isSubscribed:e,showSubscribeButton:t,streamInfo:s}=this.props,{isCategory:n,isTag:r,isEnterprise:a}=(0,b.Yg)(s.id);return t?(n||r)&&a&&e?null:i.createElement(at.T,{key:"subscribe",streamId:s.id}):null}_closeMenu(e){const{saveHeaderState:t}=this.props;t(e,!1)}_onSettingsClick(e){const{pagePreferences:t,priorityInfo:s,streamInfo:n}=this.props,{isEnterpriseAlert:i}=this.state,{isCategory:r,isEnterprise:a,isPriority:o,isTag:l}=(0,b.Yg)(n.id);let c=null;a?l?c=le.v:r?c=A.K:o&&(c=Je):i&&(c=Pe),c&&streets.service("slider").addSlide(c,{defaultTab:e,pagePreferences:t,priorityInfo:s,streamInfo:n})}}ht.propTypes={actions:l().arrayOf(l().element),activeTab:l().string,addUrlFormState:l().objectOf(l().any),className:l().string,compact:l().bool,dataUri:l().string,details:l().node,hasNewerEntries:l().bool,headingColumnCount:l().number,hideRefreshButton:l().bool,href:l().string,inviteToEnterpriseGroupState:l().objectOf(l().any),isAddUrlFormOpen:l().bool,isCustomizePageMenuOpen:l().bool,isInviteToEnterpriseGroupMenuOpen:l().bool,isPageLayoutMenuOpen:l().bool,isStreamEmpty:l().bool,isSubscribed:l().bool,kicker:l().node,onShowMutedClick:l().func,pagePreferences:l().objectOf(l().any),priorityInfo:l().shape({id:l().string,label:l().string}),saveHeaderState:l().func,setPreference:l().func,showAddUrlButton:l().bool,showCustomizePageButton:l().bool,showFavoriteButton:l().bool,showInviteButton:l().bool,showMuted:l().bool,showNewsletterButton:l().bool,showPageLayoutButton:l().bool,showSlackButton:l().bool,showSubscribeButton:l().bool,streamInfo:l().shape({alertId:l().string,feedlyFeedType:l().string,id:l().string,label:l().string,title:l().string}),sub:l().node,title:l().string.isRequired,useH2:l().bool},ht.defaultProps={actions:null,activeTab:"",addUrlFormState:null,className:"",compact:!1,dataUri:null,details:null,hasNewerEntries:!1,headingColumnCount:null,hideRefreshButton:!1,href:"",inviteToEnterpriseGroupState:null,isAddUrlFormOpen:!1,isCustomizePageMenuOpen:!1,isInviteToEnterpriseGroupMenuOpen:!1,isPageLayoutMenuOpen:!1,isStreamEmpty:!1,isSubscribed:!1,kicker:"",onShowMutedClick:()=>{},pagePreferences:null,priorityInfo:{},saveHeaderState:()=>{},setPreference:()=>{},showAddUrlButton:!1,showCustomizePageButton:!1,showFavoriteButton:!1,showInviteButton:!1,showMuted:!1,showNewsletterButton:!1,showPageLayoutButton:!1,showSlackButton:!1,showSubscribeButton:!1,streamInfo:{},sub:"",useH2:!1}},13838:(e,t,s)=>{"use strict";s.d(t,{D:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(44406),c=s(37675);function d(e){let{actionsLeft:t,actionsRight:s,className:i,displayMode:a,isSticky:o,onScrollBackToTop:d,title:h,titleAlign:u}=e;return a!==l.DC.tablet||o?n.createElement("header",{className:r()("MobileHeader",i,{"MobileHeader--tablet":a===l.DC.tablet}),onClick:d},n.createElement("div",{className:"MobileHeader__action-left",onClick:e=>{e.preventDefault(),e.stopPropagation()}},t),n.createElement(c.H1,{className:r()("MobileHeader__title","MobileHeader__title--".concat(u),{"MobileHeader__title--no-actions":!t&&!s})},h||" "),n.createElement("div",{className:"MobileHeader__action-right",onClick:e=>{e.preventDefault(),e.stopPropagation()}},s)):n.createElement("header",{className:r()("MobileHeader MobileHeader--tablet MobileHeader--inline",i),onClick:d},n.createElement("div",{className:"MobileHeader__action-left",onClick:e=>{e.preventDefault(),e.stopPropagation()}},t),n.createElement("div",{className:"MobileHeader__title-container"},n.createElement(c.H1,{className:"MobileHeader__title"},h),n.createElement("div",{className:"MobileHeader__action-right",onClick:e=>{e.preventDefault(),e.stopPropagation()}},s)))}d.propTypes={actionsLeft:o().node,actionsRight:o().node,className:o().string,displayMode:o().oneOf(Object.keys(l.DC)),isSticky:o().bool,onScrollBackToTop:o().func,title:o().node,titleAlign:o().oneOf(["center","left","right"])},d.defaultProps={actionsLeft:null,actionsRight:null,className:void 0,displayMode:null,isSticky:!1,onScrollBackToTop:()=>{},title:null,titleAlign:"center",sub:void 0}},65940:(e,t,s)=>{"use strict";s.d(t,{m:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(75113);class c extends n.Component{render(){const{sticky:e,...t}=this.props;return n.createElement("div",{className:r()("header",{"slider-header":!e,"sliderContainer__sticky-header":e,sticky:e})},n.createElement(l.h,Object.assign({hideRefreshButton:!0},t,{useH2:!0})))}}c.propTypes={sticky:o().bool},c.defaultProps={sticky:!1}},14171:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);class l extends n.Component{render(){const{className:e,color:t,custom:s,customSize:i,name:a,onClick:o,onMouseEnter:l,onMouseLeave:c,onMouseOver:d,size:h,style:u,title:p}=this.props;if("string"!=typeof a&&!s)return null;const m=u||{};if(s&&(m.backgroundImage="url("+s+")"),i){const e=i.split("x"),t=e[0],s=e[1];m.width="".concat(t,"px"),m.height="".concat(s,"px"),m.backgroundSize="".concat(t,"px ").concat(s,"px")}const g={icon:!0,["icon-".concat(h)]:!i,["icon-".concat(t)]:t,visual:s,[a]:a,"icon-clickable":o,[e]:e};return n.createElement("i",{onClick:o,onMouseEnter:l,onMouseLeave:c,onMouseOver:d,style:m,className:r()(g),title:p})}}l.propTypes={className:o().string,color:o().oneOf(["primary","secondary","tertiary",""]),custom:o().string,customSize:o().string,name:o().string,onClick:o().func,onMouseEnter:o().func,onMouseLeave:o().func,onMouseOver:o().func,size:o().oneOf(["xs","sm","md","lg"]),style:o().object,title:o().string},l.defaultProps={className:void 0,color:"",custom:"",customSize:"",onClick:null,onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseOver:()=>{},name:void 0,size:"sm",style:null,title:void 0}},7837:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(56787),o=s(44205);function l(e){let{children:t,className:s,color:i,fontSize:r,iconComponent:a,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:h}=e;return n.createElement("div",{className:"IconText ".concat(s),onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:h},n.createElement(a,{className:"IconText__icon",color:i}),n.createElement(o.x,{className:"IconText__text",color:i,size:r,tagName:"div"},t))}l.propTypes={children:r().node.isRequired,className:r().string,color:r().oneOf(["warning","danger"]),fontSize:r().oneOf(Object.keys(a.T)),iconComponent:r().elementType.isRequired,onBlur:r().func,onFocus:r().func,onMouseEnter:r().func,onMouseLeave:r().func},l.defaultProps={className:"",color:"warning",fontSize:"small",onBlur:void 0,onFocus:void 0,onMouseEnter:void 0,onMouseLeave:void 0}},56732:(e,t,s)=>{"use strict";s.d(t,{Q:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);const l=["advertising","sales","competition","infosec","fintech","machine learning"];function c(e){let{className:t,size:s,src:i}=e;const a=i.indexOf("landing-team-illustration--hero")>-1||i.indexOf("hero-illustration--woman.svg")>-1||i.indexOf("hero-illustration--man.svg")>-1||i.indexOf("illustration-teams.svg")>-1;return n.createElement("div",{className:r()("illustration-container col-".concat(s),t,{"illustration-team":a})},n.createElement("img",{src:i,className:"illustration",alt:""}),a&&l.map(((e,t)=>n.createElement("span",{key:e,className:"decoration topic-".concat(t+1)},e))))}c.propTypes={className:o().string,size:o().oneOf(["1","2","3","4","5","6","7","8","9","10","11","12"]),src:o().string.isRequired},c.defaultProps={className:void 0,size:"12"}},73265:(e,t,s)=>{"use strict";s.d(t,{a:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(65802);class c extends n.Component{constructor(e){super(e),this.state={imageUrl:e.imageUrl,draggedOver:!1}}UNSAFE_componentWillMount(){this.fileReader=new FileReader,this.fileReader.onload=e=>{this.setState({imageUrl:e.target.result})}}componentWillUnmount(){this.fileReader.onload=null}render(){const{props:e}=this,{state:t}=this,s={},i={image:!0,visual:!0};return t.imageUrl?s.backgroundImage="url("+t.imageUrl+")":i.cover=!0,n.createElement("div",{className:"image-upload"},n.createElement("div",{className:r()(i),style:s,onDrop:this._drop.bind(this),onDragEnter:this._enter.bind(this),onDragOver:this._dragging.bind(this),onDragLeave:this._leave.bind(this)},t.draggedOver&&n.createElement("div",{className:"image-drop-overlay"},"Drop Now!")),n.createElement("div",{className:"hint"},e.hint),n.createElement(l.R,{imageUrl:t.imageUrl,onChange:this._changeFile.bind(this)}))}_changeFile(e){e?this.fileReader.readAsDataURL(e):this.setState({imageUrl:""}),this.props.onFileChange(e)}_dragging(e){e.preventDefault()}_drop(e){e.preventDefault();const{files:t}=e.dataTransfer;t&&t[0]&&this._changeFile(t[0]),this.setState({draggedOver:!1})}_enter(e){e.preventDefault(),this.setState({draggedOver:!0})}_leave(e){e.preventDefault(),this.setState({draggedOver:!1})}}c.propTypes={hint:o().string,imageUrl:o().string,onFileChange:o().func.isRequired}},65802:(e,t,s)=>{"use strict";s.d(t,{R:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(53670);class o extends n.Component{render(){return n.createElement("div",{className:"image-upload-button"},n.createElement("input",{ref:"fileInput",type:"file",onChange:this._onFileChange.bind(this)}),n.createElement(a.z,{importance:"secondary",label:"Choose File",onClick:this._onChooseFileClick.bind(this),size:"small"}),this.props.imageUrl&&n.createElement(a.z,{importance:"secondary",label:"Remove Image",onClick:this._onRemoveImage.bind(this),size:"small"}))}_onChooseFileClick(e){e.preventDefault(),this.refs.fileInput.click()}_onFileChange(e){const t=e.target.files[0];this.props.onChange(t)}_onRemoveImage(){this.props.onChange(null)}}o.propTypes={imageUrl:r().string,onChange:r().func.isRequired}},26880:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});var n=s(32735),i=s(60216),r=s.n(i);function a(e){let{label:t,value:s}=e;return n.createElement("div",{className:"InlineVulnerabilityStat"},n.createElement("div",{className:"InlineVulnerabilityStat__label"},t),n.createElement("div",{className:"InlineVulnerabilityStat__value"},s))}a.propTypes={label:r().string.isRequired,value:r().string.isRequired}},8680:(e,t,s)=>{"use strict";s.d(t,{h:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(96968);function c(e){let{className:t,elementRef:s,iconComponent:i,iconColor:a,iconTitle:o,importance:c,label:d,onClick:h,onMouseEnter:u,onMouseLeave:p}=e;const m=n.createElement(n.Fragment,null,i&&n.createElement(i,{className:"InterestingMetadata__icon",color:a,importance:c,title:o}),n.createElement("span",null,d));return n.createElement("div",{className:r()("InterestingMetadata",t,{"InterestingMetadata--secondary":"secondary"===c}),onMouseEnter:u,onMouseLeave:p,ref:s},h?n.createElement(l.E,{importance:"tertiary",onClick:h},m):m)}c.propTypes={className:o().string,elementRef:o().oneOfType([o().func,o().shape({current:o().instanceOf(Element)})]),iconColor:o().string,iconComponent:o().elementType,iconTitle:o().string,importance:o().oneOf(["primary","secondary"]),label:o().string.isRequired,onClick:o().func,onMouseEnter:o().func,onMouseLeave:o().func},c.defaultProps={className:void 0,elementRef:void 0,iconColor:void 0,iconComponent:void 0,iconTitle:void 0,importance:"primary",onClick:null,onMouseEnter:void 0,onMouseLeave:void 0}},51138:(e,t,s)=>{"use strict";s.d(t,{T:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(11459),c=s(57343);function d(e){let{children:t,className:s,isRTL:i,layout:a,separatorSide:o}=e;return t?n.createElement(n.Fragment,null,"left"===o&&n.createElement(c.J,null),n.createElement("div",{className:r()("InterestingMetadataWrapper",s,"InterestingMetadataWrapper--".concat(a),"InterestingMetadataWrapper--separator-".concat(o),{"InterestingMetadataWrapper--rtl":i})},t),"right"===o&&n.createElement(c.J,null)):null}d.propTypes={children:o().node,className:o().string,isRTL:o().bool,layout:o().oneOf(l.tv),separatorSide:o().oneOf(["left","right","none"])},d.defaultProps={children:null,className:void 0,isRTL:!1,layout:l.Ar.magazine,separatorSide:"none"}},73407:(e,t,s)=>{"use strict";s.d(t,{L:()=>F});var n=s(47169),i=s(32735),r=s(55631),a=s.n(r),o=s(60216),l=s.n(o),c=s(36695),d=s(72453),h=s(12788),u=s(6880),p=s(74221),m=s(7860),g=s(23005),f=s(46291),y=s(53670),v=s(44205),b=s(11245),E=s(39908),C=s(91343);class w extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onClick",(e=>{e.preventDefault();const{contentState:t,entityKey:s,onClick:n,type:i}=this.props;if(n){n(i,t.getEntity(s).data)}}))}UNSAFE_componentWillMount(){const{contentState:e,entityKey:t,offsetKey:s,onOffsetKey:n}=this.props;n(s,e.getEntity(t).data)}UNSAFE_componentWillReceiveProps(e){const{props:t}=this,s=e.contentState.getEntity(e.entityKey),n=t.contentState.getEntity(t.entityKey);e.offsetKey===t.offsetKey&&s.data.id===n.data.id||e.onOffsetKey(e.offsetKey,s.data)}render(){const{type:e,children:t}=this.props;return i.createElement(C.A,{deletable:!0,onClick:this._onClick},"tag"===e?i.createElement(b.Z,{importance:"tertiary"}):i.createElement(E.Z,{importance:"tertiary"}),t)}}w.propTypes={contentState:l().object.isRequired,entityKey:l().string,offsetKey:l().string.isRequired,children:l().node,onClick:l().func.isRequired,onOffsetKey:l().func.isRequired,type:l().oneOf(["collection","tag"]).isRequired},w.COLLECTION_STRATEGY=(e,t,s)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"collection"===s.getEntity(t).getType()}),t)},w.TAG_STRATEGY=(e,t,s)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"tag"===s.getEntity(t).getType()}),t)};const k=/[^\u200B\s]+[^\u200B]*/g;class _ extends i.Component{constructor(e){super(e),this._onRef=e=>{this._target=e}}componentDidMount(){this.props.onChange&&this.props.onChange(this.props.offsetKey,this._target)}componentWillUnmount(){this.props.onChange&&this.props.onChange(this.props.offsetKey,null)}render(){return i.createElement("strong",{ref:this._onRef},this.props.children)}}_.propTypes={children:l().node,offsetKey:l().string.isRequired,onChange:l().func},_.STRATEGY=(e,t)=>{const s=e.getText();let n;for(;null!==(n=k.exec(s));)t(n.index,n.index+n[0].length)};var M=s(16048),S=s(14171),I=s(8629),T=s(71824),N=s(32727),L=s(39970);class P extends i.Component{constructor(e){super(e),this._list=i.createRef(),this.state={collections:[],tags:[]}}UNSAFE_componentWillMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.enterprisecollections.registerObserver(this),this.enterprisetags.registerObserver(this),this._updateEnterpriseCollectionList(),this._updateEnterpriseTagList()}UNSAFE_componentWillReceiveProps(e){e.filterTerm!==this.props.filterTerm&&this._list.current&&this._list.current.resetSelection()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags=null,this._list=null}onCollectionsChanged(){this._updateEnterpriseCollectionList()}onTagsChanged(){this._updateEnterpriseTagList()}render(){let{filterTerm:e}=this.props;e=e&&e.length?e.toLowerCase():null;const t=this._renderSuggestedCollections(e),s=this._renderSuggestedTags(e);return this._prevNumberSuggestions=this._numberSuggestions,this._numberSuggestions=t.length+s.length,i.createElement(N.G,{maxHeight:"25rem",ref:this._list},!!s.length&&i.createElement(T.N,null,"Boards"),s,!!t.length&&i.createElement(T.N,null,"Feeds"),t)}_renderSuggestedCollections(e){const t=e?[e]:[],{selectedCollections:s}=this.props,{collections:n}=this.state,r={};return s&&s.forEach((e=>{r[e.id]=!0})),n.reduce(((s,n)=>{const a=n.label||"";if(e&&0!==a.toLowerCase().lastIndexOf(e,0))return s;const o=r[n.id];return s.push(i.createElement(I.s,{key:n.id,className:"item-with-visuals",onMouseDown:()=>{this._onSelectCollection(n)}},i.createElement(E.Z,{importance:o?void 0:"tertiary",color:o?"accent":"black"}),i.createElement(L.L,{firstOccurance:!0,wordClassName:"autocomplete-bold",words:t,text:n.label,wrapper:"span"}),o?i.createElement(M.Z,{color:"accent"}):i.createElement(S.J,{name:"icon-placeholder",size:"sm"}))),s}),[])}_renderSuggestedTags(e){const t=e?[e]:[],{selectedTags:s}=this.props,{tags:n}=this.state,r={};return s&&s.forEach((e=>{r[e.id]=!0})),n.reduce(((s,n)=>{const a=n.label||"";if(e&&0!==a.toLowerCase().lastIndexOf(e,0))return s;const o=r[n.id];return s.push(i.createElement(I.s,{key:n.id,className:"item-with-visuals",onMouseDown:()=>{this._onSelectTag(n)}},i.createElement(b.Z,{importance:o?void 0:"tertiary",color:o?"accent":"black"}),i.createElement(L.L,{firstOccurance:!0,wordClassName:"autocomplete-bold",words:t,text:n.label,wrapper:"span"}),o?i.createElement(M.Z,{color:"accent"}):i.createElement(S.J,{name:"icon-placeholder",size:"sm"}))),s}),[])}_onSelectCollection(e){const{onDeselectedItemSelect:t,onSelectedItemSelect:s,selectedCollections:n}=this.props;-1===n.indexOf(e)?t("collection",e):s("collection",e)}_onSelectTag(e){const{onDeselectedItemSelect:t,onSelectedItemSelect:s,selectedTags:n}=this.props;-1===n.indexOf(e)?t("tag",e):s("tag",e)}_updateEnterpriseCollectionList(){this.enterprisecollections.askListCollections().then((e=>{this._list.current&&this._list.current.resetSelection(),this.setState({collections:e})}))}_updateEnterpriseTagList(){this.enterprisetags.askListTags().then((e=>{this._list.current&&this._list.current.resetSelection(),this.setState({tags:e})}))}}P.propTypes={filterTerm:l().string,onSelectedItemSelect:l().func.isRequired,onDeselectedItemSelect:l().func.isRequired,selectedTags:l().arrayOf(l().shape({id:l().string})),selectedCollections:l().arrayOf(l().shape({id:l().string}))},P.defaultProps={filterTerm:"",selectedTags:[],selectedCollections:[]};const D=String.fromCharCode(8203);class A extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_addAllGroups",(async()=>{const{editorState:e}=this.state;this.setState({isLoadingAllGroups:!0});const[t,s]=await Promise.all([this.enterprisecollections.askListCollections(),this.enterprisetags.askListTags()]);this.setState({editorState:this._initializeEditorState(e,t,s),isLoadingAllGroups:!1,selectedCollections:t,selectedTags:s,showInitialState:!1})})),(0,n.Z)(this,"_keyBindingFn",(e=>37===e.keyCode&&!this._isValidCursorPosition(-1)||(0,u.getDefaultKeyBinding)(e))),(0,n.Z)(this,"_onClickEntity",((e,t)=>{const s=this._removeGroup(e,t);this.setState(s)})),(0,n.Z)(this,"_onEditorStateChange",(e=>{const t=e.getLastChangeType(),s=e.getSelection();let{selectedCollections:n,selectedTags:i}=this.state;if("backspace-character"===t){const t=e.getCurrentContent(),r=t.getBlockForKey(s.getAnchorKey()).getEntityAt(s.getStartOffset()-1);if(null!==r){const s=t.getEntity(r),{isTag:a}=(0,p.Yg)(s.data.id),o=a?"tag":"collection",l=this._removeGroup(o,s.data);l&&(e=l.editorState,n=l.selectedCollections,i=l.selectedTags)}}else this._isValidCursorPosition(0,e)||(e=u.EditorState.moveFocusToEnd(e));this.setState({editorState:e,selectedCollections:n,selectedTags:i,...this._getSuggestionTargetInfo(e)})})),(0,n.Z)(this,"_onEntityOffsetKey",((e,t)=>{this._entityOffsetKeys[t.id]=e})),(0,n.Z)(this,"_onListItemSelect",((e,t)=>{const s=this._addGroup(e,t);s&&(s.editorState=u.EditorState.moveFocusToEnd(s.editorState),this.setState(s),this._focusAfterNextBlur=!0)})),(0,n.Z)(this,"_onListItemDeselect",((e,t)=>{this.setState(this._removeGroup(e,t)),this._focusAfterNextBlur=!0})),(0,n.Z)(this,"_onPickIndividualClick",(()=>{this.setState({showInitialState:!1},(()=>{this._editor.focus()}))})),(0,n.Z)(this,"_onSuggestionTargetChange",((e,t)=>{this.setState({suggestionTargets:{...this.state.suggestionTargets,[e]:t}},(()=>{this.setState(this._getSuggestionTargetInfo(this.state.editorState))}))})),this._entityOffsetKeys=[],this._onOffsetParentRef=e=>{e&&this.setState({offsetParent:e})},this._decorator=new u.CompositeDecorator([{strategy:w.COLLECTION_STRATEGY,component:e=>i.createElement(w,Object.assign({},e,{onClick:this._onClickEntity,onOffsetKey:this._onEntityOffsetKey,type:"collection"}))},{strategy:w.TAG_STRATEGY,component:e=>i.createElement(w,Object.assign({},e,{onClick:this._onClickEntity,onOffsetKey:this._onEntityOffsetKey,type:"tag"}))},{strategy:_.STRATEGY,component:e=>i.createElement(_,Object.assign({},e,{onChange:this._onSuggestionTargetChange}))}]);let t=u.EditorState.createEmpty(this._decorator);t=u.EditorState.set(t,{allowUndo:!1}),this.state={editorState:t,isLoadingAllGroups:!1,selectedCollections:e.initialSelectedCollections||[],selectedTags:e.initialSelectedTags||[],showInitialState:!e.initialSelectedCollections&&!e.initialSelectedTags}}UNSAFE_componentWillReceiveProps(e){const{editorState:t,selectedCollections:s,selectedTags:n}=this.state;n.length>0||s.length>0||this.props.initialSelectedCollections===e.initialSelectedCollections&&this.props.initialSelectedTags===e.initialSelectedTags||(this.props=e,this.setState({selectedTags:e.initialSelectedTags||[],selectedCollections:e.initialSelectedCollections||[],editorState:this._initializeEditorState(t,e.initialSelectedCollections||[],e.initialSelectedTags||[]),showInitialState:!e.initialSelectedCollections&&!e.initialSelectedTags}))}UNSAFE_componentWillMount(){const{editorState:e,selectedCollections:t,selectedTags:s}=this.state;this.setState({editorState:this._initializeEditorState(e,t,s)}),this.enterprisetags=streets.service("enterprisetags"),this.enterprisecollections=streets.service("enterprisecollections")}componentDidMount(){this.setState({defaultTarget:h.findDOMNode(this._editor)})}componentDidUpdate(e,t){const{onSelectedTagsChange:s,onSelectedCollectionsChange:n}=this.props,{selectedCollections:i,selectedTags:r}=this.state;n&&t.selectedCollections!==i&&n(i),s&&t.selectedTags!==r&&s(r)}componentWillUnmount(){this.enterprisecollections=null,this.enterprisetags=null,this._entityOffsetKeys=null,this._onOffsetParentRef=null,this._onTargetRef=null}render(){const{blockTarget:e,defaultTarget:t,editorState:s,isEditorFocused:n,isLoadingAllGroups:r,offsetParent:a,selectedCollections:o,selectedTags:l,showInitialState:c,suggestionTargetText:d}=this.state;return r?i.createElement("div",{className:"EnterpriseGroupEditor__initial"},i.createElement(g.g,{className:"m-a-0",details:"boards and feeds"})):c?i.createElement("div",{className:"EnterpriseGroupEditor__initial"},i.createElement(y.z,{className:"EnterpriseGroupEditor__initial-action p-a-0 m-r-h",color:"accent",importance:"tertiary",label:"Customize",onClick:this._onPickIndividualClick}),i.createElement(v.x,{className:"m-r-h",size:"small",tagName:"span"},"or"),i.createElement(y.z,{className:"EnterpriseGroupEditor__initial-action p-a-0 m-a-0",color:"accent",importance:"tertiary",label:"include all",onClick:this._addAllGroups})):i.createElement("div",{ref:this._onOffsetParentRef,className:"EnterpriseGroupEditor"},i.createElement(m.O,{className:"ChipList m-b-0",ref:e=>{this._editor=e},editorState:s,keyBindingFn:this._keyBindingFn,ignoreEnterKey:!0,onBlur:this._onEditorFocusChange.bind(this,!1),onChange:this._onEditorStateChange,onFocus:this._onEditorFocusChange.bind(this,!0),placeholder:"Click to select the right feeds and boards for these users..."}),n&&i.createElement(f.J,{offsetParent:a,position:"bottom",target:e||t},i.createElement(P,{filterTerm:d,onSelectedItemSelect:this._onListItemDeselect,onDeselectedItemSelect:this._onListItemSelect,selectedCollections:o,selectedTags:l})))}_addEntity(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.editorState;const{suggestionTargetEnd:n,suggestionTargetStart:i}=this.state,r=s.getCurrentContent(),a=r.createEntity(e,"IMMUTABLE",t);let o,l=s.getSelection();return"number"==typeof n&&"number"==typeof i&&(l=l.merge({anchorOffset:i,focusOffset:n})),l.isCollapsed()?o=r:(o=u.Modifier.removeRange(r,l,"backward"),l=o.getSelectionAfter()),o=u.Modifier.insertText(o,l,t.label,null,a.getLastCreatedEntityKey()),l=o.getSelectionAfter(),o=u.Modifier.insertText(o,l,D),s=u.EditorState.push(s,o,"insert-enterprise-group"),s=u.EditorState.moveSelectionToEnd(s),s}_addGroup(e,t){let s,{selectedTags:n,selectedCollections:i}=this.state;"collection"===e?(s=i.slice(0),i=s):(s=n.slice(0),n=s);return-1!==s.indexOf(t)?null:(s.push(t),{selectedCollections:i,selectedTags:n,editorState:this._addEntity(e,t)})}_getSelectionBlockNode(){const e=window.getSelection();if(0===e.rangeCount)return null;let t=e.getRangeAt(0).startContainer;for(;null!==t;){if(t.getAttribute&&"true"===t.getAttribute("data-block"))return t;t=t.parentNode}return null}_getSuggestionTargetInfo(e){const t=e.getSelection(),{suggestionTargets:s}=this.state;let n=null,i=null,r=null;if(t.isCollapsed()&&t.getHasFocus()){const a=t.getAnchorKey(),o=t.getAnchorOffset();for(const t in s){if(!s[t])continue;const[l,c,d]=t.split("-");if(l===a){const t=e.getBlockTree(l).getIn([c,"leaves",d]);if(!t)continue;if(t.start<o&&t.end>=o){n=t.end,i=t.start;r=e.getCurrentContent().getBlockForKey(l).getText().substring(i,n+1);break}}}}return{suggestionTargetEnd:n,suggestionTargetStart:i,suggestionTargetText:r}}_initializeEditorState(e,t,s){return t.forEach((t=>{e=this._addEntity("collection",t,e)})),s.forEach((t=>{e=this._addEntity("tag",t,e)})),e}_isValidCursorPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.editorState;const s=t.getCurrentContent(),n=t.getSelection(),i=s.getBlockForKey(n.getAnchorKey()),r=n.getStartOffset()+e;return r>-1&&r<=i.getLength()&&null===i.getEntityAt(r)&&i.getText().charAt(r)!==D}_onEditorFocusChange(e){this._focusAfterNextBlur?(this._focusAfterNextBlur=!1,this._editor.focus()):this.setState({blockTarget:e?this._getSelectionBlockNode():this.state.blockTarget,isEditorFocused:e})}_removeEntity(e){const t=this._entityOffsetKeys[e.id],[s,n,i]=t.split("-");let{editorState:r}=this.state;const a=r.getCurrentContent(),o=a.getBlockForKey(s).getText(),l=r.getBlockTree(s).getIn([n,"leaves",i]);let c=l.end;o.charAt(c)===D&&(c+=1);let d=u.SelectionState.createEmpty(s);d=d.merge({anchorOffset:l.start,focusOffset:c});const h=r.getSelection().getHasFocus(),p=u.Modifier.removeRange(a,d,"backward");return r=u.EditorState.push(r,p,"remove-range"),h&&(r=u.EditorState.moveFocusToEnd(r)),this._entityOffsetKeys[e.id]=null,r}_removeGroup(e,t){let s,{selectedTags:n,selectedCollections:i}=this.state;"collection"===e?(s=i.slice(0),i=s):(s=n.slice(0),n=s);const r=s.indexOf(t);return-1===r?null:(s.splice(r,1),{selectedCollections:i,selectedTags:n,editorState:this._removeEntity(t)})}}A.propTypes={initialSelectedCollections:l().arrayOf(l().object),initialSelectedTags:l().arrayOf(l().object),onSelectedTagsChange:l().func.isRequired,onSelectedCollectionsChange:l().func.isRequired},A.defaultProps={initialSelectedCollections:null,initialSelectedTags:null};var O=s(19054),x=s(2772),R=s(30658),j=s(74256);class F extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAdminClick",(e=>{const t=a()(this.state,{invites:{[e]:{isAdmin:{$set:!this.state.invites[e].isAdmin}}}});this.setState(t)})),(0,n.Z)(this,"_onChange",((e,t,s)=>{const n=[];if(s){const t=e+2+1;for(let e=this.state.invites.length;e<t;e+=1)n.push(this._generateEmptyInvite())}const i=a()(this.state,{invites:{[e]:{[t]:{$set:s},[t+"Error"]:{$set:""}},$push:n}});this.setState(i)})),(0,n.Z)(this,"_onNoteChange",(e=>{this.setState({note:e})})),(0,n.Z)(this,"_onSelectedCollectionsChange",(e=>{this._selectedCollections=e})),(0,n.Z)(this,"_onSelectedTagsChange",(e=>{this._selectedTags=e})),(0,n.Z)(this,"_onSubmit",(e=>{e.preventDefault(),this.setState({loading:!0});const{state:t}=this,{invites:s}=t;let n=!1,i=!0;for(let r=0;r<s.length;r+=1)s[r].emailError="",s[r].nameError="",s[r].name=s[r].name.trim(),s[r].email=s[r].email.trim(),s[r].name&&!(0,c.o)(s[r].email)&&(s[r].emailError="Invalid email address",n=!0),!s[r].email&&s[r].name?(s[r].emailError="Please provide an email",n=!0):s[r].email&&!s[r].name&&(s[r].nameError="Please provide a name",n=!0),(s[r].email||s[r].name)&&(i=!1);if(i&&(s[0].emailError="Please provide at least one email",s[0].nameError="Please provide at least one name",n=!0),n)this.setState({invites:s,loading:!1});else{const e=this._selectedCollections.map((e=>e.id)),i=this._selectedTags.map((e=>e.id)),r=s.filter((e=>e.email&&e.name)).map((t=>({collectionIds:e,email:t.email,isAdmin:t.isAdmin,name:t.name,tagIds:i}))),a=t.note||(0,d.H)();this.enterprise.askCreateInvites(r,a).then((e=>{for(let s=0;s<e.length;s+=1)if(e[s].error&&"invalidEmailAddress"===e[s].error)for(let i=0;i<t.invites.length;i+=1)if(e[s].email===t.invites[i].email){t.invites[i].emailError="Invalid email address",n=!0;break}n?this.setState({invites:t.invites,loading:!1}):(this.signs.showMessage("Invitations sent"),this.props.onDone())})).catch((e=>{this.signs.showError("Error:"+e),this.setState({loading:!1})}))}})),(0,n.Z)(this,"_updateDefaults",(async()=>{const{initialCollections:e,initialTags:t}=this.props,[s=[],n=[]]=await Promise.all([this.enterprisecollections.askListCollections(),this.enterprisetags.askListTags()]);s.length+n.length<20&&s.length+n.length>0&&(!e||0===e.length)&&(!t||0===t.length)&&(this._selectedCollections=s.slice(0),this._selectedTags=n.slice(0),this.setState({defaultCollections:s,defaultTags:n}))})),(0,n.Z)(this,"_updateInvites",(async()=>{try{const e=await this.enterprise.askListUsers();this.setState({invites:this._generateEmptyInvites(e.length)})}catch(e){this.setState({invites:this._generateEmptyInvites()}),console.error("Error: ",e)}}));const{initialCollections:t,initialTags:s}=e;this._selectedCollections=t?t.slice(0):[],this._selectedTags=s?s.slice(0):[],this.state={defaultTags:[],defaultCollections:[],invites:[],loading:!1,note:(0,d.H)()}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this._updateDefaults(),this._updateInvites()}componentWillUnmount(){this.enterprise=null,this.enterprisecollections=null,this.enterprisetags=null,this.signs=null,this._selectedCollections=null,this._selectedTags=null}render(){const{invites:e,loading:t,note:s}=this.state;let{initialCollections:n}=this.props;this.state.defaultCollections.length>0&&(n=this.state.defaultCollections);let{initialTags:r}=this.props;return this.state.defaultTags.length>0&&(r=this.state.defaultTags),i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},i.createElement("form",{"aria-labelledby":"invite-users-form",className:"form m-b-2",onSubmit:this._onSubmit},i.createElement(x.H2,{appearance:"h1",id:"invite-users-form"},"Invite users"),i.createElement("div",{className:"field"},i.createElement("div",{className:"row"},i.createElement("label",{className:"required col-md-5"},"Email"),i.createElement("label",{className:"required col-md-5"},"Full name"),i.createElement("label",{className:"col-md-2"},"Permissions")),e.map(((t,s)=>i.createElement("div",{className:"InviteForm__row row",key:"invite".concat(s)},i.createElement("div",{className:"col-md-5"},i.createElement(j.A,{value:t.email,placeholder:"Email",error:t.emailError,onChange:e=>{this._onChange(s,"email",e)}})),i.createElement("div",{className:"col-md-5"},i.createElement(j.A,{value:t.name,placeholder:"Full name",error:t.nameError,onChange:e=>{this._onChange(s,"name",e)}})),i.createElement("div",{className:"col-md-2"},i.createElement(O.X,{checked:e[s].isAdmin,className:"m-t-h",onChange:()=>{this._onAdminClick(s)}},"Admin")))))),i.createElement("div",{className:"field"},i.createElement("label",null,"Which boards and feeds should these users follow?"),i.createElement(A,{initialSelectedCollections:n,initialSelectedTags:r,onSelectedCollectionsChange:this._onSelectedCollectionsChange,onSelectedTagsChange:this._onSelectedTagsChange})),i.createElement("div",{className:"field"},i.createElement("label",null,"Welcome Email"),i.createElement(R.K,{value:s,onChange:this._onNoteChange,placeholder:"A note to include as part of the invitation email",rows:15})),i.createElement(y.z,{disabled:0===e.length,label:"Invite",loading:t,type:"submit"}))))}_generateEmptyInvite(e){return{email:"",emailError:"",isAdmin:e<5,name:"",nameError:""}}_generateEmptyInvites(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=[];for(let s=0;s<3;s+=1)t.push(this._generateEmptyInvite(e));return t}}F.propTypes={initialCollections:l().arrayOf(l().object),initialTags:l().arrayOf(l().object),onDone:l().func}},66149:(e,t,s)=>{"use strict";s.d(t,{u:()=>_});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(94773);const l=(0,o.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M15 15c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3Zm6.62.16c.83.72 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.5-4.38-2.84ZM15 13c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3Zm5 0c1.66 0 3-1.34 3-3s-1.34-3-3-3c-.32 0-.63.05-.92.14.57.81.92 1.8.92 2.86 0 1.06-.35 2.04-.92 2.85.29.1.6.15.92.15Zm-10-1H7V9H5v3H2v2h3v3h2v-3h3v-2Z",fill:"currentColor",fillRule:"evenodd"}))}));var c=s(74221),d=s(5375);const h=(0,o.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M13.218 6.075a.5.5 0 0 1 .765.638l-.058.07-7.857 7.856a.5.5 0 0 1-.638.058l-.07-.058-3.57-3.571a.5.5 0 0 1 .637-.765l.07.058 3.217 3.218 7.504-7.504ZM17.504 6.075a.5.5 0 0 1 .765.638l-.058.07-7.857 7.856a.5.5 0 0 1-.638.058l-.07-.058-.716-.716a.5.5 0 0 1 .638-.765l.07.058.362.363 7.504-7.504Z"}),i.createElement("path",{d:"M5.365 9.65a.5.5 0 0 1 .638-.057l.07.058.71.71a.5.5 0 0 1-.638.765l-.07-.057-.71-.711a.5.5 0 0 1 0-.707Z"})))}));var u=s(77817),p=s(14171),m=s(73407),g=s(65060),f=s(53670),y=s(2772),v=s(16831),b=s(10936),E=s(8629),C=s(44205);class w extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_addAllTeammates",(()=>{this.setState({isAddAllLoading:!0});const{feed:e,users:t}=this.props,{isTag:s}=(0,c.Yg)(e.id),n=t.map((e=>e.userId));let i;i=s?this.enterprisetags.askSubscribeUsers(e.id,n):this.enterprisecollections.askSubscribeUsers(e.id,n),i.then((()=>{this.signs.showMessage("Added all teammates"),this.setState({isAddAllLoading:!1})})).catch((e=>{console.log("[InviteToEnterpriseGroupButton] failed to add all teammates: ".concat(e.message)),this.signs.showError("Failed to add all teammates"),this.setState({isAddAllLoading:!1})}))})),(0,n.Z)(this,"_closeNonAdminModal",(()=>{this.setState({isNonAdminModalOpen:!1},this._saveState)})),(0,n.Z)(this,"_onClickInviteByEmail",(()=>{if(streets.hasAdminBusinessAccess()){const{feed:e}=this.props,{isTag:t}=(0,c.Yg)(e.id);let s,n;t?n=[e]:s=[e],this.slider.addSlide(m.L,{initialCollections:s,initialTags:n})}else this.setState({isNonAdminModalOpen:!0},this._saveState)})),(0,n.Z)(this,"_onFilterTermChange",(e=>{this.setState({filterTerm:e},this._saveState)})),this._list=i.createRef(),this.state=e.initialState||{filterTerm:"",isAddAllLoading:!1,isLoadingUserId:{},isNonAdminModalOpen:!1}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this.slider=streets.service("slider")}componentWillUnmount(){this.enterprisecollections=null,this.enterprisetags=null,this.signs=null,this.slider=null,this._list=null}render(){const{filterTerm:e,isNonAdminModalOpen:t}=this.state,{feed:s,groupUsers:n,users:r}=this.props,{isTag:a}=(0,c.Yg)(s.id);if(!n||!r)return null;const o=this._renderFilteredUsers();return i.createElement("div",null,i.createElement(b.P,{hint:o.length?"":"No teammates found.",menuItems:o,onChange:this._onFilterTermChange,placeholder:"Find and add teammates...",value:e}),i.createElement("div",{className:"menu-footer",onClick:this._onClickInviteByEmail},i.createElement(d.Z,{color:"accent"}),i.createElement(C.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"Invite a Teammate")),t&&i.createElement(g.u,{onClose:this._closeNonAdminModal,small:!0},i.createElement(y.H2,{appearance:"h3"},"This is an admin-only action"),i.createElement("p",null,"You need admin access to invite teammates to a"," ".concat(a?"board":"feed",". "),"Please get in touch with the admin of your Feedly team."),i.createElement(f.z,{label:"Close",onClick:this._closeNonAdminModal})))}_renderFilteredUsers(){let{filterTerm:e}=this.state;const{isLoadingUserId:t,isAddAllLoading:s}=this.state,{groupUsers:n,users:r}=this.props,a=[];e&&(e=e.toLowerCase(),a.push(e));const o={};return n.forEach((e=>{o[e.userId]=!0})),r.reduce(((n,r)=>{const a=r.name||r.email;if(e&&0!==a.toLowerCase().lastIndexOf(e,0))return n;const{userId:l}=r,c=t[l],d=o[l];return 0===n.length&&""===e&&n.push(i.createElement(E.s,{key:"add-all",onClick:this._addAllTeammates},s?i.createElement(p.J,{name:"icon-fx-loading"}):i.createElement(h,null),s?"Adding all...":"Add all")),n.push(i.createElement(v.D,{actionPhrase:"add",highlightedText:e.toLowerCase(),key:l,label:a,loading:c,onClick:()=>{this._onSelectUser(r)},selected:d,visual:i.createElement(u.q,{alt:a,className:"item-image m-l-0 m-r-1",compact:!0,url:r.picture})})),n}),[])}_onSelectUser(e){const{isLoadingUserId:t}=this.state,{feed:s,groupUsers:n}=this.props,i=!!n.find((t=>t.userId===e.userId)),{isTag:r}=(0,c.Yg)(s.id);let a;this.setState({isLoadingUserId:{...t,[e.userId]:!0}});const o=i?"askUnsubscribeUser":"askSubscribeUser";a=r?this.enterprisetags[o](s.id,e.userId):this.enterprisecollections[o](s.id,e.userId),a.then((()=>{this.setState({isLoadingUserId:{...t,[e.userId]:!1}})}))}_saveState(){const{saveState:e}=this.props;e&&e(this.state)}}w.propTypes={feed:a().shape({id:a().string}).isRequired,groupUsers:a().arrayOf(a().object),initialState:a().objectOf(a().any),saveState:a().func,users:a().arrayOf(a().object)},w.defaultProps={groupUsers:null,initialState:null,saveState:()=>{},users:null};var k=s(31731);class _ extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onButtonClick",(()=>{this.props.saveState(null),this.props.onButtonClick()})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.props.saveState(null),this.props.onCloseMenu()})),this.state={groupUsers:null,users:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisetags=streets.service("enterprisetags"),this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs");const e=this.props.feed&&this.props.feed.id;this._updateEnterpriseUsers(),this._updateEnterpriseGroupUsers(e)}componentDidUpdate(e){const t=e.feed&&e.feed.id;t&&t!==this.props.feed.id&&this._updateEnterpriseGroupUsers(t)}componentWillUnmount(){this.enterprise=null,this.signs=null,this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags.unregisterObserver(this),this.enterprisetags=null}onTagChanged(e){const t=this.props.feed&&this.props.feed.id;e===t&&this._updateEnterpriseGroupUsers(t)}onCollectionChanged(e){const t=this.props.feed&&this.props.feed.id;e===t&&this._updateEnterpriseGroupUsers(t)}render(){const{groupUsers:e,users:t}=this.state,{buttonStyle:s,feed:n,initialState:r,isOpen:a,saveState:o}=this.props;let c,d,h,u;return"secondary"===s?(c="accent",h="secondary",d="Add some teammates",u="small"):"primary"===s?(d="Add member",h="primary"):h="tertiary",i.createElement(k.X,{align:"right",caret:!0,color:c,icon:"icon"===s?i.createElement(l,{importance:"secondary"}):null,importance:h,isOpen:a,label:d,menu:i.createElement(w,{feed:n,groupUsers:e,initialState:r,saveState:o,users:t}),onButtonClick:this._onButtonClick,onCloseMenu:this._onCloseMenu,size:u,title:"Invite team members"})}_updateEnterpriseGroupUsers(e){const{isEnterprise:t,isTag:s}=(0,c.Yg)(e);if(!e||!t)return this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),void this.setState({groupUsers:[]});let n;s?(this.enterprisecollections.unregisterObserver(this),this.enterprisetags.registerObserver(this),n=this.enterprisetags.askListTagSubscribedUsers(e)):(this.enterprisetags.unregisterObserver(this),this.enterprisecollections.registerObserver(this),n=this.enterprisecollections.askListCollectionSubscribedUsers(e)),n.then((e=>{this.setState({groupUsers:e||[]})})).catch((e=>{this.signs.showError("Failed to get users for ".concat(s?"tag":"collection",": ").concat(e))}))}_updateEnterpriseUsers(){this.enterprise.askListUsers().then((e=>{this.setState({users:e})})).catch((e=>{this.signs.showError("Failed to get team users. "+e)}))}}_.propTypes={buttonStyle:a().oneOf(["icon","primary","secondary"]),feed:a().shape({id:a().string}).isRequired,initialState:a().objectOf(a().any),isOpen:a().bool,onButtonClick:a().func,onCloseMenu:a().func,saveState:a().func},_.defaultProps={buttonStyle:"icon",initialState:null,isOpen:!1,onButtonClick:()=>{},onCloseMenu:()=>{},saveState:()=>{}}},66105:(e,t,s)=>{"use strict";s.d(t,{m:()=>E});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(5375),d=s(51196),h=s(20461),u=s(7761),p=s(37225),m=s(39551),g=s(52741),f=s(13183),y=s(53670),v=s(2772),b=s(44205);class E extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderLayers",((e,t)=>{const{compact:s,onLayersChange:n,onResetBundleTierLevels:r,onSalienceSwitchStateChange:o,operator:l,resetLayerBuilder:c}=this.props,{excludeType:d,isAddPartPopoverOpen:m}=this.state,f=e===u.ti.notLayers;return i.createElement("div",{className:"form"},f&&!!t.length&&i.createElement(v.H2,{className:"m-t-1",light:!0},"Excluding"),t.map(((y,v)=>{let{parts:E,salience:C,searchHint:w,type:k}=y;return i.createElement("div",{key:v,className:a()({"m-b-2":f})},!f&&0!==v&&i.createElement(i.Fragment,null,i.createElement("div",{className:a()("LayerBuilder__conjunction-separator",{"LayerBuilder__conjunction-separator--compact":s})}),i.createElement("div",{className:a()("LayerBuilder__conjunction-container",{"LayerBuilder__conjunction-container--compact":s})},i.createElement(b.x,{className:"LayerBuilder__conjunction",size:"smaller",tagName:"span"},"AND"))),i.createElement(g.e,{initialExcludeType:d,isAddPartPopoverInitiallyOpen:m||t.some((e=>!e.parts.length))||l===p.d.OR,isWebAlertExcludeLayer:f,onAddPart:s=>{this.setState({isAddPartPopoverOpen:!1}),n(e,(0,h.NY)(t,v,s)),e===u.ti.layers&&r()},onChangeMatchType:(s,i)=>{n(e,(0,h.pL)(t,v,s,i)),r()},onDelete:()=>{e===u.ti.layers&&1===t.length?c():(n(e,(0,h.Q)(t,v)),e===u.ti.layers&&r())},onDeletePart:s=>{e===u.ti.layers&&1===t.length&&1===t[0].parts.length?c():(n(e,(0,h.Nn)(t,v,s)),e===u.ti.layers&&r())},onSalienceChange:s=>{n(e,(0,h.kr)(t,v,s)),e===u.ti.layers&&0===v&&o(p.L1.manual)},parts:E,salience:C,searchHint:w,type:k}))})))})),(0,n.Z)(this,"_renderLayerSelector",(()=>{const{compact:e,layers:t,notLayers:s,onLayersChange:n,operator:r}=this.props,o=i.createElement(f.h,{button:i.createElement(y.z,{color:"accent",className:"LayerBuilder__selector-button m-x-0",icon:i.createElement(c.Z,{color:"accent"}),importance:"tertiary",label:"AND"}),hideLikeBoardLayer:!0,isAnyPowerSearch:!0,isInitiallyOpen:r===p.d.AND,onSelect:e=>{n(u.ti.layers,(0,h.gM)(t,e))},onSelectPart:e=>{n(u.ti.layers,(0,h.uz)(t,e))},tagName:"div"}),l=s.length?null:i.createElement(f.h,{button:i.createElement(y.z,{color:"accent",className:"LayerBuilder__selector-button m-x-0",icon:i.createElement(d.Z,{color:"accent"}),importance:"tertiary",label:"NOT"}),isInitiallyOpen:r===p.d.NOT,onSelect:e=>{this.setState({excludeType:e,isAddPartPopoverOpen:!0}),n(u.ti.notLayers,[...s,(0,h.Qq)()])},showExcludeOptions:!0,tagName:"div"});return i.createElement(i.Fragment,null,i.createElement("div",{className:a()("LayerBuilder__selector-line",{"m-t-h":!e})}),i.createElement(m.O,{andButton:o,notButton:l}))})),this.state={isAddPartPopoverOpen:!(0,h.Kf)(e.layers),excludeType:null}}componentDidMount(){this.leo=streets.service("leo"),this.leo.registerObserver(this)}componentWillUnmount(){this.leo.unregisterObserver(this),this.leo=null}onTopicExcluded(e){const{notLayers:t,onLayersChange:s}=this.props;s(u.ti.notLayers,(0,h.NY)(t.length?t:[(0,h.Qq)()],0,e))}render(){const{hideSelector:e,layers:t,notLayers:s}=this.props;return i.createElement("div",{className:"LayerBuilder"},this._renderLayers(u.ti.layers,t),!e&&this._renderLayerSelector(),!!s.length&&this._renderLayers(u.ti.notLayers,s))}}E.propTypes={compact:l().bool,hideSelector:l().bool,layers:l().arrayOf(l().object).isRequired,notLayers:l().arrayOf(l().object).isRequired,onLayersChange:l().func.isRequired,onResetBundleTierLevels:l().func,onSalienceSwitchStateChange:l().func,operator:l().string,resetLayerBuilder:l().func.isRequired},E.defaultProps={compact:!1,hideSelector:!1,onResetBundleTierLevels:()=>{},onSalienceSwitchStateChange:()=>{},operator:void 0}},63040:(e,t,s)=>{"use strict";s.d(t,{h:()=>ee});var n=s(47169),i=s(33259),r=s.n(i),a=s(45750),o=s.n(a),l=s(32735),c=s(60216),d=s.n(c),h=s(18514),u=s(57855),p=s(20461),m=s(7761),g=s(37225),f=s(855),y=s(21310),v=s(77469),b=s(3166),E=s(62e3),C=s(96968),w=s(2772),k=s(40841),_=s.n(k);function M(e){let{className:t,onToggle:s,options:n,selectedValue:i}=e;return l.createElement("div",{className:_()("SwitchButton",t)},l.createElement("div",{className:_()("SwitchButton__selector",{"SwitchButton__selector--right":i===n[1].id})}),n.map((e=>l.createElement(C.E,{key:e.id,className:_()("SwitchButton__option",{"SwitchButton__option--selected":i===e.id}),importance:"tertiary",onClick:()=>{s(e)}},e.label))))}M.propTypes={className:d().string,onToggle:d().func.isRequired,options:d().arrayOf(d().object).isRequired,selectedValue:d().string.isRequired},M.defaultProps={className:void 0};var S=s(44205),I=s(5375),T=s(31731),N=s(39908),L=s(40854),P=s(94773);const D=(0,P.Z)((function(e){return l.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.167 3.333c0-1.196.97-2.166 2.166-2.166h3.334c1.196 0 2.166.97 2.166 2.166v3.334c0 1.196-.97 2.166-2.166 2.166H3.333a2.167 2.167 0 0 1-2.166-2.166V3.333Zm2.166-1.166c-.644 0-1.166.522-1.166 1.166v3.334c0 .644.522 1.166 1.166 1.166h3.334c.644 0 1.166-.522 1.166-1.166V3.333c0-.644-.522-1.166-1.166-1.166H3.333ZM11.167 3.333c0-1.196.97-2.166 2.166-2.166h3.334c1.196 0 2.166.97 2.166 2.166v3.334c0 1.196-.97 2.166-2.166 2.166h-3.334a2.167 2.167 0 0 1-2.166-2.166V3.333Zm2.166-1.166c-.644 0-1.166.522-1.166 1.166v3.334c0 .644.522 1.166 1.166 1.166h3.334c.644 0 1.166-.522 1.166-1.166V3.333c0-.644-.522-1.166-1.166-1.166h-3.334ZM11.167 13.333c0-1.196.97-2.166 2.166-2.166h3.334c1.196 0 2.166.97 2.166 2.166v3.334c0 1.196-.97 2.166-2.166 2.166h-3.334a2.167 2.167 0 0 1-2.166-2.166v-3.334Zm2.166-1.166c-.644 0-1.166.522-1.166 1.166v3.334c0 .644.522 1.166 1.166 1.166h3.334c.644 0 1.166-.522 1.166-1.166v-3.334c0-.644-.522-1.166-1.166-1.166h-3.334ZM1.722 14.475a.5.5 0 0 1 .5-.5 4.358 4.358 0 0 1 4.358 4.358.5.5 0 0 1-1 0 3.358 3.358 0 0 0-3.358-3.358.5.5 0 0 1-.5-.5Z",fill:"currentColor"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.722 11.389a.5.5 0 0 1 .5-.5 7.445 7.445 0 0 1 7.445 7.444.5.5 0 0 1-1 0 6.444 6.444 0 0 0-6.445-6.444.5.5 0 0 1-.5-.5ZM1.722 17.948a.886.886 0 1 1 1.772 0 .886.886 0 0 1-1.772 0Z",fill:"currentColor"}))}));var A=s(74221),O=s(16831),x=s(10936),R=s(71824),j=s(70542);class F extends l.Component{constructor(e){super(e),(0,n.Z)(this,"_renderBundles",(()=>{const{items:e,query:t,hasLeoSecurityFeature:s}=this.state,n=l.createElement(R.N,{key:"bundles"},"Bundles");return e.length?[n,...e.map((e=>this._renderBundle({id:e.id,label:"".concat(e.label," Bundle"),tier:y._O,type:v.R$.publicationBucket},t)))]:s?[n,this._renderBundle(v.t8),this._renderBundle(v.FH)]:[n,this._renderBundle(v.FH),this._renderBundle(v.t8)]})),(0,n.Z)(this,"_onQueryChange",(e=>{this.setState({query:e},this._askUpdateSearchResults)})),(0,n.Z)(this,"_onSelectItem",((e,t)=>{const{onSelectItem:s}=this.props;this.setState({filteredFeeds:[],items:[],query:"",sources:[]}),s(e,t)})),(0,n.Z)(this,"_askUpdateSearchResults",(async()=>{const{allFeeds:e,query:t}=this.state;if(t)try{const[s,n]=await Promise.all([this.alerts.askSearchBundles(t),this.feeds.askSearchFeeds(t,{numResults:3})]);if(t!==this.state.query)return;this.setState({items:s,filteredFeeds:e.filter((e=>e.label.toLowerCase().includes(t.toLowerCase()))).slice(0,3),sources:n})}catch(s){streets.service("signs").setDefaultErrorMessage(s)}else this.setState({items:[],filteredFeeds:[],sources:[]})})),(0,n.Z)(this,"_updateFeeds",(async()=>{try{const e=streets.hasBusinessAccess()?[{id:(0,A.Gr)(),label:"All Team Feeds"},...await this.enterprisecollections.askListCollections()]:[{id:(0,A.N1)(),label:"All Personal Feeds"},...await this.personalcollections.askListCollections()];this.setState({allFeeds:e})}catch(e){console.error("Error fetching feeds",e)}})),(0,n.Z)(this,"_updateInfo",(async()=>{const e=await this.leo.askHasLeoSecurityFeature();this.setState({hasLeoSecurityFeature:e})})),this._askUpdateSearchResults=o()(this._askUpdateSearchResults,100),this.state={allFeeds:[],filteredFeeds:[],items:[],query:"",sources:[]}}componentDidMount(){this.alerts=streets.service("alerts"),this.enterprisecollections=streets.service("enterprisecollections"),this.feeds=streets.service("feeds"),this.leo=streets.service("leo"),this.personalcollections=streets.service("personalcollections"),this._updateFeeds(),this._updateInfo()}componentWillUnmount(){this._askUpdateSearchResults.cancel(),this._askUpdateSearchResults=null,this.alerts=null,this.enterprisecollections=null,this.feeds=null,this.leo=null,this.personalcollections=null}render(){const{query:e}=this.state;return l.createElement("div",{className:"WebAlertRefineSourcesPicker"},l.createElement(x.P,{menuItems:[...this._renderBundles(),...this._renderFeeds(),...this._renderSources()],onChange:this._onQueryChange,placeholder:"Bundles or feeds",value:e}))}_renderFeeds(){const{allFeeds:e,filteredFeeds:t,query:s}=this.state,n=s?t:e;return n.length?[l.createElement(R.N,{key:"feeds"},streets.hasBusinessAccess()?"Team Feeds":"Feeds"),...n.map((e=>this._renderBundle({id:e.id,label:e.label,type:v.R$.stream},s)))]:[]}_renderSources(){const{query:e,sources:t}=this.state;return t.length?[l.createElement(R.N,{key:"sources"},"Feeds"),...t.map((t=>this._renderBundle({id:t.id,label:t.title,type:v.R$.stream,visualUrl:t.visualUrl},e)))]:[]}_renderBundle(e,t){const s=this._isItemSelected(e);return l.createElement(O.D,{key:e.id,highlightedText:t,label:e.label,onClick:()=>{this._onSelectItem(e,s)},selected:s,visual:this._renderBundleVisual(e.visualUrl,e.id)})}_renderBundleVisual(e,t){if(e)return l.createElement(j.u,{className:"WebAlertRefineSourcesPicker__visual m-r-1",url:e});const{isAll:s,isCategory:n}=(0,A.Yg)(t);let i;return i=s?N.Z:n?L.Z:D,l.createElement(i,{className:"WebAlertRefineSourcesPicker__icon",importance:"secondary"})}_isItemSelected(e){var t;let{id:s}=e;const{bundles:n}=this.props;return!(null===(t=n.customMode)||void 0===t||!t.find((e=>e.id===s)))}}F.propTypes={bundles:d().shape({allFeedlyMode:d().arrayOf(d().object),customMode:d().arrayOf(d().object)}),onSelectItem:d().func.isRequired},F.defaultProps={bundles:{}};class U extends l.PureComponent{constructor(e){super(e),this.state={isDropdownOpen:!1}}render(){const{bundles:e,color:t,iconColor:s,importance:n,onSelectItem:i,size:r}=this.props,{isDropdownOpen:a}=this.state;return l.createElement(T.X,{align:"right",caret:!0,className:"WebAlertRefineSourcesDropdown m-r-0",color:t,icon:l.createElement(I.Z,{color:s}),importance:n,isOpen:a,label:"Add bundles & feeds",menu:l.createElement(F,{bundles:e,onSelectItem:(e,t)=>{this.setState({isDropdownOpen:!1}),i(e,t)}}),onButtonClick:()=>{this.setState({isDropdownOpen:!0})},onCloseMenu:()=>{this.setState({isDropdownOpen:!1})},size:r})}}U.propTypes={bundles:d().shape({allFeedlyMode:d().arrayOf(d().object),customMode:d().arrayOf(d().object)}),color:d().string,iconColor:d().string,importance:d().string,onSelectItem:d().func.isRequired,size:d().string},U.defaultProps={bundles:{},color:void 0,iconColor:"white",importance:"primary",size:"normal"};var z=s(24443),Z=s.n(z),B=s(763),H=s(94820),Y=s(32470),W=s(23005),q=s(95166);class V extends l.Component{constructor(e){super(e),(0,n.Z)(this,"_renderBars",(()=>{const{max:e,min:t,rangeValues:s,sliderHeight:n}=this.props,{localValue:i}=this.state,r=(s?(0,y.Se)(s,n):new Array(e-t+1).fill(1)).map(((e,t)=>{const n={height:"".concat(e,"px")};return l.createElement("div",{key:"".concat(e,"-").concat(t),className:_()("VolumeInputRange__slider-bar",{"VolumeInputRange__slider-bar--accent":t<=i&&s&&s[t]>0}),style:n})}));return l.createElement("div",{className:"VolumeInputRange__slider-bars"},r)})),(0,n.Z)(this,"_renderHoverThumb",(()=>{const{hoverThumbStyles:e}=this.state;return e.left?l.createElement("div",{style:{left:"".concat(e.left,"px")},className:"VolumeInputRange__thumb VolumeInputRange__thumb--hover"}):null})),(0,n.Z)(this,"_renderSliderThumb",(()=>{const{rangeValues:e}=this.props,{localValue:t}=this.state,s=(0,Y.HN)(e[t]),n=28*(t+1)+t+1,i={left:"".concat(n-10,"px")},r=s.toString().length,a={left:"".concat(n-4-(8*r+98)/2,"px")};return l.createElement(l.Fragment,null,l.createElement("div",{style:i,className:"VolumeInputRange__thumb"}),l.createElement("div",{style:a,className:"VolumeInputRange__thumb-label"},"".concat(Z()("article",s,!0)," per week")))})),(0,n.Z)(this,"_onHideHoverThumb",(()=>{this.setState({hoverThumbStyles:{}})})),(0,n.Z)(this,"_onMouseMove",(e=>{const{rangeValues:t}=this.props,{localValue:s}=this.state;if(!t.length)return;const n=Array.from(this._wrapper.current.querySelectorAll(".VolumeInputRange__slider-bar")),{element:i,index:r}=n.reduce(((t,s,n)=>{const i=s.getBoundingClientRect();return e.clientX>=i.x&&e.clientX<i.x+28+1?{element:s,index:n}:t}),{});if(r===s||!i)return void this._onHideHoverThumb();const a={left:28+i.getBoundingClientRect().left-this._inputRangeRef.current.getBoundingClientRect().left-12};this.setState({hoverThumbStyles:a})})),(0,n.Z)(this,"_onMouseLeave",(()=>{this._onHideHoverThumb()})),this._inputRangeRef=l.createRef(),this._wrapper=l.createRef(),this.state={localValue:e.value,hoverThumbStyles:{}}}componentDidUpdate(e){let{value:t}=e;const{value:s}=this.props;s!==t&&this.setState({localValue:s})}componentWillUnmount(){this._wrapper=null}render(){const{className:e,isLoading:t,max:s,min:n,onChange:i,sliderHeight:r,sliderWidth:a,step:o}=this.props,{localValue:c}=this.state,d={height:"".concat(r,"px"),width:"".concat(a,"px")};return l.createElement("div",{ref:this._wrapper,className:_()("VolumeInputRange",e),style:d},t?l.createElement(W.g,{className:"VolumeInputRange__loading"}):l.createElement(l.Fragment,null,this._renderSliderThumb(),this._renderHoverThumb(),l.createElement(q.K,{inputElement:l.createElement("input",{ref:this._inputRangeRef,className:"VolumeInputRange__input",min:n,max:s,onKeyUp:e=>{let{key:t}=e;"ArrowDown"!==t&&"ArrowLeft"!==t&&"ArrowRight"!==t&&"ArrowUp"!==t||i(c)},onMouseMove:this._onMouseMove,onMouseLeave:this._onMouseLeave,onMouseUp:()=>{i(c)},step:o,value:c}),onChange:e=>{this.setState({localValue:e})}}),this._renderBars()))}}V.propTypes={className:d().string,isLoading:d().bool,max:d().number.isRequired,min:d().number.isRequired,onChange:d().func.isRequired,rangeValues:d().arrayOf(d().number),sliderHeight:d().number,sliderWidth:d().number,step:d().number,value:d().number},V.defaultProps={className:"",isLoading:!1,rangeValues:void 0,sliderHeight:12,sliderWidth:60,step:1,value:0};var Q=s(66772);function G(e){let{bundle:{id:t,label:s,tier:n,type:i,visualUrl:r,description:a},isSliderLoading:o,onDeleteSourceBundle:c,onVelocityChange:d,velocities:h}=e;const[u,p]=(0,l.useState)(0);(0,l.useEffect)((()=>{const{isCategory:e}=(0,A.Yg)(t);i===v.R$.stream&&e&&streets.service("alerts").askListCollectionAlertSources(t).then((e=>{p(e.length)}))}),[t,i]);const m=l.createElement(C.E,{"aria-label":"Delete bundle",className:"WebAlertSourceBundleCard__delete",danger:!0,importance:"tertiary",onClick:()=>{c(t)}},l.createElement(B.Z,{className:"m-r-0",importance:"tertiary",color:"black"}));if(i===v.R$.stream)return l.createElement("div",{className:"WebAlertSourceBundleCard m-b-t"},r?l.createElement(j.u,{className:"WebAlertSourceBundleCard__visual m-r-1",url:r}):l.createElement(N.Z,{importance:"tertiary"}),l.createElement("div",null,l.createElement("div",{className:"WebAlertSourceBundleCard__label m-r-3"},s),!!u&&l.createElement(S.x,{className:"m-t-t",color:"warning",size:"smaller",tagName:"div"},u," Web ",Z()("Alert",u)," ",l.createElement(Q.r,{className:"WebAlertSourceBundleCard__explanation-link",href:"https://feedly.helpscoutdocs.com/article/637-what-1-web-alert-excluded-means",newWindow:!0},"excluded"))),m);if(i===v.R$.publicationBucket){const e=y.Iy.length,i=28*e+1*(e-1),r=h?{isLoading:o,rangeValues:(0,y.Kk)(h).slice(0,e),value:(0,y.VV)(n)}:{isLoading:!0},{rangeValues:c}=r;return l.createElement("div",{className:"WebAlertSourceBundleCard m-b-t"},t===v.pc.id?l.createElement(H.Z,{importance:"tertiary"}):l.createElement(D,{importance:"tertiary"}),l.createElement("div",{className:"WebAlertSourceBundleCard__content"},l.createElement("div",{className:"WebAlertSourceBundleCard__label m-r-3"},s),a&&l.createElement(S.x,{className:"m-t-t m-b-1",color:"tertiary",size:"smaller"},a),(0,y.Xk)(c)?l.createElement(S.x,{className:"m-t-t",color:"tertiary",size:"smaller",tagName:"div"},"Less than 1 article per week"):l.createElement(V,Object.assign({className:"m-t-h",min:0,max:e-1,onChange:d,sliderHeight:48,sliderWidth:i},r))),t!==v.pc.id&&m)}return null}G.propTypes={bundle:d().shape({description:d().string,id:d().string,label:d().string,tier:d().string,type:d().string,visualUrl:d().string}).isRequired,isSliderLoading:d().bool.isRequired,onDeleteSourceBundle:d().func.isRequired,onVelocityChange:d().func.isRequired,velocities:d().objectOf(d().any)},G.defaultProps={velocities:void 0};const K=(0,P.Z)((function(e){return l.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 4.667a2.833 2.833 0 0 1 2.834-2.834h4.666a2.833 2.833 0 0 1 2.834 2.834v4.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V4.667Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v4.666c0 1.013.821 1.834 1.834 1.834h4.666c1.013 0 1.834-.821 1.834-1.834V4.667c0-1.013-.821-1.834-1.834-1.834H4.667ZM15.833 4.667a2.833 2.833 0 0 1 2.834-2.834h4.666a2.833 2.833 0 0 1 2.834 2.834v4.666a2.833 2.833 0 0 1-2.834 2.834h-4.666a2.833 2.833 0 0 1-2.834-2.834V4.667Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v4.666c0 1.013.821 1.834 1.834 1.834h4.666c1.013 0 1.834-.821 1.834-1.834V4.667c0-1.013-.821-1.834-1.834-1.834h-4.666ZM15.833 18.667a2.833 2.833 0 0 1 2.834-2.834h4.666a2.833 2.833 0 0 1 2.834 2.834v4.666a2.833 2.833 0 0 1-2.834 2.834h-4.666a2.833 2.833 0 0 1-2.834-2.834v-4.666Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v4.666c0 1.013.821 1.834 1.834 1.834h4.666c1.013 0 1.834-.821 1.834-1.834v-4.666c0-1.013-.821-1.834-1.834-1.834h-4.666ZM2.611 20.265a.5.5 0 0 1 .5-.5 5.901 5.901 0 0 1 5.901 5.902.5.5 0 1 1-1 0 4.901 4.901 0 0 0-4.9-4.902.5.5 0 0 1-.5-.5Z",fill:"currentColor"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.611 15.944a.5.5 0 0 1 .5-.5 10.222 10.222 0 0 1 10.222 10.223.5.5 0 0 1-1 0 9.222 9.222 0 0 0-9.222-9.223.5.5 0 0 1-.5-.5ZM2.611 25.127a1.04 1.04 0 1 1 2.08 0 1.04 1.04 0 0 1-2.08 0Z",fill:"currentColor"}))}));function J(e){let{onSelectItem:t}=e;return l.createElement("div",{className:"WebAlertSourceBundleEmptyState"},l.createElement(K,{className:"WebAlertSourceBundleEmptyState__icon",importance:"tertiary"}),l.createElement(S.x,{className:"WebAlertSourceBundleEmptyState__label m-t-h m-b-t",color:"primary",size:"small"},"Bundles & Feeds"),l.createElement(S.x,{className:"WebAlertSourceBundleEmptyState__sub m-t-0 m-b-h",color:"tertiary",size:"smallish"},"Select the sources you want Leo to look through"),l.createElement(U,{iconColor:"white",importance:"primary",onSelectItem:t,size:"small"}))}J.propTypes={onSelectItem:d().func.isRequired};class X extends l.PureComponent{render(){const{onToggleMode:e,refineMode:t,searchOptions:s}=this.props;return l.createElement(l.Fragment,null,l.createElement(w.H2,{className:"m-t-0",light:!0},"Refine Sources"),l.createElement(M,{className:"m-b-1",options:Object.values(v.ht),onToggle:t=>e(t,v.wP.manual),selectedValue:t}),this._renderBundles(),streets.isEnterprisePlan()&&l.createElement(l.Fragment,null,l.createElement(w.H2,{className:"m-t-1",light:!0},"Enterprise API"),l.createElement(C.E,{className:"LayerBuilderBeyondResultsSidebar__copy-button",importance:"tertiary",onClick:()=>{(0,E.v)(JSON.stringify(s))}},l.createElement(b.Z,{color:"accent"}),l.createElement(S.x,{color:"accent",size:"smaller",tagName:"span"},"Copy JSON Query"))))}_renderBundles(){const{bundles:e,bundleVelocities:t,isSliderLoading:s,onDeleteSourceBundle:n,onSelectItem:i,onVelocityChange:r,refineMode:a}=this.props;return e[a].length?l.createElement(l.Fragment,null,e[a].map((e=>l.createElement(G,{key:e.id,bundle:e,isSliderLoading:s,onDeleteSourceBundle:n,onVelocityChange:t=>{r(t,e.id)},velocities:t[e.id]}))),a===v.sp.customMode&&l.createElement(U,{bundles:e,color:"accent",iconColor:"accent",importance:"tertiary",onSelectItem:i})):l.createElement(J,{onSelectItem:i})}}X.propTypes={bundles:d().shape({allFeedlyMode:d().arrayOf(d().object),customMode:d().arrayOf(d().object)}).isRequired,bundleVelocities:d().objectOf(d().any).isRequired,isSliderLoading:d().bool.isRequired,onDeleteSourceBundle:d().func.isRequired,onSelectItem:d().func.isRequired,onToggleMode:d().func.isRequired,onVelocityChange:d().func.isRequired,refineMode:d().string.isRequired,searchOptions:d().objectOf(d().any).isRequired};var $=s(27339);class ee extends l.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_debouncedUpdateEntries",(()=>{this._updateEntries({shouldCalcVelocityValues:!1})})),(0,n.Z)(this,"_onAutoSetTierLevels",(e=>{const{bundles:t,onUpdateBundles:s,refineMode:n}=this.props;s({...t,[n]:t[n].map((t=>e[t.id]&&e[t.id][t.tier]<y.Gs?{...t,tier:(0,y.WW)(e,t)}:t))})})),(0,n.Z)(this,"_onDeleteSourceBundle",(e=>{const{bundles:t,onUpdateBundles:s,refineMode:n}=this.props;s({...t,[n]:t[n].filter((t=>t.id!==e))})})),(0,n.Z)(this,"_onSelectItem",((e,t)=>{const{bundles:s,onUpdateBundles:n}=this.props;if(t)this._onDeleteSourceBundle(e.id);else{n({...s,customMode:[...s.customMode,e]})}})),(0,n.Z)(this,"_onScrollPage",(()=>{const{upgradeModal:e}=this.props,{continuation:t,isLoadingEntries:s,isLoadingMoreEntries:n}=this.state,i=1.5*(0,u.$$)(document);!(0,u.Hp)(this._scrollTarget,i)||!t||n||s||e||this.setState({isLoadingMoreEntries:!0},(()=>{this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries()}))})),(0,n.Z)(this,"_onVelocityChange",((e,t)=>{const{bundles:s,onUpdateBundles:n,refineMode:i}=this.props;n({...s,[i]:s[i].map((s=>s.id===t?{...s,tier:"tier".concat(parseInt(e)+1)}:s))}),this.setState({isLoadingEntries:!0,isUpdatingVelocity:!0},(()=>{this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries()}))})),(0,n.Z)(this,"_updateEntries",(async function(){let{shouldCalcVelocityValues:e=!0,shouldComputeBestTierLevel:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoSetToMention:n,bundles:i,bundleVelocities:r,layers:a,notLayers:o,onToggleMode:l,onVelocitiesChange:c,refineMode:d,refineModeSwitchState:u,replacePageURL:p,salienceSwitchState:b,velocity:E}=t.props,{continuation:C,entries:w,isLoadingMoreEntries:k,streamVersion:_}=t.state;try{var M;t.setState({isLoadingEntries:!k}),t._globalSearchCount+=1;const S=t._globalSearchCount;if(!i[d].length)return void t.setState({continuation:"",entries:[],isLoadingEntries:!1,isLoadingMoreEntries:!1});const I=(0,f.st)({bundles:i[d],layers:a,notLayers:o});I.continuation=k?C:"";const[{continuation:T,entries:N,velocity:L},P={}]=await Promise.all([t.reader.askAlertsPreview(I),e?t.alerts.askAlertsVelocities(I):r]);if(t._globalSearchCount!==S)return;const D=i[d];if(s&&(0,y.K0)(D,P)&&b===g.L1.auto&&(null===(M=a[0])||void 0===M?void 0:M.salience)!==m.mb.mention)return void n();const A=k?E:L;if(u===v.wP.auto&&d===v.sp.customMode&&(0,y.C4)(P))return void l({id:v.sp.allFeedlyMode},v.wP.autoSetToAllFeedlyMode);if(e&&s&&(0,y.en)(D,P)&&!k)return t._onAutoSetTierLevels(P),void c(P,A);const O=(0,h.q)([...k?w:[],...N]),x=O.length<10&&!!T;t.setState({continuation:T,entries:O,hasPreviewError:null,isLoadingEntries:!1,isLoadingMoreEntries:x,isUpdatingVelocity:x,streamVersion:_+1},(async()=>{await c(P,A),x?t._updateEntries({shouldCalcVelocityValues:!1}):p()}))}catch(S){console.error("error",S),t.setState({continuation:"",entries:[],hasPreviewError:!0,isLoadingEntries:!1,isLoadingMoreEntries:!1,streamVersion:_+1})}})),this._globalSearchCount=0,this._scrollTarget=e.getScrollTarget(),this._debouncedUpdateEntries=o()(this._debouncedUpdateEntries,1e3),this._throttledCheckMoreEntriesNeeded=r()(this._onScrollPage,200),this._scrollTarget.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this.state={continuation:"",entries:[],hasPreviewError:null,isLoadingEntries:!1,isLoadingMoreEntries:!1,isUpdatingVelocity:!1,streamVersion:0}}componentDidMount(){const{layers:e,setInitialBundleTiers:t}=this.props;this.alerts=streets.service("alerts"),this.reader=streets.service("reader"),(0,p.Kf)(e)&&this._updateEntries({shouldComputeBestTierLevel:t})}componentDidUpdate(e){const{bundles:t,layers:s,notLayers:n,refineMode:i}=this.props,r=[...e.layers,...e.notLayers],a=[...s,...n],o=e.bundles[i],l=t[i];(0,p.qd)(r,a)||(0,p.ee)(r,a)||(0,p.ym)(o,l)||i!==e.refineMode?this._updateEntries({shouldComputeBestTierLevel:!(0,p.qd)(e.notLayers,n)}):(0,p.UQ)(o,l)&&this._debouncedUpdateEntries()}componentWillUnmount(){this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries=null,this._globalSearchCount=null,this._scrollTarget.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._scrollTarget=null,this.alerts=null,this.reader=null}render(){const{entryRenderer:e,bundles:t,headerLabel:s,layers:n,notLayers:i,refineMode:r,upgradeModal:a,velocity:o,velocityCallout:c}=this.props,{continuation:d,entries:h,hasPreviewError:u,isLoadingEntries:p,isLoadingMoreEntries:m,streamVersion:g}=this.state;return l.createElement("div",{className:"LayerBuilderBeyondResults"},l.createElement("div",{className:"LayerBuilderBeyondResults__entries"},l.createElement($.w,{continuation:d,disableNavigation:!!a,entries:h,entryRenderer:e,hasPreviewError:u,headerLabel:s,isLoadingEntries:p,isLoadingMoreEntries:m,layers:n,searchOptions:(0,f.st)({bundles:t[r],layers:n,notLayers:i}),streamVersion:g,velocity:o,velocityCallout:c}),!p&&a),l.createElement("div",{className:"LayerBuilderBeyondResults__search-filters"},this._renderFilterSidebar()))}_renderFilterSidebar(){const{bundles:e,bundleVelocities:t,layers:s,notLayers:n,onToggleMode:i,refineMode:r}=this.props,{isLoadingEntries:a,isUpdatingVelocity:o}=this.state;return l.createElement(X,{bundles:e,bundleVelocities:t,isSliderLoading:a&&!o,onDeleteSourceBundle:this._onDeleteSourceBundle,onSelectItem:this._onSelectItem,onToggleMode:i,onVelocityChange:this._onVelocityChange,refineMode:r,searchOptions:(0,f.st)({bundles:e[r],layers:s,notLayers:n})})}}ee.propTypes={autoSetToMention:d().func.isRequired,bundles:d().shape({allFeedlyMode:d().arrayOf(d().object),customMode:d().arrayOf(d().object)}).isRequired,bundleVelocities:d().objectOf(d().any).isRequired,entryRenderer:d().func,getScrollTarget:d().func.isRequired,headerLabel:d().string,layers:d().arrayOf(d().object).isRequired,notLayers:d().arrayOf(d().object).isRequired,onToggleMode:d().func.isRequired,onUpdateBundles:d().func.isRequired,onVelocitiesChange:d().func.isRequired,refineMode:d().string.isRequired,refineModeSwitchState:d().string.isRequired,replacePageURL:d().func,salienceSwitchState:d().string.isRequired,setInitialBundleTiers:d().bool,upgradeModal:d().element,velocity:d().number,velocityCallout:d().element},ee.defaultProps={entryRenderer:void 0,headerLabel:"Results",replacePageURL:()=>{},setInitialBundleTiers:!0,upgradeModal:null,velocity:void 0,velocityCallout:void 0}},69440:(e,t,s)=>{"use strict";s.d(t,{G:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(59663),o=s(7429),l=s(2772);function c(e){let{className:t,header:s,list:i,onClick:r}=e;return n.createElement(n.Fragment,null,s&&n.createElement(l.H2,{appearance:"h4"},s),n.createElement(a.C,{className:t,layout:"col-sm-12 col-md-6 col-lg-4 col-xl-3 m-b-1",cards:i.map((e=>n.createElement(o.H,{key:e.label,icon:e.icon,label:e.label,description:e.description,onClick:()=>r(e),iconColor:"tertiary",size:"medium"})))}))}c.propTypes={className:r().string,header:r().string,list:r().arrayOf(r().object).isRequired,onClick:r().func.isRequired},c.defaultProps={className:void 0,header:void 0}},27339:(e,t,s)=>{"use strict";s.d(t,{w:()=>b});var n=s(47169),i=s(32735),r=s(24443),a=s.n(r),o=s(60216),l=s.n(o),c=s(1009),d=s(32470),h=s(62784),u=s(58074),p=s(58710),m=s(23005),g=s(99956),f=s(2772),y=s(66772),v=s(44205);class b extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{}),(0,n.Z)(this,"_getNavigationState",(e=>{let{focusSelectedEntry:t,inlinedEntryId:s,inlineMode:n,selectedEntryId:i}=e;return{focusSelectedEntry:t,inlinedEntryId:"inline"===n&&s?s:void 0,selectedEntryId:i}})),(0,n.Z)(this,"_setNavigo",(()=>{const{disableNavigation:e,entries:t}=this.props;e?(this.navigo.unregisterObserver(this),this.navigo.reset(),this.setState(this._getNavigationState({}))):(this.navigo.setEntries(t),this.setState(this._getNavigationState(this.navigo.getState())),this.navigo.registerObserver(this))}))}componentDidMount(){this.navigo=streets.service("navigo"),this._setNavigo()}componentDidUpdate(e){const{disableNavigation:t,entries:s}=this.props;e.disableNavigation!==t&&this._setNavigo(),e.entries===s||t||this.navigo.setEntries(s)}componentWillUnmount(){this.navigo.unregisterObserver(this),this.navigo=null}onNavigationChanged(e){this.setState(this._getNavigationState(e))}render(){const{headerLabel:e,velocity:t,velocityCallout:s}=this.props;return i.createElement("div",{className:"LayerBuilderEntries"},i.createElement(f.H2,{className:"m-y-0",light:!0},e),i.createElement("div",{className:"m-b-1"},!(0,c.R)(t)&&i.createElement(v.x,{className:"m-t-t m-b-h",color:"tertiary",size:"small"},t<1?"Less than 1 article per week":"".concat(a()("article",(0,d.HN)(t),!0)," per week")),s),this._renderEntries())}_renderEntries(){const{continuation:e,emptyState:t,entries:s,entryRenderer:n,hasPreviewError:r,isLoadingEntries:a,isLoadingMoreEntries:o,layers:l,searchOptions:c,streamVersion:d,timeFilterAutoSet:f}=this.props,{focusSelectedEntry:v,inlinedEntryId:b,selectedEntryId:E}=this.state;return a?i.createElement(m.g,{className:"m-t-h",details:"search results"}):r?i.createElement(g.U,{className:"m-t-h",color:"danger"},"Something went wrong with the preview."," ",i.createElement(y.r,{className:"LayerBuilderEntries__callout-link",href:window.location.href},"Try reloading Feedly.")):!s.length&&t?t:n?n({entries:s,hasAllEntries:!e,isLoading:o}):i.createElement(i.Fragment,null,f&&i.createElement(g.U,{className:"m-t-h m-b-1"},"Leo couldn't find articles that were published in the last 30 days, so we switched to 'Forever'."),!!s.length&&i.createElement(u.f,{className:"m-t-h",endOfFeedLabel:"End of results",entries:s,focusSelectedEntry:v,hasAllEntries:!e,hideAuthor:!0,highlightKeywords:!0,inlinedEntryId:b,isPowerSearch:!0,layout:"u4",metadataComponent:p.H,previewLayers:(0,h.rT)({layers:l,notLayers:[]}),selectedEntryId:E,searchOptions:c,showSourceTitle:!0,streamVersion:d}),o&&i.createElement(m.g,{details:"more search results"}))}}b.propTypes={continuation:l().string,disableNavigation:l().bool,emptyState:l().node,entries:l().arrayOf(l().object).isRequired,entryRenderer:l().func,hasPreviewError:l().bool,headerLabel:l().string.isRequired,isLoadingEntries:l().bool.isRequired,isLoadingMoreEntries:l().bool.isRequired,layers:l().arrayOf(l().object).isRequired,searchOptions:l().objectOf(l().any),streamVersion:l().number.isRequired,timeFilterAutoSet:l().bool,velocity:l().number,velocityCallout:l().element},b.defaultProps={continuation:"",disableNavigation:!1,emptyState:void 0,entryRenderer:void 0,hasPreviewError:!1,searchOptions:void 0,timeFilterAutoSet:!1,velocity:void 0,velocityCallout:void 0}},4704:(e,t,s)=>{"use strict";s.d(t,{D:()=>w});var n=s(47169),i=s(45750),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(81445),d=s(74296),h=s(65698),u=s(37225),p=s(42610),m=s(8629),g=s(39970);function f(e){let{active:t,onClick:s,part:n,query:i,tipsyPosition:r}=e;const{id:o,label:l,text:c}=n,d=(0,h.mm)(n),u=(0,h.B4)(n);let f=l;const y=(0,h.S_)(i,n);return y&&-1===n.label.toLowerCase().indexOf(i.toLowerCase())&&(f+=" (Alias: ".concat(y,")")),a.createElement(m.s,{active:t,className:"LeoPartMenuItem",key:"".concat(o).concat(l)||c,onClick:s,onMouseDown:e=>{e.preventDefault()}},a.createElement(p.E,{item:n,position:r,targetParentElement:!0},a.createElement("div",{className:"LeoPartMenuItem__container"},a.createElement(d,{importance:"secondary"}),a.createElement("div",{className:"LeoPartMenuItem__content"},a.createElement("span",{className:"LeoPartMenuItem__text",title:f||c},a.createElement(g.L,{firstOccurance:!0,text:f||c,words:i,wordClassName:"LeoPartMenuItem__matching-text",wrapper:"span"})),a.createElement("p",{className:"m-a-0 LeoPartMenuItem__text"},u)))))}f.propTypes={active:l().bool,onClick:l().func.isRequired,part:l().shape({description:l().string,id:l().string,label:l().string,text:l().string}).isRequired,query:l().string.isRequired,tipsyPosition:l().string},f.defaultProps={active:!1,tipsyPosition:"left"};var y=s(99175),v=s(43940),b=s(32727),E=s(74256);const C=Object.freeze({default:"https://app.pitch.com/app/presentation/7e340c8f-e813-4c1e-a7b5-101bb8629484/028db4b9-9e63-4040-b002-9dc758b1bbdd",cybersecurity:"https://app.pitch.com/app/presentation/7e340c8f-e813-4c1e-a7b5-101bb8629484/b913bc57-ca01-4d1c-bf1d-ba60e337198e"});class w extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_askUpdateSearchResults",(async(e,t)=>{if(e)try{let s=await this.leo.askAutocompleteParts(e);const{term:n}=this.state;if(e!==n)return;const i=this._getKeywordMatchItem(e);(0,h.ab)(e,s[0])?s.splice(1,0,i):s=[i,...s],this.setState({items:s||[]},(()=>{this._autoAddFirstPart(t)}))}catch(s){this.signs.setDefaultErrorMessage(s)}else this.setState({items:[]})})),(0,n.Z)(this,"_autoAddFirstPart",(e=>{const{onAddFirstPart:t}=this.props,{items:s}=this.state;e&&s[0]&&t(s[0],{operator:e})})),(0,n.Z)(this,"_getKeywordMatchItem",(e=>({type:"customKeyword",text:e}))),(0,n.Z)(this,"_onBlur",(()=>{this.setState({isSearchFocused:!1})})),(0,n.Z)(this,"_onFocus",(()=>{this.setState({isSearchFocused:!0})})),(0,n.Z)(this,"_onTermChange",(e=>{const{operator:t,parsedTerm:s}=this._parseSearchTerm(e);this.setState({isSearchFocused:!0,items:s?[this._getKeywordMatchItem(s)]:[],term:s},(()=>{this._askUpdateSearchResults(s,t)}))})),this._askUpdateSearchResults=r()(this._askUpdateSearchResults,200),this.state={isSearchFocused:!0,items:[],term:""}}componentDidMount(){this.leo=streets.service("leo"),this.signs=streets.service("signs")}componentWillUnmount(){this._askUpdateSearchResults.cancel(),this._askUpdateSearchResults=null,this.leo=null,this.signs=null}render(){const{hideTutorial:e,isCybersecurity:t,onAddFirstPart:s}=this.props,{isSearchFocused:n,items:i,term:r}=this.state,o=t?C.cybersecurity:C.default;return a.createElement("div",{className:"LayerBuilderInput"},a.createElement(E.A,{autoFocus:!0,size:"large",onBlur:this._onBlur,onChange:this._onTermChange,onFocus:this._onFocus,placeholder:t?"Vulnerabilities, threat actors, malware, topics":"Trends, topics, companies, products",value:r,elementsBefore:a.createElement(c.Z,{className:"m-l-2",importance:"secondary"}),elementsAfter:o&&!e?a.createElement(y.d,{content:"New to Leo Web Alerts? Click to see a short tutorial",position:"top",textAlign:"left",tipClass:"LayerBuilderInput__tutorial-tipsy"},a.createElement(v.Q,{className:"LayerBuilderInput__tutorial",icon:a.createElement(d.Z,{importance:"secondary"}),href:o,importance:"tertiary",newWindow:!0,label:"Tutorial"})):null}),r&&n&&a.createElement(b.G,{className:"LayerBuilderInput__autocomplete popover",maxHeight:336},!!i.length&&i.map((e=>a.createElement(f,{key:e.id||e.text,onClick:()=>{s(e)},part:e,query:r})))))}_parseSearchTerm(e){let t;return(e.includes('"')||e.includes("“"))&&(this.signs.setNextAutoHideDelay(5e3),this.signs.showMessage("Quotes are not needed. Leo will search for the full term by default.")),e.includes(" AND ")?t=u.d.AND:e.includes(" NOT ")?t=u.d.NOT:e.includes(" OR ")&&(t=u.d.OR),{operator:t,parsedTerm:e.replace(/ AND .*$| OR .*$| NOT .*$|["“”]+/g,"")}}}w.propTypes={hideTutorial:l().bool,isCybersecurity:l().bool.isRequired,onAddFirstPart:l().func.isRequired},w.defaultProps={hideTutorial:!1}},63434:(e,t,s)=>{"use strict";s.d(t,{r:()=>m});var n=s(32735),i=s(60216),r=s.n(i),a=s(1009),o=s(37225),l=s(62784),c=s(89036),d=s(53670),h=s(15149),u=s(99956),p=s(44205);class m extends n.Component{constructor(e){super(e),this.state={isVideoOpen:!1}}render(){const{autocorrectInfo:e,bundles:t,hideHighVelocityWarning:s,onAutocorrectAlert:i,refineMode:r,salienceSwitchState:l,velocity:c}=this.props;if(e&&e.type===o.hA.webAlert)return n.createElement(u.U,{className:"VelocityCallout__autocorrect",color:"notification"},"You can get more results by searching for ",this._renderLayers(),", which will search for those topics separately in articles."," ",n.createElement(d.z,{className:"VelocityCallout__button m-t-h",importance:"secondary",label:"Try it",onClick:i,size:"small"}));if(!t[r].length)return n.createElement(u.U,{className:"m-t-h"},"Please Refine Sources to see a Preview");if((0,a.R)(c))return null;const p=c<1,m=c>o.px;return p?n.createElement(u.U,null,c?"Want more ":"No "," articles?"," ",n.createElement(h.Z,{className:"VelocityCallout__link",onClick:()=>{this.setState({isVideoOpen:!0})}},"Tips on how to refine your Leo Web Alert"),this._renderVideo()):m&&!s?n.createElement(u.U,{color:"warning"},"Too many articles. Refine to less than 500 articles per week."," ",n.createElement(h.Z,{className:"VelocityCallout__link",onClick:()=>{this.setState({isVideoOpen:!0})}},"Learn how"),this._renderVideo()):l===o.L1.autoSetToMention?n.createElement(u.U,null,"Leo found few articles for 'Title Only', so we switched to 'Everything'."):null}_renderVideo(){const{isVideoOpen:e}=this.state;return e&&n.createElement(c.K,{onClose:()=>{this.setState({isVideoOpen:!1})},vimeoId:o.DM.webAlerts.tuningTips.vimeoId})}_renderLayers(){const{autocorrectInfo:{alert:{layers:e}}}=this.props,t=(0,l.a8)(e);return t.map(((e,s)=>{const i=e[0];return n.createElement(n.Fragment,{key:i},n.createElement(p.x,{className:"VelocityCallout__alert-suggestion",color:"primary",tagName:"div",size:"small"},i),s<t.length-1&&n.createElement(p.x,{className:"VelocityCallout__alert-suggestion",color:"primary",tagName:"div",size:"small"}," ","AND"," "))}))}}m.propTypes={autocorrectInfo:r().shape({alert:r().shape({layers:r().arrayOf(r().object)}),type:r().string}),bundles:r().shape({allFeedlyMode:r().arrayOf(r().object),customMode:r().arrayOf(r().object)}).isRequired,hideHighVelocityWarning:r().bool,onAutocorrectAlert:r().func,refineMode:r().string.isRequired,salienceSwitchState:r().string.isRequired,velocity:r().number},m.defaultProps={autocorrectInfo:void 0,hideHighVelocityWarning:!1,onAutocorrectAlert:void 0,velocity:void 0}},42610:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(65698),o=s(85902),l=s(99175);class c extends n.Component{render(){const{children:e,position:t,targetParentElement:s}=this.props;return n.createElement(l.d,{animateClass:"animateFadeIn",content:n.createElement(n.Fragment,null,n.createElement("div",{className:"LeoItemExplanationTipsy__tipsy-title"},this._getTitle()),n.createElement("div",{className:"LeoItemExplanationTipsy__tipsy-message"},this._renderMessage())),position:t,targetParentElement:s,tipClass:"LeoItemExplanationTipsy"},e)}_renderExamples(e){return n.createElement("div",{className:"LeoItemExplanationTipsy__examples"},e.map((e=>n.createElement("span",{key:e,className:"LeoItemExplanationTipsy__example"},e))))}_renderMessage(){const{item:{aliases:e,id:t,label:s,leoBehaviorExamples:i=[],leoBehaviorExplanation:r,text:o}}=this.props;if(r&&i.length)return n.createElement(n.Fragment,null,r,this._renderExamples(i));if(r)return r;if((0,a.xT)(t)||(0,a.jP)(t))return"Leo understands how to recognize articles about ".concat(s,". He'll be looking for thousands of different terms related to that topic.");if((0,a.ft)(t)){let t=e||[];return t.length>6&&(t=e.slice(0,6).concat(["".concat(e.length-6," more")])),n.createElement(n.Fragment,null,"Leo will be looking for:",this._renderExamples([s,...t]))}return(0,a.Sr)(o)?"Leo will be searching for this domain pattern in the URL of articles":'Leo will be searching for exact matches of the keyword "'.concat(o,'"')}_getTitle(){const{item:{description:e,id:t,text:s}}=this.props;let n;return n=(0,a.xT)(t)?e||"Smart Topic":(0,a.ft)(t)?e||"Entity":(0,a.jP)(t)?e||"Business Event":(0,a.Sr)(s)?"Website":"Keyword Match",(0,o.kC)(n)}}c.propTypes={children:r().node.isRequired,item:r().shape({aliases:r().arrayOf(r().string),description:r().string,id:r().string,label:r().string,leoBehaviorExamples:r().arrayOf(r().string),leoBehaviorExplanation:r().string,text:r().string,type:r().string}).isRequired,position:r().oneOf(["bottom","left","top","right"]),targetParentElement:r().bool},c.defaultProps={position:void 0,targetParentElement:!1}},41528:(e,t,s)=>{"use strict";s.d(t,{D:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(57993),o=s(56295),l=s(8199);function c(e){let{feature:t,limit:s,planLabel:i,type:r}=e;const c=i===l.vu.enterprise?"Contact sales to increase limits.":"Consider upgrading to follow more.";return r===o.HL?n.createElement(n.Fragment,null,"You're following the"," ",n.createElement("b",{className:"color-primary"},"maximum of ",s," personal ",t)," ","and"," ",n.createElement("b",{className:"color-primary"},s," team ",t," "),"on the ",i," plan. ",c):n.createElement(n.Fragment,null,r===a.s.personal?"You're following ":"Your team is using ","the"," ",n.createElement("b",{className:"color-primary"},"maximum of ",s," ",t)," ","on the ",i," plan. ",c)}c.propTypes={feature:r().string.isRequired,limit:r().number.isRequired,planLabel:r().string.isRequired,type:r().string.isRequired}},59213:(e,t,s)=>{"use strict";s.d(t,{k:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{className:t,display:s,sentences:i}=e;const a=r()("LeoSummary",t,{["LeoSummary--".concat(s)]:s});return"paragraph"===s?n.createElement("p",{className:a},i.join(" ")):"inline"===s?n.createElement("span",{className:"summary"},i.join(" ")):n.createElement("ul",{className:a},i.map((e=>n.createElement("li",{className:"LeoSummary__item",key:"leo-summary-".concat(e)},e))))}l.propTypes={className:o().string,display:o().oneOf(["list","paragraph","inline"]),sentences:o().arrayOf(o().string).isRequired},l.defaultProps={className:void 0,display:"list"}},5665:(e,t,s)=>{"use strict";s.d(t,{Q:()=>E});var n=s(47169),i=s(45750),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(94059),d=s(65698),h=s(855),u=s(85902),p=s(42610),m=s(97090),g=s(10936),f=s(8629),y=s(39970);const v=Object.freeze({author:"author",site:"site",title:"title"}),b=Object.freeze({author:"name of",site:"domain of",title:"word or phrase in"});class E extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_renderMenuItem",(e=>{const{tipsyPosition:t,searchHint:s}=this.props,{parsedFilterTerm:n}=this.state,i=(0,d.mm)(e),r=(0,d.B4)(e);let{label:o}=e;const l=(0,d.S_)(n,e);return l&&-1===e.label.toLowerCase().indexOf(n.toLowerCase())&&(o+=" (Alias: ".concat(l,")")),(n||s)&&a.createElement(f.s,{key:"".concat(e.id).concat(e.label),onClick:()=>{this._onSelectEntity(e)}},a.createElement(p.E,{item:e,position:t},a.createElement("div",{className:"LeoTopicPicker__menu-item"},a.createElement(i,{importance:"secondary"}),a.createElement("div",{className:"LeoTopicPicker__menu-item-content"},a.createElement("span",{className:"LeoTopicPicker__menu-item-label",title:e.label},a.createElement(y.L,{firstOccurance:!0,text:o,words:n,wordClassName:"autocomplete-bold",wrapper:"span"})),a.createElement("p",{className:"m-a-0 LeoTopicPicker__menu-item-description"},r)))))})),(0,n.Z)(this,"_renderPhraseMenuItem",(e=>{const{tipsyPosition:t}=this.props,{keywordHint:s}=this.state,{searchPrefix:n,text:i}=e;if(s)return a.createElement(f.s,{key:i,disabled:!0},i);const r=c.XA.customKeyword;return a.createElement(f.s,{key:n?"".concat(n+i):"".concat(i,"-phrase"),onClick:()=>{this._onSelectEntity(n?{text:"".concat(n,":").concat(i)}:e)}},a.createElement(p.E,{item:e,position:t},a.createElement("div",{className:"LeoTopicPicker__menu-item"},a.createElement(r,{importance:"secondary"}),a.createElement("div",{className:"LeoTopicPicker__menu-item-content"},a.createElement("span",{className:"LeoTopicPicker__menu-item-label autocomplete-bold",title:i},i),a.createElement("p",{className:"m-a-0 LeoTopicPicker__menu-item-description"},n||"keyword"," match")))))})),(0,n.Z)(this,"_organizeItems",(()=>{const{initialSuggestions:e,searchHint:t}=this.props,{items:s,filterTerm:n,isLoadingInitial:i,parsedFilterTerm:r,keywordHint:a,searchPrefix:o}=this.state;let l=n&&n.length>0||t?s:e;if(!i&&n&&!a){const e=this._getPhraseKeywords();l=[...l],!o&&(0,d.ab)(r,l[0],t)?l.splice(1,0,e[0]):l=[...e,...l]}return l})),(0,n.Z)(this,"_onFilterTermChange",(e=>{let t="#"===e[0]?e.substr(1):e;t=t.replace(/["]+/g,"");const{searchPrefix:s,searchSuffix:n}=this._splitByPrefix(t);s&&(t=n?n.trim():"");const{updateParentSearchQuery:i}=this.props;i(t),this.setState({filterTerm:e,parsedFilterTerm:t,searchPrefix:s},(()=>{this._askUpdateEntities(t)}))})),(0,n.Z)(this,"_onSelectEntity",(e=>{const{onSelect:t}=this.props;this.setState({items:[],filterTerm:"",parsedFilterTerm:""}),t(e)})),this._askUpdateEntities=r()(this._askUpdateEntities,100),this.state={isLoadingInitial:!0,filterTerm:"",keywordHint:"",items:[],parsedFilterTerm:"",searchPrefix:""}}componentDidMount(){const{initialQuery:e,searchHint:t}=this.props;this.leo=streets.service("leo"),e?this._onFilterTermChange(e):t&&this._updateTopicSuggestions()}componentDidUpdate(e){let{searchHint:t}=e;const{searchHint:s}=this.props;t!==s&&this._updateTopicSuggestions()}componentWillUnmount(){this.leo=null,this._askUpdateEntities.cancel(),this._askUpdateEntities=null}render(){const{filterTerm:e}=this.state,{elementsBeforeInput:t}=this.props,s=this._organizeItems();return a.createElement("div",{className:"LeoTopicPicker"},a.createElement(g.P,{menuItems:s.map((e=>e.text?this._renderPhraseMenuItem(e):this._renderMenuItem(e))),onChange:this._onFilterTermChange,elementsBefore:t,value:e}))}_getKeywordHint(e,t){const{isPriority:s}=this.props,n={text:""},i=e.includes(" AND "),r=e.includes(" NOT "),a=e.includes(" OR ");return!e&&t&&(n.text="Enter the ".concat(b[t]," the ").concat(t," you want to ").concat(s?"prioritize":"mute")),i||r||a?(n.text=s&&(i||r||a)?c.a3.priorities:!i||r||a?!r||i||a?!a||i||r?c.a3.multiple:c.a3.OR:c.a3.NOT:c.a3.AND,n):n}_getPhraseKeywords(){const{parsedFilterTerm:e,filterTerm:t,searchPrefix:s}=this.state;return s&&(t.includes(s)||t.includes((0,u.kC)(s)))?[{text:e,searchPrefix:s}]:s?[{text:e,searchPrefix:s},{text:e}]:[{text:e}]}_splitByPrefix(e){let t=e.length>0?(0,u.dQ)(e):e,s="";const n=(0,h.Th)(t);return n||0===t.indexOf("site:")?s=v.site:0===t.indexOf("author:")?s=v.author:0===t.indexOf("title:")&&(s=v.title),s&&!n&&(t=t.split("".concat(s,":"))[1]),{searchPrefix:s,searchSuffix:t}}async _updateTopicSuggestions(){const{searchHint:e,selectedParts:t}=this.props;this.setState({isLoadingInitial:!0});try{const s=await this.leo.askTopicSuggestions(e,t);this.setState({isLoadingInitial:!1,items:s})}catch(s){this.setState({isLoadingInitial:!1})}}async _askUpdateEntities(e){const{parsedFilterTerm:t,searchPrefix:s}=this.state;if(!t&&!s)return void this.setState({items:[],isLoadingInitial:!0},this._updateTopicSuggestions);const n=this._getKeywordHint(t,s);if(n.text)this.setState({items:[n],keywordHint:n.text});else try{const n=s?null:await this.leo.askAutocompleteParts(t);if(e!==t)return;this.setState({isLoadingInitial:!1,items:n||[],keywordHint:""})}catch(i){streets.service("signs").setDefaultErrorMessage(i)}}}E.propTypes={elementsBeforeInput:l().node,initialQuery:l().string,initialSuggestions:l().arrayOf(m.l),isPriority:l().bool,onSelect:l().func,searchHint:l().string,selectedParts:l().arrayOf(l().object),tipsyPosition:l().string,updateParentSearchQuery:l().func},E.defaultProps={elementsBeforeInput:[],initialQuery:"",initialSuggestions:[],isPriority:!1,onSelect:()=>{},searchHint:"",selectedParts:[],tipsyPosition:"right",updateParentSearchQuery:()=>{}}},23005:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let t,{className:s,details:i,hideMessage:a,prefix:o}=e;return t=i?"".concat(o," ").concat(i,"..."):"".concat(o,"..."),n.createElement("div",{className:r()("message loading",s)},a?"":t)}l.propTypes={className:o().string,details:o().string,hideMessage:o().bool,prefix:o().string},l.defaultProps={className:"",details:"",hideMessage:!1,prefix:"Loading"}},17771:(e,t,s)=>{"use strict";s.d(t,{V:()=>o});var n=s(32735),i=s(60755),r=s(60216),a=s.n(r);function o(e){let{path:t,onClick:s,...r}=e;const[a,o]=(0,n.useState)(!0);return n.createElement(i.Z,Object.assign({loop:!0,play:a,rendererSettings:{preserveAspectRatio:"xMidYMid slice"},path:t,onClick:()=>{o((e=>!e)),null==s||s()}},r))}o.propTypes={...i.Z.propTypes,path:a().string.isRequired}},3562:(e,t,s)=>{"use strict";s.d(t,{U:()=>y});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(66149),c=s(9990),d=s(19577),h=s(53670),u=s(93926),p=s(41417),m=s(73564),g=s(23633);class f extends i.Component{render(){const{onRemoveClick:e,users:t,usersLoading:s}=this.props;return t.length?i.createElement(u._,{data:t.map((e=>({userId:e.userId,user:e}))),flexLayout:!0,uniqueKey:"userId"},i.createElement(m.h,{header:"Name",cell:e=>{let{user:t}=e;return i.createElement(p.a,null,i.createElement(g.n,{user:t}))}}),i.createElement(m.h,{header:"Actions",cell:t=>{let{user:n,userId:r}=t;return i.createElement(p.a,null,i.createElement(h.z,{disabled:!!s[r],icon:i.createElement(d.Z,{importance:"tertiary"}),importance:"secondary",label:"Remove",loading:!!s[r],onClick:()=>{e(n)}}))},width:142})):null}}f.propTypes={onRemoveClick:r.PropTypes.func,users:r.PropTypes.arrayOf(r.PropTypes.object),usersLoading:r.PropTypes.objectOf(r.PropTypes.bool)},f.defaultProps={onRemoveClick:()=>{},users:[],usersLoading:{}};class y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddMemberButtonClick",(()=>{this.setState((e=>{let{isAddMemberMenuOpen:t}=e;return{isAddMemberMenuOpen:!t}}))})),(0,n.Z)(this,"_onCloseMemberMenu",(()=>{this.setState({isAddMemberMenuOpen:!1})})),(0,n.Z)(this,"_onRemoveUserClick",(async e=>{const{streamId:t}=this.state,s=this._getService(t);this.setState((t=>{let{isUserIdDeleting:s}=t;return{isUserIdDeleting:{...s,[e.userId]:!0}}}));try{await s.askUnsubscribeUser(t,e.userId),this.signs.showMessage("".concat(e.name," removed"))}catch(n){this.signs.setDefaultErrorMessage(n)}}));const{streamInfo:t,streamInfo:{id:s,label:i,users:r}}=this.props;this.state={isAddMemberMenuOpen:!1,label:i,streamId:s,streamInfo:t,users:r,isUserIdDeleting:{}}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisecollections.registerObserver(this),this.enterprisetags=streets.service("enterprisetags"),this.enterprisetags.registerObserver(this),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags.unregisterObserver(this),this.enterprisetags=null,this.signs=null}onCollectionChanged(e){const{streamId:t}=this.state;e===t&&this._updateUsers()}onTagChanged(e){const{streamId:t}=this.state;e===t&&this._updateUsers()}render(){const{label:e,isAddMemberMenuOpen:t,streamId:s,streamInfo:n,users:r,isUserIdDeleting:a}=this.state,{isCategory:d}=(0,o.Yg)(s);return i.createElement("div",{className:"m-y-2"},i.createElement("div",{className:"container-flex"},i.createElement("div",null,i.createElement(c.H3,{appearance:"h2",className:"m-a-0",sub:"Add and remove members from the '".concat(e,"' ").concat(d?"feed":"board",".")},"Members")),i.createElement("div",{className:"col-no-flex"},i.createElement(l.u,{buttonStyle:"primary",feed:n,isOpen:t,onButtonClick:this._onAddMemberButtonClick,onCloseMenu:this._onCloseMemberMenu}))),r?i.createElement(f,{onRemoveClick:this._onRemoveUserClick,users:r,usersLoading:a}):null)}_getService(e){const{isCategory:t}=(0,o.Yg)(e);return t?this.enterprisecollections:this.enterprisetags}async _updateUsers(){const{streamId:e}=this.state,t=this._getService(e),{users:s}=await t.askMetadata(e),n=s.reduce(((e,t)=>{let{id:s}=t;return e[s]=!0,e}),{});this.setState((e=>{let{isUserIdDeleting:t}=e;return{isUserIdDeleting:Object.keys(t).reduce(((e,t)=>(n[t]&&(e[t]=!0),e)),{}),users:s}}))}}y.propTypes={streamInfo:a().shape({id:a().string,users:a().arrayOf(a().object)}).isRequired}},98705:(e,t,s)=>{"use strict";s.d(t,{R:()=>p});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(18193),l=s(24389),c=s(58074),d=s(23005),h=s(92121),u=s(44205);class p extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{referenceEntry:null,memeEntries:[],error:"",isLoading:!0,sortingOrder:o.q.popularity}),(0,n.Z)(this,"_onSortChange",(e=>{const{memeEntries:t}=this.state;this.setState({memeEntries:this._sortMemeEntries(t,e),sortingOrder:e})}))}componentDidMount(){const{memeId:e}=this.props;streets.service("analytics").trackLeoEvent("memeAnalysis","show",e),this.reader=streets.service("reader"),this.feedly=streets.service("feedly"),this.meme=streets.service("meme"),this._updateReferenceEntry()}componentWillUnmount(){this.reader=null,this.feedly=null,this.meme=null}render(){const{error:e,isLoading:t}=this.state;return t?i.createElement(d.g,{details:"trend analysis"}):e?i.createElement(u.x,{className:"error"},e):i.createElement("div",null,this._renderReferenceEntry(),this._renderMemeEntries())}_renderReferenceEntry(){const{referenceEntry:e}=this.state;return i.createElement(l.k,{entryId:e.getId(),layout:"uFeatured",hideAuthor:!0})}_renderMemeEntries(){const{memeEntries:e,sortingOrder:t}=this.state;return e&&0!==e.length?i.createElement("section",null,i.createElement(h.P,{borderless:!0,className:"m-b-1",items:Object.values(o.q),labelKey:"label",onItemSelect:this._onSortChange,prefix:"Sorting by",size:"small",value:t.label}),i.createElement(c.f,{entries:e,hasAllEntries:!0,showSourceTitle:!0,hideMeme:!0,hideRelatedEntries:!0,endOfFeedLabel:""})):i.createElement("p",null,"This meme does not have any entries at the moment.")}_sortMemeEntries(e,t){const{sortDirection:s,getter:n}=t;return e.sort(((e,t)=>"asc"===s?e[n]()-t[n]():t[n]()-e[n]())).slice(0)}async _updateReferenceEntry(){try{const{memeId:e}=this.props;this.setState({isLoading:!0});const{referenceEntry:t,relatedEntries:s}=await this.meme.askMemeEntries(e);this.setState({isLoading:!1,referenceEntry:t,memeEntries:this._sortMemeEntries(s,o.q.popularity)})}catch(e){this.setState({error:"Could not get meme: ".concat(e.message)})}}}p.propTypes={memeId:a().string.isRequired}},83362:(e,t,s)=>{"use strict";s.d(t,{r:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(98705);function o(e){let{memeId:t}=e;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"container center"},n.createElement(a.R,{memeId:t})))}o.propTypes={memeId:r().string.isRequired}},94516:(e,t,s)=>{"use strict";s.d(t,{F:()=>u,Y:()=>p});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(62784),c=s(66772),d=s(84475),h=s(74256);class u extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_toggleWebhook",(()=>{const{settings:e,onChange:t}=this.props;e.disabled=this._isWebhookEnabled(),t(e)})),(0,n.Z)(this,"_onUrlChange",(e=>{const{settings:t,onChange:s}=this.props;t.webhookUrl=e,s(t)}))}render(){const e=this._isWebhookEnabled(),t=e?"Webhook activated":"Activate Webhook";return i.createElement("div",{className:"field integration-webhook"},i.createElement("label",null,"Microsoft Teams Notifications",i.createElement("div",{className:"sub"},this._getDescription())),i.createElement(d.r,{isOn:e,label:t,onToggle:this._toggleWebhook}),this._renderForm())}_getDescription(){const{streamId:e}=this.props,{isPriority:t,isTag:s}=(0,o.Yg)(e),n=i.createElement(c.r,{href:"https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook",newWindow:!0},"Incoming Webhook connector");if(s)return i.createElement(i.Fragment,null,"Push articles saved to this board to a Microsoft Teams channel using the ",n);if(t)return i.createElement(i.Fragment,null,"Send a notification to a Microsoft Teams channel every time a new article is prioritized by Leo, using the ",n,".");if(e.startsWith(l.xM))return i.createElement(i.Fragment,null,"Send a notification to a Microsoft Teams channel every time a new article is saved to this Web Alert, using the ",n,".");throw new Error("invalid stream id")}_renderForm(){const{settings:e}=this.props;return e.disabled?null:i.createElement("div",null,i.createElement("label",{className:"secondary",htmlFor:"url"},"Webhook URL:"),i.createElement(h.A,{id:"url",clearable:!0,placeholder:"http://...",value:e.webhookUrl||"",onChange:this._onUrlChange}))}_isWebhookEnabled(){const{settings:e}=this.props;return!e.disabled}}const p=a().shape({disabled:a().bool,webhookUrl:a().string});u.propTypes={onChange:a().func.isRequired,settings:p.isRequired,streamId:a().string.isRequired}},56877:(e,t,s)=>{"use strict";s.d(t,{l:()=>c});var n=s(32735),i=s(24443),r=s.n(i),a=s(60216),o=s.n(a),l=s(68620);class c extends n.Component{componentDidMount(){this.signs=streets.service("signs")}componentWillUnmount(){this.signs=null}render(){const{onClose:e,board:t,board:{label:s,users:i}}=this.props,a=1===i.length&&i[0].userId===streets.getUserId();return n.createElement(l.c,{title:"Archive ".concat(s," board"),danger:!0,description:a?"Are you sure you want to archive this team board?":"Are you sure you want to archive this team board? This will remove the board from the Feedly of ".concat(r()("teammate",i.length-1,!0)," who follow").concat(i.length-1==1?"s":""," it"),onSuccess:()=>{this._askArchiveBoard(t)},successLabel:"Archive",onCancel:e,cancelLabel:"No, keep this board"})}async _askArchiveBoard(e){const{onClose:t}=this.props;try{this.signs.setNextAutoHideDelay(5e3),this.signs.showMessage("Archiving board..."),await streets.service("enterprisetags").askArchiveTag(e.id),this.signs.showMessage("Board successfully archived!")}catch(s){this.signs.showError("Failed to archive board")}t()}}c.propTypes={board:o().shape({label:o().string,users:o().array}).isRequired,onClose:o().func.isRequired}},91729:(e,t,s)=>{"use strict";s.d(t,{h:()=>d});var n=s(47169),i=s(32735),r=s(24443),a=s.n(r),o=s(60216),l=s.n(o),c=s(68620);class d extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_askArchiveCollection",(async e=>{const{onClose:t}=this.props;try{this.signs.setNextAutoHideDelay(5e3),this.signs.showMessage("Archiving feed..."),await streets.service("enterprisecollections").askArchiveCollection(e.id),this.signs.showMessage("Feed successfully archived!")}catch(s){this.signs.showError("Failed to archive Feed")}t()}))}componentDidMount(){this.signs=streets.service("signs")}componentWillUnmount(){this.signs=null}render(){const{collection:e,collection:{label:t,users:s},onClose:n}=this.props,r=1===s.length&&s[0].userId===streets.getUserId();return i.createElement(c.c,{title:"Archive ".concat(t," feed"),danger:!0,description:r?"Are you sure you want to archive this team feed?":"Are you sure you want to archive this team feed? This will remove the feed from the Feedly of ".concat(a()("teammate",s.length-1,!0)," who follow").concat(s.length-1==1?"s":""," it"),onSuccess:()=>{this._askArchiveCollection(e)},successLabel:"Archive",onCancel:n,cancelLabel:"No, keep this feed"})}}d.propTypes={collection:l().shape({label:l().string,users:l().array}).isRequired,onClose:l().func.isRequired}},68620:(e,t,s)=>{"use strict";s.d(t,{c:()=>h});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(53670),c=s(2772),d=s(65060);function h(e){let{className:t,danger:s,description:i,isLoading:a,onCancel:o,cancelLabel:h,onSuccess:u,small:p,successLabel:m,successOnClose:g,title:f}=e;return n.createElement(d.u,{className:r()("ConfirmationModal",t),onClose:g?u:o,small:p},n.createElement(c.H2,{appearance:"h3"},f),n.createElement("p",null,i),n.createElement(l.z,{color:s?"danger":void 0,label:m,loading:a,onClick:u}),n.createElement(l.z,{label:h,onClick:o,importance:"secondary"}))}h.propTypes={cancelLabel:o().string,className:o().string,danger:o().bool,description:o().string,isLoading:o().bool,onCancel:o().func,onSuccess:o().func,small:o().bool,successLabel:o().string,successOnClose:o().bool,title:o().string},h.defaultProps={cancelLabel:"No",className:"",danger:!1,description:void 0,isLoading:!1,onCancel:void 0,onSuccess:void 0,small:!1,successLabel:"Yes",successOnClose:!1,title:void 0}},48841:(e,t,s)=>{"use strict";s.d(t,{z:()=>m});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(88709),l=s(74250),c=s(53670),d=s(6797),h=s(31220),u=s(74256),p=s(65060);class m extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCustomFeedbackChange",(e=>{this.setState({customFeedbackMessage:e,selectedFeedback:l.O.other})})),(0,n.Z)(this,"_onSelectFeedback",(e=>{this.setState({selectedFeedback:e})})),(0,n.Z)(this,"_onSubmitFeedback",(async()=>{const{entryId:e,onClose:t,feedbackType:s}=this.props,{customFeedbackMessage:n,selectedFeedback:i}=this.state;try{i===l.O.notAThreat?await this.leo.askSaveFeedback(e,o.dh,-1,"cybersecurityDashboard"):await this.reader.askSaveEntryFeedback(e,{description:n||i,reason:s,type:"less-like-this"})}catch(r){console.error("Failed to submit feedback")}this.signs.showMessage("Feedback collected"),t()}));const{feedbackValue:t}=e;this._feedbackOptions=[t,l.O.notCriticalEnough,l.O.duplicate,l.O.tooOld,l.O.other],this.state={customFeedbackMessage:"",selectedFeedback:t}}componentDidMount(){this.leo=streets.service("leo"),this.reader=streets.service("reader"),this.signs=streets.service("signs")}componentWillUnmount(){this.leo=null,this.reader=null,this.signs=null,this._feedbackOptions=null}render(){const{onClose:e}=this.props,{customFeedbackMessage:t,selectedFeedback:s}=this.state;return i.createElement(p.u,{onClose:e},i.createElement("div",{className:"CybersecurityFeedbackModal__modal-container"},i.createElement("div",{className:"CybersecurityFeedbackModal__header m-b-h"},"Why is this article not relevant?"),i.createElement(d.a,{name:"feedback",onChange:this._onSelectFeedback,selectedValue:s},this._feedbackOptions.map((e=>i.createElement(h.Y,{key:e,value:e},i.createElement("span",{className:"CybersecurityFeedbackModal__options"},e))))),i.createElement(u.A,{className:"CybersecurityFeedbackModal__input",value:t,onChange:this._onCustomFeedbackChange}),i.createElement("div",{className:"CybersecurityFeedbackModal__buttons-container m-l-1 m-t-1"},i.createElement(c.z,{className:"CybersecurityFeedbackModal__selector-button",color:"accent",label:"Submit Feedback",onClick:this._onSubmitFeedback}),i.createElement(c.z,{className:"CybersecurityFeedbackModal__selector-button",importance:"secondary",label:"Cancel",onClick:e}))))}}m.propTypes={entryId:a().string.isRequired,feedbackType:a().string.isRequired,feedbackValue:a().string.isRequired,onClose:a().func.isRequired}},85925:(e,t,s)=>{"use strict";s.d(t,{y:()=>u});var n=s(32735),i=s(60216),r=s.n(i),a=s(16113),o=s(53670),l=s(2772),c=s(44205),d=s(32968),h=s(65060);function u(e){let{className:t,header:s,onChangeInput:i,onClose:r,onFollowSource:u,textInputTitle:p,value:m}=e;return n.createElement(h.u,{className:t,onClose:r},n.createElement(l.H2,{appearance:"h3"},s),n.createElement(c.x,{color:"tertiary"},p),n.createElement(d.o,{value:m,onChange:i}),n.createElement(c.x,{color:"tertiary"},"Add it to one of your folders"),n.createElement(a.A,{align:"left",buttonLabel:"Choose Folder",disabled:!m,importance:"primary",onCollectionSelect:u,onCollectionCreated:u}),n.createElement(o.z,{importance:"secondary",label:"Cancel",onClick:r,size:"normal"}))}u.propTypes={className:r().string,header:r().string.isRequired,onChangeInput:r().func.isRequired,onClose:r().func.isRequired,onFollowSource:r().func.isRequired,textInputTitle:r().string.isRequired,value:r().string},u.defaultProps={className:"",value:""}},65060:(e,t,s)=>{"use strict";s.d(t,{u:()=>p});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(26211),l=s.n(o),c=s(60216),d=s.n(c),h=s(55118);const u=Object.freeze({dark:"dark",darker:"darker"});class p extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onModalClick",(()=>{this._isInsideClick=!0})),(0,n.Z)(this,"_onModalOverlayClick",(()=>{!this._isInsideClick&&this.props.onClose&&this.props.onClose(),this._isInsideClick=null})),(0,n.Z)(this,"_onKeyDown",(e=>{const{onClose:t}=this.props;t&&27===e.keyCode&&(e.preventDefault(),t())})),this._overlay=i.createRef()}componentDidMount(){this.props.inline||this._preventBackgroundScroll(),this._overlay&&(this._overlay.current.style.opacity=0,window.setTimeout((()=>{this._overlay&&(this._overlay.current.style.opacity=1)}),1))}componentDidUpdate(){this.props.inline?this._allowBackgroundScroll():this._preventBackgroundScroll()}componentWillUnmount(){this._allowBackgroundScroll(),this._isInsideClick=null,this._overlay=null}render(){const{classNameOverlay:e,fading:t,inline:s,overlay:n}=this.props,r=i.createElement("div",{ref:this._overlay,className:a()({"is-fading":t,"is-inline":s,"modal-overlay":!0,darker:n===u.darker,[e]:e}),onClick:this._onModalOverlayClick},this._renderModalBody());return s?r:i.createElement(h.h,{className:"fx modal-container",target:document.body},r)}_renderModalBody(){const{children:e,className:t,inline:s,small:n}=this.props,r=i.createElement("div",{className:a()("modal",t,{"modal--focus-trap":!s,"modal--small":n}),onClick:this._onModalClick,onKeyDown:this._onKeyDown,tabIndex:"-1"},e);return s?r:i.createElement(l(),{focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".modal--focus-trap"}},r)}_allowBackgroundScroll(){this._preventScrollClass&&(document.body.className=document.body.className.replace(this._preventScrollClass,""),this._preventScrollClass=null)}_preventBackgroundScroll(){this._preventScrollClass||(this._preventScrollClass=" modal-open",document.body.className+=this._preventScrollClass)}}p.propTypes={children:d().node,className:d().string,classNameOverlay:d().string,fading:d().bool,inline:d().bool,onClose:d().func,overlay:d().oneOf(Object.keys(u)),small:d().bool},p.defaultProps={children:[],className:void 0,classNameOverlay:void 0,fading:!1,inline:!1,darker:!1,onClose:void 0,overlay:u.dark,small:!1}},90514:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(56732),o=s(53670),l=s(2772);class c extends n.Component{render(){const{allowClose:e,onClickOutside:t}=this.props,s=e?t.bind(this):null;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"modal-overlay",onClick:s},this._renderModal()))}_renderModal(){const{information:e,onPrimaryAction:t,onTertiaryAction:s}=this.props,i=[],r=[];return e.badge&&i.push(n.createElement("div",{className:"badge secondary",key:"modal-badge"},e.badge)),e.visual&&i.push(n.createElement(a.Q,{src:e.visual,className:"modal-visual",key:"illustration-".concat(e.header)})),e.header&&i.push(n.createElement(l.H2,{className:"modal-notifications__heading",key:"modal-header"},e.header)),e.sub&&i.push(n.createElement("p",{key:"modal-sub"},e.sub)),e.primaryAction&&r.push(n.createElement(o.z,{key:"modal-action-primary",importance:"primary",label:e.primaryAction,onClick:t.bind(this)})),e.tertiaryAction&&r.push(n.createElement(o.z,{key:"modal-action-tertiary",importance:"tertiary",label:e.tertiaryAction,onClick:s.bind(this)})),i.push(n.createElement("div",{className:"spotlight-buttons",key:"moodal-actions"},r)),n.createElement("div",{className:"modal-notifications modal-spotlight",onClick:this._onModalClick.bind(this)},i)}_onModalClick(e){e.stopPropagation()}}c.propTypes={allowClose:r().bool,information:r().shape({badge:r().string,header:r().string,primaryAction:r().string,sub:r().string,tertiaryAction:r().string,visual:r().string}).isRequired,onClickOutside:r().func,onPrimaryAction:r().func,onTertiaryAction:r().func},c.defaultProps={allowClose:!1,onClickOutside:()=>{},onPrimaryAction:()=>{},onTertiaryAction:()=>{}}},35503:(e,t,s)=>{"use strict";s.d(t,{E:()=>L});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(24443),l=s.n(o),c=s(60216),d=s.n(c),h=s(4425),u=s(96297),p=s(3015),m=s(3171),g=s(8199),f=s(80889),y=s(3167),v=s(38084),b=s(6318),E=s(53670),C=s(96968),w=s(2772),k=s(9990),_=s(31220),M=s(18542),S=s(44205),I=s(65060),T=s(16454),N=s(76364);class L extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_handleStripePayment",(async(e,t)=>{const{product:s,subscriptionStatus:n}=this.state,{onClose:i}=this.props;if(this.setState({isStripePaymentLoading:!0}),this._isCanceled())try{e&&await this.profile.askUpdateCardInfo(e),await this.profile.askReactivateStripeSubscription(),this.signs.showMessage("Subscription reactivated"),i({closeBanner:!0})}catch(r){this.setState({isStripePaymentLoading:!1,upgradeError:"Something went wrong during reactivation. Please contact pro@feedly.com"}),console.error("Failed to reactivate subscription: ".concat(r.debugMessage||r.message)),this.signs.showError("Failed to reactivate subscription")}else if(e&&n!==g.Ch.unpaid)await this.profile.askUpdateCardInfo(e),this.signs.showMessage("Card info updated"),i({closeBanner:!0});else try{this.signs.showMessage("Upgrading to ".concat(this._getPlanLabel(),"...")),await this.profile.askProUpgrade(s,e,t),i({closeBanner:!0})}catch({errorCode:a,declineCode:o,errorMessage:l}){let e;"do_not_honor"===o?e="Payment declined. Please contact your bank to whitelist Feedly Inc.":(e=l,streets.service("signs").showError(l),console.error("Upgrade failed: ".concat(JSON.stringify(e)))),this.setState({isStripePaymentLoading:!1,upgradeError:e})}})),this.feedly=streets.service("feedly"),this.profile=streets.service("profile");const{cardDetails:t,product:s,productExpiration:i,subscriptionPaymentProvider:r,subscriptionStatus:a}=this.profile.getUserInfo();this.state={cardDetails:t,isStripePaymentLoading:!1,nextChargeDate:null,product:(0,f.Eh)(s),productExpiration:i,showCardForm:!this._hasValidCard(t)||a===g.Ch.pastDue,showMonthlyOption:(0,f._Y)(s)&&(0,f.$l)(s),subscriptionPaymentProvider:r,subscriptionStatus:a,theme:this.feedly.getTheme(),upgradeError:""}}componentDidMount(){this.analytics=streets.service("analytics"),this.signs=streets.service("signs"),this._updateNextChargeDate()}componentWillUnmount(){this.analytics=null,this.feedly=null,this.profile=null,this.signs=null}render(){const{productExpiration:e,subscriptionPaymentProvider:t,subscriptionStatus:s}=this.state,{onClose:n}=this.props;return(0,f.oF)({productExpiration:e,subscriptionStatus:s})||t!==g.RI.paypal?i.createElement(I.u,{className:"ProReactivationModal p-a-0",onClose:n},i.createElement("div",{className:"ProReactivationModal__plan-info"},i.createElement(w.H2,{className:"ProReactivationModal__heading"},this._getHeading()),this._renderDescription(),i.createElement("div",{className:"ProReactivationModal__price"},this._renderPrice())),this._renderPaymentForm()):i.createElement(I.u,{className:"ProReactivationModal",onClose:n},i.createElement("p",null,"You've subscribed to Feedly ",this._getPlanLabel()," with PayPal. If you need to reactivate a canceled subscription or manage your payment info, please do so via PayPal."),i.createElement(E.z,{importance:"secondary",label:"Close",onClick:n}))}_renderPaymentForm(){const{cardDetails:e,isStripePaymentLoading:t,nextChargeDate:s,showCardForm:n,subscriptionStatus:r,theme:o,upgradeError:l}=this.state,{onClose:c}=this.props;return i.createElement("div",{className:"ProReactivationModal__payment-form form"},i.createElement(k.H3,{className:"ProReactivationModal__heading"},"Payment method"),i.createElement("div",{className:"ProReactivationModal__stripe"},"Powered by",i.createElement("img",{alt:"Stripe logo",className:"ProReactivationModal__stripe-logo",src:o===y.Bd.light?T:N})),this._hasValidCard(e)&&r!==g.Ch.pastDue&&i.createElement(M.E,{className:a()({"m-b-0":!n}),name:"ProReactivationModal__payment-method",onChange:e=>{this.setState({showCardForm:"newCard"===e})},selectedValue:n?"newCard":"existingCard"},i.createElement(_.Y,{className:"ProReactivationModal__radio m-b-t",value:"existingCard"},i.createElement(v.u,e)),i.createElement(_.Y,{className:"ProReactivationModal__radio",value:"newCard"},"Use a new credit card")),i.createElement(b.Z,{buttonLabel:"Renew Now",isStripePaymentLoading:t,handlePayment:this._handleStripePayment,onCancelClick:c,showAllFields:n,upgradeError:l}),i.createElement(S.x,{className:"ProReactivationModal__cancel-hint",size:"smallish"},this._isCanceled()&&s&&s-Date.now()>0&&"You won't be charged until ".concat((0,p.p6)(new Date(s),"MMM d, y"),". "),"Cancel anytime"))}_renderDescription(){const{cardDetails:e,nextChargeDate:t,product:s,subscriptionStatus:n}=this.state;if(n===g.Ch.pastDue)return i.createElement("p",null,"There was an issue with your credit card.",i.createElement("br",null),"Update your payment method to keep using ",this._getPlanLabel(),".");if(this._isCanceled()&&!this._hasValidCard(e)){const e=(0,m.P8)(t);return i.createElement("p",null,"number"==typeof e&&e>=0?"Your ".concat(this._getPlanLabel()," plan will expire in ").concat(0===e?"less than a day":l()("day",e,!0),". Update your payment method to keep using ").concat(this._getPlanLabel(),"."):"Your ".concat(this._getPlanLabel()," plan has expired. Update your payment method to renew now and keep using ").concat(this._getPlanLabel(),"."))}return((0,f._Y)(s)?["Add 1,000 sources","Add Notes and Highlights to articles","Save to Evernote, Pocket, OneNote"]:["Use Leo to filter out noisy content","Follow Twitter feeds","Get newsletters delivered to Feedly"]).map((e=>i.createElement("div",{className:"ProReactivationModal__feature",key:e},i.createElement(h.Z,{className:"ProReactivationModal__note-icon",importance:"tertiary"}),i.createElement(S.x,{color:"primary",size:"small",tagName:"span"},e))))}_renderPrice(){const{product:e,showMonthlyOption:t}=this.state,s=(0,f._Y)(e)?g.Tx.ProStandardYearly:g.Tx.ProPlusYearly;return t?e===g.Sy.StandardMonthly?i.createElement(i.Fragment,null,i.createElement(S.x,{color:"primary",size:"small",tagName:"span"},"$",g.Tx.ProStandardMonthly," per month"," "),i.createElement(S.x,{color:"accent",size:"small",tagName:"span"},"—"," ",i.createElement(C.E,{className:"ProReactivationModal__plan-button",importance:"tertiary",onClick:()=>{this.setState({product:g.Sy.StandardYearly})}},"Switch to annual")," ","and save 25%")):i.createElement(i.Fragment,null,i.createElement(S.x,{color:"primary",size:"small",tagName:"span"},"$",s," per year"," "),i.createElement(S.x,{size:"small",tagName:"span"},"($",s/12," per month)"," "),i.createElement(S.x,{size:"small",tagName:"span"},"—"," ",i.createElement(C.E,{className:"ProReactivationModal__plan-button",importance:"tertiary",onClick:()=>{this.setState({product:g.Sy.StandardMonthly})}},"Switch to monthly"))):i.createElement(i.Fragment,null,i.createElement(S.x,{color:"primary",size:"small",tagName:"span"},"$",s," per year"," "),i.createElement(S.x,{size:"small",tagName:"span"},"($",s/12," per month)"))}_getHeading(){const{cardDetails:e,subscriptionStatus:t}=this.state;return t===g.Ch.pastDue||this._isCanceled()&&!this._hasValidCard(e)?"Update your payment method":"Renew your ".concat(this._getPlanLabel()," plan")}_getPlanLabel(){const{product:e}=this.state;return(0,f._Y)(e)?"Pro":"Pro+"}_hasValidCard(e){return e&&!(0,u.h6)(e)}_isCanceled(){const{subscriptionStatus:e}=this.state;return e===g.Ch.canceled||e===g.Ch.canceledTrial}async _updateNextChargeDate(){const e=await this.profile.askProProducts();this.setState({nextChargeDate:(0,f.B1)(e)})}}L.propTypes={onClose:d().func.isRequired}},47747:(e,t,s)=>{"use strict";s.d(t,{k:()=>g});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(3167),c=s(58645);var d=s(89919),h=s(53670),u=s(2772),p=s(43940),m=s(65060);function g(e){let{ctaLabel:t,description:s,illustration:i,illustrationDark:a,inline:o,onClose:g,onCtaClick:f,title:y,uri:v}=e;const b=function(){const{getTheme:e}=streets.service("feedly"),[t,s]=(0,n.useState)(e()),i=streets.service("preferences");return(0,c.m)(i,{onPreferenceChanged(t){t===l.BF&&s(e())}},[]),t}(),E=v?p.Q:h.z;return n.createElement(m.u,{className:r()("UpgradeModal",{"UpgradeModal--inline":o}),inline:o,fading:!0,onClose:o?void 0:g},n.createElement("img",{alt:"",src:b===l.Bd.dark?a:i,className:"UpgradeModal__illustration illustration"}),n.createElement(u.H2,{className:"UpgradeModal__title"},y),n.createElement("p",{className:"UpgradeModal__description m-y-0"},s),n.createElement(E,{className:"UpgradeModal__button",icon:n.createElement(d.Z,{color:"white"}),label:t,onClick:f,uri:v}),!o&&n.createElement(h.z,{label:"Cancel",importance:"tertiary",onClick:g}))}g.propTypes={ctaLabel:o().string.isRequired,description:o().string.isRequired,illustration:o().string.isRequired,illustrationDark:o().string.isRequired,inline:o().bool,onClose:o().func,onCtaClick:o().func,title:o().string.isRequired,uri:o().string},g.defaultProps={inline:!1,onClose:void 0,onCtaClick:void 0,uri:void 0}},89036:(e,t,s)=>{"use strict";s.d(t,{K:()=>p});var n=s(47169),i=s(32735),r=s(71466),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l);const d=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M4.613 4.613a.75.75 0 0 1 .976-.073l.084.073 13.714 13.714a.75.75 0 0 1-.976 1.133l-.084-.073L4.613 5.673a.75.75 0 0 1 0-1.06Z"}),i.createElement("path",{d:"M18.327 4.613a.75.75 0 0 1 1.133.976l-.073.084L5.673 19.387a.75.75 0 0 1-1.133-.976l.073-.084L18.327 4.613Z"})))}));var h=s(53670),u=s(65060);class p extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isModalClosing:!1,isVideoLoaded:!1}),(0,n.Z)(this,"_onCloseModal",(()=>{const{onClose:e}=this.props;this.setState({isVideoLoaded:!1,isModalClosing:!0},(()=>{setTimeout((()=>{this.setState({isModalClosing:!1}),e()}),100)}))})),(0,n.Z)(this,"_onLoaded",(()=>{this.setState((e=>{let{isVideoLoaded:t}=e;return t?null:{isVideoLoaded:!0}}))}))}render(){const{isModalClosing:e,isVideoLoaded:t}=this.state,{disallowAutoplay:s,showCloseButton:n,vimeoId:a}=this.props,l=o()("VideoModal",{"VideoModal--open":t,"VideoModal--closing":e}),c=o()({"VideoModal__overlay--closing":e,"VideoModal__overlay--text":!0});return i.createElement(u.u,{className:l,classNameOverlay:c,overlay:"darker",fading:!0,onClose:this._onCloseModal},i.createElement(r.Z,{video:a,paused:s||!t,responsive:!0,showByline:!1,showTitle:!1,showPortrait:!1,onLoaded:this._onLoaded}),n&&i.createElement(h.z,{className:"VideoModal__close",onClick:this._onCloseModal,importance:"tertiary",icon:i.createElement(d,{color:"white"})}))}}p.propTypes={disallowAutoplay:c().bool,onClose:c().func,showCloseButton:c().bool,vimeoId:c().string.isRequired},p.defaultProps={disallowAutoplay:!1,onClose:()=>{},showCloseButton:!1}},81197:(e,t,s)=>{"use strict";s.d(t,{K:()=>W});var n=s(47169),i=s(80556),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(5375),d=s(14978),h=s(74296),u=s(92219),p=s(99165),m=s(57993),g=s(74221),f=s(94059),y=s(65698),v=s(56295),b=s(78505),E=s(7761),C=s(49616),w=s(1542),k=s(65940),_=s(42610),M=s(5665),S=s(68620),I=s(46291),T=s(16064),N=s(13079),L=s(7294),P=s(53670),D=s(31731),A=s(2772),O=s(66772),x=s(88591),R=s(71824),j=s(6797),F=s(31220),U=s(92121),z=s(81501),Z=s(2366);const B={forever:{label:"Forever",value:void 0},month:{label:"One month",value:"month"},week:{label:"One week",value:"week"},day:{label:"One day",value:"day"}},H=Object.values(B),Y=Object.freeze({positive:"create"});class W extends a.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_renderButtons",(()=>{const{isUpdateMode:e,onDone:t}=this.props,{hasPendingChanges:s,isLoading:n,isRestrictedFeature:i,isMaxPersonalFilters:r,isMaxEnterpriseFilters:o,label:l,streamId:c}=this.state,d=r||o,h=[a.createElement(P.z,{key:"submit",label:e?"update":"create",onClick:this._onUpdateClick,loading:n,disabled:!s||!l||n||i||d}),a.createElement(P.z,{key:"cancel",label:"Cancel",onClick:t,importance:"secondary"})];return c&&a.createElement(z.L,{scrollParent:".floatingEntryScroller",target:".time-select"},(t=>{let{isSticky:s}=t;return a.createElement(a.Fragment,null,h,s&&a.createElement(k.m,{actions:h,compact:s,sticky:!0,title:e?"Update Mute Filter":"Create Mute Filter"}))}))})),(0,n.Z)(this,"_renderTermSelect",(()=>{const{isSaliencePopoverOpen:e,isAddTermPopoverOpen:t,isLoadingEntityInfo:s,label:n,salience:i,streamId:r,term:o}=this.state,{initialPhrase:l}=this.props;let u;return u=n?a.createElement("div",{className:"MuteFilterForm__parts-container"},a.createElement("div",{className:"MuteFilterForm__chip"},a.createElement(_.E,{item:o,position:"left"},a.createElement(T.K,{isLoadingEntityInfo:s,onChangeMatchType:this._onChangeMatchType,onDeletePart:()=>this._onDeleteTerm(o),part:o,type:E.ur.matches}))),a.createElement("div",{className:"MuteFilterForm__salience-dropdown"},a.createElement(D.X,{align:"right",className:"MuteFilterForm__salience-button",iconAlign:"right",icon:a.createElement(d.Z,{importance:"tertiary"}),importance:"tertiary",isOpen:e,label:i===E.mb.about?"Title":"Everything",menu:a.createElement(x.v,{className:"p-t-t"},a.createElement(R.N,null,"Matching"),a.createElement(j.a,{name:"salience",onChange:this._onSalienceChange,selectedValue:i},a.createElement(F.Y,{value:E.mb.about},"Title"),a.createElement(F.Y,{value:E.mb.mention},"Everything"))),onButtonClick:this._onSalienceClick,onCloseMenu:this._onCloseSaliencePopover,title:"Matching"}))):a.createElement(a.Fragment,null,a.createElement(P.z,{elementRef:this._newTermButton,icon:a.createElement(c.Z,{color:"white"}),importance:"primary",onClick:this._onNewTermClick,label:Z.Bk.matches}),t&&a.createElement(I.J,{align:"start",caret:!1,onClose:this._onCloseAddTermPopover,position:"bottom",target:this._newTermButton},a.createElement(M.Q,{initialQuery:l,onSelect:this._onAddTerm}))),r&&a.createElement("div",{className:"field m-b-2"},a.createElement(A.H2,{light:!0},"What would you like Leo to mute?"," ",a.createElement(O.r,{"data-inlineentryid":"V5M9RbbXAVoQzDcxE5fzmI8FZuGelr7TsG2DPCoJr6M=_16b4d7c317d:599c86:fbb95fc",href:"https://blog.feedly.com/leo-and-mute-filters/",title:"How to use mute filters"},a.createElement(h.Z,{style:{marginBottom:"2px"},importance:"tertiary"}))),u)})),(0,n.Z)(this,"_cancelCloseSlider",(()=>{this.setState({isConfirmExitModalOpen:!1}),this._resolveExit(!0)})),(0,n.Z)(this,"_closeSlider",(()=>{this._onCloseConfirmExitModal(),this._resolveExit()})),(0,n.Z)(this,"_isRestrictedEnterpriseFeature",(e=>e.enterpriseFeatures&&e.enterpriseFeatures.length&&!streets.isEnterprisePlan())),(0,n.Z)(this,"_onAddTerm",(e=>{this.setState({exampleEntries:null,exampleError:null,isAddTermPopoverOpen:!1,hasPendingChanges:!0,isLoadingExamples:!1,isRestrictedFeature:this._isRestrictedEnterpriseFeature(e),term:e,label:e.text||e.label},this._updateExampleEntries)})),(0,n.Z)(this,"_onChangeMatchType",(e=>{this.setState((t=>{let{term:s}=t;return{hasPendingChanges:!0,term:{...s,convertToKeyword:e===f.m3.keyword}}}),this._updateExampleEntries)})),(0,n.Z)(this,"_onCloseAddTermPopover",(()=>{this.setState({isAddTermPopoverOpen:!1})})),(0,n.Z)(this,"_onDeleteTerm",(()=>{this.setState({isAddTermPopoverOpen:!0,isRestrictedFeature:!1,label:"",term:{}},this._updateExampleEntries)})),(0,n.Z)(this,"_onNewTermClick",(()=>{this.setState({isAddTermPopoverOpen:!0})})),(0,n.Z)(this,"_onStreamChange",(e=>{let{id:t}=e;this.setState({hasPendingChanges:!0,streamId:t},this._updateExampleEntries)})),(0,n.Z)(this,"_onCloseConfirmExitModal",(()=>{this.setState({isConfirmExitModalOpen:!1})})),(0,n.Z)(this,"_onCloseSaliencePopover",(()=>{this.setState({isSaliencePopoverOpen:!1})})),(0,n.Z)(this,"_onDurationChange",(e=>{this.setState({duration:e,hasPendingChanges:!0})})),(0,n.Z)(this,"_onOpenConfirmExitModal",(()=>{this.setState({isConfirmExitModalOpen:!0})})),(0,n.Z)(this,"_onSalienceClick",(()=>{this.setState((e=>{let{isSaliencePopoverOpen:t}=e;return{isSaliencePopoverOpen:!t}}))})),(0,n.Z)(this,"_onSalienceChange",(e=>{this.setState({hasPendingChanges:!0,isSaliencePopoverOpen:!1,salience:e},this._updateExampleEntries)})),(0,n.Z)(this,"_onUpdateClick",(async()=>{const{id:e,label:t,term:s,streamId:n,duration:i,salience:r}=this.state,{isUpdateMode:a,onDone:o,viaSuggestion:l}=this.props,{isEnterprise:c}=(0,g.Yg)(n),d=n===(0,g.xW)();this.setState({isLoading:!0}),l&&streets.service("suggestions").askSaveSuggestionFeedback({feedback:Y.postive,id:l.id});const h={active:!0,duration:i.value,salience:r,streamId:n,term:s.convertToKeyword?{text:s.suggestText||s.label}:s};let u,p;u=d?this.personalmutefilters:c?this.enterprisemutefilters:this.personalmutefilters,p=a?u.askUpdate({id:e,...h}):u.askSave(h);try{await p,this.signs.showMessage("".concat(t," has been muted.")),this.setState({isLoading:!1,hasPendingChanges:!1},(()=>{this._resolveExit&&this._closeSlider(),o()}))}catch(m){this.setState({isLoading:!1});let e="There was an error when trying to save ".concat(t,".");if(m&&m.errorMessage){if(m.errorMessage.startsWith(v.Bu))return void this.setState({isMaxPersonalFilters:!c,isMaxEnterpriseFilters:c});e=m.errorMessage}this.signs.showMessage(e)}})),(0,n.Z)(this,"_updateExampleEntries",(async function(){let{shouldResetEntries:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{continuation:s,exampleEntries:n,label:i,salience:r,term:a,streamId:o,streamVersion:l}=t.state;try{if(!i||i.length<2||!o)return void t.setState({exampleEntries:null,isLoadingExamples:!1});t.setState({isLoadingExamples:!0});const[c,d]=e?["",[]]:[s,n],{continuation:h,entries:u}=await t.reader.askMutePreview({salience:r,streamId:o,term:a.convertToKeyword?{text:a.suggestText||a.label}:a},i,b.Xh,c),p=[...d,...u],m=p.length<b.Xh&&!!h;t.setState({continuation:h,exampleEntries:p.slice(0,b.Xh),isLoadingExamples:m,streamVersion:l+1},(()=>{m&&t._updateExampleEntries({shouldResetEntries:!1})}))}catch(c){t.setState({continuation:"",exampleEntries:[],exampleError:c.message,isLoadingExamples:!1,streamVersion:l+1})}})),this._id=r()("MuteFilterForm"),this._newTermButton=a.createRef();let{initialFilter:{streamId:s=""}={}}=e;const{initialFilter:{id:i="",label:o,salience:l=E.mb.mention,term:u={}}={},isUpdateMode:p}=e;if(s&&!streets.hasAdminBusinessAccess()){const{isEnterprise:e}=(0,g.Yg)(s);e&&(s="")}let{initialFilter:{duration:m=""}={}}=e;m=m?B[m]:B.forever,this.state={continuation:"",exampleEntries:null,hasPendingChanges:!!o&&!p,id:i,isSaliencePopoverOpen:!1,isAddTermPopoverOpen:!0,isConfirmExitModalOpen:!1,isLoading:!1,isLoadingExamples:!1,isMaxEnterpriseFilters:!1,isMaxPersonalFilters:!1,isRestrictedFeature:!1,exampleError:null,label:o||u.text||u.label,term:u,salience:l,streamId:s,streamVersion:0,duration:m}}componentDidMount(){this.enterprisemutefilters=streets.service("enterprisemutefilters"),this.personalmutefilters=streets.service("personalmutefilters"),this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.state.label&&(this._updateExampleEntries(),this._updateTermEntityInfo())}componentWillUnmount(){this.enterprisemutefilters=null,this.personalmutefilters=null,this.signs=null,this.reader=null,this._newTermButton=null,this._resolveExit=null}askConfirmExit(){const{hasPendingChanges:e}=this.state;return new Promise((t=>{e?(this._resolveExit=t,this._onOpenConfirmExitModal()):t()}))}render(){const{label:e,streamId:t,duration:s}=this.state;return a.createElement("div",{className:"fx"},a.createElement("section",{className:"container630 centered form"},a.createElement("div",{className:"field"},a.createElement(A.H2,{light:!0},"In which folder?"),a.createElement(C.T,{selected:t,onSelect:this._onStreamChange,prefixedCollections:this._allFeedsCollection&&[this._allFeedsCollection],showAll:!0,showPersonal:!0,showTeam:streets.hasAdminBusinessAccess()})),this._renderTermSelect(),t&&e&&a.createElement("div",{className:"field m-b-2"},a.createElement(A.H2,{light:!0},"For how long?"),a.createElement(U.P,{className:"time-select",fullWidth:!0,iconComponent:u.Z,labelKey:"label",onItemSelect:this._onDurationChange,items:H,value:s.label})),this._renderUpgradePrompt(),this._renderButtons(),this._renderExampleEntries(),this._renderConfirmExitModal()))}_renderConfirmExitModal(){const{isConfirmExitModalOpen:e,isRestrictedFeature:t}=this.state,{confirmExitHeaderText:s,confirmExitBodyText:n}=this.props;return e?t?a.createElement(S.c,{description:"Your changes will be lost if you close this screen.",onCancel:this._closeSlider,onSuccess:this._cancelCloseSlider,cancelLabel:"Discard",small:!0,successColor:"accent",successLabel:"Keep Editing",title:"Continue Editing?"}):a.createElement(S.c,{description:n,onCancel:this._closeSlider,onSuccess:this._onUpdateClick,cancelLabel:"Discard",small:!0,successLabel:"Save Changes",title:s}):null}_renderEnterpriseFeaturePrompt(){const{term:e}=this.state,t=(0,y.Td)(e),s=e.enterpriseFeatures[0],n=a.createElement(a.Fragment,null,t?"The ".concat(t):""," ",a.createElement("b",{className:"color-primary"},e.label)," is part of the"," ",(0,p.g$)(s)," package.");return a.createElement(N.X,{description:n,feature:s})}_renderExampleEntries(){const{exampleEntries:e,isLoadingExamples:t,exampleError:s,streamVersion:n}=this.state;if(!t&&!e)return null;let i;return s?i=a.createElement("p",null,"Invalid filter / Error: ",s):(e||t)&&(i=a.createElement(w.c,{entries:e,loading:t,noEntriesText:"No matching articles.",streamVersion:n})),a.createElement("div",{className:"field"},a.createElement(A.H2,{appearance:"h4"},"Preview"),i)}_renderUpgradePrompt(){const{isMaxEnterpriseFilters:e,isMaxPersonalFilters:t,isRestrictedFeature:s}=this.state;return t||e?a.createElement(L.o,{feature:"muteFilters",type:t?m.s.personal:m.s.team}):s?this._renderEnterpriseFeaturePrompt():null}async _updateTermEntityInfo(){const{term:e}=this.state;this.setState({isLoadingEntityInfo:!0});const t=await streets.service("leo").askFullEntitiesInfo([e]);this.setState({isLoadingEntityInfo:!1,isRestrictedFeature:this._isRestrictedEnterpriseFeature(t[0]),term:t[0]})}}W.propTypes={confirmExitHeaderText:l().string,confirmExitBodyText:l().string,initialFilter:l().shape({term:Z.qi,streamId:l().string}),initialPhrase:l().string,isUpdateMode:l().bool,onDone:l().func.isRequired,viaSuggestion:l().shape({id:l().string})},W.defaultProps={confirmExitHeaderText:"Save Mute Filter?",confirmExitBodyText:"Do you want to save this mute filter?",initialFilter:void 0,initialPhrase:"",isUpdateMode:!1,viaSuggestion:void 0}},2366:(e,t,s)=>{"use strict";s.d(t,{qi:()=>o,Bk:()=>l,Kv:()=>h,C:()=>u});var n=s(60216),i=s.n(n),r=s(7761);const a=i().shape({id:i().string.isRequired,label:i().string.isRequired}),o=i().oneOfType([a,i().shape({text:i().string.isRequired})]),l=Object.freeze({matches:"Company, product, or keyword"}),c=i().shape({active:i().bool.isRequired,created:i().number,createdBy:i().string,id:i().string.isRequired,label:i().string.isRequired,salience:i().oneOf(Object.keys(r.mb)),streamId:i().string.isRequired,term:o}),d=i().shape({active:i().bool.isRequired,created:i().number,createdBy:i().string,id:i().string.isRequired,label:i().string.isRequired,searchQuery:i().string.isRequired}),h=i().oneOfType([c,d]),u=50},28045:(e,t,s)=>{"use strict";s.d(t,{J:()=>O});var n=s(32735),i=s(40841),r=s.n(i),a=s(24443),o=s.n(a),l=s(60216),c=s.n(l),d=s(14971),h=s(89919),u=s(83442),p=s(69247),m=s(9648),g=s(30392),f=s(11505),y=s(3015),v=s(32853),b=s(32470),E=s(66360),C=s(14171),w=s(53670),k=s(10020),_=s(41417),M=s(73564),S=s(29859),I=s(70535),T=s(99730),N=s(19426),L=s(88591),P=s(8629),D=s(39970);const A=["site:","author:","title:"];class O extends n.Component{render(){const{filters:e,isLoading:t,onDeleteClick:s,onEditClick:i,onPauseClick:a,onPreviewClick:l,onResumeClick:c,onUpgradeClick:O,usernames:x}=this.props;if(!e.length)return null;const R=e.some((e=>(0,v.IE)(e)));return n.createElement(S.O,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(I.K,{header:"Name",initialSortDirection:k.Sr.ASC,sortProperty:"label",cell:e=>{const{active:t,createdBy:s,created:i}=e,a=s&&x[s],o=(0,v.IE)(e);return n.createElement(_.a,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(d.Z,{importance:"secondary"})),n.createElement("div",null,n.createElement(N.s,{muted:!t,normalCase:!0,onClick:()=>{l(e)},wordWrap:!0},n.createElement(D.L,{firstOccurance:!0,text:e.label,wordClassName:"item-header--light",words:A,wrapper:"span"}),!t&&!o&&" (Paused)"),n.createElement("div",{className:r()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},!!a&&"Created by ".concat(a)),n.createElement("div",{className:r()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},"on ",(0,y.p6)(new Date(i),"M/dd/yyyy")))))}}),n.createElement(I.K,{header:"Muted",sortBehavior:k.lI,sortProperty:"numEntries",width:100,style:{float:"right",textAlign:"left"},cell:e=>{let{active:t,numEntries:s}=e;return n.createElement(_.a,{className:"va-middle"},n.createElement("div",{className:r()({"is-muted":!t})},s?(0,b.HN)(s):"0"," ",o()("article",s)))}}),R&&n.createElement(M.h,{header:"",sortBehavior:k.lI,sortProperty:"numEntries",width:101,cell:e=>n.createElement(_.a,{className:"va-middle"},n.createElement(E.d,{filter:e}))}),n.createElement(M.h,{header:"",width:112,style:{justifyContent:"flex-end",textAlign:"right"},cell:e=>{const r=(0,v.IE)(e);return n.createElement(_.a,{className:"va-middle"},n.createElement(w.z,{icon:r?n.createElement(h.Z,{importance:"tertiary"}):n.createElement(u.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>r?O():i(e),title:r?"Upgrade":"Refine"}),n.createElement(T.L,{align:"right",className:"m-a-0",icon:t[e.id]?n.createElement(C.J,{name:"icon-fx-loading",color:"primary"}):n.createElement(p.Z,{importance:"secondary"}),importance:"tertiary",menu:n.createElement(L.v,{width:160},!r&&n.createElement(P.s,{onClick:e.active?a.bind(null,e):c.bind(null,e)},e.active?n.createElement(m.Z,{importance:"secondary"}):n.createElement(g.Z,{importance:"secondary"}),e.active?"Pause":"Resume"),n.createElement(P.s,{danger:!0,onClick:()=>s(e)},n.createElement(f.Z,{color:"danger"}),"Remove")),title:"More actions"}))}}))}}O.propTypes={filters:c().arrayOf(c().object),isLoading:c().shape({[c().string]:c().bool}),onDeleteClick:c().func,onEditClick:c().func,onPauseClick:c().func,onPreviewClick:c().func,onResumeClick:c().func,onUpgradeClick:c().func,usernames:c().objectOf(c().string)},O.defaultProps={filters:[],isLoading:{},onDeleteClick:()=>{},onEditClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},usernames:{}}},67654:(e,t,s)=>{"use strict";s.d(t,{C:()=>k});var n=s(32735),i=s(40841),r=s.n(i),a=s(24443),o=s.n(a),l=s(60216),c=s.n(l),d=s(14971),h=s(11505),u=s(3015),p=s(32470),m=s(53670),g=s(10020),f=s(41417),y=s(73564),v=s(29859),b=s(70535),E=s(19426),C=s(39970);const w=["site:","author:","title:"];class k extends n.Component{render(){const{filters:e,onDeleteClick:t,onPreviewClick:s,usernames:i}=this.props;return e.length?n.createElement(v.O,{data:e,flexLayout:!0,uniqueKey:"id"},n.createElement(b.K,{header:"Name",initialSortDirection:g.Sr.ASC,sortProperty:"label",cell:e=>{const{active:t,created:a,createdBy:o}=e,l=o&&i[o];return n.createElement(f.a,{className:"va-middle"},n.createElement("div",{className:"container-flex"},n.createElement("div",{className:"col-no-flex"},n.createElement(d.Z,{importance:"secondary"})),n.createElement("div",null,n.createElement(E.s,{muted:!t,normalCase:!0,wordWrap:!0,onClick:()=>{s(e)}},n.createElement(C.L,{firstOccurance:!0,text:e.label,wordClassName:"item-header--light",words:w,wrapper:"span"}),!t&&" (Paused)"),n.createElement("div",{className:r()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},!!l&&"Created by ".concat(l)),n.createElement("div",{className:r()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},"on ",(0,u.p6)(new Date(a),"M/dd/yyyy")))))}}),n.createElement(b.K,{header:"Removed",sortBehavior:g.lI,sortProperty:"numEntries",width:100,style:{float:"right"},cell:e=>{let{active:t,numEntries:s}=e;return n.createElement(f.a,{className:"va-middle"},n.createElement("div",{className:r()({"is-muted":!t})},(0,p.HN)(s)," ",o()("article",s)))}}),n.createElement(y.h,{header:"",width:190,style:{justifyContent:"flex-end",textAlign:"right"},cell:e=>n.createElement(f.a,{className:"va-middle"},n.createElement(m.z,{icon:n.createElement(h.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>t(e,!0)}))})):null}}k.propTypes={filters:c().arrayOf(c().object),onDeleteClick:c().func,onPreviewClick:c().func,usernames:c().objectOf(c().string)},k.defaultProps={filters:[],onDeleteClick:()=>{},onPreviewClick:()=>{},usernames:{}}},46656:(e,t,s)=>{"use strict";s.d(t,{N:()=>J});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(99165),l=s(74221),c=s(65060),d=s(81197),h=s(24443),u=s.n(h),p=s(68971),m=s(58074),g=s(23005),f=s(2366),y=s(2772);class v extends i.Component{constructor(e){super(e),this.state={continuation:"",isLoading:!0,mutedEntries:null,previewError:null,streamVersion:0}}componentDidMount(){this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateMutedEntries()}componentWillUnmount(){this._mutedStream&&(this._mutedStream.unregisterObserver(this),this._mutedStream=null),this.reader.unregisterObserver(this),this.reader=null,this.signs=null}onStreamStateChanged(){const{entries:e,isLoadingEntries:t,error:s}=this._mutedStream.getState();this.setState({mutedEntries:e,isLoading:t,previewError:s,streamVersion:0})}render(){const{filter:e,isLegacy:t}=this.props,{isLoading:s,mutedEntries:n}=this.state,r=t?e.searchQuery:e.term.label||e.term.text;let a;return a=e.numEntries?n&&n.length?"Review the last ".concat(u()("article",n.length,!0)," removed by this filter"):"No recent filtered articles":"No matching articles found yet",i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered form"},i.createElement(y.H2,{appearance:"h1",sub:!s&&a},r," Filter"),this._renderMutedEntries()))}_renderMutedEntries(){const{mutedEntries:e,isLoading:t,previewError:s,streamVersion:n}=this.state;return t||e?s?i.createElement("p",null,"Invalid filter / Error: ",s):t?i.createElement(g.g,{details:"removed articles"}):0===e.length?null:i.createElement(m.f,{key:"entryList",className:"ExampleEntryList ExampleEntryList--remove",entries:e,hideAuthor:!0,highlightKeywords:!0,layout:"u4",showSourceTitle:!0,streamVersion:n}):null}async _updateMutedEntries(){const{filter:e,filter:{id:t,label:s,salience:n,term:i},isLegacy:r}=this.props,{continuation:a,mutedEntries:o,streamVersion:l}=this.state;if(0===e.numEntries)return void this.setState({mutedEntries:[],isLoading:!1});const{streamId:c}=(0,p.R)(t);if(r){const e={batchSize:f.C,unfilteredOnly:!1};this.setState({mutedEntries:[],isLoading:!0,streamVersion:l+1}),this._mutedStream=this.reader.lookupStream(c,e),this._mutedStream.registerObserver(this)}else try{const{continuation:e,entries:t}=await this.reader.askMutePreview({streamId:c,term:i,filteredOnly:!0,salience:n},s,f.C,a),r=[...o||[],...t],d=r.length<f.C&&!!e;this.setState({continuation:e,mutedEntries:r.slice(0,f.C),isLoading:d,streamVersion:l+1},(()=>{d&&this._updateMutedEntries()}))}catch(d){this.setState({continuation:"",isLoading:!1,mutedEntries:[],streamVersion:l+1})}}}v.propTypes={filter:f.Kv.isRequired,isLegacy:a().bool},v.defaultProps={isLegacy:!1};var b=s(53670),E=s(40841),C=s.n(E),w=s(14971),k=s(94773);const _=(0,k.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M11.429 2.107c1.15 0 2.093.893 2.173 2.023l.005.156v1.428a.75.75 0 0 1-1.493.102l-.007-.102V4.286a.679.679 0 0 0-.578-.671l-.1-.008H8.57a.679.679 0 0 0-.67.578l-.008.1v1.43a.75.75 0 0 1-1.493.101l-.007-.102V4.286c0-1.151.892-2.094 2.023-2.173l.155-.006h2.858Z"}),i.createElement("path",{d:"M16.429 4.964a.75.75 0 0 1 .101 1.493l-.101.007H3.57a.75.75 0 0 1-.101-1.493l.101-.007H16.43Z"}),i.createElement("path",{d:"M15 4.964H5a.75.75 0 0 0-.75.75v10c0 1.203.975 2.179 2.179 2.179h7.142a2.179 2.179 0 0 0 2.179-2.179v-10a.75.75 0 0 0-.75-.75Zm-9.25 1.5h8.5v9.25a.679.679 0 0 1-.679.679H6.43l-.1-.007a.679.679 0 0 1-.579-.672v-9.25Z"})))}));var M=s(11505),S=s(3015),I=s(32853),T=s(66360),N=s(96968),L=s(10020),P=s(41417),D=s(73564),A=s(29859),O=s(70535),x=s(19426),R=s(44205),j=s(39970),F=s(89919),U=s(83442);const z=(0,k.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10 8.536a1.464 1.464 0 1 0 0 2.928 1.464 1.464 0 0 0 0-2.928ZM15 8.536a1.464 1.464 0 1 0 0 2.928 1.464 1.464 0 0 0 0-2.928ZM5 8.536a1.464 1.464 0 1 0 0 2.928 1.464 1.464 0 0 0 0-2.928Z"})))}));var Z=s(69247),B=s(9648),H=s(30392),Y=s(14171),W=s(99730),q=s(88591),V=s(8629);function Q(e){let{filter:t,isLoading:s,isTablet:n,onDeleteClick:r,onEditClick:a,onMuteOptionsClick:o,onPauseClick:l,onResumeClick:c,onUpgradeClick:d}=e;const h=(0,I.IE)(t);return n?i.createElement(i.Fragment,null,i.createElement(b.z,{icon:h?i.createElement(F.Z,{importance:"tertiary"}):i.createElement(U.Z,{importance:"tertiary"}),importance:"secondary",onClick:h?d:a}),i.createElement(b.z,{icon:i.createElement(z,{importance:"tertiary"}),importance:"tertiary",onClick:o})):i.createElement(i.Fragment,null,i.createElement(b.z,{icon:h?null:i.createElement(U.Z,{importance:"tertiary"}),importance:"secondary",label:h?"Upgrade":"Refine",onClick:h?d:a}),i.createElement(W.L,{align:"right",className:"m-a-0",icon:s[t.id]?i.createElement(Y.J,{name:"icon-fx-loading",color:"primary"}):i.createElement(Z.Z,{importance:"secondary"}),importance:"tertiary",menu:i.createElement(q.v,{width:160},!h&&i.createElement(V.s,{onClick:t.active?l:c},t.active?i.createElement(B.Z,{importance:"secondary"}):i.createElement(H.Z,{importance:"secondary"}),t.active?"Pause":"Resume"),i.createElement(V.s,{danger:!0,onClick:r},i.createElement(M.Z,{color:"danger"}),"Remove")),title:"More actions"}))}Q.propTypes={filter:a().shape({active:a().bool,id:a().string}).isRequired,isLoading:a().shape({[a().string]:a().bool}),isTablet:a().bool,onDeleteClick:a().func,onEditClick:a().func,onMuteOptionsClick:a().func,onPauseClick:a().func,onResumeClick:a().func,onUpgradeClick:a().func},Q.defaultProps={isLoading:{},isTablet:!1,onDeleteClick:()=>{},onEditClick:()=>{},onMuteOptionsClick:()=>{},onPauseClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{}};const G=["site:","author:","title:"];class K extends i.Component{render(){const{filters:e,isLegacy:t,isLoading:s,isTablet:n,onDeleteClick:r,onEditClick:a,onMuteOptionsClick:o,onPauseClick:l,onPreviewClick:c,onResumeClick:d,onUpgradeClick:h,usernames:p}=this.props;if(!e.length)return null;const m=e.some((e=>(0,I.IE)(e)));return i.createElement(A.O,{data:e,flexLayout:!0,uniqueKey:"id"},i.createElement(O.K,{header:"Name",initialSortDirection:L.Sr.ASC,sortProperty:"label",cell:e=>{const{active:t,created:s,createdBy:n}=e,r=n&&p[n],a=(0,I.IE)(e);return i.createElement(P.a,{className:"va-middle"},i.createElement("div",{className:"container-flex"},i.createElement("div",{className:"col-no-flex"},i.createElement(w.Z,{importance:"secondary"})),i.createElement("div",null,i.createElement(x.s,{className:"ControlledMuteFiltersTable__label",muted:!t,normalCase:!0,onClick:()=>{c(e)},wordWrap:!0},i.createElement(j.L,{firstOccurance:!0,text:e.label,wordClassName:"item-header--light",words:G,wrapper:"span"}),!t&&!a&&" (Paused)"),i.createElement("div",{className:C()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},!!r&&"Created by ".concat(r),s&&i.createElement("div",{className:C()("item-meta",{"is-muted":!t}),style:{marginTop:"4px"}},"on ",(0,S.p6)(new Date(s),"M/dd/yyyy"))))))}}),i.createElement(O.K,{header:"Feed",sortProperty:"streamLabel",width:180,cell:e=>{let{active:t,streamLabel:s}=e;return i.createElement(P.a,{className:"va-middle"},i.createElement(R.x,{color:t?"secondary":"tertiary",size:n?"smaller":"small",tagName:"div"},s))}}),i.createElement(O.K,{header:"Muted",sortBehavior:L.lI,sortProperty:"numEntries",width:150,cell:e=>i.createElement(P.a,{className:"va-middle"},i.createElement(N.E,{importance:"tertiary",onClick:()=>{c(e,t)}},u()("article",e.numEntries||0,!0)))}),m&&i.createElement(D.h,{header:"",sortBehavior:L.lI,sortProperty:"numEntries",width:114,cell:e=>i.createElement(P.a,{className:"va-middle"},i.createElement(T.d,{filter:e}))}),i.createElement(D.h,{header:"",width:n?112:175,style:{justifyContent:"flex-end",textAlign:"right"},cell:e=>i.createElement(P.a,{className:"va-middle"},t?i.createElement(b.z,{icon:n?i.createElement(_,{importance:"tertiary"}):i.createElement(M.Z,{importance:"tertiary"}),importance:"secondary",label:"Remove",onClick:()=>r(e,!0)}):i.createElement(Q,{filter:e,isLoading:s,isTablet:n,onEditClick:()=>a(e),onPauseClick:()=>l(e),onResumeClick:()=>d(e),onDeleteClick:()=>r(e),onUpgradeClick:()=>h(),onMuteOptionsClick:()=>o(e)}))}))}}K.propTypes={filters:a().arrayOf(a().object),isLegacy:a().bool,isLoading:a().shape({[a().string]:a().bool}),isTablet:a().bool,onDeleteClick:a().func,onEditClick:a().func,onMuteOptionsClick:a().func,onPauseClick:a().func,onPreviewClick:a().func,onResumeClick:a().func,onUpgradeClick:a().func,usernames:a().objectOf(a().string)},K.defaultProps={filters:[],isLegacy:!1,isLoading:{},isTablet:!1,onDeleteClick:()=>{},onEditClick:()=>{},onMuteOptionsClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},usernames:{}};class J extends i.Component{constructor(){var e;super(...arguments),e=this,(0,n.Z)(this,"state",{enterpriseUsernames:{},filterToDelete:null,isLoading:{}}),(0,n.Z)(this,"_onCloseDeleteModal",(()=>{this.setState({filterToDelete:null})})),(0,n.Z)(this,"_onDeleteClick",(function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t.streamId||t.id,{isEnterprise:i}=(0,l.Yg)(n);e._updateFiltersService(i,s),e.setState({filterToDelete:t})})),(0,n.Z)(this,"_onDeleteConfirmClick",(async()=>{const{filterToDelete:e}=this.state;this.setState({isDeleteConfirmLoading:!0});try{await this.filters.askDelete(e.id),this.setState({filterToDelete:null,isDeleteConfirmLoading:!1}),this.signs.showMessage("".concat(e.label," has been unmuted."))}catch(t){this.setState({filterToDelete:null,isDeleteConfirmLoading:!1}),this._onUpdateError(e)}})),(0,n.Z)(this,"_onEditClick",(e=>{this.slider.addSlide(d.K,{initialFilter:e,isUpdateMode:!0,confirmExitHeaderText:"Save changes?",confirmExitBodyText:"Do you want to save the changes you made to this mute filter?"})})),(0,n.Z)(this,"_onPauseClick",(async e=>{const{isEnterprise:t}=(0,l.Yg)(e.streamId);this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!0}}})),this._updateFiltersService(t);try{await this.filters.askSave({...e,active:!1}),this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!1}}}))}catch(s){this._onUpdateError(e)}})),(0,n.Z)(this,"_onPreviewClick",(e=>{const{isLegacy:t}=this.props;this.slider.addSlide(v,{filter:e,isLegacy:t})})),(0,n.Z)(this,"_onResumeClick",(async e=>{const{isEnterprise:t}=(0,l.Yg)(e.streamId);this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!0}}})),this._updateFiltersService(t);const s=(new Date).getTime(),n={streamIds:[],...e,active:!0};e.activeUntil&&e.activeUntil<s&&(n.activeUntil=null);try{await this.filters.askSave(n),this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!1}}}))}catch(i){this._onUpdateError(e)}})),(0,n.Z)(this,"_onUpgradeClick",(()=>{this.router.loadPage((0,o.hH)(o.tp.LeoSecurity))}))}componentDidMount(){this.enterprise=streets.service("enterprise"),this.router=streets.service("router"),this.signs=streets.service("signs"),this.slider=streets.service("slider"),this._updateFiltersService(),this._updateEnterpriseUsernames()}componentWillUnmount(){this.filters=null,this.router=null,this.signs=null,this.slider=null}render(){const{filters:e,isLegacy:t,tableElement:s}=this.props,{enterpriseUsernames:n,filterToDelete:r,isLoading:a}=this.state,o=s;return i.createElement("div",null,i.createElement(o,{filters:e,isLegacy:t,isLoading:a,onEditClick:this._onEditClick,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onPreviewClick:this._onPreviewClick,onResumeClick:this._onResumeClick,onUpgradeClick:this._onUpgradeClick,usernames:n}),r&&i.createElement(c.u,{onClose:this._onCloseDeleteModal,small:!0},i.createElement(y.H2,{appearance:"h3"},"Delete filter"),i.createElement("p",null,"Are you sure you want to delete this filter? This operation cannot be undone."),i.createElement(b.z,{color:"danger",label:"Delete",onClick:this._onDeleteConfirmClick,loading:this.state.isDeleteConfirmLoading}),i.createElement(b.z,{label:"No, keep this filter",onClick:this._onCloseDeleteModal,importance:"secondary"})))}_onUpdateError(e){this.signs.showMessage("There was an error when trying to update ".concat(e.label,"."))}_updateFiltersService(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.filters=t?e?streets.service("enterprisefilters"):streets.service("personalfilters"):e?streets.service("enterprisemutefilters"):streets.service("personalmutefilters")}async _updateEnterpriseUsernames(){const e=await this.enterprise.askListUsernames();this.setState({enterpriseUsernames:e})}}J.propTypes={filters:a().arrayOf(a().object),isLegacy:a().bool,tableElement:a().func},J.defaultProps={filters:[],isLegacy:!1,tableElement:K}},85131:(e,t,s)=>{"use strict";s.d(t,{H:()=>C});var n=s(47169),i=s(32735),r=s(12788),a=s(60216),o=s.n(a),l=s(25035),c=s(5375),d=s(51239),h=s(68681),u=s(38916),p=s(89856),m=s(23005),g=s(46291),f=s(53670),y=s(88591),v=s(8629),b=s(32968);let E=null;class C extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClip",((e,t)=>{this._doClipOneNoteEntry(e,t)})),(0,n.Z)(this,"_onCreateAndClip",(()=>{const{newSectionName:e}=this.state;e&&this._doClipOneNoteEntry(e,null)})),this.state={isLoading:!0,newSectionName:"",sections:null,isCreatingSection:!1}}componentDidMount(){this.analytics=streets.service("analytics"),this.integrations=streets.service("integrations"),this.net=streets.service("net"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this._updateOneNoteSections()}componentWillUnmount(){this.analytics=null,this.integrations=null,this.net=null,this.reader=null,this.signs=null}render(){const{offsetParent:e,onCloseMenu:t,target:s,align:n}=this.props,{isLoading:a,newSectionName:o,sections:d,isCreatingSection:h}=this.state;let u;return u=a?i.createElement(m.g,{className:"m-l-2",details:"OneNote sections"}):i.createElement(i.Fragment,null,d.length>0&&d.map((e=>i.createElement(v.s,{key:e.id,onClick:()=>{this._onClip(e.name,e.id)}},i.createElement(l.Z,{importance:"tertiary"}),e.name))),h?i.createElement("div",{className:"OneNoteSectionsPopover__form"},i.createElement(b.o,{className:"OneNoteSectionsPopover__input",value:o,onChange:e=>{this.setState({newSectionName:e})}}),i.createElement(f.z,{className:"OneNoteSectionsPopover__button",onClick:this._onCreateAndClip,importance:"primary"},"Create")):i.createElement(v.s,{onClick:()=>{this.setState({isCreatingSection:!0})}},i.createElement(c.Z,{color:"accent"}),"Create new section")),r.createPortal(i.createElement(g.J,{align:n,className:"fx OneNoteSectionsPopover",offsetParent:e,onClose:t,position:"bottom",target:s},i.createElement(y.v,{className:"OneNoteSectionsPopover__menu",width:300},u)),e)}_updateOneNoteSections(){null==E?this.net.GET("!{cloud}/v3/microsoft/oneNoteSections").then(JSON.parse).then((e=>{e.sort(((e,t)=>e.name.localeCompare(t.name))),e.length>0&&(E=e),this.setState({sections:e,isLoading:!1})})).catch((e=>this.signs.showError(e))):this.setState({sections:E,isLoading:!1})}_doClipOneNoteEntry(e,t){const{entryId:s,imageURL:n,imageTitle:i,selection:r}=this.props;if(null==s)return void this.signs.showMessage("Unknow post");if(null==e)return void this.signs.showMessage("Unknow section");const a={sectionId:t,sectionName:e};null==t&&(E=null);const o=this.reader.lookupEntry(s),l=o.getCleanAlternateLink()||"https://feedly.com/i/entry/".concat(encodeURIComponent(o.getId()));null!=n?(a.content=(0,p.w)(n,i,o),a.url=l,a.title=o.getCleanTitle()):null!=r?(a.content=(0,p.F)(r,o),a.url=l,a.title=o.getCleanTitle()):a.entryId=s,this.signs.showMessage("Saving to OneNote..."),this.analytics.trackEvent("sharing","onenote"),this.analytics.trackEntryEvent(o,"share","onenote"),this.net.POST("!{cloud}/v3/microsoft/oneNoteAdd",a).then(JSON.parse).then((e=>{if(this.signs.showMessage("Saved to OneNote"),null==n)try{null!=o&&(o.setDecoration(d.I.oneNote,e.pageUrl||"https://www.onenote.com/notebooks"),o.metadata.oneNote=!0),this.reader.fire("onDecorationChanged",s,d.I.oneNote)}catch(t){this.signs.showError("Failed to save to OneNote: "+t)}this.props.onCloseMenu()})).catch((e=>{E=null,e instanceof h.o&&403===e.errorCode&&this.integrations.connect(u.bK.oneNote),this.signs.showMessage("Oops. Something went wrong. Error:"+e)}))}}C.propTypes={align:g.J.propTypes.align,entryId:o().string.isRequired,imageTitle:o().string,imageURL:o().string,offsetParent:o().instanceOf(Element),onCloseMenu:o().func.isRequired,selection:o().string,target:o().instanceOf(Element)},C.defaultProps={align:"start",imageTitle:void 0,imageURL:void 0,offsetParent:void 0,selection:void 0,target:void 0}},16581:(e,t,s)=>{"use strict";s.d(t,{e:()=>z});var n=s(47169),i=s(91815),r=s.n(i),a=s(73400),o=s.n(a),l=s(32735),c=s(24443),d=s.n(c),h=s(60216),u=s.n(h),p=s(74221),m=s(85251),g=s(6172),f=s(46449),y=s(23005),v=s(32166),b=s.n(v),E=s(19054),C=s(9990),w=s(5375),k=s(53670);function _(e){let t,{className:s,hideType:n,isEnterprise:i,onClick:r}=e;return t=n?"New Feed":i?"New Team Feed":"New Personal Feed",l.createElement(k.z,{className:"".concat(s," p-l-0"),color:"accent",icon:l.createElement(w.Z,{color:"accent"}),importance:"tertiary",label:t,onClick:r})}_.propTypes={className:u().string,hideType:u().bool,isEnterprise:u().bool,onClick:u().func.isRequired},_.defaultProps={className:"",hideType:!1,isEnterprise:!1};const M=u().shape({id:u().string.isRequired,label:u().string.isRequired}),S="all",I="none",T="some";class N extends l.Component{constructor(e){super(e),(0,n.Z)(this,"_renderCollectionItem",((e,t,s,n)=>l.createElement(E.X,{key:e.id,checked:t===S,className:"p-y-t",indeterminate:t===T,onChange:s,id:"ui-Checkbox-".concat(e.id)},e.label,n&&l.createElement("div",{className:"badge small primary m-l-1"},n)))),(0,n.Z)(this,"_renderPersonalCollectionItem",(e=>{const{feeds:t,onAddClick:s,onRemoveClick:n}=this.props,i=b()(e.feeds,(e=>{let{id:s}=e;return-1!==t.findIndex((e=>s===e.id))?1:0})),r=this._getFeedsIn(i);return this._renderCollectionItem(e,r,(()=>{r===S?n(e):s(e)}))})),(0,n.Z)(this,"_renderTeamCollectionItem",((e,t)=>{const{feeds:s,onTeamAddClick:n,onTeamRemoveClick:i}=this.props,r=b()(e.feeds,(e=>{let{id:t}=e;return-1!==s.findIndex((e=>t===e.id))?1:0})),a=this._getFeedsIn(r);return this._renderCollectionItem(e,a,(()=>{a===S?i(e):n(e)}),t)})),this._list=l.createRef()}componentDidUpdate(e){const{collections:t=[],currentCollectionIds:s=[],teamCollections:n=[]}=this.props,{collections:i=[],currentCollectionIds:r=[],teamCollections:a=[]}=e;t.length===i.length&&s.length===r.length&&n.length===a.length||!this._list.current||this._list.current.resetSelection()}componentWillUnmount(){this._list=null}render(){const{collections:e,currentCollectionIds:t,feeds:s,onCreateClick:n,onTeamCreateClick:i,teamCollections:r,uncategorizedId:a}=this.props,o=t.reduce(((e,t)=>(e[t]=!0,e)),{});if(s&&e&&r){if(!e.length&&!r.length)return l.createElement("p",{className:"hint"},"Organize the sources you want to follow into feeds");let t=e.reduce(((e,t)=>{if(t.id!==a){const s=this._renderPersonalCollectionItem(t);o[t.id]?e.initiallyIn.push(s):e.notInitiallyIn.push(s)}return e}),{initiallyIn:[],notInitiallyIn:[]});r&&(t=r.reduce(((e,t)=>(o[t.id]?e.initiallyIn.push(this._renderTeamCollectionItem(t,"Team")):e.notInitiallyInTeam.push(this._renderTeamCollectionItem(t)),e)),Object.assign(t,{notInitiallyInTeam:[]})));const{initiallyIn:s,notInitiallyIn:c,notInitiallyInTeam:d=[]}=t,h=d.length>0||!!i;return l.createElement("div",{className:"m-b-2"},s.length>0&&l.createElement(C.H3,{appearance:"h4",className:"m-b-h",key:"addedInTitle"},"Added In"),s,l.createElement(C.H3,{appearance:"h4",className:"m-b-h",key:"personalTitle"},"Personal Feeds"),c,l.createElement(_,{hideType:!h,onClick:n}),h&&[l.createElement(C.H3,{appearance:"h4",className:"m-b-h",key:"teamTitle"},"Team Feeds"),...d,l.createElement(_,{key:"teamFeedsCreate",isEnterprise:!0,onClick:i})])}return l.createElement(y.g,{details:"collections"})}_getFeedsIn(e){const{feeds:t}=this.props;return e===t.length?S:0===e?I:T}}N.propTypes={collections:u().arrayOf(M),currentCollectionIds:u().arrayOf(u().string),feeds:u().arrayOf(u().object),onAddClick:u().func.isRequired,onCreateClick:u().func.isRequired,onRemoveClick:u().func.isRequired,onTeamAddClick:u().func,onTeamCreateClick:u().func,onTeamRemoveClick:u().func,teamCollections:u().arrayOf(M),uncategorizedId:u().string.isRequired},N.defaultProps={collections:void 0,currentCollectionIds:[],feeds:void 0,onTeamAddClick:()=>{},onTeamCreateClick:void 0,onTeamRemoveClick:()=>{},teamCollections:void 0};var L=s(91343),P=s(72406),D=s(2772),A=s(80556),O=s.n(A),x=s(8629),R=s(32727),j=s(74256);class F extends l.Component{constructor(e){super(e),this._list=l.createRef()}componentDidMount(){this.inputId=O()("ui-InputSuggestionList-input-")}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this._list.current&&this._list.current.resetSelection()}componentWillUnmount(){this.inputId=null,this._list=null}render(){const{autoFocus:e,children:t,error:s,label:n,onChange:i,placeholder:r,suggestions:a,value:o}=this.props,c=o.toLowerCase(),d=a.reduce(((e,t)=>{const s=t.toLowerCase();return(!o||0===s.indexOf(c)&&s!==c)&&e.push(l.createElement(x.s,{key:t,onClick:()=>{i(t)}},l.createElement(w.Z,{importance:"tertiary"}),t)),e}),[]);return l.createElement("div",{className:"form"},l.createElement("div",{className:"field"},n&&l.createElement("label",{htmlFor:this.inputId},n),l.createElement(j.A,{autoComplete:"off",autoFocus:e,clearable:!0,error:s,id:this.inputId,onChange:i,placeholder:r,type:"text",value:o})),l.createElement("div",{className:"field"},d.length>0&&l.createElement(R.G,{deselectable:!0,ref:this._list},l.createElement("label",null,"Suggestions"),d)),t)}}F.propTypes={autoFocus:u().bool,children:u().node,error:u().string,label:u().string,onChange:u().func.isRequired,suggestions:u().arrayOf(u().string),placeholder:u().string,value:u().string},F.defaultProps={autoFocus:!1,children:void 0,error:void 0,label:"",placeholder:void 0,suggestions:[],value:""};const U=/["<>?&/\\^]/;class z extends l.Component{constructor(e){super(e),(0,n.Z)(this,"_onChangeModeToCreate",(()=>{this._updateLimitInfo(),this.setState({isCreateMode:!0,isCreateModeLoading:!0,newCollectionName:""})})),(0,n.Z)(this,"_onChangeModeToList",(()=>{this.setState({isCreateMode:!1,isTeamCreateMode:!1})})),(0,n.Z)(this,"_onChangeModeToTeamCreate",(()=>{this.setState({isTeamCreateMode:!0,newCollectionName:""})})),(0,n.Z)(this,"_onFeedChipClick",(e=>{this.setState((t=>{let{feeds:s}=t;return{feeds:s.length>1?s.filter((t=>t!==e)):s}}))})),(0,n.Z)(this,"_onCollectionAddClick",(e=>{this.setState((t=>{let{addCollections:s,feeds:n,collections:i,removeCollections:r}=t;return{addCollections:[...s,e],collections:this._mockAddFeeds(i,e,n),removeCollections:this._without(r,e)}}))})),(0,n.Z)(this,"_onCollectionRemoveClick",(e=>{this.setState((t=>{let{addCollections:s,collections:n,feeds:i,newCollections:r,removeCollections:a}=t;const o=n.findIndex((t=>{let{id:s}=t;return s===e.id}));if(o>-1){const t=[...n];return t.splice(o,1,this.collections.mockRemoveFeeds(e,i)),{addCollections:this._without(s,e),collections:t,removeCollections:[...a,e]}}return{newTeamCollections:this._without(r,e)}}))})),(0,n.Z)(this,"_onCreateClick",(()=>{this.setState((e=>{let{feeds:t,newCollections:s,newCollectionName:n}=e;return{isCreateMode:!1,newCollections:[...s,this.collections.mockAddFeeds({id:(0,p.P2)("category",n,streets.getUserId()),label:n},t)]}}))})),(0,n.Z)(this,"_onMoreSourcesClick",(()=>{this.setState({isShowingAllFeeds:!0})})),(0,n.Z)(this,"_onNewCollectionNameChange",(e=>{this.setState({newCollectionError:U.test(e)?'Avoid using ", <, >, ?, &, /, \\, or ':"",newCollectionName:e})})),(0,n.Z)(this,"_onSave",(async()=>{const{onDone:e}=this.props;let{feeds:t}=this.state;this.setState({isSaving:!0}),t=t.map((e=>{let{id:t,title:s}=e;return{id:t,title:s}}));try{await this._askSavePersonalCollections(t),await this._askSaveTeamCollections(t),this.setState({isSaving:!1},e)}catch(s){this.signs.showError("Failed to update feeds: ".concat(s.message)),this.setState({isSaving:!1})}})),(0,n.Z)(this,"_onTeamCollectionAddClick",(e=>{this.setState((t=>{let{addTeamCollections:s,feeds:n,removeTeamCollections:i,teamCollections:r}=t;return{addTeamCollections:[...s,e],removeTeamCollections:this._without(i,e),teamCollections:this._mockAddFeeds(r,e,n)}}))})),(0,n.Z)(this,"_onTeamCollectionRemoveClick",(e=>{this.setState((t=>{let{addTeamCollections:s,feeds:n,newTeamCollections:i,removeTeamCollections:r,teamCollections:a}=t;const o=a.findIndex((t=>{let{id:s}=t;return s===e.id}));if(o>-1){const t=[...a];return t.splice(o,1,this.collections.mockRemoveFeeds(e,n)),{addTeamCollections:this._without(s,e),removeTeamCollections:[...r,e],teamCollections:t}}return{newTeamCollections:this._without(i,e)}}))})),(0,n.Z)(this,"_onTeamCreateClick",(()=>{this.setState((e=>{let{feeds:t,newCollectionName:s,newTeamCollections:n}=e;return{isTeamCreateMode:!1,newTeamCollections:[...n,this.collections.mockAddFeeds({id:"enterprise/".concat(streets.getEnterpriseId(),"/category/").concat(s),label:s},t)]}}))}));const{initialCollections:t=[],initialFeeds:s,initialTeamCollections:i}=e;this._uncategorizedId=(0,p.wN)();const r=[...t,...i||[]].reduce(((e,t)=>(s.some((e=>{let{id:s}=e;return t.feeds.some((e=>s===e.id))}))&&e.push(t.id),e)),[]);this.state={addCollections:[],addTeamCollections:[],collections:t,newCollections:[],newTeamCollections:[],feeds:s,initialCollectionsInAFeed:r,isCreateMode:!1,isCreateModeLoading:!1,isTeamCreateMode:!1,isUpgradeNeeded:!1,isSaving:!1,newCollectionError:"",newCollectionName:"",removeCollections:[],removeTeamCollections:[],teamCollections:i}}componentDidMount(){this.collections=streets.service("collections"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs")}componentWillUnmount(){this.collections=null,this.personalcollections=null,this.enterprisecollections=null,this.signs=null,this._uncategorizedId=null}render(){const{isCreateMode:e,isTeamCreateMode:t}=this.state;return l.createElement("div",{className:"fx organize-feeds-form"},e||t?this._renderCreateMode():this._renderListMode())}_renderCreateMode(){const{isCreateModeLoading:e,isTeamCreateMode:t}=this.state;return l.createElement("section",{className:"organize-feeds-form--create container630"},l.createElement(D.H2,{appearance:"h1"},"Create New ".concat(t?"Team":""," Feed")),e?l.createElement(y.g,null):this._renderCreateBody())}_renderCreateBody(){const{feeds:e,isTeamCreateMode:t,isUpgradeNeeded:s,newCollectionError:n,newCollectionName:i}=this.state;if(s)return l.createElement(g.Y,null);let a=e.reduce(((e,t)=>{let{topics:s=[]}=t;return e.concat(s)}),[]);return a=r()(a).slice(0,5).map((e=>o()(e))),l.createElement(F,{autoFocus:!0,error:n,label:"Name",onChange:this._onNewCollectionNameChange,placeholder:"e.g. ".concat(a[0]||"Design Systems"),suggestions:a,value:i},l.createElement(k.z,{disabled:!!n||!i,label:"Create",onClick:t?this._onTeamCreateClick:this._onCreateClick}),l.createElement(k.z,{label:"Cancel",onClick:this._onChangeModeToList,importance:"secondary"}))}_renderListMode(){const{onDone:e,title:t}=this.props,{feeds:s,initialCollectionsInAFeed:n,isSaving:i,isShowingAllFeeds:r,newCollections:a,newTeamCollections:o}=this.state;let{collections:c,teamCollections:h}=this.state;const u=r?s:s.slice(0,3);return a.length&&(c=[...c,...a],(0,m.zy)(c)),o.length&&(h=[...h,...o],(0,m.zy)(h)),l.createElement("div",{className:"organize-feeds-form--edit"},l.createElement("div",{className:"organize-feeds-form--edit--body"},l.createElement("div",{className:"container630 form"},l.createElement(D.H2,{appearance:"h1"},t),l.createElement("div",{className:"field"},l.createElement("span",{className:"label"},"You've selected ",d()("source",s.length,!0)),l.createElement(P.j,null,u.map((e=>l.createElement(L.A,{key:e.id,deletable:s.length>1,onClick:()=>{this._onFeedChipClick(e)}},l.createElement(f.j,{alt:e.title,url:e.favicon}),e.title)))),!r&&s.length>3&&l.createElement(k.z,{className:"organize-feeds-form--edit--more",importance:"tertiary",label:"and ".concat(s.length-3," more"),onClick:this._onMoreSourcesClick})),l.createElement(N,{currentCollectionIds:n,collections:c,feeds:s,onAddClick:this._onCollectionAddClick,onCreateClick:this._onChangeModeToCreate,onRemoveClick:this._onCollectionRemoveClick,onTeamAddClick:this._onTeamCollectionAddClick,onTeamCreateClick:h?this._onChangeModeToTeamCreate:void 0,onTeamRemoveClick:this._onTeamCollectionRemoveClick,teamCollections:h||[],uncategorizedId:this._uncategorizedId}))),l.createElement("div",{className:"organize-feeds-form--edit--footer"},l.createElement("div",{className:"container630"},l.createElement(k.z,{disabled:i,label:"Save",loading:i,onClick:this._onSave}),l.createElement(k.z,{importance:"secondary",label:"Cancel",onClick:e}))))}_mockAddFeeds(e,t,s){const n=[...e],i=n.findIndex((e=>{let{id:s}=e;return s===t.id}));return n.splice(i,1,this.collections.mockAddFeeds(t,s)),n}async _askSavePersonalCollections(e){const{addCollections:t,newCollections:s,removeCollections:n}=this.state;for(let i=0;i<t.length;i+=1){const s=t[i];await this.personalcollections.askAddFeeds(s.id,e)}for(let i=0;i<s.length;i+=1){const t=s[i];await this.personalcollections.askSave({feeds:e,label:t.label})}for(let i=0;i<n.length;i+=1){const t=n[i];await this.personalcollections.askRemoveFeeds(t.id,e.map((e=>e.id)))}}async _askSaveTeamCollections(e){const{addTeamCollections:t,newTeamCollections:s,removeTeamCollections:n}=this.state;for(let i=0;i<t.length;i+=1){const s=t[i];await this.enterprisecollections.askAddFeeds(s.id,e)}for(let i=0;i<s.length;i+=1){const t=s[i];await this.enterprisecollections.askSave({feeds:e,label:t.label})}for(let i=0;i<n.length;i+=1){const t=n[i];await this.enterprisecollections.askRemoveFeeds(t.id,e.map((e=>e.id)))}}async _updateLimitInfo(){const e=await this.personalcollections.askIsUpgradeNeededToCreate();this.setState({isCreateModeLoading:!1,isUpgradeNeeded:e})}_without(e,t){const s=e.findIndex((e=>{let{id:s}=e;return s===t.id}));if(s>-1){const t=[...e];return t.splice(s,1),t}return e}}z.propTypes={initialCollections:N.propTypes.collections,initialFeeds:N.propTypes.feeds,initialTeamCollections:N.propTypes.collections,onDone:u().func.isRequired,title:u().string},z.defaultProps={initialCollections:void 0,initialFeeds:[],initialTeamCollections:void 0,title:"Reorganize Selected Sources"}},37567:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(9990),o=s(66772);function l(e){let{className:t,href:s,title:i}=e,r=n.createElement("div",null,n.createElement("div",{className:"PdfPreview__visual item-image"}),n.createElement("div",null,n.createElement("div",{className:"item-header"},i),n.createElement("div",{className:"item-meta"},"PDF")));return s&&(r=n.createElement(o.r,{className:"PdfPreview__link",href:s,newWindow:!0},r)),n.createElement("div",{className:"PdfPreview ".concat(t)},n.createElement(a.H3,{className:"PdfPreview__heading"},"Link"),r)}l.propTypes={className:r().string,href:r().string,title:r().string},l.defaultProps={className:"",href:null,title:""}},15813:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);class l extends n.PureComponent{render(){const{alt:e,borderless:t,className:s,compact:i,children:a,elementRef:o,onClick:l,square:c,title:d,url:h}=this.props;let u;return h&&(u={backgroundImage:"url(".concat(h,")")}),n.createElement("div",{ref:o,className:r()("picture",s,{"picture--borderless":t,"picture-compact":i,"picture--square":c,placeholder:!h}),onClick:l,style:u,title:d,role:"img","aria-label":e},a)}}l.propTypes={alt:o().string,borderless:o().bool,children:o().node,className:o().string,compact:o().bool,elementRef:o().shape({current:o().instanceOf(Element)}),onClick:o().func,square:o().bool,title:o().string,url:o().string},l.defaultProps={alt:"",borderless:!1,children:void 0,className:void 0,compact:!1,elementRef:null,onClick:null,square:!1,title:"",url:""}},46291:(e,t,s)=>{"use strict";s.d(t,{J:()=>p});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(26211),l=s.n(o),c=s(60216),d=s.n(c),h=s(5371),u=s(32285);class p extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClick",(e=>{const{closeOnClick:t,onClick:s,onClose:n}=this.props;s&&s(e),t&&n&&(this._delayClose=window.setTimeout(n,1))})),(0,n.Z)(this,"_onMouseDown",(()=>{this._isMouseDownInside=!0})),(0,n.Z)(this,"_onDocumentClick",(e=>{const{onClickOutside:t,onClose:s}=this.props;this._isMouseDown&&!this._isMouseDownInside&&(t&&t(e),s&&s()),this._isMouseDown=!1,this._isMouseDownInside=!1})),(0,n.Z)(this,"_onDocumentMouseDown",(()=>{this._isMouseDown=!0})),this._caretRef=i.createRef(),this._popoverRef=i.createRef(),this.state={opacity:0}}componentDidMount(){this.shortcuts=streets.service("shortcuts"),this.props.onClose&&this.shortcuts.claim(this,u.PC.close),this._updateEventListeners(),this.setState({opacity:""})}componentWillUnmount(){this.shortcuts&&(this.shortcuts.unclaim(this,u.PC.close),this.shortcuts=null),window.clearTimeout(this._delayClose),this._delayClose=null,document.removeEventListener("mousedown",this._onDocumentMouseDown),document.removeEventListener("click",this._onDocumentClick),this._isHandlingOutsideClick=null}componentDidUpdate(e){const{onClickOutside:t,onClose:s}=this.props;e.onClose&&!s?this.shortcuts.unclaim(this,u.PC.close):!e.onClose&&s&&this.shortcuts.claim(this,u.PC.close),typeof t==typeof e.onClickOutside&&typeof s==typeof e.onClose||this._updateEventListeners()}onShortcutKey(e){const{onClose:t}=this.props;t&&e===u.PC.close&&t()}render(){const{onClose:e}=this.props,t=this._renderBody();return e?i.createElement(l(),{focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".popover"}},t):t}_renderBody(){const{caret:e,children:t,className:s,color:n,onClickOutside:r,onClose:o}=this.props,l=this._flipPositionIfNecessary(),c=this._calculateStyles(l);return i.createElement("div",{ref:this._popoverRef,onClick:this._onClick,onMouseDown:(r||o)&&this._onMouseDown,className:a()("popover","popover--color-".concat(n),{[s]:s}),style:c.popover,tabIndex:o?"-1":void 0},t,e&&i.createElement("div",{ref:this._caretRef,className:a()("caret",{"caret-up":"bottom"===l,"caret-down":"top"===l,"caret-left":"right"===l,"caret-right":"left"===l}),style:c.caret}))}_calculateStyles(e){const{align:t,caret:s}=this.props,{opacity:n}=this.state,{offsetParent:i,target:r}=this._getRefs(),a=this._caretRef.current,o=this._popoverRef.current;if(!i||!r||s&&!a||!o)return{};const l=i.getBoundingClientRect(),c=r.getBoundingClientRect(),d=o.offsetHeight,h=o.offsetWidth,u=this._calculateStylesForCaret(e,h,d,c.width,c.height),p={top:"",bottom:"",left:"",right:"",opacity:n,...u.popover};if("top"===e||"bottom"===e){"bottom"===e?p.top=c.bottom-l.top:i===document.body?p.bottom=window.innerHeight-c.top:p.bottom=l.bottom-c.top;const n=c.left-l.left;"end"===t?(p.right=l.right-c.right,s&&c.width<a.offsetWidth+8&&(p.right-=8)):"start"===t?(p.left=n,s&&c.width<a.offsetWidth+8&&(p.left-=8)):p.left=n+(c.width-h)/2}else{"right"===e?p.left=c.right-l.left:p.right=l.right-c.left;const n=c.top-l.top;"end"===t?(p.bottom=l.bottom-c.bottom,s&&c.height<a.offsetHeight+8&&(p.bottom-=8)):"start"===t?(p.top=n,s&&c.height<a.offsetHeight+8&&(p.top-=8)):p.top=n+(c.height-d)/2}return p.top&&(p.top=Math.round(p.top)),p.bottom&&(p.bottom=Math.round(p.bottom)),p.left&&(p.left=Math.round(p.left)),p.right&&(p.right=Math.round(p.right)),{popover:p,caret:u.caret}}_calculateStylesForCaret(e,t,s,n,i){const{align:r,caret:a}=this.props,o=this._caretRef.current,l={marginTop:"",marginBottom:"",marginLeft:"",marginRight:""},c={left:"",top:""};if(!a)return{caret:c,popover:l};const d=Math.round(o.offsetHeight/2),h=Math.round(o.offsetWidth/2);if("top"===e||"bottom"===e){"top"===e?l.marginBottom=o.offsetHeight:"bottom"===e&&(l.marginTop=o.offsetHeight);const s=Math.round(n/2);s+h+p.CARET_PADDING<t&&("start"===r?(c.left=s,n<o.offsetWidth+8&&(c.left+=8)):"end"===r&&(c.left=t-s,n<o.offsetWidth+8&&(c.left-=8)))}else{"left"===e?l.marginRight=o.offsetWidth:"right"===e&&(l.marginLeft=o.offsetWidth);const t=Math.round(i/2);t+d+p.CARET_PADDING<s&&("start"===r?(c.top=t,i<o.offsetHeight+8&&(c.top+=8)):"end"===r&&(c.top=s-t,i<o.offsetHeight+8&&(c.top-=8)))}return{caret:c,popover:l}}_flipPositionIfNecessary(){let{position:e}=this.props;const t=this._popoverRef.current,{target:s}=this._getRefs();if(!s||!t)return e;const n=s.getBoundingClientRect(),i=t.offsetHeight,r=t.offsetWidth,a=n.top-h.vH-i>0,o=window.innerHeight>n.bottom+i,l=n.left-r>0,c=window.innerWidth>n.right+r;switch(e){case"bottom":!o&&a&&(e="top");break;case"top":!a&&o&&(e="bottom");break;case"left":!l&&c&&(e="right");break;case"right":!c&&l&&(e="left")}return e}_getRefs(){let{offsetParent:e,target:t}=this.props;return e&&void 0!==e.current&&(e=e.current),t&&void 0!==t.current&&(t=t.current),{offsetParent:e,target:t}}_updateEventListeners(){const{onClickOutside:e,onClose:t}=this.props;!e&&!t||this._isHandlingOutsideClick?this._isHandlingOutsideClick&&(document.removeEventListener("mousedown",this._onDocumentMouseDown),document.removeEventListener("click",this._onDocumentClick),this._isHandlingOutsideClick=!1):(document.addEventListener("mousedown",this._onDocumentMouseDown),document.addEventListener("click",this._onDocumentClick),this._isHandlingOutsideClick=!0)}}p.propTypes={align:d().oneOf(["start","middle","end"]),caret:d().bool,children:d().node,className:d().string,closeOnClick:d().bool,color:d().oneOf(["accent","black","default"]),offsetParent:d().oneOfType([d().instanceOf(Element),d().shape({current:d().instanceOf(Element)})]),onClick:d().func,onClickOutside:d().func,onClose:d().func,position:d().oneOf(["top","bottom","left","right"]),target:d().oneOfType([d().instanceOf(Element),d().shape({current:d().instanceOf(Element)})])},p.defaultProps={align:"middle",caret:!1,children:[],className:"",closeOnClick:!1,color:"default",offsetParent:null,onClick:void 0,onClickOutside:void 0,onClose:void 0,position:"bottom",target:null},p.CARET_PADDING=12},55118:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var n=s(32735),i=s(12788),r=s(60216),a=s.n(r);class o extends n.Component{render(){const{children:e,className:t,style:s,tagName:r}=this.props;let{target:a}=this.props;const o=r;return"string"==typeof a&&(a=document.querySelector(a)),a?i.createPortal(n.createElement(o,{style:s,className:t},e),a):null}}o.propTypes={children:a().node.isRequired,className:a().string,style:a().objectOf(a().string),target:a().oneOfType([a().object,a().string]).isRequired,tagName:a().string},o.defaultProps={className:"",style:{},tagName:"div"}},85794:(e,t,s)=>{"use strict";s.d(t,{E:()=>H});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(99165),l=s(74221),c=s(24443),d=s.n(c),h=s(1542),u=s(23005),p=s(2772);class m extends i.Component{constructor(e){super(e),this.state={isLoading:!1,previewError:null,previewCount:Math.min(50,e.priority.numEntries),prioritizedEntries:null}}componentDidMount(){this.signs=streets.service("signs"),this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updatePrioritizedEntries()}componentWillUnmount(){this._stream&&(this._stream.unregisterObserver(this),this._stream=null),this.reader.unregisterObserver(this),this.reader=null,this.signs=null}onStreamStateChanged(){const{entries:e,isLoadingEntries:t,error:s}=this._stream.getState();this.setState({prioritizedEntries:e,isLoading:t,previewError:s})}render(){const{previewCount:e}=this.state,{label:t}=this.props.priority,s=0===e?"No articles have been prioritized yet":"Review the last ".concat(d()("article",e,!0)," prioritized");return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered form"},i.createElement(p.H2,{appearance:"h1",sub:s},t," Priority"),this._renderPrioritizedEntries()))}_renderPrioritizedEntries(){const{prioritizedEntries:e,isLoading:t,previewError:s}=this.state;return t||e?s?i.createElement("p",null,"Preview failed because: ",s):t?i.createElement(u.g,{details:"prioritized articles"}):0===e.length?null:i.createElement(h.c,{entries:e}):null}_updatePrioritizedEntries(){const{previewCount:e}=this.state,{id:t}=this.props.priority;if(0===e)return void this.setState({prioritizedEntries:[],isLoading:!1});this._stream&&(this.reader.releaseStream(this._stream),this._stream.unregisterObserver(this),this._stream=null);const s={batchSize:e,unfilteredOnly:!1};this.setState({prioritizedEntries:[],isLoading:!0}),this._stream=this.reader.lookupStream(t,s),this._stream.registerObserver(this)}}m.propTypes={priority:a().shape({id:a().string,label:a().string,numEntries:a().number}).isRequired};var g=s(29931),f=s(97),y=s(40841),v=s.n(y),b=s(89919),E=s(83442),C=s(69247),w=s(9648),k=s(30392),_=s(11505),M=s(3015),S=s(32853),I=s(7761),T=s(2222),N=s(14171),L=s(53670),P=s(10020),D=s(41417),A=s(73564),O=s(29859),x=s(70535),R=s(99730),j=s(19426),F=s(88591),U=s(8629),z=s(44205),Z=s(31476);class B extends i.Component{render(){const{isLoading:e,priorities:t,onDeleteClick:s,onEditClick:n,onPauseClick:r,onPreviewClick:a,onResumeClick:o,onUpgradeClick:l,usernames:c}=this.props;if(!t.length)return null;const h=t.some((e=>{let{active:t,trainingScore:s,trainingStatus:n,inactiveReason:i}=e;return"number"==typeof s||n===I.Py.error||n===I.Py.updating||(0,S.IE)({active:t,inactiveReason:i})}));return i.createElement(O.O,{data:t,uniqueKey:"id",flexLayout:!0},i.createElement(x.K,{header:"Name",initialSortDirection:P.Sr.ASC,sortProperty:"label",cell:e=>{const t=(0,T.F1)(e),{icon:s,title:r}=I.Pr[t];return i.createElement(D.a,{className:"va-middle"},i.createElement("div",{className:"container-flex"},i.createElement("div",{className:"col-no-flex"},i.createElement(s,{importance:"secondary",title:r})),i.createElement("div",null,i.createElement(j.s,{muted:!e.active,normalCase:!0,onClick:()=>{n(e)}},(0,T.kk)(e)&&r&&i.createElement("span",{className:"item-header--light"},r.toLowerCase()," "),e.label,!e.active&&!(0,S.IE)(e)&&" (Paused)"),!!e.createdBy&&i.createElement("div",{className:v()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},e.createdBy&&!!c[e.createdBy]&&"Created by ".concat(c[e.createdBy])),e.created&&i.createElement("div",{className:v()("item-meta",{"is-muted":!e.active}),style:{marginTop:"4px"}},"on ",(0,M.p6)(new Date(e.created),"M/dd/yyyy")))))}}),i.createElement(x.K,{header:"Last 7 Days",sortBehavior:P.lI,sortProperty:"numEntriesMatching",width:100,cell:e=>i.createElement(D.a,{className:"va-middle"},i.createElement(z.x,{className:"clickable",color:e.active?"secondary":"tertiary",onClick:a.bind(null,e),size:"small",tagName:"div"},d()("article",e.numEntriesMatching,!0)))}),h?i.createElement(A.h,{header:"Learning",width:101,cell:e=>i.createElement(D.a,{className:"va-middle"},i.createElement(Z.r,{priority:e}))}):null,i.createElement(A.h,{header:"",width:112,cell:t=>{const a=(0,S.IE)(t);return i.createElement(D.a,{className:"va-middle"},i.createElement(L.z,{icon:a?i.createElement(b.Z,{importance:"tertiary"}):i.createElement(E.Z,{importance:"tertiary"}),importance:"secondary",onClick:()=>{a?l():n(t)},title:a?"Upgrade":"Refine"}),i.createElement(R.L,{align:"right",className:"m-a-0",icon:e[t.id]?i.createElement(N.J,{name:"icon-fx-loading",color:"primary"}):i.createElement(C.Z,{importance:"secondary"}),importance:"tertiary",menu:i.createElement(F.v,{width:160},!a&&i.createElement(U.s,{onClick:t.active?r.bind(null,t):o.bind(null,t)},t.active?i.createElement(w.Z,{importance:"secondary"}):i.createElement(k.Z,{importance:"secondary"}),t.active?"Pause":"Resume"),i.createElement(U.s,{danger:!0,onClick:s.bind(null,t)},i.createElement(_.Z,{color:"danger"}),"Delete")),title:"More actions"}))}}))}}B.propTypes={isLoading:a().shape({[a().string]:a().bool}),onDeleteClick:a().func,onEditClick:a().func,onPauseClick:a().func,onPreviewClick:a().func,onResumeClick:a().func,onUpgradeClick:a().func,priorities:a().arrayOf(a().object),usernames:a().objectOf(a().string)},B.defaultProps={isLoading:{},onDeleteClick:()=>{},onEditClick:()=>{},onPauseClick:()=>{},onPreviewClick:()=>{},onResumeClick:()=>{},onUpgradeClick:()=>{},priorities:[],usernames:{}};class H extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseDeleteModal",(()=>{this.setState({priorityToDelete:null})})),(0,n.Z)(this,"_onDeleteClick",(e=>{this.setState({priorityToDelete:e})})),(0,n.Z)(this,"_onDeleteConfirmClick",(async()=>{const{priorityToDelete:e}=this.state;this.setState({isDeleteConfirmLoading:!0});try{await this.priorities.askDelete(e.id),this.setState({priorityToDelete:null,isDeleteConfirmLoading:!1}),this.signs.showMessage("".concat(e.label," has been deleted."))}catch(t){this.setState({priorityToDelete:null,isDeleteConfirmLoading:!1}),this._onUpdateError(e)}})),(0,n.Z)(this,"_onEditClick",(e=>{this.slider.addSlide(f.c,{initialPriority:e})})),(0,n.Z)(this,"_onPauseClick",(async e=>{this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!0}}}));try{await this.priorities.askSave({streamIds:[],...e,active:!1}),this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!1}}}))}catch(t){this._onUpdateError(e)}})),(0,n.Z)(this,"_onPreviewClick",(e=>{this.slider.addSlide(m,{priority:e})})),(0,n.Z)(this,"_onResumeClick",(async e=>{const t={streamIds:[],...e,active:!0};this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!0}}}));try{await this.priorities.askSave(t),this.setState((t=>{let{isLoading:s}=t;return{isLoading:{...s,[e.id]:!1}}}))}catch(s){this._onUpdateError(e)}})),(0,n.Z)(this,"_onUpgradeClick",(()=>{this.router.loadPage((0,o.hH)(o.tp.Enterprise))})),this.state={usernames:{},isDeleteConfirmLoading:!1,isLoading:{},priorityToDelete:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.router=streets.service("router"),this.signs=streets.service("signs"),this.slider=streets.service("slider"),this._updatePriorityService(),this._updateEnterpriseUsernames()}componentDidUpdate(e){const{team:t}=this.props;t!==e.team&&(this._updatePriorityService(),this._updateEnterpriseUsernames())}componentWillUnmount(){this.enterprise=null,this.router=null,this.priorities=null,this.signs=null,this.slider=null}render(){const{priorities:e,tableElement:t}=this.props,{isLoading:s,usernames:n}=this.state,r=t;return i.createElement("div",null,i.createElement(r,{isLoading:s,priorities:e,onEditClick:this._onEditClick,onDeleteClick:this._onDeleteClick,onPauseClick:this._onPauseClick,onPreviewClick:this._onPreviewClick,onResumeClick:this._onResumeClick,onUpgradeClick:this._onUpgradeClick,usernames:n}),this._renderDeleteConfirmModal())}_renderDeleteConfirmModal(){const{isDeleteConfirmLoading:e,priorityToDelete:t,usernames:s}=this.state;if(!t)return null;const{createdBy:n,label:r,streamLabels:a}=t,{isEnterprise:o}=(0,l.Yg)(t.id);return i.createElement(g.b,{collectionLabel:a[0],createdByName:s[n],isCreatedByMe:streets.getUserId()===n,isEnterprise:o,isLoading:e,onCancel:this._onCloseDeleteModal,onConfirm:this._onDeleteConfirmClick,priorityLabel:r})}_onUpdateError(e){this.signs.showMessage("There was an error when trying to update ".concat(e.label,"."))}async _updateEnterpriseUsernames(){const{team:e}=this.props,t=e?await this.enterprise.askListUsernames():{};this.setState({usernames:t})}_updatePriorityService(){const{team:e}=this.props;this.priorities=e?streets.service("enterprisepriorities"):streets.service("personalpriorities")}}H.propTypes={priorities:a().arrayOf(a().object),tableElement:a().func,team:a().bool},H.defaultProps={priorities:[],tableElement:B,team:!1}},31476:(e,t,s)=>{"use strict";s.d(t,{r:()=>g});var n=s(32735),i=s(60216),r=s.n(i),a=s(14956),o=s(32853),l=s(7761),c=s(2222),d=s(66360),h=s(7837),u=s(99175),p=s(5365),m=s(44205);function g(e){let{priority:t,priority:{active:s,inactiveReason:i,latestRefreshErrors:r,trainingScore:g,trainingStatus:f}}=e;return(0,o.IE)({active:s,inactiveReason:i})?n.createElement(d.d,{filter:t}):f===l.Py.error?n.createElement(u.d,{content:(0,c.aV)({latestRefreshErrors:r})},n.createElement(h.j,{color:"danger",fontSize:"small",iconComponent:a.Z},"Error")):f===l.Py.updating?n.createElement(m.x,{color:s?"secondary":"tertiary",size:"small",tagName:"div"},"Building..."):(0,c.FN)(t)?n.createElement(m.x,{color:s?"accent":"tertiary",size:"smaller",className:"is-centered-block",tagName:"div"},"Save 20 articles"):"number"==typeof g?n.createElement(p.f,{active:s,hoverMessage:"".concat(Math.round(100*g),"% learning score: keep saving articles to your boards to increase accuracy"),value:Math.round(100*g)}):null}g.propTypes={priority:r().shape({active:r().bool.isRequired,inactiveReason:r().string,latestRefreshErrors:r().arrayOf(r().object),trainingScore:r().number,trainingStatus:r().oneOfType([r().string,r().number])}).isRequired}},72403:(e,t,s)=>{"use strict";s.d(t,{q:()=>u});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(56295),c=s(97090),d=s(95438);const h=Object.freeze({positive:"create"});class u extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSubmit",(async e=>{const{initialPriority:t}=this.state,s=e.streamIds||t.streamIds,{isEnterprise:n}=s&&(0,o.Yg)(s[0]);try{const{onDone:s,viaSuggestion:i}=this.props;this.setState({isSaving:!0}),i&&streets.service("suggestions").askSaveSuggestionFeedback({feedback:h.positive,id:i.id});const r=n?this.enterprisepriorities:this.personalpriorities;await r.askSave({...t,...e}),s()}catch(i){this.setState({isSaving:!1}),i&&i.errorMessage&&(i.errorMessage.startsWith(l._i)||i.errorMessage.startsWith(l.Eo))?this.setState({isMaxEnterprisePriorities:n,isMaxPersonalPriorities:!n}):(console.error(i),streets.service("signs").showError("".concat(i.errorCode||i.name," -- ").concat(i.errorMessage||i.message)))}}));let{initialPriority:t}=e;if(this._priorityFormRef=i.createRef(),t&&!streets.hasAdminBusinessAccess()){const{streamIds:[e]}=t,{isEnterprise:s}=(0,o.Yg)(e);s&&(t={...t,streamIds:[]})}this.state={initialPriority:t,isMaxEnterprisePriorities:!1,isMaxPersonalPriorities:!1,isSaving:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this._priorityFormRef=null}askConfirmExit(){return this._priorityFormRef.current.askConfirmExit()}render(){const{initialTopicQuery:e,onDone:t}=this.props,{initialPriority:s}=this.state,{isMaxPersonalPriorities:n,isMaxEnterprisePriorities:r,isSaving:a}=this.state;return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(d.A,{ref:this._priorityFormRef,initialPriority:s,initialTopicQuery:e,isMaxEnterprisePriorities:r,isMaxPersonalPriorities:n,isSaving:a,onCancel:t,onSubmit:this._onSubmit,submitLabel:"Create",title:"What would you like Leo to prioritize?"})))}}u.propTypes={initialPriority:c.tm,initialTopicQuery:a().string,onDone:a().func.isRequired,viaSuggestion:a().shape({id:a().string})},u.defaultProps={initialPriority:void 0,initialTopicQuery:"",viaSuggestion:void 0}},29931:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(68620);function o(e){let{collectionLabel:t,createdByName:s,isLoading:i,isCreatedByMe:r,isEnterprise:o,onCancel:l,onConfirm:c,priorityLabel:d}=e,h="";return o&&(r||(h="".concat(s," created this priority for the ").concat(t," feed. ")),h+="This will impact everyone in your team."),n.createElement(a.c,{cancelLabel:"No, keep this priority",danger:!0,description:h,isLoading:i,onCancel:l,onSuccess:c,successLabel:"Delete",small:!0,title:"Are you sure you want to delete ".concat(d,"?")})}o.propTypes={collectionLabel:r().string.isRequired,createdByName:r().string,isCreatedByMe:r().bool.isRequired,isEnterprise:r().bool.isRequired,isLoading:r().bool,onCancel:r().func.isRequired,onConfirm:r().func.isRequired,priorityLabel:r().string.isRequired},o.defaultProps={createdByName:"A teammate",isLoading:!1}},93613:(e,t,s)=>{"use strict";s.d(t,{T:()=>g});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r);const o=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M12.143 8.071a2.643 2.643 0 0 1 .167 5.28l-.167.006H11.07a.5.5 0 0 1-.09-.992l.09-.008h1.072a1.643 1.643 0 0 0 .142-3.28l-.142-.006H5.714a.5.5 0 0 1-.09-.992l.09-.008h6.429Z"}),i.createElement("path",{d:"M7.504 6.074a.5.5 0 0 1 .765.637l-.058.07L6.42 8.57l1.79 1.79a.5.5 0 0 1 .058.637l-.058.07a.5.5 0 0 1-.638.057l-.07-.058-2.142-2.142a.5.5 0 0 1-.058-.638l.058-.07 2.143-2.142Z"}),i.createElement("path",{d:"M10 1.641a8.357 8.357 0 1 0 0 16.715A8.357 8.357 0 0 0 10 1.64Zm0 1a7.357 7.357 0 1 1 0 14.715A7.357 7.357 0 0 1 10 2.64Z"})))}));var l=s(71263),c=s(74250),d=s(77157),h=s(79199),u=s(23005),p=s(88591),m=s(8629);class g extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{descriptionLabel:"",usernames:null}),(0,n.Z)(this,"_renderBugInspector",(()=>{const e=d.F.load();return e&&e.sudoSession||"feedly"===streets.getEnterpriseId()?i.createElement(m.s,{onClick:this._onOpenLikeBoardInspector},i.createElement(l.Z,{importance:"secondary"}),i.createElement("div",{className:"LessLikeThisExplanation__item-label"},"Debug Priority")):null})),(0,n.Z)(this,"_onOpenLikeBoardInspector",(()=>{const{entry:e}=this.props,t=e.suggestViaFeedId(),s=e.getId();let n="https://ml.feedly.com/personalized-topics/demo/stats?entryId=".concat(encodeURIComponent(s));t&&(n+="&streamId=".concat(encodeURIComponent(t),"&categoryId=").concat(encodeURIComponent(t))),window.open(n)}))}componentDidMount(){this.enterprise=streets.service("enterprise"),this.tags=streets.service("tags"),this._updateInfo()}componentWillUnmount(){this.enterprise=null,this.tags=null}render(){const{usernames:e}=this.state,{feedback:{addedBy:t},onDeleteFeedback:s}=this.props;if(!e)return i.createElement(u.g,null);let n="You";return t&&t!==streets.getUserId()&&e&&(n=e[t]||"Your team"),i.createElement("div",{className:"LessLikeThisExplanation"},i.createElement("p",{className:"LessLikeThisExplanation__description"},n," flagged this article ",this._getReason()),i.createElement(p.v,{className:"LessLikeThisExplanation__menu"},this._renderBugInspector(),i.createElement(m.s,{onClick:s},i.createElement(o,{importance:"secondary"}),i.createElement("div",{className:"LessLikeThisExplanation__item-label"},"Undo feedback"))))}_getReason(){const{descriptionLabel:e}=this.state,{feedback:{reason:t}}=this.props;return t===c.n.board?"as not like board ".concat(e):t===c.n.duplicate?"as a duplicate":t===c.n.entity||t===c.n.topic?"as not about ".concat(e):t===c.n.severity?"as having the wrong vulnerability severity":t===c.n.vulnerability?"as having the wrong vulnerability":""}async _updateInfo(){const{feedback:{description:e,reason:t}}=this.props,s=await this.enterprise.askListUsernames();let n;if(t===c.n.board){n=(await this.tags.askLabelsIndex())[e]}else if(t===c.n.entity||t===c.n.topic)try{n=await streets.service("leo").askEntityLabel(e)}catch(i){n="[unknown concept]"}this.setState({descriptionLabel:n,usernames:s})}}g.propTypes={entry:h.A.isRequired,feedback:a().shape({addedBy:a().string,description:a().string,reason:a().string}).isRequired,onDeleteFeedback:a().func.isRequired}},73530:(e,t,s)=>{"use strict";s.d(t,{v:()=>A});var n=s(47169),i=s(85646),r=s.n(i),a=s(89793),o=s.n(a),l=s(32735),c=s(60216),d=s.n(c),h=s(73028),u=s(20945),p=s(26765),m=s(25193),g=s(54533),f=s(69383),y=s(74250),v=s(74221),b=s(94059),E=s(65698),C=s(99220),w=s(7761),k=s(35610),_=s(62784),M=s(79199),S=s(23005),I=s(81197),T=s(53670),N=s(44205),L=s(62329);const P="fulfilled",D=Object.freeze({source:"source",topic:"topic"});class A extends l.Component{constructor(e){super(e),(0,n.Z)(this,"_renderBoardSection",(e=>e.length?l.createElement(L.i,{iconComponent:h.Z,label:"Not like board"},e.map((e=>l.createElement(T.z,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:l.createElement(u.Z,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onBoardClick(e)}})))):null)),(0,n.Z)(this,"_renderDuplicateSection",(()=>l.createElement(L.i,{iconComponent:p.Z,label:"Duplicated article",onClick:this._onDuplicateClick}))),(0,n.Z)(this,"_renderExcludeSection",(e=>{const{entry:t,previewExcludeTopics:s}=this.props,{isFollowingAlert:n,isSubscribed:i,isUpdatingWebAlert:r,itemToExclude:a,webAlertOptions:{layers:o=[]}}=this.state,{isEnterprise:c,isFeed:d}=(0,v.Yg)(t.metadata.viaStreamId);if(d&&!n||c&&!i&&!streets.hasAdminBusinessAccess())return null;if(e===D.source){const e=(0,k._Y)(t.getSourceAlternateLink());let s="Exclude ".concat(e);return r&&a.text&&a.text.startsWith("site:")&&(s="Excluding ".concat(e,"...")),l.createElement(L.i,{iconComponent:m.Z,label:s,onClick:()=>{r||this._onExcludeItem(e,D.source)}})}const h=s.length?s:(0,E.p2)(t,o);return h.length?l.createElement(L.i,{iconComponent:m.Z,label:"Exclude Topic"},h.map((e=>{const t=this._getLeoPartIcon(e);return l.createElement(T.z,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:l.createElement(t,{importance:"secondary"}),importance:"secondary",loading:r&&(e.id===a.id||e.label===a.label),onClick:()=>{const t=(0,E.xT)(e.id)?e:{...e,type:b.gQ.other};this._onExcludeItem(t,D.topic)}})}))):null})),(0,n.Z)(this,"_renderMuteSection",(e=>{const{entry:t}=this.props;if(e===D.source){const e=this._getMuteCategoryIds(),s=(0,k._Y)(t.getCleanAlternateLink()),n=t.metadata.googleNews||t.metadata.googleAlerts||t.metadata.baiduNews;return e.length&&n&&s?l.createElement(L.i,{iconComponent:m.Z,label:"Mute ".concat(s),onClick:()=>{this._onSourceClick(s,e)}}):null}const s=this._getMuteTopics();return s.length?l.createElement(L.i,{iconComponent:m.Z,label:"Mute Topic"},s.map((e=>{const t=this._getLeoPartIcon(e);return l.createElement(T.z,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:l.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onMutePartClick(e)}})}))):null})),(0,n.Z)(this,"_renderPartsSection",(e=>e.length?l.createElement(L.i,{iconComponent:h.Z,label:"Wrong"},e.map((e=>{const t=this._getLeoPartIcon(e);return l.createElement(T.z,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:l.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onPartClick(e)}})}))):null)),(0,n.Z)(this,"_renderSecuritySection",(()=>{const{entry:e}=this.props;return e.hasSecurityPriority()||e.hasSecurityWebAlert()?l.createElement(l.Fragment,null,l.createElement(L.i,{iconComponent:h.Z,label:"Not vulnerability",onClick:this._onVulnerabilityClick}),l.createElement(L.i,{iconComponent:g.Z,label:"Wrong severity",onClick:this._onSeverityClick})):null})),(0,n.Z)(this,"_renderSomethingElseSection",(()=>l.createElement(L.i,{iconComponent:f.Z,label:"Something else",onClick:this._onSomethingElseClick}))),(0,n.Z)(this,"_renderTopicSection",(e=>e.length?l.createElement(L.i,{iconComponent:h.Z,label:"Not about"},e.map((e=>{const t=this._getLeoPartIcon(e);return l.createElement(T.z,{key:e.id,className:"m-b-t LessLikeThisSelector__topic-button",label:e.label,icon:l.createElement(t,{importance:"secondary"}),importance:"secondary",onClick:()=>{this._onPartClick(e)}})}))):null)),(0,n.Z)(this,"_onBoardClick",(e=>{this._submitFeedback(y.n.board,e.id)})),(0,n.Z)(this,"_onDuplicateClick",(()=>{const{entry:e}=this.props;this._submitFeedback(y.n.duplicate,e.getId())})),(0,n.Z)(this,"_onExcludeItem",(async(e,t)=>{const{entry:s,isAnyPowerSearch:n,onClose:i}=this.props;let r=e;t===D.source&&(r={text:"site:".concat(e)}),s.isFromWebAlertSource()&&!n?await this._onUpdateWebAlert(r):await this.leo.askAddNotTopic(r),i()})),(0,n.Z)(this,"_onPartClick",(async e=>{const{entry:t,onSubmit:s}=this.props;s();try{await this.leo.askSaveFeedback(t.getId(),e.id,-1,"lessLikeThisMenu")}catch(n){console.error("Failed to submit feedback",e,n)}})),(0,n.Z)(this,"_onMutePartClick",(async e=>{const{streamId:t}=this.state,{onClose:s}=this.props;this.slider.addSlide(I.K,{initialFilter:{streamId:t,term:e}})})),(0,n.Z)(this,"_onSeverityClick",(()=>{this._submitFeedback(y.n.severity)})),(0,n.Z)(this,"_onSomethingElseClick",(()=>{this._submitFeedback(y.n.other,"other")})),(0,n.Z)(this,"_onSourceClick",(async(e,t)=>{const s=streets.hasBusinessAccess();this._submitFeedback(y.n.source,e);try{await Promise.all(t.map((async t=>{const{isEnterprise:n}=(0,v.Yg)(t),i={term:{text:"site:".concat(e)},streamId:t};return n?!s||streets.service("enterprisemutefilters").askSave(i):streets.service("personalmutefilters").askSave(i)})))}catch(n){n&&n.errorMessage&&streets.service("commonsigns").showMessage(n.errorMessage)}})),(0,n.Z)(this,"_onUpdateWebAlert",(async e=>{const{webAlertOptions:t,webAlertOptions:{feedId:s,id:n,layers:i=[],source:a,title:l}}=this.state,c=(e.label||e.text).replace(/site:/gi,"");try{this.setState({isUpdatingWebAlert:!0,itemToExclude:e});const t=!i.find((e=>e.negate));let d=[];d=t?[...i,{negate:!0,parts:[{...e}],salience:w.mb.mention,type:w.ur.matches}]:i.map((t=>{if(t.negate){const s=[...t.parts,{...e}],n=r()(s,o());return{...t,parts:n}}return t}));const h={feedId:s,initialSearchOptions:{layers:i,source:a},searchOptions:{layers:d,source:a},title:l},{webAlert:u,isRecreated:p}=await this.alerts.askSave(n,h);streets.service("commonsigns").showMessage("".concat(c," has been excluded from your ").concat(l," web alert")),p&&streets.service("router").loadPage((0,C.no)(u.feedId))}catch(d){streets.service("commonsigns").showError("Failed to exclude ".concat(c)),this.slider&&this.setState({isUpdatingWebAlert:!1,itemToExclude:{}})}})),(0,n.Z)(this,"_onVulnerabilityClick",(()=>{this._submitFeedback(y.n.vulnerability)})),(0,n.Z)(this,"_getMuteTopics",(()=>{const{entry:e}=this.props,{filters:t}=this.state,s=e.getMostRelevantPriority()||{},{searchTerms:{parts:n=[]}={}}=s,i=n.reduce(((e,t)=>(e[t.id]=!0,e)),{});return t.reduce(((e,t)=>(e[t.term.id]=!0,e)),i),(0,E.WW)(e.listCommonTopics().filter((e=>!i[e.id]&&(i[e.id]=!0,!0)))).slice(0,2)}));const{entry:t}=this.props,s=t.suggestViaFeedId();this.state={isFollowingAlert:!1,isLoading:!1,isSubscribed:!1,isUpdatingWebAlert:!1,itemToExclude:{},streamId:s,filters:[],webAlertOptions:{}}}componentDidMount(){this.alerts=streets.service("alerts"),this.commonsigns=streets.service("commonsigns"),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisemutefilters=streets.service("enterprisemutefilters"),this.feeds=streets.service("feeds"),this.leo=streets.service("leo"),this.personalmutefilters=streets.service("personalmutefilters"),this.reader=streets.service("reader"),this.slider=streets.service("slider"),this._updateInitialData()}componentWillUnmount(){this.alerts=null,this.commonsigns=null,this.enterprisecollections=null,this.enterprisemutefilters=null,this.feeds=null,this.leo=null,this.personalmutefilters=null,this.reader=null,this.slider=null}render(){const{entry:e,isAnyPowerSearch:t}=this.props,{isLoading:s}=this.state,n=e.getMostRelevantPriority()||{},i=e.getFirstAlertSourceInfo()||{},r=e.isFromWebAlertSource(),a=t||r,{searchTerms:{likeBoards:o=[]}={}}=n,{searchTerms:{parts:c=[]}={}}=n,{searchTerms:{parts:d=[]}={}}=i,{parts:h=[]}=e.getPreviewSearchTerms()||e.getPowerSearchTerms()||{};let u=[];if(t?u=h:r?u=d:c&&(u=c),s)return l.createElement(S.g,{className:"m-x-1"});const p=u.filter((e=>((0,E.xT)(e.id)||(0,E.jP)(e.id))&&e.label)),m=u.filter((e=>(0,E.ft)(e.id)&&e.label));return l.createElement("div",{className:"LessLikeThisSelector__menu"},l.createElement(N.x,{className:"p-x-3 m-b-h",color:"secondary",size:"small"},"What do you dislike about this article?"),a?l.createElement(l.Fragment,null,this._renderExcludeSection(D.source),this._renderExcludeSection(D.topic),this._renderSecuritySection(),this._renderTopicSection(p),this._renderPartsSection(m),this._renderDuplicateSection()):l.createElement(l.Fragment,null,this._renderBoardSection(o),this._renderSecuritySection(),this._renderTopicSection(p),this._renderPartsSection(m),this._renderDuplicateSection(),this._renderMuteSection(D.source),this._renderMuteSection(D.topic)),this._renderSomethingElseSection())}_getLeoPartIcon(e){const{entry:t}=this.props,s=e.type?e:t.findSearchTermFullInfo(e);return(0,E.mm)(s,!0)}_getMuteCategoryIds(){const{entry:e}=this.props,t=[];return e.listPersonalCollections().length>0&&t.push((0,v.N1)()),e.listEnterpriseCollections()&&streets.hasAdminBusinessAccess()&&t.push((0,v.Gr)()),t}_submitFeedback(e,t){const{entry:s,onSubmit:n}=this.props,i=s.getMostRelevantPriority()||{};n();try{this.reader.askSaveEntryFeedback(s.getId(),{description:t,priorityId:i.id,reason:e,streamId:s.metadata.viaStreamId,type:"less-like-this"})}catch(r){console.error("Failed to submit feedback",e,t,r)}}async _updateInitialData(){const{entry:e}=this.props,{streamId:t}=this.state,s=e.getWebAlertSourcesInfo(),n=s.reduce(((e,t)=>(e[t.streamId]=t,e)),{});let i;if(this.setState({isLoading:!0}),s.length){const{viaStreamId:t}=e.metadata;if(t&&(i=n[t],!i)){const{isEnterprise:e,isCategory:s}=(0,v.Yg)(t);if(s){const s=e?streets.service("enterprisecollections"):streets.service("personalcollections");i=(await s.askListCollectionFeeds(t)).find((e=>n[e.id]))}}i||([i]=s)}const r=(0,v.Yg)(t).isEnterprise?this.enterprisemutefilters:this.personalmutefilters,[a,o,l]=await Promise.allSettled([r.askListFiltersForFeed(t),this.alerts.askInfo((0,_.kW)(i?i.streamId:"")),this.enterprisecollections.askLookupCollection(t)]);let c,d={};o.status===P&&(d=o.value,c=await this.feeds.askLookupFeed(d.feedId),i&&i.title&&(d.title=i.title));let h=!1;var u;l.status===P&&(h=(null===(u=l.value)||void 0===u?void 0:u.subscribed)||!1);this.setState({filters:a.status===P?a.value:[],isFollowingAlert:!!c,isLoading:!1,isSubscribed:h,webAlertOptions:d})}}A.propTypes={entry:M.A.isRequired,isAnyPowerSearch:d().bool,onClose:d().func,onSubmit:d().func.isRequired,previewExcludeTopics:d().arrayOf(d().object)},A.defaultProps={isAnyPowerSearch:!1,onClose:()=>{},previewExcludeTopics:[]}},62329:(e,t,s)=>{"use strict";s.d(t,{i:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(44205);class c extends n.Component{constructor(e){super(e),this.state={}}componentDidMount(){0}componentWillUnmount(){this._horizontalScroll=null}render(){const{children:e,iconComponent:t,onClick:s,label:i}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{className:r()("LessLikeThisSelector__row",{"LessLikeThisSelector__row--clickable":s}),onClick:s},n.createElement(t,{className:"m-r-2",importance:"secondary"}),n.createElement(l.x,{className:"LessLikeThisSelector__row-label",color:"primary",size:"small",tagName:"span"},i)),e&&n.createElement("div",{className:"LessLikeThisSelector__horizontal-scroll",ref:this._horizontalScroll},e))}_onTouchMove(e){e.stopPropagation()}}c.propTypes={children:o().node,iconComponent:o().elementType.isRequired,onClick:o().func,label:o().string.isRequired},c.defaultProps={children:void 0,onClick:void 0}},87928:(e,t,s)=>{"use strict";s.d(t,{y:()=>M});var n=s(47169),i=s(32735),r=s(86576),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l),d=s(74250),h=s(73028),u=s(25193),p=s(26765),m=s(69383),g=s(62329),f=s(44205);const y=Object.freeze({creatorEconomy:{sheetTitle:"Sheet 1",spreadsheetId:"10THoB7JDZpqZrnriv4q7QkmJHCiVznXCESebrA_6L8s"}});class v extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onSubmit",(async e=>{const{dashboardInfo:{dashboardName:t,section:s},entryId:n,entryTitle:i,onClose:r}=this.props,{target:{innerText:a}}=e,{id:o,email:l,fullName:c}=this.profile.getUserInfo(),{spreadsheetId:d,sheetTitle:h}=y[t],u=[i,s,n,a,o,l,c];try{await this.sheets.askSaveToSheet({spreadsheetId:d,sheetTitle:h,row:u})}catch(p){console.error("Failed to submit feedback:",p)}r()}))}componentDidMount(){this.profile=streets.service("profile"),this.sheets=streets.service("sheets")}componentWillUnmount(){this.profile=null,this.sheets=null}render(){return i.createElement("div",{className:"DashboardEntryRelevanceSelector"},i.createElement(f.x,{className:"p-x-3 m-b-h",color:"secondary",size:"small"},"What do you dislike about this article?"),i.createElement(g.i,{iconComponent:h.Z,label:"Off topic",onClick:this._onSubmit}),i.createElement(g.i,{iconComponent:u.Z,label:"Not insightful",onClick:this._onSubmit}),i.createElement(g.i,{iconComponent:p.Z,label:"Duplicated article",onClick:this._onSubmit}),i.createElement(g.i,{iconComponent:m.Z,label:"Something else",onClick:this._onSubmit}))}}v.propTypes={dashboardInfo:c().shape({dashboardName:c().string,section:c().string}).isRequired,entryId:c().string.isRequired,entryTitle:c().string.isRequired,onClose:c().func.isRequired};var b=s(79199),E=s(14967),C=s(48841),w=s(46291),k=s(99175),_=s(73530);class M extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderCybersecurityFeedbackModal",(()=>{const{entry:e}=this.props;return i.createElement(C.z,{entryId:e.getId(),onClose:this._onCloseCybersecurityFeedbackModal,feedbackType:d.n.trendingThreat,feedbackValue:d.O.notAThreat})})),(0,n.Z)(this,"_onSubmit",(()=>{this.setState({isOpen:!1}),this.signs.showMessage("Feedback collected")})),(0,n.Z)(this,"_onButtonClick",(e=>{const{button:t,isCybersecurityTrend:s,onOpenChange:n}=this.props;t.props.onClick&&t.props.onClick(e),s?this._onOpenCybersecurityFeedbackModal():this.setState((e=>{let{isOpen:t}=e;const s=!t;return n&&n(s),{isOpen:s}}))})),(0,n.Z)(this,"_onCloseCybersecurityFeedbackModal",(()=>{this.setState({isCybesecurityFeedbackModalOpen:!1})})),(0,n.Z)(this,"_onCloseMenu",(()=>{const{onOpenChange:e}=this.props;e&&e(false),this.setState({isOpen:false})})),(0,n.Z)(this,"_onOpenCybersecurityFeedbackModal",(()=>{this.setState({isCybesecurityFeedbackModalOpen:!0})})),this._wrapper=i.createRef(),this._button=i.createRef(),this.state={isCybesecurityFeedbackModalOpen:!1,isLeoEnabled:!1,isLoadingInitialData:!0,isOpen:!1}}componentDidMount(){this.leo=streets.service("leo"),this.signs=streets.service("signs"),this._updateInitialData()}componentWillUnmount(){this.leo=null,this.signs=null}render(){const{align:e,button:t,className:s,tagName:n}=this.props,{isCybesecurityFeedbackModalOpen:r,isLeoEnabled:a,isLoadingInitialData:l,isOpen:c}=this.state,d=n;return l||!a?null:i.createElement(d,{ref:this._wrapper,className:o()("LessLikeThisSelector",s)},i.createElement("span",{style:{display:"inline-block"}},i.createElement(k.d,{content:"Less Like This"},i.cloneElement(t,{onClick:this._onButtonClick,elementRef:this._button}))),c&&i.createElement(w.J,{align:e,caret:!0,offsetParent:this._wrapper,onClick:e=>{e.stopPropagation()},onClose:this._onCloseMenu,target:this._button},this._renderSelectorMenu()),r&&this._renderCybersecurityFeedbackModal())}_renderSelectorMenu(){const{dashboardInfo:e,entry:t,isAnyPowerSearch:s,isLeoPreview:n,previewExcludeTopics:r}=this.props;return n?i.createElement(E.Y,{entry:t,excludeTopics:r,onSubmit:this._onCloseMenu}):e?i.createElement(v,{entryId:t.getId(),entryTitle:t.getCleanTitle(),onClose:this._onCloseMenu,dashboardInfo:e}):i.createElement(_.v,{entry:t,isAnyPowerSearch:s,onClose:this._onCloseMenu,onSubmit:this._onSubmit,previewExcludeTopics:r})}async _updateInitialData(){const e=await this.leo.askIsLeoEnabled();this.setState({isLoadingInitialData:!1,isLeoEnabled:e})}}M.propTypes={align:w.J.propTypes.align,button:(0,r.componentWithName)("Button").isRequired,className:c().string,dashboardInfo:c().shape({dashboardName:c().string,section:c().string}),entry:b.A.isRequired,isAnyPowerSearch:c().bool,isCybersecurityTrend:c().bool,isLeoPreview:c().bool,onOpenChange:c().func,previewExcludeTopics:c().arrayOf(c().object),tagName:c().oneOf(["div","span"])},M.defaultProps={align:"start",className:void 0,dashboardInfo:void 0,isAnyPowerSearch:!1,isCybersecurityTrend:!1,isLeoPreview:!1,onOpenChange:void 0,previewExcludeTopics:[],tagName:"span"}},39551:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(44205);function o(e){let{andButton:t,notButton:s}=e;return n.createElement("div",{className:"PriorityAndNotSelector"},t,s&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(a.x,{className:"PriorityAndNotSelector__buttons-divider"},"/")),n.createElement("div",null,s)))}o.propTypes={andButton:r().node,notButton:r().node},o.defaultProps={andButton:null,notButton:null}},25327:(e,t,s)=>{"use strict";s.d(t,{e:()=>L});var n=s(47169),i=s(32735),r=s(24443),a=s.n(r),o=s(60216),l=s.n(o),c=s(83442),d=s(9648),h=s(30392),u=s(11505),p=s(71263),m=s(94059),g=s(65698),f=s(77157),y=s(85902),v=s(62784),b=s(79199),E=s(23005),C=s(88591),w=s(8629),k=(s(5017),s(97090));const _=c.Z,M=d.Z,S=h.Z,I=u.Z,T=p.Z,N=w.s;class L extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{priorityDetails:null,usernames:{}}),(0,n.Z)(this,"_renderBugInspector",(()=>{const e=f.F.load();return e&&e.sudoSession||"feedly"===streets.getEnterpriseId()?i.createElement(N,{onClick:()=>this._onOpenLikeBoardInspector()},i.createElement(T,{importance:"secondary"}),i.createElement("div",{className:"PriorityExplanation__item-label"},"Debug Priority")):null})),(0,n.Z)(this,"_getFeedsString",(()=>{const{streamLabels:e}=this.state.priorityDetails;return 1===e.length&&"All"===e[0]?"All feeds. ":"the ".concat((0,y.sw)(e)," ").concat(a()("feed",e.length),". ")})),(0,n.Z)(this,"_renderEntityCauses",(()=>{const{entry:e,priority:t}=this.props,s=e.findRelevantCausedEntities(t);if(s.length){const e=s[0].causes.slice(0,3),t=this._createSegment(e,"This article mentions ",!0);return t.push("."),t}return null})),(0,n.Z)(this,"_onOpenLikeBoardInspector",(()=>{const{entry:e,priority:{streamId:t,searchTerms:{likeBoards:s=[]}}}=this.props,n=t,i=s[0].id,r=e.getId(),a="https://ml.feedly.com/personalized-topics/demo/stats?streamId=".concat(encodeURIComponent(t),"&categoryId=").concat(encodeURIComponent(n),"&boardId=").concat(encodeURIComponent(i),"&entryId=").concat(encodeURIComponent(r));window.open(a)}))}componentDidMount(){this.enterprise=streets.service("enterprise"),this.priorities=streets.service("priorities"),this.tabsManager=streets.service("tabsManager"),this._updateInfo()}componentWillUnmount(){this.enterprise=null,this.priorities=null,this.tabsManager=null}render(){const{onDeleteClick:e,onPauseClick:t,onResumeClick:s,onRefineClick:n,priority:{searchTerms:{likeBoards:r=[]}}}=this.props,{priorityDetails:a,usernames:o}=this.state;if(!a)return i.createElement(E.g,null);let l="You";return a.createdBy&&a.createdBy!==streets.getUserId()&&o&&(l=o[a.createdBy]||"Your team"),i.createElement("div",{className:"PriorityExplanation"},i.createElement("p",{className:"PriorityExplanation__description"},l," prioritized articles ",this._renderTerms()," in"," ",this._getFeedsString(),this._renderEntityCauses()),i.createElement(C.v,{className:"PriorityExplanation__menu"},i.createElement(N,{onClick:()=>n(a)},i.createElement(_,{importance:"secondary"}),i.createElement("div",{className:"PriorityExplanation__item-label"},"Refine Priority")),r.length>0&&this._renderBugInspector(),i.createElement(N,{onClick:()=>{a.active?t(a):s(a)}},a.active?i.createElement(M,{importance:"secondary"}):i.createElement(S,{importance:"secondary"}),i.createElement("div",{className:"PriorityExplanation__item-label"},a.active?"Pause":"Resume")),i.createElement(N,{danger:!0,onClick:()=>e(a,o)},i.createElement(I,{color:"danger"}),i.createElement("div",{className:"PriorityExplanation__item-label PriorityExplanation__item-label--danger"},"Delete Priority"))))}_renderPart(e,t){var s;let{label:n,type:r}=e;const o=null!==(s=m.XA[r])&&void 0!==s?s:m.XA.other,l=r===m.w7?"".concat(a()(n)):n;return i.createElement("span",{className:"PriorityExplanation__keyword",key:"".concat(r,"-").concat(n)},o&&!t&&i.createElement(o,{className:"PriorityExplanation__keyword-icon"}),l)}_renderTerms(){const{priority:{searchTerms:{parts:e=[],likeBoards:t=[],severity:s}}}=this.props;let n=this._createSegment(e,"about ");return t.length>0&&(n.length>0&&n.push(" and "),n=n.concat(this._createSegment(t,"similar to board "))),s&&(n.length>0&&n.push(" and "),n=n.concat(this._createSegment([s],"about vulnerabilities marked as "))),n}_createSegment(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{entry:n}=this.props;if(!e||0===e.length)return[];const i=[],r=e.map((e=>{const t=s?e:n.findSearchTermFullInfo(e),i=(0,g.FW)(t),r=i===m.w7&&!t.label?(0,v.hh)(t):(0,v.vE)(t);return{id:t.id,label:r,type:i}}));return r.forEach(((e,n)=>{0===n&&i.push(t),i.length>1&&n===r.length-1&&i.push(" and"),i.push(" "),i.push(this._renderPart(e,s)),r.length>2&&n!==r.length-1&&i.push(",")})),i}async _updateInfo(){const{priority:e}=this.props,[t,s]=await Promise.all([this.enterprise.askListUsernames(),this.priorities.askPriority(e.id)]);this.setState({priorityDetails:s,usernames:t})}}L.propTypes={entry:b.A.isRequired,onDeleteClick:l().func,onPauseClick:l().func,onRefineClick:l().func,onResumeClick:l().func,priority:k.tm.isRequired},L.defaultProps={closeExplanation:()=>{},offsetParent:null,onDeleteClick:()=>{},onPauseClick:()=>{},onRefineClick:()=>{},onResumeClick:()=>{},target:null}},95438:(e,t,s)=>{"use strict";s.d(t,{A:()=>Ce});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(88982),c=s(20461),d=s(94059),h=s(65698),u=s(78505),p=s(7761),m=s(2222),g=s(94773);const f=(0,g.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M2.857 7.821a9.321 9.321 0 0 1 9.322 9.322.75.75 0 0 1-1.5 0A7.821 7.821 0 0 0 2.857 9.32a.75.75 0 1 1 0-1.5Z"}),i.createElement("path",{d:"M2.857 2.107c8.304 0 15.036 6.732 15.036 15.036a.75.75 0 0 1-1.5 0c0-7.476-6.06-13.536-13.536-13.536a.75.75 0 0 1 0-1.5ZM4.286 13.536a2.179 2.179 0 1 0 0 4.357 2.179 2.179 0 0 0 0-4.357Zm0 1.5a.679.679 0 1 1 0 1.357.679.679 0 0 1 0-1.357Z"})))}));const y=(0,g.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.333 3.25a.917.917 0 0 0-.916.917v11.666a.917.917 0 0 0 .916.917h13.334a.917.917 0 0 0 .916-.917V6.667a.917.917 0 0 0-.916-.917H9.613c-.53 0-1.024-.265-1.318-.705L7.123 3.287a.083.083 0 0 0-.069-.037h-3.72Zm-1.708-.792a2.417 2.417 0 0 1 1.708-.708h3.721c.53 0 1.024.265 1.317.705l1.172 1.758a.083.083 0 0 0 .07.037h7.054a2.417 2.417 0 0 1 2.416 2.417v9.166a2.417 2.417 0 0 1-2.416 2.417H3.333a2.417 2.417 0 0 1-2.416-2.417V4.167c0-.641.254-1.256.708-1.71Z",fill:"currentColor"}))}));var v=s(51381),b=s(5375),E=s(51196),C=s(99165),w=s(13838),k=s(39551),_=s(13079),M=s(53670),S=s(2772),I=s(93839),T=s.n(I),N=s(12788),L=s(40841),P=s.n(L),D=s(8095),A=s(55118);class O extends i.Component{constructor(){super(),this.state={containerElement:null,showBorder:!1}}componentDidMount(){this.props.pageManager.registerObserver(this),this._intializeElements()}componentWillUnmount(){this.props.pageManager.unregisterObserver(this)}onPageScroll(e){const{showBorder:t}=this.state;e>0&&!t?this.setState({showBorder:!0}):e<=0&&t&&this.setState({showBorder:!1})}render(){const{children:e,height:t}=this.props,{containerElement:s,showBorder:n}=this.state;return i.createElement("div",{className:"MobileFixedHeader-placeholder",style:"number"==typeof t?{height:"".concat(t,"px")}:null},s&&i.createElement(A.h,{className:P()({"border-bottom-secondary":n}),target:s},function(e,t){return T()(e)?e(t):(0,i.cloneElement)(e,t)}(e)))}_intializeElements(){const e=(0,D.QG)(N.findDOMNode(this)).getAttribute("data-PageHeaderContainer");this.setState({containerElement:document.getElementById(e)})}}O.propTypes={children:a().oneOfType([a().element,a().func]).isRequired,height:a().number,pageManager:a().objectOf(a().any).isRequired},O.defaultProps={height:null};var x=s(44205),R=s(74256);const j=Object.freeze({biopharma:[p.sD.disease,p.sD.gene,p.sD.biopharmaCompanies,p.sD.industryTopic,p.sD.businessEvent],cybersecurity:[p.sD.cyberEvent,p.sD.malwareFamily,p.sD.threatActor,p.sD.indicatorsOfCompromise,p.sD.mitreAttack,p.sD.industryTopic,p.sD.businessEvent],default:[p.sD.businessEvent,p.sD.industryTopic]});class F extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_getPriorityOptionsList",(()=>{const{hideSecurityOption:e}=this.props,{hasLeoBiopharmaFeature:t,hasLeoSecurityFeature:s}=this.state;let n;return s?(n=j.cybersecurity,e||(n=[p.sD.security,...n])):n=t?j.biopharma:j.default,n})),(0,n.Z)(this,"_updateUserEnterpriseFeatures",(async()=>{const e=await this.leo.askUserEnterpriseFeaturesMap();this.setState({hasLeoBiopharmaFeature:!!e[C.tp.Biopharma],hasLeoSecurityFeature:!!e[C.tp.LeoSecurity]})})),this.state={hasLeoBiopharmaFeature:!1,hasLeoSecurityFeature:!1}}componentDidMount(){this.leo=streets.service("leo"),this._updateUserEnterpriseFeatures()}componentWillUnmount(){this.leo=null}render(){const{hideLikeBoardLayer:e,menuItemRenderer:t}=this.props,s=this._getPriorityOptionsList(),n=!streets.isEnterprisePlan();return i.createElement(i.Fragment,null,t(p.sD.matches),s.map((e=>t(e,{addOn:n}))),!e&&t(p.sD.likeBoard))}}F.propTypes={hideLikeBoardLayer:a().bool,hideSecurityOption:a().bool,menuItemRenderer:a().func.isRequired},F.defaultProps={hideLikeBoardLayer:!1,hideSecurityOption:!1};var U=s(5017),z=s(99149);class Z extends i.Component{constructor(){var e;super(...arguments),e=this,(0,n.Z)(this,"_renderMenuItem",(function(t){let{addOn:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{onNewPriorityClick:n}=e.props,{title:r,description:a,iconMobile:o}=p.Pr[t];return i.createElement(U.k,{key:t,onClick:()=>{n(t)}},i.createElement(o,{importance:"secondary",style:{alignSelf:"flex-start"}}),i.createElement("div",null,i.createElement("div",{className:"LeoSelectorDrawer__item-title"},r,s&&i.createElement("span",{className:"badge accent small m-l-1"},"add-on")),a&&i.createElement(x.x,{color:"tertiary",size:"smallest",tagName:"div"},a)))}))}render(){const{hideSecurityOption:e,onCloseDrawer:t}=this.props;return i.createElement(z.d,{onClose:t},i.createElement("div",{className:"form"},i.createElement("div",{className:"field m-b-0"},i.createElement("label",null,"What would you like to prioritize?"),i.createElement(F,{hideSecurityOption:e,menuItemRenderer:this._renderMenuItem}))))}}Z.propTypes={hideSecurityOption:a().bool,onCloseDrawer:a().func.isRequired,onNewPriorityClick:a().func.isRequired},Z.defaultProps={hideSecurityOption:!1};var B=s(11459),H=s(58074),Y=s(23005),W=s(41260);function q(e){let{entries:t,isLeoPreview:s,loading:n,noEntriesText:r,previewLayers:a,streamVersion:o}=e;return n||!t?i.createElement("div",{className:"EntryList__loading"},i.createElement(Y.g,{details:"examples"})):t.length?i.createElement(H.f,{key:"entryList",className:"ExampleEntryList p-l-0",entryRenderer:W.y,entries:t,layout:B.Ar.magazine,hasAllEntries:!1,hideAuthor:!0,hideBoardLabel:!0,hideMeme:!0,highlightKeywords:!0,isLeoPreview:s,isLoading:!1,previewLayers:a,showSourceTitle:!0,streamVersion:o}):i.createElement(x.x,{className:"p-l-2 m-t-0"},r)}q.propTypes={entries:a().arrayOf(a().object),isLeoPreview:a().bool,loading:a().bool,noEntriesText:a().string,previewLayers:a().arrayOf(a().object),streamVersion:a().number},q.defaultProps={entries:[],isLeoPreview:!1,loading:!1,noEntriesText:"Sorry, no articles were found.",previewLayers:[],streamVersion:0};const V=(0,g.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7.5a.5.5 0 0 1 .5-.5h4.793a.5.5 0 1 1 0 1H2.5a.5.5 0 0 1-.5-.5ZM2 11.667a.5.5 0 0 1 .5-.5h4.793a.5.5 0 1 1 0 1H2.5a.5.5 0 0 1-.5-.5ZM2 15.833a.5.5 0 0 1 .5-.5h10.271a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5ZM2 3.333a.5.5 0 0 1 .5-.5h10.271a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5ZM13.214 7.167A2.71 2.71 0 0 0 10.5 9.873a2.71 2.71 0 0 0 2.714 2.707 2.708 2.708 0 0 0 2.715-2.707 2.71 2.71 0 0 0-2.715-2.706ZM9.5 9.873a3.71 3.71 0 0 1 3.714-3.706 3.71 3.71 0 0 1 3.715 3.706c0 .848-.286 1.63-.766 2.254l1.69 1.686a.5.5 0 1 1-.706.708l-1.694-1.69a3.705 3.705 0 0 1-2.239.748A3.71 3.71 0 0 1 9.5 9.873Z",fill:"currentColor"}))}));const Q=(0,g.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 11.667a.5.5 0 0 1 .5-.5h4.793a.5.5 0 1 1 0 1H2.5a.5.5 0 0 1-.5-.5ZM2 15.833a.5.5 0 0 1 .5-.5h10.271a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5ZM13.214 7.167A2.71 2.71 0 0 0 10.5 9.873a2.71 2.71 0 0 0 2.714 2.707 2.708 2.708 0 0 0 2.715-2.707 2.71 2.71 0 0 0-2.715-2.706ZM9.5 9.873a3.71 3.71 0 0 1 3.714-3.706 3.71 3.71 0 0 1 3.715 3.706c0 .848-.286 1.63-.766 2.254l1.69 1.686a.5.5 0 1 1-.706.708l-1.694-1.69a3.705 3.705 0 0 1-2.239.748A3.71 3.71 0 0 1 9.5 9.873ZM3 3.428v.322a.5.5 0 0 1-1 0v-.364c0-.287.136-.54.34-.713.202-.17.46-.256.716-.256H8.61c.255 0 .513.085.715.256.205.172.34.426.34.713v.364a.5.5 0 0 1-1 0v-.322a.138.138 0 0 0-.055-.01H3.056a.138.138 0 0 0-.056.01Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.833 2.833a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-5a.5.5 0 0 1 .5-.5Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.333a.5.5 0 0 1 .5-.5h1.667a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5Z",fill:"currentColor"}))}));var G=s(11505),K=s(97090),J=s(16064),X=s(72406);class $ extends i.Component{constructor(){super(),(0,n.Z)(this,"_onClose",(()=>{this.drawer&&this.drawer.current&&this.drawer.current.close()})),(0,n.Z)(this,"_onConfirmClick",(async()=>{await this.props.onClick(),this._onClose()})),this.drawer=i.createRef()}render(){const{actionColor:e,actionLabel:t,body:s,description:n,isLoading:r,onCloseDrawer:a,title:o}=this.props;return i.createElement(z.d,{onClose:a,ref:this.drawer},i.createElement("div",{className:"Drawer__header"},o),n&&i.createElement("p",{className:"m-a-0"},n),s,i.createElement(M.z,{className:"full-width m-b-h m-t-1",color:e,loading:r,label:t,onClick:this._onConfirmClick}),i.createElement(M.z,{className:"full-width",importance:"secondary",label:"Cancel",onClick:this._onClose}))}}$.propTypes={actionLabel:a().string.isRequired,actionColor:a().string,body:a().element,description:a().string,isLoading:a().bool,onClick:a().func.isRequired,onCloseDrawer:a().func,title:a().string.isRequired},$.defaultProps={actionColor:"accent",body:null,description:"",isLoading:!1,onCloseDrawer:()=>{}};var ee=s(39895),te=s(88591),se=s(42142);function ne(e){let{onClose:t,onSalienceChange:s,salience:n}=e;const r=n===p.mb.about,a=i.createElement(ee.Z,{className:"SalienceDrawer__icon m-x-1",color:"accent"});return i.createElement(z.d,{className:"SalienceDrawer",onClose:t},i.createElement(se.O,null,"Matching"),i.createElement(te.v,{className:"SalienceDrawer__menu"},i.createElement(U.k,{className:"SalienceDrawer__menu-item",onClick:()=>{s(p.mb.mention)}},i.createElement(V,{className:"SalienceDrawer__icon m-r-1",importance:r?"secondary":void 0,color:r?"black":"accent"}),i.createElement(x.x,{className:P()("SalienceDrawer__menu-item-label",{"SalienceDrawer__menu-item-label--active":!r}),color:"primary",size:"small",tagName:"span"},"Everything"),!r&&a),i.createElement(U.k,{className:"SalienceDrawer__menu-item",onClick:()=>{s(p.mb.about)}},i.createElement(Q,{className:"SalienceDrawer__icon m-r-1",importance:r?void 0:"secondary",color:r?"accent":"black"}),i.createElement(x.x,{className:P()("SalienceDrawer__menu-item-label",{"SalienceDrawer__menu-item-label--active":r}),color:"primary",size:"small",tagName:"span"},"Title only"),r&&a)))}ne.propTypes={onClose:a().func.isRequired,onSalienceChange:a().func.isRequired,salience:a().string.isRequired};s(77618);class ie extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderParts",(()=>{const{isLoadingEntityInfo:e,onChangeMatchType:t,onDeletePart:s,parts:n,salience:r,type:a}=this.props,o=r===p.mb.mention?V:Q;return i.createElement(i.Fragment,null,i.createElement(X.j,{className:"PriorityLayer__chip-list"},n.map(((n,r)=>i.createElement(J.K,{key:"string"==typeof n?n:n.id||n.text,isLoadingEntityInfo:e,onChangeMatchType:e=>{t(r,e)},onDeletePart:s,part:n,type:a}))),this._renderOrButton()),i.createElement("div",{className:"PriorityLayer__actions-container m-t-t"},i.createElement(o,{className:"m-r-3",importance:"secondary",onClick:this._onSalienceClick}),i.createElement(G.Z,{importance:"secondary",onClick:this._onDeleteClick})))})),(0,n.Z)(this,"_renderDeleteLayerDrawer",(()=>i.createElement($,{actionColor:"danger",actionLabel:"Yes, delete",description:"This is permanent and can't be undone.",onCloseDrawer:this._onCloseDeleteDrawer,title:"Delete layer?",onClick:this._onDeleteConfirmClick,onClose:this._onCloseDeleteDrawer}))),(0,n.Z)(this,"_renderSalienceDrawer",(()=>{const{salience:e}=this.props;return i.createElement(ne,{onClose:this._onCloseSalienceDrawer,onSalienceChange:this._onSalienceChange,salience:e})})),(0,n.Z)(this,"_onCloseDeleteDrawer",(()=>{this.setState({isDeleteDrawerOpen:!1})})),(0,n.Z)(this,"_onCloseSalienceDrawer",(()=>{this.setState({isSalienceDrawerOpen:!1})})),(0,n.Z)(this,"_onDeleteClick",(()=>{this.setState({isDeleteDrawerOpen:!0})})),(0,n.Z)(this,"_onDeleteConfirmClick",(()=>{this.setState({isDeleteDrawerOpen:!1});const{onDelete:e}=this.props;e()})),(0,n.Z)(this,"_onSalienceClick",(()=>{this.setState((e=>{let{isSalienceDrawerOpen:t}=e;return{isSalienceDrawerOpen:!t}}))})),(0,n.Z)(this,"_onSalienceChange",(e=>{const{onSalienceChange:t}=this.props;t(e),this._onCloseSalienceDrawer()})),this.state={isDeleteDrawerOpen:!1,isSalienceDrawerOpen:!1}}render(){const{isDeleteDrawerOpen:e,isSalienceDrawerOpen:t}=this.state;return i.createElement("div",{className:"PriorityLayer"},this._renderParts(),t&&this._renderSalienceDrawer(),e&&this._renderDeleteLayerDrawer())}_renderOrButton(){const{onNewPartClick:e,parts:t,type:s}=this.props;return s===p.ur.security&&t.length===p.BU.length?null:i.createElement(M.z,{className:"p-l-h m-b-t",color:"accent",icon:i.createElement(b.Z,{color:"accent"}),importance:"tertiary",label:"OR",onClick:e,title:p.bL[s]})}}ie.propTypes={isLoadingEntityInfo:a().bool,onChangeMatchType:a().func.isRequired,onDelete:a().func.isRequired,onDeletePart:a().func.isRequired,onNewPartClick:a().func.isRequired,onSalienceChange:a().func.isRequired,parts:a().arrayOf(K.G$),salience:a().oneOf(Object.keys(p.mb)).isRequired,type:a().oneOf(Object.keys(p.ur)).isRequired},ie.defaultProps={isLoadingEntityInfo:!1,parts:[]};const re=(0,g.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M6.327 8.898a.75.75 0 0 1 .976-.072l.084.072L12 13.511l4.613-4.613a.75.75 0 0 1 .976-.072l.084.072a.75.75 0 0 1 .073.977l-.073.084-5.143 5.143a.75.75 0 0 1-.976.072l-.084-.072-5.143-5.143a.75.75 0 0 1 0-1.06Z",fill:"currentColor",fillRule:"nonzero"}))}));function ae(e){let{onClick:t,placeholder:s,selectedValue:n,className:r,iconComponent:a}=e;const o=P()("MobileSelect__value",{"MobileSelect__value--empty":!n});return i.createElement("div",{className:P()("MobileSelect DeluxeTextInput__TextInput",r),onClick:t},i.createElement("div",{className:o},a&&i.createElement(a,{className:"MobileSelect__icon",importance:"secondary"}),n||s),i.createElement("div",{className:"MobileSelect__arrow"},i.createElement(re,{importance:"tertiary"})))}ae.propTypes={className:a().string,iconComponent:a().elementType,onClick:a().func,placeholder:a().string,selectedValue:a().string},ae.defaultProps={className:void 0,iconComponent:void 0,onClick:()=>{},placeholder:"none",selectedValue:""};class oe extends i.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_renderHeader",(()=>{const{isSaving:e,label:t,labelError:s,needsLabel:n,onCancel:r,pageManager:a,restrictedEnterpriseParts:o,submitLabel:l,title:c}=this.props;return i.createElement(O,{pageManager:a},i.createElement(w.D,{actionsRight:i.createElement(M.z,{key:"submit",color:!n||t?"accent":"black",importance:"tertiary",label:l,onClick:this._onSubmit,loading:e,disabled:e||n&&!t||o.length>0||!!s}),actionsLeft:i.createElement(M.z,{key:"cancel",importance:"tertiary",label:"Cancel",onClick:r}),title:c,titleAlign:"center"}))})),(0,n.Z)(this,"_renderTitle",(e=>i.createElement(S.H2,{appearance:"h4",className:"PriorityForm__heading"},e))),(0,n.Z)(this,"_renderLayerSelector",(()=>{const{isTrainLeoDrawerOpen:e}=this.state,{hasSecurityLayer:t}=this.props;return e&&i.createElement(Z,{hideSecurityOption:t,onCloseDrawer:this._onCloseTrainLeoDrawer,onNewPriorityClick:this._onNewLeoOptionSelect})})),(0,n.Z)(this,"_renderFolderSelector",(()=>{const{streamId:e,streamLabel:t}=this.props,{isAll:s}=(0,o.Yg)(e);return i.createElement(i.Fragment,null,this._renderTitle("Folder"),i.createElement(ae,{className:"PriorityForm__input",iconComponent:s?f:y,selectedValue:t,onClick:this._onOpenCollectionSelector}))})),(0,n.Z)(this,"_renderNotLayers",(()=>{const{isLoadingEntityInfo:e,notLayers:t,onChangeMatchType:s,onLayerDelete:n,onLayerDeletePart:r,onSalienceChange:a}=this.props;return t.map(((t,o)=>{let{parts:l,salience:c,type:d}=t;return i.createElement("div",{key:o,className:"PriorityForm__not-layer"},i.createElement(S.H2,{appearance:"h4",className:"PriorityForm__heading m-t-0"},"Excluding"),i.createElement(ie,{isLoadingEntityInfo:e,onChangeMatchType:(e,t)=>{s(o,e,p.ti.notLayers,t)},onDelete:()=>{n(o,p.ti.notLayers)},onDeletePart:e=>r(o,e,p.ti.notLayers),onNewPartClick:()=>{this._onNewPartClick(d,o,{matchesLayerType:p.ti.notLayers})},onSalienceChange:e=>{a(o,e,p.ti.notLayers)},parts:l,salience:c,type:d}))}))})),(0,n.Z)(this,"_onAddNotLayer",(async()=>{const{askAddNotLayer:e}=this.props;await e();const{notLayers:t}=this.props;this._onNewPartClick(p.ur.matches,t.length-1,{matchesLayerType:p.ti.notLayers})})),(0,n.Z)(this,"_onOpenCollectionSelector",(()=>{const{onCollectionChange:e}=this.props;this.tabsManager.askOpenNewPage("selectCollection",{helperPage:!0,props:{onCollectionSelect:e,showTeamCollections:streets.hasAdminBusinessAccess(),showPersonalCollections:!0,hasAllOption:!0}})})),(0,n.Z)(this,"_onNewLeoOptionSelect",(async e=>{const{askNewLeoOptionSelect:t}=this.props;await t(e);const{layers:s}=this.props,{defaultPart:n}=p.Pr[e];n||this._onNewPartClick(e,s.length-1),this._onCloseTrainLeoDrawer()})),(0,n.Z)(this,"_onNewPartClick",(function(e,s){let{openSecuritySelector:n=!0,matchesLayerType:i=p.ti.layers}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{layers:r,onLayerAddPart:a,onLayerDelete:l,streamId:c}=t.props,{isEnterprise:d}=(0,o.Yg)(c),{layerType:h,searchHint:u}=p.Pr[e];h===p.ur.matches?t.tabsManager.askOpenNewPage("SelectLeoTopic",{helperPage:!0,props:{isPriority:!0,onSelectLeoTopic:e=>{e?a(s,e,i):t._isEmpty(r[s])&&l(s,i),t.tabsManager.askBack()},selectedParts:r[s].parts,searchHint:r[s].searchHint||u,streamId:c}}):h===p.ur.likeBoard?t.tabsManager.askOpenNewPage("SelectTag",{helperPage:!0,props:{isTeam:d,onTagSelect:e=>{e?a(s,e,i):t._isEmpty(r[s])&&l(s,i),t.tabsManager.askBack()}}}):h===p.ur.security&&n&&t.tabsManager.askOpenNewPage("SelectSecuritySeverity",{helperPage:!0,props:{onSeveritySelect:e=>{e?a(s,e,i):t._isEmpty(r[s])&&l(s,i),t.tabsManager.askBack()},selectedParts:r[s].parts}})})),(0,n.Z)(this,"_onSubmit",(()=>{const{getAPIData:e,layers:t,onSubmit:s}=this.props;t.some((e=>e.parts&&e.parts.length))?s(e()):this.setState({formError:"Please choose at least one thing for Leo to prioritize"})})),(0,n.Z)(this,"_onOpenTrainLeoDrawer",(()=>{this.setState({isTrainLeoDrawerOpen:!0})})),(0,n.Z)(this,"_onCloseTrainLeoDrawer",(()=>{this.setState({isTrainLeoDrawerOpen:!1})})),this.state={formError:"",isTrainLeoDrawerOpen:!1}}componentDidMount(){const{isUpdateMode:e,layers:t}=this.props;this.tabsManager=streets.service("tabsManager"),e||t.length||this._onOpenTrainLeoDrawer()}componentDidUpdate(e){const{isTrainLeoDrawerOpen:t}=this.state,{layers:s}=this.props;e.layers.length===s.length||0!==s.length||t||this._onOpenTrainLeoDrawer(),e.layers!==s&&this.setState({formError:""})}componentWillUnmount(){this.tabsManager=null}render(){const{formError:e}=this.state,{isLoadingEntityInfo:t,layers:s,label:n,labelError:r,needsLabel:a,notLayers:o,onChangeMatchType:l,onLabelChange:c,onLayerDelete:d,onLayerDeletePart:h,onSalienceChange:u,restrictedEnterpriseParts:m,streamId:g,title:f}=this.props;return s.length?i.createElement(i.Fragment,null,this._renderHeader(),i.createElement("div",{className:"PriorityForm Page Page--white"},this._renderFolderSelector(),g&&i.createElement(i.Fragment,null,this._renderTitle("Prioritize"),s.map(((e,s)=>{let{parts:n,salience:r,type:a}=e;return i.createElement(i.Fragment,{key:s},s>0&&i.createElement(i.Fragment,null,i.createElement("div",{className:"PriorityForm__conjunction-separator"}),i.createElement("div",{className:"PriorityForm__conjunction-container"},i.createElement(x.x,{className:"PriorityForm__conjunction",size:"smaller",tagName:"span"},"AND"))),i.createElement(ie,{isLoadingEntityInfo:t,onChangeMatchType:(e,t)=>{l(s,e,p.ti.layers,t)},onDelete:()=>{d(s,p.ti.layers)},onDeletePart:e=>{h(s,e,p.ti.layers)},onNewPartClick:()=>{this._onNewPartClick(a,s)},onSalienceChange:e=>{u(s,e,p.ti.layers)},parts:n,salience:r,type:a}))})),i.createElement("div",{className:"PriorityForm__selector-line"}),i.createElement(k.O,{andButton:i.createElement(M.z,{color:"accent",className:"PriorityForm__selector-button m-x-0 m-b-1",icon:i.createElement(b.Z,{color:"accent"}),importance:"tertiary",label:"AND",onClick:this._onOpenTrainLeoDrawer}),notButton:!o.length&&s.length>0?i.createElement(M.z,{className:"PriorityForm__selector-button m-x-0 m-b-1 p-l-2",color:"accent",icon:i.createElement(E.Z,{color:"accent"}),importance:"tertiary",label:"NOT",onClick:this._onAddNotLayer}):null}),this._renderLayerSelector()),this._renderNotLayers(),this._renderEnterpriseFeaturePrompt(),a&&0===m.length&&i.createElement(i.Fragment,null,i.createElement(S.H2,{appearance:"h4",className:"PriorityForm__heading m-t-0"},"Priority Name"),i.createElement(R.A,{className:"PriorityForm__input",error:r,onChange:c,placeholder:"e.g. Tesla",value:n})),e&&i.createElement("div",{className:"m-l-2 message error"},e),s.length>0&&this._renderPreview())):i.createElement("div",null,this._renderHeader(),i.createElement("div",{className:"PriorityForm Page Page--white"},this._renderFolderSelector(),this._renderTitle(f),this._renderLayerSelector(),i.createElement(M.z,{className:"PriorityForm__new-layer is-centered-block",icon:i.createElement(v.Z,{importance:"tertiary"}),importance:"secondary",onClick:this._onOpenTrainLeoDrawer,rounded:!0}),this._renderNotLayers(),e&&i.createElement("div",{className:"m-l-2 message error"},e)))}_renderEnterpriseFeaturePrompt(){const{restrictedEnterpriseParts:e}=this.props;if(!e.length)return null;const t=e[0],s=(0,h.Td)(t),n="string"==typeof t?"The Security Threat Skill":t.label,r="string"==typeof t?"LeoSecurity":t.enterpriseFeatures[0],a=i.createElement(i.Fragment,null,s?"The ".concat(s):""," ",i.createElement("b",{className:"color-primary"},n)," is part of the"," ",(0,C.g$)(r)," package.");return i.createElement(_.X,{description:a,feature:r})}_renderPreview(){const{entries:e,getAPIData:t,isLoadingPreview:s,previewError:n,streamVersion:r}=this.props;let a;if(n)a=i.createElement("div",{className:"m-l-2"},"Preview failed because: ",n);else if(e||s){const n=t();a=i.createElement(q,{entries:e,isLeoPreview:!0,loading:s,noEntriesText:"No matching articles yet.",previewLayers:n.layers,streamVersion:r})}return a?i.createElement(i.Fragment,null,i.createElement(S.H2,{appearance:"h4",className:"PriorityForm__heading"},"Preview"),a):null}_isEmpty(e){return!e.parts||!e.parts.length}}oe.propTypes={askAddNotLayer:a().func.isRequired,askNewLeoOptionSelect:a().func.isRequired,entries:a().arrayOf(a().object),getAPIData:a().func.isRequired,hasSecurityLayer:a().bool.isRequired,isLoadingEntityInfo:a().bool,isLoadingPreview:a().bool.isRequired,isSaving:a().bool.isRequired,isUpdateMode:a().bool.isRequired,label:a().string,labelError:a().string,layers:a().arrayOf(a().object),needsLabel:a().bool.isRequired,notLayers:a().arrayOf(a().object),onCancel:a().func.isRequired,onChangeMatchType:a().func.isRequired,onCollectionChange:a().func.isRequired,onLabelChange:a().func.isRequired,onLayerAddPart:a().func.isRequired,onLayerDelete:a().func.isRequired,onLayerDeletePart:a().func.isRequired,onSalienceChange:a().func.isRequired,onSubmit:a().func.isRequired,pageManager:a().shape({askClose:a().func}).isRequired,previewError:a().string,restrictedEnterpriseParts:a().arrayOf(a().oneOfType([a().object,a().string])),streamId:a().string,streamLabel:a().string,streamVersion:a().number.isRequired,submitLabel:a().string.isRequired,title:a().string.isRequired},oe.defaultProps={entries:null,isLoadingEntityInfo:!1,label:"",labelError:"",layers:null,notLayers:null,previewError:"",restrictedEnterpriseParts:null,streamId:"",streamLabel:""};const le=(0,g.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M12.006 3.86a.5.5 0 0 1 .492.41l.008.09v15.3a.5.5 0 0 1-.992.089l-.008-.09V4.36a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"M19.64 11.523a.5.5 0 0 1 .09.992l-.09.008H4.377a.5.5 0 0 1-.09-.992l.09-.008h15.261Z"})))}));var ce=s(57993),de=s(49616),he=s(1542),ue=s(65940),pe=s(68620),me=s(7294),ge=s(81501),fe=s(52741),ye=s(13183);class ve extends i.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_renderButtons",(()=>{const{hasPendingChanges:e,isMaxEnterprisePriorities:t,isMaxPersonalPriorities:s,isSaving:n,isUpdateMode:r,labelError:a,onCancel:o,restrictedEnterpriseParts:l,streamId:c,submitLabel:d}=this.props,{formError:h}=this.state,u=t||s,p=[i.createElement(M.z,{disabled:n||!e||!c||!!a||!!l.length||u,key:"submit",label:d,loading:n,onClick:this._onSubmit}),i.createElement(M.z,{importance:"secondary",key:"cancel",label:"Cancel",onClick:o})];return i.createElement(ge.L,{scrollParent:".floatingEntryScroller",target:r?".DeluxeTextInput":".PriorityOptionSelector"},(e=>{let{isSticky:t}=e;return i.createElement(i.Fragment,null,p,h&&i.createElement("div",{className:"message error"},h),t&&i.createElement(ue.m,{actions:p,compact:t,sticky:!0,title:r?"Update priority":"Create priority"}))}))})),(0,n.Z)(this,"_renderTitle",(e=>i.createElement(S.H2,{light:!0},e))),(0,n.Z)(this,"_renderLayerSelector",(function(){let{isFullLineAnd:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{askAddNotLayer:s,askNewLeoOptionSelect:n,hasSecurityLayer:r,layers:a,notLayers:o}=t.props;let l;return l=e?i.createElement(M.z,{className:"PriorityForm__selector-button m-x-0 m-b-1",color:"accent",icon:i.createElement(b.Z,{color:"accent"}),importance:"tertiary",label:"AND"}):i.createElement(M.z,{icon:i.createElement(le,{importance:"tertiary"}),importance:"secondary",rounded:!0,size:"large"}),i.createElement(i.Fragment,null,e&&i.createElement("div",{className:"PriorityForm__selector-line"}),i.createElement(k.O,{andButton:i.createElement(ye.h,{button:l,hideSecurityOption:r,onSelect:n,tagName:e?"div":"span"}),notButton:!o.length&&a.length>0?i.createElement(M.z,{className:"PriorityForm__selector-button m-x-0 m-b-1",color:"accent",icon:i.createElement(E.Z,{color:"accent"}),importance:"tertiary",label:"NOT",onClick:s}):null}))})),(0,n.Z)(this,"_renderNotLayers",(()=>{const{onChangeMatchType:e,onLayerAddPart:t,onLayerDelete:s,onLayerDeletePart:n,onSalienceChange:r,notLayers:a,streamId:o}=this.props;return a.map(((a,l)=>{let{parts:c,salience:d,type:h}=a;return i.createElement("div",{key:l,className:"m-b-2"},i.createElement(S.H2,{className:"m-t-0",light:!0},"Excluding"),i.createElement(fe.e,{onAddPart:e=>{t(l,e,p.ti.notLayers)},onChangeMatchType:(t,s)=>{e(l,t,p.ti.notLayers,s)},onDelete:()=>{s(l,p.ti.notLayers)},onDeletePart:e=>n(l,e,p.ti.notLayers),onSalienceChange:e=>{r(l,e,p.ti.notLayers)},parts:c,salience:d,streamId:o,type:h}))}))})),(0,n.Z)(this,"_cancelCloseSlider",(()=>{this.setState({isConfirmExitModalOpen:!1}),this._resolveExit(!0)})),(0,n.Z)(this,"_closeSlider",(()=>{this._onCloseConfirmExitModal(),this._resolveExit()})),(0,n.Z)(this,"_onCloseConfirmExitModal",(()=>{this.setState({isConfirmExitModalOpen:!1})})),(0,n.Z)(this,"_onOpenConfirmExitModal",(()=>{this.setState({isConfirmExitModalOpen:!0})})),(0,n.Z)(this,"_onSubmit",(()=>{const{getAPIData:e,label:t,layers:s,onSubmit:n,needsLabel:i}=this.props;s.some((e=>e.parts&&e.parts.length))?i&&!t?(this.setState({formError:"Please provide a name"}),this._onCloseConfirmExitModal()):n(e()):(this.setState({formError:"Please choose at least one thing for Leo to prioritize"}),this._onCloseConfirmExitModal())})),this.leo=streets.service("leo"),this._showCollectionSelect=!e.streamId||e.isUpdateMode,this.state={formError:"",isConfirmExitModalOpen:!1}}componentDidUpdate(e){const{label:t,layers:s}=this.props;e.layers===s&&e.label===t||this.setState({formError:""})}componentWillUnmount(){this.leo=null,this._resolveExit=null}askConfirmExit(){const{hasPendingChanges:e}=this.props;return new Promise((t=>{e?(this._resolveExit=t,this._onOpenConfirmExitModal()):t()}))}render(){const{hasPendingChanges:e,initialTopicQuery:t,isLoadingEntityInfo:s,label:n,labelError:r,layers:a,onChangeMatchType:l,onCollectionChange:c,onLabelChange:d,onLayerAddPart:h,onLayerDelete:u,onLayerDeletePart:m,onSalienceChange:g,needsLabel:f,notLayers:y,restrictedEnterpriseParts:v,title:b,streamId:E}=this.props;if(!this._showCollectionSelect&&!a.length)return i.createElement("div",{className:"PriorityForm"},this._renderTitle(b),this._renderLayerSelector(),this._renderConfirmExitModal(),i.createElement("div",{className:"m-t-2"},this._renderNotLayers(),this._renderUpgradePrompt(),y.length>0&&this._renderButtons()));let C=0;const{isEnterprise:w}=(0,o.Yg)(E);return i.createElement("div",{className:"PriorityForm form"},this._showCollectionSelect&&i.createElement(i.Fragment,null,this._renderTitle("In which folder?"),i.createElement(de.T,{className:P()({"m-b-2":!E}),selected:E,onSelect:c,showPersonal:!0,showAll:!0,showTeam:streets.hasAdminBusinessAccess()})),E&&i.createElement(i.Fragment,null,this._renderTitle(b),a.map(((e,n)=>{let{parts:r,salience:a,type:o,searchHint:c}=e;C+=r.length;let d=[];switch(o){case p.ur.likeBoard:d=this.leo.listCachedTagSuggestions(E);break;case p.ur.matches:d=this.leo.listCachedPartSuggestions(E)}return i.createElement(i.Fragment,{key:n},n>0&&i.createElement(i.Fragment,null,i.createElement("div",{className:"PriorityForm__conjunction-separator"}),i.createElement("div",{className:"PriorityForm__conjunction-container"},i.createElement(x.x,{className:"PriorityForm__conjunction",size:"smaller",tagName:"span"},"AND"))),i.createElement(fe.e,{initialTopicQuery:t,isLoadingEntityInfo:s,isTeam:w,onChangeMatchType:(e,t)=>{l(n,e,p.ti.layers,t)},onDelete:()=>{u(n,p.ti.layers)},onDeletePart:e=>{m(n,e,p.ti.layers)},onAddPart:e=>{h(n,e,p.ti.layers)},onSalienceChange:e=>{g(n,e,p.ti.layers)},parts:r,salience:a,streamId:E,suggestions:d,searchHint:c,type:o}))})),this._renderLayerSelector({isFullLineAnd:!0}),this._renderNotLayers()),(C>0||e)&&i.createElement(i.Fragment,null,f&&0===v.length&&i.createElement("div",{className:"form m-b-2"},i.createElement(S.H2,{className:y.length?"m-t-2":"m-t-1",light:!0},"What do you want to name this priority?"),i.createElement(R.A,{className:"PriorityForm__input",error:r,onChange:d,value:n})),i.createElement("div",{className:"m-b-2 m-t-1"},this._renderUpgradePrompt(),this._renderButtons())),a.length>0&&this._renderPreview(),this._renderConfirmExitModal())}_renderEnterpriseFeaturePrompt(){const{restrictedEnterpriseParts:e}=this.props,t=e[0],s=(0,h.Td)(t),n="string"==typeof t?"The Security Threat Skill":t.label,r="string"==typeof t?"LeoSecurity":t.enterpriseFeatures[0],a=i.createElement(i.Fragment,null,s?"The ".concat(s):""," ",i.createElement("b",{className:"color-primary"},n)," is part of the"," ",(0,C.g$)(r)," package.");return i.createElement(_.X,{description:a,feature:r})}_renderPreview(){const{entries:e,getAPIData:t,isLoadingPreview:s,previewError:n,streamVersion:r}=this.props;let a;if(n)a=i.createElement("div",null,"Preview failed because: ",n);else if(e||s){const n=t();a=i.createElement(he.c,{entries:e,isLeoPreview:!0,loading:s,noEntriesText:"No matching articles yet.",previewLayers:n.layers,streamVersion:r})}return a?i.createElement("div",null,i.createElement(S.H2,{appearance:"h4"},"Preview"),a):null}_renderConfirmExitModal(){const{isConfirmExitModalOpen:e}=this.state,{confirmExitHeaderText:t,confirmExitBodyText:s,isSaving:n,restrictedEnterpriseParts:r}=this.props;return e?r.length?i.createElement(pe.c,{description:"Your changes will be lost if you close this screen.",isLoading:n,onCancel:this._closeSlider,onSuccess:this._cancelCloseSlider,cancelLabel:"Discard",small:!0,successColor:"accent",successLabel:"Keep Editing",title:"Continue Editing?"}):i.createElement(pe.c,{description:s,isLoading:n,onCancel:this._closeSlider,onSuccess:this._onSubmit,cancelLabel:"Discard",small:!0,successLabel:"Save Changes",title:t}):null}_renderUpgradePrompt(){const{hasLeoFeedsLimit:e,isMaxEnterprisePriorities:t,isMaxPersonalPriorities:s,restrictedEnterpriseParts:n}=this.props;return s||t?i.createElement(me.o,{feature:e?"leoFeeds":"priorities",type:s?ce.s.personal:ce.s.team}):n.length?this._renderEnterpriseFeaturePrompt():null}}ve.propTypes={askAddNotLayer:a().func.isRequired,askNewLeoOptionSelect:a().func.isRequired,confirmExitBodyText:a().string.isRequired,confirmExitHeaderText:a().string.isRequired,entries:a().arrayOf(a().object),getAPIData:a().func.isRequired,hasLeoFeedsLimit:a().bool.isRequired,hasPendingChanges:a().bool.isRequired,hasSecurityLayer:a().bool.isRequired,initialTopicQuery:a().string,isLoadingEntityInfo:a().bool,isLoadingPreview:a().bool.isRequired,isMaxEnterprisePriorities:a().bool,isMaxPersonalPriorities:a().bool,isSaving:a().bool.isRequired,isUpdateMode:a().bool.isRequired,label:a().string,labelError:a().string,layers:a().arrayOf(a().object),needsLabel:a().bool.isRequired,notLayers:a().arrayOf(a().object),onCancel:a().func.isRequired,onChangeMatchType:a().func.isRequired,onCollectionChange:a().func.isRequired,onLabelChange:a().func.isRequired,onLayerAddPart:a().func.isRequired,onLayerDelete:a().func.isRequired,onLayerDeletePart:a().func.isRequired,onSalienceChange:a().func.isRequired,onSubmit:a().func.isRequired,previewError:a().string,restrictedEnterpriseParts:a().arrayOf(a().oneOfType([a().object,a().string])),streamId:a().string,streamVersion:a().number.isRequired,submitLabel:a().string.isRequired,title:a().string.isRequired},ve.defaultProps={entries:null,initialTopicQuery:"",isLoadingEntityInfo:!1,isMaxEnterprisePriorities:!1,isMaxPersonalPriorities:!1,label:"",labelError:"",layers:[],notLayers:[],previewError:"",restrictedEnterpriseParts:null,streamId:""};const be="id",Ee="text";class Ce extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_askAddNotLayer",(()=>new Promise((e=>{this.setState((e=>{let{notLayers:t}=e;return{notLayers:[...t,{negate:!0,parts:[],salience:p.mb.mention,type:p.ur.matches}]}}),e)})))),(0,n.Z)(this,"_askNewLeoOptionSelect",(e=>{const{layerType:t,defaultPart:s,searchHint:n}=p.Pr[e];return new Promise((e=>{this.setState((e=>{let{hasPendingChanges:i,layers:r}=e;return{hasPendingChanges:!!s||i,layers:[...r,{parts:s?[s]:[],salience:p.mb.mention,searchHint:n,type:t}]}}),(()=>{s&&(this._updateEntries(),this._updateEnterprisePartRestrictions()),e()}))}))})),(0,n.Z)(this,"_getAPIData",(()=>{const{initialPriority:e={}}=this.props,{layers:t,notLayers:s,streamId:n}=this.state;let{label:i}=this.state;this._needsLabel()||(i=t[0].parts[0]?t[0].parts[0].label||t[0].parts[0].text:null);return{...e,...n?{streamIds:[n]}:{},label:i,layers:[...t,...s].filter((e=>e.parts.length)).map((e=>({...e,parts:e.parts.map((e=>e.convertToKeyword?{text:e.suggestText||e.label}:e))}))).map((e=>{let{negate:t,parts:s,salience:n=p.mb.mention,type:i}=e;return{negate:t,[p.y9[i]]:this._getLayerParts(s,i),type:i,...i===p.ur.matches?{salience:n}:{}}}))}})),(0,n.Z)(this,"_hasSecurityLayer",(()=>{const{layers:e}=this.state;return e.some((e=>{let{type:t}=e;return t===p.ur.security}))})),(0,n.Z)(this,"_isMono",(()=>{const{layers:e,notLayers:t}=this.state;return!(e.length>1)&&((!e.length||!t.length)&&!(e[0]&&e[0].parts.length>1))})),(0,n.Z)(this,"_needsLabel",(()=>!this._isMono()||this.state.isUpdateMode||this._hasSecurityLayer())),(0,n.Z)(this,"_onChangeMatchType",((e,t,s,n)=>{this.setState((i=>{let{layers:r,notLayers:a}=i;const o=s===p.ti.layers?[...r]:[...a],l=[...o[e].parts],c={...l[t]};return c.convertToKeyword=n===d.m3.keyword,l[t]=c,o[e]={...o[e],parts:l},{hasPendingChanges:!0,[s]:o}}),this._updateEntries)})),(0,n.Z)(this,"_onCollectionChange",(e=>{let{streamId:t,label:s}=e;this.setState((e=>{let n,{layers:i,streamId:r}=e;if(t){const{isEnterprise:e}=(0,o.Yg)(r),{isEnterprise:s}=(0,o.Yg)(t);e!==s&&(n=i.map((e=>e.type===p.ur.likeBoard?{...e,parts:[]}:e)))}return{hasPendingChanges:!0,layers:n||i,streamId:t,streamLabel:s}}),this._updateEntries)})),(0,n.Z)(this,"_onLabelChange",(e=>{this.setState({hasPendingChanges:!0,label:e,labelError:(0,l.B)(e)?l.I:""})})),(0,n.Z)(this,"_onLayerAddPart",((e,t,s)=>{this.setState((n=>{let{layers:i,notLayers:r,restrictedEnterpriseParts:a}=n,o=s===p.ti.layers?[...i]:[...r];s===p.ti.notLayers&&0===o.length&&(o=[{negate:!0,parts:[],salience:p.mb.mention,type:p.ur.matches}]);const{parts:l}=o[e],d=[...l];return l.find((e=>(0,c.xF)(e,t)))||d.push(t),this._isRestrictedEnterpriseFeature(t)&&a.push(t),o[e]={...o[e],parts:d,searchHint:(0,h.Iz)(d,o[e].type)},{hasPendingChanges:!0,initialTopicQuery:"",[s]:o,restrictedEnterpriseParts:a}}),(()=>{this.forceUpdate(),this._updateEntries()}))})),(0,n.Z)(this,"_onLayerDelete",((e,t)=>{this.setState((s=>{let{layers:n,notLayers:i,restrictedEnterpriseParts:r}=s;const a=t===p.ti.layers?[...n]:[...i],o=a[e].parts.find((e=>this._isRestrictedEnterpriseFeature(e)));return a.splice(e,1),{hasPendingChanges:!0,restrictedEnterpriseParts:o?this._removeRestrictedPart(o):r,[t]:a}}),this._updateEntries)})),(0,n.Z)(this,"_onLayerDeletePart",((e,t,s)=>{this.setState((n=>{let{layers:i,notLayers:r}=n;const a=s===p.ti.layers?[...i]:[...r],o=a[e],l=o.parts.filter((e=>{if("string"==typeof t)return e!==t;const s=t.text?Ee:be;return e[s]!==t[s]}));return a[e]={...o,parts:l,searchHint:(0,h.Iz)(l,a[e].type)},{restrictedEnterpriseParts:this._removeRestrictedPart(t),hasPendingChanges:!0,[s]:a}}),this._updateEntries)})),(0,n.Z)(this,"_onSalienceChange",((e,t,s)=>{this.setState((n=>{let{layers:i,notLayers:r}=n;const a=s===p.ti.layers?[...i]:[...r];return a[e]={...a[e],salience:t},{hasPendingChanges:!0,[s]:a}}),this._updateEntries)}));const{initialPriority:{id:t,label:s="",layers:r=[],streamLabel:a}={},initialTopicQuery:u}=e;let{initialPriority:{streamIds:[g]=[]}={}}=e;this._priorityFormRef=i.createRef();const{layers:f,notLayers:y}=(0,m.Sc)(r);g&&g===(0,o.sX)()&&(g=(0,o.Gr)()),this.state={continuation:"",entries:null,hasPendingChanges:!t&&!!f.length,hasLeoSecurityFeature:!1,hasLeoFeedsLimit:!1,initialTopicQuery:u,isLoadingEntityInfo:!1,isLoadingPreview:!1,isUpdateMode:!!t,label:s,labelError:"",layers:f.map((e=>({type:e.type,parts:e[p.y9[e.type]],salience:e.salience,searchHint:e.searchHint}))),notLayers:y,previewError:null,restrictedEnterpriseParts:[],streamVersion:0,streamId:g,streamLabel:a}}componentDidMount(){this.leo=streets.service("leo"),this.reader=streets.service("reader"),this.leo.registerObserver(this);const{layers:e}=this.state;e.length&&this._updateLayerEntityInfo(),this._globalSearchCount=0,this._updateLeoInfo(),this._updateEntries()}componentWillUnmount(){this.leo.unregisterObserver(this),this._globalSearchCount=null,this.leo=null,this.reader=null,this._priorityFormRef=null}askConfirmExit(){return!this._priorityFormRef.current||this._priorityFormRef.current.askConfirmExit()}onTopicExcluded(e){this._onLayerAddPart(0,e,p.ti.notLayers)}render(){const{entries:e,hasPendingChanges:t,hasLeoFeedsLimit:s,initialTopicQuery:n,isLoadingEntityInfo:r,isLoadingPreview:a,isUpdateMode:o,label:l,labelError:c,layers:d,notLayers:h,previewError:u,restrictedEnterpriseParts:p,streamVersion:m,streamId:g,streamLabel:f}=this.state,{confirmExitBodyText:y,confirmExitHeaderText:v,isMaxEnterprisePriorities:b,isMaxPersonalPriorities:E,isSaving:C,onCancel:w,onSubmit:k,pageManager:_,submitLabel:M,title:S}=this.props;return i.createElement(ve,{askAddNotLayer:this._askAddNotLayer,askNewLeoOptionSelect:this._askNewLeoOptionSelect,confirmExitBodyText:y,confirmExitHeaderText:v,entries:e,getAPIData:this._getAPIData,hasLeoFeedsLimit:s,hasPendingChanges:t,hasSecurityLayer:this._hasSecurityLayer(),isLoadingEntityInfo:r,isLoadingPreview:a,initialTopicQuery:n,isMaxEnterprisePriorities:b,isMaxPersonalPriorities:E,isSaving:C,isUpdateMode:o,label:l,labelError:c,layers:d,needsLabel:this._needsLabel(),notLayers:h,onCancel:w,onChangeMatchType:this._onChangeMatchType,onCollectionChange:this._onCollectionChange,onLabelChange:this._onLabelChange,onLayerAddPart:this._onLayerAddPart,onLayerDelete:this._onLayerDelete,onLayerDeletePart:this._onLayerDeletePart,onSalienceChange:this._onSalienceChange,onSubmit:k,previewError:u,ref:this._priorityFormRef,restrictedEnterpriseParts:p,streamVersion:m,streamId:g,submitLabel:M,title:S})}_getLayerParts(e,t){return t===p.ur.likeBoard?e.map((e=>({id:e.id,label:e.label}))):e}_isRestrictedEnterpriseFeature(e){const{hasLeoSecurityFeature:t}=this.state;return p.BU.includes(e)&&!t||e.enterpriseFeatures&&e.enterpriseFeatures.length&&!streets.isEnterprisePlan()}_removeRestrictedPart(e){const{restrictedEnterpriseParts:t}=this.state;return t.filter((t=>{if("string"==typeof e)return t!==e;const s=e.text?Ee:be;return t[s]!==e[s]}))}async _updateEntries(){let{shouldResetEntries:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{continuation:t,entries:s,layers:n,streamId:i,streamVersion:r}=this.state;try{if(!i||!n.length||!n.find((e=>{let{parts:t}=e;return t.length})))return void this.setState({continuation:"",isLoadingPreview:!1,entries:null,streamVersion:r+1,previewError:null});this.setState({isLoadingPreview:!0,previewError:null});const a=this._getAPIData();a.id=void 0;const[o,l]=e?["",[]]:[t,s];this._globalSearchCount+=1;const c=this._globalSearchCount,{continuation:d,entries:h}=await this.reader.askPriorityPreview(a,o);if(this._globalSearchCount!==c)return;const p=[...l,...h],m=p.length<u.Xh&&!!d;this.setState({continuation:d,isLoadingPreview:m,entries:p.slice(0,u.Xh),streamVersion:r+1},(()=>{m&&this._updateEntries({shouldResetEntries:!1})}))}catch(a){this.setState({continuation:"",isLoadingPreview:!1,entries:[],streamVersion:r+1,previewError:a.message})}}async _updateLayerEntityInfo(){const{isUpdateMode:e,layers:t,notLayers:s}=this.state;this.setState({isLoadingEntityInfo:!0});const n=await Promise.all([...t,...s].map((async t=>{if(t.type===p.ur.matches&&e){const s=await this.leo.askFullEntitiesInfo(t.parts);return{...t,parts:s,searchHint:e?(0,h.Iz)(s,t.type):t.searchHint}}return t}))),{layers:i,notLayers:r}=(0,m.Sc)(n);this.setState({isLoadingEntityInfo:!1,layers:i,notLayers:r})}async _updateLeoInfo(){const[e,t]=await Promise.all([this.leo.askHasLeoSecurityFeature(),streets.service("profile").askHasLeoFeedsLimit()]);this.setState({hasLeoSecurityFeature:e,hasLeoFeedsLimit:t},(()=>{const{layers:e}=this.state;e.length&&this._updateEnterprisePartRestrictions()}))}_updateEnterprisePartRestrictions(){const{layers:e}=this.state;let{restrictedEnterpriseParts:t}=this.state;e.forEach((e=>{const{hasLeoSecurityFeature:s}=this.state;e.type!==p.ur.security||s?e.type===p.ur.matches&&(t=e.parts.filter((e=>this._isRestrictedEnterpriseFeature(e)))):t=[...e.parts]})),this.setState({restrictedEnterpriseParts:t})}}Ce.propTypes={confirmExitBodyText:a().string,confirmExitHeaderText:a().string,initialPriority:K.tm,initialTopicQuery:a().string,isMaxEnterprisePriorities:a().bool,isMaxPersonalPriorities:a().bool,isSaving:a().bool,onCancel:a().func.isRequired,onSubmit:a().func.isRequired,pageManager:a().shape({askClose:a().func}),submitLabel:a().string,title:a().string.isRequired},Ce.defaultProps={confirmExitBodyText:"Do you want to save this priority?",confirmExitHeaderText:"Save Priority?",initialPriority:void 0,initialTopicQuery:"",isMaxEnterprisePriorities:!1,isMaxPersonalPriorities:!1,isSaving:!1,pageManager:null,submitLabel:"Update"}},52741:(e,t,s)=>{"use strict";s.d(t,{e:()=>Z});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74713),l=s(5375),c=s(14978),d=s(1948),h=s(7761),u=s(77157),p=s(23741),m=s(855),g=s(35610),f=s(53670),y=s(74256);class v extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onChange",(e=>{this.setState({query:e})})),(0,n.Z)(this,"_onSelectItem",(()=>{const{onSelect:e}=this.props,{query:t}=this.state;e({text:"site:".concat((0,g._Y)(t))})})),this.state={query:""}}render(){const{onClose:e}=this.props,{query:t}=this.state,s=t&&!(0,m.K2)(t)?"The domain needs to be in the following format: example.com":null;return i.createElement("div",{className:"DomainPicker"},i.createElement("label",{className:"DomainPicker__label m-t-0 m-b-h",htmlFor:"DomainPicker__input"},"Enter the domain of the website you want to exclude"),i.createElement(y.A,{id:"DomainPicker__input",elementsBefore:i.createElement(p.Z,{className:"m-l-2",importance:"secondary"}),error:s,onChange:this._onChange,placeholder:"example.com",value:t}),i.createElement("div",{className:"DomainPicker__buttons-container"},i.createElement(f.z,{color:"accent",disabled:!!s||!t.length,label:"Exclude",onClick:this._onSelectItem}),i.createElement(f.z,{importance:"secondary",label:"Cancel",onClick:e})))}}v.propTypes={onClose:a().func,onSelect:a().func},v.defaultProps={onClose:()=>{},onSelect:()=>{}};var b=s(5665),E=s(65060),C=s(46291),w=s(88982),k=s(618),_=s(88591),M=s(71824),S=s(32727),I=s(44205);class T extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCreateBoard",(()=>{this.setState({isLoading:!0}),this.props.isTeam?this._createTeamBoard():this._createPersonalBoard()})),(0,n.Z)(this,"_onCreateClick",(()=>{this.setState({isCreateMode:!0})})),(0,n.Z)(this,"_onNameChange",(e=>{this.setState({error:(0,w.B)(e)?w.I:"",name:e})})),(0,n.Z)(this,"_onCancel",(()=>{this.setState({isCreateMode:!1})})),(0,n.Z)(this,"_selectTag",(e=>{this.props.onSelect(e)})),this.state={error:null,isCreateMode:!1,isLoading:!1,loadingTags:[],name:"",personalTags:[],subscribedEnterpriseTags:[],unsubscribedEnterpriseTags:[]}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.personaltags=streets.service("personaltags"),this.signs=streets.service("signs"),this._updatePersonalTagList(),this._updateEnterpriseTagList()}componentWillUnmount(){this.enterprisetags=null,this.personaltags=null,this.signs=null}render(){const{error:e,isCreateMode:t,isLoading:s,name:n,personalTags:r,subscribedEnterpriseTags:a,unsubscribedEnterpriseTags:o}=this.state,{isTeam:c}=this.props;let d=[],h=[],u=[];return c?(h=a.map((e=>this._renderMenuItem(e))),u=o.map((e=>this._renderMenuItem(e)))):d=r.map((e=>this._renderMenuItem(e))),t?i.createElement(_.v,{className:"form p-x-2 p-y-1",width:300},i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"SelectTagPicker-board-name"},"Board name"),i.createElement(y.A,{autoFocus:!0,clearable:!0,error:e,id:"SelectTagPicker-board-name",onChange:this._onNameChange,placeholder:"e.g. Design Systems",type:"text",value:n})),i.createElement(f.z,{disabled:s||!!e||!n,label:"Create",loading:s,onClick:this._onCreateBoard}),i.createElement(f.z,{label:"Cancel",onClick:this._onCancel,importance:"secondary"})):i.createElement(i.Fragment,null,i.createElement(S.G,{deselectable:!0,preventBackgroundScroll:!0,width:300},d.length>0&&i.createElement(M.N,null,"Personal Boards"),d,h.length>0&&i.createElement(M.N,null,"Team Boards"),h,u.length>0&&i.createElement(M.N,null,"Team Boards You Do Not Follow"),u),i.createElement("div",{className:"menu-footer",onClick:this._onCreateClick},i.createElement(l.Z,{color:"accent"}),i.createElement(I.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"Create a board")))}_renderMenuItem(e){const{loadingTags:t}=this.state,{selectedIds:s}=this.props;return i.createElement(k.A,{key:e.id,label:e.label,loading:t.indexOf(e.id)>-1,onClick:()=>{this._selectTag(e)},selected:s.indexOf(e.id)>-1,type:"select-board"})}async _updateEnterpriseTagList(e){try{const[t,s]=await Promise.all([this.enterprisetags.askListSubscribedTags(),this.enterprisetags.askListNonSubscribedTags()]);if(this.setState({subscribedEnterpriseTags:t,unsubscribedEnterpriseTags:s}),e)return[...t,...s].find((t=>{let{id:s}=t;return s===e}))}catch(t){this.signs.setDefaultErrorMessage("Failed to retrieve the boards list.")}return null}async _updatePersonalTagList(e){const{excludeGlobal:t}=this.props;try{const s=await this.personaltags.askListTags({excludeGlobal:t});if(this.setState({personalTags:s}),e)return s.find((t=>{let{id:s}=t;return s===e}))}catch(s){this.signs.setDefaultErrorMessage("Failed to retrieve the boards list.")}return null}async _createPersonalBoard(){const{name:e}=this.state;try{const t=await this.personaltags.askSave({id:null,label:e}),s=await this._updatePersonalTagList(t);s&&this.props.onSelect(s)}catch(t){this.setState({error:t})}}async _createTeamBoard(){const{name:e}=this.state;try{const{id:t}=await this.enterprisetags.askSave({label:e}),s=await this._updateEnterpriseTagList(t);s&&this.props.onSelect(s)}catch(t){this.setState({error:t.errorMessage&&t.errorMessage.indexOf("duplicate label")>-1?"A board with that name already exists.":t.errorMessage,isLoading:!1})}}}T.propTypes={excludeGlobal:a().bool,isTeam:a().bool,onSelect:a().func,selectedIds:a().arrayOf(a().string)},T.defaultProps={excludeGlobal:!1,isTeam:!1,onSelect:()=>{},selectedIds:[]};var N=s(72406),L=s(31731),P=s(2772),D=s(6797),A=s(31220),O=s(97090),x=s(16064),R=s(13183),j=s(73400),F=s.n(j),U=s(8629);function z(e){let{onSelect:t,selectedParts:s}=e;return i.createElement(S.G,null,h.BU.filter((e=>!s.includes(e))).map((e=>i.createElement(U.s,{key:e,onClick:()=>t(e)},i.createElement("div",null,F()(e),i.createElement(I.x,{color:"tertiary",size:"smaller",tagName:"div"},h.BY[e]))))))}z.propTypes={onSelect:a().func.isRequired,selectedParts:a().arrayOf(a().string)},z.defaultProps={selectedParts:[]};s(77618);class Z extends i.Component{constructor(e){var t;super(e),(0,n.Z)(this,"_renderAddPartMenu",(()=>{const{initialTopicQuery:e,isTeam:t,isWebAlertExcludeLayer:s,parts:n,searchHint:r,suggestions:a,type:o}=this.props,{excludeType:l}=this.state;switch(o){case h.ur.likeBoard:return i.createElement(T,{excludeGlobal:t,isTeam:t,onSelect:this._onAddPart,selectedIds:n.map((e=>{let{id:t}=e;return t}))});case h.ur.matches:return s&&l===h.sD.domain?i.createElement(v,{onSelect:this._onAddPart,onClose:this._onCloseAddPartPopover}):i.createElement(b.Q,{onSelect:this._onAddPart,initialQuery:e,initialSuggestions:a,isPriority:!0,searchHint:r,selectedParts:n});case h.ur.security:return i.createElement(z,{onSelect:this._onAddPart,selectedParts:n});default:return null}})),(0,n.Z)(this,"_renderBugInspector",(()=>{const{parts:e}=this.props,t=u.F.load();let s=!1;return e.length||(s=!0),t&&t.sudoSession||"feedly"===streets.getEnterpriseId()?i.createElement(f.z,{className:"PriorityLayer__action",disabled:s,icon:i.createElement(o.Z,{importance:"tertiary"}),onClick:()=>this._onOpenLikeBoardInspector(),importance:"tertiary",title:"Open Like Board Inspector"}):null})),(0,n.Z)(this,"_renderParts",(()=>{const{isLoadingEntityInfo:e,isWebAlertExcludeLayer:t,onChangeMatchType:s,onDeletePart:n,parts:r,type:a}=this.props,{excludeType:o}=this.state;return r.length?i.createElement(N.j,{className:"PriorityLayer__chip-list"},r.map(((t,r)=>i.createElement(x.K,{key:"string"==typeof t?t:t.id||t.text,isLoadingEntityInfo:e,onChangeMatchType:e=>{s(r,e)},onDeletePart:n,part:t,type:a}))),this._renderOrButton()):i.createElement(f.z,{elementRef:this._newPartButton,icon:i.createElement(l.Z,{color:"white"}),importance:"primary",onClick:this._onNewPartClick,label:t&&o?h.Pr[o].title:h.bL[a]})})),(0,n.Z)(this,"_onAddPart",(e=>{this.setState({isAddPartPopoverOpen:!1});const{onAddPart:t}=this.props;t(e)})),(0,n.Z)(this,"_onCloseAddPartPopover",(()=>{this.setState({isAddPartPopoverOpen:!1})})),(0,n.Z)(this,"_onCloseAboutPopover",(()=>{this.setState({isAboutPopoverOpen:!1})})),(0,n.Z)(this,"_onCloseDeleteModal",(()=>{this.setState({isDeleteModalOpen:!1})})),(0,n.Z)(this,"_onDeleteClick",(()=>{this.setState({isDeleteModalOpen:!0})})),(0,n.Z)(this,"_onDeleteConfirmClick",(()=>{this.setState({isDeleteModalOpen:!1});const{onDelete:e}=this.props;e()})),(0,n.Z)(this,"_onNewPartClick",(()=>{this.setState((e=>{let{isAddPartPopoverOpen:t}=e;return{isAddPartPopoverOpen:!t}}))})),(0,n.Z)(this,"_onOpenLikeBoardInspector",(()=>{const{parts:e,streamId:t}=this.props,s=t,n=e[0].id;window.open("https://ml.feedly.com/personalized-topics/demo/stats?streamId=".concat(encodeURIComponent(t),"&categoryId=").concat(encodeURIComponent(s),"&boardId=").concat(encodeURIComponent(n)))})),(0,n.Z)(this,"_onSalienceChange",(e=>{this._onCloseAboutPopover();const{onSalienceChange:t}=this.props;t(e)})),(0,n.Z)(this,"_onSalienceClick",(()=>{this.setState((e=>{let{isAboutPopoverOpen:t}=e;return{isAboutPopoverOpen:!t}}))})),(0,n.Z)(this,"_onSelectOption",(e=>{this.setState({excludeType:e},this._onNewPartClick)}));const{isAddPartPopoverInitiallyOpen:s,parts:r,streamId:a}=e;this._newPartButton=i.createRef(),this._wrapper=i.createRef(),this.state={excludeType:null!==(t=e.initialExcludeType)&&void 0!==t?t:h.sD.matches,isAboutPopoverOpen:!1,isAddPartPopoverOpen:!r.length&&!!a||s,isDeleteModalOpen:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this._newPartButton=null,this._wrapper=null}render(){const{parts:e,salience:t,type:s}=this.props,{isAboutPopoverOpen:n,isAddPartPopoverOpen:r,isDeleteModalOpen:a}=this.state;return i.createElement("div",{ref:this._wrapper,className:"PriorityLayer"},i.createElement("div",{className:"PriorityLayer__parts-container"},this._renderParts(),r&&i.createElement("span",null,i.createElement(C.J,{align:"start",caret:e.length>0,offsetParent:this._wrapper,onClose:this._onCloseAddPartPopover,position:"bottom",target:this._newPartButton},this._renderAddPartMenu()))),i.createElement("div",{className:"PriorityLayer__actions-container"},i.createElement("div",{className:"PriorityLayer__actions"},s===h.ur.matches&&i.createElement(L.X,{align:"right",className:"PriorityLayer__action",iconAlign:"right",icon:i.createElement(c.Z,{importance:"tertiary"}),importance:"tertiary",isOpen:n,label:t===h.mb.about?"Title":"Everything",menu:i.createElement(_.v,{className:"p-t-t"},i.createElement(M.N,null,"Matching"),i.createElement(D.a,{name:"salience",onChange:this._onSalienceChange,selectedValue:t},i.createElement(A.Y,{value:h.mb.about},"Title"),i.createElement(A.Y,{value:h.mb.mention},"Everything"))),onButtonClick:this._onSalienceClick,onCloseMenu:this._onCloseAboutPopover,title:"Matching"}),s===h.ur.likeBoard&&this._renderBugInspector(),i.createElement(f.z,{className:"PriorityLayer__action m-l-h",icon:i.createElement(d.Z,{importance:"tertiary"}),importance:"tertiary",onClick:this._onDeleteClick,title:"Delete"}))),a&&i.createElement(E.u,{onClose:this._onCloseDeleteModal,small:!0},i.createElement(P.H2,{appearance:"h3"},"Delete layer?"),i.createElement("p",null,"This is permanent and cannot be undone."),i.createElement(f.z,{color:"danger",label:"Delete Layer",onClick:this._onDeleteConfirmClick}),i.createElement(f.z,{label:"Cancel",onClick:this._onCloseDeleteModal,importance:"secondary"})))}_renderOrButton(){const{isWebAlertExcludeLayer:e,parts:t,type:s}=this.props,{excludeType:n}=this.state;if(s===h.ur.security&&t.length===h.BU.length)return null;const r=i.createElement(f.z,{className:"p-l-h m-b-t",color:"accent",elementRef:this._newPartButton,icon:i.createElement(l.Z,{color:"accent"}),importance:"tertiary",label:"OR",onClick:this._onNewPartClick,title:e&&n?h.Pr[n].title:h.bL[s]});return e?i.createElement("div",{ref:this._newPartButton},i.createElement(R.h,{button:r,onSelect:this._onSelectOption,showExcludeOptions:!0,tagName:"div"})):r}}Z.propTypes={initialExcludeType:a().oneOf([h.sD.matches,h.sD.domain]),initialTopicQuery:a().string,isAddPartPopoverInitiallyOpen:a().bool,isLoadingEntityInfo:a().bool,isTeam:a().bool,isWebAlertExcludeLayer:a().bool,onAddPart:a().func.isRequired,onChangeMatchType:a().func.isRequired,onDelete:a().func.isRequired,onDeletePart:a().func.isRequired,onSalienceChange:a().func,parts:a().arrayOf(O.G$),salience:a().oneOf(Object.values(h.mb)),searchHint:a().string,streamId:a().string,suggestions:a().arrayOf(O.Zg),type:a().oneOf(Object.keys(h.ur)).isRequired},Z.defaultProps={initialExcludeType:void 0,initialTopicQuery:"",isAddPartPopoverInitiallyOpen:!1,isLoadingEntityInfo:!1,isTeam:!1,isWebAlertExcludeLayer:!1,onSalienceChange:()=>{},parts:[],salience:h.mb.mention,searchHint:"",streamId:"",suggestions:[]}},16064:(e,t,s)=>{"use strict";s.d(t,{K:()=>I});var n=s(47169),i=s(73400),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(763),d=s(65698),h=s(7761),u=s(62784),p=s(42610),m=s(96968),g=s(91343),f=s(97090),y=s(14978),v=s(4425),b=s(81593),E=s(94059),C=s(85902),w=s(14171),k=(s(99149),s(53670),s(31731)),_=s(88591),M=s(8629);s(5017);class S extends a.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isDrawerOpen:!1,isDropdownOpen:!1}),(0,n.Z)(this,"_onClose",(()=>{this.setState({isDrawerOpen:!1,isDropdownOpen:!1})})),(0,n.Z)(this,"_onOpenDrawer",(()=>{this.setState({isDrawerOpen:!0})})),(0,n.Z)(this,"_onToggleIsDropdownOpen",(()=>{this.setState((e=>({isDropdownOpen:!e.isDropdownOpen})))}))}render(){const{isDrawerOpen:e,isDropdownOpen:t}=this.state;return a.createElement(k.X,{caret:!0,className:"PriorityLayerChipTypeSelector p-a-0",importance:"tertiary",isOpen:t,label:this._renderLabel(),menu:this._renderMenu(),onButtonClick:this._onToggleIsDropdownOpen,onCloseMenu:this._onClose})}_renderLabel(){const{isLoadingEntityInfo:e,part:t}=this.props;return a.createElement(a.Fragment,null,e?a.createElement(w.J,{className:"m-a-0",color:"secondary",name:""}):this._renderTopicIcon(t),a.createElement(y.Z,{className:"m-a-0",importance:"tertiary"}))}_renderMenu(){const{onChangeMatchType:e,part:t}=this.props,s=M.s,n=(0,d.mm)(t),i=a.createElement(v.Z,{className:"PriorityLayerChipTypeSelector__icon m-x-1",color:"accent"});return a.createElement(_.v,{className:"PriorityLayerChipTypeSelector__menu"},a.createElement(s,{className:"PriorityLayerChipTypeSelector__menu-item",onClick:()=>{e(E.m3.entity),this._onClose()}},a.createElement(n,{className:"PriorityLayerChipTypeSelector__icon m-r-1",importance:"secondary"}),a.createElement("div",{className:"PriorityLayerChipTypeSelector__menu-item-label"},this._getTopicLabel()),!t.convertToKeyword&&i),(!(0,d.ft)(t.id)||t.aliases&&t.aliases.length>0)&&a.createElement(s,{className:"PriorityLayerChipTypeSelector__menu-item",onClick:()=>{e(E.m3.keyword),this._onClose()}},a.createElement(b.Z,{className:"PriorityLayerChipTypeSelector__icon m-r-1",importance:"secondary"}),a.createElement("div",{className:"PriorityLayerChipTypeSelector__menu-item-label"},'Articles mentioning "',t.label,'" only'),t.convertToKeyword&&i))}_renderTopicIcon(e){const t=(0,d.mm)(e);return a.createElement(t,{className:"m-a-0",importance:"secondary"})}_getTopicLabel(){const{part:{aliases:e=[],id:t,label:s,leoBehaviorExamples:n}}=this.props,i=n||[s,...e],r=n&&n.length>6;return(0,d.ft)(t)?"Articles mentioning ".concat((0,C.sw)(i,{addQuotes:!0,limit:7,noQuotesIndex:r?n.length-1:null})):"Articles about ".concat(s)}}S.propTypes={isLoadingEntityInfo:l().bool,onChangeMatchType:l().func.isRequired,part:l().shape({aliases:l().arrayOf(l().string),convertToKeyword:l().bool,id:l().string,label:l().string,leoBehaviorExamples:l().arrayOf(l().string),type:l().string}).isRequired},S.defaultProps={isLoadingEntityInfo:!1};class I extends a.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isIconHovered:!1}),(0,n.Z)(this,"_renderContent",(e=>{const{part:t,type:s}=this.props;let n;s===h.ur.security&&(n=a.createElement("span",{className:"PriorityLayerChip__sub"},h.BY[t]));let i=a.createElement("div",{className:"PriorityLayerChip__label"},e," ",n);const r=t.convertToKeyword?{text:t.suggestText||t.label}:t;return s===h.ur.matches&&(i=a.createElement(p.E,{item:r,position:"bottom",targetParentElement:!0},i)),i})),(0,n.Z)(this,"_onDeleteClick",(()=>{const{onDeletePart:e,part:t}=this.props;e(t)})),(0,n.Z)(this,"_onMouseEnterDeleteButton",(()=>{this.setState({isIconHovered:!0})})),(0,n.Z)(this,"_onMouseLeaveDeleteButton",(()=>{this.setState({isIconHovered:!1})}))}render(){const{part:e,type:t}=this.props,{isIconHovered:s}=this.state;let n=(0,u.vE)(e);return t===h.ur.security&&(n="".concat(r()(n)," Vulnerability")),a.createElement(g.A,{className:"PriorityLayerChip",size:"lg"},this._renderChipIcon(),this._renderContent(n),a.createElement(m.E,{"aria-label":"Delete ".concat(n),className:"PriorityLayerChip__delete",danger:!0,importance:"tertiary",onClick:this._onDeleteClick,onMouseEnter:this._onMouseEnterDeleteButton,onMouseLeave:this._onMouseLeaveDeleteButton},a.createElement(c.Z,{className:"m-r-0",importance:s?"primary":"tertiary",color:s?"danger":"black"})))}_renderChipIcon(){const{isLoadingEntityInfo:e,onChangeMatchType:t,part:s}=this.props;if((0,d.xT)(s.id)||(0,d.ft)(s.id)||(0,d.jP)(s.id))return a.createElement(S,{isLoadingEntityInfo:e,onChangeMatchType:t,part:s});const n=(0,d.mm)(s);return a.createElement(n,{className:"PriorityLayerChip__chip-icon m-r-1",importance:"secondary"})}}I.propTypes={isLoadingEntityInfo:l().bool,onChangeMatchType:l().func.isRequired,onDeletePart:l().func.isRequired,part:f.G$.isRequired,type:l().oneOf(Object.keys(h.ur)).isRequired},I.defaultProps={isLoadingEntityInfo:!1}},13183:(e,t,s)=>{"use strict";s.d(t,{h:()=>M});var n=s(47169),i=s(32735),r=s(86576),a=(s(40841),s(60216)),o=s.n(a),l=s(14007),c=s(26327),d=s(7761),h=s(5665),u=s(81197),p=s(46291),m=s(55118),g=s(99175),f=s(53670),y=s(8629),v=s(71824),b=s(32727),E=(s(44205),s(72403)),C=s(99165);const w=Object.freeze({biopharma:{primaryOptions:[d.sD.disease,d.sD.gene,d.sD.regulatoryChange,d.sD.emergingTrend,d.sD.innovation],secondaryOptions:[d.sD.businessEvent,d.sD.org,d.sD.technology,d.sD.contentType,d.sD.industryTopic]},cybersecurity:{primaryOptions:[d.sD.cyberEvent,d.sD.indicatorsOfCompromise,d.sD.malwareFamily,d.sD.mitreAttack,d.sD.threatActor,d.sD.threatIntelReport,d.sD.industryTopic],secondaryOptions:[d.sD.businessEvent,d.sD.org,d.sD.contentType]},default:[d.sD.org,d.sD.technology,d.sD.emergingTrend,d.sD.industryTopic,d.sD.businessEvent,d.sD.innovation,d.sD.consumerInsights,d.sD.cxoMentions,d.sD.contentType]}),k=[{id:"LeoSecurity",label:"Cybersecurity",redirectUri:"enterpriseTrial?useCase=cyberThreat&utm_source=app&utm_campaign=leomenuaddon"},{id:"Biopharma",label:"Biopharma Research",redirectUri:"enterpriseTrial?useCase=biopharmaResearch&utm_source=app&utm_campaign=leomenuaddon"}];class _ extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderOptions",(e=>{const{menuItemRenderer:t}=this.props;return e.map((e=>t(e)))})),(0,n.Z)(this,"_renderAddOns",(()=>i.createElement(i.Fragment,null,i.createElement(v.N,{className:"m-y-0"}),k.map((e=>{let{id:t,label:s,redirectUri:n}=e;const r=C.RT[t];return i.createElement(g.d,{key:t,animateClass:"animateFadeIn",content:C.vk[t],position:"right",tipClass:"PriorityOptionsList__tipsy"},i.createElement(y.s,{className:"PriorityOptionsList__item",onClick:()=>streets.hasBusinessAccess()?this.helpscout.open({prefill:{subject:"Access to ".concat((0,C.g$)(t))}}):this.router.loadPage(n)},i.createElement(r,{className:"PriorityOptionsList__item-icon",importance:"tertiary"}),i.createElement("div",{className:"PriorityOptionsList__item-title"},i.createElement("span",{className:"PriorityOptionsList__add-on-label"},s),i.createElement("span",{className:"badge accent small m-r-1"},"add-on"))))}))))),(0,n.Z)(this,"_updateUserEnterpriseFeatures",(async()=>{const e=await this.leo.askUserEnterpriseFeaturesMap();this.setState({hasLeoBiopharmaFeature:!!e[C.tp.Biopharma],hasLeoSecurityFeature:!!e[C.tp.LeoSecurity]})})),this.state={hasLeoBiopharmaFeature:!1,hasLeoSecurityFeature:!1}}componentDidMount(){this.router=streets.service("router"),this.helpscout=streets.service("helpscout"),this.leo=streets.service("leo"),this._updateUserEnterpriseFeatures()}componentWillUnmount(){this.router=null,this.helpscout=null,this.leo=null}render(){const{hideSecurityOption:e,hideLikeBoardLayer:t,menuItemRenderer:s}=this.props,{hasLeoBiopharmaFeature:n,hasLeoSecurityFeature:r}=this.state;let a,o;return r?(({primaryOptions:a,secondaryOptions:o}=w.cybersecurity),e||(a=[d.sD.security,...a])):n?({primaryOptions:a,secondaryOptions:o}=w.biopharma):a=w.default,i.createElement(i.Fragment,null,!t&&s(d.sD.likeBoard),this._renderOptions(a),i.createElement(v.N,{className:"m-y-0"}),o&&this._renderOptions(o),!r&&!n&&this._renderAddOns())}}_.propTypes={hideLikeBoardLayer:o().bool,hideSecurityOption:o().bool,menuItemRenderer:o().func.isRequired},_.defaultProps={hideLikeBoardLayer:!1,hideSecurityOption:!1};class M extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderMenuItem",(e=>{const{icon:t,description:s,title:n}=d.Pr[e];return i.createElement(g.d,{key:e,animateClass:"animateFadeIn",content:s,position:"right",tipClass:"PriorityOptionSelector__tipsy"},i.createElement(y.s,{className:"PriorityOptionSelector__item",key:e,onClick:()=>{this._onSelect(e)}},i.createElement(t,{className:"PriorityOptionSelector__item-icon",importance:"tertiary"}),i.createElement("div",{className:"PriorityOptionSelector__item-title"},n),!d.Pr[e].defaultPart&&i.createElement(l.Z,{importance:"tertiary",className:"m-r-0"})))})),(0,n.Z)(this,"_renderBackArrow",(()=>{const{showBackArrow:e}=this.state;return e?i.createElement(f.z,{className:"p-l-0 p-r-0",importance:"tertiary",icon:i.createElement(c.Z,{importance:"tertiary"}),onClick:this._onBackClick}):null})),(0,n.Z)(this,"_onButtonClick",(()=>{this.setState((e=>{let{isOpen:t}=e;return{isOpen:!t}}))})),(0,n.Z)(this,"_onBackClick",(()=>{this.setState(this._defaultQueryState)})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isOpen:!1,...this._defaultQueryState})})),(0,n.Z)(this,"_setSearchQuery",(e=>{this.setState({query:e})})),(0,n.Z)(this,"_setSearchHint",(e=>{this.setState({leoTopicPickerKey:e,searchHint:e,showBackArrow:!0})})),(0,n.Z)(this,"_onSelect",(e=>{const{onSelect:t,onSelectPart:s,streamId:n}=this.props,{layerType:i,defaultPart:r,searchHint:a}=d.Pr[e];s&&a&&!r?this._setSearchHint(a):(this._onCloseMenu(),t?t(e):e===d.sD.muteFilter?this.slider.addSlide(u.K,{initialFilter:{streamId:n}}):this.slider.addSlide(E.q,{initialPriority:{layers:[{[d.y9[i]]:r?[r]:[],type:i,searchHint:a}],streamIds:[n]}}))})),(0,n.Z)(this,"_addLayerAndPart",(e=>{const{onSelectPart:t}=this.props;this._onCloseMenu(),t(e)})),this._button=i.createRef(),this._popoverHook=document.getElementById("reactPopoverHook"),this._defaultQueryState={query:null,searchHint:null,showBackArrow:!1},this.state={...this._defaultQueryState,isOpen:e.isInitiallyOpen}}componentDidMount(){this.feedly=streets.service("feedly"),this.slider=streets.service("slider")}componentWillUnmount(){this._button=null,this._popoverHook=null,this.feedly=null,this.slider=null}render(){const{align:e,button:t,hideSecurityOption:s,hideLikeBoardLayer:n,isAnyPowerSearch:r,onSelectPart:a,showExcludeOptions:o,showMuteFilter:l,tagName:c}=this.props,{isOpen:u,query:g,searchHint:f,leoTopicPickerKey:y}=this.state,E=c;return i.createElement(E,{className:"PriorityOptionSelector"},i.cloneElement(t,{onClick:this._onButtonClick,elementRef:this._button}),u&&i.createElement(m.h,{target:this._popoverHook},i.createElement(p.J,{align:e,caret:!0,className:"PriorityOptionSelector__popover",offsetParent:this._popoverHook,onClose:this._onCloseMenu,target:this._button},a&&i.createElement(h.Q,{key:y,onSelect:this._addLayerAndPart,initialQuery:"",elementsBeforeInput:this._renderBackArrow(),searchHint:f,updateParentSearchQuery:this._setSearchQuery}),!f&&!g&&i.createElement(b.G,{className:"PriorityOptionSelector__menu p-y-h",deselectable:!0},o?i.createElement(i.Fragment,null,i.createElement(v.N,{className:"m-l-1"},"Exclude"),this._renderMenuItem(d.sD.matches),this._renderMenuItem(d.sD.domain)):i.createElement(i.Fragment,null,!r&&i.createElement(v.N,{className:"m-l-1"},"Prioritize"),i.createElement(_,{hideSecurityOption:s,hideLikeBoardLayer:n,isAnyPowerSearch:r,menuItemRenderer:this._renderMenuItem}),l&&i.createElement(i.Fragment,null,i.createElement("div",{className:"PriorityOptionSelector__separator"}),i.createElement(v.N,{className:"m-l-1"},"Mute"),this._renderMenuItem(d.sD.muteFilter)))))))}}M.propTypes={align:p.J.propTypes.align,button:(0,r.componentWithName)("Button").isRequired,hideLikeBoardLayer:o().bool,hideSecurityOption:o().bool,isAnyPowerSearch:o().bool,isInitiallyOpen:o().bool,onSelect:o().func,onSelectPart:o().func,showExcludeOptions:o().bool,showMuteFilter:o().bool,streamId:o().string,tagName:o().oneOf(["div","span"])},M.defaultProps={align:"middle",hideLikeBoardLayer:!1,hideSecurityOption:!1,isAnyPowerSearch:!1,isInitiallyOpen:!1,onSelect:null,onSelectPart:null,showExcludeOptions:!1,showMuteFilter:!1,streamId:null,tagName:"span"}},97:(e,t,s)=>{"use strict";s.d(t,{c:()=>p});var n=s(47169),i=s(89793),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(74221),d=s(2222),h=s(97090),u=s(95438);class p extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_onSubmit",(async e=>{try{const{initialPriority:t,onDone:s}=this.props,n=e.streamIds||t.streamIds,{isEnterprise:i}=n&&(0,c.Yg)(n[0]);this.setState({isSaving:!0});const r=i?this.enterprisepriorities:this.personalpriorities;this._hasStreamIdChanged(t,e)||!(0,d.hY)(t,e)?await r.askUpdate({...t,...e}):await r.askSave({...t,...e}),s()}catch(t){console.error(t),this.setState({isSaving:!1});const e="".concat(t.errorCode||t.name," -- ").concat(t.errorMessage||t.message);streets.service("signs").showError(e)}})),this._priorityFormRef=a.createRef(),this.state={isSaving:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this._priorityFormRef=null}askConfirmExit(){return this._priorityFormRef.current.askConfirmExit()}render(){const{initialPriority:e,onDone:t}=this.props,{isSaving:s}=this.state;return a.createElement("div",{className:"fx"},a.createElement("div",{className:"container630 centered"},a.createElement(u.A,{ref:this._priorityFormRef,confirmExitHeaderText:"Save changes?",confirmExitBodyText:"Do you want to save the refinements you made to this priority?",initialPriority:e,isSaving:s,onCancel:t,onSubmit:this._onSubmit,submitLabel:"Update",title:"How would you like to refine this priority?"})))}_hasStreamIdChanged(e,t){const s=e.streamIds||[],{streamIds:n}=t;return!r()(s,n)}}p.propTypes={initialPriority:h.tm.isRequired,onDone:l().func.isRequired}},13079:(e,t,s)=>{"use strict";s.d(t,{X:()=>p});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(99165),d=s(53670),h=s(44205);const u=Object.freeze({negative:"dismiss",positive:"follow"});class p extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onContactSupport",(()=>{streets.hasProAccess()?this.helpscout.open():this.router.loadPage("pro/support")})),(0,n.Z)(this,"_onUpgradeClick",(()=>{const{feature:e,landingPage:t}=this.props,s=t||(0,c.hH)(e);s?this.router.loadPage(s):this._onContactSupport(),this._onFeedbackClick(u.positive)})),(0,n.Z)(this,"_onHidePrompt",(()=>{this.setState({isHidden:!0}),this._onFeedbackClick(u.negative)})),(0,n.Z)(this,"_onFeedbackClick",(e=>{const{id:t}=this.props;t&&(this.suggestions.askSaveSuggestionFeedback({feedback:e,id:t}),this.preferences.setPreference("lastLeoSuggestionDate",Date.now()))})),this.state={isHidden:!1}}componentDidMount(){this.router=streets.service("router"),this.helpscout=streets.service("helpscout"),this.preferences=streets.service("preferences"),this.suggestions=streets.service("suggestions")}componentWillUnmount(){this.router=null,this.helpscout=null,this.preferences=null,this.suggestions=null}render(){const{buttonLabel:e,className:t,description:s,feature:n,hideable:r,hideIllustration:o,illustration:l}=this.props,{isHidden:u}=this.state;if(u)return null;let p;p=e||"Try ".concat((0,c.g$)(n));const m=(0,c.XA)(n);return i.createElement("div",{className:a()("LeoUpgradePrompt",t)},i.createElement(m,{importance:"tertiary"}),i.createElement("div",{className:"LeoUpgradePrompt__message-container"},i.createElement(h.x,{className:"LeoUpgradePrompt__message m-r-1",size:"small"},s),i.createElement(d.z,{className:"LeoUpgradePrompt__upgrade-button",label:p,onClick:this._onUpgradeClick,size:"small"}),r&&i.createElement(d.z,{label:"Not now",importance:"secondary",onClick:this._onHidePrompt,size:"small"})),!o&&screen.width>400&&i.createElement("img",{alt:"",className:"LeoUpgradePrompt__image",src:l||(0,c.no)(n)}))}}p.propTypes={buttonLabel:l().string,className:l().string,description:l().node.isRequired,feature:l().string.isRequired,hideable:l().bool,hideIllustration:l().bool,id:l().string,illustration:l().string,landingPage:l().string},p.defaultProps={buttonLabel:"",className:"",hideable:!1,hideIllustration:!1,id:"",illustration:"",landingPage:""}},7294:(e,t,s)=>{"use strict";s.d(t,{o:()=>p});var n=s(32735),i=s(60216),r=s.n(i),a=s(57993),o=s(56295),l=s(8199),c=s(80889),d=s(41528),h=s(13079),u=s(47185);function p(e){let{className:t,feature:s,hideIllustration:i,type:r}=e;const p=streets.getPlan(),m=(0,c.qL)(),{accountLimits:g}=streets.service("profile").getUserInfo(),f=m?"Try Feedly ".concat(l.vu[m]):"Contact Sales",{name:y,limitName:v,uri:b}=o.M$[s],{priorities:E,muteFilters:C}=o.M$,w=(s===C.id||s===E.id)&&r===a.s.personal;return n.createElement(h.X,{className:t,buttonLabel:f,description:n.createElement(d.D,{feature:w?"personal ".concat(y):y,limit:g[v],planLabel:l.vu[p],type:r}),feature:s,hideIllustration:i,landingPage:m?"".concat("pro/limit","-").concat(m,"-").concat(b):"",illustration:u,nextPlan:m})}p.propTypes={className:r().string,feature:r().string.isRequired,hideIllustration:r().bool,type:r().string.isRequired},p.defaultProps={className:"",hideIllustration:!1}},60454:(e,t,s)=>{"use strict";s.d(t,{p:()=>y});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r);const o=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.932 7.36a.5.5 0 0 1 .765.639l-.058.069-9.428 9.428a.5.5 0 0 1-.638.058l-.07-.058-4.285-4.285a.5.5 0 0 1 .638-.765l.069.058 3.932 3.932 9.075-9.075ZM21.075 7.36A.5.5 0 0 1 21.84 8l-.058.069-9.428 9.428a.5.5 0 0 1-.638.058l-.07-.058-.859-.859a.5.5 0 0 1 .638-.765l.07.058.505.506 9.075-9.075Z"}),i.createElement("path",{d:"M6.509 11.652a.5.5 0 0 1 .638-.058l.069.058.853.853a.5.5 0 0 1-.638.764l-.07-.057-.852-.853a.5.5 0 0 1 0-.707Z"})))}));var l=s(18514),c=s(3167),d=s(18193),h=s(24389),u=s(58074),p=s(23005),m=(s(41260),s(2772)),g=s(92121),f=s(44205);class y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderEntry",(e=>{const t={...e,className:"RelatedEntriesSection__entry"};return i.createElement(h.k,Object.assign({},t,{navigation:"slider"}))})),(0,n.Z)(this,"_onMarkAllAsReadClick",(()=>{const{hasUnread:e,relatedEntries:t}=this.state,s=t.map((e=>e.getId()));e?this.reader.askMarkEntriesAsRead(s,{forceFlush:!1}):this.reader.askKeepEntriesAsUnread(s)})),(0,n.Z)(this,"_onSortChange",(e=>{const{relatedEntries:t}=this.state;this.setState({relatedEntries:this._onSortEntries(t,e),sortingOrder:e})})),(0,n.Z)(this,"_updateHasUnread",(()=>{const{relatedEntries:e}=this.state,t=e.some((e=>!e.isRead()));this.setState({hasUnread:t})})),(0,n.Z)(this,"_updateInfo",(async()=>{const{showRelated:e}=this.state,{entry:t}=this.props;if(!e)return;const s=t.listRelatedEntries();try{if(!s.length)return void this.setState({isLoading:!1,relatedEntries:[]});const e=s.map((e=>e.entryId)),t=await this.reader.askLookupEntries(e),n=(0,l.q)(t,{isRelatedEntries:!0});this.setState({isLoading:!1,relatedEntries:this._onSortEntries(n.slice(0),d.q.popularity)},this._updateHasUnread)}catch(n){this.setState({isLoading:!1,error:"Could not get related business event entries: ".concat(n.message)})}})),this.preferences=streets.service("preferences"),this.state={error:"",hasUnread:!0,isLoading:!0,relatedEntries:[],showRelated:"yes"===this.preferences.getPreference(c.xV),sortingOrder:d.q.popularity}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.reader.unregisterObserver(this),this.preferences=null,this.reader=null}onEntryMarkedAsRead(){this._updateHasUnread()}onEntryKeptUnread(){this._updateHasUnread()}render(){const{isInlineEntry:e}=this.props,{error:t,hasUnread:s,isLoading:n,relatedEntries:r,showRelated:a,sortingOrder:l}=this.state;return a?n?i.createElement(p.g,{details:"related entries"}):t?i.createElement(f.x,{className:"error"},t):r&&0!==r.length?i.createElement("div",{className:"RelatedEntriesSection"},e?i.createElement("div",{className:"RelatedEntriesSection__header m-t-2"},i.createElement(m.H2,{appearance:"h4",className:"m-t-t"},"Related Articles"),i.createElement("div",{className:"RelatedEntriesSection__icon"},i.createElement(o,{className:"icon-right",onClick:this._onMarkAllAsReadClick,title:s?"Mark all articles as read":"Mark all articles as unread"}))):i.createElement(g.P,{borderless:!0,className:"m-b-1",items:Object.values(d.q),labelKey:"label",onItemSelect:this._onSortChange,prefix:"Sorting by",size:"small",value:l.label}),i.createElement(u.f,{endOfFeedLabel:"",entries:r,entryRenderer:this._renderEntry,hasAllEntries:!0,hideMeme:!0,hideRelatedEntries:!0,showSourceTitle:!0})):null:null}_onSortEntries(e,t){const{sortDirection:s,getter:n}=t;return e.sort(((e,t)=>"asc"===s?e[n]()-t[n]():t[n]()-e[n]())).slice(0)}}y.propTypes={entry:a().shape({id:a().string,listRelatedEntries:a().function}).isRequired,isInlineEntry:a().bool},y.defaultProps={isInlineEntry:!1}},94759:(e,t,s)=>{"use strict";s.d(t,{v:()=>u});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74221),l=s(89685),c=s(96750),d=s(2772),h=s(43940);class u extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{feeds:null})}componentDidMount(){this.collections=streets.service("collections"),this.feeds=streets.service("feeds"),this.reader=streets.service("reader"),this.suggesto=streets.service("suggesto"),this._updateRelatedFeeds()}componentWillUnmount(){this.collections=null,this.feeds=null,this.reader=null,this.suggesto=null}render(){const{feeds:e}=this.state,{headingComponent:t,streamId:s,view:n}=this.props,{isCategory:r}=(0,o.Yg)(s);if(!e||0===e.length)return null;const a=t,d=r?"discover/sources":"discover/sources/search/leo/".concat(encodeURIComponent(s));return i.createElement("div",{className:"fx"},i.createElement(a,{appearance:"h4"},"You might also like"),i.createElement(c.A,{feedRenderer:e=>i.createElement(l.f,{feed:e,showMetadata:!0,showTopics:"large"===n,view:n}),feeds:e.slice(0,3),renderAllAtOnce:!0}),i.createElement(h.Q,{className:"m-t-1",importance:"secondary",label:"Explore",size:"small",uri:d}))}async _updateRelatedFeeds(){try{const{streamId:e}=this.props,{isCategory:t}=(0,o.Yg)(e);let s=[];s=t?await this.collections.askUnsubscribedFeedRecommendations(e):await this.feeds.askUnsubscribedFeedRecommendations(e),this.setState({feeds:s})}catch(e){console.error("[related feeds widget] failed to get related feeds",e)}}}u.propTypes={headingComponent:a().func,streamId:a().string.isRequired,view:a().oneOf(["small","medium","large"])},u.defaultProps={headingComponent:d.H2,view:"small"}},61363:(e,t,s)=>{"use strict";s.d(t,{F:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(62e3),o=s(53670),l=s(84475),c=s(32968);function d(e){let{alwaysOn:t,enabled:s,loadingUrl:i,onChange:r,url:d,sub:h}=e;return n.createElement("div",{className:"field m-t-2 m-b-2"},n.createElement("label",null,"Private RSS URL",n.createElement("div",{className:"sub"},h)),!t&&n.createElement(l.r,{isOn:s,disabled:i,label:s?"Private RSS URL activated":"Activate Private RSS URL",onToggle:()=>{r(!s)}}),(t||s)&&n.createElement("div",{className:"container-flex m-t-1"},n.createElement(c.o,{loading:i,readOnly:!0,value:d}),n.createElement(o.z,{className:"col-no-flex m-l-1",importance:"secondary",label:"Copy Link",onClick:()=>{(0,a.v)(d)}})))}d.propTypes={alwaysOn:r().bool,enabled:r().bool,loadingUrl:r().bool,onChange:r().func,sub:r().string.isRequired,url:r().string},d.defaultProps={alwaysOn:!1,enabled:!1,loadingUrl:!1,onChange:void 0,url:void 0}},44002:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(57239);function o(e){let{pageInfo:t}=e;return n.createElement("div",{className:"BeyondSearchSlide fx"},n.createElement(a.B,{pageInfo:t}))}o.propTypes={pageInfo:r().objectOf(r().any).isRequired}},57239:(e,t,s)=>{"use strict";s.d(t,{B:()=>S});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(3e3),l=s(20461),c=s(8199),d=s(7761),h=s(37225),u=s(32285),p=s(21310),m=s(62784),g=s(66105),f=s(63040),y=s(4704),v=s(63434),b=s(23005),E=s(2772),C=s(77469),w=s(36534),k=s(5685),_=s(29017);const M="powerSearchBeyondState";class S extends i.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_renderUpgradeModal",(()=>{const{restrictedTypes:e}=this.state;let t;return e.length?[t]=e:(streets.isStandardPlan()||this.profile.hasExpiredProPlan())&&(t={feature:c._B.proPlus,onProPlusUpgradeClick:this._onProPlusUpgradeClick,partType:h.Fq.beyond}),t?i.createElement(k.T,t):null})),(0,n.Z)(this,"_getRedirectURI",(()=>{const{bundles:e,layers:t,notLayers:s,refineMode:n}=this.state,i={bundles:n===C.sp.allFeedlyMode?e.allFeedlyMode:e.customMode,layers:(0,m.rT)({layers:t,notLayers:s})};return"powerSearch/beyond?options=".concat((0,m.Fs)(i))})),(0,n.Z)(this,"_onAddFirstPart",(function(e){let{operator:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.setState({layers:[(0,l.TY)(e)],operator:s},t._updateEnterprisePartRestrictions)})),(0,n.Z)(this,"_onKnowledgeItemSearch",(e=>{const{customModeBundles:t,layers:s}=(0,l.gn)(e);this.setState((e=>{let{bundles:n}=e;return{bundles:{...n,customMode:t},layers:s,refineMode:C.sp.customMode}}))})),(0,n.Z)(this,"_onLayersChange",((e,t)=>{const{[e]:s}=this.state;this.setState({[e]:t,operator:null},(()=>{const{layers:e}=this.state;this._onUpdateLocalStorage(),(0,l.qd)(s,e)&&this._updateEnterprisePartRestrictions()}))})),(0,n.Z)(this,"_onProPlusUpgradeClick",(()=>{const e=this._getRedirectURI();window.localStorage.setItem("redirectUriAfterUpgrade",e),this.router.loadPage("pro/search?featureContext=searchPage")})),(0,n.Z)(this,"_onUpdateLocalStorage",(()=>{const{bundles:e,layers:t,notLayers:s,refineMode:n}=this.state;window.localStorage.setItem(M,JSON.stringify({bundles:e,layers:t,notLayers:s,refineMode:n}))})),(0,n.Z)(this,"_replacePageURL",(()=>{const{layers:e}=this.state;let t;e.length&&e[0].parts.length?t=this._getRedirectURI():(this.feedly.scrollPageTo(0),t="powerSearch/beyond"),(0,o.$B)(t)})),(0,n.Z)(this,"_resetLayerBuilder",(()=>{this.setState({layers:[],notLayers:[],operator:null,refineModeSwitchState:C.wP.auto,restrictedTypes:[],salienceSwitchState:h.L1.auto,totalVelocity:null},(()=>{window.localStorage.removeItem(M),this._replacePageURL()}))})),(0,n.Z)(this,"_updateEnterprisePartRestrictions",(async()=>{const{layers:e,notLayers:t}=this.state,s=await this.leo.askEnterprisePartRestrictions([...e,...t]);this.setState({restrictedTypes:s})})),(0,n.Z)(this,"_updateInfo",(async()=>{try{const[e,t,s,n]=await Promise.all([this.alerts.askHasWebAlertsAccess(),this.alerts.askWebAlertDefaultBundle(),this.profile.askHasLeoFeedsLimit(),this.leo.askHasLeoSecurityFeature()]);this.setState((i=>{let{bundles:r}=i;return{bundles:{...r,customMode:[t]},hasLeoFeedsLimit:s,hasLeoSecurityAccess:n,hasWebAlertsAccess:e}}),this._updateSearchParameters)}catch(e){console.error("Error",e)}})),(0,n.Z)(this,"_updateSearchParameters",(async()=>{var e;const{pageInfo:{beyondSearchOptions:t}={}}=this.props;if(null==t||null===(e=t.layers)||void 0===e||!e.length){const e=window.localStorage.getItem(M);return e&&this.setState(JSON.parse(e),this._updateEnterprisePartRestrictions),void this.setState({isLoadingInitialState:!1})}const{bundles:s,layers:n,notLayers:i,refineMode:r}=await this.alerts.askConvertBeyondSearchOptionsToState(t);this.setState((e=>{let{bundles:t}=e;return{bundles:s[r].length?{...t,...s}:{...t},isLoadingInitialState:!1,layers:n,notLayers:i,refineMode:r,salienceSwitchState:h.L1.auto}}),this._updateEnterprisePartRestrictions)})),this.state={bundles:{allFeedlyMode:[C.pc],customMode:[]},bundleVelocities:{},hasLeoFeedsLimit:!1,hasLeoSecurityAccess:!1,hasWebAlertsAccess:!1,isLoadingInitialState:!0,layers:[],notLayers:[],operator:null,refineMode:C.sp.customMode,refineModeSwitchState:C.wP.auto,restrictedTypes:[],salienceSwitchState:h.L1.auto,totalVelocity:null}}componentDidMount(){this.alerts=streets.service("alerts"),this.feedly=streets.service("feedly"),this.leo=streets.service("leo"),this.profile=streets.service("profile"),this.router=streets.service("router"),this.shortcuts=streets.service("shortcuts"),this.profile.registerObserver(this),this.shortcuts.claim(this,u.PC.powerSearch),this._updateInfo()}componentWillUnmount(){this.shortcuts.unclaim(this,u.PC.powerSearch),this.profile.unregisterObserver(this),this.alerts=null,this.feedly=null,this.leo=null,this.profile=null,this.router=null,this.shortcuts=null}onProfileUpgraded(){this._updateEnterprisePartRestrictions()}onShortcutKey(e){e===u.PC.powerSearch&&this._resetLayerBuilder()}render(){return i.createElement(i.Fragment,null,i.createElement(E.H2,{light:!0},"Search for specific companies, products, and topics across the web"),this._renderPowerSearch())}_renderPowerSearch(){const{bundles:e,bundleVelocities:t,hasLeoFeedsLimit:s,hasLeoSecurityAccess:n,hasWebAlertsAccess:r,isLoadingInitialState:a,layers:o,notLayers:c,operator:u,refineMode:m,refineModeSwitchState:E,restrictedTypes:C,salienceSwitchState:k,totalVelocity:S}=this.state;return a?i.createElement(b.g,null):o.length?i.createElement(i.Fragment,null,i.createElement(g.m,{layers:o,notLayers:c,onLayersChange:this._onLayersChange,onResetBundleTierLevels:()=>{this.setState((e=>{let{bundles:t}=e;return{bundles:{...t,[m]:t[m].map((e=>({...e,tier:p._O})))}}}))},onSalienceSwitchStateChange:e=>{this.setState({salienceSwitchState:e})},operator:u,resetLayerBuilder:this._resetLayerBuilder}),i.createElement(w.U,{analyticsContext:"searchPage",bundles:e,hasLeoFeedsLimit:s,hasLeoSecurityAccess:n,hasWebAlertsAccess:r,layers:o,notLayers:c,onAlertCreated:()=>{window.localStorage.removeItem(M)},onClearSearch:this._resetLayerBuilder,onProPlusUpgradeClick:this._onProPlusUpgradeClick,refineMode:m,restrictedTypes:C}),(0,l.Kf)(o)&&i.createElement(f.h,{autoSetToMention:()=>{this.setState({layers:(0,l.kr)(o,0,d.mb.mention),salienceSwitchState:h.L1.autoSetToMention})},bundles:e,bundleVelocities:t,getScrollTarget:()=>streets.service("feedly").getMainScrollTarget(),layers:o,notLayers:c,onUpdateBundles:e=>{this.setState({bundles:e},this._onUpdateLocalStorage)},onToggleMode:(e,t)=>{this.setState({refineMode:e.id,refineModeSwitchState:t,totalVelocity:null},this._onUpdateLocalStorage)},onVelocitiesChange:(e,t)=>{this.setState({bundleVelocities:e,totalVelocity:t})},refineMode:m,refineModeSwitchState:E,replacePageURL:this._replacePageURL,restrictedTypes:C,salienceSwitchState:k,upgradeModal:this._renderUpgradeModal(),velocity:S,velocityCallout:i.createElement(v.r,{bundles:e,hideHighVelocityWarning:!0,refineMode:m,salienceSwitchState:k,velocity:S})})):i.createElement(i.Fragment,null,i.createElement(y.D,{isCybersecurity:n,onAddFirstPart:this._onAddFirstPart}),i.createElement(_.j,{isCybersecurity:n,onSearch:this._onKnowledgeItemSearch}))}}S.propTypes={pageInfo:a().shape({beyondSearchOptions:h.ys})},S.defaultProps={pageInfo:{}}},29017:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(62784),o=s(69440);function l(e){let{isCybersecurity:t,onSearch:s}=e;return n.createElement(o.G,{header:"Search",list:(0,a.uZ)({isCybersecurity:t}),onClick:s})}l.propTypes={isCybersecurity:r().bool.isRequired,onSearch:r().func.isRequired}},13433:(e,t,s)=>{"use strict";s.d(t,{T:()=>fe});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(3e3),l=s(74221),c=s(20461),d=s(8199),h=s(7761),u=s(37225),p=s(855),m=s(32285),g=s(62784),f=s(66105),y=s(4704),v=s(33259),b=s.n(v),E=s(45750),C=s.n(E),w=s(18514),k=s(57855),_=s(96968);function M(e){var t,s;let{onSwitchToBeyond:n,searchTerm:r,scope:a,time:o}=e;const c=null!==(t=null!==(s=r.label)&&void 0!==s?s:r.text)&&void 0!==t?t:"".concat(r," severity vulnerabilities");return i.createElement(i.Fragment,null,i.createElement("p",{key:"description"},"Sorry, we couldn't find any articles in your Feedly about \"",c,'"'),i.createElement("p",{key:"suggestionTitle"},"Suggestions:"),i.createElement("ul",{key:"suggestionList",className:"fx-p"},a!==(0,l.N1)()&&a!==(0,l.xW)()&&i.createElement("li",null,"Search in other parts of your Feedly. 'All Feeds' is usually a good place to start."),"forever"!==o&&i.createElement("li",null,"Search in the longest time frame possible. 'Forever' is the safest bet."),!!n&&i.createElement("li",null,"Cast a wider net and"," ",i.createElement(_.E,{importance:"primary",onClick:n},i.createElement("u",null,"search beyond your Feedly"))),i.createElement("li",null,"Check that all the words are spelled correctly")))}M.propTypes={onSwitchToBeyond:a().func,scope:a().string,searchTerm:a().oneOfType([a().string,a().object]).isRequired,time:a().string.isRequired},M.defaultProps={onSwitchToBeyond:void 0,scope:void 0};var S=s(74296),I=s(29125),T=s(89521),N=s(11245);const L=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10 1.643a8.357 8.357 0 1 0 0 16.714 8.357 8.357 0 0 0 0-16.714Zm0 1a7.357 7.357 0 1 1 0 14.714 7.357 7.357 0 0 1 0-14.714Z"}),i.createElement("path",{d:"M12.699 6.669 8.413 8.097a.5.5 0 0 0-.316.316L6.67 12.7a.5.5 0 0 0 .632.632l4.286-1.428a.5.5 0 0 0 .316-.316L13.33 7.3a.5.5 0 0 0-.632-.632Zm-.633 1.264-1.033 3.1-3.1 1.033 1.033-3.1 3.1-1.033Z"})))}));var P=s(39908),D=s(40854),A=s(78684),O=s(56816),x=s(4425),R=s(46449),j=s(99730),F=s(8629),U=s(32727);const z={annotated:T.Z,board:N.Z,teamBoard:N.Z,explore:L,feed:P.Z,folder:D.Z,priority:A.Z,readLater:O.Z,recentlyRead:x.Z};class Z extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{enterpriseCollections:[],enterpriseTags:[],globalScopeItems:[],feedItems:[],personalCollections:[],personalTags:[],priorityList:[]})}componentDidMount(){this.feeds=streets.service("feeds"),this.enterprisetags=streets.service("enterprisetags"),this.enterprisetags.registerObserver(this),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisecollections.registerObserver(this),this.personalcollections=streets.service("personalcollections"),this.personalcollections.registerObserver(this),this.reader=streets.service("reader"),this.reader.registerObserver(this),this.personaltags=streets.service("personaltags"),this.personaltags.registerObserver(this),this.priorities=streets.service("priorities"),this.priorities.registerObserver(this),this._updateGlobalScopeItems(),this._updateFeedItems(),this._updatePersonalCollections(),this._updatePersonalTags(),this._updateEnterpriseCollections(),this._updateEnterpriseTags(),this._updatePriorities()}componentWillUnmount(){this.personalcollections.unregisterObserver(this),this.personalcollections=null,this.enterprisecollections.unregisterObserver(this),this.enterprisecollections=null,this.enterprisetags.unregisterObserver(this),this.enterprisetags=null,this.reader.unregisterObserver(this),this.reader=null,this.personaltags.unregisterObserver(this),this.personaltags=null,this.priorities.unregisterObserver(this),this.priorities=null,this.feeds=null}onCollectionsChanged(){this._updateEnterpriseCollections()}onTagsChanged(){this._updateEnterpriseTags(),this._updatePersonalTags()}onFeedChanged(){this._updatePersonalCollections()}onPrioritiesChanged(){this._updatePriorities()}render(){const e=this._getSelectedItem();return i.createElement(j.L,{align:"right",dropDownArrow:!0,fullWidth:!0,label:e&&e.label||"Select an option",menu:this._renderMenu()})}_renderMenu(){const{enterpriseCollections:e,enterpriseTags:t,feedItems:s,globalScopeItems:n,personalCollections:r,personalTags:a,priorityList:o}=this.state,c=streets.hasBusinessAccess()?"Personal ":"",d=(0,I.FM)("global.saved",streets.getUserId());return i.createElement(U.G,{deselectable:!0},n.map((e=>this._renderMenuItem(e,e.icon))),s.map((e=>this._renderFaviconMenuItem(e))),o.length>0&&i.createElement("div",{className:"list-separator"},"Priorities"),o.map((e=>this._renderMenuItem(e,z.priority))),e.length>0&&i.createElement("div",{className:"list-separator"},"Team Feeds"),e.map((e=>{const t=(0,l.Yg)(e.id).isAll?z.feed:z.folder;return this._renderMenuItem(e,t)})),t.length>0&&i.createElement("div",{className:"list-separator"},"Team Boards"),t.map((e=>this._renderMenuItem(e,z.teamBoard))),r.length>0&&i.createElement("div",{className:"list-separator"},c+"Feeds"),r.map((e=>{const t=(0,l.Yg)(e.id).isAll?z.feed:z.folder;return this._renderMenuItem(e,e.icon||t)})),a.length>0&&i.createElement("div",{className:"list-separator"},c+"Boards"),a.map((e=>this._renderMenuItem(e,e.id===d?z.readLater:z.board))))}_renderFaviconMenuItem(e){return i.createElement(F.s,{key:e.id,onClick:()=>{const{onScopeSelect:t}=this.props;t(e)}},i.createElement(R.j,{alt:e.alt,className:"m-r-1",compact:!0,square:!0,url:e.favicon}),i.createElement("span",null,e.label))}_renderMenuItem(e,t){return i.createElement(F.s,{key:e.id,onClick:()=>{const{onScopeSelect:t}=this.props;t(e)}},i.createElement(t,{importance:"tertiary"}),e.label)}_getSelectedItem(){const{selectedScope:e}=this.props,{feedItems:t,globalScopeItems:s,personalCollections:n,personalTags:i,priorityList:r,enterpriseCollections:a,enterpriseTags:o}=this.state;if(e){const l=[...t,...s,...a,...o,...n,...i,...r].find((t=>{let{id:s}=t;return s===e}));if(l)return l}return s[0]}_updateEnterpriseCollections(){streets.hasBusinessAccess()?this.enterprisecollections.askListSubscribedCollections().then((e=>{const t=(e||[]).slice(0);t.unshift({label:"All Team Feeds",icon:z.feed,id:"".concat((0,l.Gr)())}),this.setState({enterpriseCollections:t})})).catch(this._onErrorFetching):this.setState({enterpriseCollections:[]})}_updateEnterpriseTags(){streets.hasBusinessAccess()?this.enterprisetags.askListSubscribedTags().then((e=>{const t=(e||[]).slice(0);t.unshift({label:"All Team Boards",icon:z.board,id:"".concat((0,l.kW)())}),this.setState({enterpriseTags:t})})).catch(this._onErrorFetching):this.setState({enterpriseTags:[]})}_updateFeedItems(){const{selectedScope:e}=this.props,{isFeed:t}=(0,l.Yg)(e);t?this.feeds.askLookupFeed(e).then((e=>{e&&e.id&&this.setState({feedItems:[{alt:e.title,id:e.id,favicon:e.favicon,label:"Source: ".concat(e.title)}]})})):this.setState({feedItems:[]})}_updateGlobalScopeItems(){const e=[];streets.getUserId()&&(streets.hasBusinessAccess()?e.push({label:"All Feeds",icon:z.feed,id:"".concat((0,l.xW)())},{label:"All Boards",icon:z.board,id:"".concat((0,l.GJ)())},{label:"Annotated",icon:z.annotated,id:(0,l.LI)()}):e.push({label:"All Personal Feeds",icon:z.feed,id:(0,l.N1)()},{label:"All Personal Boards",icon:z.board,id:(0,l.TN)()},{label:"Annotated",icon:z.annotated,id:(0,l._k)()}),e.push({label:"Recently Read",icon:z.recentlyRead,id:(0,l.os)()})),this.setState({globalScopeItems:e})}async _updatePersonalCollections(){if(!streets.getUserId())return void this.setState({personalCollections:[]});let e=await this.personalcollections.askListCollections();streets.hasBusinessAccess()&&(e=[{label:"All Personal Feeds",icon:z.feed,id:"".concat((0,l.N1)())},...e]),this.setState({personalCollections:e})}_updatePersonalTags(){streets.getUserId()?this.personaltags.askListTags().then((e=>{const t=(e||[]).slice(0);streets.hasBusinessAccess()&&t.unshift({label:"All Personal Boards",icon:z.board,id:"".concat((0,l.TN)())}),this.setState({personalTags:t})})).catch(this._onErrorFetching):this.setState({personalTags:[]})}_updatePriorities(){this.priorities.askListPriorities().then((e=>{this.setState({priorityList:e})})).catch(this._onErrorFetching)}_onErrorFetching(e){streets.service("signs").showMessage("Error: "+e&&e.message)}}Z.propTypes={onScopeSelect:a().func.isRequired,selectedScope:a().string.isRequired};var B=s(99175),H=s(31731),Y=s(2772),W=s(9990);const q={time:{items:u.tR,label:"Published",tipsyTitle:"Timeframe",tipsyMessage:"Refine your search based on when an article was published"},ranked:{items:u._y,label:"Sort by",tipsyTitle:"Sorting",tipsyMessage:"Sort your results chronologically or by popularity"},scope:{items:[],label:"Search In",tipsyTitle:"Where to Search?",tipsyMessage:"Search in a specific Feed or Board within Feedly"},embedded:{items:u.yJ,label:"Embedded Content",tipsyTitle:"Embedded Content",tipsyMessage:"Search for articles with embedded video, audio, or documents"}};Object.keys(q).forEach((e=>{const t=q[e];t.itemLabelMap=t.items.reduce(((e,t)=>(e[t.id]=t.label,e)),{})}));class V extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderDropDownMenu",((e,t)=>i.createElement(U.G,{deselectable:!0},t.map((t=>i.createElement(F.s,{key:t.id,onClick:s=>{s.preventDefault(),this._closeMenu(),this._onItemSelect(e,t)}},i.createElement(i.Fragment,null,t.label))))))),(0,n.Z)(this,"_renderScopeSelect",(()=>{const{scope:e}=this.props;return i.createElement(Z,{onScopeSelect:this._onScopeSelect,selectedScope:e})})),(0,n.Z)(this,"_closeMenu",(()=>{this.setState({openDropDownId:null})})),(0,n.Z)(this,"_onDropDownClick",(e=>{this.setState({openDropDownId:e})})),(0,n.Z)(this,"_onScopeSelect",(e=>{this._onItemSelect("scope",e)})),this.state={openDropDownId:null}}render(){const{embedded:e,ranked:t,time:s}=this.props;return i.createElement("div",{className:"form InYourFeedlySearchFilter"},i.createElement(Y.H2,{className:"m-t-0",light:!0},"Refine"),this._renderLabel(q.scope),this._renderScopeSelect(),this._renderLabel(q.time),this._renderSelect("time",s),this._renderLabel(q.ranked),this._renderSelect("ranked",t),this._renderLabel(q.embedded),this._renderSelect("embedded",e))}_renderLabel(e){let{label:t,tipsyTitle:s,tipsyMessage:n}=e;return i.createElement(W.H3,{appearance:"h4",className:"InYourFeedlySearchFilter__title m-t-1 m-b-h"},t,s&&n&&i.createElement(B.d,{position:"top",content:i.createElement("div",{className:"InYourFeedlySearchFilter__tipsy"},i.createElement("div",{className:"InYourFeedlySearchFilter__tipsy-title"},s),i.createElement("div",{className:"InYourFeedlySearchFilter__tipsy-message"},n))},i.createElement(S.Z,{className:"m-l-h",importance:"tertiary"})))}_renderSelect(e,t){const{openDropDownId:s}=this.state,{items:n,itemLabelMap:r}=q[e],a=r[t]||r[u.AT[e]],o=this._renderDropDownMenu(e,n);return i.createElement(H.X,{dropDownArrow:!0,fullWidth:!0,id:e,isOpen:s===e,label:a,menu:o,onButtonClick:()=>{this._onDropDownClick(e)},onCloseMenu:this._closeMenu})}_areBothDefault(e,t,s){let n;return n="scope"===e?!s&&t===this._getDefaultSearchScope():!(t&&"-"!==t&&t!==u.AT[e]||s&&"-"!==s&&s!==u.AT[e]),n}_getDefaultSearchScope(){const e=streets.getUserId();let t;if(e){const s=(0,I.FM)("global.all",e,"category");t=streets.hasBusinessAccess()?"".concat(s,",enterprise/").concat(streets.getEnterpriseId(),"/category/global.all"):s}else t="topic/global.popular";return t}_onItemSelect(e,t){const{onItemSelect:s}=this.props,n=this.props[e],i=t.id;this._areBothDefault(e,i,n)||i===n||s(e,i)}}V.propTypes={embedded:a().oneOf(["any","audio","doc","video"]),onItemSelect:a().func,ranked:a().oneOf(["engagement","newest"]),scope:a().string,time:a().oneOf(["forever","month","today","week"])},V.defaultProps={embedded:void 0,onItemSelect:()=>{},ranked:void 0,scope:void 0,time:void 0};var Q=s(27339);class G extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onScrollPage",(()=>{const{upgradeModal:e}=this.props,{continuation:t,isLoadingEntries:s,isLoadingMoreEntries:n}=this.state,i=1.5*(0,k.$$)(document);!(0,k.Hp)(this._scrollTarget,i)||!t||n||s||e||this.setState({isLoadingMoreEntries:!0},(()=>{this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries()}))})),(0,n.Z)(this,"_updateEntries",(async()=>{const{layers:e,notLayers:t,onSearchFiltersChange:s,replacePageURL:n,searchFilters:i}=this.props,{continuation:r,entries:a,isLoadingMoreEntries:o,streamVersion:l,timeFilterAutoSet:c}=this.state;try{this.setState({isLoadingEntries:!o,timeFilterAutoSet:!1}),this._globalSearchCount+=1;const d=this._globalSearchCount,{embedded:h,ranked:m,scope:g,time:f}=(0,p.nf)(i),y=(0,p.X$)({layers:e,notLayers:t,scope:g});y.continuation=o?r:null,h&&y.layers.push({type:"embeddedMedia",mediaTypes:[h]});const{continuation:v,entries:b}=await this.reader.askInYourFeedlySearch(y,{ranked:m,time:f});if(this._globalSearchCount!==d)return;const E=(0,w.q)([...o?a:[],...b]);if(!E.length&&!v&&!c&&f===u.qp.month)return s({embedded:h,ranked:m,scope:g,time:u.qp.forever}),void this.setState({timeFilterAutoSet:!0},this._updateEntries);const C=E.length<10&&!!v;this.setState({continuation:v,entries:E,isLoadingEntries:!1,isLoadingMoreEntries:C,streamVersion:l+1},(()=>{C?this._updateEntries():n()}))}catch(d){this.setState({continuation:"",entries:[],hasPreviewError:!0,isLoadingEntries:!1,isLoadingMoreEntries:!1,streamVersion:l+1})}})),this._debouncedUpdateEntries=C()(this._updateEntries,1e3),this._globalSearchCount=0,this._throttledCheckMoreEntriesNeeded=b()(this._onScrollPage,200),this._scrollTarget=streets.service("feedly").getMainScrollTarget(),this._scrollTarget.addEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this.state={continuation:"",entries:[],hasPreviewError:!1,isLoadingEntries:!1,isLoadingMoreEntries:!1,streamVersion:0,timeFilterAutoSet:!1}}componentDidMount(){const{layers:e}=this.props;this.reader=streets.service("reader"),this.reader.registerObserver(this),(0,c.Kf)(e)&&this._updateEntries()}componentDidUpdate(e){const{layers:t,notLayers:s,searchFilters:n}=this.props,i=[...e.layers,...e.notLayers],r=[...t,...s];((0,c.qd)(i,r)||(0,c.ee)(i,r)||n!==e.searchFilters)&&this._updateEntries()}componentWillUnmount(){this._debouncedUpdateEntries.cancel(),this._debouncedUpdateEntries=null,this._globalSearchCount=null,this._scrollTarget.removeEventListener("scroll",this._throttledCheckMoreEntriesNeeded),this._scrollTarget=null,this.reader.unregisterObserver(this),this.reader=null}onEntryBuried(e){const{entries:t}=this.state;if(t.length){const s=t.findIndex((t=>t.getId()===e));if(s>-1){const e=[...t];e.splice(s,1),this.setState({entries:e})}}}render(){const{layers:e,notLayers:t,onSearchFiltersChange:s,onSwitchToBeyond:n,searchFilters:r,searchFilters:{embedded:a,ranked:o,scope:l,time:c},upgradeModal:d}=this.props,{continuation:h,entries:u,hasPreviewError:m,isLoadingEntries:g,isLoadingMoreEntries:f,streamVersion:y,timeFilterAutoSet:v}=this.state;return i.createElement("div",{className:"LayerBuilderInResults"},i.createElement("div",{className:"LayerBuilderInResults__entries"},i.createElement(Q.w,{continuation:h,disableNavigation:!!d,emptyState:i.createElement(M,{onSwitchToBeyond:n,scope:l,searchTerm:e.find((e=>!!e.parts.length)).parts[0],time:c}),entries:u,hasPreviewError:m,headerLabel:"Results",isLoadingEntries:g,isLoadingMoreEntries:f,layers:e,searchOptions:(0,p.X$)({layers:e,notLayers:t,scope:l}),streamVersion:y,timeFilterAutoSet:v}),!g&&d),i.createElement("div",{className:"LayerBuilderInResults__search-filters"},i.createElement(V,{embedded:a,onItemSelect:(e,t)=>{const n={[e]:t};"scope"===e&&(n.time=(0,p.NY)(t,r.time)),s({...r,...n})},ranked:o,scope:l,time:c})))}}G.propTypes={layers:a().arrayOf(a().object).isRequired,notLayers:a().arrayOf(a().object).isRequired,onSearchFiltersChange:a().func.isRequired,onSwitchToBeyond:a().func,replacePageURL:a().func.isRequired,searchFilters:a().shape({embedded:a().string,ranked:a().string,scope:a().string,time:a().string}).isRequired,upgradeModal:a().element},G.defaultProps={onSwitchToBeyond:void 0,upgradeModal:null};var K=s(23005),J=s(5685),X=s(29017),$=s(89919),ee=s(57993),te=s(56295),se=s(99220),ne=s(75113),ie=s(68620),re=s(65060),ae=s(47747),oe=s(55118),le=s(7294),ce=s(53670),de=s(81501),he=s(44205),ue=s(32968),pe=s(27924),me=s(55613);class ge extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderPriorityActionsModal",(()=>{const{isConfirmClearSearchModalOpen:e,isCreatePriorityModalOpen:t,isLeoUpgradeModalOpen:s,isSavingPriority:n,priorityModalTitle:r}=this.state,{onClearSearch:a,onProPlusUpgradeClick:o}=this.props;return e?i.createElement(ie.c,{cancelLabel:"Cancel",danger:!0,description:"Do you want to clear all fields in this search? This action cannot be undone.",onCancel:this._onCloseConfirmClearSearchModal,onSuccess:()=>{this.setState({isConfirmClearSearchModalOpen:!1}),a()},successLabel:"Clear Search",title:"Clear Search?"}):t?i.createElement(re.u,{className:"PowerSearchInActions__modal",onClose:this._onCloseCreatePriorityModal},i.createElement(Y.H2,{appearance:"h3"},"Create Leo Priority"),i.createElement(he.x,{color:"tertiary"},"Name the Priority"),i.createElement(ue.o,{className:"m-b-1",value:r,onChange:this._onChangePriorityTitle}),i.createElement(ce.z,{importance:"primary",label:"Create",loading:n,onClick:this._createPriority,size:"normal"}),i.createElement(ce.z,{importance:"secondary",label:"Cancel",onClick:this._onCloseCreatePriorityModal,size:"normal"})):s?i.createElement(ae.k,{ctaLabel:"Upgrade to activate your Leo",description:"Upgrade to track the topics and trends you care about, without the noise.",illustration:pe,illustrationDark:me,onClose:this._onCloseLeoUpgradeModal,onCtaClick:o,title:"Create Leo Priorities with Pro+"}):null})),(0,n.Z)(this,"_onChangePriorityTitle",(e=>{this.setState({priorityModalTitle:e})})),(0,n.Z)(this,"_onCloseConfirmClearSearchModal",(()=>{this.setState({isConfirmClearSearchModalOpen:!1})})),(0,n.Z)(this,"_onCloseCreatePriorityModal",(()=>{this.setState({isCreatePriorityModalOpen:!1,priorityModalTitle:""})})),(0,n.Z)(this,"_onCloseLeoUpgradeModal",(()=>{this.setState({isLeoUpgradeModalOpen:!1})})),(0,n.Z)(this,"_onOpenConfirmClearSearchModal",(()=>{this.setState({isConfirmClearSearchModalOpen:!0})})),(0,n.Z)(this,"_onOpenCreatePriorityModal",(()=>{const{priorityModalTitle:e}=this.state,{layers:t}=this.props;if(!e.length&&(0,g.bB)(t)){const e=t[0].parts[0],s=e.label||e.text;this.setState({priorityModalTitle:s,isCreatePriorityModalOpen:!0})}else this.setState({isCreatePriorityModalOpen:!0})})),(0,n.Z)(this,"_onOpenLeoUpgradeModal",(()=>{this.setState({isLeoUpgradeModalOpen:!0})})),(0,n.Z)(this,"_createPriority",(async()=>{const{layers:e,notLayers:t,scope:s}=this.props,{priorityModalTitle:n}=this.state,i=s.split(","),{isEnterprise:r}=i&&(0,l.Yg)(i[0]);this.setState({isSavingPriority:!0});const a={label:n,layers:(0,p.iW)(e,t),streamIds:i},o=r?streets.service("enterprisepriorities"):streets.service("personalpriorities");try{const e=await o.askSave(a);this.router.loadPage((0,se.no)(e))}catch(c){c&&c.errorMessage&&(c.errorMessage.startsWith(te._i)||c.errorMessage.startsWith(te.Eo))?this.setState({isLimitReachedPersonal:!r,isLimitReachedTeam:r}):(console.error(c),this.signs.showError("".concat(c.errorCode||c.name," -- ").concat(c.errorMessage||c.message)))}finally{this.setState({isSavingPriority:!1}),this._onCloseCreatePriorityModal()}})),this.state={isConfirmClearSearchModalOpen:!1,isCreatePriorityModalOpen:!1,isLeoUpgradeModalOpen:!1,isLimitReachedPersonal:!1,isLimitReachedTeam:!1,isSavingPriority:!1,priorityModalTitle:""}}componentDidMount(){this.router=streets.service("router"),this.signs=streets.service("signs")}componentWillUnmount(){this.router=null,this.signs=null}render(){const{isLimitReachedPersonal:e,isLimitReachedTeam:t}=this.state,{layers:s,restrictedTypes:n,scope:r}=this.props,a=e||t;let o=!0,d=!0;const h=streets.hasAdminBusinessAccess(),u=r.split(","),{isCategory:p,isEnterprise:m}=(0,l.Yg)(u[0]);1===u.length?(p&&(o=!1),m&&!h||(d=!1)):2===u.length&&(d=!1);const g=!streets.hasProAccess()||!(0,c.Kf)(s)||o||d||a||!!n.length,f=!streets.hasProPlusAccess();let y=i.createElement(ce.z,{disabled:g,icon:f&&i.createElement($.Z,{color:g?"black":"white"}),key:"create-priority",label:"Create Leo Priority",onClick:f?this._onOpenLeoUpgradeModal:this._onOpenCreatePriorityModal});(o||d)&&(y=i.createElement(B.d,{key:"feed-only-tipsy",content:i.createElement(i.Fragment,null,i.createElement("div",{className:"PowerSearchInActions__tipsy-title"},h?"Feed only":"Personal Feed only"),i.createElement("div",{className:"PowerSearchInActions__tipsy-message"},h?"You can only create a Leo priority when you are searching in a personal or team feed":"You can only create a Leo priority when you are searching in a personal feed")),textAlign:"left",position:"top"},i.createElement("span",{className:"PowerSearchInActions__tipsy-target"},y)));const v=[y,i.createElement(ce.z,{key:"clear-search",importance:"tertiary",label:"Clear Search",onClick:this._onOpenConfirmClearSearchModal})];return i.createElement("div",{className:"PowerSearchInActions__buttons"},i.createElement(de.L,{target:".PriorityOptionSelector"},(e=>{let{isSticky:t}=e;return i.createElement(i.Fragment,null,v,t&&i.createElement(oe.h,{target:"#headerBarFX"},i.createElement(ne.h,{actions:v,compact:!0,headingColumnCount:4,title:"In Your Feedly Search"})))})),this._renderPriorityActionsModal(),this._renderUpgradePrompt())}_renderUpgradePrompt(){const{isLimitReachedPersonal:e,isLimitReachedTeam:t}=this.state;return e||t?i.createElement(le.o,{className:"PowerSearchInActions__upgrade-prompt",feature:"leoFeeds",type:e?ee.s.personal:ee.s.team}):null}}ge.propTypes={layers:a().arrayOf(a().object).isRequired,notLayers:a().arrayOf(a().object).isRequired,onClearSearch:a().func.isRequired,onProPlusUpgradeClick:a().func.isRequired,restrictedTypes:a().arrayOf(a().object).isRequired,scope:a().string.isRequired};class fe extends i.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_renderUpgradeModal",(()=>{const{restrictedTypes:e}=this.state;let t;return e.length?[t]=e:(streets.isStandardPlan()||this.profile.hasExpiredProPlan())&&(t={feature:d._B.proPlus,onProPlusUpgradeClick:this._onProPlusUpgradeClick,partType:u.Fq.in}),t?i.createElement(J.T,t):null})),(0,n.Z)(this,"_getRedirectURI",(()=>{const{layers:e,notLayers:t}=this.state,s={layers:(0,g.rT)({layers:e,notLayers:t})};return"powerSearch/in?options=".concat((0,g.Fs)(s))})),(0,n.Z)(this,"_onAddFirstPart",(function(e){let{operator:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.setState({layers:[(0,c.TY)(e,h.mb.mention)],operator:s},t._updateEnterprisePartRestrictions)})),(0,n.Z)(this,"_onKnowledgeItemSearch",(e=>{let{priorityOption:{defaultPart:t,layerType:s,searchHint:n}}=e;this.setState({layers:[{parts:t?[t]:[],salience:h.mb.mention,searchHint:n,type:s}]})})),(0,n.Z)(this,"_onLayersChange",((e,t)=>{const{[e]:s}=this.state;this.setState({[e]:t,operator:null},(()=>{(0,c.qd)(s,t)&&this._updateEnterprisePartRestrictions()}))})),(0,n.Z)(this,"_onProPlusUpgradeClick",(()=>{window.localStorage.setItem("powerSearchRedirectUri",this._getRedirectURI()),this.router.loadPage("pro/search")})),(0,n.Z)(this,"_replacePageURL",(()=>{const{layers:e,notLayers:t,searchFilters:s}=this.state;let n;if(e.length&&e[0].parts.length){const i=(0,g.Fs)({layers:(0,g.rT)({layers:e,notLayers:t})}),r=(0,p.iy)((0,p.nf)(s));n="powerSearch/in?options=".concat(i,"&").concat(r)}else this.feedly.scrollPageTo(0),n="powerSearch/in";(0,o.$B)(n)})),(0,n.Z)(this,"_resetLayerBuilder",(()=>{this.setState({layers:[],notLayers:[],operator:null,restrictedTypes:[]},this._replacePageURL)})),(0,n.Z)(this,"_updateEnterprisePartRestrictions",(async()=>{const{layers:e,notLayers:t}=this.state,s=await this.leo.askEnterprisePartRestrictions([...e,...t]);this.setState({restrictedTypes:s})})),(0,n.Z)(this,"_updateInfo",(async()=>{try{const e=await this.leo.askHasLeoSecurityFeature();this.setState({hasLeoSecurityAccess:e})}catch(e){console.error("Error",e)}})),(0,n.Z)(this,"_updateSearchParameters",(async()=>{var e;const{pageInfo:{beyondSearchOptions:t}={}}=this.props;if(null==t||null===(e=t.layers)||void 0===e||!e.length)return void this.setState({isLoadingInitialState:!1});const{layers:s,notLayers:n}=await this.alerts.askConvertBeyondSearchOptionsToState(t);this.setState({isLoadingInitialState:!1,layers:s,notLayers:n},this._updateEnterprisePartRestrictions)}));const{pageInfo:{searchEmbedded:s,searchRanked:r,searchScope:a,searchTime:l}={}}=this.props;this.state={hasLeoSecurityAccess:!1,isLoadingInitialState:!0,layers:[],notLayers:[],operator:null,restrictedTypes:[],searchFilters:{embedded:s||u.AT.embedded,ranked:r,scope:a||this._getDefaultSearchScope(),time:(0,p.NY)(a,l)}}}componentDidMount(){this.alerts=streets.service("alerts"),this.feedly=streets.service("feedly"),this.leo=streets.service("leo"),this.profile=streets.service("profile"),this.router=streets.service("router"),this.shortcuts=streets.service("shortcuts"),this.shortcuts.claim(this,m.PC.powerSearch),this.profile.registerObserver(this),this._updateInfo(),this._updateSearchParameters()}componentWillUnmount(){this.profile.unregisterObserver(this),this.shortcuts.unclaim(this,m.PC.powerSearch),this.alerts=null,this.feedly=null,this.leo=null,this.profile=null,this.router=null,this.shortcuts=null}onProfileUpgraded(){this._updateEnterprisePartRestrictions()}onShortcutKey(e){e===m.PC.powerSearch&&this._resetLayerBuilder()}render(){return i.createElement(i.Fragment,null,i.createElement(Y.H2,{light:!0},"Search specific topics, companies or products in your Feedly"),this._renderPowerSearch())}_renderPowerSearch(){const{onSwitchToBeyond:e}=this.props,{hasLeoSecurityAccess:t,isLoadingInitialState:s,layers:n,notLayers:r,operator:a,restrictedTypes:o,searchFilters:l,searchFilters:{scope:d}}=this.state;return s?i.createElement(K.g,null):n.length?i.createElement(i.Fragment,null,i.createElement(f.m,{layers:n,notLayers:r,onLayersChange:this._onLayersChange,operator:a,resetLayerBuilder:this._resetLayerBuilder}),i.createElement(ge,{layers:n,notLayers:r,onClearSearch:this._resetLayerBuilder,onProPlusUpgradeClick:this._onProPlusUpgradeClick,restrictedTypes:o,scope:d}),(0,c.Kf)(n)&&i.createElement(G,{layers:n,notLayers:r,onSearchFiltersChange:e=>{this.setState({searchFilters:e})},onSwitchToBeyond:e,replacePageURL:this._replacePageURL,searchFilters:l,upgradeModal:this._renderUpgradeModal()})):i.createElement(i.Fragment,null,i.createElement(y.D,{hideTutorial:!0,isCybersecurity:t,onAddFirstPart:this._onAddFirstPart}),i.createElement(X.j,{isCybersecurity:t,onSearch:this._onKnowledgeItemSearch}))}_getDefaultSearchScope(){return streets.hasBusinessAccess()?"".concat((0,l.N1)(),",").concat((0,l.Gr)()):(0,l.N1)()}}fe.propTypes={onSwitchToBeyond:a().func,pageInfo:a().shape({beyondSearchOptions:u.ys,searchEmbedded:a().string,searchRanked:a().string,searchScope:a().string,searchTime:a().string})},fe.defaultProps={onSwitchToBeyond:void 0,pageInfo:{}}},28430:(e,t,s)=>{"use strict";s.d(t,{W:()=>Ce});var n=s(23940),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l),d=s(94773);const h=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12.846 10.446a.5.5 0 0 1 .708 0c1.851 1.852 1.907 4.704.168 6.617l-.168.176-2.4 2.4c-1.91 1.91-4.884 1.91-6.793 0-1.852-1.851-1.908-4.704-.162-6.623l.169-.177 2.143-2.057a.5.5 0 0 1 .752.653l-.06.069-2.135 2.05c-1.52 1.519-1.52 3.86 0 5.378 1.466 1.467 3.699 1.517 5.218.152l.16-.152 2.4-2.4c1.52-1.519 1.52-3.86 0-5.378a.5.5 0 0 1 0-.708Z"}),r.createElement("path",{d:"M12.846 4.36c1.91-1.909 4.884-1.909 6.793 0 1.852 1.852 1.908 4.705.162 6.624l-.169.177-2.143 2.057a.5.5 0 0 1-.752-.653l.06-.069 2.135-2.05c1.52-1.519 1.52-3.86 0-5.378-1.466-1.467-3.699-1.517-5.218-.152l-.16.152-2.4 2.4c-1.52 1.519-1.52 3.86 0 5.378a.5.5 0 0 1-.708.708c-1.851-1.852-1.907-4.704-.168-6.617l.168-.176 2.4-2.4Z"})))}));const u=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M12 10.643a1.357 1.357 0 1 0 0 2.714 1.357 1.357 0 0 0 0-2.714Zm0 1a.357.357 0 1 1 0 .714.357.357 0 0 1 0-.714ZM18 10.643a1.357 1.357 0 1 0 0 2.714 1.357 1.357 0 0 0 0-2.714Zm0 1a.357.357 0 1 1 0 .714.357.357 0 0 1 0-.714ZM6 10.643a1.357 1.357 0 1 0 0 2.714 1.357 1.357 0 0 0 0-2.714Zm0 1a.357.357 0 1 1 0 .714.357.357 0 0 1 0-.714Z"})))}));var p=s(62e3),m=s(82316),g=s(5768),f=s(46291),y=s(15615),v=s(53670),b=s(87928);class E extends r.Component{constructor(e){super(e),this.state={isActive:!!e.entry.getFeedback()}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({isActive:!!t.getFeedback()})}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryFeedbackChanged(e){const{entry:t}=this.props;t.getId()===e&&this.setState({isActive:!!t.getFeedback()})}render(){const{className:e,entry:t}=this.props,{isActive:s}=this.state;return r.createElement(b.y,{button:r.createElement(v.z,{"aria-label":"Less like this",className:e,icon:r.createElement(y.Z,{color:s?"accent":"black",importance:s?void 0:"secondary"}),importance:"tertiary"}),entry:t})}}E.propTypes={className:c().string,entry:b.y.propTypes.entry},E.defaultProps={className:void 0,entry:void 0};var C=s(60964),w=s(47169);const k=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{fill:"currentColor",fillRule:"nonzero"},r.createElement("path",{d:"M11.015 2.51a2.214 2.214 0 0 1 1.8-.077l.171.077 6.856 3.428a2.214 2.214 0 0 1 1.223 1.815l.006.167v2.091a.5.5 0 0 1-.992.09l-.008-.09v-2.09c0-.415-.211-.798-.555-1.02l-.12-.068-6.856-3.428a1.214 1.214 0 0 0-.95-.056l-.13.055-6.858 3.43c-.37.184-.62.543-.666.95l-.008.136v8.163c-.002.416.207.8.548 1.024l.119.069 6.857 3.428c.342.171.745.171 1.087 0l2.24-1.12a.5.5 0 0 1 .447.895l-2.24 1.12a2.214 2.214 0 0 1-1.808.077l-.173-.077-6.859-3.43a2.214 2.214 0 0 1-1.212-1.822l-.006-.167V7.92c.001-.785.416-1.506 1.082-1.902l.146-.08 6.859-3.429Z"}),r.createElement("path",{d:"M20.074 6.547a.5.5 0 0 1 .524.847l-.077.047-8.297 4.15a.5.5 0 0 1-.36.033l-.088-.034L3.48 7.441a.5.5 0 0 1 .363-.927l.084.033L12 10.583l8.074-4.036Z"}),r.createElement("path",{d:"M12 10.643a.5.5 0 0 1 .492.41l.008.09v10.08a.5.5 0 0 1-.992.09l-.008-.09v-10.08a.5.5 0 0 1 .5-.5ZM19 12.5a.5.5 0 0 1 .492.41l.008.09v6a.5.5 0 0 1-.992.09L18.5 19v-6a.5.5 0 0 1 .5-.5Z"}),r.createElement("path",{d:"M22 15.5a.5.5 0 0 1 .09.992L22 16.5h-6a.5.5 0 0 1-.09-.992L16 15.5h6Z"})))}));var _=s(98978),M=s.n(_),S=s(81346),I=s.n(S),T=s(79199),N=s(16101),L=s(37638),P=s(10936),D=s(71824);class A extends r.Component{constructor(e){super(e),(0,w.Z)(this,"_containsFilterText",(e=>{const{filterText:t}=this.state;return e.name.toLowerCase().includes(t.toLowerCase())})),(0,w.Z)(this,"_onFilterTextChange",(e=>{this.setState({filterText:e});const{onFilterChange:t}=this.props;t(e)})),this.state={isLoading:!1,filterText:"",datasets:[],loadingDatasets:{},entryDatasetLabels:{}}}componentDidMount(){this.reader=streets.service("reader"),this.mltopicdatasets=streets.service("mltopicdatasets"),this.reader.registerObserver(this),this.mltopicdatasets.registerObserver(this),this._updateDatasets()}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this._updateEntryDatasetLabels()}componentWillUnmount(){this.reader.unregisterObserver(this),this.mltopicdatasets.unregisterObserver(this),this.reader=null,this.mltopicdatasets=null}onEntryDatasetsChanged(){this._updateEntryDatasetLabels()}render(){const{isLoading:e,filterText:t}=this.state,s=this._getFilteredDatasets();return r.createElement(P.P,{hint:e||0!==s.length?"":"No datasets found.",menuItems:this._renderDatasetMenuItems(s).slice(0,20),onChange:this._onFilterTextChange,placeholder:"Find dataset",value:t})}_renderDatasetMenuItems(e){const{isLoading:t}=this.state;if(t&&0===e.length)return[];const{articlesMatchingDatasets:s,missingDatasets:n,otherDatasets:i}=this._makeMatchingMissingOtherDatasets(e),a=[];return s.length&&a.push(r.createElement(D.N,{key:"LeoSuggestionMatchingTopicOrEntityDatasetHeader"},"Leo Suggestions"),...s.map((e=>this._renderDatasetMenuItem(e,N.K4.positive)))),a.push(...n.map((e=>this._renderDatasetMenuItem(e,N.K4.positive,!0))),r.createElement(D.N,{key:"datasetHeader"},"Datasets"),...i.map((e=>this._renderDatasetMenuItem(e)))),a}_renderDatasetMenuItem(e,t,s){const{filterText:n,loadingDatasets:i,entryDatasetLabels:a}=this.state;return r.createElement(L.b,{key:e.id,highlightedText:n,label:e.name,loading:!!i[e.id],onFeedbackClick:t=>{s?this._createDatasetThenSave(e,t):this._saveToDataset(e.id,t)},curationLabel:a[e.id],predictedCurationLabel:t,createDataset:s})}_makeMatchingMissingOtherDatasets(e){const{entry:t}=this.props,s=Object.assign({},...t.listEntities("nlp/f/entity").map((e=>({[e.id]:e})))),n=Object.keys(s),i=new Set(n),r=new Set(t.listCommonTopics().map((e=>e.id))),a=new Set(t.listBusinessEvents().map((e=>e.id))),o=new Set(e.map((e=>e.resourceId))),l=n.filter((e=>!o.has(e))).map((e=>s[e])).map(((e,t)=>({id:-t,name:"Entity "+e.label,resourceId:e.id}))),{articleTopicDatasets:c=[],articleEntitiesDatasets:d=[],otherDatasets:h=[]}=I()(e,(e=>{let{resourceId:t}=e;return r.has(t)||a.has(t)?"articleTopicDatasets":i.has(t)?"articleEntitiesDatasets":"otherDatasets"}));return{articlesMatchingDatasets:c.concat(d),missingDatasets:l,otherDatasets:h}}_getFilteredDatasets(){const{datasets:e,filterText:t}=this.state;if(!t)return e;const s=e.filter(this._containsFilterText);return M()(s,(e=>{let{name:s}=e;return s.toLowerCase().includes(t.toLowerCase())}))}async _createDatasetThenSave(e,t){this._setDatasetLoadingStatus(e.id,!0);try{let s=e.name;e.resourceId.includes("gz:ta:")?s+=" (actor)":e.resourceId.includes("gz:mal:")?s+=" (malware)":e.resourceId.includes("gz:org:")&&(s+=" (org)");const n=await this.mltopicdatasets.askCreateTopicDataset({name:s,resourceId:e.resourceId});await this._saveToDataset(n.id,t),this.setState((e=>{let{datasets:t}=e;return{datasets:[...t,n]}})),this._setDatasetLoadingStatus(e.id,!1)}catch(s){this._handleDatasetError(s,e.id)}}async _saveToDataset(e,t){this._setDatasetLoadingStatus(e,!0);const{entryDatasetLabels:s}=this.state,n=s[e]!==t?t:N.K4.unlabeled;try{const{entry:t}=this.props;await Promise.all([this.mltopicdatasets.askCurateEntry({topicDatasetId:e,entryId:t.getId(),curationLabel:n})]),this._setDatasetLoadingStatus(e,!1)}catch(i){this._handleDatasetError(i,e)}}_handleDatasetError(e,t){console.log("[picker.tag] ignore error",e),this._setDatasetLoadingStatus(t,!1),streets.service("signs")&&streets.service("signs").showError(e||"Oops! Something went wrong")}_setDatasetLoadingStatus(e,t){this.setState((s=>{let{loadingDatasets:n}=s;return n[e]===t?null:{loadingDatasets:{...n,[e]:t}}}))}async _updateDatasets(){this.setState({isLoading:!0});try{const e=await this.mltopicdatasets.askListTopicDatasets(!1);this.setState({datasets:e}),await this._updateEntryDatasetLabels()}catch(e){this.setState({isLoading:!1,datasets:[]})}}async _updateEntryDatasetLabels(){const{entry:e}=this.props,{datasets:t}=this.state;try{const s=await this.mltopicdatasets.askEntryDatasetIds(e.getId()),n={};t.forEach((e=>{n[e.id]=N.K4.unlabeled})),s.forEach((e=>{let{datasetId:t,label:s}=e;n[t]=s})),this.setState({entryDatasetLabels:n,isLoading:!1})}catch(s){this.setState({isLoading:!1})}}}A.propTypes={entry:T.A.isRequired,onFilterChange:c().func.isRequired},A.defaultProps={};var O=s(31731);class x extends r.Component{constructor(e){super(e),(0,w.Z)(this,"_onButtonClick",(()=>{const{isOpen:e}=this.state;e?this._onCloseMenu():this.setState({isOpen:!0})})),(0,w.Z)(this,"_onFilterTextChange",(e=>{this.setState({filterText:e})})),(0,w.Z)(this,"_onCloseMenu",(()=>{this.setState({isOpen:!1,filterText:""})})),this.state={isOpen:!1}}componentDidUpdate(e,t){const{onDatasetPickerStateChange:s}=this.props,{isOpen:n}=this.state;n!==t.isOpen&&s&&s(n)}render(){const{className:e,entry:t}=this.props,{isOpen:s}=this.state;if("feedly"!==streets.getEnterpriseId())return null;const n=r.createElement("div",null,r.createElement(A,{entry:t,onFilterChange:this._onFilterTextChange}));return r.createElement("div",{className:"fx AddToDatasetButton"},r.createElement(O.X,{caret:!0,icon:r.createElement(k,{importance:"secondary"}),className:e,importance:"tertiary",isOpen:s,menu:n,onButtonClick:this._onButtonClick,onCloseMenu:this._onCloseMenu,title:"Add to Dataset"}))}}x.propTypes={className:c().string,entry:c().shape({getId:c().func}).isRequired,onDatasetPickerStateChange:c().func},x.defaultProps={className:null,onDatasetPickerStateChange:null};var R=s(74713),j=s(8629);class F extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{window.open("".concat("https://ml.feedly.com/ml-topics-datasets/readability/annotate","?url=").concat(this.props.entry.getCanonicalUrl()))}))}render(){return"feedly"!==streets.getEnterpriseId()?null:r.createElement(j.s,{onClick:this._onClick},r.createElement(R.Z,{importance:"secondary"}),"Readability dataset")}}F.propTypes={entry:T.A.isRequired};var U=s(88591),z=s(9722);class Z extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;streets.service("buffer").askShareEntry(e.getId()),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(z.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Share to Buffer"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(z.Z,{importance:"secondary"}),"Buffer")}}Z.propTypes={className:c().string,entry:c().shape({getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},Z.defaultProps={className:void 0};var B=s(44970),H=s(24916);class Y extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.hasProAccess())return streets.service("slider").closeAll(),void streets.service("router").loadPage("pro/sharing.button.custom-sharing");const t=streets.service("preferences").getPreference("customSharing");if(!t)return void streets.service("router").loadPage("account/saving-sharing");if(!t.startsWith("http"))return void streets.service("signs").showMessage("Invalid custom share URL");const s=t.replace(/\${id}/g,encodeURIComponent(e.getId())).replace(/\${url}/g,encodeURIComponent(e.getAlternateLink())).replace(/\${source}/g,encodeURIComponent(e.getCleanSourceTitle())).replace(/\${title}/g,encodeURIComponent(e.getCleanTitle()));(0,H.N)(s,750,550),streets.service("analytics").trackEvent("sharing","customSharing"),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(B.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Custom Sharing"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(B.Z,{importance:"secondary"}),"Custom Sharing")}}Y.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getCleanSourceTitle:c().func,getCleanTitle:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},Y.defaultProps={className:void 0};var W=s(79987),q=s(31454);class V extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.getUserId())return void(0,q.YM)();const t=encodeURIComponent(e.getCleanTitle()+"\n"+e.getAlternateLink()+"\n\n -- via my feedly newsfeed"),s=encodeURIComponent("".concat(e.getCleanTitle()," [feedly]"));if("gmail"===streets.service("preferences").getPreference("emailClient")){const e="http://mail.google.com/mail/?view=cm&fs=1&tf=1&to=&su=".concat(s,"&body=\n\n").concat(t);(0,H.N)(e,500,700),streets.service("analytics").trackEvent("sharing","gmail")}else window.open("mailto:?subject=".concat(s,"&body=").concat(t),"_blank");streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(W.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Share via email"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(W.Z,{importance:"secondary"}),"Email")}}V.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getCleanTitle:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},V.defaultProps={className:void 0};const Q=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M11.33 2.5c1.575 0 1.793 1.301 2.234 1.427.293.084 1.263.226 2.908.426 1.938.313 2.975 1.282 3.112 2.906.205 2.437.537 7.041.371 8.504-.166 1.462-1.272 5.737-4.797 5.737-3.525 0-3.13-3.273-2.566-3.974.563-.702 1.151-1.103 2.173-.96 0 0 .488.068.488.617 0 .549-.489.697-.64.76-.153.065-1.081.282-.64 1.248.293.643.926.77 1.899.383.69-.345 1.079-.927 1.165-1.745.128-1.228-1.054-2.09-1.849-2.336-.795-.245-3.024-.587-3.024-1.734 0 0-.285 2.584-2.634 2.584-2.35 0-5.447-1.87-5.447-5.233 0 0-.24-1.395.097-2.425.338-1.03 1.924-2.744 2.72-3.57.797-.825 2.663-1.963 2.663-1.963.129-.435.718-.652 1.768-.652Zm5.46 7.988c-.566 0-1.055.31-1.055.73a.52.52 0 0 0 .018.137c.039.141.19.245.369.26l.229.001c.12.001.233.006.32.014.074.007.157.026.241.054a1.2 1.2 0 0 1 .144.057c.171.085.396.065.536-.05.16-.129.252-.295.252-.474 0-.42-.49-.729-1.055-.729Z",fill:"currentColor",fillRule:"evenodd"}))}));var G=s(907),K=s(51239);class J extends r.Component{constructor(e){super(e),(0,w.Z)(this,"_onClick",(()=>{const{isSaved:e}=this.state,{entry:t,target:s}=this.props;if(e){const e=t.getDecoration(K.I.evernote);e.startsWith("http")&&window.open(e)}else this.microsessions.setEntryAsShared(t.getId()),this.feedly.askPickNotebook(t.getId(),s?s.current:this._buttonRef.current,{align:s?"end":"start"})})),this._buttonRef=r.createRef(),this.state={isSaved:!!e.entry.getDecoration(K.I.evernote)}}componentDidMount(){this.feedly=streets.service("feedly"),this.microsessions=streets.service("microsessions"),this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({isSaved:!!t.getDecoration(K.I.evernote)})}componentWillUnmount(){this.reader.unregisterObserver(this),this.feedly=null,this.microsessions=null,this.reader=null,this._buttonRef=null}onDecorationChanged(e,t){const{entry:s}=this.props;s.getId()===e&&t===K.I.evernote&&this.setState({isSaved:!!s.getDecoration(K.I.evernote)})}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,elementRef:this._buttonRef,icon:this._renderIcon(),importance:"tertiary",onClick:this._onClick,title:"Save to Evernote"}):r.createElement(j.s,{onClick:this._onClick},this._renderIcon(),"Evernote")}_renderIcon(){const{isSaved:e}=this.state;return e?r.createElement(Q,{color:"accent"}):r.createElement(G.Z,{importance:"secondary"})}}J.propTypes={className:c().string,entry:c().shape({getDecoration:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired,target:c().oneOfType([c().instanceOf(Element),c().shape({current:c().instanceOf(Element)})])},J.defaultProps={className:void 0,target:void 0};var X=s(13931);class $ extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.getUserId())return void(0,q.YM)();const t=streets.service("preferences").getPreference("twitterPostfix")||"",s="http://www.facebook.com/share.php?src=bm&v=4&i=1289025326&t="+encodeURIComponent(e.getCleanTitle()+" "+t)+"&u="+encodeURIComponent(e.getAlternateLink())+"&_="+(new Date).getTime();(0,H.N)(s,450,550),streets.service("analytics").trackEvent("sharing","facebook"),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(X.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Share to Facebook"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(X.Z,{importance:"secondary"}),"Facebook")}}$.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getCleanTitle:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},$.defaultProps={className:void 0};var ee=s(94197);class te extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.getUserId())return void(0,q.YM)();if(!streets.hasProAccess())return streets.service("slider").closeAll(),void streets.service("router").loadPage("pro/sharing.button.instapaper");const t="http://www.instapaper.com/edit?url="+encodeURIComponent(e.getAlternateLink())+"&title="+encodeURIComponent(e.getCleanTitle())+"&_="+(new Date).getTime();(0,H.N)(t,400,550),streets.service("analytics").trackEvent("sharing","instapaper"),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(ee.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Save to Instapaper"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(ee.Z,{importance:"secondary"}),"Instapaper")}}te.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getCleanTitle:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},te.defaultProps={className:void 0};var se=s(69065);class ne extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.getUserId())return void(0,q.YM)();if(!streets.hasProAccess())return streets.service("slider").closeAll(),void streets.service("router").loadPage("pro/sharing.button.linkedin");const t="https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(e.getAlternateLink()));(0,H.N)(t,600,550),streets.service("analytics").trackEvent("sharing","linkedin"),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(se.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Share to LinkedIn"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(se.Z,{importance:"secondary"}),"LinkedIn")}}ne.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},ne.defaultProps={className:void 0};const ie=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M13.308 4.48a2.5 2.5 0 0 1 .044.327l.005.166V19.08a2.5 2.5 0 0 1-2.843 2.476l-.17-.03-5.429-1.138a2.5 2.5 0 0 1-1.98-2.279l-.006-.168V6.066A2.5 2.5 0 0 1 4.77 3.654l.164-.039 5.429-1.093a2.5 2.5 0 0 1 2.944 1.957Zm6.063.163c1.351 0 2.465 1.01 2.552 2.297l.006.162v9.796c0 1.31-1.06 2.371-2.39 2.454l-.168.005h-3.576v-3.34l2.272.002.09-.008a.5.5 0 0 0 0-.984l-.09-.008-2.272-.001V12.59h2.272l.09-.008a.5.5 0 0 0 0-.984l-.09-.008h-2.272V9.16l2.272.002.09-.008a.5.5 0 0 0 0-.984l-.09-.008-2.272-.001V4.643h3.576ZM10.313 8.62l-.09.008a.5.5 0 0 0-.402.402l-.008.09v4.045l-3.414-4.08-.063-.064a.501.501 0 0 0-.814.3l-.006.085v5.138l.008.09a.5.5 0 0 0 .402.402l.09.008.09-.008a.5.5 0 0 0 .402-.402l.008-.09v-3.762l3.414 4.083.063.064c.291.247.753.078.814-.3l.006-.085V9.121l-.008-.09a.5.5 0 0 0-.492-.41Z",fill:"currentColor",fillRule:"nonzero"}))}));var re=s(61142);class ae extends r.Component{constructor(e){super(e),(0,w.Z)(this,"_onClick",(()=>{const{isSaved:e}=this.state,{entry:t,target:s}=this.props;if(e){const e=t.getDecoration(K.I.oneNote);e.startsWith("http")&&window.open(e)}else this.microsessions.setEntryAsShared(t.getId()),this.feedly.askPickOneNoteSection(t.getId(),s?s.current:this._buttonRef.current,{align:s?"end":"start"})})),this._buttonRef=r.createRef(),this.state={isSaved:!!e.entry.getDecoration(K.I.oneNote)}}componentDidMount(){this.feedly=streets.service("feedly"),this.microsessions=streets.service("microsessions"),this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({isSaved:!!t.getDecoration(K.I.oneNote)})}componentWillUnmount(){this.reader.unregisterObserver(this),this.feedly=null,this.microsessions=null,this.reader=null,this._buttonRef=null}onDecorationChanged(e,t){const{entry:s}=this.props;s.getId()===e&&t===K.I.oneNote&&this.setState({isSaved:!!s.getDecoration(K.I.oneNote)})}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,elementRef:this._buttonRef,icon:this._renderIcon(),importance:"tertiary",onClick:this._onClick,title:"Save to OneNote"}):r.createElement(j.s,{onClick:this._onClick},this._renderIcon(),"OneNote")}_renderIcon(){const{isSaved:e}=this.state;return e?r.createElement(ie,{color:"accent"}):r.createElement(re.Z,{importance:"secondary"})}}ae.propTypes={className:c().string,entry:c().shape({getDecoration:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired,target:c().oneOfType([c().instanceOf(Element),c().shape({current:c().instanceOf(Element)})])},ae.defaultProps={className:void 0,target:void 0};const oe=(0,d.Z)((function(e){return r.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M18.857 3.786c1.223 0 2.214.991 2.214 2.214v5.143a9.071 9.071 0 0 1-18.142 0V6c0-1.223.99-2.214 2.214-2.214ZM8.856 9.874a.5.5 0 0 0-.638.765l3.428 3.429.07.058a.5.5 0 0 0 .638-.058l3.428-3.429.058-.069a.5.5 0 0 0-.058-.638l-.07-.058a.5.5 0 0 0-.637.058L12 13.007 8.925 9.932Z",fill:"currentColor",fillRule:"nonzero"}))}));var le=s(35307);class ce extends r.Component{constructor(e){super(e),(0,w.Z)(this,"_onClick",(()=>{const{isSaved:e}=this.state,{entry:t}=this.props;if(streets.getUserId())if(e){const e=t.getDecoration(K.I.pocket);e.startsWith("http")&&window.open(e)}else{if(streets.hasProAccess())this.feedly.askAddToPocket(t.getId());else{const e="https://getpocket.com/save?url="+encodeURIComponent(t.getAlternateLink())+"&title="+encodeURIComponent(t.getCleanTitle())+"&_="+(new Date).getTime()+"&__popup=true";(0,H.N)(e,320,550)}streets.service("analytics").trackEvent("sharing","pocket"),this.microsessions.setEntryAsShared(t.getId())}else(0,q.YM)()})),this.state={isSaved:!!e.entry.getDecoration(K.I.pocket)}}componentDidMount(){this.feedly=streets.service("feedly"),this.microsessions=streets.service("microsessions"),this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({isSaved:!!t.getDecoration(K.I.pocket)})}componentWillUnmount(){this.reader.unregisterObserver(this),this.feedly=null,this.microsessions=null,this.reader=null}onDecorationChanged(e,t){const{entry:s}=this.props;s.getId()===e&&t===K.I.pocket&&this.setState({isSaved:!!s.getDecoration(K.I.pocket)})}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:this._renderIcon(),importance:"tertiary",onClick:this._onClick,title:"Save to Pocket"}):r.createElement(j.s,{onClick:this._onClick},this._renderIcon(),"Pocket")}_renderIcon(){const{isSaved:e}=this.state;return e?r.createElement(oe,{color:"accent"}):r.createElement(le.Z,{importance:"secondary"})}}ce.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getCleanTitle:c().func,getDecoration:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},ce.defaultProps={className:void 0};var de=s(76730),he=s(68130);class ue extends r.Component{constructor(e){super(e),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;streets.getUserId()?streets.service("readingManager").askQuickListEntry(e.getId()):(0,q.YM)()})),this.state={isSaved:e.entry.isQuicklisted()}}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({isSaved:t.isQuicklisted()})}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryQuicklistStatusChanged(e,t){const{entry:s}=this.props;s.getId()===e&&this.setState({isSaved:t})}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:this._renderIcon(),importance:"tertiary",onClick:this._onClick,title:"Read Later"}):r.createElement(j.s,{onClick:this._onClick},this._renderIcon(),"Read later")}_renderIcon(){const{isSaved:e}=this.state;return e?r.createElement(de.Z,{color:"accent"}):r.createElement(he.Z,{importance:"secondary"})}}ue.propTypes={className:c().string,entry:c().shape({getId:c().func,isQuicklisted:c().func}).isRequired,isInShareBar:c().bool.isRequired},ue.defaultProps={className:void 0};var pe=s(45146);function me(e){let{className:t,entry:s}=e;return streets.service("preferences").hasCustomization("REDEF")?r.createElement(v.z,{className:t,icon:r.createElement(pe.Z,{importance:"secondary"}),importance:"tertiary",onClick:()=>{(0,H.x)(s)}}):null}me.propTypes={className:c().string,entry:c().objectOf(c().any).isRequired},me.defaultProps={className:void 0};var ge=s(36728);class fe extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.getUserId())return void(0,q.YM)();const t=[],s=streets.service("preferences").getPreference("twitterPostfix")||"",n=e.getDefaultTagOrCategory();let i=e.getCleanTitle()||"";s&&(i+=" "+s),"no"!==streets.service("preferences").getPreference("twitterHashtags")&&(n&&t.push(encodeURIComponent(n.slice(1))),t.push("feedly"));const r="http://twitter.com/share?related=feedly&text="+encodeURIComponent(i)+"&url="+encodeURIComponent(e.getAlternateLink())+"&_="+(new Date).getTime()+"&hashtags="+t.join(",");(0,H.N)(r,286,550),streets.service("analytics").trackEvent("sharing","tweet"),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(ge.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Save to Twitter"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(ge.Z,{importance:"secondary"}),"Twitter")}}fe.propTypes={className:c().string,entry:c().shape({getAlternateLink:c().func,getCleanTitle:c().func,getDefaultTagOrCategory:c().func,getId:c().func}).isRequired,isInShareBar:c().bool.isRequired},fe.defaultProps={className:void 0};var ye=s(75200);class ve extends r.Component{constructor(){super(...arguments),(0,w.Z)(this,"_onClick",(()=>{const{entry:e}=this.props;if(!streets.getUserId())return void(0,q.YM)();if(!streets.hasProAccess())return streets.service("slider").closeAll(),void streets.service("router").loadPage("pro/sharing.button.wordpress");let t=streets.service("preferences").getPreference("wordpressUrlPrefix");if(!t)return void streets.service("signs").showMessage("Configure WordPress URL in preferences");if(!t.startsWith("http:")&&!t.startsWith("https:"))return void streets.service("signs").showMessage('WordPress URL should start with "http" or "https"');t.indexOf("wp-admin/press-this.php")>-1?t.endsWith("?")||(t+="?"):(t.endsWith("/")||(t+="/"),t+="wp-admin/press-this.php?"),t+="u="+encodeURIComponent(t),t+="&t="+encodeURIComponent(e.getCleanTitle());const s=e.getExcerpt();s&&(t+="&s="+encodeURIComponent(s));const n=e.suggestVisual();n&&(t+="&i="+encodeURIComponent(n)),(0,H.N)(t,600,800),streets.service("analytics").trackEvent("sharing","wordPress"),streets.service("microsessions").setEntryAsShared(e.getId())}))}render(){const{className:e,isInShareBar:t}=this.props;return t?r.createElement(v.z,{className:e,icon:r.createElement(ye.Z,{importance:"secondary"}),importance:"tertiary",onClick:this._onClick,title:"Save to WordPress"}):r.createElement(j.s,{onClick:this._onClick},r.createElement(ye.Z,{importance:"secondary"}),"WordPress")}}ve.propTypes={className:c().string,entry:c().shape({getCleanTitle:c().func,getExcerpt:c().func,getId:c().func,suggestVisual:c().func}).isRequired,isInShareBar:c().bool.isRequired},ve.defaultProps={className:void 0};const be={save:ue,tag:C.D,addToDataset:x,lessLikeThis:E,evernote:J,instapaper:te,oneNote:ae,pocket:ce},Ee={redef:me,buffer:Z,customSharing:Y,email:V,facebook:$,linkedIn:ne,twitter:fe,wordPress:ve};class Ce extends r.Component{constructor(e){super(e),this._offsetParent=r.createRef(),this._target=r.createRef(),this.reader=streets.service("reader"),this.state={entry:this.reader.lookupEntry(e.entryId),isMoreMenuOpen:!1}}componentDidUpdate(e){const{entryId:t}=this.props;e.entryId!==t&&this.setState({entry:this.reader.lookupEntry(t)})}componentWillUnmount(){this._offsetParent=null,this._target=null,this.reader=null}render(){const{entry:e,isMoreMenuOpen:t}=this.state,{fullArticle:s}=this.props;if(!e)return null;const[n,i]=this._splitActions(Object.keys(be),[]),[a,l]=this._splitActions(Object.keys(Ee),i);return r.createElement("div",{"aria-label":"Article toolbar",className:o()("fx ShareBar",{"ShareBar--full-article":s})},r.createElement("div",{className:"ShareBar__wrapper"},r.createElement("div",{className:"ShareBar__actions-left"},this._renderShareBarActions(n,be),r.createElement(v.z,{className:"ShareBar__action",icon:r.createElement(h,{importance:"secondary"}),importance:"tertiary",onClick:()=>{(0,p.v)(e.getCleanAlternateLink()||"https://feedly.com/i/entry/".concat(encodeURIComponent(e.getId())))},title:"Copy link to clipboard"})),r.createElement("div",{className:"ShareBar__actions-right",ref:this._offsetParent},this._renderShareBarActions(a,Ee),r.createElement(v.z,{className:"ShareBar__action",elementRef:this._target,icon:r.createElement(u,{importance:"secondary"}),importance:"tertiary",onClick:()=>{this.setState((e=>{let{isMoreMenuOpen:t}=e;return{isMoreMenuOpen:!t}}))},title:"More services"}),t&&r.createElement(f.J,{align:"end",caret:!0,closeOnClick:!0,offsetParent:this._offsetParent,onClickOutside:()=>{this.setState({isMoreMenuOpen:!1})},onClose:()=>{this.setState({isMoreMenuOpen:!1})},target:this._target},r.createElement(U.v,null,r.createElement(F,{entry:this.state.entry}),this._renderMoreMenuActions(l),r.createElement(j.s,{className:"ShareBar__more-menu-action",onClick:()=>{streets.service("slider").addSlide(g.S)}},"Personalize"))))))}_renderMoreMenuActions(e){const{entry:t}=this.state,s={...be,...Ee},n={className:"ShareBar__more-menu-action",entry:t,isInShareBar:!1,target:this._target};return e.map((e=>{const t=s[e];return r.createElement(t,Object.assign({key:e},n))}))}_renderShareBarActions(e,t){const{entry:s}=this.state,n={className:"ShareBar__action",entry:s,isInShareBar:!0};return e.map((e=>{const s=t[e];return r.createElement(s,Object.assign({key:e},n))}))}_splitActions(e,t){return e.reduce(((e,t)=>(m.v.includes(t)&&"yes"!==streets.service("preferences").getPreference("enable".concat(i()(t)))?e[1].push(t):e[0].push(t),e)),[[],t])}}Ce.propTypes={entryId:c().string.isRequired,fullArticle:c().bool},Ce.defaultProps={fullArticle:!1}},82624:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r);const o=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"m8.432 2.357.09.012a.5.5 0 0 1 .39.507l-.011.09L5.726 17.25a.5.5 0 0 1-.988-.127l.012-.09L7.925 2.75a.5.5 0 0 1 .507-.392ZM14.78 2.357l.09.012a.5.5 0 0 1 .392.507l-.012.09-3.175 14.285a.5.5 0 0 1-.987-.127l.011-.09L14.274 2.75a.5.5 0 0 1 .507-.392Z"}),i.createElement("path",{d:"M15.556 12.675a.5.5 0 0 1 .09.992l-.09.008H2.857a.5.5 0 0 1-.09-.992l.09-.008h12.699ZM17.143 6.325a.5.5 0 0 1 .09.992l-.09.008H4.444a.5.5 0 0 1-.09-.992l.09-.008h12.699Z"})))}));var l=s(74221),c=s(38916),d=s(62784),h=s(92121),u=s(84475);class p extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_getSelectedSlackChannelName",(()=>{var e;const{slackChannelId:t}=this.props,{slackChannels:s}=this.state;return null===(e=s.find((e=>e.channelId===t)))||void 0===e?void 0:e.channelName})),(0,n.Z)(this,"_onToggleSlackNotifications",(()=>{const{isSlackIntegrationConnected:e}=this.state;if(this._isSlackEnabled())this._clearSlackChannelSelection();else if(e){const{slackChannels:e}=this.state;0===(null==e?void 0:e.length)?this.signs.showError("No Slack channels found"):this._onChannelSelect(e[0])}else this.integrations.connect(c.bK.slack)})),(0,n.Z)(this,"_onChannelSelect",(e=>{let{channelId:t}=e;const{onChange:s}=this.props;s({slackChannelId:t})})),(0,n.Z)(this,"_updateInfo",(async()=>{try{const[e,t]=await Promise.all([this.enterprise.askListSlackChannels(),this.integrations.askIsConnected(c.bK.slack)]);this.setState({isSlackIntegrationConnected:t,slackChannels:e})}catch(e){console.error("[SlackForm] error getting channels: ",e),this.signs.showError("Failed to retrieve Slack channels"),this._clearSlackChannelSelection()}})),this.state={isSlackIntegrationConnected:!1,slackChannels:null}}componentDidMount(){this.signs=streets.service("signs"),this.enterprise=streets.service("enterprise"),this.integrations=streets.service("integrations"),this._updateInfo()}componentWillUnmount(){this.enterprise=null,this.integrations=null,this.signs=null}render(){const e=this._isSlackEnabled(),t=e?"Slack notifications activated":"Activate Slack notifications";return i.createElement("div",{className:"field integration-slack"},i.createElement("label",null,"Slack Notifications",i.createElement("div",{className:"sub"},this._getDescription())),i.createElement(u.r,{isOn:e,label:t,onToggle:this._onToggleSlackNotifications}),this._renderChannelSelect())}_renderChannelSelect(){const{slackChannels:e}=this.state;return this._isSlackEnabled()&&null!=e&&e.length?i.createElement(i.Fragment,null,i.createElement("label",{className:"secondary",htmlFor:"SlackForm-channel-select"},"Notifications will be posted to:"),i.createElement(h.P,{fullWidth:!0,iconComponent:o,id:"SlackForm-channel-select",items:e,labelKey:"channelName",onItemSelect:this._onChannelSelect,value:this._getSelectedSlackChannelName()})):null}_getDescription(){const{streamId:e}=this.props,{isPriority:t,isTag:s}=(0,l.Yg)(e);return s?"Send a notification to a Slack channel every time an article is saved to this board.":t?"Send a notification to a Slack channel every time a new article is prioritized by Leo.":e.startsWith(d.xM)?"Send a notification to a Slack channel every time an article is saved to this Web Alert.":"Error: invalid stream ID"}_clearSlackChannelSelection(){const{onChange:e}=this.props;e({slackChannelId:null})}_isSlackEnabled(){const{slackChannelId:e}=this.props;return!!e}}p.propTypes={onChange:a().func.isRequired,slackChannelId:a().string,streamId:a().string.isRequired},p.defaultProps={slackChannelId:void 0}},63013:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{items:t,layout:s}=e;return n.createElement("div",{className:"list list-stat row"},t.map((e=>{let{decoration:t,label:i,value:a}=e;return n.createElement("div",{className:r()(s,"item stat"),key:i},n.createElement("div",{className:"value"},a,t&&n.createElement("span",{className:"decoration"},t)),n.createElement("div",{className:"stat-label"},i))})))}l.propTypes={items:o().arrayOf(o().shape({decoration:o().node,label:o().string,value:o().oneOfType([o().string,o().number])})).isRequired,layout:o().string},l.defaultProps={layout:"col-md-2 col-sm-12 m-b-1"}},10498:(e,t,s)=>{"use strict";s.d(t,{l:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(62e3),o=s(53670),l=s(32968);function c(e){let{streamId:t,streamType:s}=e;return n.createElement("div",{className:"field m-t-2 m-b-2"},n.createElement("label",null,"Feedly API Stream Id",n.createElement("div",{className:"sub"},"Access the content of this ",s," via the Feedly Enterprise API")),n.createElement("div",{className:"container-flex m-t-1"},n.createElement(l.o,{readOnly:!0,value:t}),n.createElement(o.z,{className:"col-no-flex m-l-1",importance:"secondary",label:"Copy Id",onClick:()=>{(0,a.v)(t)}})))}c.propTypes={streamId:r().string.isRequired,streamType:r().string.isRequired}},6318:(e,t,s)=>{"use strict";s.d(t,{Z:()=>k});var n=s(32735),i=s(76553),r=s(28514),a=s(21120),o=s(47169),l=s(40841),c=s.n(l),d=s(60216),h=s.n(d),u=s(24818),p=s(36695),m=s(3167),g=s(7837),f=s(53670),y=s(32968);const v="Invalid email address";class b extends n.Component{constructor(e){super(e),(0,o.Z)(this,"_onEmailBlur",(()=>{const{email:e}=this.state;(0,p.o)(e)||this.setState({error:v})})),(0,o.Z)(this,"_onEmailChange",(e=>{this.setState({email:e,error:""})})),(0,o.Z)(this,"_onFormChange",(e=>{e.error?this.setState({cardInfoComplete:!1,error:e.error.message}):e.complete?this.setState({cardInfoComplete:!0,error:""}):this.setState({cardInfoComplete:!1,error:""})})),(0,o.Z)(this,"_onNameChange",(e=>{this.setState({error:"",name:e})})),(0,o.Z)(this,"_onSubmit",(async e=>{const{isCreatingToken:t}=this.state,{isStripePaymentLoading:s}=this.props;if(t||s)return;e.preventDefault();const{email:n,name:r,userInfo:a}=this.state,{elements:o,handlePayment:l,isEnterprise:c,showAllFields:d,stripe:h}=this.props;if(h&&o)if(d)if(r)if((0,p.o)(n)){this.setState({isCreatingToken:!0});try{a.email||await this.profile.askUpdateUserInfo({email:n});const e=c?this.enterprise:this.profile,t=await e.askStripeSecret(),s={card:o.getElement(i.CardElement),billing_details:{email:n,name:r}},d=await h.confirmCardSetup(t,{payment_method:s});d.error?this.setState({error:d.error.message,isCreatingToken:!1}):(this.setState({isCreatingToken:!1}),l(d.setupIntent.payment_method,n))}catch(u){this.setState({error:"Payment failed: ".concat(u.debugMessage||u.message),isCreatingToken:!1})}}else this.setState({error:v});else this.setState({error:"Please provide a name"});else l()}));const t=streets.service("profile").getUserInfo(),{email:s=""}=t;this.feedly=streets.service("feedly"),this.state={cardInfoComplete:!1,email:s,error:"",isCreatingToken:!1,name:"",userInfo:t}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.profile=streets.service("profile")}componentWillUnmount(){this.enterprise=null,this.feedly=null,this.profile=null}render(){const{buttonIcon:e,buttonLabel:t,buttonPrice:s,fullWidth:r,isStripePaymentLoading:a,onCancelClick:o,showAllFields:l,upgradeError:d}=this.props,{email:h,error:p,isCreatingToken:v,name:b}=this.state,E={disabled:!l,style:{base:{fontSize:"16px",color:this.feedly.getTheme()===m.Bd.dark?"#fff":"#333",fontFamily:"sans-serif","::placeholder":{color:"#9e9e9e"}},invalid:{color:"#f44336"}}},C=s?n.createElement("span",null,t,n.createElement("span",{className:"StripePaymentForm__price-info"},s)):t;return n.createElement("form",{className:"StripePaymentForm",onSubmit:this._onSubmit},n.createElement("div",{className:c()("StripePaymentForm__fields",{"StripePaymentForm__fields--hidden":!l})},n.createElement(y.o,{autoFocus:!0,className:"StripePaymentForm__name",disabled:!l,error:p.includes("name"),onChange:this._onNameChange,placeholder:"Name on card",value:b}),n.createElement(y.o,{className:"StripePaymentForm__email",disabled:!l,error:p.includes("email"),onBlur:this._onEmailBlur,onChange:this._onEmailChange,placeholder:"Email",value:h}),n.createElement(i.CardElement,{onChange:this._onFormChange,options:E})),(!!d||!!p)&&n.createElement(g.j,{color:"danger",className:"StripePaymentForm__error",iconComponent:u.Z},d||p),n.createElement("div",{className:"StripePaymentForm__actions"},n.createElement(f.z,{className:c()({"StripePaymentForm__full-width-button":r&&!o}),disabled:this._isSubmitDisabled(),icon:e&&n.cloneElement(e,{color:this._isSubmitDisabled()?"black":"white"}),label:C,loading:v||a,type:"submit"}),!!o&&n.createElement(f.z,{importance:"secondary",label:"Cancel",onClick:o})))}_isSubmitDisabled(){const{cardInfoComplete:e,email:t,isCreatingToken:s,name:n}=this.state,{isStripePaymentLoading:i,showAllFields:r}=this.props;return!(!s&&!i)||!!r&&(!n||!(0,p.o)(t)||!e)}}function E(e){return n.createElement(i.ElementsConsumer,null,(t=>{let{stripe:s,elements:i}=t;return n.createElement(b,Object.assign({stripe:s,elements:i},e))}))}b.propTypes={buttonIcon:h().node,buttonLabel:h().string,buttonPrice:h().string,elements:h().shape({getElement:h().func}),fullWidth:h().bool,handlePayment:h().func.isRequired,isEnterprise:h().bool,isStripePaymentLoading:h().bool,onCancelClick:h().func,showAllFields:h().bool,stripe:h().shape({confirmCardSetup:h().func,createToken:h().func}),upgradeError:h().string},b.defaultProps={buttonIcon:void 0,buttonLabel:"Submit",buttonPrice:void 0,elements:null,fullWidth:!0,isEnterprise:!1,isStripePaymentLoading:!1,onCancelClick:void 0,showAllFields:!0,stripe:null,upgradeError:""};var C=s(2772);let w=null;function k(e){return w?n.createElement(i.Elements,{stripe:w},n.createElement(E,e)):n.createElement("div",null,n.createElement(C.H2,{appearance:"h4"},"Something went wrong"),n.createElement("p",null,"We were unable to load our payment form with Stripe. Please try disabling your browser extensions and reloading the page."))}(0,r.p1)()||s.e(5217).then(s.bind(s,65217)).then((e=>{let{loadStripe:t}=e;return t((0,a._)())})).then((e=>{w=e})).catch((e=>{w=null,console.error("[StripePaymentFormWrapper] Unable to load Stripe: ".concat(e))}))},50544:(e,t,s)=>{"use strict";s.d(t,{T:()=>h});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(74221),d=s(53670);class h extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClick",(e=>{e.stopPropagation();const{streamId:t}=this.props,{isTag:s}=(0,c.Yg)(t);let n;this.setState({isLoading:!0}),n=s?this.state.isSubscribed?this.streetsService.askUnsubscribeTag:this.streetsService.askSubscribeTag:this.state.isSubscribed?this.streetsService.askUnsubscribeCollection:this.streetsService.askSubscribeCollection,n.call(this.streetsService,t).catch((()=>{this.signs.showError("Operation Failed")}))})),this.state={isSubscribed:null}}onCollectionChanged(e){this.props.streamId===e&&this._updateSubscribedGroup()}onTagChanged(e){this.props.streamId===e&&this._updateSubscribedGroup()}UNSAFE_componentWillMount(){this.signs=streets.service("signs"),this._updateService(),this._updateSubscribedGroup()}UNSAFE_componentWillReceiveProps(e){const{streamId:t}=e;t!==this.props.streamId&&(this._updateService(t),this._updateSubscribedGroup(t))}componentWillUnmount(){this.streetsService&&(this.streetsService.unregisterObserver(this),this.streetsService=null),this.signs=null}render(){const{className:e,size:t,streamId:s}=this.props,{isLoading:n,isSubscribed:r}=this.state;if(null===r)return null;const{isTag:o}=(0,c.Yg)(s),l={[e]:e};return o?(l.join=!r,l.joined=r):(l.follow=!r,l.following=r),i.createElement(d.z,{className:a()(l),onClick:this._onClick,importance:"",label:r?"Following":"Follow",loading:n,size:t})}_updateService(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.streamId;this.streetsService&&this.streetsService.unregisterObserver(this);const{isEnterprise:t,isTag:s}=(0,c.Yg)(e);t&&(this.streetsService=s?streets.service("enterprisetags"):streets.service("enterprisecollections"),this.streetsService.registerObserver(this))}_updateSubscribedGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.streamId;const{isEnterprise:t,isTag:s}=(0,c.Yg)(e);t&&(s?this.streetsService.askLookupTag(e).then((e=>{this.streetsService===streets.service("enterprisetags")&&this.setState({isSubscribed:e&&e.subscribed,isLoading:!1})})):this.streetsService.askLookupCollection(e).then((e=>{this.setState({isSubscribed:e&&e.subscribed,isLoading:!1})})))}}h.propTypes={className:l().string,size:l().oneOf(["small","normal"]),streamId:l().string.isRequired},h.defaultProps={className:void 0,size:"normal"}},90183:(e,t,s)=>{"use strict";s.d(t,{n:()=>h});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(15813),l=s(15149),c=s(66772),d=s(90869);class h extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_openHelpscout",(()=>{const{context:e}=this.props;e?this.helpscout.open({prefill:{context:e}}):this.helpscout.open()})),this.state={onboardingUrl:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.helpscout=streets.service("helpscout"),this.updateOnboardingUrl()}componentWillUnmount(){this.enterprise=null,this.helpscout=null}render(){const{onboardingUrl:e}=this.state,{campaign:t,className:s,proCtaLabel:n,proMessage:r}=this.props;if(!streets.hasProAccess())return null;let a=e?"".concat(e,"?utm_source=feedly-webapp"):null;return a&&t&&(a+="&utm_campaign="+encodeURIComponent(t)),a?i.createElement("div",{className:"training-message ".concat(s)},i.createElement(o.t,{url:d}),i.createElement("p",null,i.createElement("strong",null,"Need help?")," Book"," ",i.createElement(c.r,{href:a,newWindow:!0,primary:!0},"a 1:1 session")," ","with a Feedly expert or"," ",i.createElement(l.Z,{onClick:this._openHelpscout,primary:!0},"ask us a question")," ","online.")):i.createElement("div",{className:"training-message ".concat(s)},i.createElement(o.t,{url:d}),i.createElement("p",null,i.createElement("strong",null,"Need help?")," We're happy to"," ",i.createElement(l.Z,{onClick:this._openHelpscout,primary:!0},n)," ",r,"."))}async updateOnboardingUrl(){const e=await this.enterprise.askCalendlyOnboardingLink();this.setState({onboardingUrl:e})}}h.propTypes={campaign:a().string,className:a().string,context:a().string,proCtaLabel:a().string,proMessage:a().string},h.defaultProps={campaign:null,className:"",context:null,proCtaLabel:"answer your questions",proMessage:"and get you acquainted with Feedly"}},60964:(e,t,s)=>{"use strict";s.d(t,{D:()=>Y});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(94773);const d=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"m10.341 2.2.048.08 2.312 4.7 5.17.759a.5.5 0 0 1 .333.787l-.057.065-1.97 1.925a4.167 4.167 0 0 0-5.999 4.86l-.004.003-4.856 2.563a.5.5 0 0 1-.734-.446l.008-.08.883-5.168-3.741-3.657a.5.5 0 0 1 .193-.833l.084-.02 5.168-.758 2.313-4.7a.5.5 0 0 1 .849-.08Z"}),i.createElement("path",{d:"M14.167 11.167a.5.5 0 0 1 .492.41l.008.09v5a.5.5 0 0 1-.992.09l-.008-.09v-5a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"M16.667 13.667a.5.5 0 0 1 .09.992l-.09.008h-5a.5.5 0 0 1-.09-.992l.09-.008h5Z"})))}));const h=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"m12.33 2.7.047.08 2.797 5.687 6.256.918a.5.5 0 0 1 .333.788l-.056.065-2.387 2.332a5 5 0 0 0-7.136 5.779l-.022.017-5.827 3.076a.5.5 0 0 1-.734-.446l.008-.08 1.068-6.253-4.527-4.425a.5.5 0 0 1 .194-.833l.083-.02 6.255-.918 2.798-5.688a.5.5 0 0 1 .85-.079Z"}),i.createElement("path",{d:"M17 13.5a.5.5 0 0 1 .492.41l.008.09v6a.5.5 0 0 1-.992.09L16.5 20v-6a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"M20 16.5a.5.5 0 0 1 .09.992L20 17.5h-6a.5.5 0 0 1-.09-.992L14 16.5h6Z"})))}));var u=s(5375),p=s(73789),m=s(21174),g=s(31454),f=s(32285),y=s(57993),v=s(74221),b=s(88982),E=s(53670),C=s(31220),w=s(18542),k=s(74256);class _ extends i.Component{constructor(e){super(e),this._onAccessChange=this._onAccessChange.bind(this),this._onCreateClick=this._onCreateClick.bind(this),this._onNameChange=this._onNameChange.bind(this);const t=streets.hasAdminBusinessAccess();this.state={access:t?y.s.team:y.s.personal,canCreateTeamBoards:t,isLoading:!1,name:e.initialName}}UNSAFE_componentWillMount(){this.enterprisetags=streets.service("enterprisetags"),this.personaltags=streets.service("personaltags"),this.reader=streets.service("reader")}componentWillUnmount(){this.enterprisetags=null,this.personaltags=null,this.reader=null,this._onAccessChange=null,this._onCreateClick=null,this._onNameChange=null,this._onSubmit=null}render(){const{access:e,error:t,isLoading:s,name:n,canCreateTeamBoards:r}=this.state;return i.createElement("div",{className:"CreateTagMenu form"},i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"board-name"},"Board name"),i.createElement(k.A,{id:"board-name",autoFocus:!0,clearable:!0,error:t,onChange:this._onNameChange,placeholder:"e.g. Design Systems",type:"text",value:n})),r&&i.createElement(w.E,{name:"access",onChange:this._onAccessChange,selectedValue:e,title:"Access"},i.createElement(C.Y,{value:y.s.team}),i.createElement(C.Y,{value:y.s.personal})),i.createElement(E.z,{disabled:s||!!t||!n,label:"Create",loading:s,onClick:this._onCreateClick}),i.createElement(E.z,{label:"Cancel",onClick:this.props.onCancel,importance:"secondary"}))}_onAccessChange(e){this.setState({access:e})}_createPersonalBoard(){const{name:e}=this.state,{entryId:t,onSubmit:s,onSubmitError:n}=this.props;this.personaltags.askSave({label:e}).then((i=>{this.reader.askTagEntry(t,{id:i,label:e}).catch(n),s()}))}_createTeamBoard(){const{name:e}=this.state,{entryId:t,onSubmit:s,onSubmitError:n}=this.props;this.enterprisetags.askSave({label:e}).then((async e=>{await this.reader.askTagEntry(t,e),s()})).catch((e=>{e&&e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({error:"A board with that name already exists.",isLoading:!1}):(n(e),s())}))}_onCreateClick(){const{access:e}=this.state;this.setState({isLoading:!0}),e===y.s.personal?this._createPersonalBoard():e===y.s.team&&this._createTeamBoard()}_onNameChange(e){this.setState({name:e,error:(0,b.B)(e)?b.I:""})}}_.propTypes={entryId:l().string,initialName:l().string,onCancel:l().func,onSubmit:l().func,onSubmitError:l().func},_.defaultProps={entryId:null,initialName:"",onCancel:()=>{},onSubmit:()=>{},onSubmitError:()=>{}};var M=s(91891),S=s(264),I=s(23005),T=s(98978),N=s.n(T),L=s(43913),P=s.n(L),D=s(618),A=s(10936),O=s(71824);const x="board",R="team-board";class j extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onFilterTextChange",(e=>{this.setState({filterText:e},this._updateFilteredTags),this.props.onFilterChange(e)})),this._personalTags=[],this._subscribedEnterpriseTags=[],this._unsubscribedEnterpriseTags=[],this.state={followedEntryTags:[],filterText:"",leoSuggestedTag:e.entry.getFirstSuggestedLikeBoard(),loadingTags:{},personalTags:[],readLater:null,subscribedEnterpriseTags:[],unsubscribedEnterpriseTags:[]}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.reader=streets.service("reader"),this.personaltags=streets.service("personaltags"),this.enterprisetags.registerObserver(this),this.reader.registerObserver(this),this._updateFollowedEntryTags(),this._updatePersonalTagList(),this._updateEnterpriseTagList()}componentDidUpdate(e){const{entry:t}=this.props;e.entry!==t&&this.setState({leoSuggestedTag:t.getFirstSuggestedLikeBoard()})}componentWillUnmount(){this.enterprisetags.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisetags=null,this.reader=null,this.personaltags=null,this._personalTags=null,this._subscribedEnterpriseTags=null,this._unsubscribedEnterpriseTags=null}onTagsChanged(){this._updateEnterpriseTagList()}onTagChanged(){this._updateEnterpriseTagList()}onNewTagDiscovered(e){e===this.props.entry.getId()&&(this._updateFollowedEntryTags(),this._updatePersonalTagList())}onEntryTagsChanged(e){e===this.props.entry.getId()&&this._updateFollowedEntryTags()}render(){const{filterText:e,personalTags:t,subscribedEnterpriseTags:s,unsubscribedEnterpriseTags:n}=this.state;return i.createElement(A.P,{hint:t.length+s.length+n.length===0?"No boards found.":"",menuItems:this._renderMenuItems(),onChange:this._onFilterTextChange,placeholder:"Find board",value:e})}_renderMenuItem(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{leoSuggestedTag:n,filterText:r,loadingTags:a}=this.state;return!e||n&&e.id===n.id&&!s?null:i.createElement(D.A,{key:e.id,highlightedText:r,label:e.label,loading:!!a[e.id],onClick:()=>{this._saveTag(e)},selected:this.props.entry.includesTag(e.id),type:t})}_renderMenuItems(){const{leoSuggestedTag:e,personalTags:t,readLater:s,subscribedEnterpriseTags:n,unsubscribedEnterpriseTags:r}=this.state,a=[];return s&&this._containsFilterText(s)&&a.push(this._renderMenuItem(s,"save-for-later")),e&&a.push(i.createElement(O.N,{key:"leoDivider"},"Leo Suggestion"),this._renderMenuItem(e,x,!0)),n.length&&a.push(i.createElement(O.N,{key:"teamDivider"},"Team Boards")),a.push(...n.map((e=>this._renderMenuItem(e,R)))),t.length&&streets.hasBusinessAccess()&&a.push(i.createElement(O.N,{key:"personalDivider"},"Personal Boards")),a.push(...t.map((e=>this._renderMenuItem(e,x)))),r.length&&a.push(i.createElement(O.N,{key:"unsubbedDivider"},"Team Boards You Do Not Follow")),a.push(...r.map((e=>this._renderMenuItem(e,R)))),a}_containsFilterText(e){return e.label.toLowerCase().includes(this.state.filterText.toLowerCase())}_getFilteredTags(e){if(!e)return[];e=e.slice(0);const{filterText:t}=this.state;if(!t)return e;const s=e.filter((e=>this._containsFilterText(e)));return N()(s,(e=>{let{label:s}=e;return s.toLowerCase().indexOf(t.toLowerCase())}))}_isEntryTagged(e){let t=!1;return this.state.followedEntryTags.forEach((s=>{s.id===e&&(t=!0)})),t}_saveTag(e){this._setTagAsLoading(e),this._isEntryTagged(e.id)?this.reader.askUntagEntry(this.props.entry.getId(),e).then((()=>{this._setTagAsNotLoading(e)})).catch((t=>{console.log("[picker.tag] ignore error",t),this._setTagAsNotLoading(e),streets.service("signs")&&streets.service("signs").showError(t||"Oops! Something went wrong")})):this.reader.askTagEntry(this.props.entry.getId(),e).then((()=>{this._setTagAsNotLoading(e)})).catch((t=>{this._setTagAsNotLoading(e);const s=streets.service("signs");s&&(s.setNextAutoHideDelay(5e3),s.showError(t))}))}_setTagAsLoading(e){const{loadingTags:t}=this.state;if(!t[e.id]){const s=Object.assign(t,{[e.id]:!0});this.setState({loadingTags:s})}}_setTagAsNotLoading(e){const{loadingTags:t}=this.state;if(t[e.id]){const s=Object.assign(t,{[e.id]:!1});this.setState({loadingTags:s})}}async _updateEnterpriseTagList(){const[e,t]=await Promise.all([this.enterprisetags.askListSubscribedTags(),this.enterprisetags.askListNonSubscribedTags()]);this._subscribedEnterpriseTags=e||[],this._unsubscribedEnterpriseTags=t||[],this._updateFilteredTags()}_updateFilteredTags(){const e=this._getFilteredTags(this._personalTags),t=this._getFilteredTags(this._subscribedEnterpriseTags),s=this._getFilteredTags(this._unsubscribedEnterpriseTags);this.setState({personalTags:e,subscribedEnterpriseTags:t,unsubscribedEnterpriseTags:s})}_updateFollowedEntryTags(){this.setState({followedEntryTags:this.props.entry.listTags(!1)})}async _updatePersonalTagList(){const e=await this.personaltags.askListTags({excludeGlobal:this.props.excludeGlobal}),[t]=P()(e,(e=>{const{isReadLater:t}=(0,v.Yg)(e.id);return t}));this._personalTags=e||[],this.setState({readLater:t}),this._updateFilteredTags()}}j.propTypes={entry:l().shape({getFirstSuggestedLikeBoard:l().func,getId:l().func,includesTag:l().func,listTags:l().func}).isRequired,excludeGlobal:l().bool,onFilterChange:l().func.isRequired},j.defaultProps={excludeGlobal:!1};var F=s(46291),U=s(55118),z=s(99175),Z=s(88591),B=s(44205),H=s(12291);class Y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onButtonClick",(e=>{const{isOpen:t}=this.state;e.stopPropagation(),t?this._onCloseMenu():this.setState({isOpen:!0})})),(0,n.Z)(this,"_onFilterTextChange",(e=>{this.setState({filterText:e})})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isOpen:!1,filterText:"",isCreateMode:!1})})),(0,n.Z)(this,"_onCreateCancel",(()=>{this.setState({filterText:"",isCreateMode:!1})})),(0,n.Z)(this,"_onCreateClick",(()=>{streets.getUserId()?this.setState({isCreateMode:!0}):(0,g.YM)()})),(0,n.Z)(this,"_onCreateComplete",(()=>{this.setState({hasTag:!0,isCreateMode:!1})})),(0,n.Z)(this,"_onTagListError",(e=>{this.signs.showError("Unable to fetch tags: "+(e.message||e))})),(0,n.Z)(this,"_onTagUpdateError",(e=>{this.signs.showError("Error: "+(e.message||e))})),this._popoverHook=document.getElementById("reactPopoverHook"),this._targetRef=i.createRef(),this.state={filterText:"",isCreateMode:!1,isOpen:!1,isSaved:e.entry.listTags().length}}componentDidMount(){const{isOpen:e}=this.state;this.enterprisetags=streets.service("enterprisetags"),this.navigo=streets.service("navigo"),this.personaltags=streets.service("personaltags"),this.reader=streets.service("reader"),this.shortcuts=streets.service("shortcuts"),this.signs=streets.service("signs"),this.enterprisetags.registerObserver(this),this.personaltags.registerObserver(this),this.reader.registerObserver(this),this.shortcuts.registerObserver(this),this._updateHasTag(),e&&this.shortcuts.claim(this,f.PC.close)}componentDidUpdate(e,t){const{entry:s,onTagPickerStateChange:n}=this.props,{isOpen:i}=this.state;i!==t.isOpen&&(i?this.shortcuts.claim(this,f.PC.close):this.shortcuts.unclaim(this,f.PC.close),n&&n(i)),e.entry!==s&&this.setState({isSaved:s.listTags().length})}componentWillUnmount(){this.shortcuts.unclaim(this,f.PC.close),this.enterprisetags.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.reader.unregisterObserver(this),this.shortcuts.unregisterObserver(this),this.signs=null,this.enterprisetags=null,this.personaltags=null,this.reader=null,this.shortcuts=null,this.navigo=null,this._popoverHook=null,this._targetRef=null}onEntryTagsChanged(e){const{entry:t}=this.props;t.getId()===e&&this.setState({isSaved:t.listTags().length})}onShortcutKey(e){if(e===f.PC.saveToBoard){const{entry:e,isInShareBar:t,onTagPickerStateChange:s}=this.props,{isOpen:n}=this.state,{selectedEntryId:i,inlinedEntryId:r}=this.navigo.getState(),a=e.getId();t&&r===a||!r&&i===a?(s&&s(!0),this.setState({isOpen:!0})):n&&this.setState({isOpen:!1})}else e===f.PC.close&&this._onCloseMenu()}onShortcutKeyInInput(e){e===f.PC.close&&this._onCloseMenu()}onTagsChanged(){this._updateHasTag()}render(){const{align:e,children:t,className:s,dark:n,disabled:r,entry:o,importance:l,isInShareBar:c}=this.props,{hasTag:d,isCreateMode:h,isOpen:p,isSaved:m,filterText:g}=this.state;let f;return f=void 0===d?i.createElement(Z.v,{width:300},i.createElement(I.g,{className:"m-l-2",details:"boards"})):h?i.createElement(_,{entryId:o.getId(),initialName:g,onCancel:this._onCreateCancel,onSubmit:this._onCreateComplete,onSubmitError:this._onTagUpdateError}):d?i.createElement("div",null,i.createElement(j,{entry:o,excludeGlobal:!0,onFilterChange:this._onFilterTextChange}),i.createElement("div",{className:"menu-footer",onClick:this._onCreateClick},i.createElement(u.Z,{color:"accent"}),i.createElement(B.x,{className:"menu-footer-text",color:"accent",size:"smaller",tagName:"span"},"Create a board"))):i.createElement(Z.v,{className:"p-a-1",width:300},i.createElement(S.u,{header:"Save to boards",description:"Organize your saved articles by project, topic, and more.",size:"small",illustration:H,actions:[{label:"Create your first board",onClick:this._onCreateClick}]})),i.createElement("div",{className:"fx tag-button"},i.createElement(z.d,{content:"Save to Board"},i.createElement(E.z,{"aria-label":"Save to Board",elementRef:this._targetRef,className:a()("tag-button__button",s,{"tag-button__button--dark":n,"tag-button__button--saved":m}),disabled:r,icon:this._getIcon(m),importance:l,onClick:this._onButtonClick})),t,p&&i.createElement(U.h,{target:this._popoverHook},i.createElement(F.J,{align:"left"===e?"start":"end",caret:!0,offsetParent:this._popoverHook,onClose:this._onCloseMenu,target:this._targetRef},f)),c&&!o.metadata.tutorial&&i.createElement(M.o,{id:"save-to-knowledge-board"}))}_getIcon(e){const{dark:t,small:s,isInShareBar:n}=this.props,r=n&&!e?"secondary":void 0;if(e){const e=s?d:h;return i.createElement(e,{color:"accent",importance:r})}const a=s?p.Z:m.Z;return i.createElement(a,{color:t?"white":"black",importance:r})}_updateHasTag(){Promise.all([this.personaltags.askListTags({excludeGlobal:!0}),this.enterprisetags.askListTags()]).then((e=>{let[t=[],s=[]]=e;this.setState({hasTag:t.length>0||s.length>0})})).catch(this._onTagListError)}}Y.propTypes={align:l().string,children:l().node,className:l().string,dark:l().bool,disabled:l().bool,entry:l().shape({getId:l().func,listTags:l().func,metadata:l().shape({tutorial:l().bool})}).isRequired,importance:E.z.propTypes.importance,isInShareBar:l().bool,onTagPickerStateChange:l().func,small:l().bool},Y.defaultProps={align:"left",children:null,className:null,dark:!1,disabled:!1,importance:"tertiary",isInShareBar:!1,onTagPickerStateChange:null,small:!1}},37125:(e,t,s)=>{"use strict";s.d(t,{v:()=>y});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(14354),l=s(11245),c=s(88982),d=s(73265),h=s(53670),u=s(2772),p=s(66772),m=s(92121),g=s(30658),f=s(74256);class y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSubmit",(e=>{e.preventDefault();const{coverImageFile:t,label:s}=this.state;if(!s.length)return void this.setState({labelError:"The 'Title' field is required."});this.setState({isLoading:!0});const n="Board created",i=this._generateApiInput();this.enterprisetags.askSave(i).then((e=>{t?this.enterprisetags.askSaveCoverImage(e.id,t).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n),this.props.onDone(e),streets.service("router").loadPage("board/content/".concat(e.id))})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n),this.props.onDone(e),streets.service("router").loadPage("board/content/".concat(e.id)))})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A board with that name already exists."}):this.setState({formError:"Failed to save board settings: ".concat(e.message),labelError:""}),this.setState({isLoading:!1})}))})),this.state={coverImage:null,coverImageFile:null,deleteCover:!1,description:"",id:null,label:e.initialLabel||"",labelError:"",isLoading:!1,personalTags:[],tagToImport:e.initialTagToImport}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this.personaltags=streets.service("personaltags"),this.enterprise=streets.service("enterprise"),this.preferences=streets.service("preferences"),this.enterprise.registerObserver(this),this._updatePersonalTags()}componentWillUnmount(){this.enterprise.unregisterObserver(this),this.enterprise=null,this.personaltags=null,this.enterprisetags=null,this.signs=null,this.preferences=null}render(){const{description:e,id:t,isLoading:s,label:n,labelError:r}=this.state;return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},i.createElement(u.H2,{appearance:"h1",sub:"A private space where your team can save individual articles for reference, sharing or the creation of a newsletter"},"Create a Team Board"),i.createElement("form",{className:"form m-b-2",onSubmit:this._onSubmit},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"title"},"Title"),i.createElement(f.A,{id:"title",error:r,placeholder:"Title",value:n,onChange:this._onValueChange.bind(this,"label")})),this._renderTagImport(),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"description"},"Description"),i.createElement(g.K,{id:"decsription",placeholder:"What kind of articles should the team save to this board?",value:e,rows:3,onChange:this._onValueChange.bind(this,"description")})),i.createElement(h.z,{disabled:s,label:t?"Save":"Create",loading:s,type:"submit"}),i.createElement(h.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:this.props.onDone})),i.createElement("div",{className:"bordered-box container-flex"},i.createElement(o.Z,{className:"col-no-flex",color:"accent"}),i.createElement("div",null,i.createElement("div",{className:"item-header",style:{lineHeight:"1.5rem"}},"7 Great Board Examples"),i.createElement("div",{className:"item-description"},"We reviewed the boards created by some of the smartest industry professionals. Here are a few best practices that might inspire you."),i.createElement(p.r,{className:"item-description","data-inlineentryid":"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15af7c9a6b0:8f0f66:1879190",href:"https://blog.feedly.com/examples-of-boards",primary:!0,style:{display:"inline-block"}},"Read more")))))}_renderTagImport(){const{personalTags:e,tagToImport:t}=this.state;return this.state.id?null:i.createElement("div",{className:"field"},i.createElement("label",null,"Clone existing personal board"),i.createElement(m.P,{defaultLabel:"None",fullWidth:!0,iconComponent:l.Z,items:e,labelKey:"label",onItemSelect:this._onTagSelect.bind(this),value:t&&t.label}))}_renderCoverImage(){const{coverImage:e}=this.state;return i.createElement("div",{className:"field"},i.createElement("label",null,"Cover Image"),i.createElement(d.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange.bind(this)}))}_updatePersonalTags(){this.personaltags.askListTags().then((e=>{for(let t=0;t<e.length;t++)if(e[t].id.indexOf("tag/global.saved")>-1){e[t].label="Read later";break}this.setState({personalTags:e})}))}_onValueChange(e,t){this.setState({[e]:t,labelError:(0,c.B)(t)?c.I:""})}_updateState(e,t,s){if(null===e)this.setState({[t]:s});else{const n=this.state[e];n[t]=s,this.setState({[e]:n})}}_onTagSelect(e){this.setState({tagToImport:e})}_onImageChange(e){e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})}_generateApiInput(){const{deleteCover:e,description:t,label:s,tagToImport:n}=this.state,i={label:s?s.trim():null,description:t?t.trim():null};return n&&(i.importTag=n.id),e&&(i.deleteCover=!0),i}}y.propTypes={initialLabel:a().string,initialTagToImport:a().shape({label:a().string}),onDone:a().func.isRequired},y.defaultProps={initialLabel:"",initialTagToImport:void 0}},85420:(e,t,s)=>{"use strict";s.d(t,{O:()=>h});var n=s(32735),i=s(60216),r=s.n(i),a=s(14354),o=s(99220),l=s(2772),c=s(66772),d=s(22548);class h extends n.Component{render(){const{onDone:e}=this.props;return n.createElement("div",{className:"fx"},n.createElement("section",{className:"container630 centered"},n.createElement(l.H2,{appearance:"h1",sub:"Save the most important articles you read around your projects, clients, or interests"},"Create New Board"),n.createElement(d.w,{onDone:e,onTagChanged:e=>{streets.service("router").loadPage((0,o.no)(e))}}),n.createElement("div",{className:"bordered-box container-flex"},n.createElement(a.Z,{className:"col-no-flex",color:"accent"}),n.createElement("div",null,n.createElement("div",{className:"item-header",style:{lineHeight:"1.5rem"}},"7 Great Board Examples"),n.createElement("div",{className:"item-description"},"We reviewed the boards created by some of the smartest industry professionals. Here are a few best practices that might inspire you."),n.createElement(c.r,{className:"item-description","data-inlineentryid":"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15af7c9a6b0:8f0f66:1879190",href:"https://blog.feedly.com/examples-of-boards",primary:!0,style:{display:"inline-block"}},"Read more")))))}}h.propTypes={onDone:r().func.isRequired}},17344:(e,t,s)=>{"use strict";s.d(t,{v:()=>L});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(65940),l=s(3562),c=s(81501),d=s(69734),h=s(7010),u=s(88982),p=s(73265),m=s(53670),g=s(30658),f=s(74256);class y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSubmit",(e=>{e.preventDefault();const{coverImageFile:t,id:s,label:n}=this.state;if(!n||!n.length)return void this.setState({labelError:"The 'Title' field is required."});this.setState({isLoading:!0});const i="Board ".concat(s?"updated":"created"),r=this._generateApiInput();this.enterprisetags.askSave(r).then((e=>{t?this.enterprisetags.askSaveCoverImage(e.id,t).then((()=>{this.setState({isLoading:!1,labelError:""}),this.props.onDone(e),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i)})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.props.onDone(e),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(i))})).catch((e=>{e.errorMessage&&e.errorMessage.indexOf("duplicate label")>-1?this.setState({formError:"",labelError:"A board with that name already exists."}):this.setState({formError:"Failed to save board settings: ".concat(e.message),labelError:""}),this.setState({isLoading:!1})}))}));const{streamInfo:t}=this.props;this.state={coverImage:t.cover,coverImageFile:null,deleteCover:!1,description:t.description,id:t.id,label:t.label,labelError:"",loadCoverImage:!0}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){const{description:e,id:t,isLoading:s,label:n,labelError:r}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement("div",{className:"field"},i.createElement("label",{className:"required",htmlFor:"title"},"Title"),i.createElement(f.A,{id:"title",error:r,placeholder:"Title",value:n,onChange:this._onValueChange.bind(this,"label")})),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"purpose"},"Purpose"),i.createElement(g.K,{id:"purpose",placeholder:"Why is your team saving content in this board?",value:e,hint:"Example: Deliver best 3D printing articles to our sales team.",rows:3,onChange:this._onValueChange.bind(this,"description")})),this._renderCoverImage(),i.createElement(m.z,{disabled:s,importance:"primary",label:t?"Save":"Create",loading:s,type:"submit"}),i.createElement(m.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:this.props.onDone}))}_renderCoverImage(){const{coverImage:e}=this.state;return i.createElement("div",{className:"field"},i.createElement("label",null,"Cover Image"),i.createElement(p.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange.bind(this)}))}_onValueChange(e,t){this.setState({[e]:t,labelError:(0,u.B)(t)?u.I:""})}_onImageChange(e){e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})}_generateApiInput(){const{deleteCover:e,description:t,label:s}=this.state,n=this.props.streamInfo;return n.label=s.trim(),n.description=t?t.trim():"",e&&(n.deleteCover=!0),n}}y.propTypes={onDone:a().func.isRequired,streamInfo:a().shape({cover:a().string,deleteCover:a().func,description:a().string,id:a().string,label:a().string}).isRequired},y.defaultProps={};var v=s(40841),b=s.n(v),E=s(38916),C=s(77817),w=s(19054),k=s(84475);class _ extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_toggleIncludeHighlight",(()=>{const{settings:e}=this.props,t=e&&!0===e.includeHighlight;this._changeSetting("includeHighlight",!t)})),(0,n.Z)(this,"_toggleSendNow",(()=>{const{settings:e}=this.props,t=e&&!0===e.sendNow;this._changeSetting("sendNow",!t)})),this.state={allProfiles:null}}componentDidMount(){const{connected:e}=this.props;this.buffer=streets.service("buffer"),this.integrations=streets.service("integrations"),this.signs=streets.service("signs"),this.integrations.registerObserver(this),e&&this._askAllProfiles();const t=this._isDisabled();e||t||this._reset()}componentWillUnmount(){this.integrations.unregisterObserver(this),this.buffer=null,this.integrations=null,this.signs=null}onIntegrationConnectionChanged(){this._askAllProfiles()}render(){return i.createElement("div",{className:"field integration-buffer"},this._renderBufferSharing())}_renderBufferSharing(){const e=this._isDisabled(),t=e?"Activate Buffer sharing":"Buffer sharing activated";return i.createElement("div",{className:"field"},i.createElement("label",null,"Buffer Sharing",i.createElement("div",{className:"sub"},"Share articles saved in this board to Buffer. Sharing to Facebook requires a note or highlight.")),i.createElement(k.r,{isOn:!e,label:t,onToggle:this._toggleBufferSharing.bind(this)}),this._renderBufferForm())}_renderBufferForm(){const{settings:e}=this.props,t=this._isDisabled(),s=e&&!0===e.includeHighlight,n=e&&!0===e.sendNow;return t?null:i.createElement("div",{className:"BufferForm__settings"},this._renderBufferProfiles(),i.createElement(w.X,{className:"m-t-1 m-b-h",checked:s,onChange:this._toggleIncludeHighlight},"Include snapshot of first highlight"),i.createElement(w.X,{checked:n,onChange:this._toggleSendNow},"Share right away"))}_renderBufferProfiles(){const{allProfiles:e}=this.state,{settings:t}=this.props;if(!e)return null;const s=t&&t.profileIds||[],n=t&&t.profileSelection;return i.createElement("div",{className:"BufferForm__profiles"},e.map((e=>{const t=s.indexOf(e.id)>-1||"allProfiles"===n;let r=e.service.toLowerCase();"google+"===r&&(r="google");const a={inset:!0,[r]:!0};return i.createElement("div",{className:b()("BufferForm__profile",{"BufferForm__profile--checked":t}),key:e.id,onClick:this._toggleProfileId.bind(this,e.id)},i.createElement(C.q,{alt:e.username,className:b()(a),title:"".concat(e.service," (").concat(e.username,")"),url:e.picture}))})))}_changeSetting(e,t){const{onChange:s,settings:n}=this.props;s({...n,[e]:t})}async _toggleBufferSharing(){const{onChange:e,settings:t}=this.props;if(!this._isDisabled())return void e({...t,disabled:!0,profileSelection:"allProfiles"});await this.integrations.askIsConnected(E.bK.buffer)?(await this._askAllProfiles(),e({...t,disabled:!1})):this.integrations.connect(E.bK.buffer)}_toggleProfileId(e){const{allProfiles:t}=this.state,{onChange:s,settings:n}=this.props;let i=(n.profileIds||[]).slice(0);"allProfiles"===n.profileSelection&&(i=t.map((e=>e.id)));const r=i.indexOf(e);-1===r?i.push(e):i.splice(r,1),s({...n,profileIds:i,profileSelection:"selectedProfiles"})}async _askAllProfiles(){try{const e=await this.buffer.askProfiles();this.setState({allProfiles:e})}catch(e){this.signs.showError("Buffer connection disabled"),this._reset()}}_reset(){const{onChange:e,settings:t}=this.props;e({...t,disabled:!0,profileIds:[],includeHighlight:!1,sendNow:!1,profileSelection:"allProfiles"})}_isDisabled(){const{settings:e}=this.props;return!e||!0===e.disabled}}_.propTypes={connected:a().bool.isRequired,onChange:a().func.isRequired,settings:a().object.isRequired};var M=s(94516),S=s(61363),I=s(82624),T=s(10498);class N extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onBufferSettingsChanged",(e=>{this.setState({bufferSettings:e})})),(0,n.Z)(this,"_onFeedSettingsChanged",(async e=>{const{streamInfo:t}=this.props;this.setState({enableFeed:e,loadingFeedUrl:!0});const{atomFeedUrl:s}=await this.enterprisetags.askSave({...t,enableFeed:e});this.setState({enableFeed:!!s,atomFeedUrl:s,loadingFeedUrl:!1})})),(0,n.Z)(this,"_onSlackSettingsChanged",(e=>{this.setState({slackSettings:e})})),(0,n.Z)(this,"_onSubmit",(async e=>{const{onDone:t}=this.props;e.preventDefault(),this.setState({isLoading:!0});try{await this.enterprisetags.askSave(this._generateApiInput()),this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage("Board updated"),t()}catch(s){this.signs.showError("Failed to update sharing integration"),this.setState({isLoading:!1})}})),(0,n.Z)(this,"_onWebhookSettingsChanged",(e=>{this.setState({microsoftTeamsSettings:e})}));const{streamInfo:{bufferSettings:t,atomFeedUrl:s,microsoftTeamsSettings:i,slackChannelId:r}}=this.props;this.state={enableFeed:!!s,atomFeedUrl:s,slackSettings:{slackChannelId:r},bufferSettings:t||{},microsoftTeamsSettings:i||{}}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){const{onDone:e,streamInfo:{bufferConnected:t,id:s}}=this.props,{atomFeedUrl:n,slackSettings:{slackChannelId:r},bufferSettings:a,enableFeed:o,loadingFeedUrl:l,microsoftTeamsSettings:c,isLoading:d}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement(I.A,{onChange:this._onSlackSettingsChanged,slackChannelId:r,streamId:s}),i.createElement(_,{settings:a,connected:t,onChange:this._onBufferSettingsChanged}),i.createElement(M.F,{settings:c,onChange:this._onWebhookSettingsChanged,streamId:s}),i.createElement(S.F,{enabled:o,loadingUrl:l,onChange:this._onFeedSettingsChanged,url:n,sub:"Push articles saved to this board to other applications (MailChimp, SharePoint, etc.) via RSS"}),i.createElement(T.l,{streamId:s,streamType:"board"}),i.createElement(m.z,{disabled:d,label:"Update",loading:d,type:"submit"}),i.createElement(m.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:e}))}_generateApiInput(){const{bufferSettings:e,enableFeed:t,slackSettings:{slackChannelId:s},microsoftTeamsSettings:n}=this.state,{streamInfo:i}=this.props;return{...i,bufferSettings:e,enableFeed:t,microsoftTeamsSettings:n,slackChannelId:s}}}N.propTypes={onDone:a().func.isRequired,streamInfo:a().shape({atomFeedUrl:a().string,bufferConnected:a().bool,bufferSettings:a().objectOf(a().any),id:a().string,microsoftTeamsSettings:M.Y,slackChannelId:a().string}).isRequired},N.defaultProps={};class L extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTabChange",(e=>{this.setState({activeTab:e})})),this.state={activeTab:this.props.defaultTab};const{tabs:t}=L;this.fragments=[{id:t.general,label:"General"},{id:t.members,label:"Members"},{id:t.email,label:"Newsletter"},{id:t.sharing,label:"Sharing"}]}render(){const{activeTab:e}=this.state;return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(c.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),i.createElement(d.m,{items:this.fragments,active:e,onChange:this._onTabChange}),this._renderContent()))}_renderHeader(e){let{isSticky:t=!1}=e;const{streamInfo:s}=this.props;return i.createElement(o.m,{compact:t,kicker:s.label,sticky:t,title:"Board Settings"})}_renderContent(){const{streamInfo:e,onDone:t}=this.props,{activeTab:s}=this.state,{tabs:n}=L;switch(s){case n.sharing:return i.createElement(N,{streamInfo:e,onDone:t});case n.email:return i.createElement(h.k,{streamInfo:e,onDone:t});case n.members:return i.createElement(l.U,{streamInfo:e,onDone:t});default:return i.createElement(y,{streamInfo:e,onDone:t})}}}(0,n.Z)(L,"tabs",{email:"email",general:"general",members:"members",sharing:"sharing"}),L.propTypes={defaultTab:a().oneOf(Object.values(L.tabs)),onDone:a().func.isRequired,streamInfo:a().shape({label:a().string}).isRequired},L.defaultProps={defaultTab:L.tabs.general}},86990:(e,t,s)=>{"use strict";s.d(t,{q:()=>h});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(65940),l=s(81501),c=s(69734),d=s(22548);class h extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTabChange",(e=>{this.setState({activeTab:e})})),this.state={activeTab:e.defaultTab},this.tabs=[{id:"general",label:"General"}]}render(){return i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(l.L,{scrollParent:".floatingEntryScroller",target:".slider-header"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),this._renderTabs(),this._renderContent()))}_renderHeader(e){let{isSticky:t}=e;const{streamInfo:s}=this.props;return i.createElement(o.m,{compact:t,kicker:s.label,sticky:t,title:"Manage Board"})}_renderTabs(){return i.createElement(c.m,{items:this.tabs,active:this.state.activeTab,onChange:this._onTabChange})}_renderContent(){return i.createElement(d.w,{initialStreamInfo:this.props.streamInfo,onDone:this.props.onDone})}}h.propTypes={defaultTab:a().string,onDone:a().func.isRequired,streamInfo:a().shape({label:a().string}).isRequired},h.defaultProps={defaultTab:"general"}},7010:(e,t,s)=>{"use strict";s.d(t,{k:()=>d});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(16874),l=s(15500),c=s(53670);class d extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSubmit",(e=>{const{streamInfo:t,onDone:s}=this.props;e.preventDefault(),this.setState({isLoading:!0});const n="Board ".concat(t.id?"updated":"created"),i=this._generateApiInput();this.enterprisetags.askSave(i).then((e=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n),s(e)})).catch((()=>{this.setState({isLoading:!1})}))}));const{streamInfo:t}=this.props;this.state={emailSettings:t.emailSettings||{}}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs"),this._checkEmailSettings()}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){const{streamInfo:e,onDone:t}=this.props,{emailSettings:s,isLoading:n}=this.state;return i.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},i.createElement(l.o,{streamLabel:e.label,streamType:l.J.board,settings:s,onChange:e=>{this.setState({emailSettings:e})}}),i.createElement(c.z,{disabled:n,label:"Update",loading:n,type:"submit"}),i.createElement(c.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:t}))}_checkEmailSettings(){const{streamInfo:e}=this.props;let t=e.emailSettings||{};if(!t.timeZone||!t.daysOfWeek){const e=t.disabled;t=(0,o.HM)(),t.disabled=e}this.setState({emailSettings:t})}_generateApiInput(){const{streamInfo:e}=this.props,{emailSettings:t}=this.state;return{...e,emailSettings:t}}}d.propTypes={onDone:a().func.isRequired,streamInfo:a().object.isRequired}},22548:(e,t,s)=>{"use strict";s.d(t,{w:()=>y});var n=s(47169),i=s(72720),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(88982),d=s(73265),h=s(53670),u=s(19054),p=s(9990),m=s(84475),g=s(30658),f=s(74256);class y extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_onValueChange",((e,t)=>{this.setState({[e]:t,["".concat(e,"Error")]:(0,c.B)(t)?c.I:""})})),(0,n.Z)(this,"_toggleBoardPublic",(()=>{streets.hasProAccess()?this.setState({isPublic:!this.state.isPublic}):this.router.loadPage("pro/public-board")})),(0,n.Z)(this,"_onIncludeChange",(e=>{this.setState({[e]:!this.state[e]})})),(0,n.Z)(this,"_onImageChange",(e=>{e?this.setState({coverImageFile:e,deleteCover:!1}):this.setState({coverImageFile:null,deleteCover:!0})})),(0,n.Z)(this,"_onSubmit",(e=>{const{coverImageFile:t,deleteCover:s,id:n,isPublic:i,showNotes:r,showHighlights:a}=this.state;let{description:o,label:l}=this.state;if(l=l.trim(),o=o.trim(),e.preventDefault(),!l.length)return void this.setState({labelError:"The 'Title' field is required."});const c={id:n,label:l,description:o,isPublic:i,showNotes:r,showHighlights:a};s&&(c.deleteCover=!0),this.setState({isLoading:!0}),this.personaltags.askSave(c).then((e=>{t?this.personaltags.askSaveCoverImage(e,t).then((()=>{this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n?"Board updated":"Board created"),this.props.onDone()})).catch((()=>{this.setState({formError:"Failed to save cover image.",isLoading:!1,labelError:""})})):(this.setState({isLoading:!1}),this.signs.setNextAutoHideDelay(1e3),this.signs.showMessage(n?"Board updated":"Board created"),this.props.onTagChanged(e),this.props.onDone())})).catch((()=>{this.setState({formError:"Operation failed",isLoading:!1,labelError:""})}))}));const{initialStreamInfo:t={}}=e;this.state={description:t.description||"",coverImage:t.cover||null,coverImageFile:null,deleteCover:!1,loadCoverImage:!0,formError:"",id:t.id||null,isLoading:!1,label:t.label||"",labelError:"",isPublic:!r()(t.isPublic)&&t.isPublic,showNotes:!!r()(t.showNotes)||t.showNotes,showHighlights:!!r()(t.showHighlights)||t.showHighlights,uri:null}}componentDidMount(){this.signs=streets.service("signs"),this.personaltags=streets.service("personaltags"),this.router=streets.service("router"),this.state.id||this.personaltags.askListTags()}componentWillUnmount(){this.signs=null,this.personaltags=null,this.router=null}render(){const{formError:e,id:t,isLoading:s,label:n,labelError:i,description:r,isPublic:o}=this.state;return a.createElement("form",{className:"form m-y-2",onSubmit:this._onSubmit},a.createElement("div",{className:"field"},a.createElement("label",{className:"required",htmlFor:"tag-title"},"Title"),a.createElement(f.A,{autoFocus:!0,error:i,id:"tag-title",onChange:e=>{this._onValueChange("label",e)},placeholder:"Title",value:n}),e&&a.createElement("div",{className:"hint"},a.createElement("span",{className:"error"},e))),a.createElement("div",{className:"field"},a.createElement("label",{htmlFor:"description"},"Description"),a.createElement(g.K,{id:"description",hint:"Example: Monitor trends in 3D printing industry, Discover content to share on LinkedIn, etc.",value:r,rows:3,onChange:e=>{this._onValueChange("description",e)}})),this._renderCoverImage(),a.createElement("div",{className:"field"},a.createElement(p.H3,{appearance:"h2",sub:"Would you like to make this board public?"},"Public Board"),a.createElement(m.r,{isOn:o,label:"Board public",onToggle:this._toggleBoardPublic}),this._renderPublicBoardOptions()),a.createElement(h.z,{disabled:s,loading:s,label:t?"Save":"Create",type:"submit"}),a.createElement(h.z,{className:"floated left",importance:"secondary",label:"Cancel",onClick:()=>{this.props.onDone()}}))}_renderCoverImage(){const{coverImage:e,id:t}=this.state;return t?a.createElement("div",{className:"field"},a.createElement("label",{htmlFor:"cover"},"Cover Image"),a.createElement(d.a,{hint:"Drag and drop the image above or browse your computer. Recommended: 840px by 250px.",imageUrl:e,onFileChange:this._onImageChange})):null}_renderPublicBoardOptions(){const{isPublic:e,showNotes:t,showHighlights:s}=this.state;return!e||streets.hasBusinessAccess()?null:a.createElement("div",{className:"email-roundup-form"},a.createElement("label",null,a.createElement("div",{className:"sub"},"Include")),a.createElement(u.X,{checked:t,className:"m-b-h",onChange:()=>{this._onIncludeChange("showNotes")}},"Notes"),a.createElement(u.X,{checked:s,className:"m-b-h",onChange:()=>{this._onIncludeChange("showHighlights")}},"Highlights"))}}y.propTypes={initialStreamInfo:l().shape({description:l().string,id:l().string,label:l().string}),onDone:l().func,onTagChanged:l().func},y.defaultProps={initialStreamInfo:void 0,onDone:()=>{},onTagChanged:()=>{}}},99175:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(55118);class d extends i.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_getChildProps",(()=>{const{children:e}=this.props,t=i.Children.only(e);return t&&t.props||{}})),(0,n.Z)(this,"_hideTip",(()=>{window.clearTimeout(this._displayTimeout),this._displayTimeout=null,this.setState({isVisible:!1})})),(0,n.Z)(this,"_getPositionInfo",(e=>{const{position:t}=this.props,s=document.querySelector(".Tipsy");if(!s)return{positionClass:"",style:{}};const n=s.offsetHeight,i=s.offsetWidth;let r,a,o="left"===t||"right"===t?t:"top";return"left"===t?(a=e.top-n/2+e.height/2+"px",r=e.left-i-10+"px"):"right"===t?(a=e.top-n/2+e.height/2+"px",r=e.left+e.width+10+"px"):e.top>200&&"bottom"!==t?(a=e.top-n-5+"px",r=e.left-i/2+e.width/2+"px"):(o="bottom",a=e.top+e.height+5+"px",r=e.left-i/2+e.width/2+"px"),{style:{left:r,top:a},positionClass:o}})),(0,n.Z)(this,"_onBlur",(e=>{this._isMouseOver||this._hideTip();const{onBlur:t}=this._getChildProps();t&&t(e)})),(0,n.Z)(this,"_onFocus",(e=>{this._showTip(e,!0);const{onFocus:t}=this._getChildProps();t&&t(e)})),(0,n.Z)(this,"_onMouseEnter",(e=>{this._isMouseOver=!0,this._showTip(e);const{onMouseEnter:t}=this._getChildProps();t&&t(e)})),(0,n.Z)(this,"_onMouseLeave",(e=>{this._isMouseOver=!1,this._hideTip();const{onMouseLeave:t}=this._getChildProps();t&&t(e)})),(0,n.Z)(this,"_showTip",(function(e){let{currentTarget:s}=e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t._displayTimeout)return;const{targetParentElement:i,tipDelay:r}=t.props,a=i?s.parentNode:s;t._displayTimeout=window.setTimeout((()=>{t.setState({isVisible:!0,target:a})}),n?0:r)}));let s=document.querySelector("#tipsy-wrapper");s||(s=document.createElement("div"),s.id="tipsy-wrapper",document.body.appendChild(s)),this._tipsyWrapper=s,this._isMouseOver=!1;const{targetSelector:r}=this.props,a=r?document.querySelector(r):null;this.state={isVisible:!!r,positionClass:"",style:{},target:a}}componentDidMount(){const{target:e}=this.state;if(e){const{positionClass:t,style:s}=this._getPositionInfo(e.getBoundingClientRect());this.setState({style:s,positionClass:t})}}componentWillUnmount(){window.clearTimeout(this._displayTimeout),this._displayTimeout=null,this._tipsyWrapper=null,this._isMouseOver=null}componentDidUpdate(e,t){const{target:s}=this.state;if(s){const{positionClass:e,style:n,style:{left:i,top:r}}=this._getPositionInfo(s.getBoundingClientRect());r===t.style.top&&i===t.style.left&&e===t.positionClass||this.setState({style:n,positionClass:e})}}render(){const{animateClass:e,children:t,content:s,textAlign:n,tipClass:r}=this.props,{isVisible:o,positionClass:l,style:d}=this.state;return i.createElement(i.Fragment,null,i.cloneElement(i.Children.only(t),{onBlur:this._onBlur,onFocus:this._onFocus,onMouseLeave:this._onMouseLeave,onMouseEnter:this._onMouseEnter}),o&&i.createElement(c.h,{className:a()("Tipsy",e,r,{["Tipsy--text-align-".concat(n)]:n}),style:d,target:this._tipsyWrapper},s,i.createElement("div",{className:a()("Tipsy__caret",{["Tipsy__caret--".concat(l)]:l})})))}}d.propTypes={animateClass:l().oneOf(["animateFadeIn",""]),children:l().node.isRequired,content:l().node.isRequired,position:l().oneOf(["bottom","left","top","right"]),targetParentElement:l().bool,targetSelector:l().node,textAlign:l().oneOf(["left",""]),tipClass:l().string,tipDelay:l().number},d.defaultProps={animateClass:"",position:void 0,targetParentElement:!1,targetSelector:void 0,textAlign:"",tipClass:void 0,tipDelay:300}},23236:(e,t,s)=>{"use strict";s.d(t,{u:()=>m});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(5375),d=s(74296),h=s(86451),u=s(53670);const p=Object.freeze({negative:"NEGATIVE",positive:"POSITIVE",review:"TO_REVIEW",unlabeled:"UNLABELED"});class m extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onFeedbackClick",((e,t)=>{const{onFeedbackClick:s}=this.props;e.stopPropagation(),s(t)}))}render(){const{curationLabel:e,predictedCurationLabel:t,showReview:s}=this.props,n=e===p.negative,r=e===p.positive,o=e===p.review,l=t===p.negative,m=t===p.positive,g=t===p.review;return i.createElement(i.Fragment,null,i.createElement(u.z,{className:a()("TopicCurationButton",{"TopicCurationButton--predicted":!r&&m}),color:"accent",icon:i.createElement(c.Z,{color:r||m?"white":"accent"}),importance:r||m?"primary":"",onClick:e=>{this._onFeedbackClick(e,p.positive)},rounded:!0,title:"Mark as positive"}),s&&i.createElement(u.z,{className:a()("TopicCurationButton",{"TopicCurationButton--predicted":!o&&g}),color:"notification",icon:i.createElement(d.Z,{color:o||g?"white":"black"}),importance:o||g?"primary":"",onClick:e=>{this._onFeedbackClick(e,p.review)},rounded:!0,title:"Mark as review"}),i.createElement(u.z,{className:a()("TopicCurationButton",{"TopicCurationButton--predicted":!n&&l}),color:"danger",icon:i.createElement(h.Z,{color:n||l?"white":"danger"}),importance:n||l?"primary":"",onClick:e=>{this._onFeedbackClick(e,p.negative)},rounded:!0,title:"Mark as negative"}))}}m.propTypes={curationLabel:l().string,predictedCurationLabel:l().string,onFeedbackClick:l().func.isRequired,showReview:l().bool},m.defaultProps={curationLabel:p.unlabeled,predictedCurationLabel:p.unlabeled,showReview:!0}},23633:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(35610),c=s(77817);function d(e){let{includeLogins:t,user:{email:s,familyName:i,fullName:a,givenName:o,isAdmin:d,logins:h,name:u,picture:p}}=e;return n.createElement("div",{className:"user item-with-visuals"},n.createElement(c.q,{alt:u||s,className:r()("item-image",{"inset role-admin":d}),url:(0,l.w6)(p),iconSize:28}),n.createElement("div",null,n.createElement("div",{className:"item-header"},u||a||"".concat(o," ").concat(i)),n.createElement("div",{className:"item-meta"},s),t&&h&&n.createElement("div",{className:"item-extra"},h.map((e=>e===s?null:n.createElement("div",{key:e},e))))))}d.propTypes={includeLogins:o().bool,user:o().shape({email:o().string,familyName:o().string,fullName:o().string,givenName:o().string,isAdmin:o().bool,logins:o().arrayOf(o().string),name:o().string,picture:o().string}).isRequired},d.defaultProps={includeLogins:!1}},62066:(e,t,s)=>{"use strict";s.d(t,{M:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);class l extends n.Component{render(){const e={"count-velocity":!0};if(this.props.classes&&Object.assign(e,this.props.classes),this.props.className&&this.props.className.split(" ").forEach((t=>{e[t]=!0})),null===this.props.count||isNaN(this.props.count))return null;let t;return t=this.props.count<.25?"1 article per month":this.props.count<2?"1 article per week":Math.ceil(this.props.count)+" articles per week",n.createElement("span",{className:r()(e),title:this.props.count,"data-count":this.props.count},t)}}l.propTypes={count:o().number,classes:o().object,className:o().string}},83175:(e,t,s)=>{"use strict";s.d(t,{g:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(5489),o=s(85902),l=s(69440),c=s(2772);function d(e){let{layers:t,onExampleSearch:s}=e;return n.createElement(n.Fragment,null,n.createElement(c.H2,{className:"m-t-1",light:!0},"What would you like to track about"," ",(0,o.sw)(t[0].parts.map((e=>e.label))),"?"),n.createElement(l.G,{className:"GuidedIntelligenceCards__cards",list:a.T,onClick:s}))}d.propTypes={layers:r().arrayOf(r().object).isRequired,onExampleSearch:r().func.isRequired}},48325:(e,t,s)=>{"use strict";s.d(t,{S:()=>S});var n=s(47169),i=s(89793),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o),c=s(20461),d=s(7761),h=s(37225),u=s(855),p=s(21310),m=s(66105),g=s(63040),f=s(4704),y=s(63434),v=s(23005),b=s(68620),E=s(2772),C=s(44205),w=s(74256),k=s(77469),_=s(83175),M=s(36534);class S extends a.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_continueEditing",(()=>{this.setState({isConfirmExitModalOpen:!1}),this._resolveExit(!0)})),(0,n.Z)(this,"_discardChanges",(()=>{this.setState({isConfirmExitModalOpen:!1}),this._resolveExit()})),(0,n.Z)(this,"_onAddFirstPart",(function(e){let{operator:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="org"===e.type;t.setState({haveShownGuidedIntelligenceOptions:n,layers:[(0,c.TY)(e)],operator:n?null:s,showGuidedIntelligenceOptions:n},t._updateEnterprisePartRestrictions)})),(0,n.Z)(this,"_onExampleSearch",(e=>{let{customModeBundles:t,searchLayers:s}=e;this.setState({showGuidedIntelligenceOptions:!1});const{bundles:n,layers:i}=this.state,r=[...i,...s];this._updateSearchParameters({bundles:t||n.customMode,layers:r})})),(0,n.Z)(this,"_onLayersChange",((e,t)=>{const{[e]:s}=this.state;this.setState({[e]:t,operator:null},(()=>{this._updateShowGuidedIntelligenceOptions(),(0,c.qd)(s,t)&&this._updateEnterprisePartRestrictions()}))})),(0,n.Z)(this,"_resetLayerBuilder",(()=>{this.setState({haveShownGuidedIntelligenceOptions:!1,layers:[],notLayers:[],operator:null,refineModeSwitchState:k.wP.auto,restrictedTypes:[],salienceSwitchState:h.L1.auto,showGuidedIntelligenceOptions:!1,totalVelocity:null})})),(0,n.Z)(this,"_updateEnterprisePartRestrictions",(async()=>{const{layers:e,notLayers:t}=this.state,s=await this.leo.askEnterprisePartRestrictions([...e,...t]);this.setState({restrictedTypes:s})})),(0,n.Z)(this,"_updateInfo",(async()=>{try{const[e,t,s]=await Promise.all([this.alerts.askHasWebAlertsAccess(),this.profile.askHasLeoFeedsLimit(),this.leo.askHasLeoSecurityFeature()]);this.setState({hasLeoFeedsLimit:t,hasLeoSecurityAccess:s,hasWebAlertsAccess:e})}catch(e){console.error("Error",e)}})),(0,n.Z)(this,"_updateSearchParameters",(async function(){var e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===(e=s.layers)||void 0===e||!e.length)return void t.setState({isLoadingInitialState:!1});const{bundles:n,layers:i,notLayers:r,refineMode:a}=await t.alerts.askConvertBeyondSearchOptionsToState(s);t.setState((e=>{let{bundles:t}=e;return{bundles:n||t,isLoadingInitialState:!1,layers:i,notLayers:r,refineMode:a,salienceSwitchState:h.L1.auto,showGuidedIntelligenceOptions:!1}}),(()=>{t._updateInitialSearchOptions(),t._updateEnterprisePartRestrictions()}))})),(0,n.Z)(this,"_updateWebAlertInfo",(async()=>{const{webAlertId:e}=this.props;try{const{layers:t,source:{items:s}}=await this.alerts.askInfo(e);await this._updateSearchParameters({bundles:s,layers:t.map((e=>({...e,parts:e[d.y9[e.type]]})))})}catch(t){console.error("error getting web alert info",t)}})),this.state={bundles:{allFeedlyMode:[k.pc],customMode:[]},bundleVelocities:{},hasLeoFeedsLimit:!1,hasLeoSecurityAccess:!1,hasWebAlertsAccess:!1,haveShownGuidedIntelligenceOptions:!1,initialSearchOptions:null,isConfirmExitModalOpen:!1,isLoadingInitialState:!0,layers:[],notLayers:[],operator:null,refineMode:k.sp.customMode,refineModeSwitchState:k.wP.manual,restrictedTypes:[],salienceSwitchState:h.L1.auto,showGuidedIntelligenceOptions:!1,title:e.webAlertTitle,totalVelocity:null}}async componentDidMount(){this.alerts=streets.service("alerts"),this.leo=streets.service("leo"),this.profile=streets.service("profile"),await this._updateInfo(),this._updateWebAlertInfo()}componentWillUnmount(){this._resolveExit=null,this.alerts=null,this.leo=null,this.profile=null}askConfirmExit(){const{webAlertTitle:e}=this.props,{bundles:t,initialSearchOptions:s,layers:n,notLayers:i,refineMode:a,title:o}=this.state,l=(0,u.st)({bundles:t[a],layers:n,notLayers:i});if(!r()(l,s)||e!==o)return new Promise((e=>{this._resolveExit=e,this.setState({isConfirmExitModalOpen:!0})}))}render(){const{webAlertTitle:e}=this.props,{title:t}=this.state;return a.createElement("div",{className:"RefineWebAlertForm fx"},a.createElement("form",{className:"form m-y-2"},a.createElement("div",{className:"field"},a.createElement(E.H2,{appearance:"h1",className:"m-t-0",kicker:"Leo Web Alert"},e),a.createElement(C.x,{className:"RefineWebAlertForm__label",htmlFor:"RefineWebAlertForm-title",size:"large"},"What do you want to name this alert?"),a.createElement(w.A,{id:"RefineWebAlertForm-title",onChange:e=>{this.setState({title:e})},placeholder:"Name",value:t}))),a.createElement(E.H2,{light:!0},"Track specific companies, products, and topics across the web"),this._renderLayerBuilder(),this._renderConfirmExitModal())}_renderConfirmExitModal(){const{isConfirmExitModalOpen:e}=this.state;return e?a.createElement(b.c,{description:"Your changes will be lost if you close this screen.",onCancel:this._discardChanges,onSuccess:this._continueEditing,cancelLabel:"Discard",small:!0,successColor:"accent",successLabel:"Keep Editing",successOnClose:!0,title:"Continue Editing?"}):null}_renderLayerBuilder(){const{hasLeoSecurityAccess:e,isLoadingInitialState:t,layers:s,notLayers:n,operator:i,refineMode:r}=this.state;return t?a.createElement(v.g,null):s.length?a.createElement(a.Fragment,null,a.createElement(m.m,{layers:s,notLayers:n,onLayersChange:this._onLayersChange,onResetBundleTierLevels:()=>{this.setState((e=>{let{bundles:t}=e;return{bundles:{...t,[r]:t[r].map((e=>({...e,tier:p._O})))}}}))},onSalienceSwitchStateChange:e=>{this.setState({salienceSwitchState:e})},operator:i,resetLayerBuilder:this._resetLayerBuilder}),this._renderResults()):a.createElement(a.Fragment,null,a.createElement(f.D,{hasLeoSecurityAccess:e,onAddFirstPart:this._onAddFirstPart}),this._renderWebAlertActions())}_renderResults(){const{bundles:e,bundleVelocities:t,layers:s,notLayers:n,refineMode:i,refineModeSwitchState:r,restrictedTypes:o,salienceSwitchState:l,showGuidedIntelligenceOptions:u,totalVelocity:p}=this.state;return u?a.createElement(_.g,{layers:s,onExampleSearch:this._onExampleSearch}):a.createElement(a.Fragment,null,this._renderWebAlertActions(),(0,c.Kf)(s)&&a.createElement(g.h,{autoSetToMention:()=>{this.setState({layers:(0,c.kr)(s,0,d.mb.mention),salienceSwitchState:h.L1.autoSetToMention})},bundles:e,bundleVelocities:t,getScrollTarget:()=>streets.service("slider").getScrollTarget(),headerLabel:"Preview",layers:s,notLayers:n,onUpdateBundles:e=>{this.setState({bundles:e})},onToggleMode:(e,t)=>{this.setState({refineMode:e.id,refineModeSwitchState:t,totalVelocity:null})},onVelocitiesChange:(e,t)=>{this.setState({bundleVelocities:e,totalVelocity:t})},refineMode:i,refineModeSwitchState:r,restrictedTypes:o,salienceSwitchState:l,setInitialBundleTiers:!1,velocity:p,velocityCallout:a.createElement(y.r,{bundles:e,refineMode:i,salienceSwitchState:l,velocity:p})}))}_renderWebAlertActions(){const{disableRedirect:e,feedId:t,onDone:s,webAlertId:n}=this.props,{bundles:i,hasLeoFeedsLimit:r,hasLeoSecurityAccess:o,hasWebAlertsAccess:l,initialSearchOptions:c,layers:d,notLayers:h,refineMode:u,restrictedTypes:p,title:m,totalVelocity:g}=this.state;return a.createElement(M.U,{bundles:i,disableRedirect:e,feedId:t,hasLeoFeedsLimit:r,hasLeoSecurityAccess:o,hasWebAlertsAccess:l,initialSearchOptions:c,layers:d,notLayers:h,onClearSearch:this._resetLayerBuilder,onDoneEditing:s,refineMode:u,restrictedTypes:p,velocity:g,webAlertTitle:m,webAlertId:n})}_updateInitialSearchOptions(){const{bundles:e,initialSearchOptions:t,layers:s,notLayers:n,refineMode:i}=this.state;t||this.setState({initialSearchOptions:(0,u.st)({bundles:e[i],layers:s,notLayers:n})})}_updateShowGuidedIntelligenceOptions(){const{layers:e,notLayers:t}=this.state;this.setState((s=>{var n;let{haveShownGuidedIntelligenceOptions:i,showGuidedIntelligenceOptions:r}=s;const a=(!i||r)&&!t.length&&1===e.length&&(null===(n=e[0])||void 0===n?void 0:n.parts.every((e=>"org"===e.type)));return{haveShownGuidedIntelligenceOptions:i||a,showGuidedIntelligenceOptions:a}}))}}S.propTypes={disableRedirect:l().bool,feedId:l().string.isRequired,onDone:l().func.isRequired,webAlertId:l().string.isRequired,webAlertTitle:l().string.isRequired},S.defaultProps={disableRedirect:!1}},36534:(e,t,s)=>{"use strict";s.d(t,{U:()=>A});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(3166),l=s(87753),c=s(99165),d=s(57993),h=s(74221),u=s(20461),p=s(65698),m=s(56295),g=s(99220),f=s(37225),y=s(855),v=s(77157),b=s(62784),E=s(75113),C=s(68620),w=s(85925),k=s(55118),_=s(13079),M=s(7294),S=s(99175),I=s(53670),T=s(31731),N=s(8629),L=s(32727),P=s(81501),D=s(77469);class A extends i.Component{constructor(e){var t;super(e),t=this,(0,n.Z)(this,"_renderFollowButton",(e=>{let{hasCybersecurityBundle:t,isButtonDisabled:s,isHighVelocity:n,needsUpgrade:r}=e;const{hasLeoSecurityAccess:a,isDiscoverWebAlert:o,restrictedTypes:l}=this.props,d=streets.service("profile").hasExpiredProPlusPlan()||streets.service("profile").hasUnpaidEnterprisePlan();let h;if(t&&!a)h=(0,b.Bl)(c.tp.LeoSecurity);else if(n)h={label:"Follow Web Alert"};else if(o&&l.length){const{feature:e,partType:t}=l[0];h=(0,b.Bl)(e,t)}let u=i.createElement(I.z,{disabled:s,key:"follow-alert",label:h?h.label:"Follow Web Alert",onClick:r||d?()=>{const e=h?h.uri:"";this._onUpgradeClick(e)}:this._onOpenFollowWebAlertsModal});return n&&(u=i.createElement(S.d,{key:"follow-alert-tipsy",tipClass:"WebAlertActions__tipsy-container",content:i.createElement(i.Fragment,null,i.createElement("div",{className:"WebAlertActions__tipsy-title"},"Too many articles"),i.createElement("div",{className:"WebAlertActions__tipsy-message"},"Refine to less than ",f.px," articles per week")),textAlign:"left"},i.createElement("span",{className:"WebAlertActions__tipsy-target"},u))),u})),(0,n.Z)(this,"_renderWebAlertsActionModal",(()=>{const{isConfirmClearSearchModalOpen:e,isFollowWebAlertsModalOpen:t,webAlertModalTitle:s}=this.state,{isDiscoverWebAlert:n,onClearSearch:r}=this.props;if(e){const e=n?"Clear":"Clear Search";return i.createElement(C.c,{cancelLabel:"Cancel",danger:!0,description:"Do you want to clear all fields".concat(n?"":" in this search","? This action cannot be undone."),onCancel:this._onCloseConfirmClearSearchModal,onSuccess:()=>{this.setState({isConfirmClearSearchModalOpen:!1}),r()},successLabel:e,title:"".concat(e,"?")})}return t?i.createElement(w.y,{className:"WebAlertActions__modal",header:"Follow Web Alert",onChangeInput:this._onChangeWebAlertName,onClose:this._onCloseFollowWebAlertsModal,onFollowSource:this._createWebAlert,textInputTitle:"Name the Web Alert",value:s}):null})),(0,n.Z)(this,"_createWebAlert",(async e=>{const{webAlertModalTitle:t}=this.state,{analyticsContext:s,bundles:n,layers:i,notLayers:r,onAlertCreated:a,refineMode:o}=this.props,{layers:l,source:c}=(0,y.st)({bundles:n[o],layers:i,notLayers:r}),d={categoryId:e.id,title:t,layers:l,source:c};try{const e=await this.alerts.askCreate(d,{analyticsContext:s});a(),this.router.loadPage((0,g.no)(e.feedId),{bypassConfirmation:!0})}catch(u){if(u.message&&(u.message.startsWith(m.Zs)||u.message.startsWith(m.Eo))){const{isEnterprise:t}=(0,h.Yg)(e.id);this.setState({isLimitReachedPersonal:!t,isLimitReachedTeam:t})}else this.signs.setDefaultErrorMessage(u)}finally{this._onCloseFollowWebAlertsModal()}})),(0,n.Z)(this,"_getWebAlertModalTitle",(()=>{const{webAlertModalTitle:e}=this.state,{layers:t}=this.props;if(!e.length&&(0,b.bB)(t)){const e=t[0].parts[0];return e.label||e.text}return e})),(0,n.Z)(this,"_onChangeWebAlertName",(e=>{this.setState({webAlertModalTitle:e})})),(0,n.Z)(this,"_onCloseConfirmClearSearchModal",(()=>{this.setState({isConfirmClearSearchModalOpen:!1})})),(0,n.Z)(this,"_onCloseDebugMenu",(()=>{this.setState({isDebugMenuOpen:!1})})),(0,n.Z)(this,"_onCloseFollowWebAlertsModal",(()=>{this.setState({isFollowWebAlertsModalOpen:!1,webAlertModalTitle:""})})),(0,n.Z)(this,"_onDebugClick",(e=>{const{bundles:t,layers:s,notLayers:n,refineMode:i}=this.props,r={bundles:i===D.sp.allFeedlyMode?t.allFeedlyMode:t.customMode,layers:(0,b.rT)({layers:s,notLayers:n})};e?this.alerts.askDebugTopic((0,b.Fs)(r),e):this.alerts.askDebugClusters((0,b.Fs)(r))})),(0,n.Z)(this,"_onOpenConfirmClearSearchModal",(()=>{this.setState({isConfirmClearSearchModalOpen:!0})})),(0,n.Z)(this,"_onOpenDebugMenu",(()=>{this.setState({isDebugMenuOpen:!0})})),(0,n.Z)(this,"_onOpenFollowWebAlertsModal",(()=>{this.setState({webAlertModalTitle:this._getWebAlertModalTitle(),isFollowWebAlertsModalOpen:!0})})),(0,n.Z)(this,"_onUpgradeClick",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{analyticsContext:s,bundles:n,hasLeoSecurityAccess:i,onProPlusUpgradeClick:r,refineMode:a,restrictedTypes:o}=t.props,l=!!n[a].find((e=>e.id===D.t8.id));if(t.profile.hasUnpaidEnterprisePlan())t.router.loadPage("team/billing",{bypassConfirmation:!0});else if(t.profile.hasExpiredProPlusPlan()&&!o.length)t.router.loadPage("account/billing",{bypassConfirmation:!0});else if(o.length||l&&!i){let n=e;s&&(n+="?feature=webAlerts&featureContext=".concat(s)),t.router.loadPage(n,{bypassConfirmation:!0})}else streets.hasProPlusAccess()||r()})),(0,n.Z)(this,"_updateInfo",(()=>{const{isFollowWebAlertsModalOpen:e}=this.state;e&&this.setState({webAlertModalTitle:this._getWebAlertModalTitle()})})),(0,n.Z)(this,"_updateWebAlert",(async()=>{const{bundles:e,disableRedirect:t,feedId:s,initialSearchOptions:n,layers:i,notLayers:r,onDoneEditing:a,refineMode:o,webAlertId:l,webAlertTitle:c}=this.props,d={feedId:s,initialSearchOptions:n,searchOptions:(0,y.st)({bundles:e[o],layers:i,notLayers:r}),title:c};try{this.setState({isSavingWebAlert:!0});const{webAlert:e,isRecreated:s}=await this.alerts.askSave(l,d);s&&!t&&this.router.loadPage((0,g.no)(e.feedId),{bypassConfirmation:!0})}catch(h){this.signs.setDefaultErrorMessage(h)}finally{this.setState({isSavingWebAlert:!1}),a()}}));const s=!!window.localStorage.getItem("upgradeCompleted");window.localStorage.removeItem("upgradeCompleted"),this.state={isConfirmClearSearchModalOpen:!1,isDebugMenuOpen:!1,isFollowWebAlertsModalOpen:s,isLimitReachedPersonal:!1,isLimitReachedTeam:!1,isSavingWebAlert:!1,webAlertModalTitle:""}}componentDidMount(){const{saveMetrics:e,startMetricsSession:t}=this.props;this.alerts=streets.service("alerts"),this.analytics=streets.service("analytics"),this.router=streets.service("router"),this.profile=streets.service("profile"),this.signs=streets.service("signs"),t(),window.addEventListener("beforeunload",e),this._reportImpression(),this._updateInfo()}componentDidUpdate(e){const{hasWebAlertsAccess:t}=this.props;e.hasWebAlertsAccess!==t&&this._reportImpression()}componentWillUnmount(){const{saveMetrics:e}=this.props;window.removeEventListener("beforeunload",e),e(),this.alerts=null,this.analytics=null,this.router=null,this.profile=null,this.signs=null}render(){const{isLimitReachedPersonal:e,isLimitReachedTeam:t,isSavingWebAlert:s}=this.state,{bundles:n,hasLeoSecurityAccess:r,hasWebAlertsAccess:a,isDiscoverWebAlert:o,layers:l,onDoneEditing:c,refineMode:d,restrictedTypes:h,velocity:p,webAlertId:m}=this.props,g=v.F.load(),y=p>f.px,b=e||t,C=n[d].some((e=>e.id===D.t8.id)),w=!streets.hasProPlusAccess()||!!h.length||C&&!r,_=!a||!(0,u.Kf)(l)||y||b||!o&&w;let M;if(m)M=[i.createElement(I.z,{disabled:_,key:"update-alert",label:"Update Web Alert",loading:s,onClick:this._updateWebAlert}),i.createElement(I.z,{key:"cancel-edit",importance:"secondary",label:"Cancel",onClick:c})];else{const e=o?"Clear":"Clear Search";M=[i.createElement(I.z,{key:"clear-search",importance:a?"tertiary":"secondary",label:e,onClick:this._onOpenConfirmClearSearchModal})],a&&(M=[this._renderFollowButton({hasCybersecurityBundle:C,isButtonDisabled:_,isHighVelocity:y,needsUpgrade:w}),...M]),(g&&g.sudoSession||"feedly"===streets.getEnterpriseId())&&M.push(this._renderDebugMenu())}return i.createElement("div",{className:"WebAlertActions__buttons"},i.createElement(P.L,{target:".PriorityOptionSelector"},(e=>{let{isSticky:t}=e;return i.createElement(i.Fragment,null,M,t&&i.createElement(k.h,{target:"#headerBarFX"},i.createElement(E.h,{actions:M,compact:!0,headingColumnCount:4,title:"Web Alerts"})))})),this._renderUpgradePrompt(),this._renderWebAlertsActionModal())}_renderDebugMenu(){const{isDebugMenuOpen:e}=this.state,{layers:t,notLayers:s}=this.props,n=(0,b.rT)({layers:t,notLayers:s}).reduce(((e,t)=>(t.parts.forEach((t=>{t.id&&((0,p.jP)(t.id)||(0,p.xT)(t.id))&&e.push(t)})),e)),[]);return i.createElement(T.X,{key:"debug-clusters",caret:!0,importance:"tertiary",label:"Debug",isOpen:e,menu:i.createElement(L.G,{deselectable:!0},i.createElement(N.s,{onClick:()=>{this._onDebugClick()}},i.createElement(o.Z,{importance:"secondary"}),"Clusters"),n.map((e=>{const t=(0,p.mm)(e);return i.createElement(N.s,{key:e.label,onClick:()=>{this._onDebugClick(e.id)}},i.createElement(t,{importance:"secondary"}),e.label)}))),onButtonClick:this._onOpenDebugMenu,onCloseMenu:this._onCloseDebugMenu})}_renderUpgradePrompt(){const{isLimitReachedPersonal:e,isLimitReachedTeam:t}=this.state,{hasLeoFeedsLimit:s,restrictedTypes:n,webAlertId:r}=this.props;if(e||t)return i.createElement(M.o,{className:"WebAlertActions__upgrade-prompt",feature:s?"leoFeeds":"webAlerts",type:e?d.s.personal:d.s.team});if(n.length&&r){const{feature:e,partType:t}=n[0],{sub:s,title:r}=(0,b.Nm)(e,t);return i.createElement(_.X,{className:"WebAlertActions__upgrade-prompt",description:"".concat(r,". ").concat(s),feature:e})}return null}_reportImpression(){const{analyticsContext:e,hasWebAlertsAccess:t,webAlertId:s}=this.props;!s&&t&&(this.analytics.trackNewFeaturesEvent("web_alert","impression",{context:e}),(0,l.K)("web_alert_impression",{context:e},["amplitude","ga"]))}}A.propTypes={analyticsContext:a().string,bundles:a().shape({allFeedlyMode:a().arrayOf(a().object),customMode:a().arrayOf(a().object)}).isRequired,disableRedirect:a().bool,feedId:a().string,hasLeoFeedsLimit:a().bool.isRequired,hasLeoSecurityAccess:a().bool.isRequired,hasWebAlertsAccess:a().bool.isRequired,initialSearchOptions:a().objectOf(a().any),isDiscoverWebAlert:a().bool,layers:a().arrayOf(a().object).isRequired,notLayers:a().arrayOf(a().object).isRequired,onAlertCreated:a().func,onClearSearch:a().func.isRequired,onDoneEditing:a().func,onProPlusUpgradeClick:a().func,refineMode:a().string.isRequired,restrictedTypes:a().arrayOf(a().object).isRequired,saveMetrics:a().func,startMetricsSession:a().func,velocity:a().number,webAlertId:a().string,webAlertTitle:a().string},A.defaultProps={analyticsContext:void 0,disableRedirect:!1,feedId:"",initialSearchOptions:null,isDiscoverWebAlert:!1,onAlertCreated:()=>{},onDoneEditing:null,onProPlusUpgradeClick:()=>{},saveMetrics:()=>{},startMetricsSession:()=>{},velocity:void 0,webAlertId:null,webAlertTitle:null}},5685:(e,t,s)=>{"use strict";s.d(t,{T:()=>c});var n=s(32735),i=s(60216),r=s.n(i),a=s(8199),o=s(62784),l=s(47747);function c(e){let{feature:t,onProPlusUpgradeClick:s,partType:i}=e;const{illustration:r,illustrationDark:c,sub:d,title:h}=(0,o.Nm)(t,i),{label:u,uri:p}=(0,o.Bl)(t);return n.createElement(l.k,{ctaLabel:u,description:d,illustration:r,illustrationDark:c,inline:!0,onCtaClick:t===a._B.proPlus?s:void 0,title:h,uri:p})}c.propTypes={feature:r().string.isRequired,onProPlusUpgradeClick:r().func,partType:r().string},c.defaultProps={onProPlusUpgradeClick:void 0,partType:""}},39970:(e,t,s)=>{"use strict";s.d(t,{L:()=>c});var n=s(2463),i=s.n(n),r=s(32735),a=s(60216),o=s.n(a);const l={div:"div",fragment:"fragment",span:"span"};class c extends r.Component{render(){const{caseSensitive:e,firstOccurance:t,fullword:s,text:n,wordClassName:a}=this.props;let{words:o}=this.props;const l=[];if(!n||!o||!o.length)return this._renderWrapper(n);"string"==typeof o?o=[o]:(o=o.slice(),o.sort(((e,t)=>e.length<t.length)));const c=o.reduce(((e,t)=>{if(t){let n=i()(t);s&&(n="\\b"+n+"\\b"),e.push(n)}else console.warn("[WordClassNameApplier] Invalid option '".concat(t,"' in `words` array."));return e}),[]);let d,h,u=0;const p=new RegExp(c.join("|"),e?"g":"gi");for(;(d=p.exec(n))&&(h=d[0],u!==d.index&&l.push(n.substring(u,d.index)),l.push(r.createElement("span",{key:d.index,className:a},h)),u=d.index+h.length,!t););return u!==n.length&&l.push(n.substring(u)),this._renderWrapper(l)}_renderWrapper(e){const{className:t,wrapper:s}=this.props;return s===l.span?r.createElement("span",{className:t},e):s===l.fragment?r.createElement(r.Fragment,null,e):r.createElement("div",{className:t},e)}}c.propTypes={caseSensitive:o().bool,className:o().string,firstOccurance:o().bool,fullword:o().bool,text:o().string,wordClassName:o().string.isRequired,words:o().oneOfType([o().arrayOf(o().string),o().string]),wrapper:o().oneOf(Object.values(l))},c.defaultProps={caseSensitive:!1,className:void 0,firstOccurance:!1,fullword:!1,text:"",words:void 0,wrapper:"div"}},99149:(e,t,s)=>{"use strict";s.d(t,{d:()=>h});var n=s(47169),i=s(32735),r=s(12788),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l),d=s(32285);class h extends i.Component{constructor(){super(),(0,n.Z)(this,"close",(()=>{this._onClose()})),(0,n.Z)(this,"_onTouchStart",(e=>{!e.touches||e.touches.length>1||(this.touchPosition=e.targetTouches[0].clientY)})),(0,n.Z)(this,"_onTouchMove",(e=>{const{displayMode:t}=this.state;if(!e.touches||e.touches.length>1)return;e.preventDefault();const{clientY:s}=e.targetTouches[0];if(s>=this.touchPosition){let e=Math.abs(this.touchPosition-s);"tablet"===t&&(e-=this.drawer.current.offsetHeight/2),this.touchHistory={secondToLastDistance:this.touchHistory.lastDistance,lastDistance:e},this.setState({pullHeight:e})}})),(0,n.Z)(this,"_onTouchEnd",(()=>{const{displayMode:e,pullHeight:t}=this.state,{lastDistance:s,secondToLastDistance:n}=this.touchHistory;t>=44&&s>=n?this._onClose():this.setState({pullHeight:"tablet"===e?"-50%":0})})),(0,n.Z)(this,"_onClose",(()=>{this.setState({isClosing:!0},(()=>{this.drawer.current.addEventListener("animationend",(()=>{this.props.onClose()}))}))})),this.resize=streets.service("resize");const e=this.resize.getDisplayMode();this.drawer=i.createRef(),this.drawerOverlay=i.createRef(),this.drawerContainer=document.getElementById("drawer-container"),this.state={displayMode:e,isClosing:!1,pullHeight:"tablet"===e?"-50%":0}}componentDidMount(){this.touchHistory={},this.shortcuts=streets.service("shortcuts"),this.shortcuts.registerObserver(this),this.resize.registerObserver(),this.drawerOverlay.current.addEventListener("touchmove",(e=>{e.preventDefault()})),this.drawer.current.addEventListener("touchstart",this._onTouchStart,!1),this.props.isTouchEnabled&&this.drawer.current.addEventListener("touchmove",this._onTouchMove,!1),this.drawer.current.addEventListener("touchend",this._onTouchEnd,!1)}componentDidUpdate(e){const{isTouchEnabled:t}=this.props;e.isTouchEnabled!==t&&(t?this.drawer.current.addEventListener("touchmove",this._onTouchMove,!1):this.drawer.current.removeEventListener("touchmove",this._onTouchMove))}componentWillUnmount(){this.drawer.current.removeEventListener("touchstart",this._onTouchStart,!1),this.drawer.current.removeEventListener("touchmove",this._onTouchMove,!1),this.drawer.current.removeEventListener("touchend",this._onTouchEnd,!1),this.drawerContainer=null,this.resize.unregisterObserver(),this.shortcuts.unregisterObserver(this),this.resize=null,this.shortcuts=null}onDisplayModeChanged(e){this.setState({displayMode:e})}onShortcutKey(e){e===d.PC.close&&this._onClose()}render(){return r.createPortal(this._renderDrawer(),this.drawerContainer)}_renderDrawer(){const{displayMode:e,isClosing:t,pullHeight:s}=this.state,{children:n,className:r}=this.props,a="tablet"===e?"translate(-50%, ".concat(s+(Number.isNaN(s)?"":"px"),")"):"translateY(".concat(s,"px)");return i.createElement("div",{onClick:e=>{e.stopPropagation()}},i.createElement("div",{className:o()("Drawer__overlay",{"Drawer__overlay--closing":t}),onClick:()=>{this._onClose()},ref:this.drawerOverlay}),i.createElement("div",{className:o()("Drawer",r,{"Drawer--closing":e&&t,"Drawer--tablet":"tablet"===e}),ref:this.drawer,style:{transform:a}},n))}}h.propTypes={children:c().node,className:c().string,isTouchEnabled:c().bool,onClose:c().func.isRequired},h.defaultProps={children:void 0,className:void 0,isTouchEnabled:!0}},42142:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{children:t,padTop:s}=e;return n.createElement("div",{className:r()("Drawer__header",{"Drawer__header--pad-top":s})},t)}l.propTypes={children:o().node.isRequired,padTop:o().bool},l.defaultProps={padTop:!1}},90260:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{children:t,muted:s,small:i}=e;return n.createElement("div",{className:r()("Drawer__sub",{"Drawer__sub--muted":s,"Drawer__sub--small":i})},t)}l.propTypes={children:o().node.isRequired,muted:o().bool,small:o().bool},l.defaultProps={muted:!1,small:!1}},20785:(e,t,s)=>{"use strict";s.d(t,{U:()=>u});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(86462),d=s(89803),h=s(28514);class u extends i.Component{constructor(){super(),(0,n.Z)(this,"_onTouchableRef",(e=>{e&&(this._element=e,this._element.addEventListener("touchstart",this._onTouchStart,!1))})),(0,n.Z)(this,"_onClick",(e=>{const{onClick:t}=this.props;!t||this._deepPressTriggered||this._cancelClick||(t(),e.cancelable&&e.preventDefault())})),(0,n.Z)(this,"_onDeepPress",(()=>{if(this._deepPressTriggered)return;const{onDeepPress:e}=this.props;e(event),this._deepPressTriggered=!0})),(0,n.Z)(this,"_onTouchStart",(e=>{!e.touches||e.touches.length>1||(this._touchStartX=e.targetTouches[0].clientX,this._touchStartY=e.targetTouches[0].clientY,this._touchStartX<c.o?this._cancelClick=!0:(this._cancelClick=!1,this._deepPressTriggered=!1,this._trackGesture(e)))})),(0,n.Z)(this,"_onTouchMove",(e=>{if(!e.touches||e.touches.length>1)return this._cancelClick=!0,void this._untrackGesture();if(this._deepPressTriggered)return e.cancelable&&e.preventDefault(),void e.stopPropagation();const t=e.targetTouches[0].clientX-this._touchStartX,s=e.targetTouches[0].clientY-this._touchStartY;(0,d.Xl)(t,s)&&(this._cancelClick=!0,this._untrackGesture())})),(0,n.Z)(this,"_onTouchForceChange",(e=>{const[t]=e.touches;t&&t.force>=1&&(this._onDeepPress(),e.preventDefault(),e.stopPropagation())})),(0,n.Z)(this,"_onTouchEnd",(()=>{this._untrackGesture()})),this._deepPressTriggered=!1,this._element=null,this._touchStartX=null,this._touchStartY=null}componentWillUnmount(){this._untrackGesture(),this._element&&(this._element.removeEventListener("touchstart",this._onTouchStart,!1),this._element=null),this._cancelClickTimer&&(window.clearTimeout(this._cancelClickTimer),this._cancelClickTimer=null),this.longPressTimer&&(window.clearTimeout(this.longPressTimer),this.longPressTimer=null),this._deepPressTriggered=null,this._touchStartX=null,this._touchStartY=null}render(){const{children:e,className:t}=this.props;return i.createElement("div",{className:a()("ForceTouchable",t),onClick:this._onClick,ref:this._onTouchableRef},e)}onPageScroll(e){(0,h.Dt)()&&this._trackingScrollTop===e||(this._cancelClick=!0,this._untrackGesture())}_trackGesture(){const{pageManager:e}=this.props;e&&(this._trackingScrollTop=e.getScrollTop(),e.registerObserver(this)),this._element.addEventListener("touchmove",this._onTouchMove,!1),this._element.addEventListener("touchend",this._onTouchEnd,!1),this._element.addEventListener("touchforcechange",this._onTouchForceChange,!1),this.longPressTimer=window.setTimeout(this._onDeepPress,d.gt)}_untrackGesture(){const{pageManager:e}=this.props;e&&e.unregisterObserver(this),this._cancelClickTimer=window.setTimeout((()=>{this._cancelClick=!1}),10),this._element&&(this._element.removeEventListener("touchmove",this._onTouchMove,!1),this._element.removeEventListener("touchend",this._onTouchEnd,!1),this._element.removeEventListener("touchforcechange",this._onTouchForceChange)),this.longPressTimer&&(window.clearTimeout(this.longPressTimer),this.longPressTimer=null)}}u.propTypes={children:l().node.isRequired,className:l().string,onClick:l().func,onDeepPress:l().func,pageManager:l().objectOf(l().any)},u.defaultProps={className:void 0,onClick:void 0,onDeepPress:()=>{},pageManager:void 0}},41260:(e,t,s)=>{"use strict";s.d(t,{y:()=>Ye});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(94773);const d=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M11.256 2.669a.75.75 0 0 1 1.288-.098l.058.098 2.739 5.57 6.125.9a.75.75 0 0 1 .487 1.198l-.072.08-2.468 2.413a.75.75 0 0 1-1.123-.99l.074-.082 1.385-1.356-5.016-.736a.75.75 0 0 1-.511-.32l-.053-.09-2.241-4.557-2.24 4.556a.75.75 0 0 1-.462.389l-.102.022-5.017.736 3.632 3.55a.75.75 0 0 1 .225.56l-.01.103-.858 5.011 4.482-2.365a.75.75 0 0 1 .96.226l.054.087a.75.75 0 0 1-.227.96l-.086.054-5.827 3.075a.75.75 0 0 1-1.1-.689l.01-.1L6.41 14.75l-4.433-4.335a.75.75 0 0 1 .31-1.255l.105-.023 6.125-.899 2.74-5.57Z"}),i.createElement("path",{d:"M17 13.25a.75.75 0 0 1 .743.648l.007.102v6a.75.75 0 0 1-1.493.102L16.25 20v-6a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M20 16.25a.75.75 0 0 1 .102 1.493L20 17.75h-6a.75.75 0 0 1-.102-1.493L14 16.25h6Z"})))}));const h=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.429 8.25a6.321 6.321 0 0 1 .231 12.639l-.231.004h-4.286a.75.75 0 0 1-.102-1.493l.102-.007h4.286a4.821 4.821 0 0 0 .214-9.638l-.214-.005H2.57a.75.75 0 0 1-.101-1.493l.101-.007H15.43Z"}),i.createElement("path",{d:"M6.327 4.181a.75.75 0 0 1 1.133.977l-.073.084-3.755 3.756 3.755 3.755a.75.75 0 0 1 .073.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L2.04 9.528a.75.75 0 0 1-.073-.977l.073-.084 4.286-4.286Z"})))}));const u=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M11.156 2.695a.75.75 0 0 1 .743.648l.007.102v16.904a.75.75 0 0 1-1.494.102l-.006-.102V3.445a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M3.776 13.07a.75.75 0 0 1 .976-.08l.085.072 6.303 6.22 6.304-6.22a.75.75 0 0 1 .977-.066l.084.073a.75.75 0 0 1 .066.977l-.073.084-6.83 6.74a.75.75 0 0 1-.97.072l-.084-.071-6.83-6.741a.75.75 0 0 1-.008-1.06ZM20.143 6.107a.75.75 0 0 1 .102 1.493l-.102.007H15a.75.75 0 0 1-.102-1.493L15 6.107h5.143Z"})))}));const p=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M18.857 3.536H5.143A2.464 2.464 0 0 0 2.679 6v5.143a9.321 9.321 0 1 0 18.642 0V6a2.464 2.464 0 0 0-2.464-2.464Zm-13.714 1.5h13.714c.533 0 .964.431.964.964v5.143a7.821 7.821 0 1 1-15.642 0V6c0-.533.431-.964.964-.964Z"}),i.createElement("path",{d:"M8.041 9.755a.75.75 0 0 1 .977-.072l.084.072L12 12.654l2.898-2.899a.75.75 0 0 1 .977-.072l.084.072a.75.75 0 0 1 .073.977l-.073.084-3.429 3.429a.75.75 0 0 1-.976.072l-.084-.072-3.429-3.429a.75.75 0 0 1 0-1.06Z"})))}));const m=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M18.571 2.679H5.43a2.75 2.75 0 0 0-2.75 2.75V18.57a2.75 2.75 0 0 0 2.75 2.75H18.57a2.75 2.75 0 0 0 2.75-2.75V5.43a2.75 2.75 0 0 0-2.75-2.75ZM5.43 4.179H18.57c.69 0 1.25.56 1.25 1.25V18.57c0 .69-.56 1.25-1.25 1.25H5.43c-.69 0-1.25-.56-1.25-1.25V5.43c0-.69.56-1.25 1.25-1.25Z"}),i.createElement("path",{d:"m11.244 8.459.006.112c0 .959 1.378.999 1.492.12l.008-.12c0-.494.372-.902.852-.957l.112-.007c1 0 1-1.5 0-1.5h-3.428c-.959 0-.999 1.378-.12 1.493l.12.007c.494 0 .902.372.958.852ZM10.166 17.885l.12.008h3.428l.12-.008c.84-.11.84-1.375 0-1.485l-.232-.014a.965.965 0 0 1-.846-.845l-.006-.112c0-.959-1.378-.999-1.492-.12l-.008.12a.965.965 0 0 1-.852.957l-.112.007c-.959 0-.999 1.377-.12 1.492Z"}),i.createElement("path",{d:"M12 6.964a.75.75 0 0 1 .743.649l.007.101v8.572a.75.75 0 0 1-1.493.101l-.007-.101V7.714a.75.75 0 0 1 .75-.75Z"})))}));const g=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M16 2.679H8a2.75 2.75 0 0 0-2.75 2.75v16l.007.103a.75.75 0 0 0 1.088.562l5.662-2.937 5.647 2.937a.75.75 0 0 0 1.096-.665v-16A2.75 2.75 0 0 0 16 2.679Zm0 1.5.128.006a1.25 1.25 0 0 1 1.122 1.244v14.764l-4.896-2.547-.111-.047a.75.75 0 0 0-.58.047L6.75 20.195V5.429c0-.69.56-1.25 1.25-1.25h8Z",fill:"currentColor",fillRule:"nonzero"}))}));var f=s(39895),y=s(42566),v=s(27213),b=s(38916),E=s(11459),C=s(65698),w=s(44406),k=s(3167),_=s(35278),M=s(8142),S=s(77817),I=s(5540),T=s(41786),N=s(14967),L=s(73530),P=s(70542),D=s(39970),A=s(99149);const O=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M19.714 11.25a.75.75 0 0 1 .743.648l.007.102v6.857c0 1.329-1.125 2.38-2.51 2.46l-.168.004H6.214c-1.404 0-2.584-1-2.673-2.306l-.005-.158V12a.75.75 0 0 1 1.493-.102l.007.102v6.857c0 .478.443.904 1.047.959l.131.005h11.572c.624 0 1.11-.394 1.172-.862l.006-.102V12a.75.75 0 0 1 .75-.75ZM11.47 2.898a.75.75 0 0 1 .976-.072l.084.072 4.286 4.286a.75.75 0 0 1-.976 1.133l-.085-.072L12 4.49 8.245 8.245a.75.75 0 0 1-.977.072l-.084-.072a.75.75 0 0 1-.073-.977l.073-.084 4.286-4.286Z"}),i.createElement("path",{d:"M12 2.679a.75.75 0 0 1 .743.648l.007.102v12a.75.75 0 0 1-1.493.101l-.007-.101v-12a.75.75 0 0 1 .75-.75Z"})))}));const x=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M17.143 2.679a3.321 3.321 0 1 0 0 6.642 3.321 3.321 0 0 0 0-6.642Zm0 1.5a1.821 1.821 0 1 1 0 3.642 1.821 1.821 0 0 1 0-3.642ZM6.857 8.679a3.321 3.321 0 1 0 0 6.642 3.321 3.321 0 0 0 0-6.642Zm0 1.5a1.821 1.821 0 1 1 0 3.642 1.821 1.821 0 0 1 0-3.642ZM17.143 14.679a3.321 3.321 0 1 0 0 6.642 3.321 3.321 0 0 0 0-6.642Zm0 1.5a1.821 1.821 0 1 1 0 3.642 1.821 1.821 0 0 1 0-3.642Z"}),i.createElement("path",{d:"M8.43 12.917a.75.75 0 0 1 .933-.316l.092.045 5.854 3.412a.75.75 0 0 1-.664 1.341l-.091-.045L8.7 13.942a.75.75 0 0 1-.27-1.025ZM14.545 6.647a.75.75 0 0 1 .84 1.238l-.084.057-5.846 3.411a.75.75 0 0 1-.84-1.238l.084-.057 5.846-3.411Z"})))}));const R=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M12.013 2.695a.75.75 0 0 1 .743.648l.007.102v16.904a.75.75 0 0 1-1.493.102l-.007-.102V3.445a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M11.469 2.896a.75.75 0 0 1 .973-.072l.084.072 6.83 6.785a.75.75 0 0 1-.972 1.136l-.085-.072-6.302-6.26-6.301 6.26a.75.75 0 0 1-.977.07l-.084-.074a.75.75 0 0 1-.07-.977l.074-.083 6.83-6.785Z"})))}));const j=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M12.013 2.695a.75.75 0 0 1 .743.648l.007.102v16.904a.75.75 0 0 1-1.493.102l-.007-.102V3.445a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M4.633 13.07a.75.75 0 0 1 .976-.08l.085.072 6.303 6.22 6.304-6.22a.75.75 0 0 1 .977-.066l.084.073a.75.75 0 0 1 .066.977l-.073.084-6.83 6.74a.75.75 0 0 1-.97.072l-.084-.071-6.83-6.741a.75.75 0 0 1-.008-1.06Z"})))}));const F=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M11.33 1.75c.95 0 1.622.355 2.158.98l.137.173.251.327.287.053c.273.046.665.103 1.171.17l1.258.16c2.258.364 3.572 1.591 3.74 3.583l.123 1.536c.249 3.258.371 6.005.245 7.115-.373 3.284-2.212 6.403-5.542 6.403-1.899 0-3.116-.86-3.535-2.259-.31-1.032-.116-2.313.384-2.935.413-.515.843-.875 1.334-1.077l.187-.068.162-.047-.102-.03a6.554 6.554 0 0 1-.92-.36l-.195-.104-.052-.03-.04.08c-.512.907-1.313 1.516-2.4 1.647l-.222.02-.229.006c-3.088 0-6.059-2.41-6.192-5.749l-.004-.166-.025-.19-.013-.116a7.21 7.21 0 0 1-.003-1.605c.035-.29.092-.563.175-.816.325-.99 1.388-2.295 2.892-3.856.188-.195.425-.404.706-.628.17-.135.352-.273.549-.416.227-.165.465-.33.706-.491l.653-.426.05-.084c.331-.498.975-.734 1.874-.788l.212-.009.22-.003Zm0 1.5c-.748 0-1.047.11-1.048.115a.75.75 0 0 1-.239.362l-.148.1-.395.252a23.45 23.45 0 0 0-1.004.686c-.18.13-.345.255-.495.375l-.26.214a4.59 4.59 0 0 0-.3.282l-.427.45C5.911 7.268 5.091 8.313 4.893 8.918c-.05.152-.087.33-.111.528-.048.4-.04.844.005 1.267l.035.268.011.128c0 2.563 2.31 4.483 4.697 4.483.736 0 1.213-.324 1.545-.91.125-.222.218-.466.282-.71l.03-.123.05-.286c.198-.82 1.477-.713 1.477.195 0 .146.36.401 1.127.644l.466.132c.382.104.832.22.902.241 1.357.42 2.528 1.655 2.374 3.131-.112 1.069-.652 1.876-1.633 2.363-1.303.52-2.371.305-2.86-.768-.409-.896-.116-1.644.576-2.048.045-.026.113-.06.184-.091l.151-.066-.066.008c-.267.047-.49.181-.728.427l-.121.132-.11.131c-.174.217-.29.985-.116 1.566.224.75.847 1.189 2.098 1.189 2.305 0 3.755-2.459 4.052-5.072.129-1.135-.057-4.587-.374-8.356-.105-1.257-.866-1.968-2.454-2.225l-1.315-.166c-.904-.12-1.462-.212-1.71-.283a1.141 1.141 0 0 1-.501-.307l-.11-.124c-.15-.183-.361-.468-.398-.511-.267-.312-.54-.456-1.017-.456Zm4.642 13.625.023.148.008.16c0 .56-.27.983-.688 1.25l-.135.08-.19.087-.256.098-.062.026-.082.04c-.01.004.005.005.037.062l.027.053c.098.215.297.255.883.024.457-.228.694-.584.754-1.152.025-.237-.05-.481-.193-.705l-.076-.11-.05-.061Zm.817-7.137c.946 0 1.805.578 1.805 1.48 0 .416-.2.79-.53 1.056-.336.273-.808.34-1.212.194l-.15-.063-.084-.025-.115-.01-.446-.007c-.472-.041-.898-.34-1.027-.81a1.27 1.27 0 0 1-.045-.336c0-.901.858-1.479 1.804-1.479Z",fill:"currentColor",fillRule:"nonzero"}))}));var U=s(51239),z=s(28514),Z=s(5017);class B extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddToInstapaper",(async()=>{const{entry:e}=this.props,t=streets.service("notifications");try{if(this.drawer.current.close(),!streets.hasProAccess())return void streets.service("tabsManager").askOpenNewPage("premium/pro/instapaper");e.metadata.instapaper?t.showMessage("Already saved to Instapaper"):await streets.service("instapaper").askAdd(e.id)}catch(s){t.showError("Error ".concat(s.message))}})),(0,n.Z)(this,"_onAddToPocket",(async()=>{const{entry:e}=this.props,t=streets.service("notifications");try{if(this.drawer.current.close(),!streets.hasProAccess())return void streets.service("tabsManager").askOpenNewPage("premium/pro/pocket");e.metadata.isSavedToPocket?t.showMessage("Already saved to Pocket"):await streets.service("pocket").askAddToPocket(e.id)}catch(s){t.showError("Error ".concat(s.message))}})),(0,n.Z)(this,"_onEvernoteClick",(e=>{const{entry:t}=this.props;this.drawer.current.close(),streets.hasProAccess()?e?window.$B.core.application.openURL(e,"browser"):streets.service("tabsManager").askOpenNewPage("evernote/".concat(encodeURIComponent(t.id)),{helperPage:!0}):streets.service("tabsManager").askOpenNewPage("premium/pro/evernote")})),(0,n.Z)(this,"_onOpenSaveBoard",(()=>{const{entry:e}=this.props;this.drawer.current.close(),streets.getUserId()?streets.service("tabsManager").askOpenNewPage("saveEntry/".concat(encodeURIComponent(e.getId())),{helperPage:!0}):streets.service("auth").startFlow("signup")})),(0,n.Z)(this,"_onOpenFeedbackDrawer",(()=>{const{onOpenFeedbackDrawer:e}=this.props;this.drawer.current.close(),e()})),(0,n.Z)(this,"_onShare",(()=>{const{entry:e}=this.props;this.drawer.current.close(),window.$B.core.wm.share({title:e.getCleanTitle(),url:e.getCleanAlternateLink()})})),(0,n.Z)(this,"_toggleMarkAsRead",(()=>{const{entry:e}=this.props,t=streets.service("reader"),s=streets.service("notifications");if(this.drawer.current.close(),streets.getUserId())try{t.askToggleEntryRead(e.id)}catch(n){s.showError("Error ".concat(n))}else streets.service("auth").startFlow("signup")})),(0,n.Z)(this,"_onMarkAboveAsRead",(()=>{const{entry:e,pageManager:t}=this.props,s=t.getNavigo(),n=streets.service("reader"),i=streets.service("notifications");if(this.drawer.current.close(),!streets.getUserId())return void streets.service("auth").startFlow("signup");const r=s.listEntryIdsBefore(e.getId());i.showMessage("".concat(r.length," articles marked as read")),n.askMarkEntriesAsRead(r).catch((e=>{i.showError("Error ".concat(e))}))})),(0,n.Z)(this,"_onMarkBelowAsRead",(async()=>{const{entry:e,pageManager:t}=this.props,s=t.getNavigo(),n=streets.service("reader"),i=streets.service("notifications");if(this.drawer.current.close(),!streets.getUserId())return void streets.service("auth").startFlow("signup");const r=s.getStreamInfo(),a=s.listEntryIdsAfter(e.getId());if(n.askMarkEntriesAsRead(a,{forceFlush:!1}),i.showMessage("Articles marked as read"),r&&r.streamId&&"newest"===r.sort)try{await n.askMarkStreamAsRead(r.streamId,{lastReadEntryId:e.getId(),partial:!0,silently:!0})}catch(o){i.showError("Error ".concat(o))}})),this.drawer=i.createRef()}render(){const{entry:e,isInstapaperConnected:t,isPocketConnected:s,onClose:n,isLeoEnabled:r}=this.props;return i.createElement(A.d,{ref:this.drawer,onClose:n},s&&i.createElement(Z.k,{onClick:this._onAddToPocket},i.createElement(p,{importance:"secondary"}),e.metadata.isSavedToPocket?"Saved to Pocket":"Save to Pocket"),t&&i.createElement(Z.k,{onClick:this._onAddToInstapaper},i.createElement(m,{importance:"secondary"}),e.getDecoration("instapaper")?"Saved to Instapaper":"Save to Instapaper"),this._renderEvernote(),i.createElement(Z.k,{onClick:this._onOpenSaveBoard},i.createElement(d,{importance:"secondary"}),"Save to board"),!!r&&i.createElement(Z.k,{onClick:this._onOpenFeedbackDrawer},i.createElement(u,{importance:"secondary"}),"Less Like This"),i.createElement(Z.k,{onClick:this._onShare},(0,z.gn)()?i.createElement(O,{importance:"secondary"}):i.createElement(x,{importance:"secondary"}),"Share"),i.createElement(Z.k,{onClick:this._toggleMarkAsRead},e.isRead()?i.createElement(h,{importance:"secondary"}):i.createElement(f.Z,{importance:"secondary"}),e.isRead()?"Mark as unread":"Mark as read"),i.createElement(Z.k,{onClick:this._onMarkAboveAsRead},i.createElement(R,{importance:"secondary"}),"Mark above as read"),i.createElement(Z.k,{onClick:this._onMarkBelowAsRead},i.createElement(j,{importance:"secondary"}),"Mark below as read"))}_renderEvernote(){const{entry:e,isEvernoteConnected:t}=this.props;if(!t)return null;const s=e.getDecoration(U.I.evernote);return i.createElement(Z.k,{onClick:()=>{this._onEvernoteClick(s)}},i.createElement(F,{importance:"secondary"}),s?"Open in Evernote":"Save to Evernote")}}B.propTypes={...A.d.propTypes,entry:l().objectOf(l().any).isRequired,isEvernoteConnected:l().bool,isInstapaperConnected:l().bool,isPocketConnected:l().bool,onOpenFeedbackDrawer:l().func,pageManager:l().objectOf(l().any)},B.defaultProps={isEvernoteConnected:!1,isInstapaperConnected:!1,isPocketConnected:!1,onOpenFeedbackDrawer:()=>{},pageManager:null};var H=s(20785),Y=s(78505),W=s(7761),q=s(2222),V=s(79199),Q=s(57343),G=s(16972),K=s(8680),J=s(51138),X=s(40625);function $(e){let{entry:t}=e;return i.createElement(X.E,{className:t.isContentRTL()?"m-l-1":"",date:t.getCrawledDate(),isRTL:t.isContentRTL(),lastModifiedDate:t.getLastModifiedDate()})}$.propTypes={entry:l().objectOf(l().any).isRequired};var ee=s(49031),te=s(10974),se=s(36899);const ne=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M13.979 14.69a1.395 1.395 0 0 1-2.39.128l-.073-.122-2.32-4.334a.75.75 0 0 1 1.268-.794l.054.086 2.227 4.16 2.204-4.157a.75.75 0 0 1 .56-.392l.103-.007h3.808c1.982 0 3.108 1.097 3.108 3.046 0 1.872-1.035 2.975-2.898 3.1l-.21.01H16.8a.75.75 0 0 1-.743-.649l-.007-.102V12a.75.75 0 0 1 1.493-.102l.007.102v1.913h1.85c1.112-.03 1.58-.445 1.625-1.446l.003-.163c0-1.056-.402-1.5-1.439-1.543l-.169-.003h-3.358l-2.083 3.933ZM8.136 9.25a.75.75 0 0 1 .743.648l.007.102v4.028a1.395 1.395 0 0 1-2.354 1.013l-.099-.103-3.369-3.916v3.65a.75.75 0 0 1-.648.743l-.102.007a.75.75 0 0 1-.743-.648l-.007-.102v-3.933a1.395 1.395 0 0 1 2.348-1.02l.105.11 3.369 3.916V10a.75.75 0 0 1 .648-.743l.102-.007Z"})))}));var ie=s(37225),re=s(855),ae=s(16216),oe=s(26880),le=s(23005),ce=s(44205),de=s(42142),he=s(90260);class ue extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{entity:null}),(0,n.Z)(this,"_onViewOnNVDClick",(()=>{const{entity:e}=this.state;this.tabsManager.askOpenExternalUrl((0,te.OZ)(e.cveid))})),(0,n.Z)(this,"_onSearchClick",(e=>{const{onClose:t}=this.props,{entity:{cveid:s}}=this.state;e.stopPropagation(),t(),streets.service("tabsManager").askOpenPage("https://feedly.com/i/".concat((0,re.xU)({scope:"topic/global.popular",term:s,time:ie.qp.month})))}))}componentDidMount(){this.tabsManager=streets.service("tabsManager"),this.leo=streets.service("leo"),this._updateInitialData()}componentWillUnmount(){this.tabsManager=null,this.leo=null}render(){const{onClose:e}=this.props,{entity:t}=this.state;if(!t)return i.createElement(A.d,{onClose:e},i.createElement(le.g,null));if(!t.cveid)return i.createElement(A.d,{onClose:e},i.createElement("p",null,"Info could not be found for this vulnerability. Please check again later."));const{cveid:s,cvssV3:{attackComplexity:n,attackVector:r,availabilityImpact:a,baseScore:o}={},description:l,exploits:c,patched:d,trendingSparklineUrl:h,trending:u}=t;return i.createElement(A.d,{className:"InlineEntityDrawer",onClose:e},i.createElement("div",{className:"InlineEntityDrawer__content"},i.createElement(de.O,null,s,i.createElement(he.h,{muted:!0,small:!0},o&&i.createElement(ce.x,{className:"m-r-1",color:"accent",size:"smallest",tagName:"span"},"CVSS: ",o),i.createElement("span",{className:"m-r-1"},"Exploit: ",c&&c.length?"Yes":"No"),i.createElement("span",{className:"m-r-1"},"Patched: ",d?"Yes":"No"),u&&i.createElement(ce.x,{className:"m-l-1",color:"accent",size:"smallest",tagName:"span"},"trending"))),l&&i.createElement("p",{className:"InlineEntityDrawer__description"},l),i.createElement("div",{className:"InlineEntityDrawer__stats"},i.createElement("div",null,r&&i.createElement(oe.y,{label:"AV:",value:ae.z3[r]}),n&&i.createElement(oe.y,{label:"AC:",value:ae.DQ[n]}),a&&i.createElement(oe.y,{label:"A:",value:ae.UQ[a]})),h&&i.createElement("img",{className:"InlineEntityDrawer__chart",alt:"Trend graph of "+s,src:h}))),i.createElement(Z.k,{onClick:this._onSearchClick},i.createElement(se.Z,{importance:"secondary"}),"Search"),i.createElement(Z.k,{onClick:this._onViewOnNVDClick},i.createElement(ne,{importance:"secondary"}),"View on NVD"))}async _updateInitialData(){const{entityId:e}=this.props;let t;try{t=await this.leo.askEntityInfo(e)}catch(s){t=null}this.setState({entity:t})}}ue.propTypes={entityId:l().string.isRequired,onClose:l().func.isRequired};class pe extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isDrawerOpen:!1}),(0,n.Z)(this,"_onClick",(()=>{this.setState({isDrawerOpen:!0})})),(0,n.Z)(this,"_onCloseDrawer",(()=>{this.setState({isDrawerOpen:!1})}))}render(){const{clickable:e,entry:t}=this.props,{isDrawerOpen:s}=this.state,n=t.listTopVulnerability()||{},{id:r,vulnerabilityInfo:a={},vulnerabilityInfo:{cvssScore:o,hasExploit:l}={}}=n,c=t.getPrioritySeverity(),{category:d}=t.getEstimatedCVSS()||{},h=o&&(o>8||o>5&&l);return i.createElement(i.Fragment,null,i.createElement(K.h,{label:(0,te.GE)(a,c,d),iconComponent:ee.Z,iconColor:h?"accent":"black",iconTitle:"CVSS Score",importance:h?void 0:"secondary",onClick:e&&o?this._onClick:null}),s&&i.createElement(ue,{entityId:r,onClose:this._onCloseDrawer,streamId:t.suggestViaFeedId()}))}}pe.propTypes={clickable:l().bool,entry:l().shape({getEstimatedCVSS:l().func,getPrioritySeverity:l().func,listTopVulnerability:l().func,suggestViaFeedId:l().func}).isRequired},pe.defaultProps={clickable:!1};var me=s(51205);class ge extends i.PureComponent{render(){const{keyword:e,onClick:t}=this.props;return e?i.createElement(K.h,{label:e,iconComponent:me.Z,iconTitle:"Keyword Alert",importance:"secondary",onClick:t}):null}}ge.propTypes={keyword:l().string,onClick:l().func},ge.defaultProps={keyword:null,onClick:()=>{}};var fe=s(42070),ye=s(74221),ve=s(25327),be=s(2366),Ee=s(97090),Ce=s(53670),we=s(2772);function ke(e){let t,{isFilter:s,isLegacy:n,isPriority:r,leoTopicToDelete:a,onCloseDeleteDrawer:o,onDeleteConfirmClick:l}=e;return r?t=a.label:s&&(t=n?a.searchQuery:a.term.label||a.term.text),i.createElement(A.d,{onClose:o},i.createElement(we.H2,{appearance:"h3",className:"ConfirmDeleteLeoTopicDrawer__header p-l-0 m-b-0 m-t-t"},"Are you sure you want to delete ",t,"?"),i.createElement("p",{className:"ConfirmDeleteLeoTopicDrawer__sub m-b-t m-t-t"},"This is permanent and can't be undone."),i.createElement(Ce.z,{color:"danger",className:"ConfirmDeleteLeoTopicDrawer__button",label:"Delete",onClick:()=>l(a)}),i.createElement(Ce.z,{className:"ConfirmDeleteLeoTopicDrawer__button",label:"No, keep this ".concat(r?"priority":"filter"),onClick:o,importance:"secondary"}))}ke.propTypes={isFilter:l().bool,isLegacy:l().bool,isPriority:l().bool,leoTopicToDelete:l().oneOfType([be.Kv,Ee.tm]).isRequired,onCloseDeleteDrawer:l().func.isRequired,onDeleteConfirmClick:l().func.isRequired},ke.defaultProps={isFilter:!1,isLegacy:!1,isPriority:!1};class _e extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onOpenPriorityExplanationDrawer",(()=>{this.setState({isPriorityExplanationDrawerOpen:!0})})),(0,n.Z)(this,"_onClosePriorityExplanationDrawer",(()=>{this.setState({isPriorityExplanationDrawerOpen:!1})})),(0,n.Z)(this,"_onCloseDeleteDrawer",(()=>{this.setState({isConfirmDeleteDrawerOpen:!1})})),(0,n.Z)(this,"_onPauseClick",(async e=>{this._onClosePriorityExplanationDrawer();const t={streamIds:[],...e,active:!1};try{await this.priorities.askSave(t),this.notifications.showMessage("".concat(e.label," has been paused."))}catch(s){this.notifications.showError("There was an error when trying to update ".concat(e.label,"."))}})),(0,n.Z)(this,"_onRefinePriorityClick",(e=>{this._onClosePriorityExplanationDrawer(),this.tabsManager.askOpenNewPage("priorityForm",{props:{initialPriority:e,isUpdating:!0}})})),(0,n.Z)(this,"_onRemovePriorityClick",(()=>{this.setState({isPriorityExplanationDrawerOpen:!1,isConfirmDeleteDrawerOpen:!0})})),(0,n.Z)(this,"_onResumeClick",(async e=>{this._onClosePriorityExplanationDrawer();const t={streamIds:[],...e,active:!0};try{await this.priorities.askSave(t),this.notifications.showMessage("".concat(e.label," has been resumed."))}catch(s){this.notifications.showError("There was an error when trying to update ".concat(e.label,"."))}})),(0,n.Z)(this,"_onDeleteConfirmClick",(async e=>{this.setState({isConfirmDeleteDrawerOpen:!1});try{await this.priorities.askDelete(e.id),this.notifications.showMessage("".concat(e.label," has been deleted."))}catch(t){this.notifications.showError("There was an error when trying to delete ".concat(e.label,"."))}this.setState({selectedPriority:null})})),this.state={isPriorityExplanationDrawerOpen:!1,isConfirmDeleteDrawerOpen:!1}}componentDidMount(){const{entry:e}=this.props;if(!e)return;const t=e.getMostRelevantPriority();if(!t)return;const{streamId:s}=t;if(!s)return;const{isEnterprise:n}=(0,ye.Yg)(s);this.priorities=n?streets.service("enterprisepriorities"):streets.service("personalpriorities"),this.notifications=streets.service("notifications"),this.tabsManager=streets.service("tabsManager")}componentWillUnmount(){this.priorities=null,this.notifications=null,this.tabsManager=null}render(){const{clickable:e,entry:t}=this.props,{isPriorityExplanationDrawerOpen:s,isConfirmDeleteDrawerOpen:n}=this.state;if(!t)return null;const r=t.getPriorityLabel(),a=t.getMostRelevantPriority();return r?i.createElement(i.Fragment,null,i.createElement(K.h,{label:r,iconComponent:fe.Z,iconColor:"accent",iconTitle:"Prioritized by Leo",onClick:e?this._onOpenPriorityExplanationDrawer:null}),s&&i.createElement(A.d,{onClose:this._onClosePriorityExplanationDrawer},i.createElement(ve.e,{entry:t,priority:a,onDeleteClick:this._onRemovePriorityClick,onPauseClick:this._onPauseClick,onRefineClick:this._onRefinePriorityClick,onResumeClick:this._onResumeClick})),n&&i.createElement(ke,{isPriority:!0,leoTopicToDelete:a,onCloseDeleteDrawer:this._onCloseDeleteDrawer,onDeleteConfirmClick:this._onDeleteConfirmClick})):null}}_e.propTypes={clickable:l().bool,entry:l().shape({getMostRelevantPriority:l().function,getPriorityLabel:l().function}).isRequired},_e.defaultProps={clickable:!1};var Me=s(93613);class Se extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isExplanationDrawerOpen:!1}),(0,n.Z)(this,"_onDeleteFeedback",(async()=>{const{entry:e}=this.props;this._onCloseExplanationDrawer(),await this.reader.askDeleteEntryFeedback(e.getId()),streets.service("notifications").showMessage("Feedback undone")})),(0,n.Z)(this,"_onOpenExplanationDrawer",(()=>{this.setState({isExplanationDrawerOpen:!0})})),(0,n.Z)(this,"_onCloseExplanationDrawer",(()=>{this.setState({isExplanationDrawerOpen:!1})}))}componentDidMount(){this.reader=streets.service("reader")}componentWillUnmount(){this.reader=null}render(){const{isExplanationDrawerOpen:e}=this.state,{clickable:t,entry:s,feedback:n}=this.props;return s?i.createElement(i.Fragment,null,i.createElement(K.h,{label:"Less like this",onClick:t?this._onOpenExplanationDrawer:null}),e&&i.createElement(A.d,{onClose:this._onCloseExplanationDrawer},i.createElement(Me.T,{entry:s,feedback:n,onDeleteFeedback:this._onDeleteFeedback}))):null}}Se.propTypes={clickable:l().bool,entry:l().object.isRequired,feedback:l().shape({addedBy:l().string,description:l().string,reason:l().string}).isRequired},Se.defaultProps={clickable:!1};var Ie=s(90898);class Te extends i.PureComponent{render(){const{meme:e,onClick:t}=this.props;return e.id?i.createElement(K.h,{label:e.label,iconComponent:Ie.Z,iconColor:"accent",iconTitle:"Meme",onClick:t}):null}}Te.propTypes={meme:l().shape({id:l().string,label:l().string}).isRequired,onClick:l().func},Te.defaultProps={onClick:()=>{}};const Ne=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M13 2.107H7a2.75 2.75 0 0 0-2.75 2.75v13l.007.103a.75.75 0 0 0 1.088.563l4.661-2.419 4.648 2.419a.75.75 0 0 0 1.096-.666v-13A2.75 2.75 0 0 0 13 2.107Zm0 1.5.128.007a1.25 1.25 0 0 1 1.122 1.243v11.764l-3.897-2.027-.112-.047a.75.75 0 0 0-.58.047l-3.911 2.03V4.856c0-.69.56-1.25 1.25-1.25h6Z",fill:"currentColor",fillRule:"nonzero"}))}));function Le(){return i.createElement(K.h,{className:"MobileEntryMetadataReadLater",iconColor:"accent",iconComponent:Ne,label:"Read later"})}const Pe=(0,c.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M15.555 1.82a2.417 2.417 0 1 1-2.41 2.594l-1.592-.448-.598 2.342c1.312.12 2.523.487 3.53 1.039a2.484 2.484 0 0 1 4.247 1.867 2.487 2.487 0 0 1-1.39 2.117c.003.065.005.13.005.197 0 2.98-3.337 5.264-7.348 5.264-4.01 0-7.347-2.283-7.347-5.264 0-.066.002-.132.005-.198a2.484 2.484 0 0 1 .488-4.643c.87-.219 1.765.05 2.37.66 1.1-.603 2.444-.985 3.899-1.067l.876-3.43a.75.75 0 0 1 .828-.557l.101.021 2.286.642a2.415 2.415 0 0 1 2.05-1.137ZM9.999 7.763c-1.69 0-3.191.468-4.25 1.196a.133.133 0 0 1-.025.019c-.98.68-1.572 1.586-1.572 2.549 0 2.005 2.57 3.764 5.847 3.764 3.277 0 5.848-1.76 5.848-3.764 0-2.005-2.571-3.764-5.848-3.764Zm-2.103 5.103a4.23 4.23 0 0 0 2.114.525c.728.01 1.446-.17 2.084-.52a.75.75 0 0 1 .723 1.315 5.69 5.69 0 0 1-2.807.705 5.708 5.708 0 0 1-2.84-.713.75.75 0 0 1 .726-1.312Zm4.881-4.173a1.792 1.792 0 1 1 0 3.584 1.792 1.792 0 0 1 0-3.584Zm-5.555 0a1.792 1.792 0 1 1 0 3.584 1.792 1.792 0 0 1 0-3.584Zm5.555 1.5a.292.292 0 1 0 0 .584.292.292 0 0 0 0-.584Zm-5.555 0a.292.292 0 1 0 0 .584.292.292 0 0 0 0-.584ZM3.51 8.142a.986.986 0 0 0-.458 1.652 4.997 4.997 0 0 1 1.186-1.551.977.977 0 0 0-.728-.101Zm12.26.094-.01.007c.51.457.914.98 1.187 1.55a.986.986 0 0 0-1.177-1.557Zm-.215-4.917a.917.917 0 1 0 0 1.834.917.917 0 0 0 0-1.834Z",fill:"currentColor",fillRule:"nonzero"}))}));function De(e){let{entry:t}=e;const s="subscription/".concat(t.getFeedId());return i.createElement(K.h,{label:"Shared in ".concat(t.metadata.redditPost.subredditName),iconComponent:Pe,iconTitle:"Reddit",importance:"secondary",onClick:e=>{e.stopPropagation(),streets.service("tabsManager").askOpenNewPage(s)}})}De.propTypes={entry:l().object.isRequired};var Ae=s(85902),Oe=s(35610);function xe(e){let{className:t,clickable:s,entry:n,hideSlash:r}=e,o=n.getCleanSourceTitle();o||(o=(0,Oe._Y)(n.getCleanAlternateLink()));const l=n.metadata.isRedditFeed&&(!n.metadata.hasLinkedArticle||o.includes(n.metadata.redditPost.subredditName));if(o&&!l){let e;if(o=(0,Ae.tW)(o,40),s){const t=n.getFeedId();t&&(e="subscription/"+encodeURIComponent(t))}return i.createElement(i.Fragment,null,i.createElement("span",{className:a()("MobileEntry__metadata-source",t),onClick:e?()=>{streets.service("tabsManager").askOpenNewPage(e)}:null},o),!r&&" / ")}return null}xe.propTypes={className:l().string,clickable:l().bool,entry:l().shape({getCleanSourceTitle:l().func,getFeedId:l().func,metadata:l().object}).isRequired,hideSlash:l().bool},xe.defaultProps={className:void 0,clickable:!1,hideSlash:!1};var Re=s(19381);class je extends i.PureComponent{render(){const{className:e,tag:{id:t,label:s}}=this.props;return t?i.createElement(K.h,{className:e,label:s,iconComponent:Re.Z,iconColor:"accent",iconTitle:"Priority"}):null}}je.propTypes={className:l().string,tag:l().shape({id:l().string,label:l().string}).isRequired},je.defaultProps={className:void 0};var Fe=s(40429);function Ue(e){let{clickable:t,entry:s}=e;const n=s.getFirstAlertSourceInfo();let r=s.getWebAlertLabel();if(r){let e;return r=(0,Ae.tW)(r,40),t&&(e="subscription/"+encodeURIComponent(n.streamId)),i.createElement(K.h,{label:r,iconComponent:Fe.Z,iconTitle:"Web Alert",importance:"secondary",onClick:t=>{t.stopPropagation(),streets.service("tabsManager").askOpenNewPage(e)}})}return null}Ue.propTypes={clickable:l().bool,entry:V.A.isRequired},Ue.defaultProps={clickable:!1,hideSlash:!1};class ze extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onEvernoteClick",(()=>{const{entry:e}=this.props,t=e.getDecoration(U.I.evernote);this.tabsManager.askOpenExternalUrl(t)})),(0,n.Z)(this,"_onInstapaperClick",(()=>{const{entry:e}=this.props,t=e.getDecoration(U.I.instapaper);this.tabsManager.askOpenExternalUrl(t)})),(0,n.Z)(this,"_onKeywordClick",(()=>{const{entry:{feedId:e},streamId:t}=this.props;e!==t&&this.tabsManager.askOpenNewPage("subscription/".concat(e))})),(0,n.Z)(this,"_onMemeMarkerClick",(e=>{this.tabsManager.askOpenNewPage("meme/".concat(encodeURIComponent(e)))})),(0,n.Z)(this,"_onPocketClick",(()=>{this.tabsManager.askOpenExternalUrl("https://getpocket.com")})),this.preferences=streets.service("preferences"),this.state={hasLeoSecurity:!1}}componentDidMount(){this.tabsManager=streets.service("tabsManager"),this._updateLeoInfo()}componentWillUnmount(){this.preferences=null,this.tabsManager=null}render(){const{entry:e,density:t,displayMode:s,hideEngagement:n,layout:r}=this.props,{mostInteresting:a,secondMostInteresting:o}=this._renderInterestingMetadata();if(s===w.DC.tablet&&t===k.AM.compact&&r===E.Ar.titleOnlyMobile)return i.createElement("div",{className:"MobileEntry__metadata metadata"},a,o);const{isTwitterFeed:l,hasLinkedArticle:c}=e.metadata,d=l&&!c,h=d&&e.metadata.tweet.isRetweet;return i.createElement("div",{className:"MobileEntry__metadata metadata"},a,!n&&i.createElement(I.R,{engagement:e.getEngagement(),engagementRate:e.getEngagementRate(),isHot:e.isHot()}),!d&&this._renderSourceTitle(),this._renderAuthor(),i.createElement($,{entry:e}),h&&this._renderRetweetedBy(),o)}_renderAuthor(){const{hideAuthor:e,entry:t}=this.props,s=t.getFirstAuthor(),{isTwitterFeed:n,hasLinkedArticle:r}=t.metadata;if(n&&!r)return i.createElement(i.Fragment,null,i.createElement(G.J,{entry:t})," / ");if(e||!s||s===t.getSourceTitle()||t.metadata.isTwitterFeed)return null;let a="by ";return t.isContentRTL()&&(a=" / "),i.createElement(i.Fragment,null,i.createElement("span",{className:"authors"},a+s)," / ")}_renderRetweetedBy(){const{entry:e}=this.props;return i.createElement(i.Fragment,null,i.createElement(Q.J,null),i.createElement("span",null,e.metadata.tweet.twitterFeedAuthorHandle+" retweeted"))}_renderInterestingMetadata(){const{hasLeoSecurity:e}=this.state,{entry:t,hideMeme:s,hideBoardLabel:n,isLeoPreview:r,layout:o,previewLayers:l,showKeywordMarker:c,showSecondarySourceMarker:d}=this.props,h=o===E.Ar.fullArticle;let u=t.listEnterpriseTags();u&&0!==u.length||(u=t.listPersonalTags(!0));const p=t.getDecoration(U.I.evernote),m=t.getDecoration(U.I.instapaper),g=t.getFeedback(),{parts:f=[]}=t.getPreviewSearchTerms()||{};let y=null,v=null;if(r){const s=[];let n=!1,r=!1;l&&(n=0!==(0,q.eG)(l,W.ur.security).length,r=0!==(0,q.eG)(l,W.ur.likeBoard).length);const a=f.map((e=>e.id||e.text)),o=l.filter((e=>e.type===W.ur.matches)).map((e=>{const{parts:t}=e;return t.find((e=>a.indexOf(e.id)>-1||a.indexOf(e.text)>-1))}));if(t.showCVSS()&&n&&e&&s.push(i.createElement(pe,{key:W.ur.security,entry:t})),o.length){const e=t.findRelevantCausedEntities({searchTerms:{parts:o}});o.slice(0,Y.Rc).forEach((t=>{if(t){let n=t.label||t.text;if(e.length){const s=e.find((e=>e.id===t.id));n=s?s.causes[0].label:n}s.push(i.createElement(K.h,{key:"".concat(W.ur.matches,"-").concat(n),iconComponent:(0,C.mm)(t),iconColor:"accent",label:n}))}}))}u&&u.length>0&&r&&s.push(i.createElement(je,{key:W.ur.likeBoard,tag:u[0]})),t.metadata.isRedditFeed&&s.push(i.createElement(De,{entry:t})),s.length&&(y=s.slice(0,Y.PN).map(((e,t,s)=>i.createElement(i.Fragment,{key:e.key},e,t!==s.length-1&&i.createElement(Q.J,null)))),v=this._renderSecondMostInterestingMetadata())}else g?(y=i.createElement(Se,{clickable:h,entry:t,feedback:g}),v=this._renderSecondMostInterestingMetadata()):u&&u.length>0&&!n?(y=i.createElement(je,{tag:u[0]}),v=this._renderSecondMostInterestingMetadata()):t.metadata.isSavedToPocket?(y=i.createElement(K.h,{label:"Pocket",onClick:h?this._onPocketClick:null}),v=this._renderSecondMostInterestingMetadata()):m?(y=i.createElement(K.h,{label:"Instapaper",onClick:h?this._onInstapaperClick:null}),v=this._renderSecondMostInterestingMetadata()):p?(y=i.createElement(K.h,{label:"Evernote",onClick:h?this._onEvernoteClick:null}),v=this._renderSecondMostInterestingMetadata()):t.isQuicklisted()&&!n?(y=i.createElement(Le,null),v=this._renderSecondMostInterestingMetadata()):t.isPrioritized()?(y=i.createElement(_e,{clickable:h,entry:t}),v=this._renderSecondMostInterestingMetadata()):this._showWebAlertLabel()?(y=this._renderWebAlertMetadata(),v=this._renderSecondMostInterestingMetadata()):t.showCVSS()&&e?(y=i.createElement(pe,{clickable:h,entry:t}),v=this._renderSecondMostInterestingMetadata()):!s&&t.getFeaturedMeme()?y=i.createElement(Te,{meme:t.getFeaturedMeme(),onClick:h?()=>{this._onMemeMarkerClick(t.getFeaturedMeme().id)}:null}):t.metadata.isRedditFeed&&d?y=i.createElement(De,{entry:t}):t.metadata.prettyTerm&&c&&(y=i.createElement(ge,{keyword:t.metadata.prettyTerm,onClick:h?this._onKeywordClick:null}));if(y&&(y=i.createElement(J.T,{isRTL:t.isContentRTL(),layout:o,separatorSide:"right"},y)),v){const e=t.metadata.tweet&&!t.metadata.hasLinkedArticle&&t.metadata.tweet.isRetweet;v=i.createElement(J.T,{className:a()({"m-l-1":e}),isRTL:t.isContentRTL(),layout:o,separatorSide:"left"},v)}return{mostInteresting:y,secondMostInteresting:v}}_renderSecondMostInterestingMetadata(){const{hasLeoSecurity:e}=this.state,{entry:t,hideMeme:s,isLeoPreview:n,layout:r,showSecondarySourceMarker:a}=this.props,o=r===E.Ar.fullArticle,l=t.metadata.prettyTerm,c=this._showWebAlertLabel(),d=t.showCVSS()&&e&&!n;if(t.isPrioritized()){if(d)return i.createElement(pe,{clickable:o,entry:t});if(!n&&c)return this._renderWebAlertMetadata();if(t.metadata.isRedditFeed&&a)return i.createElement(De,{entry:t});if(l)return i.createElement(ge,{keyword:l})}return c&&d?i.createElement(pe,{clickable:o,entry:t}):!s&&t.getFeaturedMeme()?i.createElement(Te,{meme:t.getFeaturedMeme()}):null}_renderWebAlertMetadata(){const{entry:e,layout:t}=this.props;return i.createElement(Ue,{clickable:t===E.Ar.fullArticle,entry:e})}_renderSourceTitle(){const{entry:e,layout:t,showSourceTitle:s}=this.props,{isFromWebAlertSource:n}=e.metadata;return e.metadata.googleNews||e.metadata.isTwitterFeed&&e.metadata.hasLinkedArticle||n||s?i.createElement(xe,{clickable:t===E.Ar.fullArticle,entry:e}):null}_showWebAlertLabel(){const{entry:e,showSecondarySourceMarker:t}=this.props,{searchTerms:{parts:s}={}}=e.getMostRelevantAlert()||{},{isFromWebAlertSource:n}=e.metadata;return n&&(t||e.showEntityCauseLabel(s)||e.getIndicatorsOfCompromise().mentions)}async _updateLeoInfo(){const e=await streets.service("leo").askHasLeoSecurityFeature();this.setState({hasLeoSecurity:e})}}ze.propTypes={density:l().oneOf(k.fM),displayMode:l().string,entry:V.A.isRequired,hideAuthor:l().bool,hideBoardLabel:l().bool,hideEngagement:l().bool,hideMeme:l().bool,isLeoPreview:l().bool,layout:l().oneOf(E.tv),previewLayers:l().arrayOf(l().object),showKeywordMarker:l().bool,showSecondarySourceMarker:l().bool,showSourceTitle:l().bool,streamId:l().string},ze.defaultProps={density:k.AM.comfortable,displayMode:null,hideAuthor:!1,hideBoardLabel:!1,hideEngagement:!1,hideMeme:!1,isLeoPreview:!1,layout:E.Ar.magazine,previewLayers:[],showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0,streamId:""};var Ze=s(13626),Be=s(63166);const He={u4:[110,70],u5:[254,182],uFeatured:[604,320]};function Ye(e){return i.createElement(We,e)}class We extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAddToInstapaper",(async()=>{const{entry:e}=this.state,t=e.getDecoration("instapaper");try{streets.hasProAccess()?t||await streets.service("instapaper").askAdd(e.id):this.tabsManager.askOpenNewPage("premium/pro/instapaper")}catch(s){streets.service("notifications").showError("Error ".concat(s.message))}})),(0,n.Z)(this,"_onAddToPocket",(async()=>{const{entry:e}=this.state;try{if(!streets.hasProAccess())return void this.tabsManager.askOpenNewPage("premium/pro/pocket");e.metadata.isSavedToPocket||await streets.service("pocket").askAddToPocket(e.id)}catch(t){streets.service("notifications").showError("Error ".concat(t.message))}})),(0,n.Z)(this,"_onOpenFeedbackDrawer",(()=>{this.setState({isFeedbackDrawerOpen:!0})})),(0,n.Z)(this,"_onDeepPress",(()=>{(0,v.n)(),this.setState({isActionDrawerOpen:!0})})),(0,n.Z)(this,"_onCloseActionDrawer",(()=>{this.setState({isActionDrawerOpen:!1})})),(0,n.Z)(this,"_onCloseFeedbackDrawer",(()=>{this.setState({isFeedbackDrawerOpen:!1})})),(0,n.Z)(this,"_onSubmitFeedback",(()=>{this.notifications.showMessage("Feedback collected"),this._onCloseFeedbackDrawer()})),(0,n.Z)(this,"_onClick",(async()=>{const{entry:e,isActionDrawerOpen:t}=this.state,{isNewsletter:s}=e.metadata;if(t)return;const n=e.getId(),i=e.getNavigation(),r=(0,_.$8)(M.QP);"visit"===i||"yes"===r?s?(streets.service("commonsigns").showMessage("Newsletter articles do not have a website page"),this.tabsManager.askOpenNewPage("entry/".concat(encodeURIComponent(n)))):(this.reader.askMarkEntryAsRead(n),this.tabsManager.askOpenExternalUrl(e.getBestAlternateLink())):this.tabsManager.askOpenNewPage("entry/".concat(encodeURIComponent(n)))})),(0,n.Z)(this,"_onToggleMarkedAsRead",(()=>{const{entryId:e}=this.props;streets.getUserId()?this.reader.askToggleEntryRead(e):streets.service("auth").startFlow("signup")})),(0,n.Z)(this,"_onToggleQuicklisted",(()=>{const{entry:e}=this.state;streets.getUserId()?this.reader.askToggleEntryQuicklisted(e.id):streets.service("auth").startFlow("signup")})),(0,n.Z)(this,"_onSaveToBoard",(()=>{const{entry:e}=this.state,t=e.getId();streets.getUserId()?this.tabsManager.askOpenNewPage("saveEntry/".concat(encodeURIComponent(t)),{helperPage:!0}):streets.service("auth").startFlow("signup")})),this.feedly=streets.service("feedly"),this.image=streets.service("image"),this.reader=streets.service("reader"),this.resize=streets.service("resize"),this.entryElementRef=i.createRef();const t=this.reader.lookupEntry(e.entryId);this.state={displayMode:this.resize.getDisplayMode(),entry:t,expandNotes:!1,expandHighlights:!1,isActionDrawerOpen:!1,isEvernoteConnected:!1,isInstapaperConnected:!1,isPocketConnected:!1,isLeoEnabled:!1,theme:this.feedly.getTheme(),visual:null}}componentDidMount(){const{entry:e}=this.state;this.engagements=streets.service("engagements"),this.evernote=streets.service("evernote"),this.instapaper=streets.service("instapaper"),this.integrations=streets.service("integrations"),this.leo=streets.service("leo"),this.notifications=streets.service("notifications"),this.pocket=streets.service("pocket"),this.preferences=streets.service("preferences"),this.tabsManager=streets.service("tabsManager"),this.engagements.registerObserver(this),this.evernote.registerObserver(this),this.instapaper.registerObserver(this),this.integrations.registerObserver(this),this.pocket.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this),this.resize.registerObserver(this),e?(this._updateBestVisual(),this.engagements.askRefreshEntryEngagement(e)):this._updateEntry({refreshEngagement:!0}),this._updateIsLeoEnabled(),this._updateConnections()}componentWillUnmount(){this.engagements.unregisterObserver(this),this.evernote.unregisterObserver(this),this.instapaper.unregisterObserver(this),this.integrations.unregisterObserver(this),this.reader.unregisterObserver(this),this.resize.unregisterObserver(this),this.pocket.unregisterObserver(this),this.preferences.unregisterObserver(this),this.engagements=null,this.evernote=null,this.feedly=null,this.image=null,this.instapaper=null,this.integrations=null,this.leo=null,this.notifications=null,this.pocket=null,this.preferences=null,this.reader=null,this.resize=null,this.tabsManager=null}onDisplayResized(){this.setState({displayMode:this.resize.getDisplayMode()})}onEntryAnnotationsChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryTagsChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryMarkedAsRead(e,t){const{entryId:s}=this.props;e!==s||t&&!0===t.batch||this._updateEntry()}onEntryKeptUnread(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryQuicklistStatusChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryEngagementChanged(e,t){const{entryId:s}=this.props;e===s&&(!t||t<20||this._updateEntry())}onEvernoteAdded(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryFeedbackChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onEntryPriorityChanged(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onInstapaperAdded(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onIntegrationConnectionChanged(){this._updateConnections()}onPocketAdded(e){const{entryId:t}=this.props;e===t&&this._updateEntry()}onPreferenceChanged(e){e===k.ZW&&this.setState({theme:this.feedly.getTheme()},(()=>this._updateBestVisual()))}render(){const{entryId:e}=this.props;window.entryRendererDebug||(window.entryRendererDebug={}),window.entryRendererDebug[e]||(window.entryRendererDebug[e]=0),window.entryRendererDebug[e]+=1;const{className:t,demo:s,density:n,hideRelatedEntries:r,highlightKeywords:o,isLeoPreview:l,layout:c,pageManager:p,selected:m}=this.props,{displayMode:g,entry:v,isActionDrawerOpen:b,isFeedbackDrawerOpen:_,isEvernoteConnected:M,isInstapaperConnected:S,isLeoEnabled:I,isPocketConnected:N,visual:L}=this.state;if(!v)return i.createElement("div",null);const A=v.isRead(),O=v.isPrioritized(),x=L&&L.url?L.url:null,{isTwitterFeed:R,hasLinkedArticle:j}=v.metadata,F=R&&!j,U={entry:!0,"entry--read":A,OpenAnimationOverview:!0,MobileEntry:!0,["MobileEntry--".concat(g)]:!0,["MobileEntry--density-".concat(n)]:g!==w.DC.tablet||window.W>740,mobile:!0,prioritized:O,selected:m,"MobileEntry--rtl":v.isContentRTL(),[c]:!0,[t]:!!t};let z=v.getCleanTitle();const Z=Object.keys(v.getHighlightableKeywords());let Y;switch(o&&Z&&Z.length>0&&(z=i.createElement(D.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:Z,text:z,wrapper:"fragment",fullword:!0})),c){case E.Ar.titleOnlyMobile:Y=i.createElement("article",{id:"entry-".concat(e),"data-entry-id":e,"data-key":e,className:a()(U),ref:this.entryElementRef},i.createElement("div",{className:"content"},this._renderTitleOnlyViewContent(z),this._renderAdditionalInfo(),(n!==k.AM.compact||g!==w.DC.tablet)&&!r&&i.createElement(T.w,{entry:v})),b&&i.createElement(B,{entry:v,isEvernoteConnected:M,isInstapaperConnected:S,isPocketConnected:N,onClose:this._onCloseActionDrawer,onOpenFeedbackDrawer:this._onOpenFeedbackDrawer,isLeoEnabled:I,pageManager:p}),_&&this._renderFeedbackDrawer(v));break;case E.Ar.cards:Y=i.createElement("article",{id:"entry-".concat(e),"data-entry-id":e,"data-key":e,className:a()(U),ref:this.entryElementRef},(x||g===w.DC.tablet)&&i.createElement(P.u,{url:x}),i.createElement("div",{className:"content"},i.createElement("div",{className:a()("entry__title",{"entry__title--tweet":F}),"data-entry-id":e},z),this._renderMetadata(),this._renderAdditionalInfo(),!r&&i.createElement(T.w,{entry:v})),b&&i.createElement(B,{entry:v,isEvernoteConnected:M,isInstapaperConnected:S,isPocketConnected:N,onClose:this._onCloseActionDrawer,onOpenFeedbackDrawer:this._onOpenFeedbackDrawer,isLeoEnabled:I,pageManager:p}),_&&this._renderFeedbackDrawer(v));break;case E.Ar.magazine:default:Y=i.createElement("article",{id:"entry-".concat(e),"data-entry-id":e,"data-key":e,className:a()(U),ref:this.entryElementRef},i.createElement("div",{className:"content"},x&&i.createElement(P.u,{url:x}),i.createElement("div",{className:a()("entry__title",{"entry__title--tweet":F}),"data-entry-id":e},z),this._renderMetadata(),F||g!==w.DC.tablet||n!==k.AM.compact?this._renderAdditionalInfo():this._renderBestSummary(),!r&&i.createElement(T.w,{entry:v})),b&&i.createElement(B,{entry:v,isEvernoteConnected:M,isInstapaperConnected:S,isPocketConnected:N,onClose:this._onCloseActionDrawer,onOpenFeedbackDrawer:this._onOpenFeedbackDrawer,isLeoEnabled:I,pageManager:p}),_&&this._renderFeedbackDrawer(v))}const W=i.createElement(H.U,{onDeepPress:p&&this._onDeepPress,onClick:this._onClick,pageManager:p},Y);if(g===w.DC.tablet&&c===E.Ar.cards)return W;let q=[];l&&(q=(0,C.p2)(v));const V=I&&!l||l&&q.length;return i.createElement(Ze.m,{demo:s,leftAction:this._renderLeftAction(v),leftActionLevel2:i.createElement(Be.C,{activeColor:y.r.deepGray,iconComponent:d,onSwipe:this._onSaveToBoard},"Save to board"),rightAction:i.createElement(Be.C,{iconComponent:v.isRead()?h:f.Z,onSwipe:this._onToggleMarkedAsRead},v.isRead()?"Mark as unread":"Mark as read"),rightActionLevel2:V?i.createElement(Be.C,{iconAfter:!0,activeColor:y.r.deepGray,iconComponent:u,onSwipe:this._onOpenFeedbackDrawer},"Less Like This"):null,pageManager:p},W)}_renderAdditionalInfo(){const{density:e}=this.props,{entry:t}=this.state;if(e===k.AM.compact)return null;const{isTwitterFeed:s,hasLinkedArticle:n}=t.metadata,r=s&&!n;return i.createElement(i.Fragment,null,this._renderNotes(),!r&&this._renderBestSummary())}_renderBestSummary(){const{entry:e,displayMode:t}=this.state,{highlightKeywords:s}=this.props,n=t===w.DC.tablet?e.getLeoSummarySentences():[],i=e.getHighlightableKeywordSnippets();if(s&&i&&i.length>0)return this._renderHighlightableKeywordSnippets(i);const r=e.listHighlights();return r&&r.length>0?this._renderHighlights():i&&i.length>0?this._renderHighlightableKeywordSnippets(i):n.length>0?this._renderLeoSummary(n):this._renderDefaultSummary()}_renderFeedbackDrawer(e){const{isLeoPreview:t}=this.props;return i.createElement(A.d,{className:"LessLikeThisSelector p-a-0",onClose:this._onCloseFeedbackDrawer},t?i.createElement(N.Y,{excludeTopics:(0,C.p2)(e),onSubmit:this._onCloseFeedbackDrawer}):i.createElement(L.v,{entry:e,onClose:this._onCloseFeedbackDrawer,onSubmit:this._onSubmitFeedback}))}_renderLeftAction(e){const{isInstapaperConnected:t,isPocketConnected:s}=this.state,n=e.getDecoration("instapaper");return s?i.createElement(Be.C,{iconComponent:p,onSwipe:this._onAddToPocket},e.metadata.isSavedToPocket?"Saved":"Save to Pocket"):t?i.createElement(Be.C,{iconComponent:m,onSwipe:this._onAddToInstapaper},n?"Saved":"Save to Instapaper"):i.createElement(Be.C,{iconComponent:g,onSwipe:this._onToggleQuicklisted},e.isQuicklisted()?"Undo save":"Read later")}_renderTitleOnlyViewContent(e){const{density:t,layout:s,showSourceTitle:n}=this.props,{displayMode:r,entry:o}=this.state,l=o.getId(),{isTwitterFeed:c,hasLinkedArticle:d}=o.metadata,h=c&&!d,u=i.createElement("div",{className:a()("entry__title",{"entry__title--tweet":h}),"data-entry-id":l},e);return r===w.DC.tablet&&t===k.AM.compact&&window.W>740?i.createElement(i.Fragment,null,n&&i.createElement(xe,{className:"MobileEntry__source-column",clickable:s===E.Ar.fullArticle,entry:o,hideSlash:!0}),i.createElement("div",{className:"MobileEntry__engagement-container"},i.createElement(I.R,{className:"MobileEntry__engagement",engagement:o.getEngagement(),engagementRate:o.getEngagementRate(),isHot:o.isHot()})),i.createElement("div",{className:"MobileEntry__title-column"},u,this._renderMetadata()),i.createElement(T.w,{entry:o,isCompact:!0}),i.createElement("div",{className:a()("MobileEntry__ago-column metadata",o.isContentRTL()?"m-r-2":"m-l-2")},i.createElement($,{entry:o}))):i.createElement(i.Fragment,null,u,this._renderMetadata())}_renderMetadata(){const{displayMode:e,entry:t}=this.state,{density:s,hideAuthor:n,hideMeme:r,hideBoardLabel:a,isLeoPreview:o,layout:l,previewLayers:c,streamId:d,showKeywordMarker:h,showSecondarySourceMarker:u,showSourceTitle:p}=this.props;return i.createElement(ze,{displayMode:e,density:s,entry:t,hideAuthor:n,hideMeme:r,hideBoardLabel:a,isLeoPreview:o,layout:l,previewLayers:c,showKeywordMarker:h,showSecondarySourceMarker:u,showSourceTitle:p,streamId:d})}_renderDefaultSummary(){const{entry:e}=this.state;return e?i.createElement("div",{className:"summary",dangerouslySetInnerHTML:{__html:e.getBestSummary()}}):null}_renderLeoSummary(e){const{layout:t,density:s}=this.props,{displayMode:n}=this.state;if(!e||0===e.length)return null;let r,o;t===E.Ar.titleOnlyMobile&&s===k.AM.compact?(r="inline",o=e.slice(0,2)):t===E.Ar.cards&&n===w.DC.tablet||t===E.Ar.magazine&&s===k.AM.compact?(r="paragraph",o=e.slice(0,1)):(r="list",o=e.slice(0,2));const l=a()("summary","MobileEntry__memeSummary","MobileEntry__memeSummary--".concat(r));return i.createElement("ul",{className:l},o.map((e=>i.createElement("li",{className:"MobileEntry__memeSummaryItem",key:"summary-".concat(e)},e))))}_renderNotes(){const{entry:e,expandNotes:t}=this.state,s=[];if(!e)return null;return e.listAnnotations().forEach((e=>{if(!e.comment)return;if(!e.authorUser)return;const t=e.emailMentions||[],n=e.slackMentions||[];s.push(i.createElement("div",{key:e.id,className:"item-note"},i.createElement(S.q,{className:"item-picture",alt:e.authorUser.name||e.authorUser.email,url:e.authorUser.picture}),i.createElement("div",{className:"item-content"},i.createElement("div",{className:"item-header"},e.authorUser.name),i.createElement("div",{className:"item-description"},i.createElement(D.L,{className:"MobileEntry__note",wordClassName:"mention",words:t.map((e=>"+"+e)).concat(n),text:e.comment})))))})),0===s.length?null:s.length>1&&!t?i.createElement("div",{className:"list-note"},s[0],i.createElement("div",{key:"showMore",className:"item-more"},"+",s.length-1," notes")):i.createElement("div",{className:"list-note"},s)}_renderHighlights(){const{entry:e,expandHighlights:t}=this.state,s=[];if(!e)return null;return e.listAnnotations().forEach((e=>{e.highlight&&e.authorUser&&s.push(i.createElement("div",{key:e.id,className:"item-highlight MobileEntry__highlight"},i.createElement("span",null,e.highlight.text,i.createElement(S.q,{className:"item-picture",alt:e.authorUser.name||e.authorUser.email,url:e.authorUser.picture}))))})),0===s.length?null:s.length>1&&!t?i.createElement("div",{className:"list-highlight"},s[0],i.createElement("div",{key:"showMore",className:"item-more"},"+",s.length-1," highlights"," ")):i.createElement("div",{className:"list-highlight"},s)}_renderHighlightableKeywordSnippets(e){if(!e||0===e.length)return null;const{highlightKeywords:t}=this.props,s=e[0];let n,r=s.text;if(t&&(r=i.createElement(D.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0})),s.text&&s.text.length<160&&e.length>1){const s=e[1];n=s.text,t&&(n=i.createElement(D.L,{caseSensitive:!0,wordClassName:"entry__keyword",words:s.keywords,text:s.text,wrapper:"fragment",fullword:!0}))}return i.createElement("div",{className:"summary mention"},r,n&&i.createElement(i.Fragment,null,"... ",n))}async _updateEntry(){let{refreshEngagement:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{entryId:t}=this.props,s=await this.reader.askLookupEntry(t);null!==this.reader&&this.setState({entry:s},(()=>{e&&this.engagements.askRefreshEntryEngagement(s),this._updateBestVisual()}))}_updateBestVisual(){const{layout:e}=this.props,{entry:t,theme:s}=this.state;if(null===t)return;if(e!==E.Ar.magazine&&e!==E.Ar.cards&&e!==E.Ar.featuredLarge)return;const[n,i]=He[e],r=this.image.getBestVisual(t,{layout:e,height:i,theme:s,width:n}),{entry:a}=this.state;a&&a.getId()===t.getId()&&this.setState({visual:r})}async _updateConnections(){const[e,t,s]=await Promise.all([this.integrations.askIsConnected(b.bK.evernote),this.integrations.askIsConnected(b.bK.instapaper),this.integrations.askIsConnected(b.bK.pocket)]);this.setState({isEvernoteConnected:e,isInstapaperConnected:t,isPocketConnected:s})}async _updateIsLeoEnabled(){const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})}}We.propTypes={className:l().string,demo:l().bool,density:l().oneOf(k.fM),entryId:l().string.isRequired,hideAuthor:l().bool,hideBoardLabel:l().bool,hideMeme:l().bool,hideRelatedEntries:l().bool,highlightKeywords:l().bool,isLeoPreview:l().bool,layout:l().oneOf(E.tv),pageManager:l().objectOf(l().any),previewLayers:l().arrayOf(l().object),selected:l().bool,showKeywordMarker:l().bool,showSecondarySourceMarker:l().bool,showSourceTitle:l().bool,streamId:l().string},We.defaultProps={className:void 0,demo:!1,density:k.AM.comfortable,hideAuthor:!1,hideBoardLabel:!1,hideMeme:!1,hideRelatedEntries:!1,highlightKeywords:!1,isLeoPreview:!1,layout:E.Ar.magazine,pageManager:void 0,previewLayers:[],selected:!1,showKeywordMarker:!1,showSecondarySourceMarker:!1,showSourceTitle:!0,streamId:""}},13626:(e,t,s)=>{"use strict";s.d(t,{m:()=>y});var n=s(47169),i=s(32735),r=s(86576),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l),d=s(86462),h=s(89803),u=s(27213);const p=Object.freeze({none:"Swipeable__mover--none",swipeLeft:"Swipeable__mover--swipe-left",swipeRight:"Swipeable__mover--swipe-right",return:"Swipeable__mover--return"}),m=Object.freeze({none:"none",return:"return",swipe:"swipe"});function g(e){let{animation:t,children:s,onAnimationEnd:n,xOffset:r}=e;const a=t!==m.none;let l,c;return 0!==r&&(t===m.swipe?l=r>0?p.swipeRight:p.swipeLeft:t===m.return?l=p.return:(l=p.none,c={transform:"translateX(".concat(r,"px)")})),i.createElement("div",{className:o()("Swipeable__mover",l),onTransitionEnd:a?n:null,style:c},s)}g.propTypes={animation:c().oneOf(Object.values(m)),children:c().element.isRequired,onAnimationEnd:c().func,xOffset:c().number},g.defaultProps={animation:m.none,onAnimationEnd:void 0,xOffset:0};const f={active:!1,height:"",isCollapsing:!1,isSwiping:!1,moverAnimation:m.none,onMoverAnimationEnd:null,xOffset:0};class y extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCollapseAnimationEnd",(()=>{const{action:e={}}=this._getActionInfo(),{props:{onSwipe:t}={}}=e;this.setState({...f,isCollapsing:!0},t)})),(0,n.Z)(this,"_onReturnAnimationEnd",(()=>{this.setState({...f})})),(0,n.Z)(this,"_onDemoAnimationEnd",(()=>{this.setState({...f})})),(0,n.Z)(this,"_onSwipeableRef",(e=>{this._element=e})),(0,n.Z)(this,"_onSwipeAnimationEnd",(()=>{this.setState({height:this._element.clientHeight},(()=>{window.requestAnimationFrame((()=>{this.setState({height:"",isCollapsing:!0,onMoverAnimationEnd:null})}))}))})),(0,n.Z)(this,"_onTouchEnd",(()=>{if(this.setState({isSwiping:!1}),this._element.removeEventListener("touchmove",this._onTouchMove,h.HF),!this._gestureDirection)return;const{active:e}=this.state,{action:t}=this._getActionInfo();if(e&&t)if(t.props.collapse)this.setState({moverAnimation:m.swipe,onMoverAnimationEnd:this._onSwipeAnimationEnd});else{const{props:{onSwipe:e}={}}=t;this.setState({moverAnimation:m.return,onMoverAnimationEnd:this._onReturnAnimationEnd},e)}else t&&this.setState({moverAnimation:m.return,onMoverAnimationEnd:this._onReturnAnimationEnd});this._touchStart=null,this._gestureDirection=null})),(0,n.Z)(this,"_onTouchMove",(e=>{if(!e.touches||e.touches.length>1)return void this._cancelGesture(!0);const[t]=e.touches;if(!this._touchStart||!t)return;const s=t.clientX-this._touchStart.x;if(!this._gestureDirection){const e=t.clientY-this._touchStart.y,n=(0,h.Q1)(s,e);if(n===h.Qk.tooEarly)return;if(n!==h.Qk.horizontal)return void this._cancelGesture(!1);this._gestureDirection=n,this.setState({isSwiping:!0})}e.preventDefault();const{action:n}=this._getActionInfo(s),i=Math.abs(s)>=70,{action:r}=this._getActionInfo();n&&i&&(n!==r||this.state.active!==i)&&(0,u.n)(),n&&this.setState({active:i,xOffset:s})})),(0,n.Z)(this,"_onTouchStart",(e=>{if(!e.touches||e.touches.length>1)return;const[t]=e.targetTouches;this._gestureDirection=null,t&&t.clientX>d.o?(this._touchStart={x:t.clientX,y:t.clientY},this._element.addEventListener("touchmove",this._onTouchMove,h.HF)):this._element.removeEventListener("touchmove",this._onTouchMove,h.HF)})),!0===e.demo?this.state={...f,xOffset:160,showLeftAction:!0,action:e.leftAction}:this.state={...f}}componentDidMount(){!0===this.props.demo&&window.setTimeout((()=>{this.setState({moverAnimation:m.return,onMoverAnimationEnd:this._onDemoAnimationEnd})}),2e3)}static getDerivedStateFromProps(e,t){return 0===t.xOffset||e.leftAction||e.rightAction?null:{...f}}componentWillUnmount(){this._cancelGesture(!1)}render(){const{children:e,leftAction:t,rightAction:s}=this.props,{active:n,height:r,isCollapsing:a,isSwiping:l,moverAnimation:c,onMoverAnimationEnd:d,xOffset:h}=this.state,{action:u,showLeftAction:p}=this._getActionInfo();let f={};return!t&&!s||""!==r||a||c!==m.none||(f={onTouchEnd:this._onTouchEnd,onTouchStart:this._onTouchStart}),i.createElement("div",Object.assign({ref:this._onSwipeableRef,className:o()("Swipeable",{["Swipeable--active-".concat(u?u.props.activeColor:"")]:n,"Swipeable--collapse":a,"Swipeable--swiping":l}),onTransitionEnd:a?this._onCollapseAnimationEnd:null,style:{height:r}},f),u&&i.cloneElement(u,{active:n,alignRight:!p}),i.createElement(g,{animation:c,onAnimationEnd:d,xOffset:h},e))}_cancelGesture(e){this._element.removeEventListener("touchmove",this._onTouchMove,h.HF),this._touchStart=null,this._gestureDirection=null,e&&this.setState({...f})}_getActionInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.xOffset;const{leftAction:t,leftActionLevel2:s,rightAction:n,rightActionLevel2:i}=this.props;if(0===e)return{};const r=e>0,a=s&&Math.abs(e)>200?s:t,o=i&&Math.abs(e)>200?i:n;return{action:r?a:o,showLeftAction:r}}}y.propTypes={children:c().element.isRequired,demo:c().bool,leftAction:(0,r.componentWithName)("SwipeableAction"),leftActionLevel2:(0,r.componentWithName)("SwipeableAction"),rightAction:(0,r.componentWithName)("SwipeableAction"),rightActionLevel2:(0,r.componentWithName)("SwipeableAction")},y.defaultProps={demo:!1,leftAction:void 0,leftActionLevel2:void 0,rightAction:void 0,rightActionLevel2:void 0}},63166:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(42566);function c(e){let{active:t,alignRight:s,children:i,iconComponent:a,iconAfter:o}=e;return n.createElement("div",{className:r()("SwipeableAction",{"SwipeableAction--active":t,"SwipeableAction--align-right":s,"SwipeableAction--iconAfter":o})},a&&!o&&n.createElement(a,{color:t?"white":"black"}),i,a&&o&&n.createElement(a,{name:t?"white":"black"}))}c.propTypes={active:o().bool,activeColor:o().oneOf(Object.values(l.r)),alignRight:o().bool,children:o().node.isRequired,collapse:o().bool,iconComponent:o().elementType,onSwipe:o().func.isRequired,iconAfter:o().bool},c.defaultProps={active:!1,activeColor:l.r.accent,alignRight:!1,collapse:!1,iconComponent:void 0,iconAfter:!1}},40625:(e,t,s)=>{"use strict";s.d(t,{E:()=>g});var n=s(32735),i=s(40841),r=s.n(i),a=s(64280),o=s.n(a),l=s(22535),c=s.n(l),d=s(68718),h=s.n(d),u=s(60216),p=s.n(u),m=s(3015);function g(e){let{action:t,className:s,date:i,lastModifiedDate:a,longLabels:l,includeAgo:d}=e;return h()(i)&&o()(i)?n.createElement("span",{className:r()(s,{ago:!0,lessThanAnHour:c()(i)}),title:a&&"Published: ".concat(a.toUTCString(),"\nReceived: ").concat(i.toUTCString())},t," ",(0,m.Sy)(i,l,d)):null}g.propTypes={action:p().string,className:p().string,date:p().instanceOf(Date).isRequired,includeAgo:p().bool,lastModifiedDate:p().instanceOf(Date),longLabels:p().bool},g.defaultProps={className:"",includeAgo:!1,lastModifiedDate:null,longLabels:!1}},53670:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(56336);class c extends n.PureComponent{render(){const{"aria-label":e,autoFocus:t,children:s,className:i,color:a,entryId:o,nextUri:c,disabled:d,elementRef:h,icon:u,iconAlign:p,id:m,importance:g,loading:f,onBlur:y,onClick:v,onFocus:b,onMouseDown:E,onMouseEnter:C,onMouseLeave:w,rounded:k,size:_,style:M,title:S,type:I}=this.props;let T,N,{label:L}=this.props;return u&&!f&&(T=n.createElement("span",{className:"button__icon-wrapper"},u),L?(L=n.createElement("span",{className:"button__label"},L),N="button-icon-".concat(p)):N="button-icon-only"),n.createElement(l.W,{focusVisibleClass:r()("button--focus-visible","button--focus-visible--".concat(g||"tertiary"))},n.createElement("button",{ref:h,"aria-label":e,autoFocus:t,className:r()(i,a,N,{["button--".concat(g)]:g,"button--rounded":k,loading:f,loud:"large"===_,small:"small"===_}),"data-nexturi":c,"data-inlineentryid":o,disabled:d,id:m,onBlur:y,onFocus:b,onClick:v,onMouseDown:E,onMouseEnter:C,onMouseLeave:w,style:M,title:S,type:I},"left"===p&&T,L||s,("right"===p||"far-right"===p)&&T))}}c.propTypes={"aria-label":o().string,autoFocus:o().bool,children:o().node,className:o().string,color:o().oneOf(["accent","apple","black","danger","danger-hover","evernote","facebook","google","microsoft","notification","pro","pink","twitter","warning",void 0]),disabled:o().bool,elementRef:o().oneOfType([o().func,o().shape({current:o().instanceOf(Element)})]),entryId:o().string,icon:o().node,iconAlign:o().oneOf(["left","right","far-right"]),id:o().string,importance:o().oneOf(["primary","secondary","tertiary",""]),label:o().oneOfType([o().string,o().number,o().object]),loading:o().bool,nextUri:o().string,onBlur:o().func,onClick:o().func,onFocus:o().func,onMouseDown:o().func,onMouseEnter:o().func,onMouseLeave:o().func,rounded:o().bool,size:o().oneOf(["small","normal","large"]),style:o().object,title:o().string,type:o().string},c.defaultProps={"aria-label":void 0,autoFocus:!1,children:null,className:void 0,color:void 0,disabled:!1,elementRef:void 0,entryId:void 0,icon:void 0,iconAlign:"left",id:void 0,importance:"primary",label:void 0,loading:!1,nextUri:void 0,onBlur:void 0,onClick:void 0,onFocus:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,rounded:!1,size:"normal",style:void 0,title:void 0,type:"button"}},98701:(e,t,s)=>{"use strict";s.d(t,{W:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){const{children:t,className:s,onClick:i}=e,a={ButtonCard:!0,[s]:!!s};return n.createElement("button",{className:r()(a),onClick:i},t)}l.propTypes={children:o().node.isRequired,className:o().string,onClick:o().func},l.defaultProps={className:void 0,onClick:()=>{}}},15149:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(56336);class d extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onClick",(e=>{const{onClick:t}=this.props;e.preventDefault(),t(e)})),(0,n.Z)(this,"_onKeyDown",(e=>{"Enter"===e.key&&this._elemRef.current.click()})),this._elemRef=i.createRef()}render(){const{action:e,children:t,className:s,primary:n,style:r,title:o,underline:l}=this.props;return i.createElement(c.W,{focusVisibleClass:"ButtonLink--focus-visible"},i.createElement("a",{ref:this._elemRef,className:a()("ButtonLink",s,{"ButtonLink--action":e,"ButtonLink--primary":n,["ButtonLink--underline-".concat(l)]:"always"!==l}),onClick:this._onClick,onKeyDown:this._onKeyDown,style:r,title:o,role:"button",tabIndex:"0"},t))}}d.propTypes={action:l().bool,children:l().node.isRequired,className:l().string,onClick:l().func.isRequired,primary:l().bool,style:l().object,title:l().string,underline:l().oneOf(["always","hover","never"])},d.defaultProps={action:!1,className:void 0,primary:!1,style:void 0,title:void 0,underline:"always"}},96968:(e,t,s)=>{"use strict";s.d(t,{E:()=>d});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(56336);class d extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onKeyDown",(e=>{"Enter"===e.key&&this._elementRef.current.click()})),this._elementRef=i.createRef()}componentWillUnmount(){this._elementRef=null}render(){const{children:e,className:t,danger:s,importance:n,onClick:r,...o}=this.props;return i.createElement(c.W,{focusVisibleClass:a()("MockButton--focus-visible","MockButton--focus-visible--".concat(n).concat(s?"-danger":""))},i.createElement("div",Object.assign({},o,{ref:this._elementRef,className:a()("MockButton","MockButton--".concat(n),t),onClick:r,onKeyDown:this._onKeyDown,role:"button",tabIndex:"0"}),e))}}d.propTypes={children:l().node.isRequired,className:l().string,danger:l().bool,importance:l().oneOf(["primary","secondary","tertiary"]).isRequired,onClick:l().func},d.defaultProps={className:void 0,danger:!1,onClick:()=>{}}},99956:(e,t,s)=>{"use strict";s.d(t,{U:()=>h});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);const l=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M6.143 2.571c-2.3 2.169-2.147 5.56.221 7.793.481.454.752 1.475.752 3.065v.857a.5.5 0 0 0 .5.5h5.456a.5.5 0 0 0 .5-.5v-.857c0-1.59.27-2.611.752-3.065 2.417-2.279 2.544-5.603.22-7.793-2.322-2.19-6.077-2.19-8.4 0Zm7.716.728c1.89 1.782 1.79 4.442-.22 6.337l-.126.128c-.644.712-.941 1.934-.941 3.665l-.001.357H8.116v-.357c0-1.84-.335-3.104-1.066-3.793C5.086 7.785 4.963 5.058 6.83 3.3c1.879-1.772 4.9-1.825 6.85-.161l.179.16ZM12.857 16.643a.5.5 0 0 1 .09.992l-.09.008h-5a.5.5 0 0 1-.09-.992l.09-.008h5Z"})))}));var c=s(24818),d=s(14956);function h(e){let t,{children:s,className:i,color:a}=e;return t="danger"===a?n.createElement(c.Z,{className:"Callout__icon",color:"danger"}):"notification"===a?n.createElement(l,{className:"Callout__icon",color:"notification"}):n.createElement(d.Z,{className:"Callout__icon",color:"warning"===a?"warning":"black"}),n.createElement("div",{className:r()("Callout","Callout--".concat(a),i)},t,n.createElement("span",{className:"Callout__content"},s))}h.propTypes={children:o().node.isRequired,className:o().string,color:o().oneOf(["default","warning","danger","notification"])},h.defaultProps={className:void 0,color:"default"}},19054:(e,t,s)=>{"use strict";s.d(t,{X:()=>h});var n=s(80556),i=s.n(n),r=s(32735),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l),d=s(14355);class h extends r.Component{UNSAFE_componentWillMount(){const{id:e}=this.props;this.id=e||i()("ui-Checkbox-")}render(){const{checked:e,children:t,indeterminate:s,style:n,className:i,onChange:a}=this.props;return r.createElement("div",{className:o()("Checkbox",i),style:n},r.createElement(d.P,{checked:e,indeterminate:s}),r.createElement("input",{type:"checkbox",onChange:a,className:"Checkbox__input",id:this.id,checked:e,ref:e=>{e&&(e.indeterminate=s)}}),r.createElement("label",{htmlFor:this.id,className:"Checkbox__label"},t))}}h.propTypes={checked:c().bool,children:c().node,className:c().string,id:c().string,indeterminate:c().bool,onChange:c().func.isRequired,style:c().object},h.defaultProps={checked:!1,children:null,className:void 0,id:void 0,indeterminate:!1}},14355:(e,t,s)=>{"use strict";s.d(t,{P:()=>d});var n=s(32735),i=s(60216),r=s.n(i),a=s(94773);const o=(0,a.Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n.createElement("defs",null,n.createElement("path",{d:"M0 4.01A3.003 3.003 0 0 1 3.01 1h9.98A3.003 3.003 0 0 1 16 4.01v9.98A3.003 3.003 0 0 1 12.99 17H3.01A3.003 3.003 0 0 1 0 13.99V4.01Zm11.773.552L6.47 11.4 3.924 9.63 3 10.812l3.728 2.693 6.047-7.938-1.002-1.005Z",id:"fx-checkbox-checked_svg__a"}),n.createElement("mask",{id:"fx-checkbox-checked_svg__b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:16,height:16,fill:"#fff"},n.createElement("use",{xlinkHref:"#fx-checkbox-checked_svg__a"}))),n.createElement("use",{mask:"url(#fx-checkbox-checked_svg__b)",xlinkHref:"#fx-checkbox-checked_svg__a",transform:"translate(0 -1)",stroke:"currentColor",strokeWidth:2,fill:"currentColor",fillRule:"evenodd"}))}));const l=(0,a.Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"evenodd"},n.createElement("path",{d:"M12.99 0A3.003 3.003 0 0 1 16 3.01v9.98A3.003 3.003 0 0 1 12.99 16H3.01A3.003 3.003 0 0 1 0 12.99V3.01A3.003 3.003 0 0 1 3.01 0h9.98Zm0 1H3.01a2.002 2.002 0 0 0-2.005 1.859L1 3.009v9.982c0 1.065.816 1.927 1.859 2.004l.15.005h9.982a2.002 2.002 0 0 0 2.004-1.859l.005-.15V3.009a2.002 2.002 0 0 0-1.859-2.004L12.991 1Z",fillRule:"nonzero"}),n.createElement("path",{d:"M4 7h8v2H4z"})))}));const c=(0,a.Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n.createElement("defs",null,n.createElement("rect",{id:"fx-checkbox-sm_svg__a",x:0,y:1,width:16,height:16,rx:3}),n.createElement("mask",{id:"fx-checkbox-sm_svg__b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:16,height:16,fill:"#fff"},n.createElement("use",{xlinkHref:"#fx-checkbox-sm_svg__a"}))),n.createElement("use",{mask:"url(#fx-checkbox-sm_svg__b)",xlinkHref:"#fx-checkbox-sm_svg__a",transform:"translate(0 -1)",stroke:"currentColor",strokeWidth:2,fill:"none",fillRule:"evenodd"}))}));function d(e){let{checked:t,indeterminate:s}=e;return t?n.createElement(o,{className:"CheckboxIcon",color:"accent"}):s?n.createElement(l,{className:"CheckboxIcon",color:"accent"}):n.createElement(c,{className:"CheckboxIcon",importance:"tertiary"})}d.propTypes={checked:r().bool,indeterminate:r().bool},d.defaultProps={checked:!1,indeterminate:!1}},91343:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);const l=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"m15.53 5.53-1.06-1.06L10 8.94 5.53 4.47 4.47 5.53 8.94 10l-4.47 4.47 1.06 1.06L10 11.06l4.47 4.47 1.06-1.06L11.06 10l4.47-4.47Z",fill:"currentColor",fillRule:"evenodd"}))}));var c=s(96968);class d extends n.PureComponent{render(){const{children:e,className:t,deletable:s,muted:i,onClick:a,onMouseEnter:o,onMouseLeave:d,size:h}=this.props,u=r()("Chip Chip--".concat(h),t,{"Chip--clickable":a,"Chip--deleteable":s,"Chip--muted":i}),p=s?n.createElement(l,{className:"Chip__delete-button",importance:"tertiary"}):null;return a?n.createElement(c.E,{className:u,danger:s,importance:"tertiary",onClick:a,onMouseEnter:o,onMouseLeave:d},e,p):n.createElement("span",{className:u,onMouseEnter:o,onMouseLeave:d},e,p)}}d.propTypes={children:o().node.isRequired,className:o().string,deletable:o().bool,muted:o().bool,onClick:o().func,onMouseEnter:o().func,onMouseLeave:o().func,size:o().oneOf(["sm","md","lg"])},d.defaultProps={className:void 0,deletable:!1,muted:!1,onClick:void 0,onMouseEnter:void 0,onMouseLeave:void 0,size:"md"}},72406:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{className:t,condensed:s,...i}=e;return n.createElement("div",Object.assign({className:r()("ChipList",t,{"ChipList--condensed":s})},i))}l.propTypes={className:o().string,condensed:o().bool},l.defaultProps={className:void 0,condensed:!1}},93926:(e,t,s)=>{"use strict";s.d(t,{_:()=>k});var n=s(47169),i=s(86349),r=s.n(i),a=s(72720),o=s.n(a),l=s(80022),c=s.n(l),d=s(32735),h=s(53515),u=s(54349),p=s(86162),m=s(40841),g=s.n(m),f=s(60216),y=s.n(f);const v=d.forwardRef(((e,t)=>d.createElement("tbody",Object.assign({ref:t},e))));v.shouldComponentUpdate=!0;var b=s(73564);function E(e){return d.createElement("tr",e)}E.shouldComponentUpdate=!0;var C=s(70535);const w=e=>function(t){const{children:s,...n}=t;if("function"==typeof s.type){const e={...s.props};return delete e.children,d.cloneElement(s,r()(n,e))}return d.createElement(e,t)};class k extends d.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onRow",((e,t)=>{let{rowIndex:s}=t;return this.props.decoration&&{className:this.props.decoration(e,s)}}))}render(){const{className:e,flexLayout:t,height:s,isDisabled:n,data:i,rowRenderer:a,uniqueKey:o}=this.props,l=g()(e,{flexLayout:t||this._isVirtualized(),isDisabled:n});let c={header:{cell:w("th")},body:{wrapper:v,row:a,cell:w("td")}};return this._isVirtualized()&&(c=r()(c,{body:{wrapper:p.ef,row:p.Pw}})),d.createElement(u.Provider,{className:l,columns:this._getColumns(),renderers:c},this._renderHeaderRow(),this._isVirtualized()?d.createElement(p.uT,{rows:i,rowKey:o,onRow:this._onRow,height:s}):d.createElement(u.Body,{rows:i,rowKey:o,onRow:this._onRow}))}_isVirtualized(){return!o()(this.props.height)}_getColumns(){const{children:e,flexLayout:t,uniqueKey:s}=this.props,n=d.Children.toArray(e).filter((e=>!!e)),i=n.filter((e=>!!e.props.width)).map((e=>c()(e.props.width)?"".concat(e.props.width,"px"):e.props.width)).join(" - ");return n.map(((e,n)=>{const{header:a,onHeaderClick:l,headerCellRenderer:c,...h}=e.props,{cell:u,property:p,flexGrow:m,flexShrink:g,width:f,className:y,style:v}=e.props;let b=[],E=[];o()(c)||(b=[()=>(l&&(h.onClick=l.bind(this,n)),d.createElement(c,h,a))]),!p&&u&&(E=[(t,s)=>{const{rowData:n,rowIndex:i}=s;return u.call(e,n,i)}]);let C={};if(t||this._isVirtualized()){const e="calc(100% - ".concat(i,")");C={flexGrow:m||o()(f)?1:0,flexShrink:g||1,flexBasis:f||e},o()(f)&&(C.maxWidth=e)}return{property:p||s,props:{className:y,style:r()(v,C)},header:{label:a,formatters:b},cell:{props:{},formatters:E}}}))}_renderHeaderRow(){const{children:e,hideHeader:t,headerRenderer:s}=this.props;if(t||!e)return null;const n=d.Children.toArray(e).filter((e=>!!e));return s?d.createElement("thead",null,d.createElement("tr",null,d.createElement("th",{colSpan:n.length},"function"==typeof s?s(this.props):s))):this._isVirtualized()?d.createElement(h.Header,null):d.createElement(u.Header,null)}}k.propTypes={children:y().oneOfType([y().arrayOf(((e,t,s,n)=>{if(e[t]&&e[t].type&&!/DataGridColumn/.test(e[t].type.name))return new Error("Invalid prop `"+n+"` supplied to `"+s+"`. Validation failed.")})),y().instanceOf(b.h),y().instanceOf(C.K)]).isRequired,className:y().string,data:y().arrayOf(y().object).isRequired,decoration:y().func,flexLayout:y().bool,headerRenderer:y().func,height:y().number,hideHeader:y().bool,isDisabled:y().bool,rowRenderer:y().oneOfType([y().func,y().element]),uniqueKey:y().oneOfType([y().string,y().func]).isRequired},k.defaultProps={className:void 0,decoration:()=>{},flexLayout:!1,headerRenderer:void 0,height:void 0,hideHeader:!1,isDisabled:!1,rowRenderer:E}},41417:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});var n=s(32735),i=s(60216),r=s.n(i);function a(e){let{className:t,children:s,...i}=e;return n.createElement("td",Object.assign({className:t},i),s)}a.propTypes={children:r().node,className:r().string},a.defaultProps={children:null,className:void 0}},73564:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(57802);class o extends n.Component{}o.propTypes={cell:r().func,header:r().node,headerCellRenderer:r().oneOfType([r().func,r().string]),property:r().string},o.defaultProps={cell:void 0,header:"Column",headerCellRenderer:a.A,property:void 0}},57802:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(32735),i=s(60216),r=s.n(i);function a(e){let{className:t,children:s,style:i}=e;return n.createElement("th",{className:t,style:i},s)}a.propTypes={children:r().node,style:r().object,className:r().string},a.defaultProps={children:null,className:void 0}},29859:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var n=s(81473),i=s.n(n),r=s(32735),a=s(91802),o=s(93926);class l extends r.Component{static getSortingColumns(e){let{children:t}=e;return r.Children.toArray(t).reduce(((e,t,s)=>t.props.initialSortDirection?{...e,[s]:{direction:t.props.initialSortDirection,position:0}}:e),{})}static getInitialState(e){return{sortingColumns:l.getSortingColumns(e)}}constructor(e){super(e),this.state=l.getInitialState(e)}render(){const{data:e,children:t,...s}=this.props,{sortingColumns:n}=this.state,l=r.Children.toArray(t).filter((e=>!!e)),c=l.map((e=>({property:e.props.sortProperty}))),d=l.map(((e,t)=>{const s=n[t]&&0===n[t].position?n[t].direction:null,i=e.props.sortProperty?t=>{this.setState({sortingColumns:(0,a.oq)({sortingColumns:n,selectedColumn:t,sortingOrder:e.props.sortBehavior})})}:()=>{};return r.cloneElement(e,{sortDirection:s,onHeaderClick:i})})),h=(0,a.jl)({columns:c,sortingColumns:n,sort:i()})(e);return r.createElement(o._,Object.assign({data:h},s),d)}}l.propTypes=o._.propTypes},70535:(e,t,s)=>{"use strict";s.d(t,{K:()=>m});var n=s(32735),i=s(60216),r=s.n(i),a=s(10020),o=s(40841),l=s.n(o),c=s(57802);const d="SortIndicator__arrow--active",h="SortIndicator__arrow";function u(e){let{centered:t,sortDirection:s}=e;const i=s===a.Sr.ASC,r=s===a.Sr.DESC,o=l()("SortIndicator",{"SortIndicator--asc":i,"SortIndicator--desc":r,"SortIndicator--centered":t});return n.createElement("svg",{className:o,width:20,height:20,viewBox:"0 0 20 20"},n.createElement("path",{d:"M6 10l4-4 4 4z",className:i?d:h}),n.createElement("path",{d:"M6 12l4 4 4-4z",className:r?d:h}),n.createElement("path",{d:"M0 0h20v20H0z",fill:"none"}))}function p(e){const{children:t,centered:s,sortDirection:i,onClick:r,...a}=e;return n.createElement(c.A,a,n.createElement("span",{role:"button",className:l()("SortedDataGrid__label",{"SortedDataGrid__label--centered":s}),onClick:r},t,n.createElement(u,{centered:s,sortDirection:i})))}u.propTypes={centered:r().bool,sortDirection:r().oneOf([a.Sr.ASC,a.Sr.DESC])},u.defaultProps={centered:!1,sortDirection:a.Sr.ASC},p.propTypes={children:r().node,centered:r().bool,sortDirection:r().oneOf([void 0,a.Sr.ASC,a.Sr.DESC]),onClick:r().func},p.defaultProps={children:null,centered:!1,sortDirection:void 0,onClick:()=>{}};class m extends n.Component{}m.propTypes={sortProperty:r().string.isRequired,sortBehavior:r().shape({FIRST:r().string.isRequired}),initialSortDirection:r().oneOf([void 0,a.Sr.ASC,a.Sr.DESC]),onHeaderClick:r().func},m.defaultProps={onHeaderClick:()=>{},initialSortDirection:void 0,headerCellRenderer:p,sortBehavior:a.uh}},10020:(e,t,s)=>{"use strict";s.d(t,{Sr:()=>n,uh:()=>r,lI:()=>a});const n={ASC:"asc",DESC:"desc"},i={asc:n.DESC,desc:n.ASC},r={...i,FIRST:n.ASC},a={...i,FIRST:n.DESC}},99730:(e,t,s)=>{"use strict";s.d(t,{L:()=>l});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(31731);class l extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_toggleDropdown",(()=>{this.setState((e=>({isOpen:!e.isOpen})))})),(0,n.Z)(this,"_closeDropdown",(()=>{this.setState({isOpen:!1})})),this.state={isOpen:e.initialIsOpen}}render(){const{...e}=this.props,{isOpen:t}=this.state;return i.createElement(o.X,Object.assign({},e,{closeOnClick:!0,isOpen:t,onButtonClick:this._toggleDropdown,onCloseMenu:this._closeDropdown}))}}l.propTypes={initialIsOpen:a().bool},l.defaultProps={initialIsOpen:!1}},31731:(e,t,s)=>{"use strict";s.d(t,{X:()=>p});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o);const c=(0,s(94773).Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{fill:"none",d:"M0 0h20v20H0z"}),i.createElement("path",{fill:"currentColor",d:"m17 7.2-.721-.7-5.779 5.6-5.777-5.6L4 7.2l6.5 6.3z"})))}));var d=s(763),h=s(46291),u=s(53670);class p extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClearClick",(e=>{const{onClear:t}=this.props;e.stopPropagation(),t(e)})),this._onOffsetParentRef=e=>{e&&this.setState({offsetParent:e})},this._onTargetRef=e=>{e&&this.setState({target:e})},this.state={}}render(){const{align:e,caret:t,className:s,clearable:n,closeOnClick:r,color:o,disabled:l,dropDownArrow:p,float:m,fullWidth:g,id:f,importance:y,isOpen:v,label:b,loading:E,menu:C,onButtonClick:w,onCloseMenu:k,popoverClassName:_,size:M,title:S,wrapperChildren:I}=this.props;let{iconAlign:T,icon:N}=this.props;const{offsetParent:L,target:P}=this.state,D="left"===m,A="right"===m;return(p||n)&&(T=g?"far-right":"right",N=n?i.createElement(d.Z,{importance:"tertiary",onClick:this._onClearClick}):i.createElement(c,{importance:"tertiary"})),i.createElement("div",{ref:this._onOffsetParentRef,className:a()({"button-dropdown":!0,"floated left":D,"floated right":A,"full-width":g})},i.createElement(u.z,{elementRef:this._onTargetRef,className:a()({[s]:s,"left floated":D,"right floated":A,"full-width":g,"container-flex":g}),color:o,disabled:l,label:b,loading:E,iconAlign:T,icon:N,id:f,importance:y,onClick:w,size:M,title:S}),I,v&&i.createElement(h.J,{align:"right"===e?"end":"start",caret:t,className:a()(_,g?"full-width":null),closeOnClick:r,offsetParent:L,onClose:k,position:"bottom",target:P},C))}}p.propTypes={align:l().oneOf(["left","right"]),caret:l().bool,className:l().string,clearable:l().bool,closeOnClick:l().bool,color:l().string,disabled:l().bool,dropDownArrow:l().bool,float:l().string,fullWidth:l().bool,icon:u.z.propTypes.icon,iconAlign:u.z.propTypes.iconAlign,id:l().string,importance:u.z.propTypes.importance,isOpen:l().bool,label:l().oneOfType([l().string,l().element]),loading:u.z.propTypes.loading,menu:l().element,onButtonClick:l().func.isRequired,onClear:l().func,onCloseMenu:l().func,popoverClassName:l().string,size:l().oneOf(["small","normal","large"]),title:l().string,wrapperChildren:l().node},p.defaultProps={align:"left",caret:!1,className:void 0,clearable:!1,closeOnClick:!1,color:void 0,disabled:!1,dropDownArrow:!1,float:void 0,fullWidth:!1,icon:void 0,iconAlign:"left",id:void 0,importance:"secondary",isOpen:!1,label:void 0,loading:!1,menu:null,onClear:()=>{},onCloseMenu:void 0,popoverClassName:void 0,size:"normal",title:"",wrapperChildren:null}},37675:(e,t,s)=>{"use strict";s.d(t,{H1:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(78726);function o(e){let{children:t,...s}=e;return n.createElement(a.X,Object.assign({},s,{tagName:"h1"}),t)}o.propTypes={children:r().node.isRequired}},2772:(e,t,s)=>{"use strict";s.d(t,{H2:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(78726);function o(e){let{children:t,...s}=e;return n.createElement(a.X,Object.assign({},s,{tagName:"h2"}),t)}o.propTypes={children:r().node.isRequired}},9990:(e,t,s)=>{"use strict";s.d(t,{H3:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(78726);function o(e){let{children:t,...s}=e;return n.createElement(a.X,Object.assign({},s,{tagName:"h3"}),t)}o.propTypes={children:r().node.isRequired}},57640:(e,t,s)=>{"use strict";s.d(t,{H4:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(78726);function o(e){let{children:t,...s}=e;return n.createElement(a.X,Object.assign({},s,{tagName:"h4"}),t)}o.propTypes={children:r().node.isRequired}},78726:(e,t,s)=>{"use strict";s.d(t,{X:()=>h});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);const l=["h1","h2","h3","h4","h5","h6"];var c=s(85694),d=s(50488);function h(e){const{appearance:t,children:s,className:i,color:a,kicker:o,light:l,sub:h,tagName:u,title:p}=e,m=t||u,g=u;return n.createElement(g,{className:r()("Heading","Heading--".concat(m),i,{"Heading--light":l,["Heading--color-".concat(a)]:a}),title:p},o&&n.createElement(c.H,null,o),s,h&&n.createElement(d.F,null,h))}h.propTypes={appearance:o().oneOf(l),children:o().node.isRequired,className:o().string,color:o().string,kicker:o().string,light:o().bool,sub:o().node,tagName:o().oneOf(l).isRequired,title:o().string},h.defaultProps={appearance:void 0,className:"",color:void 0,kicker:"",light:!1,sub:void 0,title:void 0}},85694:(e,t,s)=>{"use strict";s.d(t,{H:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{children:t,compact:s}=e;return n.createElement("div",{className:r()("HeadingKicker",{"HeadingKicker--compact":s})},t)}l.propTypes={children:o().node.isRequired,compact:o().bool},l.defaultProps={compact:!1}},50488:(e,t,s)=>{"use strict";s.d(t,{F:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{children:t,className:s}=e;return n.createElement("div",{className:r()("HeadingSub",s)},t)}l.propTypes={children:o().node.isRequired,className:o().string},l.defaultProps={className:""}},95166:(e,t,s)=>{"use strict";s.d(t,{K:()=>o});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r);class o extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onChange",(e=>{const{onChange:t}=this.props;t(parseInt(e.target.value))}))}render(){const{inputElement:e}=this.props;return i.cloneElement(e,{type:"range",onInput:this._onChange})}}o.propTypes={inputElement:a().node.isRequired,onChange:a().func.isRequired}},14163:(e,t,s)=>{"use strict";s.d(t,{s:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(74700);s(1714);class o extends n.PureComponent{render(){const{children:e,className:t,light:s,muted:i,normalCase:r,small:o,title:l,wordWrap:c}=this.props;return n.createElement("div",{className:(0,a.f)({className:t,light:s,muted:i,normalCase:r,small:o,wordWrap:c}),title:l},e)}}o.propTypes={children:r().node.isRequired,className:r().string,light:r().bool,muted:r().bool,normalCase:r().bool,small:r().bool,title:r().string,wordWrap:r().bool},o.defaultProps={className:void 0,light:!1,muted:!1,normalCase:!1,small:!1,title:void 0,wordWrap:!1}},19426:(e,t,s)=>{"use strict";s.d(t,{s:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(96968),o=s(74700);s(1714);class l extends n.PureComponent{render(){const{children:e,className:t,light:s,muted:i,normalCase:r,onClick:l,small:c,title:d,wordWrap:h}=this.props;return n.createElement(a.E,{className:(0,o.f)({className:t,light:s,muted:i,normalCase:r,small:c,wordWrap:h}),importance:"tertiary",onClick:l,title:d},e)}}l.propTypes={children:r().node.isRequired,className:r().string,light:r().bool,muted:r().bool,normalCase:r().bool,onClick:r().func.isRequired,small:r().bool,title:r().string,wordWrap:r().bool},l.defaultProps={className:void 0,light:!1,muted:!1,normalCase:!1,small:!1,title:void 0,wordWrap:!1}},74700:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});var n=s(40841),i=s.n(n);function r(e){let{className:t,link:s=!1,muted:n,normalCase:r,small:a,wordWrap:o}=e;return i()("item-header",t,{"item-header--link":s,"item-header--normal-case":r,"item-header--word-wrap":o,"is-muted":n,small:a})}},66772:(e,t,s)=>{"use strict";s.d(t,{r:()=>d});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(56336),c=s(26797);const d=(0,n.forwardRef)(((e,t)=>{const{action:s,children:i,className:a,disableFocusVisible:o,href:d,newWindow:h,primary:u,title:p,uri:m,underline:g,...f}=e;let y={className:r()("link",a,{action:s,["link--underline-".concat(g)]:"always"!==g,primary:u}),href:d,ref:t,title:p,...f};h&&(y={...y,target:"_blank",rel:"noopener noreferrer"});const v=m?n.createElement(c.O,Object.assign({tagName:"a",uri:m},y),i):n.createElement("a",y,i);return o?v:n.createElement(l.W,{focusVisibleClass:"link--focus-visible"},v)}));d.displayName="Link",d.propTypes={action:o().bool,children:o().node,className:o().string,disableFocusVisible:o().bool,href:o().string,newWindow:o().bool,primary:o().bool,title:o().string,underline:o().oneOf(["always","hover","never"]),uri:o().string},d.defaultProps={action:!1,children:void 0,className:void 0,disableFocusVisible:!1,href:void 0,newWindow:!1,primary:!1,title:void 0,underline:"always",uri:void 0}},43940:(e,t,s)=>{"use strict";s.d(t,{Q:()=>h});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(56336),c=s(26797);const d={rel:"noopener noreferrer",target:"_blank"};class h extends n.PureComponent{render(){const{children:e,className:t,color:s,download:i,href:a,iconAlign:o,icon:h,importance:u,newWindow:p,onBlur:m,onClick:g,onFocus:f,onMouseEnter:y,onMouseLeave:v,rounded:b,size:E,title:C,uri:w}=this.props;let{label:k}=this.props;const _={LinkButton:!0,["LinkButton--".concat(s)]:s,["LinkButton--".concat(u)]:u,["LinkButton--".concat(u,"--").concat(s)]:s&&u,["LinkButton--".concat(E)]:E,"LinkButton--rounded":b,[t]:!!t};let M;h&&(M=n.createElement("span",{className:"button__icon-wrapper"},h),k?(k=n.createElement("span",{className:"LinkButton__label"},k),_["LinkButton--icon-".concat(o)]=!0):(_["LinkButton--icon-only"]=!0,_["LinkButton--icon-only--".concat(E)]=!0));const S=w?e=>n.createElement(c.O,Object.assign({tagName:"a",uri:w},e)):"a";return n.createElement(l.W,{focusVisibleClass:r()("LinkButton--focus-visible","LinkButton--focus-visible--".concat(u||"tertiary"))},n.createElement(S,Object.assign({className:r()(t,_),href:a,title:C},p?d:{},{onBlur:m,onClick:g,onFocus:f,onMouseEnter:y,onMouseLeave:v,download:i}),"left"===o&&M,k||e,("right"===o||"far-right"===o)&&M))}}h.propTypes={children:o().node,className:o().string,color:o().oneOf(["default","accent","danger","pro","warning"]),download:o().bool,href:o().string,icon:o().node,iconAlign:o().oneOf(["left","right","far-right"]),importance:o().oneOf(["primary","secondary","tertiary",""]),label:o().oneOfType([o().string,o().number,o().object]),newWindow:o().bool,onBlur:o().func,onClick:o().func,onFocus:o().func,onMouseEnter:o().func,onMouseLeave:o().func,rounded:o().bool,size:o().oneOf(["small","normal","large"]),title:o().string,uri:o().string},h.defaultProps={children:null,className:void 0,color:"default",download:!1,href:void 0,icon:void 0,iconAlign:"left",importance:"primary",label:void 0,newWindow:!1,onBlur:void 0,onClick:void 0,onFocus:void 0,onMouseEnter:void 0,onMouseLeave:void 0,rounded:!1,size:"normal",title:void 0,uri:void 0}},27256:(e,t,s)=>{"use strict";s.d(t,{O:()=>h});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(56336),d=s(26797);class h extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onKeyDown",(e=>{"Enter"===e.key&&this._elemRef.current.click()})),this._elemRef=i.createRef()}componentWillUnmount(){this._elemRef=null}render(){const{blockLevel:e,children:t,className:s,underline:n,uri:r,...o}=this.props;return i.createElement(c.W,{focusVisibleClass:"MockLink--focus-visible"},i.createElement(d.O,Object.assign({},o,{tagName:e?"div":"span",uri:r,ref:this._elemRef,className:a()("MockLink",s,{["MockLink--underline-".concat(n)]:"never"!==n}),onKeyDown:this._onKeyDown,role:"link",tabIndex:"0"}),t))}}h.propTypes={blockLevel:l().bool,children:l().node.isRequired,className:l().string,underline:l().oneOf(["always","hover","never"]),uri:l().string.isRequired},h.defaultProps={blockLevel:!1,className:void 0,underline:"never"}},26797:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(3e3),o=s(35610);const l=(0,n.forwardRef)(((e,t)=>{let{tagName:s,replace:i,uri:r,href:l,onClick:c,...d}=e;const{target:h}=d,u=l||"".concat((0,o.il)(),"/").concat(r),p={...d,href:u,onClick:e=>{try{c&&c(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||h&&"_self"!==h||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i?(0,a.$B)(r):streets.service("router").loadPage(r))},ref:t};return n.createElement(s,p)}));l.displayName="NavLink",l.propTypes={href:r().string,onClick:r().func,replace:r().bool,tagName:r().elementType.isRequired,uri:r().string.isRequired},l.defaultProps={href:void 0,onClick:void 0,replace:!1}},37638:(e,t,s)=>{"use strict";s.d(t,{b:()=>p});var n=s(32735),i=s(60216),r=s.n(i);const a=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.142 2.017a1.929 1.929 0 0 1 1.552-.073l.165.073 5.714 2.857c.608.302 1.009.9 1.063 1.57l.007.156v1.743a.5.5 0 0 1-.992.09l-.008-.09V6.6a.929.929 0 0 0-.416-.773l-.1-.058-5.714-2.857a.929.929 0 0 0-.711-.048l-.114.047L3.873 5.77c-.281.14-.47.41-.509.715l-.007.116v6.803a.93.93 0 0 0 .41.777l.1.059 5.714 2.857c.261.13.57.13.831 0l1.867-.934a.5.5 0 1 1 .447.895l-1.867.933a1.929 1.929 0 0 1-1.56.073l-.165-.073-5.716-2.858a1.929 1.929 0 0 1-1.056-1.577l-.005-.155V6.6c0-.68.358-1.305.933-1.651l.136-.075 5.716-2.857Z"}),n.createElement("path",{d:"M16.69 5.381a.5.5 0 0 1 .525.847l-.077.048-6.914 3.457a.5.5 0 0 1-.36.034l-.088-.034-6.914-3.457a.5.5 0 0 1 .363-.928l.084.033L10 8.726l6.69-3.345Z"}),n.createElement("path",{d:"M10 8.786a.5.5 0 0 1 .492.41l.008.09v8.4a.5.5 0 0 1-.992.09l-.008-.09v-8.4a.5.5 0 0 1 .5-.5ZM15.833 10.333a.5.5 0 0 1 .492.41l.008.09v5a.5.5 0 0 1-.992.09l-.008-.09v-5a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M18.333 12.833a.5.5 0 0 1 .09.992l-.09.008h-5a.5.5 0 0 1-.09-.992l.09-.008h5Z"})))}));var o=s(81310),l=s(14171),c=s(23236),d=s(16101),h=s(39970),u=s(8629);function p(e){const{active:t,highlightedText:s,label:i,loading:r,onFeedbackClick:p,curationLabel:m,predictedCurationLabel:g,createDataset:f}=e,y=m!==d.K4.unlabeled,v=f?a:o.Z,b=n.createElement(v,{importance:y?"":"tertiary",color:y?"accent":"black"});return n.createElement(u.s,{active:t,onClick:()=>{p(d.K4.positive)}},r?n.createElement(l.J,{name:"icon-fx-loading"}):b,s?n.createElement(h.L,{className:"AddRemoveMenuItem__label",firstOccurance:!0,wordClassName:"autocomplete-bold",words:s,text:i,wrapper:"span"}):n.createElement("span",{className:"AddRemoveMenuItem__label"},i),n.createElement("div",{className:"AddRemoveMenuItem__indicator"},n.createElement(c.u,{showReview:!1,onFeedbackClick:p,curationLabel:m,predictedCurationLabel:g})))}p.propTypes={active:r().bool,createDataset:r().bool,curationLabel:r().string,highlightedText:r().string,label:r().string.isRequired,loading:r().bool,onFeedbackClick:r().func.isRequired,predictedCurationLabel:r().string},p.defaultProps={active:!1,createDataset:!1,curationLabel:d.K4.unlabeled,highlightedText:null,loading:!1,predictedCurationLabel:d.K4.unlabeled}},16831:(e,t,s)=>{"use strict";s.d(t,{D:()=>v});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(763),d=s(5375),h=s(4425),u=s(14171),p=s(39970),m=s(53670),g=s(8629);const f={add:"Added",save:"Saved",select:"Selected"},y={add:"Add",save:"Save",select:"Select"};class v extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onMouseEnter",(()=>{this.setState({showHoverButton:!0})})),(0,n.Z)(this,"_onMouseLeave",(()=>{this.setState({showHoverButton:!1})})),this.state={showHoverButton:!1}}render(){const{active:e,className:t,disabled:s,highlightedText:n,label:r,loading:o,onClick:l,visual:c}=this.props;return i.createElement(g.s,{active:e,className:a()("AddRemoveMenuItem",t),disabled:s,onClick:l,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},o?i.createElement(u.J,{name:"icon-fx-loading"}):c,n?i.createElement(p.L,{className:"AddRemoveMenuItem__label",firstOccurance:!0,wordClassName:"autocomplete-bold",words:n,text:r,wrapper:"span"}):i.createElement("span",{className:"AddRemoveMenuItem__label"},r),i.createElement("div",{className:"AddRemoveMenuItem__indicator"},this._renderIndicator()))}_renderIndicator(){const{showHoverButton:e}=this.state,{actionPhrase:t,active:s,selected:n}=this.props,r=e||s;return r&&n?i.createElement(m.z,{className:"AddRemoveMenuItem__button",color:"danger",icon:i.createElement(c.Z,{color:"danger"}),importance:"secondary",label:"Remove",size:"small"}):r?i.createElement(m.z,{className:"AddRemoveMenuItem__button",color:"accent",icon:i.createElement(d.Z,{color:"accent"}),importance:"secondary",label:y[t],size:"small"}):n?i.createElement(m.z,{className:"AddRemoveMenuItem__button",icon:i.createElement(h.Z,{color:"white"}),label:f[t],size:"small"}):null}}v.propTypes={actionPhrase:l().oneOf(["add","save","select"]),active:l().bool,className:l().string,disabled:l().bool,highlightedText:l().string,label:l().string.isRequired,loading:l().bool,onClick:l().func,selected:l().bool,visual:l().element},v.defaultProps={actionPhrase:"add",active:!1,className:void 0,disabled:!1,highlightedText:null,loading:!1,onClick:()=>{},selected:!1,visual:{}}},618:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var n=s(32735),i=s(60216),r=s.n(i),a=s(11245);const o=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"m7.239 6.337-5.169.759-.084.02a.5.5 0 0 0-.193.832l3.74 3.656-.882 5.169-.007.08a.5.5 0 0 0 .734.446L10 14.86l4.622 2.44.074.032a.5.5 0 0 0 .653-.558l-.884-5.168 3.742-3.657.056-.065a.5.5 0 0 0-.333-.787l-5.17-.759-2.311-4.7a.5.5 0 0 0-.898 0l-2.312 4.7Z",fill:"currentColor",fillRule:"nonzero"}))}));var l=s(40854),c=s(56816);const d={board:{default:a.Z,active:o},collection:{default:l.Z},"save-for-later":{default:c.Z},"team-board":{default:a.Z,active:o},"team-collection":{default:l.Z},"select-board":{default:a.Z}};var h=s(16831);function u(e){const{className:t,selected:s,type:i}=e,r=s&&d[i].active?d[i].active:d[i].default,a=n.createElement(r,{color:s?"accent":"black",importance:s?void 0:"tertiary"});let o;o=i.indexOf("select")>-1?"select":"collection"===i||"team-collection"===i?"add":"save";const l={...e,className:t,actionPhrase:o,type:null,visual:a};return n.createElement(h.D,l)}u.propTypes={className:h.D.propTypes.className,selected:h.D.propTypes.selected,type:r().oneOf(Object.keys(d)).isRequired},u.defaultProps={className:void 0,selected:!1}},10936:(e,t,s)=>{"use strict";s.d(t,{P:()=>c});var n=s(47169),i=s(32735),r=s(60216),a=s.n(r),o=s(74256),l=s(32727);class c extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onChange",(e=>{const{onChange:t}=this.props;this._list.current&&this._list.current.resetSelection(),t(e)})),this._input=i.createRef(),this._list=i.createRef()}componentDidMount(){this._handleFocus=window.requestAnimationFrame((()=>{this._input.current.focus()}))}componentWillUnmount(){window.cancelAnimationFrame(this._handleFocus),this._handleFocus=null,this._input=i.createRef(),this._list=null}render(){const{elementsBefore:e,hint:t,menuItems:s,placeholder:n,value:r}=this.props;return i.createElement("div",{className:"InputMenu form"},i.createElement(o.A,{ref:this._input,className:"InputMenu__input m-b-0",clearable:!0,elementsBefore:e,hint:t,onChange:this._onChange,placeholder:n,value:r}),i.createElement(l.G,{className:"InputMenu__menu",deselectable:!0,maxHeight:336,preventBackgroundScroll:!0,ref:this._list,width:312},s))}}c.propTypes={elementsBefore:a().node,hint:a().string,menuItems:a().arrayOf(a().element).isRequired,onChange:a().func.isRequired,placeholder:a().string,value:a().string},c.defaultProps={elementsBefore:[],hint:"",placeholder:"Search",value:""}},88591:(e,t,s)=>{"use strict";s.d(t,{v:()=>c});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o);class c extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onMouseOver",(()=>{const e=document.querySelector(".floatingEntryScroller");e?e.style.overflow="hidden":document.body.style.overflow="hidden"})),(0,n.Z)(this,"_onMouseOut",(()=>{const e=document.querySelector(".floatingEntryScroller");e?e.style.overflow="":document.body.style.overflow=""}))}componentWillUnmount(){this.props.preventBackgroundScroll&&this._onMouseOut()}render(){const{className:e,children:t,elementRef:s,preventBackgroundScroll:n,width:r,style:o={},tabIndex:l}=this.props;return i.createElement("menu",{className:a()("menu",e),onMouseOver:n?this._onMouseOver:null,onMouseOut:n?this._onMouseOut:null,ref:s,style:{overflow:"auto",minWidth:"number"==typeof r?"".concat(r,"px"):r,...o},tabIndex:l},t)}}c.propTypes={children:l().node.isRequired,className:l().string,elementRef:l().shape({current:l().instanceOf(Element)}),preventBackgroundScroll:l().bool,style:l().object,tabIndex:l().string,width:l().oneOfType([l().number,l().string])},c.defaultProps={className:void 0,elementRef:void 0,preventBackgroundScroll:!1,style:{},tabIndex:void 0,width:""}},8629:(e,t,s)=>{"use strict";s.d(t,{s:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{active:t,children:s,className:i,danger:a,disabled:o,onClick:l,onKeyDown:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:u}=e;return n.createElement("li",{className:r()("MenuItem",i,{"MenuItem--active":t,"MenuItem--danger":a,"MenuItem--disabled":o}),onClick:o?null:l,onKeyDown:o?null:c,onMouseDown:o?null:d,onMouseEnter:h,onMouseLeave:u},s)}l.propTypes={active:o().bool,children:o().node,className:o().string,danger:o().bool,disabled:o().bool,onClick:o().func,onKeyDown:o().func,onMouseDown:o().func,onMouseEnter:o().func,onMouseLeave:o().func},l.defaultProps={active:!1,children:null,className:void 0,danger:!1,disabled:!1,onClick:void 0,onKeyDown:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0}},71824:(e,t,s)=>{"use strict";s.d(t,{N:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(8629);function c(e){let{className:t,children:s}=e;return n.createElement(l.s,{className:r()("MenuItemDivider",t,{"MenuItemDivider--with-children":s}),disabled:!0},s)}c.propTypes={children:o().node,className:o().string},c.defaultProps={children:void 0,className:void 0}},6797:(e,t,s)=>{"use strict";s.d(t,{a:()=>o});var n=s(32735),i=s(60216),r=s.n(i),a=s(18542);function o(e){let{children:t,name:s,onChange:i,selectedValue:r}=e;return n.createElement("div",{className:"form menu__radiogroup"},n.createElement(a.E,{name:s,onChange:i,selectedValue:r},t))}o.propTypes={children:r().arrayOf(r().node).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,selectedValue:r().oneOfType([r().string,r().number]).isRequired}},5017:(e,t,s)=>{"use strict";s.d(t,{k:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{active:t,children:s,className:i,danger:a,onClick:o,style:l}=e;return n.createElement("div",{className:r()("MobileMenuItem",i,{"MobileMenuItem--active":t,"MobileMenuItem--danger":a}),onClick:o,style:l},s)}l.propTypes={active:o().bool,children:o().node,className:o().string,danger:o().bool,onClick:o().func,style:o().object},l.defaultProps={active:!1,children:null,className:void 0,danger:!1,onClick:()=>{},style:null}},32727:(e,t,s)=>{"use strict";s.d(t,{G:()=>u});var n=s(47169),i=s(32735),r=s(42003),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l);const d=/(auto|scroll)/;var h=s(88591);class u extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderChild",(e=>{const{activeIndex:t}=this.state,s=e&&e.props;if(!s||!s.onClick&&!s.onMouseDown||s.disabled)return e;this._selectableItemCount+=1;const n=t===this._selectableItemCount-1;n&&(this._onSelectActiveItem=s.onClick||s.onMouseDown);const r={active:n,className:o()(s.className,{active:n})};return i.cloneElement(e,r)})),(0,n.Z)(this,"_onKeyDown",(e=>{const{activeIndex:t}=this.state,{deselectable:s,loop:n}=this.props;if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)return;let i;40===e.keyCode?(e.stopPropagation(),e.preventDefault(),i=t>=this._selectableItemCount-1?n?0:this._selectableItemCount-1:t+1,i!==t&&this.setState({activeIndex:i},(()=>{this._onNewSelection(t)}))):38===e.keyCode?(e.stopPropagation(),e.preventDefault(),i=0===t&&s?-1:t<1?n?this._selectableItemCount-1:t:t-1,i!==t&&this.setState({activeIndex:i},(()=>{this._onNewSelection(t)}))):13===e.keyCode&&this._onSelectActiveItem&&(e.stopPropagation(),e.preventDefault(),this._onSelectActiveItem(e))})),this._listRef=i.createRef(),this.state={activeIndex:e.deselectable?-1:0}}componentDidMount(){document.addEventListener("keydown",this._onKeyDown)}resetSelection(){const{deselectable:e}=this.props,{activeIndex:t}=this.state;this.setState({activeIndex:e?-1:0},(()=>{this._onNewSelection(t)}))}componentWillUnmount(){document.removeEventListener("keydown",this._onKeyDown),this._listRef=null,this._onKeyDown=null,this._onSelectActiveItem=null,this._selectableItemCount=null}render(){const{activeIndex:e}=this.state,{children:t,className:s,maxHeight:n,preventBackgroundScroll:a,width:o}=this.props;this._selectableItemCount=0;const l={};return n&&(l.maxHeight="number"==typeof n?"".concat(n,"px"):n),o&&(l.maxWidth="number"==typeof o?"".concat(o,"px"):o),e<0&&(this._onSelectActiveItem=null),i.createElement(h.v,{className:s,elementRef:this._listRef,preventBackgroundScroll:a,style:l,width:o},(0,r.Z)(t).map(this._renderChild))}_onNewSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{activeIndex:t}=this.state,s=this._listRef.current.querySelector(".active");s&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)throw new Error("Please provide a valid DOM Node");let s,n=e.parentNode;for(;n&&n!==document&&(s=window.getComputedStyle(n),!((d.test(s.overflow)||d.test(s.overflowY))&&n.scrollHeight>n.clientHeight));)n=n.parentNode;if(!n||n===document)return;const i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=i.top-r.top-n.clientTop;if(t&&a<0&&(n.scrollTop+=a),!t){const e=a+i.height-n.clientHeight;e>0&&(n.scrollTop+=e)}}(s,e>t)}}u.propTypes={children:c().node.isRequired,className:c().string,deselectable:c().bool,loop:c().bool,maxHeight:c().oneOfType([c().number,c().string]),preventBackgroundScroll:c().bool,width:c().oneOfType([c().number,c().string])},u.defaultProps={className:void 0,deselectable:!1,loop:!1,maxHeight:"",preventBackgroundScroll:!1,width:""}},5365:(e,t,s)=>{"use strict";s.d(t,{f:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(99175);function c(e){let{active:t,className:s,hoverMessage:i,value:a}=e;const o=n.createElement("div",{className:r()("PercentageBar PercentageBar__container",s),title:i?"":"".concat(a,"%")},n.createElement("div",{className:r()("PercentageBar__bar",{"PercentageBar__bar--active":t}),style:{width:"".concat(a,"%")}}));return i?n.createElement(l.d,{content:i},o):o}c.propTypes={active:o().bool,className:o().string,hoverMessage:o().string,value:o().number.isRequired},c.defaultProps={active:!1,className:void 0,hoverMessage:""}},31220:(e,t,s)=>{"use strict";s.d(t,{Y:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(85902);function c(e){let t,{children:s,className:i,disabled:a,name:o,onChange:c,selected:d,value:h}=e;t=s&&n.Children.count(s)>0?s:"string"==typeof h?(0,l.kC)(h):h;const u="".concat(o,"-").concat(h);return n.createElement("label",{className:r()("secondary label-radio",i,{checked:d}),htmlFor:u},n.createElement("input",{checked:d,disabled:a,id:u,name:o,onChange:c,type:"radio"}),t)}c.propTypes={children:o().node,className:o().string,disabled:o().bool,name:o().string,onChange:o().func,selected:o().bool,value:o().oneOfType([o().string,o().number]).isRequired},c.defaultProps={children:null,className:void 0,disabled:!1,name:"",onChange:null,selected:!1}},18542:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);class l extends n.Component{render(){const{children:e,className:t,horizontal:s,name:i,required:a,selectedValue:o,title:l}=this.props;return n.createElement("fieldset",{className:r()("field",t)},l&&n.createElement("label",{className:r()({required:a})},l),n.createElement("div",{className:r()({horizontal:s,radiogroup:!0})},n.Children.map(e,(e=>{if(!e)return null;const t=e.props&&e.props.value;return n.cloneElement(e,{name:i,onChange:this._onChange.bind(this,t),selected:t===o})}))))}_onChange(e){const{onChange:t,selectedValue:s}=this.props;t&&e!==s&&t(e)}}l.propTypes={children:o().arrayOf(o().node).isRequired,className:o().string,horizontal:o().bool,name:o().string.isRequired,onChange:o().func.isRequired,required:o().bool,selectedValue:o().oneOfType([o().string,o().number]),title:o().string},l.defaultProps={className:void 0,horizontal:!1,required:!1,selectedValue:void 0,title:null}},92121:(e,t,s)=>{"use strict";s.d(t,{P:()=>u});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(31731),d=s(8629),h=s(32727);class u extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClearClick",(()=>{const{defaultLabel:e,items:t,onItemSelect:s}=this.props;e||!t.length?s(null):s(t[0])})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isOpen:!1})})),this.state={isOpen:!1,showPlaceholder:"string"!=typeof e.value}}componentDidUpdate(e){e.value!==this.props.value&&this.setState({showPlaceholder:!1})}render(){const{isOpen:e,showPlaceholder:t}=this.state,{borderless:s,className:n,clearable:r,defaultLabel:o,fullWidth:l,id:d,items:u,placeholder:p,prefix:m,size:g,value:f}=this.props;let y,v;t&&p?(v=p,y=!1):f?(v=f,y=r&&this._getLabelForItem(u[0])!==v):(v=o||"",y=!1);const b=a()({"default-selection":v===o,"button--label-h4":"small"===g});return i.createElement("div",{className:a()("fx-select",n,{"fx-select--borderless":s})},i.createElement(c.X,{className:b,clearable:y,closeOnClick:!0,dropDownArrow:!0,fullWidth:l,label:(m?m+" ":"")+v,id:d,isOpen:e,onButtonClick:this._onSelectClick.bind(this),onClear:this._onClearClick,onCloseMenu:this._onCloseMenu,menu:i.createElement(h.G,{maxHeight:"70vh"},this._renderMenuItems()),size:g}))}_renderMenuItems(){const{defaultLabel:e,firstItemIconComponent:t,iconComponent:s,items:n,onItemSelect:r}=this.props,a=[];return e&&a.push(i.createElement(d.s,{key:"default-".concat(e),onClick:()=>{r(null)}},e)),n.forEach(((e,n)=>{const o=this._getLabelForItem(e);let l;t&&0===n?l=t:s&&(l=s),a.push(i.createElement(d.s,{key:"".concat(o,"-").concat(n),onClick:()=>{r(e)}},l&&i.createElement(l,{importance:"tertiary"}),o))})),a}_getLabelForItem(e){const{labelKey:t}=this.props;return e?t?e[t]:e:null}_onSelectClick(e){e.preventDefault(),this.setState({isOpen:!this.state.isOpen})}}u.propTypes={borderless:l().bool,className:l().string,clearable:l().bool,defaultLabel:l().string,firstItemIconComponent:l().elementType,fullWidth:l().bool,iconComponent:l().elementType,id:l().string,items:l().arrayOf(l().oneOfType([l().string,l().object])).isRequired,labelKey:l().string,onItemSelect:l().func.isRequired,placeholder:l().string,prefix:l().string,size:l().oneOf(["small","normal"]),value:l().string},u.defaultProps={borderless:!1,className:"",clearable:!1,defaultLabel:"",firstItemIconComponent:void 0,fullWidth:!1,iconComponent:void 0,id:void 0,labelKey:"",placeholder:"",prefix:"",size:"normal",value:void 0}},81501:(e,t,s)=>{"use strict";s.d(t,{L:()=>c});var n=s(47169),i=s(33259),r=s.n(i),a=s(32735),o=s(60216),l=s.n(o);class c extends a.Component{constructor(){super(),(0,n.Z)(this,"_onScroll",r()((()=>{this._setBreakpoint(),this._checkStickiness()}),100)),(0,n.Z)(this,"_setBreakpoint",r()((()=>{const{offsetTop:e,target:t}=this.props,s=document.querySelectorAll(t),n=s[s.length-1];if(n){let t=n.getBoundingClientRect().bottom;const s=this._scrollParent.scrollTop;e&&(t-=e),s&&(t+=s),this._breakpoint=t}}),5e3,{leading:!0,trailing:!1})),this._boundOnScroll=null,this._scrollParent=null,this._breakpoint=null,this.state={isSticky:!1}}componentDidMount(){const{scrollParent:e}=this.props,t=document.querySelectorAll(e);this._scrollParent=t[t.length-1],this._setBreakpoint(),this._attachScrollEvents(),this._checkStickiness()}componentDidUpdate(){this._breakpoint||this._setBreakpoint()}componentWillUnmount(){this._detachScrollEvents(),this._breakpoint=null,this._scrollParent=null}render(){const e=this.props.children(this.state);return e&&a.Children.only(e)}_attachScrollEvents(){this._scrollParent.addEventListener("scroll",this._onScroll)}_checkStickiness(){const{isSticky:e}=this.state;if(!this._breakpoint)return;const t=this._scrollParent.scrollTop;t<this._breakpoint&&e?this.setState({isSticky:!1}):t>=this._breakpoint&&!e&&this.setState({isSticky:!0})}_detachScrollEvents(){this._scrollParent.removeEventListener("scroll",this._onScroll)}}c.propTypes={children:l().func.isRequired,offsetTop:l().number,scrollParent:l().string,target:l().string.isRequired},c.defaultProps={offsetTop:null,scrollParent:"#feedlyFrame"}},84475:(e,t,s)=>{"use strict";s.d(t,{r:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{disabled:t,isOn:s,label:i,onToggle:a}=e;const o=r()("Switch",{"Switch--on":s,"Switch--off":!s,"Switch--disabled":t});return n.createElement("div",null,n.createElement("div",{className:o,onClick:t?null:a,role:"button"},n.createElement("span",{className:"Switch__switch"}),n.createElement("span",{className:"Switch__status-text"},s?"On":"Off")),i&&n.createElement("span",{className:"Switch__label"},i))}l.propTypes={disabled:o().bool,isOn:o().bool.isRequired,label:o().string,onToggle:o().func},l.defaultProps={disabled:!1,label:"",onToggle:()=>{}}},69734:(e,t,s)=>{"use strict";s.d(t,{m:()=>m});var n=s(32735),i=(s(44406),s(40841)),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let{active:t,className:s,items:i,onChange:a}=e;return i?n.createElement("div",{className:r()({BigTabs:!0,[s]:s})},i.map((e=>{const{badge:s,dot:i,iconComponent:o,id:l,label:c}=e,d=t===l,h=o?n.createElement(o,{className:r()("BigTabs__icon",{"BigTabs__icon--active":d}),importance:d?void 0:"tertiary",color:d?"accent":"black"}):null;return n.createElement("a",{key:l,className:r()({BigTabs__tab:!0,"BigTabs__tab--active":d}),onClick:()=>{a(l)}},h,c,i,s&&n.createElement("span",{className:r()("BigTabs__badge badge small",{"BigTabs__badge--accent":d})},s))}))):null}l.propTypes={active:o().string.isRequired,className:o().string,items:o().arrayOf(o().shape({dot:o().node,id:o().string.isRequired,iconComponent:o().elementType,label:o().string.isRequired,badge:o().string})).isRequired,onChange:o().func.isRequired},l.defaultProps={className:void 0};var c=s(47169),d=s(27213);function h(e){let{cardWidth:t,displayItems:s,outerPadding:n}=e;return s&&(t=(window.W-n)/s),t}class u extends n.Component{constructor(e){super(e),this.state={cardWidthCalculated:h(e)}}static getDerivedStateFromProps(e,t){return{cardWidthCalculated:h(e)}}render(){const{cardWidth:e,children:t,className:s,formatForTablet:i,innerPadding:a,onTouchEnd:o,onTouchStart:l,outerPadding:c,style:d}=this.props,{cardWidthCalculated:h}=this.state;let u;return i||(u={paddingLeft:"".concat(c,"px"),width:this._getCarouselWidth()}),n.createElement("div",{className:r()("MobileCarousel",s,{"MobileCarousel--tablet":i}),style:d,onTouchEnd:o,onTouchStart:l},n.createElement("div",{className:"MobileCarousel__content",style:u},n.Children.map(t,((s,i)=>n.createElement("div",{style:{paddingRight:i!==t.length-1||e?"".concat(a,"px"):"".concat(c,"px"),width:h||"auto"}},n.cloneElement(s,{width:h}))))))}_getCarouselWidth(){const{cardWidth:e,children:t,displayItems:s,outerPadding:n}=this.props,{cardWidthCalculated:i}=this.state;return s||e?"".concat(t.length*i+n,"px"):"auto"}}u.propTypes={cardWidth:o().number,children:o().arrayOf(o().node),className:o().string,displayItems:o().number,formatForTablet:o().bool,innerPadding:o().number,onTouchEnd:o().func,onTouchStart:o().func,outerPadding:o().number,style:o().objectOf(o().string)},u.defaultProps={cardWidth:null,children:[],className:void 0,displayItems:null,formatForTablet:!1,innerPadding:16,onTouchEnd:()=>{},onTouchStart:()=>{},outerPadding:16,style:{}};class p extends n.Component{constructor(){super(),(0,c.Z)(this,"_onTabChange",((e,t)=>{const{active:s,onChange:n}=this.props;(0,d.n)(),t.preventDefault(),e!==s&&n(e)})),this.navigation=n.createRef(),this.state={selectorLeft:void 0,selectorWidth:void 0}}componentDidMount(){const{active:e}=this.props;this._updateSelectorStyle(e)}componentDidUpdate(e){const{active:t,items:s}=this.props;e.active===t&&e.items===s||this._updateSelectorStyle(t)}render(){const{items:e,active:t,className:s}=this.props,{selectorLeft:i,selectorWidth:a}=this.state;return e.length<=3?n.createElement("nav",{className:r()("SmallTabs","border-bottom-secondary",s),ref:this.navigation},e.map((e=>n.createElement("div",{className:r()("SmallTabs__tab",{"SmallTabs__tab--active":e.id===t}),key:"tab-".concat(e.id),onClick:t=>{this._onTabChange(e.id,t)}},e.label))),void 0!==i&&n.createElement("div",{className:"SmallTabs__selector",style:{transform:"translate3d(".concat(i,"px, 0, 0)"),width:"".concat(a,"px")}},n.createElement("div",{className:"SmallTabs__selector-marker"}))):n.createElement(u,{className:r()("SmallTabs SmallTabs--carousel border-bottom-secondary",s),innerPadding:32},e.map((e=>n.createElement("div",{key:e.id,onClick:t=>{this._onTabChange(e.id,t)},className:r()("SmallTabs__tab",{"SmallTabs__tab--active":t===e.id})},e.label))))}_updateSelectorStyle(e){const{active:t,items:s}=this.props;if(t||this.setState({selectorLeft:void 0,selectorWidth:void 0}),!this.navigation.current)return;const n=this.navigation.current.children;let i=n[1];if(t){i=n[s.findIndex((t=>t.id===e))||0]}this.setState({selectorLeft:i.offsetLeft,selectorWidth:i.offsetWidth})}}p.propTypes={active:o().string,className:o().string,items:o().arrayOf(o().shape({id:o().string.isRequired,label:o().string.isRequired})).isRequired,onChange:o().func.isRequired},p.defaultProps={active:null,className:void 0};class m extends n.Component{constructor(){var e;super(),this.resize=streets.service("resize"),this.state={displayMode:null===(e=this.resize)||void 0===e?void 0:e.getDisplayMode()}}componentDidMount(){this.resize&&this.resize.registerObserver(this)}componentWillUnmount(){this.resize&&(this.resize.unregisterObserver(this),this.resize=null)}onDisplayModeChanged(e){this.setState({displayMode:e})}render(){const{displayMode:e}=this.state;return n.createElement(l,this.props)}}},44205:(e,t,s)=>{"use strict";s.d(t,{x:()=>c});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a),l=s(56787);function c(e){let{children:t,className:s,color:i,onClick:a,size:o,style:l,tagName:c}=e;return(0,n.createElement)(c,{className:r()("fz-".concat(o," color-").concat(i),s,{"fx-p":"p"===c}),onClick:a,style:l},t)}c.propTypes={children:o().node.isRequired,className:o().string,color:o().string,onClick:o().func,size:o().oneOf(Object.keys(l.T)),style:o().object,tagName:o().string},c.defaultProps={color:"secondary",onClick:()=>{},size:l.T.base,tagName:"p"}},56787:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});const n=Object.freeze({micro:"micro",smallest:"smallest",smaller:"smaller",smallish:"smallish",small:"small",base:"base",large:"large",larger:"larger",largest:"largest",jumbo:"jumbo",display3:"display3",display4:"display4"})},30658:(e,t,s)=>{"use strict";s.d(t,{K:()=>c});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o);class c extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onChange",(e=>{this.props.onChange(e.target.value)})),(0,n.Z)(this,"_onRef",(e=>{this._textarea=e}))}componentDidMount(){if(this.props.autoFocus&&this.props.value){const e=this._textarea;if("number"==typeof e.selectionStart){const{length:t}=e.value;e.selectionEnd=t,e.selectionStart=t,e.scrollTop=999999}}}render(){const{autoFocus:e,className:t,error:s,hint:n,id:r,name:o,onBlur:l,onFocus:c,onKeyDown:d,placeholder:h,rows:u,value:p}=this.props;return i.createElement("div",{className:a()(t,{error:!!s})},i.createElement("textarea",{ref:this._onRef,autoFocus:e,id:r,name:o,value:p,placeholder:h,rows:u,onBlur:l,onChange:this._onChange,onFocus:c,onKeyDown:d}),i.createElement("div",{className:"hint"},n,s&&i.createElement("span",{className:"error"},s)))}}c.propTypes={autoFocus:l().bool,className:l().string,error:l().string,hint:l().string,id:l().string,name:l().string,onBlur:l().func,onChange:l().func.isRequired,onFocus:l().func,onKeyDown:l().func,placeholder:l().string,rows:l().number,value:l().string},c.defaultProps={autoFocus:!1,className:void 0,error:void 0,hint:void 0,id:"",name:void 0,onBlur:void 0,onFocus:void 0,onKeyDown:void 0,placeholder:void 0,rows:3,value:""}},74256:(e,t,s)=>{"use strict";s.d(t,{A:()=>b});var n=s(47169),i=s(32735),r=s(86576),a=s(40841),o=s.n(a),l=s(60216),c=s.n(l),d=s(28514),h=s(763),u=s(53670);function p(e){let{className:t,onClick:s,size:n}=e;return i.createElement(u.z,{className:"DeluxeTextInput__clear-button DeluxeTextInput__clear-button--".concat(n," ").concat(t),icon:i.createElement(h.Z,{importance:"tertiary"}),importance:"tertiary",onClick:s})}p.propTypes={className:c().string,onClick:c().func,size:c().oneOf(["normal","large"])},p.defaultProps={className:"",onClick:()=>{},size:"normal"};var m=s(36407);function g(e){let{className:t,size:s}=e;return i.createElement("div",{className:o()("icon-fx-loading DeluxeTextInput__loading",t,"DeluxeTextInput__loading--".concat(s))})}g.propTypes={className:c().string,size:c().oneOf(["normal","large"])},g.defaultProps={className:"",size:"normal"};class f extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_renderOverlaySide",(e=>{const t=i.Children.toArray(e).reduce(((e,t)=>{if(t){const{className:s=""}=t.props;e.push((0,i.cloneElement)(t,{className:"".concat(s," DeluxeTextInputOverlay__child")}))}return e}),[]);return t.length?i.createElement("div",{className:"DeluxeTextInputOverlay__overlay"},t):null})),(0,n.Z)(this,"_onBlur",(e=>{const{children:t}=this.props,s=i.Children.only(t),{props:{onBlur:n}={}}=s;window.clearTimeout(this._activeStateTimeout),this.setState({isFocused:!1}),n&&n(e)})),(0,n.Z)(this,"_onFocus",(e=>{const{children:t}=this.props,s=i.Children.only(t),{props:{onFocus:n}={}}=s;this.setState({isActive:!0,isFocused:!0},(()=>{this._activeStateTimeout=window.setTimeout((()=>{this.setState({isActive:!1})}),150)})),n&&n(e)})),this.state={isActive:!1,isFocused:!1}}componentWillUnmount(){window.clearTimeout(this._activeStateTimeout),this._activeStateTimeout=null}render(){const{children:e,elementsAfter:t,elementsBefore:s,error:n}=this.props,{isActive:r,isFocused:a}=this.state,l=i.Children.only(e),{props:{className:c,size:d}={}}=l,h=this._renderOverlaySide(s),u=this._renderOverlaySide(t);return i.createElement("div",{className:o()("DeluxeTextInputOverlay",{"DeluxeTextInputOverlay--active":r,["DeluxeTextInputOverlay--error".concat(a?"--focus":"")]:n,"DeluxeTextInputOverlay--focus":a,"DeluxeTextInputOverlay--large":"large"===d})},h,(0,i.cloneElement)(l,{className:o()(c,"DeluxeTextInputOverlay__input",{"p-l-0":h,"p-r-0":u}),onBlur:this._onBlur,onFocus:this._onFocus}),u)}}f.propTypes={children:c().element.isRequired,elementsAfter:c().node,elementsBefore:c().node,error:c().oneOfType([c().string,c().bool])},f.defaultProps={elementsAfter:null,elementsBefore:null,error:!1};var y=s(32968),v=s(33067);class b extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onBlur",(e=>{const{onBlur:t}=this.props;try{(0,d.gn)()&&streets.service("tabsManager").onKeyboardLeave()}catch(s){console.error("[DeluxeTextInput] Failed to work around iOS keyboard blur issue",s)}this._isClearButtonMouseDown||t(e)})),(0,n.Z)(this,"_onClearClick",(()=>{const{onChange:e}=this.props;this._isClearButtonMouseDown=!1,e(""),this.focus()}))}blur(){this.input.blur()}focus(){this.input.focus()}getCursorPosition(){return this.input.getCursorPosition()}setCursorPosition(e){this.input.setCursorPosition(e)}render(){const{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:r,disabled:a,error:l,id:c,onChange:d,onFocus:h,onKeyPress:u,onMouseDown:p,padBottom:m,placeholder:g,readOnly:b,size:E,style:C,type:w,value:k}=this.props;return i.createElement("div",{className:o()("DeluxeTextInput",{[r]:r,"DeluxeTextInput--pad-bottom":m})},i.createElement(f,{elementsAfter:this._renderElementsAfter(),elementsBefore:this._renderElementsBefore(),error:l},i.createElement(y.o,{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:"DeluxeTextInput__TextInput",disabled:a,error:!1,id:c,onBlur:this._onBlur,onChange:d,onFocus:h,onKeyPress:u,onMouseDown:p,placeholder:g,readOnly:b,ref:e=>{this.input=e},size:E,style:C,type:w,value:k})),this._renderHint(),l&&"boolean"!=typeof l&&i.createElement(v.V,null,l))}_renderElementsAfter(){const{clearable:e,elementsAfter:t,helpLink:s,loading:n,size:r,value:a}=this.props,o=[];if(s&&o.push((0,i.cloneElement)(s,{key:"DeluxeTextInputHelpLink"})),n?o.push(i.createElement(g,{key:"DeluxeTextInputLoading",size:r})):e&&""!==a&&o.push(i.createElement(p,{key:"DeluxeTextInputClearButton",onClick:this._onClearClick,onMouseDown:this._onClearMouseDown,size:r})),o.length){const e=o.pop();o.push((0,i.cloneElement)(e,{className:"DeluxeTextInput__child--pad-right"}))}return t&&(Array.isArray(t)?o.push(...t):o.push((0,i.cloneElement)(t,{key:"DeluxeTextInputAfter"}))),o}_renderElementsBefore(){const{elementsBefore:e}=this.props,t=[];return e&&(Array.isArray(e)?t.push(...e):t.push((0,i.cloneElement)(e,{key:"DeluxeTextInputBefore"}))),t}_renderHint(){const{hint:e}=this.props;return"string"==typeof e?i.createElement(m.Z,null,e):e}_onClearMouseDown(){this._isClearButtonMouseDown=!0}}b.propTypes={...y.o.propTypes,className:c().string,clearable:c().bool,elementsAfter:c().node,elementsBefore:c().node,error:c().oneOfType([c().string,c().bool]),helpLink:(0,r.componentWithName)("DeluxeTextInputHelpLink"),hint:c().oneOfType([c().string,(0,r.componentWithName)("DeluxeTextInputHint")]),loading:c().bool,onMouseDown:c().func,padBottom:c().bool},b.defaultProps={className:"",clearable:!1,elementsAfter:null,elementsBefore:null,error:void 0,helpLink:void 0,hint:void 0,loading:!1,onBlur:()=>{},onMouseDown:()=>{},padBottom:!1}},36407:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(32735),i=s(60216),r=s.n(i);function a(e){let{children:t}=e;return t?n.createElement("div",{className:"DeluxeTextInput__meta DeluxeTextInput__meta--hint"},t):null}a.propTypes={children:r().node},a.defaultProps={children:null}},32968:(e,t,s)=>{"use strict";s.d(t,{o:()=>d});var n=s(47169),i=s(32735),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(33067);class d extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onChange",(e=>{const{onChange:t}=this.props;t(e.target.value)}))}componentDidMount(){const{autoFocus:e,value:t}=this.props;e&&t&&this.focus()}blur(){this.fxInput.blur()}focus(){const{value:e}=this.props;this.fxInput.focus(),e&&this.setCursorPosition(e.length)}getCursorPosition(){return this.fxInput.selectionStart}setCursorPosition(e){this.fxInput.setSelectionRange(e,e)}render(){const{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:r,disabled:o,error:l,id:d,onBlur:h,onFocus:u,onKeyPress:p,onMouseDown:m,readOnly:g,placeholder:f,size:y,style:v,type:b,value:E}=this.props;return i.createElement(i.Fragment,null,i.createElement("input",{autoCapitalize:e,autoComplete:t,autoCorrect:s,autoFocus:n,className:a()("TextInput",r,{"TextInput--error":l,"TextInput--large":"large"===y}),disabled:o,id:d,onBlur:h,onChange:this._onChange,onFocus:u,onKeyPress:p,onMouseDown:m,placeholder:f,readOnly:g,ref:e=>{this.fxInput=e},style:v,type:b,value:E}),l&&"boolean"!=typeof l&&i.createElement(c.V,null,l))}}d.propTypes={autoCapitalize:l().string,autoComplete:l().string,autoCorrect:l().string,autoFocus:l().bool,className:l().string,disabled:l().bool,error:l().oneOfType([l().string,l().bool]),id:l().string,onBlur:l().func,onChange:l().func,onFocus:l().func,onKeyPress:l().func,onMouseDown:l().func,placeholder:l().string,readOnly:l().bool,size:l().oneOf(["normal","large"]),style:l().object,type:l().oneOf(["email","number","password","search","tel","text","url"]),value:l().string},d.defaultProps={autoCapitalize:"sentences",autoComplete:void 0,autoCorrect:"on",autoFocus:!1,className:"",disabled:!1,error:void 0,id:void 0,onBlur:()=>{},onChange:()=>{},onFocus:()=>{},onKeyPress:void 0,onMouseDown:()=>{},placeholder:void 0,readOnly:!1,size:"normal",style:void 0,type:"text",value:""}},33067:(e,t,s)=>{"use strict";s.d(t,{V:()=>l});var n=s(32735),i=s(60216),r=s.n(i),a=s(24818),o=s(7837);function l(e){let{children:t}=e;return n.createElement(o.j,{className:"m-y-t",color:"danger",iconComponent:a.Z,fontSize:"base"},t)}l.propTypes={children:r().node},l.defaultProps={children:null}},70542:(e,t,s)=>{"use strict";s.d(t,{u:()=>l});var n=s(32735),i=s(40841),r=s.n(i),a=s(60216),o=s.n(a);function l(e){let t,s,{url:i,className:a,alt:o}=e;return i?t={backgroundImage:"url(".concat(i,")")}:s=o&&o.length?o.charAt(0):"",n.createElement("div",{className:r()("visual",{placeholder:!i,[a]:a}),title:o,style:t},s)}l.propTypes={alt:o().string,className:o().string,url:o().string},l.defaultProps={alt:void 0,className:void 0,url:null}},8353:(e,t,s)=>{"use strict";s.d(t,{c:()=>Rs});var n=s(47169),i=s(32735),r=s(12788),a=s(79442),o=s(1913),l=s(40841),c=s.n(l),d=s(60216),h=s.n(d),u=s(38916),p=s(53670),m=s(70917);class g extends i.Component{constructor(e){super(e),this._parent=i.createRef(),this._target=i.createRef()}componentDidMount(){this.analytics=streets.service("analytics"),this.router=streets.service("router"),this.integrations=streets.service("integrations")}componentWillUnmount(){this.analytics=null,this.router=null,this.integrations=null}render(){const{buttonClassName:e,className:t,entryId:s,imageTitle:n,imageUrl:r,isConnected:a,isOpen:o,onClick:l,onClose:c}=this.props;return i.createElement("div",{className:t,ref:this._parent},i.createElement(p.z,{className:e,elementRef:this._target,onClick:()=>{streets.hasProAccess()?a?l():this.integrations.connect(u.bK.evernote):(this.analytics.trackPageview("pro.v2/trigger.evernote"),this.router.loadPage("pro/evernote"))}}),o&&i.createElement(m.$,{entryId:s,imageTitle:n,imageURL:r,onCloseMenu:c,offsetParent:this._parent.current,target:this._target.current}))}}g.propTypes={buttonClassName:h().string,className:h().string,entryId:h().string.isRequired,imageTitle:h().string,imageUrl:h().string.isRequired,isConnected:h().bool.isRequired,isOpen:h().bool.isRequired,onClick:h().func.isRequired,onClose:h().func.isRequired},g.defaultProps={buttonClassName:void 0,className:void 0,imageTitle:void 0};var f=s(85131);class y extends i.Component{constructor(e){super(e),this._parent=i.createRef(),this._target=i.createRef()}componentDidMount(){this.router=streets.service("router"),this.integrations=streets.service("integrations")}componentWillUnmount(){this.router=null,this.integrations=null}render(){const{buttonClassName:e,className:t,entryId:s,imageTitle:n,imageUrl:r,isConnected:a,isOpen:o,onClick:l,onClose:c}=this.props;return i.createElement("div",{className:t,ref:this._parent},i.createElement(p.z,{className:e,elementRef:this._target,onClick:()=>{streets.hasProAccess()?a?l():this.integrations.connect(u.bK.oneNote):this.router.loadPage("pro/onenote")}}),o&&i.createElement(f.H,{entryId:s,imageTitle:n,imageUrl:r,onCloseMenu:c,offsetParent:this._parent.current,target:this._target.current}))}}y.propTypes={buttonClassName:h().string,className:h().string,entryId:h().string.isRequired,imageTitle:h().string,imageUrl:h().string.isRequired,isConnected:h().bool.isRequired,isOpen:h().bool.isRequired,onClick:h().func.isRequired,onClose:h().func.isRequired},y.defaultProps={buttonClassName:void 0,className:void 0,imageTitle:void 0};class v extends i.Component{constructor(e){super(e),this.state={isEvernoteConnected:!1,isEvernoteOpen:!1,isOneNoteConnected:!1,isOneNoteOpen:!1}}componentDidMount(){this.integrations=streets.service("integrations"),this.pinterest=streets.service("pinterest"),this.integrations.registerObserver(this),this._updateConnections()}componentWillUnmount(){this.integrations.unregisterObserver(this),this.integrations=null,this.pinterest=null}onIntegrationConnectionChanged(){this._updateConnections(!0)}render(){const{isEvernoteConnected:e,isEvernoteOpen:t,isOneNoteConnected:s,isOneNoteOpen:n}=this.state,{alternateLink:r,entryId:a,imageTitle:o,imageUrl:l}=this.props;return i.createElement("div",{className:c()("PinableImageActions",{"PinableImageActions--open":t||n})},i.createElement(p.z,{className:"PinableImageActions__action PinableImageActions__pinterest",onClick:()=>{this.pinterest.pinImage(l,{alternateLink:r,imageTitle:o})}}),i.createElement(g,{buttonClassName:"PinableImageActions__evernote",className:"PinableImageActions__action",entryId:a,imageTitle:o,imageUrl:l,isConnected:e,isOpen:t,onClick:()=>{this.setState((e=>({isEvernoteOpen:!e.isEvernoteOpen})))},onClose:()=>{this.setState({isEvernoteOpen:!1})}}),i.createElement(y,{buttonClassName:"PinableImageActions__one-note",className:"PinableImageActions__action",entryId:a,imageTitle:o,imageUrl:l,isConnected:s,isOpen:n,onClick:()=>{this.setState((e=>({isOneNoteOpen:!e.isOneNoteOpen})))},onClose:()=>{this.setState({isOneNoteOpen:!1})}}))}async _updateConnections(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,s]=await Promise.all([this.integrations.askIsConnected(u.bK.evernote),this.integrations.askIsConnected(u.bK.oneNote)]);this.setState((n=>({isEvernoteConnected:t,isEvernoteOpen:e&&!n.isEvernoteConnected&&t,isOneNoteConnected:s,isOneNoteOpen:e&&!n.isOneNoteConnected&&s})))}}v.propTypes={alternateLink:h().string,entryId:h().string.isRequired,imageTitle:h().string,imageUrl:h().string.isRequired},v.defaultProps={alternateLink:void 0,imageTitle:void 0};var b=s(96968),E=s(87753);function C(e,t){return new Promise((s=>{if(!e.src&&!t)return void s(!1);let n=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.removeEventListener("load",n),e.removeEventListener("error",i),i=null,n=null,s(!!t)},i=function(){n(!1)};e.addEventListener("load",n),e.addEventListener("error",i),t&&e.src!==t&&(e.src=t)}))}function w(e,t,s,n){if(e&&e.parentNode)try{const i=n.maxWidth-2;null!=e.naturalWidth&&e.naturalWidth>t&&(t=e.naturalWidth,s=e.naturalHeight),"wp-smiley"==e.className&&e.src.indexOf("emoji")>-1||e.src.indexOf("core/emoji")>-1?(e.setAttribute("data-image-enhancer","WordPress smiley"),e.style.width="1em",e.style.height="1em",e.style.display="inline-block",e.style.verticalAlign="middle",e.style.borderRadius="0px",e.style.boxShadow="none",e.className+=" emoji"):e.src.indexOf("latex.php")>-1||"latext"==e.className?(e.setAttribute("data-image-enhancer","Latex"),e.style.display="inline",e.style.margin="0px",e.style.border="0px",e.style.borderRadius="0px",e.style.boxShadow="none",e.style.verticalAlign="middle"):null==t||null==s||isNaN(t)||isNaN(s)?e.setAttribute("data-image-enhancer","unknown case"):0==t&&0==s?(e.setAttribute("data-image-enhancer","0 x 0"),e.style.maxWidth=i,e.style.display="block",e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.borderRadius="3px",e.style.border="1px solid #EFEFEF"):t<42||s<42?(e.setAttribute("data-image-enhancer","less than 42 pixel"),e.parentNode.removeChild(e)):t>i?(e.setAttribute("data-image-enhancer","larger than "+i),e.style.width=i+"px",e.style.height=Math.floor(s*i/t),e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.display="block",e.style.borderRadius="3px",e.style.border="1px solid #EFEFEF","yes"==n.pinImage&&k(e)):t>i/3?(e.setAttribute("data-image-enhancer","larger than third of "+i),e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.marginLeft="0rem",e.style.marginBottom="0rem",e.style.display="block",e.style.borderRadius="3px",e.style.border="1px solid #EFEFEF",e.style.cssFloat="none","yes"==n.pinImage&&t>i/2&&k(e)):(e.setAttribute("data-image-enhancer","float because smaller: "+t+" versus "+s),e.style.cssFloat="right",e.style.marginLeft="1rem",e.style.marginBottom="1rem",e.style.marginTop="0rem",e.style.marginBottom="1rem",e.style.display="inline")}catch(i){console.log("[html] failed to clean image:"+i.name+" -- "+i.message)}}function k(e){const{src:t}=e;t.includes("/ad/")||t.includes("doubleclick")||(e.className="pinable")}async function _(e,t){if(!e)return;if(e.className&&e.className.indexOf&&e.className.indexOf("webfeeds")>-1)return;if("yes"==e.getAttribute("data-clean"))return;const s=t.maxWidth;if(null!=e.removeAttribute){let s,n;1==t.rtl&&(s=e.style.direction,n=e.style.textAlign),e.removeAttribute("style"),e.removeAttribute("align"),1==t.rtl&&(e.style.direction=s,e.style.textAlign=n)}let n=!1;if("FONT"==e.tagName)e.removeAttribute("size"),e.removeAttribute("color"),e.removeAttribute("face");else if("IMG"==e.tagName){let n=parseInt(e.getAttribute("width")),i=parseInt(e.getAttribute("height"));(!n||isNaN(n))&&e.naturalWidth>0&&(n=parseInt(e.naturalWidth)),(!i||isNaN(i))&&e.naturalHeight>0&&(i=parseInt(e.naturalHeight)),e.removeAttribute("hspace"),e.removeAttribute("width"),e.removeAttribute("height"),t.isInTable||(e.style.maxWidth=s+"px");let r=!1;!isNaN(n)&&n>0&&!isNaN(i)&&i>0&&(w(e,n,i,t),r=!0);const a=await async function(e,t){if(e.naturalWidth>0&&e.naturalHeight>0)return!0;let s=await C(e);if(!s&&t.allowNonSecureImages&&e.parentNode){const t=e.getAttribute("data-original");t&&t!==e.src&&(s=await C(e,t))}return s}(e,t);a?!r&&n<s/3&&w(e,e.naturalWidth||e.width,e.naturalHeight||e.height,t):e.parentNode&&e.parentNode.removeChild(e)}else if("A"==e.tagName)try{e.target="_blank"}catch(i){console.log("[html] clean up failed:"+i.name+" -- "+i.message)}else if("TABLE"==e.tagName||"TR"==e.tagName){n=!0;try{const t=parseInt(e.getAttribute("width"));null!=t&&!isNaN(t)&&t>s&&(e.width=s)}catch(i){console.log("[html] clean up failed:"+i.name+" -- "+i.message)}}else if("CENTER"==e.tagName)try{e.style.textAlign="left"}catch(i){console.log("[html] clean up failed:"+i.name+" -- "+i.message)}else if("IFRAME"==e.tagName)try{if(e.src.indexOf("youtube.com")>-1)!function(e,t){let s=e.width,n=e.height;(""==s||null==s||isNaN(s)||""==n||null==n||isNaN(n))&&(s=647,n=394);const i=t.maxWidth;e.width=i+"px",e.height=Math.floor(n*i/s)+"px",e.style.marginTop="3rem",e.style.marginBottom="3rem",e.style.display="block"}(e,t);else{const t=e.width,n=e.height;null!=t&&null!=n&&n>0&&t>s&&(e.width=s+"px",e.height=Math.floor(n/t*s)+"px")}}catch(i){console.log("[html] clean up failed:"+i.name+" -- "+i.message)}if(e.hasChildNodes()){const s=e.childNodes;for(let e=0;e<s.length;e++)1==s[e].nodeType&&_(s[e],{...t,isInTable:t.isInTable||n})}}const M=150;function S(e,t){if(!e)return;e.style.width&&(""+e.style.width).startsWith("calc")&&(e.style.width=null);const{maxWidth:s=580,removeLeftRightSpacing:n=!1}=t;if(e.style&&(e.style.color=null,e.style.backgroundColor=null,e.style.fontFamily=null,e.style.maxWidth=null),"FONT"==e.tagName?(e.removeAttribute("size"),e.removeAttribute("color"),e.removeAttribute("face")):"A"==e.tagName?(e.target="_blank",e.style.textDecoration="underline",e.style.boxShadow="",e.style.border="0px"):"TABLE"==e.tagName||"TR"==e.tagName||"TD"==e.tagName?(I(e,{maxWidth:s,removeLeftRightSpacing:n}),e.style.backgroundImage="none",e.style.border=0):"DIV"==e.tagName?I(e,{maxWidth:s}):"HR"==e.tagName?(e.style.backgroundImage="none",e.style.height="1px"):"IMG"==e.tagName?N(e,{maxWidth:s}):"H1"!=e.tagName&&"H2"!=e.tagName&&"H3"!=e.tagName&&"H4"!=e.tagName||(e.style.borderWidth=0,e.style.fontSize=null,e.style.fontWeight=null,e.style.lineHeight=null),n&&(e.style.paddingLeft&&(e.style.paddingLeft=0),e.style.paddingRight&&(e.style.paddingRight=0),e.style.marginLeft&&(e.style.marginLeft=0),e.style.marginRight&&(e.style.marginRight=0)),e.hasChildNodes()){const s=e.childNodes;for(let e=0;e<s.length;e++)1==s[e].nodeType&&S(s[e],t)}}function I(e){let{maxWidth:t,removeLeftRightSpacing:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=T(e);s&&null!=n&&n<=50&&(e.style.display="none",e.setAttribute("data-explanation","removing padding columns")),null!=n&&!isNaN(n)&&n>t-M&&(e.width=t,e.style.width="".concat(t,"px"))}catch(n){}}function T(e){try{let t=null;const s=e.getAttribute("width");return s&&-1===s.indexOf("%")&&(t=parseInt(e.getAttribute("width"))),t&&!isNaN(t)||(t=parseInt(e.style.width)),isNaN(t)?null:t}catch(t){return null}}function N(e){let{maxWidth:t,padding:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e.getAttribute("width"),i=parseInt(n),r=e.getAttribute("height"),a=parseInt(r);n&&isNaN(i)||!e.style.width||(n=e.style.width,i=parseInt(n)),r&&isNaN(a)||!e.style.height||(r=e.style.height,a=parseInt(r));let o=t;if(s){const{left:n}=e.getBoundingClientRect();o=t-2*(n-s)}if(n&&(!isNaN(i)&&i>t-M||"auto"===n))if(e.width=o,e.style.width="".concat(o,"px"),"auto"===r)e.height="auto",e.style.height="auto";else if(r&&!isNaN(a)&&n&&!isNaN(i)){const t=Math.floor(a*o/i);e.height=t,e.style.height="".concat(t,"px")}e.style.maxWidth="".concat(o,"px")}catch(n){}}var L=s(57855),P=s(3171),D=s(87561),A=s(44694),O=s(11459),x=s(48942),R=s(3167),j=s(83168);class F extends j.y{setPart(e){if(null==e)throw new Error("setPart(...) is being called with an null HTML element. hint: "+this.display);try{this.part=e}catch(t){throw new Error("Failed to assign _controllerId to HTML element.")}}display(){throw new Error("display() contract not implemented")}unload(){}destroy(){try{if("destroyed"==this.state)return void console.warn("destroy(...) is called multiple times");null!=this.part&&(this.part=null),this.removeAllObservers()}catch(e){console.error("problem during destroy ",e)}this.state="destroyed",super.destroy()}isDestroyed(){return"destroyed"==this.state}}var U=s(91891);class z{constructor(e,t){e?(this._id=e,this._props=t||{},this._querySelector=U.o.querySelector(e),this._wrapper=document.createElement("div"),this._wrapper.className="fx"):console.warn("[DotController] The `id` is required.")}destroy(){r.unmountComponentAtNode(this._wrapper);const{parentNode:e}=this._wrapper;e&&e.removeChild(this._wrapper),this._wrapper=null}render(){const e=document.querySelector(this._querySelector);e?(this._wrapper.parentNode!==e&&e.appendChild(this._wrapper),r.render(i.createElement(U.o,Object.assign({},this._props,{id:this._id,offsetParent:"data-dot"})),this._wrapper)):r.unmountComponentAtNode(this._wrapper)}}var Z=s(2463),B=s.n(Z),H=(s(97816),s(22885),s(95823),s(37007)),Y=s.n(H),W=s(77817),q=s(44323),V=s(11505);function Q(e){let{annotation:t,currentUser:s,onBufferClick:n,onDeleteClick:r}=e;const a=s&&s.id;return i.createElement("div",{className:"TextHighlight__menu list-button"},n&&i.createElement(p.z,{icon:i.createElement(q.Z,{importance:"secondary"}),onClick:n,title:"Share to Buffer",importance:"tertiary"}),a&&t.author===a&&[n&&i.createElement("div",{className:"button-divider",key:"divider"}),i.createElement(p.z,{icon:i.createElement(V.Z,{color:"danger"}),onClick:r,title:"Delete Highlight",importance:"tertiary"})])}Q.propTypes={annotation:h().object.isRequired,currentUser:h().object,onBufferClick:h().func.isRequired,onDeleteClick:h().func.isRequired},Q.defaultProps={currentUser:void 0};var G=s(74296),K=s(86451),J=s(43940);function X(e){let{onFeedbackClick:t}=e;return i.createElement("div",{className:"TextHighlight__menu list-button"},i.createElement(J.Q,{href:"https://blog.feedly.com/leo-and-summarization/",icon:i.createElement(G.Z,{importance:"secondary"}),importance:"tertiary",newWindow:!0,title:"Learn more about Leo Summaries"}),i.createElement("div",{className:"button-divider",key:"divider"}),i.createElement(p.z,{icon:i.createElement(K.Z,{importance:"secondary"}),importance:"tertiary",onClick:t,title:"Wrong sentence summarized"}))}X.propTypes={onFeedbackClick:h().func.isRequired};var $=s(46291),ee=s(81445),te=s(19495),se=s(74221),ne=s(65698);const ie="TextHighlight--example",re="TextHighlight",ae="TextHighlight--leo",oe=new RegExp("(^|\\s+)"+re+"($|\\s+)"),le=new RegExp("(^|\\s+)"+ae+"($|\\s+)"),ce=["a","b","em","span","strong"],de="highlight",he="leo";class ue{constructor(e,t){(0,n.Z)(this,"_hidePopover",(()=>{r.unmountComponentAtNode(this._popupWrapper)})),(0,n.Z)(this,"_onClickHighlight",(e=>{var t;if(null!==(t=e.target.offsetParent)&&void 0!==t&&t.classList.contains("InlineEntity"))return;const s=this._getHighlightNodeAncestor(e.target),n=this._getAnnotationForNode(s),i=le.test(s.className);this._showMenu(n,s,i)})),(0,n.Z)(this,"_onMouseOverArrow",(e=>{const t=this._getHighlightNodeAncestor(e.target),s=le.test(t.className),n=this._getAnnotationForNode(t);this._showMenu(n,e.target,s)})),(0,n.Z)(this,"_onLeoSummaryFeedbackClick",(()=>{try{streets.service("leo").askSaveLeoSummaryFeedback(this._entry.getId()),this.commonsigns.showMessage("Feedback collected")}catch(e){console.error("Failed to submit feedback",e)}})),e?(this._entry=e,this._entryId=e.id,this._parentElement=t,this._iconWrappers=[],this._snapshotPromises=[],this.buffer=streets.service("buffer"),this.commonsigns=streets.service("commonsigns"),this.profile=streets.service("profile"),this.reader=streets.service("reader"),this.reader.registerObserver(this),this._user=this.profile.getUserInfo(),Y().initialized||Y().init(),this._highlighter=Y().createHighlighter(),this._highlighter.addClassApplier(Y().createClassApplier(re,{elementProperties:{onclick:this._onClickHighlight},tagNames:ce})),this._previewHighlighter=Y().createHighlighter(),this._previewHighlighter.addClassApplier(Y().createClassApplier(ie,{tagNames:ce})),this._leoHighlighter=Y().createHighlighter(),this._leoHighlighter.addClassApplier(Y().createClassApplier(ae,{elementProperties:{onclick:this._onClickHighlight},tagNames:ce}))):console.warn("[HighlightController] The `entry` and `parentElement` are required.")}destroy(){this.reader.unregisterObserver(this),this._iconWrappers.forEach((e=>{r.unmountComponentAtNode(e),e.parentNode.removeChild(e)})),this.buffer=null,this.commonsigns=null,this.profile=null,this.reader=null,this._entryId=null,this._highlighter=null,this._highlightIdToAnnotation=null,this._iconWrappers=null,this._leoHighlighter=null,this._user=null}onEntryAnnotationsChanged(e){e===this._entryId&&this.render()}async add(){const e=Y().getSelection(),t=e.getBookmark(this._parentElement).rangeBookmarks[0];if(!this._entryId||e.isCollapsed||!t||t.start===t.end)return;const s=Math.max(t.start,t.end),n=Math.min(t.start,t.end);await this.reader.askAddAnnotation(this._entryId,{comment:"",highlight:{end:s,start:n,text:e.toString(),version:1}}),e.removeAllRanges(),e.detach(),await this.render()}async delete(e){e&&this._entryId&&await this.reader.askDeleteAnnotation(this._entryId,e)}isHighlightable(){const e=Y().getSelection(),t=e.getBookmark(this._parentElement).rangeBookmarks[0],s=this._highlighter.getIntersectingHighlights(e.getAllRanges());return t.start!==t.end&&!s.length}preview(e,t){let{iconComponent:s,showTooltip:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;const a=B()(e),o=new RegExp(a.split(/ +/g).join("[  ]*")),l=Y().createRange(),c=Y().createRange();if(l.selectNodeContents(this._parentElement),c.findText(o,{withinRange:l}),c.collapsed||t===he&&[...this._highlighter.highlights,...this._leoHighlighter.highlights].some((e=>c.intersectsRange(e.getRange()))))return null;let d;if([d]=t===he?this._leoHighlighter.highlightRanges(ae,[c],{containerElement:this._parentElement}):this._previewHighlighter.highlightRanges(ie,[c],{containerElement:this._parentElement}),!d)return null;const h=d.getHighlightElements();if(t===he){const e=null!=s?s:ee.Z,t=document.createElement("span");t.className="fx",r.render(i.createElement(e,{className:"TextHighlight__icon-before",importance:"tertiary",onMouseEnter:n?this._onMouseOverArrow:void 0}),t);h[h.length-1].appendChild(t),this._iconWrappers.push(t)}return this._addEntityClassName(h,t),d}async render(){const e=await this.reader.askLookupEntry(this._entryId);if(!e||!this._entryId)return;this._iconWrappers.forEach((e=>{r.unmountComponentAtNode(e),e.parentNode.removeChild(e)})),this._iconWrappers=[];try{this._highlighter.removeAllHighlights(),this._leoHighlighter.removeAllHighlights()}catch(s){}this._highlightIdToAnnotation={};e.listAnnotations().forEach((e=>{const{highlight:t}=e;if(t){const s=this._highlightBookmark({containerNode:this._parentElement,end:t.end,start:t.start},e.authorUser);s&&(this._highlightIdToAnnotation[s]=e)}}));const t=e.getFeedId();if(!(0,se.a8)(t)&&"yes"===streets.service("preferences").getPreference(R.oH)){const t=e.getAllEntrySearchTermsPartIds();e.listCommonTopics().forEach((e=>{var s;null!==(s=e.mentions)&&void 0!==s&&s.length&&t.has(e.id)&&e.mentions.forEach((t=>{this.preview(t.text,he,{iconComponent:(0,ne.mm)(e),showTooltip:!1})}))}));const s=e.getLeoSummarySentences();s.length&&s.forEach((e=>{this.preview(e,he)}))}}_addEntityClassName(e,t){e.forEach((e=>{const s=e.offsetParent;if(s&&s.classList){s.classList.contains("InlineEntity")&&s.classList.add(t===he?"InlineEntity--leo-highlighted":"InlineEntity--highlighted")}}))}_getHighlightNodeAncestor(e){for(;e;){if(oe.test(e.className)||le.test(e.className))return e;e=e.parentNode}return null}_getAnnotationForNode(e){const t=this._getHighlightNodeAncestor(e);if(!t)return null;const s=this._highlighter.getHighlightForElement(t);return this._highlightIdToAnnotation[s&&s.id]||null}_highlightBookmark(e,t){const s=Y().createRange();if(s.moveToBookmark(e),s.collapsed)return null;const n=this._highlighter.highlightRanges(re,[s],{containerElement:this._parentElement})[0],a=document.createElement("span"),o=t?t.name||t.email:"";a.className="fx";const l=t.userId&&streets.hasProAccess();r.render(i.createElement("span",null,i.createElement(W.q,{className:"TextHighlight__user-picture",alt:o,url:t&&t.picture,title:o}),l&&i.createElement(te.Z,{className:"TextHighlight__down-arrow",importance:"tertiary",onMouseEnter:this._onMouseOverArrow})),a),this._iconWrappers.push(a);const c=n.getHighlightElements();return c[c.length-1].appendChild(a),this._addEntityClassName(c),n.id}_showMenu(e,t,s){if(!e&&!s||!t||!this.buffer&&this._user&&e&&e.author!==this._user.id)return;let n;s||(n=e.id,this._snapshotPromises[n]||(this._snapshotPromises[n]=this.reader.askSnapshotAnnotation(n))),this._popupWrapper&&this._popupWrapper.parentNode||(this._popupWrapper=this._parentElement.parentNode.appendChild(document.createElement("div")),this._popupWrapper.className="fx",this._popupWrapper.style.position="relative"),r.render(i.createElement($.J,{caret:!0,closeOnClick:!0,offsetParent:this._popupWrapper,onClose:this._hidePopover,position:"top",target:t},s?i.createElement(X,{onFeedbackClick:this._onLeoSummaryFeedbackClick}):i.createElement(Q,{annotation:e,currentUser:this._user,onDeleteClick:()=>{this.delete(n)},onBufferClick:()=>{this._shareToBuffer(n)}})),this._popupWrapper)}_shareToBuffer(e){this.buffer&&this._snapshotPromises[e].then((e=>this.buffer.askShareEntry(this._entry.getId(),e)))}}var pe=s(79199),me=s(81197),ge=s(44002),fe=s(66772),ye=s(88591),ve=s(8629),be=s(89521),Ee=s(14971),Ce=s(94820),we=s(50240),ke=s(94773);const _e=(0,ke.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10 1.643a8.357 8.357 0 1 0 0 16.714 8.357 8.357 0 0 0 0-16.714Zm0 1a7.357 7.357 0 1 1 0 14.714 7.357 7.357 0 0 1 0-14.714Z"}),i.createElement("path",{d:"M2.644 6.578a.5.5 0 0 1 .62.161l.046.078 4.282 9.094 1.92-4.588.02-.069a.5.5 0 0 1 .378-.317l.1-.008a.5.5 0 0 1 .489.61l-.027.083-2.392 5.714a.5.5 0 0 1-.864.103l-.05-.083L2.406 7.243a.5.5 0 0 1 .24-.665Z"}),i.createElement("path",{d:"M13.838 5.565c.325-1.039 1.154-1.495 2.152-1.016 1.285.617 1.33 2.096.357 4.237l-.108.232-3.274 8.308a.5.5 0 0 1-.888.084l-.042-.084-3.929-10a.5.5 0 0 1 .89-.447l.04.081 3.464 8.817 1.477-3.747.003-.01.03-.085c.352-.77.378-1.746.056-2.938l-.08-.28c-.35-1.144-.408-2.32-.148-3.152Zm1.72-.114c-.406-.195-.61-.082-.765.412-.178.568-.152 1.436.08 2.32l.07.242c.062.205.116.406.162.603l.02.092.198-.5c.852-1.788.886-2.775.31-3.128l-.076-.041Z"}),i.createElement("path",{d:"M10 6.643a.5.5 0 0 1 .09.992l-.09.008H7.857a.5.5 0 0 1-.09-.992l.09-.008H10ZM4.286 6.643a.5.5 0 0 1 .09.992l-.09.008H2.857a.5.5 0 0 1-.09-.992l.09-.008h1.429Z"})))}));var Me=s(80716),Se=s(25035),Ie=s(51205),Te=s(7761),Ne=s(855),Le=s(48689);class Pe extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onEvernoteClick",(()=>{const{entry:e,rawSelection:t}=this.props;this.evernote.askClipEntry(e.getId(),{selection:t})})),(0,n.Z)(this,"_onFeedlySearchClick",(()=>{const{selection:e}=this.props,t=e.trim();0!==t.length&&(streets.getUserId()?this.slider.addInYourFeedlySearchSlide({text:t,type:"customKeyword"}):this.commonsigns.showMessage("Upgrade to search in Feedly"))})),(0,n.Z)(this,"_onHighlightClick",(()=>{const{highlightController:e}=this.props;streets.hasProAccess()?e.add():this.router.loadPage("pro/highlight")})),(0,n.Z)(this,"_onMuteClick",(()=>{const{entry:e,selection:t}=this.props,s=t.trim();0!==s.length&&(streets.isProLegacyPlan()||streets.hasProPlusAccess()?this.slider.addSlide(me.K,{initialFilter:{streamId:e.suggestViaFeedId()||void 0},initialPhrase:s}):this.router.loadPage("pro/filters"))})),(0,n.Z)(this,"_onOneNoteClick",(()=>{const{entry:e,rawSelection:t,target:s}=this.props;this.feedly.askPickOneNoteSection(e.getId(),s,{selection:t})})),(0,n.Z)(this,"_onTrackClick",(()=>{const{entry:e,selection:t}=this.props;let s=t.trim();if(0===s.length)return;s.indexOf(" ")>-1&&-1===s.indexOf('"')&&(s='"'.concat(s,'"'));const n=e.suggestViaFeedId();this.slider.addSlide(ge.q,{pageInfo:{beyondSearchOptions:{bundles:(0,Ne.Pg)(n),layers:[{parts:[{text:s}],type:Te.ur.matches}]}}})})),(0,n.Z)(this,"_onTweetClick",(()=>{const{entry:e,selection:t}=this.props,s=e.getDefaultTagOrCategory(),n=[];"no"!==this.preferences.getPreference("twitterHashtags")&&(s&&n.push(encodeURIComponent(s.slice(1))),n.push("feedly")),(0,Le.zU)(t,e.getBestAlternateLink(),n)})),(0,n.Z)(this,"_onWordpressClick",(()=>{const{entry:e,selection:t}=this.props;if(!streets.hasProAccess())return void this.router.loadPage("pro/wordpress");const s=this.preferences.getPreference("wordpressUrlPrefix");if(!s)return void streets.service("commonsigns").showMessage("Missing WordPress URL. See Preferences.");if(!s.startsWith("http:")&&!s.startsWith("https:"))return void streets.service("commonsigns").showMessage("Wordpress URL should start with http or https");let n=s;n.includes("wp-admin/press-this.php")?n.endsWith("?")||(n+="?"):(n.endsWith("/")||(n+="/"),n+="wp-admin/press-this.php?"),n.endsWith("/")||(n+="/wp-admin/press-this.php?"),n+="u="+encodeURIComponent(e.getBestAlternateLink()),n+="&t="+encodeURIComponent(e.getCleanTitle());const i=t.trim();n+="&s="+encodeURIComponent(i);const r=e.suggestVisual();r&&(n+="&i="+encodeURIComponent(r));const{screen:a}=window,o=a.height,l=a.width,c=Math.round(l/2-400);let d=0;o>600&&(d=Math.round(o/2-300)),window.open(n,"_blank","left=".concat(c,",top=").concat(d,",width=").concat(800,",height=").concat(600,",personalbar=0,toolbar=0,scrollbars=1,resizable=1"))}))}componentDidMount(){this.commonsigns=streets.service("commonsigns"),this.evernote=streets.service("evernote"),this.feedly=streets.service("feedly"),this.preferences=streets.service("preferences"),this.router=streets.service("router"),this.slider=streets.service("slider")}componentWillUnmount(){this.commonsigns=null,this.evernote=null,this.feedly=null,this.preferences=null,this.router=null,this.slider=null}render(){const{highlightController:e,isLeoEnabled:t,location:s,selection:n}=this.props,r=n.replace("&nbsp;"," ");return i.createElement("div",{className:"fx popover",style:{top:s.top,left:s.left}},i.createElement(ye.v,null,e.isHighlightable()&&i.createElement(ve.s,{className:"item",onMouseDown:this._onHighlightClick},i.createElement(be.Z,null),"Highlight"),t&&i.createElement(ve.s,{className:"item",onClick:this._onTrackClick},i.createElement(ee.Z,null),"Track this Phrase"),i.createElement(ve.s,{className:"item",onClick:this._onMuteClick},i.createElement(Ee.Z,null),"Mute this Phrase"),i.createElement(ve.s,{className:"item",onClick:this._onFeedlySearchClick},i.createElement(Ce.Z,null),"Search Feedly"),i.createElement(ve.s,{className:"item",onClick:this._onTweetClick},i.createElement(we.Z,null),r.length>0?"Tweet (".concat(r.length," chars)"):"Tweet"),i.createElement(ve.s,{className:"item",onClick:this._onWordpressClick},i.createElement(_e,null),"Post to WordPress"),i.createElement(ve.s,{className:"item",onClick:this._onEvernoteClick},i.createElement(Me.Z,null),"Clip to Evernote"),i.createElement(ve.s,{className:"item",onClick:this._onOneNoteClick},i.createElement(Se.Z,null),"Save to OneNote"),i.createElement(fe.r,{className:"item",href:"http://www.google.com/search?q=".concat(encodeURIComponent(n)),newWindow:!0},i.createElement(Ie.Z,null),"Search Google")))}}Pe.propTypes={entry:pe.A.isRequired,highlightController:h().shape({add:h().func,isHighlightable:h().func}).isRequired,isLeoEnabled:h().bool,location:h().shape({left:h().number,top:h().number}).isRequired,rawSelection:h().string.isRequired,selection:h().string.isRequired,target:h().instanceOf(Element).isRequired},Pe.defaultProps={isLeoEnabled:!1};var De=s(3015),Ae=s(47567),Oe=s(14163),xe=s(39970);class Re extends i.Component{render(){const{created:e,currentUserId:t,emailMentions:s,onEditClick:n,onDeleteClick:r,slackMentions:a,text:o,user:l={}}=this.props,c=s.map((e=>"+"+e)).concat(a),d=l.name||l.email,h=(0,Ae.Bq)(e);let u;if((0,Ae.Y3)(h)){const e=new Date,t=e.getHours()-h.getHours();if(t)u="".concat(t," hour").concat(t>1?"s":""," ago");else{const t=e.getMinutes()-h.getMinutes();u=t<=0?"Now":"".concat(t," minute").concat(t>1?"s":""," ago")}}else u=(0,Ae.UW)(h)?"Yesterday":(0,De.p6)(h,"MMM d, yyyy");return i.createElement("div",{className:"comment"},i.createElement(W.q,{className:"item-large",alt:d,url:l.picture}),i.createElement("div",{className:"comment-body"},r&&i.createElement(p.z,{importance:"tertiary",label:"Delete",onClick:r,size:"small"}),n&&i.createElement(p.z,{importance:"tertiary",label:"Edit",onClick:n,size:"small"}),d&&i.createElement(Oe.s,{small:!0},t&&t===l.userId?"You":d),i.createElement("div",{className:"item-meta"},u),i.createElement("div",{className:"item-description"},o&&o.split("\n").map(((e,t)=>e?i.createElement(xe.L,{key:e,text:e,wordClassName:"comment-mention",words:c}):i.createElement("br",{key:t}))))))}}Re.propTypes={created:h().number.isRequired,currentUserId:h().string,emailMentions:h().arrayOf(h().string),onEditClick:h().func,onDeleteClick:h().func,slackMentions:h().arrayOf(h().string),text:h().string,user:h().shape({name:h().string.isRequired,email:h().string,picture:h().string,userId:h().string})},Re.defaultProps={currentUserId:void 0,emailMentions:[],onEditClick:void 0,onDeleteClick:void 0,slackMentions:[],text:"",user:void 0};var je=s(1651),Fe=s(65060),Ue=s(2772);class ze extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onEditClick",(e=>{this.setState({editAnnotationId:e})})),(0,n.Z)(this,"_onEditComplete",(()=>{this.setState({editAnnotationId:null})})),(0,n.Z)(this,"_onDeleteClick",(e=>{this.setState({deleteAnnotationId:e})})),(0,n.Z)(this,"_onDeleteConfirmClick",(()=>{this.setState({isDeleting:!0});const{entryId:e}=this.props,{deleteAnnotationId:t}=this.state;this.reader.askDeleteAnnotation(e,t).then(this._resetDeleteUI)})),(0,n.Z)(this,"_resetDeleteUI",(()=>{this.setState({isDeleting:!1,deleteAnnotationId:null})})),this.state={annotations:null,user:streets.service("profile").getUserInfo()}}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._updateAnnotations()}componentDidUpdate(e){e.entryId!==this.props.entryId&&this._updateAnnotations()}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryAnnotationsChanged(e){e===this.props.entryId&&this._updateAnnotations()}render(){const{user:e}=this.state,{entryId:t,readOnly:s}=this.props,n=!s&&streets.hasProAccess(),r=this._renderComments();return n||r&&0!==r.length?i.createElement("div",null,i.createElement(Ue.H2,{appearance:"h4"},"Insights"),i.createElement("div",{className:"list-comment"},r,n&&i.createElement(je.t,{entryId:t,user:e})),this._renderDeleteCommentModal()):null}_renderComments(){const e=[],{entryId:t,readOnly:s}=this.props,{annotations:n,editAnnotationId:r,user:a}=this.state,o=a.id,l=!s&&streets.hasProAccess();return n?(n.forEach((s=>{let n,c;s.highlight||(r===s.id?e.push(i.createElement(je.t,{key:s.id,annotationId:r,entryId:t,initialEmailMentions:s.emailMentions,initialSlackMentions:s.slackMentions,initialText:s.comment,onCancel:this._onEditComplete,onSubmit:this._onEditComplete,user:a})):(l&&s.author===o&&(n=()=>{this._onDeleteClick(s.id)},c=()=>{this._onEditClick(s.id)}),e.push(i.createElement(Re,{key:s.id,created:s.created,currentUserId:o,emailMentions:s.emailMentions,slackMentions:s.slackMentions,onDeleteClick:n,onEditClick:c,text:s.comment,user:s.authorUser}))))})),e):null}_renderDeleteCommentModal(){const{deleteAnnotationId:e,isDeleting:t}=this.state;return e?i.createElement(Fe.u,{onClose:this._resetDeleteUI,small:!0},i.createElement(Ue.H2,null,"Delete note?"),i.createElement("p",null,"Are you sure you want to delete this note? It will be permanently lost."),i.createElement(p.z,{autoFocus:!0,color:"danger",label:"Delete",loading:t,onClick:this._onDeleteConfirmClick}),i.createElement(p.z,{label:"Cancel",onClick:this._resetDeleteUI,importance:"secondary"})):null}_updateAnnotations(){const{entryId:e}=this.props;this.reader.askLookupEntry(e).then((e=>{this.reader&&this.setState({annotations:e&&e.listAnnotations()})}))}}ze.propTypes={entryId:h().string.isRequired,readOnly:h().bool},ze.defaultProps={readOnly:!1};var Ze=s(71263),Be=s(14956);const He=(0,ke.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M4.286 11.643a.5.5 0 0 1 .492.41l.008.09v5a.5.5 0 0 1-.992.09l-.008-.09v-5a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"M7.143 2.357c-1 0-1.8.146-2.418.393-.398.16-.656.331-.793.468a.5.5 0 0 0-.146.353v8.572a.5.5 0 0 0 .788.41l.065-.057c.042-.042.186-.138.457-.246.498-.199 1.171-.321 2.047-.321.701 0 1.23.124 2.194.491l1 .391c1.058.402 1.674.546 2.52.546 1 0 1.8-.145 2.418-.393.398-.16.656-.331.793-.468a.5.5 0 0 0 .146-.353V3.57a.5.5 0 0 0-.788-.409l-.065.056c-.042.042-.186.138-.457.246-.498.2-1.171.322-2.047.322-.701 0-1.23-.125-2.194-.492l-1-.391c-1.058-.402-1.674-.546-2.52-.546Zm0 1c.755 0 1.31.144 2.424.58l.247.099c1.396.558 2.067.75 3.043.75l.326-.006c.743-.024 1.366-.134 1.879-.309l.151-.056v7.474l-.029.017a2.714 2.714 0 0 1-.28.13c-.498.199-1.171.321-2.047.321-.755 0-1.31-.144-2.424-.58l-.247-.098c-1.396-.559-2.067-.75-3.043-.75l-.326.005c-.743.025-1.366.134-1.879.309l-.153.055V3.824l.03-.016c.072-.039.165-.083.281-.13.498-.198 1.171-.32 2.047-.32Z"})))}));var Ye=s(88709),We=s(77157),qe=s(85902),Ve=s(67085),Qe=s(23005),Ge=s(91343),Ke=s(93926),Je=s(41417),Xe=s(73564),$e=s(9990),et=s(44205);class tt extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{topics:null})}componentDidMount(){this.leo=streets.service("leo"),this.reader=streets.service("reader"),this._updateInfo()}componentWillUnmount(){this.leo=null,this.reader=null}render(){const{topics:e}=this.state,{entry:t}=this.props;return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},i.createElement(Ue.H2,{appearance:"h1"},t.getTitle()),e?this._renderTable():i.createElement(Qe.g,null)))}_renderTable(){const{topics:e}=this.state;return i.createElement(Ke._,{data:e,uniqueKey:"id"},i.createElement(Xe.h,{header:"Topic",cell:e=>{let{details:t,label:s}=e;return i.createElement(Je.a,null,i.createElement($e.H3,{className:"m-t-0 m-b-h",style:{display:"flex"}},i.createElement(Ve.Z,{importance:"secondary"}),s),t&&t.items&&i.createElement(i.Fragment,null,Object.keys(t.items).map((e=>i.createElement(Ge.A,{className:"m-r-2 m-b-h"},e,":"," ",t.items[e].map(((e,s)=>s===t.items.length-1?e:e+" | ")))))),t&&t.customTokens&&i.createElement(i.Fragment,null,Object.keys(t.customTokens).map((e=>i.createElement(Ge.A,{className:"m-r-2 m-b-h"},"Custom token:"," ",t.customTokens[e].map(((e,s)=>s===t.customTokens.length-1?e:e+" | ")))))))}}),i.createElement(Xe.h,{header:"Salience",cell:e=>{let{details:t}=e;return i.createElement(Je.a,null,!!t&&t.salienceLevel)}}),i.createElement(Xe.h,{header:"Score",cell:e=>{let{details:t}=e;return i.createElement(Je.a,null,!!t&&i.createElement(i.Fragment,null,i.createElement("div",null,Math.round(100*t.score)/100),t.threshold&&i.createElement(et.x,{className:"m-t-t",size:"smaller",tagName:"div"},"> ",t.threshold)))}}))}async _updateInfo(){const{entry:e}=this.props,t=await this.reader.askLookupRawEntryJson(e.getId()),s=await this.leo.askCommonTopicDebugInfo(t);this.setState({topics:s.predictions[0].topics})}}tt.propTypes={entry:h().shape({getId:h().func,getTitle:h().func}).isRequired};var st=s(16101),nt=s(37638);class it extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSendToDataset",(async e=>{const{entityLabel:t,entityId:s,entryId:n,onClose:i}=this.props,{signs:r}=this,{mltopicdatasets:a}=this;i();try{await a.askAddEntryToResourceDataset({resourceId:s,resourceLabel:t,entryId:n,label:e}),r.showMessage("Entry added to dataset: ".concat(e))}catch(o){r.showError(o)}})),(0,n.Z)(this,"_loadLabel",(async()=>{const{entityId:e,entryId:t}=this.props;this.setState({isLoading:!0});try{const s=await this.mltopicdatasets.askEntryDatasetIds(t),n=this._getLabelFromAnnotations(s,e);this.setState({isLoading:!1,label:n})}catch(s){this.signs.showError(s.message),this.setState({isLoading:!1})}})),this.state={isLoading:!0,label:st.K4.unlabeled}}componentDidMount(){this.mltopicdatasets=streets.service("mltopicdatasets"),this.signs=streets.service("signs"),this._loadLabel()}componentWillUnmount(){this.mltopicdatasets=null,this.signs=null}render(){const{isLoading:e,label:t}=this.state;return i.createElement(nt.b,{label:"Add to dataset",loading:e,onFeedbackClick:this._onSendToDataset,curationLabel:t,createDataset:t===st.K4.unlabeled})}_getLabelFromAnnotations(e,t){const s=e.find((e=>{var s;return t===e.resourceId||(null===(s=e.resourceIds)||void 0===s?void 0:s.includes(t))}));return s?s.label:st.K4.unlabeled}}it.propTypes={entityId:h().string.isRequired,entityLabel:h().string.isRequired,entryId:h().string.isRequired,onClose:h().func.isRequired};class rt extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_renderDebug",(()=>{const e=We.F.load(),{part:t}=this.props;return(0,ne.xT)(t.id)&&(e&&e.sudoSession||"feedly"===streets.getEnterpriseId())?i.createElement(ve.s,{onClick:this._onOpenTopicInspector},i.createElement(Ze.Z,{importance:"secondary"}),"Debug Topic"):null})),(0,n.Z)(this,"_onMuteClick",(()=>{const{streamId:e,part:t}=this.props;this.slider.addSlide(me.K,{initialFilter:{streamId:e,term:t}})})),(0,n.Z)(this,"_onFeedbackClick",(async()=>{const{part:e,entry:t,onClose:s}=this.props,{signs:n}=this;s();try{await this.leo.askSaveFeedback(t.getId(),e.id,-1,"entityMenu"),n.showMessage("Feedback collected")}catch(i){console.error("Failed to submit feedback",e,i)}})),(0,n.Z)(this,"_onOpenTopicInspector",(()=>{const{entry:e}=this.props;this.slider.addSlide(tt,{entry:e})})),(0,n.Z)(this,"_onSearchClick",(()=>{const{part:e}=this.props;streets.service("slider").addInYourFeedlySearchSlide(e)})),(0,n.Z)(this,"_onTrackClick",(()=>{const{streamId:e,part:t}=this.props;this.slider.addSlide(ge.q,{pageInfo:{beyondSearchOptions:{bundles:(0,Ne.Pg)(e),layers:[{parts:[t],type:Te.ur.matches}]}}})})),(0,n.Z)(this,"_onViewOnMitreClick",(()=>{const{part:{knowledgeBaseUrl:e}}=this.props;window.open(e,"_blank")}))}componentDidMount(){this.leo=streets.service("leo"),this.signs=streets.service("signs"),this.slider=streets.service("slider")}componentWillUnmount(){this.leo=null,this.signs=null,this.slider=null}render(){const{part:{id:e,knowledgeBaseUrl:t,label:s,type:n},entry:r,onClose:a}=this.props;return i.createElement(ye.v,null,i.createElement(ve.s,{onClick:this._onTrackClick},i.createElement(ee.Z,{importance:"secondary"}),"Track"),i.createElement(ve.s,{onClick:this._onMuteClick},i.createElement(Ee.Z,{importance:"secondary"}),"Mute"),i.createElement(ve.s,{onClick:this._onSearchClick},i.createElement(Ie.Z,{importance:"secondary"}),"Search"),t&&n===Ye.Mn.mitreAttack&&i.createElement(ve.s,{onClick:this._onViewOnMitreClick},i.createElement(Be.Z,{importance:"secondary"}),"View on MITRE"),i.createElement(ve.s,{onClick:this._onFeedbackClick},i.createElement(He,{importance:"secondary"}),i.createElement("div",{className:"LeoEntityMenu__feedback-label"},(0,ne.xT)(e)?"Not About ":"Wrong ",i.createElement("strong",null,(0,qe.Fb)(s)))),"feedly"===streets.getEnterpriseId()&&i.createElement(it,{entityId:e,entityLabel:s,entryId:r.id,onClose:a}),this._renderDebug())}}rt.propTypes={entry:pe.A.isRequired,onClose:h().func.isRequired,part:h().shape({id:h().string,knowledgeBaseUrl:h().string,label:h().string,type:h().string}).isRequired,streamId:h().string},rt.defaultProps={streamId:""};class at extends i.Component{render(){const{offsetParent:e,onClose:t,target:s}=this.props;return i.createElement("div",null,i.createElement($.J,{caret:!0,className:"CommonTopicPopover",offsetParent:e,onClose:t,target:s},this._renderBody()))}_renderBody(){const{entry:e,onClose:t,streamId:s,topic:n}=this.props;return i.createElement(i.Fragment,null,i.createElement($e.H3,{className:"CommonTopicPopover__heading"},n.label),i.createElement("p",{className:"CommonTopicPopover__description"},"Smart Topic"),i.createElement("div",{className:"CommonTopicPopover__menu"},i.createElement(rt,{entry:e,onClose:t,part:n,streamId:s})))}}at.propTypes={entry:h().shape({getMostRelevantPriority:h().func}).isRequired,offsetParent:$.J.propTypes.offsetParent,onClose:h().func.isRequired,streamId:h().string,target:$.J.propTypes.target,topic:h().shape({id:h().string,label:h().string}).isRequired},at.defaultProps={offsetParent:void 0,streamId:void 0,target:void 0};var ot=s(69993),lt=s(36899);const ct=(0,ke.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm0 1.5a8.25 8.25 0 1 1 0 16.5 8.25 8.25 0 0 1 0-16.5Z"}),i.createElement("path",{d:"m12 7.5.117.007a1 1 0 1 1-.234 0L12 7.5ZM12 10.75a.75.75 0 0 1 .743.648l.007.102V17a.75.75 0 0 1-1.493.102L11.25 17v-5.5a.75.75 0 0 1 .75-.75Z"})))}));const dt=(0,ke.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M5.143 13.821a.75.75 0 0 1 .743.649l.007.101v6a.75.75 0 0 1-1.493.102l-.007-.102v-6a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M8.571 2.679c-1.217 0-2.196.177-2.957.482-.497.199-.823.416-1.001.594a.75.75 0 0 0-.22.53v10.286a.75.75 0 0 0 1.203.599l.077-.068c.036-.036.192-.14.498-.263.579-.231 1.368-.375 2.4-.375.829 0 1.454.15 2.617.594l.533.21c1.693.677 2.511.91 3.708.91 1.217 0 2.196-.177 2.957-.482.497-.199.823-.416 1.001-.594a.75.75 0 0 0 .22-.53V4.285a.75.75 0 0 0-1.203-.599l-.077.068c-.036.037-.192.14-.498.263-.579.231-1.368.375-2.4.375-.829 0-1.454-.15-2.617-.594l-.533-.21c-1.693-.677-2.511-.91-3.708-.91Zm0 1.5c.888 0 1.542.17 2.875.694l.872.343c1.306.498 2.064.677 3.11.677l.359-.005c.819-.025 1.522-.134 2.116-.31l.204-.066v8.666l-.052.026a3.53 3.53 0 0 1-.226.1c-.579.231-1.368.375-2.4.375-.888 0-1.542-.172-2.875-.695l-.275-.109c-1.693-.677-2.511-.91-3.708-.91l-.358.005c-.819.024-1.522.133-2.116.31l-.204.065V4.679l.052-.026a3.53 3.53 0 0 1 .226-.1c.579-.23 1.368-.374 2.4-.374Z"})))}));var ht=s(37225),ut=s(5017);class pt extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onMuteClick",(e=>{const{onClose:t,streamId:s,part:n}=this.props;e.stopPropagation(),streets.service("tabsManager").askOpenNewPage("muteFilterForm",{props:{initialFilter:{streamId:s,term:n}}}),t()})),(0,n.Z)(this,"_onFeedbackClick",(async()=>{const{part:e,onClose:t,entry:s}=this.props;try{await this.leo.askSaveFeedback(s.getId(),e.id,-1,"entityMenu"),this.notifications.showMessage("Feedback collected")}catch(n){console.error("Failed to submit feedback",e,n)}t()})),(0,n.Z)(this,"_onSearchClick",(e=>{const{onClose:t,part:{label:s}}=this.props;e.stopPropagation(),this.tabsManager.askOpenNewPage("https://feedly.com/i/".concat((0,Ne.xU)({scope:"topic/global.popular",term:s,time:ht.qp.month}))),t()})),(0,n.Z)(this,"_onViewOnMitreClick",(()=>{const{part:{knowledgeBaseUrl:e}}=this.props;this.tabsManager.askOpenExternalUrl(e)}))}componentDidMount(){this.notifications=streets.service("notifications"),this.tabsManager=streets.service("tabsManager"),this.leo=streets.service("leo")}componentWillUnmount(){this.notifications=null,this.tabsManager=null,this.leo=null}render(){const{part:{id:e,knowledgeBaseUrl:t,label:s,type:n}}=this.props;return i.createElement(i.Fragment,null,i.createElement(ut.k,{onClick:this._onMuteClick},i.createElement(ot.Z,{importance:"secondary"}),"Mute"),i.createElement(ut.k,{onClick:this._onSearchClick},i.createElement(lt.Z,{importance:"secondary"}),"Search"),t&&n===Ye.Mn.mitreAttack&&i.createElement(ut.k,{onClick:this._onViewOnMitreClick},i.createElement(ct,{importance:"secondary"}),"View on MITRE"),i.createElement(ut.k,{onClick:this._onFeedbackClick},i.createElement(dt,{importance:"secondary"}),(0,ne.xT)(e)?"Not About ":"Wrong ",i.createElement("strong",{className:"m-l-h truncated-text"},(0,qe.Fb)(s))))}}pt.propTypes={entry:pe.A.isRequired,onClose:h().func.isRequired,part:h().shape({id:h().string,knowledgeBaseUrl:h().string,label:h().string,type:h().string}).isRequired,streamId:h().string},pt.defaultProps={streamId:""};var mt=s(99149),gt=s(42142),ft=s(90260);function yt(e){let{entry:t,onClose:s,streamId:n,topic:r}=e;return i.createElement(mt.d,{className:"CommonTopicDrawer",onClose:s},i.createElement(gt.O,null,(0,qe.Fb)(r.label),i.createElement(ft.h,null,"Smart Topic")),i.createElement(pt,{entry:t,onClose:s,part:r,streamId:n}))}yt.propTypes={topic:h().shape({id:h().string,label:h().string}).isRequired,entry:h().shape({getMostRelevantPriority:h().function}).isRequired,onClose:h().func.isRequired,streamId:h().string},yt.defaultProps={streamId:void 0};class vt extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClick",(e=>{this.setState({isPopoverOpen:!0,selectedTopic:e})})),(0,n.Z)(this,"_onClose",(()=>{this.setState({isDrawerOpen:!1,isPopoverOpen:!1})})),this._offsetParent=i.createRef(),this._target=i.createRef(),this.state={isDrawerOpen:!1,isPopoverOpen:!1,selectedTopic:null}}componentWillUnmount(){this._offsetParent=null,this._target=null}render(){const{className:e,entry:t,streamId:s,topic:n}=this.props,{isDrawerOpen:r,isPopoverOpen:a,selectedTopic:o}=this.state,l=t.findSearchTermFullInfo(n),c=(0,ne.mm)(l);return i.createElement("div",{className:"CommonTopicButton",ref:this._offsetParent},i.createElement(p.z,{key:n.id,className:e,icon:c?i.createElement(c,{importance:"tertiary"}):void 0,importance:"secondary",label:n.label,onClick:()=>this._onClick(n),elementRef:this._target}),a&&i.createElement(at,{topic:o,entry:t,offsetParent:this._offsetParent,onClose:this._onClose,streamId:s,target:this._target}),r&&i.createElement(yt,{topic:o,entry:t,onClose:this._onClose,streamId:s}))}}vt.propTypes={className:h().string,entry:pe.A.isRequired,streamId:h().string,topic:h().shape({id:h().string,label:h().string}).isRequired},vt.defaultProps={className:"",streamId:void 0};const bt="https://blog.feedly.com/topic-classification-skill-leo/";class Et extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onTouchStart",(()=>{this._horizontalScroll&&this._horizontalScroll.current&&this._horizontalScroll.current.addEventListener("touchmove",this._onTouchMove,{passive:!1})})),(0,n.Z)(this,"_updateInfo",(async()=>{const e=await this.leo.askIsLeoEnabled();this.setState({isLeoEnabled:e})})),this.state={topics:(0,ne.WW)(e.topics).slice(0,5),isLeoEnabled:!1}}componentDidMount(){this.leo=streets.service("leo"),this._updateInfo()}componentWillUnmount(){this._horizontalScroll&&this._horizontalScroll.current&&this._horizontalScroll.current.removeEventListener("touchmove",this._onTouchMove),this._horizontalScroll=null,this.leo=null}render(){const{entry:e,streamId:t}=this.props,{isLeoEnabled:s,topics:n}=this.state;if(!s||!n||0===n.length)return null;const r={};return i.createElement("div",{className:"CommonTopics"},i.createElement("div",{className:"CommonTopics__header"},i.createElement(Ue.H2,{appearance:"h4",className:"CommonTopics__title"},"Leo Topics"),i.createElement(fe.r,{href:bt,newWindow:!0,title:"Learn more about this feature"},i.createElement(G.Z,{importance:"secondary"}))),i.createElement("div",Object.assign({className:"CommonTopics__buttons"},r),n.map((s=>i.createElement(vt,{key:s.id,className:"CommonTopics__button",entry:e,streamId:t,topic:s})))))}_onTouchMove(e){e.stopPropagation()}}Et.propTypes={entry:h().shape({getMostRelevantPriority:h().func}).isRequired,streamId:h().string,topics:h().arrayOf(h().shape({id:h().string.isRequired,label:h().string.isRequired}))},Et.defaultProps={streamId:void 0,topics:[]};var Ct=s(37567),wt=s(24443),kt=s.n(wt);var _t=s(58645),Mt=s(21548),St=s(11245),It=s(28594);const Tt=Object.freeze({board:St.Z,leo:ee.Z,reddit:It.Z,twitter:we.Z});function Nt(e){let{children:t,buttons:s,specialIcon:n,type:r}=e,a=null;if(n)a=n;else{const e=Tt[r];a=i.createElement(e,{className:"StackablePrompt__icon"})}let o=[];return null!=s&&s.length&&(o=s.map((e=>i.cloneElement(e,{className:c()(e.props.className,"StackablePrompt__button")})))),i.createElement("div",{className:"StackablePrompt StackablePrompt--".concat(r)},i.createElement("div",{className:"StackablePrompt__decoration"},a,i.createElement("div",{className:"StackablePrompt__bar"})),i.createElement("div",{className:"StackablePrompt__text"},t),!!o.length&&i.createElement("div",{className:"StackablePrompt__buttons"},o))}Nt.propTypes={buttons:h().arrayOf(h().element),children:h().node.isRequired,specialIcon:h().element,type:h().oneOf(["board","leo","reddit","twitter"])},Nt.defaultProps={buttons:[],specialIcon:void 0,type:"leo"};const Lt=-1,Pt=1,Dt=Object.freeze({cyberAttack:"cyberAttack",topic:"topic"});class At extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onFeedbackClick",(async e=>{const{analysisFeedbackPrompt:{confidenceLevel:t,topic:s,type:n},entryId:i}=this.props;this.setState({feedback:e,isLoading:!0});try{n===Dt.cyberAttack?await this.leo.askSaveFeedback(i,null,e,"cyberAttackPrompt",n):await this.leo.askSaveFeedback(i,s.id,e,"topicPrompt/".concat(t))}catch(r){console.error("Failed to submit feedback",s,e,r)}})),(0,n.Z)(this,"_getTopicLabel",(()=>{const{analysisFeedbackPrompt:{topic:e}}=this.props;return(0,ne.jP)(e.id)?"a ".concat(e.label):e.label})),this.state={isLoading:!1}}componentDidMount(){this.leo=streets.service("leo")}componentWillUnmount(){this.leo=null}render(){const{analysisFeedbackPrompt:e}=this.props;if(!Dt[e.type])return null;const{analysisFeedbackPrompt:{predictedTarget:t,type:s}}=this.props,{feedback:n}=this.state;return n?i.createElement(Nt,null,this._renderFeedbackMessage()):s===Dt.cyberAttack?i.createElement(Nt,{buttons:this._renderButtons()},"Is ",i.createElement("b",null,t.text)," the target of this attack?"):i.createElement(Nt,{buttons:this._renderButtons()},"Is this article about ",i.createElement("b",null,this._getTopicLabel()),"?")}_renderButtons(){const{feedback:e,isLoading:t}=this.state;return e?null:[i.createElement(p.z,{key:"yes",color:"accent",disabled:t,importance:"secondary",label:"yes",loading:t,onClick:()=>{this._onFeedbackClick(Pt)},size:"small"}),i.createElement(p.z,{key:"no",disabled:t,importance:"secondary",label:"no",loading:t,onClick:()=>{this._onFeedbackClick(Lt)},size:"small"})]}_renderFeedbackMessage(){const{analysisFeedbackPrompt:{confidence:e,predictedTarget:t,type:s}}=this.props;let n;return e&&s===Dt.cyberAttack?n=i.createElement(i.Fragment,null,"Leo was"," ",i.createElement(et.x,{color:"primary",size:"small",tagName:"b"},Math.floor(100*e),"%")," ","confident that"," ",i.createElement(et.x,{color:"primary",tagName:"b",size:"small"},t.text)," ","was the target of this attack."):e&&(n=i.createElement(i.Fragment,null,"Leo was"," ",i.createElement(et.x,{color:"primary",size:"small",tagName:"b"}," ",Math.floor(100*e),"%")," ","confident this article was about"," ",i.createElement(et.x,{color:"primary",size:"small",tagName:"b"},this._getTopicLabel()),".")),i.createElement(i.Fragment,null,"Thanks! Your feedback helps make Leo smarter. ",n)}}At.propTypes={analysisFeedbackPrompt:h().shape({candidateTargets:h().arrayOf(h().shape({text:h().string})),confidence:h().number,confidenceLevel:h().string,predictedTarget:h().shape({text:h().string}),topic:h().shape({id:h().string,label:h().string}),type:h().string}).isRequired,entryId:h().string.isRequired};const Ot=(0,Mt.Pf)(At,{});function xt(e){let{tweet:{authorName:t,authorHandle:s,content:n,link:r}}=e;const a=[i.createElement(J.Q,{key:"twitter",importance:"secondary",label:"View Tweet",href:r,newWindow:!0,size:"small"})];return i.createElement(Nt,{buttons:a,type:"twitter"},"Curated by ",i.createElement("b",null,t)," ",s,n&&i.createElement("div",{className:"TwitterStackablePrompt__content"},n))}xt.propTypes={tweet:h().shape({authorHandle:h().string,authorName:h().string,content:h().string,link:h().string}).isRequired};var Rt=s(15149);function jt(e){let{ttpCount:t,url:s,onHighlightAllClick:n}=e;const r=[i.createElement(J.Q,{key:"navigator",color:"accent",href:"https://mitre-attack.github.io/attack-navigator/#layerURL=".concat(encodeURIComponent(s),"&leave_site_dialog=false"),importance:"secondary",label:"Open in MITRE ATT&CK Navigator",size:"small",newWindow:!0}),i.createElement(J.Q,{key:"download",download:!0,href:s,importance:"secondary",label:"Download layer",size:"small"}),i.createElement(p.z,{key:"highlight",importance:"secondary",label:"Highlight All",size:"small",onClick:n})];return i.createElement(Nt,{buttons:r},"Leo found"," ",i.createElement("b",null,t," ",t>1?"TTPs":"TTP"))}jt.propTypes={onHighlightAllClick:h().func.isRequired,ttpCount:h().number.isRequired,url:h().string.isRequired};var Ft=s(56962);function Ut(e){let{businessEvents:t}=e;return i.createElement(Nt,null,"Leo has detected"," ",i.createElement(Ft.S,null,t.map((e=>{let{id:t,label:s}=e;return i.createElement(i.Fragment,{key:t},"a ",i.createElement("strong",null,kt()(s,1)))})))," ","in this article")}Ut.propTypes={businessEvents:h().arrayOf(h().shape({id:h().string.isRequired,label:h().string.isRequired})).isRequired};var zt=s(33642);const Zt="markdown",Bt="stix2.1";function Ht(e){let{exports:t,mentions:s}=e;const{total:n}=(0,zt.ow)(s),r=(0,zt.Sz)(s),a=t.find((e=>{let{type:t}=e;return t&&t===Bt})),o=t.find((e=>{let{type:t}=e;return t&&t===Zt})),l=[];return a&&l.push(i.createElement(J.Q,{key:"stix",color:"accent",download:!0,href:a.url,importance:"secondary",label:"Export as stix 2.1",size:"small"})),o&&l.push(i.createElement(J.Q,{key:"markdown",download:!0,href:o.url,importance:"secondary",label:"Export as markdown",size:"small"})),i.createElement(Nt,{buttons:l},"Leo found"," ",i.createElement("b",null,n," ",n>1?"IoCs":"IoC")," ","(",r,")")}Ht.propTypes={exports:h().arrayOf(h().shape({type:h().string,url:h().string})).isRequired,mentions:h().arrayOf(h().shape({canonical:h().string,text:h().string,type:h().string})).isRequired};class Yt extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onSave",(async()=>{const{entry:e}=this.props,t=this._getLikeBoards(),s=e.getId(),n={};this.setState({isSaving:!0});try{await Promise.all(t.map((async e=>{try{await this.reader.askTagEntry(s,e)}catch(t){throw n[e.id]=!0,t}})))}catch(i){this.signs.showError(i)}this.reader&&this.setState({hasErrored:n,isSaving:!1})})),this.state={hasErrored:{},isSaving:!1,isLessLikeThis:!!this.props.entry.getFeedback()}}componentDidMount(){this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null,this.signs=null}onEntryFeedbackChanged(e){const{isSaving:t}=this.state;t||e!==this.props.entry.getId()||this.setState({isLessLikeThis:!0})}render(){const{isSaving:e,isLessLikeThis:t}=this.state,s=this._getLikeBoards();if(t||!s.length)return null;const n=i.createElement(p.z,{key:"save",color:"accent",disabled:e,importance:"secondary",label:"Save",loading:e,onClick:this._onSave,size:"small"});return i.createElement(Nt,{buttons:[n]},"Do you want to save this article in your"," ",i.createElement(Ft.S,null,s.map((e=>{let{id:t,label:s}=e;return i.createElement("strong",{key:t},s)})))," ",kt()("board",s.length),"?")}_getLikeBoards(){const{hasErrored:e}=this.state;let{likeBoards:t}=this.props;return t?(t=t.filter((t=>{let{id:s}=t;return!e[s]})),t.slice(0,3)):[]}}function Wt(e){let{redditPost:{commentsLink:t,subredditName:s,userName:n}}=e;if(!s)return null;const r=[i.createElement(J.Q,{key:"reddit",importance:"secondary",label:"View Conversation",href:t,newWindow:!0,size:"small"})];return i.createElement(Nt,{buttons:r,type:"reddit"},"Shared in ",i.createElement("b",null,s)," by ",i.createElement("b",null,n))}Yt.propTypes={entry:h().shape({getFeedback:h().func,getId:h().func,listTags:h().func}).isRequired,likeBoards:h().arrayOf(h().shape({id:h().string,label:h().string}))},Yt.defaultProps={likeBoards:[]},Wt.propTypes={redditPost:h().shape({commentsLink:h().string,subredditName:h().string,userName:h().string}).isRequired};class qt extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onUnsaveClick",(async()=>{const{board:e,entry:t}=this.props,s=t.getId();this.setState({isLoading:!0});try{await this.reader.askUntagEntry(s,e)}catch(n){this.signs.showError(n)}})),this.state={isLoading:!1}}componentDidMount(){this.reader=streets.service("reader"),this.signs=streets.service("signs")}componentWillUnmount(){this.reader=null,this.signs=null}render(){const{isLoading:e}=this.state,{board:{id:t,addedByUser:s,label:n}}=this.props,{isEnterprise:r}=(0,se.Yg)(t);let a,o=r?"A teammate":"You";r&&s&&s.name&&(o=s.userId===streets.getUserId()?"You":s.name,s.picture&&(a=i.createElement(W.q,{className:"SavedInStackablePrompt__avatar",alt:o,url:s.picture})));const l=i.createElement(p.z,{key:"unsave",disabled:e,importance:"secondary",label:"Unsave",loading:e,onClick:this._onUnsaveClick,size:"small"});return i.createElement(Nt,{buttons:[l],specialIcon:a,type:"board"},o," saved this article to the ",i.createElement("strong",null,n)," board")}}function Vt(e){let{topic:{label:t,mentions:s}}=e;const[n,r]=(0,i.useState)(!1),a=n?[]:[i.createElement(p.z,{key:"view",color:"accent",importance:"secondary",label:"View all",size:"small",onClick:()=>r(!0)})];return i.createElement(Nt,{buttons:a},"Leo has found ",i.createElement("b",null,kt()(t,s.length,!0))," in this article",n&&i.createElement("ul",{className:"TopicMentionsStackablePrompt__list"},s.map(((e,t)=>i.createElement("li",{key:t},e.text)))))}qt.propTypes={board:h().shape({addedByUser:h().shape({name:h().string,picture:h().string,userId:h().string}),id:h().string,label:h().string}).isRequired,entry:pe.A.isRequired},Vt.propTypes={topic:h().shape({id:h().string.isRequired,label:h().string.isRequired,mentions:h().arrayOf(h().shape({text:h().string.isRequired})).isRequired}).isRequired};function Qt(e){let{entry:t,onHighlightAllMitreAttacksClick:s}=e;const n=streets.service("reader"),[r,a]=(0,i.useState)(!1),o=function(){const[e,t]=(0,i.useReducer)((e=>e+1),0);return t}();(0,_t.m)(n,{onEntryTagsChanged(e){e===t.getId()&&o()}},[t]);const l=streets.service("preferences").getPreference(R.d0)===R.ZD.on?function(e,t){const s=[],n=e.listTags();n.length&&n.forEach((t=>s.push(i.createElement(qt,{key:t.id,board:t,entry:e}))));const r=e.getSuggestedLikeBoards();r.some((t=>!e.includesTag(t.id)))&&s.push(i.createElement(Yt,{key:"likeBoard",entry:e,likeBoards:r}));const{exports:a,mentions:o}=e.getIndicatorsOfCompromise();a&&a.length&&s.push(i.createElement(Ht,{key:"ioc",exports:a,mentions:o}));const l=e.getAttackNavigator();l&&s.push(i.createElement(jt,{key:"ttp",url:l.url,ttpCount:l.ttpCount,onHighlightAllClick:t}));const c=e.listBusinessEvents();c.length&&s.push(i.createElement(Ut,{key:"businessEvents",businessEvents:c}));const d=e.getAllEntrySearchTermsPartIds();e.listCommonTopics().forEach((e=>{var t;null!==(t=e.mentions)&&void 0!==t&&t.length&&d.has(e.id)&&s.push(i.createElement(Vt,{key:"mention-".concat(e.id),topic:e}))}));const{analysisFeedbackPrompt:h}=e.jsonInfo;e.isPartialContent()||e.isFeedlyBlog()||!h||0!==s.length||s.push(i.createElement(Ot,{key:"leoFeedback",analysisFeedbackPrompt:h,entryId:e.getId()}));return s}(t,s):[],c=t.metadata.tweet?i.createElement(xt,{tweet:t.metadata.tweet}):null,d=t.metadata.redditPost&&t.metadata.hasLinkedArticle?i.createElement(Wt,{redditPost:t.metadata.redditPost}):null,h=r?0:Math.max(0,l.length-2);return 0===l.length&&null===c&&null===d?null:i.createElement("div",{className:"EntryStackablePrompts"},h>0?l.slice(0,2):l,h>0&&i.createElement(Rt.Z,{className:"EntryStackablePrompts__button",onClick:()=>a(!0)},"+",h," Leo ",kt()("prompt",h)),c,d)}Qt.propTypes={entry:pe.A.isRequired,onHighlightAllMitreAttacksClick:h().func.isRequired};var Gt=s(13079),Kt=s(60454),Jt=s(28430),Xt=s(90183),$t=s(51239),es=s(99165),ts=s(56466),ss=s(63403),ns=s(32285),is=s(35610),rs=s(10974),as=s(86966);const os=/video\/([0-9]+)/i;function ls(e){let{entry:t}=e;const s=(0,as.Y)(os,t.getAlternateLink());return i.createElement("center",null,i.createElement("iframe",{src:"http://www.collegehumor.com/e/".concat(s),width:"647",height:"364",frameBorder:"0",webkitAllowFullScreen:!0,allowFullScreen:!0}))}ls.propTypes={entry:h().object.isRequired};var cs=s(68217),ds=s(62784);function hs(e){let t,{associatedEntities:s,className:n,onSearchEntity:r,type:a}=e;return s&&s.length?(t=a===Ye.Mn.threatActor?"Associated Malware Families: ":"Actors: ",i.createElement("p",{className:n},t,s.slice(0,5).map(((e,t)=>{const{id:s,label:n}=e;return i.createElement(i.Fragment,{key:s},t?", ":"",i.createElement(Rt.Z,{className:"CybersecurityAssociatedEntities__link",onClick:()=>{r(e)}},n))})))):null}hs.propTypes={associatedEntities:h().arrayOf(h().shape({id:h().string,label:h().string})),className:h().string,onSearchEntity:h().func.isRequired,type:h().string},hs.defaultProps={associatedEntities:[],className:"",type:""};var us=s(77469);class ps extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onPowerSearchEntity",(async e=>{let{id:t}=e;const s={bundles:[us.t8],layers:[{parts:[{id:t}],salience:Te.mb.about,type:Te.ur.matches}]};this.router.loadPage("powerSearch/beyond?options=".concat((0,ds.Fs)(s)))})),this.state={entity:null}}componentDidMount(){this.router=streets.service("router"),this.leo=streets.service("leo"),this._updateEntity()}componentWillUnmount(){this.router=null,this.leo=null}render(){const{offsetParent:e,onClose:t,target:s}=this.props;return i.createElement("div",null,i.createElement($.J,{caret:!0,className:"InlineEntityPopover",offsetParent:e,onClick:e=>{e.preventDefault(),e.stopPropagation()},onClose:t,target:s},this._renderBody()))}_renderBody(){const{entry:e,onClose:t,streamId:s}=this.props,{entity:n}=this.state;if(!n)return i.createElement(Qe.g,null);const{knowledgeBaseUrl:r,label:a,type:o}=n,{associatedEntities:l,description:c,isThreatEntity:d,sub:h}=(0,ts._)(n);return i.createElement(i.Fragment,null,i.createElement($e.H3,{className:"InlineEntityPopover__heading"},a),h&&r&&i.createElement(J.Q,{className:"InlineEntityPopover__link",importance:"tertiary",label:h,href:r,newWindow:!0}),c&&i.createElement("p",{className:"InlineEntityPopover__description"},(0,qe.kC)(c)),d&&i.createElement(hs,{className:"InlineEntityPopover__associated-entities",associatedEntities:l,onSearchEntity:this._onPowerSearchEntity,type:o}),i.createElement("div",{className:"InlineEntityPopover__menu"},i.createElement(rt,{entry:e,onClose:t,part:n,streamId:s})))}async _updateEntity(){const{entityId:e}=this.props;let t;try{t=await this.leo.askEntityInfo(e)}catch(s){t=null}this.setState({entity:t})}}ps.propTypes={entityId:h().string.isRequired,entry:pe.A.isRequired,offsetParent:$.J.propTypes.offsetParent,onClose:h().func.isRequired,streamId:h().string,target:$.J.propTypes.target},ps.defaultProps={offsetParent:null,streamId:null,target:null};class ms extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClick",(e=>{const{entityId:t,entry:s}=this.props;if(e.preventDefault(),(0,rs.D4)(t)){const{label:e}=s.findEntity(t);e&&this.slider.addSlide(cs.g,{cveId:e},{customPath:"cve/".concat(encodeURIComponent(e))})}else this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),(0,n.Z)(this,"_onClose",(()=>{this.setState({isPopoverOpen:!1})})),this._offsetParent=i.createRef(),this._target=i.createRef(),this.state={isPopoverOpen:!1}}componentDidMount(){this.slider=streets.service("slider")}componentWillUnmount(){this.slider=null,this._offsetParent=null,this._target=null}render(){const{children:e,entityId:t,entry:s,streamId:n}=this.props,{isPopoverOpen:r}=this.state,a=s.findEntity(t),o=(0,ne.mm)(a);return i.createElement("div",{className:"fx InlineEntity",onClick:this._onClick,ref:this._offsetParent},i.createElement("strong",{ref:this._target},e),i.createElement(o,{className:"InlineEntity__icon m-r-0"}),r&&i.createElement(ps,{entityId:t,entry:s,offsetParent:this._offsetParent,onClose:this._onClose,streamId:n,target:this._target}))}}ms.propTypes={children:h().node.isRequired,entityId:h().string.isRequired,entry:pe.A.isRequired,streamId:h().string},ms.defaultProps={streamId:null};var gs=s(6844);class fs extends i.Component{constructor(e){super(e),this._contentRef=i.createRef()}componentDidMount(){this._injectInlineEntities()}componentDidUpdate(e){const{shouldHighlightAllMitreAttacks:t}=this.props;t!==e.shouldHighlightAllMitreAttacks&&this._injectInlineEntities()}render(){return i.createElement(i.Fragment,null,this._renderVideoEnclosure(),this._renderAudioEnclosure(),this._renderVisuals(),this._renderContent())}_renderVideoEnclosure(){const{entry:e}=this.props,t=e.getEnclosure("video");return null!=t&&(null==t.length||t.length>512e3)?i.createElement("div",{style:{paddingBottom:10,paddingTop:10,textAlign:"center",borderBottom:"4px solid #FFF",marginBottom:10}},i.createElement("video",{width:"580",height:"363",controls:!0},i.createElement("source",{src:t.href,type:t.type}),"Your browser does not support the video tag.")):null}_renderAudioEnclosure(){const{entry:e}=this.props,t=e.getEnclosure("audio");if(null!=t)return i.createElement("div",{style:{paddingBottom:10,paddingTop:10,textAlign:"center",borderBottom:"4px solid #FFF",marginBottom:10}},i.createElement("audio",{src:t.href,controls:!0},"Your browser does not support the ",i.createElement("code",null,"ogg audio"),"."),i.createElement("br",null),i.createElement("div",{style:{paddingTop:10,fontSize:12}},i.createElement("a",{href:t.href,target:"_blank",rel:"noopener noreferrer"},"download"),null!=t.length&&"(size: ".concat((0,gs.U)(Math.floor(t.length/1024/1024))," MB )")))}_renderVisuals(){const{entry:e}=this.props;if(e.includesInlinedMedia())return null;const t="reddit"===e.getSource(),s=e.getEnclosures();if(t&&s.length>0)return i.createElement("div",{style:{marginBottom:17}},s.map((e=>i.createElement("img",{key:e,"data-external":"yes",src:e,"data-original":e,style:{maxWidth:647,visibility:"visible"}}))));const n=e.getExternalImageURL();if(null!=n){const e=(0,is.sA)(n);return i.createElement("div",{style:{marginBottom:17}},i.createElement("img",{"data-external":"yes",src:e,"data-original":n,style:{maxWidth:647,visibility:"visible",background:"red"}}))}return null}_renderContent(){const{entry:e,isLeoEnabled:t,shouldHighlightAllMitreAttacks:s}=this.props;let n="\n\n\n\n";return n+=e.getOptimizedContent({isLeoEnabled:t,shouldHighlightAllMitreAttacks:s}),!e.isPartialContent()&&(e.getFeedId()&&e.getFeedId().includes("://news.ycombinator")||e.getSummary().includes(">Comments</a>"))&&(n+=e.jsonInfo.summary.content),i.createElement("div",{className:"content",itemProp:"description",ref:this._contentRef,dangerouslySetInnerHTML:{__html:n}})}_injectInlineEntities(){if(!this._contentRef.current)return;const{entry:e}=this.props,t=e.suggestViaFeedId();this._contentRef.current.querySelectorAll(".InlineEntityWrapper").forEach((s=>{r.render(i.createElement(ms,{entityId:s.dataset.entityId,entry:e,streamId:t},s.innerText),s)}))}}fs.propTypes={entry:pe.A.isRequired,isLeoEnabled:h().bool.isRequired,shouldHighlightAllMitreAttacks:h().bool.isRequired};var ys=s(32470);function vs(e){let{explanations:t}=e;return t.length?i.createElement(Ke._,{data:t,uniqueKey:"score"},i.createElement(Xe.h,{header:"ngram",cell:e=>{let{ngram:t}=e;return i.createElement(Je.a,null,i.createElement(et.x,{className:"BusinessEventExplanations__ngram",tagName:"span"},t))}}),i.createElement(Xe.h,{header:"Score",cell:e=>{let{score:t}=e;return i.createElement(Je.a,null,(0,ys.VG)(t,4))}}),i.createElement(Xe.h,{header:"Location",cell:e=>{let{location:t}=e;return i.createElement(Je.a,null,t)}})):i.createElement(et.x,{tagName:"span"},"No business event explanations found.")}vs.propTypes={explanations:h().arrayOf(h().shape({location:h().number,ngram:h().string,score:h().number}))},vs.defaultProps={explanations:[]};var bs=s(29355),Es=s.n(bs);function Cs(e){let{icon:t,missing:s,title:n}=e;return i.createElement("span",{className:c()("NamedEntitiesBubble","m-r-1",{"NamedEntitiesBubble--danger":s}),title:n},t||n&&n[0].toUpperCase()||"?")}Cs.propTypes={icon:h().node,missing:h().bool,title:h().string},Cs.defaultProps={icon:void 0,missing:!1,title:void 0};function ws(e){let{label:t,type:s,salience:n,uri:r}=e;const a=r&&r.replace("https://en.wikipedia.org/wiki","");return i.createElement("span",{className:"NamedEntitiesEntity"},i.createElement(et.x,{className:c()("NamedEntitiesEntity__label",{"NamedEntitiesEntity__label--danger":!a||!s}),color:"primary",tagName:"span"},t),i.createElement(et.x,{className:"NamedEntitiesEntity__meta",tagName:"span"},a&&i.createElement(fe.r,{className:"m-r-1",href:r,newWindow:!0},a),i.createElement(Cs,{missing:!s,title:s}),i.createElement(et.x,{color:"tertiary",size:"smaller",tagName:"span"},"(",Es()(n,3),")")))}function ks(e){let{entities:t,title:s,words:n}=e,r=0;const a=n.map(((e,t)=>i.createElement(et.x,{key:t,className:"NamedEntitiesSentence__word",tagName:"span"},e)));return i.createElement("div",{className:"NamedEntitiesSentence"},i.createElement($e.H3,{appearance:"h4",className:"NamedEntitiesSentence__heading"},s,i.createElement(et.x,{className:"NamedEntitiesSentence__meta",color:"tertiary",size:"smaller",tagName:"span"},"- ",kt()("entity",t.length,!0))),i.createElement("div",{className:"NamedEntitiesSentence__content"},t.reduce(((e,t)=>{const{end_idx:s,label:n,salience:a,start_idx:o,type:l,uri:c}=t,d=t.end_idx-t.start_idx;return e.splice(t.start_idx-r,d+1,i.createElement(ws,{key:"".concat(o,"-").concat(s),label:n,salience:a,type:l,uri:c})),d>0&&(r+=d),e}),a)))}function _s(e){let{timings:t}=e,s=0;const n=Object.keys(t).sort().map((e=>{const n=t[e];return s+=n,{name:e,time:n}}));return n.push({name:"Total",time:Es()(s,3)}),i.createElement(Ke._,{data:n,uniqueKey:"name"},i.createElement(Xe.h,{header:"Description",cell:e=>{let{name:t}=e;return i.createElement(Je.a,null,t.includes("_")?i.createElement("span",{className:"m-l-1"},t):i.createElement($e.H3,{className:"m-a-0"},t))}}),i.createElement(Xe.h,{header:"Time(s)",cell:e=>{let{time:t}=e;return i.createElement(Je.a,null,t)}}))}ws.propTypes={label:h().string.isRequired,salience:h().number.isRequired,type:h().string,uri:h().string},ws.defaultProps={type:void 0,uri:void 0},ks.propTypes={entities:h().arrayOf(h().shape({end_idx:h().number.isRequired,start_idx:h().number.isRequired})),title:h().string,words:h().arrayOf(h().string)},ks.defaultProps={entities:[],title:"",words:[]},_s.propTypes={timings:h().objectOf(h().number)},_s.defaultProps={timings:{}};var Ms=s(81346),Ss=s.n(Ms);function Is(e){let{namedEntities:t}=e;if(!t.length)return i.createElement(et.x,{tagName:"span"},"No entities found.");const s=t.sort(((e,t)=>t.salience-e.salience)),{about:n=[],mention:r=[]}=Ss()(s,"salienceLevel");return i.createElement(Ke._,{data:[...n,...r].splice(0,10),uniqueKey:"id"},i.createElement(Xe.h,{header:"Entity",cell:e=>{let{label:t,wikiUrl:s,salienceLevel:n}=e;return i.createElement(Je.a,{style:{wordBreak:"break-all"}},i.createElement(et.x,{color:"about"===n?"accent":"tertiary",tagName:"span"},s?s.replace("https://en.wikipedia.org/wiki",""):t))}}),i.createElement(Xe.h,{header:"Salience",cell:e=>{let{salience:t}=e;return i.createElement(Je.a,null,t)}}),i.createElement(Xe.h,{header:"Mentions",cell:e=>{let{mentionCount:t}=e;return i.createElement(Je.a,null,t)}}))}function Ts(e){const{businessEvents:{events:t=[]},namedEntities:s,sentences:n,timings:r}=e;return i.createElement("div",{className:"NamedEntitiesViewer"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-xs-8 col-md-8"},i.createElement(Ue.H2,null,"Top Entities"),i.createElement(Is,{namedEntities:s}))),i.createElement(Ue.H2,null,"Leo NLP Skills"),n.map(((e,t)=>{let{entities:s,word_tokens:n}=e;return i.createElement(ks,{key:t,entities:s,title:"S".concat(parseInt(t)+1),words:n})})),!n.length&&i.createElement(et.x,{tagName:"span"},"No sentence information found."),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-xs-6 col-md-6"},i.createElement(Ue.H2,null,"Pipeline Performance"),r?i.createElement(_s,{timings:r}):i.createElement(et.x,{tagName:"span"},"No timing information found."))),t.length>0&&i.createElement(Ue.H2,{className:"m-b-0"},"Business Event Explanations"),t.map((e=>{const{id:t,details:{explanation:s}}=e;let{explanationsBottom:n,explanationsTop:r}=s;return r||n||(n=s.CNNInspectorPipeline.explanationsBottom,r=s.CNNInspectorPipeline.explanationsTop),i.createElement("div",{key:t,className:"row"},i.createElement("div",{className:"col-xs-12 col-md-12"},i.createElement($e.H3,{appearance:"h4",className:"m-t-2"},(0,ds.hh)(e)," Best N-grams"),i.createElement(vs,{explanations:r}),i.createElement($e.H3,{appearance:"h4",className:"m-t-2"},(0,ds.hh)(e)," Worst N-grams"),i.createElement(vs,{explanations:n})))})))}Is.propTypes={namedEntities:h().arrayOf(h().shape({label:h().string.isRequired,mentionCount:h().number,salience:h().number,wikiUrl:h().string}))},Is.defaultProps={namedEntities:[]},Ts.propTypes={businessEvents:h().shape({events:h().arrayOf(h().shape({id:h().string,label:h().string,score:h().number,details:h().object}))}),namedEntities:h().arrayOf(h().object),sentences:h().arrayOf(h().shape({entities:h().arrayOf(h().shape({end_idx:h().number,label:h().string,salience:h().number,start_idx:h().number,type:h().string})),word_offsets:h().arrayOf(h().number),word_tokens:h().arrayOf(h().string)})),timings:h().objectOf(h().any)},Ts.defaultProps={businessEvents:{},namedEntities:[],sentences:[],timings:void 0};class Ns extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isLoading:!0,debugInfo:null})}componentDidMount(){const{entryId:e}=this.props;streets.service("leo").askEntryContentAnalysis(e,{withDetails:!0}).then((e=>{this.setState({isLoading:!1,debugInfo:e})})).catch((e=>{streets.service("signs").showError("Failed to debug entry: "+e),this.setState({isLoading:!1})}))}render(){const{isLoading:e,debugInfo:t}=this.state;return e||t?e?i.createElement("div",{className:"fx"},i.createElement(Qe.g,{details:"details"})):i.createElement("div",{className:"fx"},i.createElement(Ts,{timings:t.timings})):null}}Ns.propTypes={entryId:h().string.isRequired};class Ls extends i.Component{componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.reader=null}onEntryFeedbackChanged(e){const{entry:t}=this.props;t.getId()===e&&this.forceUpdate()}onEntryPriorityChanged(e){const{entry:t}=this.props;t.getId()===e&&this.reader.askLookupEntry(e).then((e=>{t.priorities=e.priorities,t.jsonInfo.priorities=e.priorities,this.forceUpdate()}))}render(){const{entry:e}=this.props;return e.metadata.hasCustomHeader?null:i.createElement("div",{className:"fx metadata",style:e.isTitleRTL()?{textAlign:"right"}:void 0},i.createElement(o.l,{entry:e,hideBoardLabel:!0,layout:O.Ar.fullArticle,showSecondarySourceMarker:!0}))}}Ls.propTypes={entry:h().object.isRequired};const Ps=/vimeo\.com.*\/([A-Za-z0-9\-_]+)/i;function Ds(e){let{entry:t}=e;const s=t.getAlternateLink();let n;return s.indexOf("#")>-1&&(n=s.split("#")[1]),null!=n&&""!==n||(n=(0,as.Y)(Ps,s)),i.createElement("iframe",{"data-clean":"yes",width:"647",height:"364",src:"//player.vimeo.com/video/".concat(n,"?hd=1&showinfo=0"),frameBorder:"0",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0})}function As(e){let{entry:t}=e;const s=t.getContent(),n=s&&-1===s.indexOf("<iframe");return i.createElement(i.Fragment,null,i.createElement("iframe",{"data-clean":"yes",width:"647",height:"364",src:"//www.youtube.com/embed/".concat(t.metadata.youtube,"?hd=1&amp;fs=1&amp;showinfo=0&amp;rel=0"),frameBorder:"0",allowFullScreen:!0}),n&&i.createElement("div",{dangerouslySetInnerHTML:{__html:s}}))}Ds.propTypes={entry:h().object.isRequired},As.propTypes={entry:h().object.isRequired};class Os extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{leoDebugExpanded:!1,debugExpanded:!1,shouldHighlightAllMitreAttacks:!1}),(0,n.Z)(this,"_onClickRedditLink",(()=>{streets.service("analytics").incrementDashboardEvent("REDDIT:clicks")})),(0,n.Z)(this,"_onHighlightAllMitreAttacksClick",(()=>{this.setState({shouldHighlightAllMitreAttacks:!0})}))}componentDidMount(){const{entry:e,inSlider:t}=this.props;this.reader=streets.service("reader"),this.reader.registerObserver(this),this.navigo=streets.service("navigo"),this.navigo.registerObserver(this),this.shortcuts=streets.service("shortcuts");const s=t?e.getId():this.navigo.getState().selectedEntryId;this._toggleShortcutClaims(s)}componentWillUnmount(){this._toggleShortcutClaims(),this.shortcuts=null,this.navigo.unregisterObserver(this),this.navigo=null,this.reader.unregisterObserver(this),this.reader=null}onDecorationChanged(e,t){const{entry:s}=this.props;s.getId()!==e||t!==$t.I.oneNote&&t!==$t.I.evernote||this.forceUpdate()}onNavigationChanged(e){let{selectedEntryId:t}=e;this._toggleShortcutClaims(t)}_toggleShortcutClaims(e){const{entry:t}=this.props;e===t.getId()?(this.shortcuts.claim(this,ns.PC.debugEntry),this.shortcuts.claim(this,ns.PC.leoDebugEntry)):(this.shortcuts.unclaim(this,ns.PC.leoDebugEntry),this.shortcuts.unclaim(this,ns.PC.debugEntry))}onShortcutKey(e){if(e===ns.PC.debugEntry)this.setState({debugExpanded:!0});else if(e===ns.PC.leoDebugEntry){if(!streets.hasProPlusAccess())return;this.setState({leoDebugExpanded:!0})}}render(){const{leoDebugExpanded:e}=this.state,{entry:t,inSlider:s}=this.props,n=t.getTitle().replace(" ","&nbsp;"),r=t.listFilters(),a=r.length>0?r[0].searchQuery||r[0].label||r[0].text:null;let o=t.metadata.isNewsletter?"entryBody-newsletter":"entryBody";t.metadata.isWellFormattedNewsletter&&(o+=" entryBody-newsletter--well-formatted");return t.isFeedlyBlog()&&(o+=" entryBody--feedly-blog"),i.createElement("article",{id:"".concat(t.getId(),"_main")},i.createElement("div",{className:"entryholder"},!s&&i.createElement("div",{className:"frameActionsTop","data-uninlineentryid":t.getId(),title:"close this article and return to the list"}),i.createElement("div",{className:c()("u100Entry",{[t.metadata.customFullArticleClass]:null!=t.metadata.customFullArticleClass}),"data-alternate-link":t.getBestAlternateLink(),"data-select-entry-id":t.getId()},t.webfeeds.wordmark&&i.createElement("div",{className:"webfeeds-wordmark",style:{backgroundImage:"url(".concat((0,is.w6)(t.webfeeds.wordmark),")")}}),i.createElement("div",{className:"entryHeader"},!t.metadata.hasCustomHeader&&i.createElement("a",{href:t.getAlternateLink(),className:c()("entryTitle entry__title",{"entry__title--read":t.isRead()}),target:"_blank",rel:"noopener noreferrer",style:t.isTitleRTL()?{direction:"rtl",textAlign:"right"}:void 0,dangerouslySetInnerHTML:{__html:(0,ts.v)(n,t.getHighlightableKeywords())},onClick:e=>{t.metadata.isNewsletter?(e.preventDefault(),streets.service("commonsigns").showMessage("Newsletter articles do not have a website page associated with them")):(0,ss.YC)(t.getAlternateLink())&&this._onClickRedditLink()}}),i.createElement(Ls,{entry:t}),i.createElement("div",{className:"shareBarHolder"},!s&&i.createElement(Jt.W,{entryId:t.getId()}))),e&&i.createElement(Ns,{entryId:t.getId()}),this._renderDebugger(),r&&r.length>0&&i.createElement("div",{className:"u100Entry__warning"},i.createElement("i",null,"Article removed from your feeds by your"," ",i.createElement("strong",null,a)," mute filter")),this._renderTopPrompt(),i.createElement("div",{className:"fx"},i.createElement(Qt,{entry:t,onHighlightAllMitreAttacksClick:this._onHighlightAllMitreAttacksClick})),i.createElement("div",{className:"fx annotationsHolder"},"yes"===streets.service("preferences").getPreference(R.DD)&&i.createElement(ze,{entryId:t.getId()})),this._renderIntegrationsStatus(),i.createElement("div",{className:o,id:"".concat(t.getId(),"_entryBody"),title:""},this._renderEntryBody()),i.createElement("div",{className:"fx"},t.getPdfLink()&&i.createElement(Ct.X,{className:"m-t-2",href:t.getPdfLink(),title:t.getTitle()})),i.createElement("div",{style:{clear:"both"}}),!0===t.metadata.subscribed&&!0!==t.metadata.tutorial&&!t.metadata.isRedditFeed&&!t.metadata.isNewsletter&&i.createElement("div",{className:"fx"},this._renderOutboundButton("Visit Website",t.getAlternateLink(),!0)),t.metadata.isRedditFeed&&t.jsonInfo&&t.jsonInfo.originId&&i.createElement("div",{className:"fx"},this._renderOutboundButton("Visit Website",t.getAlternateLink(),!1),this._renderOutboundButton("View Conversation",t.jsonInfo.originId,!1)),this._renderCommonTopics(),!0===t.metadata.tutorial&&i.createElement("div",{className:"fx"},i.createElement(Xt.n,{context:"tutorial-"+t.getTitle()})),i.createElement("div",{className:"fx"},i.createElement(Kt.p,{entry:t,isInlineEntry:!0})))))}_renderTopPrompt(){const{entry:e,hasLeoSecurity:t}=this.props,s=e.listTopVulnerability(),n=streets.service("preferences").getPreference(R.$h);return s&&!t&&"yes"===n?i.createElement("div",{className:"fx"},i.createElement(Gt.X,{description:i.createElement("span",null,"Would you like Leo to enrich this article with CVSS and exploit information about"," ",i.createElement(fe.r,{href:(0,rs.OZ)(s.label),newWindow:!0},s.label),"?"),feature:es.tp.LeoSecurity,hideable:!0})):null}_renderDebugger(){const{debugExpanded:e}=this.state;if(!e)return null;const{entry:t}=this.props;return i.createElement("div",{className:"EntryImpl__debugger"},JSON.stringify(t.jsonInfo,void 0,2))}_renderIntegrationsStatus(){const{entry:e}=this.props;return null==e.getDecoration($t.I.evernote)&&null==e.getDecoration($t.I.oneNote)?null:i.createElement("div",{className:"toolsStatus"},null!=e.getDecoration($t.I.evernote)&&i.createElement(i.Fragment,null,"Also"," ",i.createElement("a",{href:e.getDecoration($t.I.evernote),target:"Evernote"},"saved in Evernote")),null!=e.getDecoration($t.I.oneNote)&&i.createElement(i.Fragment,null,"Also"," ",i.createElement("a",{href:e.getDecoration($t.I.oneNote),target:"OneNote"},"saved in OneNote")))}_renderEntryBody(){const{isLeoEnabled:e,entry:t}=this.props,{shouldHighlightAllMitreAttacks:s}=this.state,n=t.getFeedId();return n&&n.includes("youtube.com/feeds")&&t.metadata.youtube?i.createElement(As,{entry:t}):null!=n&&n.includes("vimeo.com")?i.createElement(Ds,{entry:t}):null!=n&&n.includes("collegehumor.com")?i.createElement(ls,{entry:t}):i.createElement(fs,{entry:t,isLeoEnabled:e,shouldHighlightAllMitreAttacks:s})}_renderOutboundButton(e,t,s){return i.createElement(J.Q,{importance:"secondary",className:c()("EntryImpl__button visitWebsiteButton",{"EntryImpl__button--full":s}),href:t,onClick:(0,ss.YC)(t)?this._onClickRedditLink:void 0,newWindow:!0},e)}_renderCommonTopics(){const{entry:e,inSlider:t}=this.props,{commonTopics:s}=e.jsonInfo,n=!e.isPartialContent()&&t,r="yes"===streets.service("preferences").getPreference(R.d0);return n&&r&&s&&s.length>0?i.createElement("div",{className:"fx"},i.createElement(Et,{entry:e,entryId:e.getId(),streamId:e.suggestViaFeedId(),topics:s})):null}}Os.propTypes={entry:h().object.isRequired,hasLeoSecurity:h().bool,inSlider:h().bool,isLeoEnabled:h().bool},Os.defaultProps={hasLeoSecurity:!1,inSlider:!1,isLeoEnabled:!1};const xs="add-highlight";class Rs extends F{constructor(){super(),(0,n.Z)(this,"_processSelection",(e=>{try{if("embed"===e.target.tagName.toLowerCase())return;if("action"===e.target.className)return;if(!(0,A.TC)())return;this.signs.hide();if("no"===this.preferences.getPreference("contextualMenu"))return;window.requestAnimationFrame((()=>{this._doProcessSelection(e)}))}catch(t){console.error((0,D.Z)("process section",t))}})),this._inSlider=!1}setEntryId(e){this.entryId=e}setProfile(e){this.profile=e}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e}setSigns(e){this.signs=e}setRouter(e){this.router=e}setLeo(e){this.leo=e}setAnalytics(e){this.analytics=e}setDots(e){this.dots=e,this.dots.registerObserver(this)}setLayout(e){this.layout=e}setMicrosessions(e){this.microsessions=e}destroy(){this.highlightController&&this.highlightController.destroy(),this._removeDotPreviewHighlight(),this.addHighlightDot&&this.addHighlightDot.destroy(),this.layout!==O.Ar.fullArticle&&this.endReadTime();const e=this.part.querySelectorAll(".webfeeds-accordion__title");e.length&&e.forEach((e=>{e.removeEventListener("click",(e=>{e.target.parentNode.classList.toggle("webfeeds-accordion--open")}))})),null!=this.reader&&(this.reader.unregisterObserver(this),this.reader=null),this.analytics=null,this.feedly=null,this.microsessions=null,this.leo=null,this.preferences=null,this.profile=null,this.signs=null;const t=document.getElementById(this.entry.getId()+"_entryBody");(0,A.xg)(t,"mouseup",this._processSelection),r.unmountComponentAtNode(this.part),super.destroy(),this.entry=null}startReadTime(){this.openTime=(new Date).getTime(),this.microsessions.setEntryAsRead(this.entryId),x.a.set("pendingMarkAsRead",this.entryId)}endReadTime(){if(this.openTime&&this.entry){const e=Date.now()-this.openTime;this.entry.readTime=e,this.microsessions.setEntryReadTime(this.entryId,this.entry.readTime);const{created:t}=this.profile.getUserInfo();e>3e4&&t&&Date.now()-t<(0,P.z1)(28)&&(0,E.K)("entry_long_read",{read_time:e,feed_id:this.entry.getFeedId()},["amplitude"])}this.reader.askMarkEntryAsRead(this.entryId,{batch:!1,buried:!1,inlined:!0,skipKeptUnread:!0}),x.a.remove("pendingMarkAsRead"),this.openTime=null}display(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.layout!==O.Ar.fullArticle&&this.startReadTime(),this.reader.askLookupEntry(this.entryId).then((async t=>{try{if(this.isDestroyed())return;if(null==t)return void this._onEntryNotFound();const[s,n]=await Promise.all([this.leo.askIsLeoEnabled(),this.leo.askHasLeoSecurityFeature()]);t.jsonInfo.keptUnread=!1,this.entry=t,this.entry.metadata.inlined=!0;const a=(0,L.aT)(this.part,"DIV","class","floatingEntryScroller");if(this._inSlider=null!=a,r.render(i.createElement(Os,{entry:this.entry,inSlider:this._inSlider,isLeoEnabled:s,hasLeoSecurity:n}),this.part),e){const e=document.getElementById("".concat(this.entryId,"_inlineFrame"));e&&e.focus()}if(this.entry.metadata.hasCustomHeader){const e=this.entry.getTitle(),s=this.part.getElementsByClassName("webfeeds-header__title")[0];s.innerHTML=e,s.addEventListener("click",(()=>{window.open(t.getBestAlternateLink())}));const n=document.createElement("div");n.className="fx webfeeds-header__metadata";this.part.getElementsByClassName("webfeeds-header")[0].appendChild(n);const a=this.part.querySelectorAll(".webfeeds-blockquote");a.length&&a.forEach((e=>{if(e.nextElementSibling&&e.nextElementSibling.className&&e.nextElementSibling.className.includes("webfeeds-call-for-action")){e.nextElementSibling.classList.add("webfeeds-blockquote-call-for-action")}})),r.render(i.createElement(o.l,{entry:this.entry,hideBoardLabel:!0,layout:O.Ar.fullArticle}),n)}const l=this.part.querySelectorAll(".webfeeds-accordion__title");l.length&&(l[0].parentNode.classList.add("webfeeds-accordion--open"),l.forEach(((e,t)=>{e.parentNode.classList.add("fx");const s=document.createElement("i");s.classList.add("icon","icon-sm"),s.classList.add(0===t?"icon-fx-minus-ios-sm-accent":"icon-fx-plus-ios-sm-accent"),e.parentNode.insertBefore(s,e.parentNode.firstChild),e.addEventListener("click",(e=>{e.currentTarget.parentNode.classList.toggle("webfeeds-accordion--open"),s.classList.toggle("icon-fx-minus-ios-sm-accent"),s.classList.toggle("icon-fx-plus-ios-sm-accent")}))})));const c=this.part.querySelectorAll(".webfeeds-related-post img");if(c.length)for(let e=0;e<c.length;e++){const t=c[e],s=document.createElement("div");s.className="webfeeds-related-post__image",t.parentNode.insertBefore(s,t),s.appendChild(t)}this._manipulateContent(),this.part.style.opacity=1;const d=this.part.querySelectorAll(".webfeeds-actions a");streets.getUserId()&&d.forEach((e=>{const t=e.href;t&&t.startsWith("https://feedly.com/i/landing/business")&&e.addEventListener("click",(e=>(e.preventDefault(),streets.isBusinessPlan()||streets.isEnterprisePlan()?this.router.loadPage("team"):this.router.loadPage("pro/enterprise"),!1)))}));const h=this.part.querySelectorAll(".webfeeds-card-post");if(h.length>0){let e=[];h.forEach((t=>{if(e.push(t),!t.nextElementSibling||!t.nextElementSibling.classList.contains("webfeeds-card-post")){const t=document.createElement("div");t.classList.add("webfeeds-card-column"),e[0].parentNode.insertBefore(t,e[0]),e.forEach((e=>{t.appendChild(e)})),e=[]}}))}await this._finishDisplay(),this.analytics.trackEntryPageView(this.entry)}catch(s){this.signs.showMessage("Failed to display entry"+this.entryId),a.Tb(s,{tags:{section:"entry"}})}}),(()=>{if(this.isDestroyed())return!0;this._onEntryNotFound()}))}onDotChanged(e){if(e===xs){const e=this.dots.lookupDot(xs);if(!e||!this.entry)return;e.active?this._renderDotPreviewHighlight():this._removeDotPreviewHighlight()}}_onEntryNotFound(){r.render(i.createElement(i.Fragment,null,"Oops! Feedly is out of sync."," ",i.createElement(b.E,{importance:"tertiary",onClick:()=>{window.location.reload(!0)}},"Try to re-sync"),"."),this.part)}_removeDotPreviewHighlight(){const e=this.dots.lookupDot(xs);e&&(e.active||(this._dotPreviewHighlightParent&&(this._dotPreviewHighlightParent.parentNode.removeChild(this._dotPreviewHighlightParent),this._dotPreviewHighlightParent=null),this._dotPreviewHighlight&&(this._dotPreviewHighlight.unapply(),this._dotPreviewHighlight=null)))}_renderDotPreviewHighlight(){const e=this.entry.metadata.tutorial,t=this.entry.getFirstSentence(),s=this.dots.lookupDot(xs);if(!e&&t&&s&&s.active){if(this.addHighlightDot||(this.addHighlightDot=new z(xs)),!this._dotPreviewHighlight){const e=this.highlightController.preview(t,de);if(!e)return;const s=e.getHighlightElements(),n=s[s.length-1],i=document.createElement("span");i.appendChild(document.createTextNode("|")),i.setAttribute("data-dot",xs),i.style.display="inline-block",i.style.color="transparent",n.appendChild(i),this._dotPreviewHighlight=e,this._dotPreviewHighlightParent=i}this.addHighlightDot.render()}}async _finishDisplay(){try{const t=document.getElementById(this.entry.getId()+"_entryBody");(0,A.Oo)(t,"mouseup",this._processSelection),this.highlightController=new ue(this.entry,t),await this.highlightController.render(),this._renderDotPreviewHighlight();try{const e=this.part.querySelectorAll(".twitter-tweet"),t=streets.service("feedly").getTheme()===R.Bd.dark?"dark":null;e.forEach((e=>{e.setAttribute("data-theme",t),window.twttr.widgets.load(e)}))}catch(e){console.error("[control entry] failed to transform tweets:"+e.name+" -- "+e.message)}}catch(e){console.error("[control entry] failed to finish display:"+e.name+" -- "+e.message)}}_manipulateContent(){const e=document.getElementById(this.entryId+"_entryBody");if(this.entry.metadata.isNewsletter)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;const s=e.querySelectorAll("img");s.forEach((e=>{C(e).then((t=>{t||e.parentNode.removeChild(e)}))}));const{maxWidth:n=580,removeEmptyTrNodes:i=!1,entry:r}=t;if(r.metadata.isWellFormattedNewsletter)return void(t.padding&&s.forEach((e=>{N(e,t)})));e.querySelectorAll("td").forEach((e=>{const t=T(e);(null!=t&&t<50||i&&0===e.childNodes.length)&&e.parentNode.removeChild(e)}));e.querySelectorAll("td:not(:first-child)").forEach((e=>{const t=T(e);null!=t&&t<350&&e.parentNode.removeChild(e)}));e.querySelectorAll("td:not(:only-child) img").forEach((e=>{T(e)||(e.width=Math.floor(n/4),e.style.width="".concat(Math.floor(n/4),"px"))})),S(e,t);e.querySelectorAll("td:not(:only-child):first-child").forEach((e=>{e.style.paddingRight="16px"}))}(e,{maxWidth:this._inSlider?647:580,removeLeftRightSpacing:!0,removeEmptyTrNodes:this.entry.metadata.isSubstack,entry:this.entry});else{_(e,{allowNonSecureImages:this.preferences.getPreference(R.Qt)===R.ZD.on,maxWidth:this._inSlider||this.condensed?647:580,rtl:this.entry.isContentRTL(),pinImage:this.preferences.getPreference("pinImage")});this.part.querySelectorAll(".pinable").forEach((e=>{const t=document.createElement("span");t.className="PinableImageContainer";const s=document.createElement("span");s.className="PinActions",e.parentNode.replaceChild(t,e),t.appendChild(e),t.appendChild(s),r.render(i.createElement(v,{alternateLink:this.entry.getCleanAlternateLink()||this.entry.getBestAlternateLink(),entryId:this.entry.getId(),imageUrl:e.src,imageTitle:e.getAttribute("title")}),s)}))}}async _doProcessSelection(e){const t=(0,A.TC)();if(null==t||""===t)return;const s=await this.leo.askIsLeoEnabled(),n=document.getElementById("entryContextMenuPart");r.render(i.createElement(Pe,{entry:this.entry,isLeoEnabled:s,highlightController:this.highlightController,selection:t,rawSelection:(0,A.Ub)(),location:{left:e.pageX-24,top:e.pageY+15},target:e.target}),n);const a=()=>{r.unmountComponentAtNode(n),document.removeEventListener("click",a)};document.addEventListener("click",a)}}},11224:(e,t,s)=>{"use strict";s.d(t,{pp:()=>n,CB:()=>i,G:()=>r,xv:()=>a,Rd:()=>o,VQ:()=>l,Fy:()=>d,G2:()=>p,Lq:()=>m});const n=Object.freeze({advertising:"leoIndustries",adtech:"leoIndustries",automotive:"leoIndustries",autoTech:"leoIndustries",biopharmaBusiness:"leoHealthTech",biopharmaRegulatory:"leoHealthTech",businessNews:"leoIndustries",ciso:"leoCybersecurity",cleanTech:"leoIndustries",construction:"leoIndustries",cryptocurrency:"leoIndustries",culturalMagazines:"leoIndustries",banks:"leoIndustries",energy:"leoIndustries",esports:"leoIndustries",fashion:"leoIndustries",finTech:"leoIndustries",food:"leoIndustries",foodTech:"leoIndustries",foreignAffairs:"leoCybersecurity",generalNews:"leoIndustries",healthcareProviders:"leoHealthTech",healthTech:"leoHealthTech",industrials:"leoIndustries",insurance:"leoIndustries",insurTech:"leoIndustries",legal:"leoIndustries",marketing:"leoIndustries",martech:"leoIndustries",media:"leoIndustries",medicalDeviceBusiness:"leoHealthTech",medicalDeviceRegulatory:"leoHealthTech",medTech:"leoHealthTech",oil:"leoIndustries",oilTech:"leoIndustries",popularMagazines:"leoIndustries",propTech:"leoIndustries",scienceJournals:"leoHealthTech",securityNews:"leoCybersecurity",sports:"leoIndustries",supplyChain:"leoIndustries",retail:"leoIndustries",retailTech:"leoIndustries",realEstate:"leoIndustries",telecom:"leoIndustries",threatResearch:"leoCybersecurity",travel:"leoIndustries",travelTech:"leoIndustries",vendor:"leoCybersecurity",vulnerability:"leoCybersecurity"}),i=Object.freeze(Object.keys(n)),r=Object.freeze({advertising:"alias/leoIndustries/category/5a529960-16bf-4005-8d0c-f3155d6406ef",adtech:"alias/leoIndustries/category/72a6cc88-5ce2-491a-b673-fbc91a02bbe3",automotive:"alias/leoIndustries/category/cf382bcc-f96a-46fb-a4b7-84967f74aec4",autoTech:"alias/leoIndustries/category/c1481c1b-2da5-4d3e-83b1-062fcbea8a7f",banks:"alias/leoIndustries/category/273386f5-9867-41cf-9077-6da311b9df7c",ciso:"alias/leoCybersecurity/category/5e7b9bbc-2c18-4528-907b-55c4ae084211",biopharmaBusiness:"alias/leoHealthTech/category/352f9f15-2440-41a6-9764-74b03fe5bd93",biopharmaRegulatory:"alias/leoHealthTech/category/4b6ac647-4696-46a9-8c93-b8931cbde838",businessNews:"alias/leoIndustries/category/7c1d3d24-ecfe-4ee8-bd66-06727803eff7",cleanTech:"alias/leoIndustries/category/bc851f34-b118-4c2b-a4f3-4283965278a2",construction:"alias/leoIndustries/category/8ca678cb-77fd-4b86-a8fd-c3f701ce524b",cryptocurrency:"alias/leoIndustries/category/fe23c491-1f6d-4653-91c4-338c139d0aed",culturalMagazines:"alias/leoIndustries/category/95b4fe51-85bb-419f-bca6-b128ae1cab3d",energy:"alias/leoIndustries/category/7a40ab52-96b2-4d30-8d12-183bb13a3342",esports:"alias/leoIndustries/category/c7ef680b-aaeb-4563-b724-4d68a7bf1ff5",fashion:"alias/leoIndustries/category/6d07d1b1-7390-4d7b-b684-e7573d537f13",finTech:"alias/leoIndustries/category/ace13245-6466-40d0-9737-cb7489a84754",food:"alias/leoIndustries/category/04dabadd-ba18-4bc8-b3bf-1533102326b7",foodTech:"alias/leoIndustries/category/aa1aed58-b8e3-4543-9a26-c43da71d688b",foreignAffairs:"alias/leoCybersecurity/category/2044c7d3-a591-4e01-8f56-f187611fe3d6",generalNews:"alias/leoIndustries/category/df692a2c-a80d-45fd-8509-67e3158e2c0c",healthcareProviders:"alias/leoHealthTech/category/c7b4bd46-612b-45a3-bc1f-88febfdd9aeb",healthTech:"alias/leoHealthTech/category/772f2714-d9ae-4191-a701-b93d818d5fec",industrials:"alias/leoIndustries/category/1cec81ea-260a-4baa-ae1c-6459e7cddc18",insurance:"alias/leoIndustries/category/675ec519-7f22-48bd-a387-0911c48741af",insurTech:"alias/leoIndustries/category/acdedc1f-48fe-41ed-8017-023cc84dcc06",legal:"alias/leoIndustries/category/a2e3f095-c7a6-4053-b6f7-8e3f406df6cd",marketing:"alias/leoIndustries/category/53065f70-fe53-41b6-8443-a621ff79d7cb",martech:"alias/leoIndustries/category/f4a6ca89-f281-4c77-9354-480a36d199ee",media:"alias/leoIndustries/category/3fd7f5ec-3af5-405c-ad88-e545b123adb0",medicalDeviceBusiness:"alias/leoHealthTech/category/075039df-06c9-40a3-b64f-8b35b472e038",medicalDeviceRegulatory:"alias/leoHealthTech/category/5f9f4f6b-751e-4615-b7aa-1d3ada03e24f",medTech:"alias/leoHealthTech/category/10cbd779-d65f-4021-a1d8-66e291557845",oil:"alias/leoIndustries/category/c29d2baf-df02-474a-a889-bcc91d510c52",oilTech:"alias/leoIndustries/category/3dde80fe-4351-4ae8-a1d7-84faff50c7b2",popularMagazines:"alias/leoIndustries/category/93c6802e-1159-494c-87a7-eab009ea6ac7",propTech:"alias/leoIndustries/category/ac54d133-b213-4316-9b0b-0b839261ec2b",realEstate:"alias/leoIndustries/category/db305997-c683-4997-8f84-f6bc9f221f0f",retail:"alias/leoIndustries/category/a40d25a9-c8a3-49e3-aa22-e63f2d2cd933",retailTech:"alias/leoIndustries/category/5b8ff9ae-bd94-40b2-b5b2-189719a1c222",scienceJournals:"alias/leoHealthTech/category/1d71e4a5-dfbf-4f6b-ab03-813458247e1d",securityNews:"alias/leoCybersecurity/category/1722e7ff-bb6e-410b-b983-fd6f8a18d3a6",sports:"alias/leoIndustries/category/146c171a-089d-4c17-bd6e-55ee781421b9",supplyChain:"alias/leoIndustries/category/4e39985c-be8c-4d5b-be98-59e8c15067c3",telecom:"alias/leoIndustries/category/2ab8708b-5790-4300-8d40-94a374341e3f",threatResearch:"alias/leoCybersecurity/category/dacf3f34-410c-4061-9f0e-e7229ad8d611",travel:"alias/leoIndustries/category/0d4ca890-662b-4e4b-8c2c-bd7e2a18606d",travelTech:"alias/leoIndustries/category/b539b8e9-b84c-4493-a2b7-e71f7d84a55e",vendor:"alias/leoCybersecurity/category/f950a249-62df-433a-b0c5-6d2444d2706e",vulnerability:"alias/leoCybersecurity/category/ed1a8727-987c-44dc-b6b3-9b26290f63c5"}),a=Object.freeze({advertising:"Advertising",automotive:"Automotive",biopharma:"Biopharma",cybersecurity:"Cybersecurity",energy:"Energy",financial:"Financial Services",food:"Food",healthcare:"Healthcare",industrials:"Industrials",media:"Media & Entertainment",medicalDevices:"Medical Devices",realEstate:"Real Estate",retail:"Retail",telecom:"Telecom",travel:"Travel & Hospitality"}),o=Object.freeze(Object.keys(a)),l=Object.freeze({advertising:["advertising","adtech"],automotive:["automotive","autoTech"],biopharma:["biopharmaBusiness","biopharmaRegulatory","healthTech","scienceJournals"],cybersecurity:["ciso","foreignAffairs","securityNews","threatResearch","vendor","vulnerability"],energy:["cleanTech","energy","oil","oilTech"],financial:["banks","cryptocurrency","finTech","insurance","insurTech"],food:["food","foodTech"],healthcare:["healthcareProviders","healthTech"],industrials:["construction","industrials","supplyChain"],media:["esports","media","sports"],medicalDevices:["medicalDeviceBusiness","medicalDeviceRegulatory","medTech","scienceJournals"],realEstate:["propTech","realEstate"],retail:["fashion","retail","retailTech"],telecom:["telecom"],travel:["travel","travelTech"]}),c={advertising:["ad","advertising","social media","adtech","google ad","programmatic"],adtech:["ad","advertising","social media","adtech","google ad","programmatic"],automotive:["automotive","automobile","trucking","trucks","motorcycles","mobility","tesla","jeep","bmw","porsche","self driving cars","4X4","toyota","honda","audi","VW","Ford","Volvo","F1","transportation","cars","electric vehicles","transport","autonomous vehicles","autotech"],autoTech:["ev","tesla","automotive","automobile","motorcycles","mobility","self driving cars","transportation","Jeep","cars","electric vehicles","transport","autonomous vehicles"],banks:["banks","finance","financial","bankruptcy","banking","money","payments","credit union","fintech","RPA","cryptocurrency","investing","private equity","investment banking","central banks","P2P lending","Bloomberg","ethereum","gold","stocks","trading"],biopharmaBusiness:["healthcare","pharma","pharmacy","biotech","drugs","health","biopharma","biopharma business"],biopharmaRegulatory:["fda","clinical trials","clinical trial","ema","regulatory","regulatory affairs","biopharma","pharma","biotech"],businessNews:["business","entrepreneurship","leadership","news"],ciso:["security","cybersecurity","cyber security","hacking","vulnerability","malware","cyber","ciso"],cleanTech:["water","electrical","waste","solar","wind","nuclear","energy","climate","utilities","cleantech","climate change","green building"],construction:["construction","materials","architecture","home improvement"],cryptocurrency:["cryptocurrency","bitcoin","blockchain"],culturalMagazines:["culture","magazine","society","ideas","lifestyle","people","art","niche","design","culturalMagazine","culturalMagazines"],energy:["water","electrical","waste","solar","wind","nuclear","energy","climate","urbanism","utilities","oil"],esports:["esports"],fashion:["Clothing","clothes","luxury","cosmetics","sneakers","shoes","jewelry","watches","makeup","fragrance","perfume","shopping","beauty","skincare","fashion","fashionista","men","women","moda","vintage","street style","lingerie"],finTech:["banks","finance","financial","bankruptcy","banking","money","payments","credit union","fintech","RPA","cryptocurrency","investing","private equity","investment banking","central banks","P2P lending","Bloomberg","ethereum","gold","regulators","stocks","trading"],food:["food","agriculture","food industry","beverage","brewers","farming","beer","wine","beverage","restaurant","food industry","cocktails","food safety","alcohol"],foodTech:["foodtech","food","agtech","agritech"],foreignAffairs:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware","foreign affairs"],generalNews:["news"],healthcareProviders:["healthcare providers","healthcare","nursing","medicare","health policy"],healthTech:["healthcare","healthcare it","digital health","health tech","ehealth","i-health"],industrials:["industrials","aerospace","defense","infrastructure","packaging","military","maritime","space","drones","mining","NASA","geopolitics","civil engineering","manufacturing","manufacturers","rail","railway"],insurance:["insurance","risk","insurtech","actuarial","audit"],insurTech:["insurance","risk","insurtech","actuarial","audit"],legal:["legal","legal tech","ip","lawyer","compliance","law practice","courts","law"],marketing:["PR","public relations","marketing","copyright","social media marketing","blogging","martech","ppc","video marketing","seo","cro","content marketing","hubspot"],martech:["PR","public relations","marketing","copyright","social media marketing","blogging","martech","ppc","video marketing","seo","cro","content marketing","hubspot"],media:["entertainment","media center","media","film","filmmaking","music","music production","music business","TV Shows","magazines","radio","TV","journalism","copyright","culture","transmedia","hollywood","multimedia","cinematography","cinema 4D"],medicalDeviceBusiness:["medical devices","medtech","medical equipment","medical device"],medicalDeviceRegulatory:["fda","clinical trials","clinical trial","ema","regulatory","regulatory affairs","medical device","medical devices","medical equipment","medtech"],medTech:["medical devices","medtech","medical equipment","medical device"],oil:["oil","gas"],oilTech:["oil","gas"],popularMagazines:["popular","magazine","magazines","news","technology","culture","top magazine","top magazines","popular magazine","popular magazines","tech"],propTech:["real estate","real estate investing","property","property management","house","home","invest","housing","mortgage","commercial real estate","estate planning","financial planning"],realEstate:["real estate","real estate investing","property","property management","house","home","invest","housing","mortgage","commercial real estate","estate planning","financial planning"],retail:["retailers","shops","stores","grocery","FMCG","CPG","customer experience","Shopify","ecommerce","consumerist","retail"],retailTech:["retailers","shops","stores","grocery","FMCG","CPG","customer experience","Shopify","ecommerce","consumerist","retail"],scienceJournals:["science journals","healthcare","medical","biology","science","medicine","research","journals","health","life sciences"],securityNews:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware"],sports:["sports","sports business"],supplyChain:["supply chain","logistics"],telecom:["telecommunications","infrastructure","cable","wireless","television","computer","satellite","internet","telecom","tv","the internet of things","iot","broadband","wifi","5G"],threatResearch:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware","threat","threat actor","threat actors"],travel:["airline","aviation","hotels","hospitality","travel","airport","tourism"],travelTech:["airline","aviation","hotels","hospitality","travel","airport","tourism"],vendor:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","malware","vendor","vendors"],vulnerability:["security","cybersecurity","cyber security","cyber","hacking","vulnerability","vulnerabilities","malware"]},d=Object.freeze({advertising:"advertising",automotive:"automotive",biopharma:"pharma",cybersecurity:"cybersecurity",energy:"energy",financial:"finance",food:"food",healthcare:"healthcare",industrials:"manufacturing",media:"media",medicalDevices:"medical devices",realEstate:"real estate",retail:"retail",telecom:"telecom",travel:"travel"});o.forEach((e=>{l[e].forEach((t=>{c[t].includes(d[e])||c[t].push(d[e])}))}));const h=Object.freeze(c),u=["securityNews","threatResearch","vulnerability","vendor","ciso","foreignAffairs","biopharmaBusiness","biopharmaRegulatory","healthcareProviders","medicalDeviceBusiness","medicalDeviceRegulatory","healthTech","medTech","scienceJournals","advertising","adtech","automotive","autoTech","banks","businessNews","energy","cleanTech","construction","cryptocurrency","esports","fashion","finTech","food","foodTech","generalNews","industrials","insurance","insurTech","legal","marketing","martech","media","oil","oilTech","retail","retailTech","realEstate","propTech","sports","supplyChain","telecom","travel","travelTech","popularMagazines","culturalMagazines"];const p=Object.freeze(u.reduce(((e,t)=>(h[t].forEach((s=>{const n=s.trim().toLowerCase();e[n]?e[n].push(t):e[n]=[t]})),e)),{})),m=Object.freeze({leoCybersecurity:"alias/leoCybersecurity/category/7ea9853a-6a9b-4b7b-955c-2aa0de14e827",leoHealthTech:"alias/leoHealthTech/category/e02336be-768b-49f9-a8ef-e97471693849",leoIndustries:"alias/leoIndustries/category/81f9a44e-38ec-47a4-93cd-3e44c0f959e5"})},22590:(e,t,s)=>{"use strict";s.d(t,{cX:()=>l,wI:()=>c,_C:()=>d});var n=s(70720),i=s(99353),r=s(11261),a=s(30936),o=s(44959);const l={id:"introducing-boards",after:"3days",type:"notifications-carousel",data:{slides:[{visual:s(82099),header:"Save to Boards",sub:"Bookmark the most interesting articles to boards for reference or sharing"},{visual:n,header:"Add Your Insights",sub:"Use notes and highlights to enrich articles with your insights - and tag teammates"}],allowClose:!0}},c={id:"introducing-mute-filters-v1",after:"7days",type:"notifications-carousel",data:{slides:[{visual:o,header:"Introducing Mute Filters",sub:"Fine-tune your feeds by hiding mentions of unwanted topics or keywords",badge:"pro"},{visual:a,header:"Simple Yet Powerful",sub:"Filter using simple keywords or advanced queries. Give it an expiration date or keep it on.",badge:"pro"},{visual:r,header:"Also While Reading",sub:"Create filters while reading by selecting a word and clicking 'Mute this phrase'",badge:"pro"}],allowClose:!0,targetUri:"filters"}},d={id:"introducing-newsletters",after:"7days",type:"notifications-spotlight",data:{visual:i,header:"Introducing Team Newsletters",sub:"Easily share important articles and industry trends with your teammates",primaryAction:"5 Great Newsletter Features",tertiaryAction:"Later",badge:"team",targetEntryId:"NBHkLLj8YGLLEyGA+0mSpEvCPJ4mKcxBYbHNP0YqkfY=_15f35a9df6a:548084f:9ac85644",targetUrl:"https://blog.feedly.com/team-newsletters/"}}},90197:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(22590),i=s(55405),r=s(59003),a=s(71549);const o=[{id:"team-welcome",after:"0days",type:"notifications-carousel",data:{slides:[{visual:s(27430),header:"Introducing Feedly Business",sub:"Where smart teams research and share key industry trends",tags:!0},{visual:r,header:"Share Feeds",sub:"Follow in one place all your trusted sources and Google keyword alerts"},{visual:i,header:"Curate Boards",sub:"Annotate, save, and share the most important articles you read"},{visual:a,header:"Create Newsletters",sub:"Easily share the content of your boards and fuel your team's success"}],allowClose:!0}},n.cX,n._C,{id:"team-gettingStarted",type:"forced-landing",data:"team/gettingStarted",after:"7days"},n.wI]},20647:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n={hours:["01","02","03","04","05","06","07","08","09","10","11","12"],days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}},80875:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n={Security:"Cyber Security",IndustryIntelligence:"Industry Intelligence & Trend Spotting",SocialSelling:"Social Selling",EditorialInspiration:"Editorial Inspiration"}},58645:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var n=s(32735);function i(e,t,s){(0,n.useEffect)((()=>(e.registerObserver(t),()=>{e.unregisterObserver(t)})),s)}},51381:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M10.004 3.633v12.75M3.648 10.02h12.718"})))}))},5375:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.005 3.133a.5.5 0 0 1 .492.41l.008.09v12.75a.5.5 0 0 1-.992.09l-.008-.09V3.633a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M16.366 9.52a.5.5 0 0 1 .09.991l-.09.008H3.648a.5.5 0 0 1-.09-.992l.09-.008h12.718Z"})))}))},21174:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.48 2.78a.5.5 0 0 1 .85-.08l.047.08 2.797 5.687 6.256.918a.5.5 0 0 1 .333.788l-.056.065-2.47 2.413a.5.5 0 0 1-.757-.646l.059-.069 1.746-1.709-5.516-.808a.5.5 0 0 1-.324-.191l-.052-.083-2.465-5.012-2.464 5.012a.5.5 0 0 1-.282.25l-.094.024-5.517.808 3.993 3.904a.5.5 0 0 1 .15.345l-.007.097-.942 5.511 4.93-2.602a.5.5 0 0 1 .627.133l.049.076a.5.5 0 0 1-.133.626l-.076.05-5.827 3.075a.5.5 0 0 1-.734-.446l.008-.08 1.068-6.253-4.527-4.425a.5.5 0 0 1 .194-.833l.083-.02 6.255-.918 2.798-5.688Z"}),n.createElement("path",{d:"M17 13.5a.5.5 0 0 1 .492.41l.008.09v6a.5.5 0 0 1-.992.09L16.5 20v-6a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M20 16.5a.5.5 0 0 1 .09.992L20 17.5h-6a.5.5 0 0 1-.09-.992L14 16.5h6Z"})))}))},73789:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.492 2.28a.5.5 0 0 1 .849-.08l.048.08 2.312 4.7 5.17.759a.5.5 0 0 1 .333.787l-.057.065-2.057 2.011a.5.5 0 0 1-.758-.646l.059-.069 1.335-1.306-4.43-.65a.5.5 0 0 1-.325-.19l-.051-.083-1.98-4.025-1.979 4.025a.5.5 0 0 1-.281.25l-.095.024-4.431.649 3.207 3.136a.5.5 0 0 1 .15.344l-.006.097-.757 4.426 3.96-2.09a.5.5 0 0 1 .626.134l.049.076a.5.5 0 0 1-.133.626l-.076.05-4.856 2.562a.5.5 0 0 1-.734-.446l.008-.08.883-5.168-3.741-3.657a.5.5 0 0 1 .193-.833l.084-.02 5.168-.758 2.313-4.7Z"}),n.createElement("path",{d:"M14.167 11.167a.5.5 0 0 1 .492.41l.008.09v5a.5.5 0 0 1-.992.09l-.008-.09v-5a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M16.667 13.667a.5.5 0 0 1 .09.992l-.09.008h-5a.5.5 0 0 1-.09-.992l.09-.008h5Z"})))}))},15238:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15 2.357H5a1.929 1.929 0 0 0-1.929 1.929l-.71 6.373-.004 5.055c0 1.065.864 1.929 1.929 1.929h11.428a1.929 1.929 0 0 0 1.929-1.929v-5l-.717-6.484c.003-1.01-.86-1.873-1.926-1.873Zm-10 1h10c.513 0 .929.416.929.929l.717 6.484-.003 4.944a.929.929 0 0 1-.929.929H4.286a.929.929 0 0 1-.929-.929v-5l.711-6.373c.003-.568.42-.984.932-.984Z"}),n.createElement("path",{d:"M7.143 10.214a.5.5 0 0 1 .473.34c.42 1.23 1.184 1.803 2.384 1.803s1.965-.574 2.384-1.804a.5.5 0 0 1 .383-.33l.09-.009h4.286a.5.5 0 0 1 .09.992l-.09.008H13.2l-.027.068c-.57 1.298-1.577 2.006-2.962 2.07l-.211.005c-1.494 0-2.574-.712-3.173-2.075l-.028-.068H2.857a.5.5 0 0 1-.492-.41l-.008-.09a.5.5 0 0 1 .41-.492l.09-.008h4.286Z"})))}))},19495:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.146 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L9.5 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6Z",fill:"currentColor"}))}))},14978:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M5.36 7.504A.5.5 0 0 1 6 7.446l.069.058 3.931 3.932 3.933-3.932a.5.5 0 0 1 .638-.058l.07.058a.5.5 0 0 1 .057.637l-.058.07-4.285 4.285a.5.5 0 0 1-.638.058l-.07-.058-4.285-4.285a.5.5 0 0 1 0-.707Z",fill:"currentColor",fillRule:"nonzero"}))}))},26327:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.932 3.932a.5.5 0 0 1 .765.638l-.058.07-7.362 7.362 7.358 7.359a.5.5 0 0 1 .058.638l-.058.069a.5.5 0 0 1-.638.058l-.069-.058-7.71-7.713a.5.5 0 0 1-.058-.637l.058-.07 7.714-7.716Z",fill:"currentColor",fillRule:"nonzero"}))}))},14007:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M7.79 3.932a.5.5 0 0 1 .637-.058l.07.058 7.714 7.714a.5.5 0 0 1 .058.638l-.058.07-7.715 7.714a.5.5 0 0 1-.765-.638l.058-.07L15.15 12 7.79 4.64A.5.5 0 0 1 7.73 4l.058-.069Z",fill:"currentColor",fillRule:"nonzero"}))}))},1816:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M6.432 3.218a.5.5 0 0 1 .638-.058l.07.058 6.428 6.428a.5.5 0 0 1 .058.638l-.058.07-6.429 6.428a.5.5 0 0 1-.765-.638l.058-.069 6.075-6.076-6.075-6.074a.5.5 0 0 1-.058-.638l.058-.07Z",fill:"currentColor",fillRule:"nonzero"}))}))},20945:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M8.753 7.896 2.5 8.814l-.084.02a.5.5 0 0 0-.193.832l4.526 4.426-1.068 6.252-.007.08a.5.5 0 0 0 .734.447l5.592-2.953 5.594 2.953.074.032a.5.5 0 0 0 .653-.559l-1.07-6.252 4.528-4.426.057-.065a.5.5 0 0 0-.334-.787l-6.256-.918-2.796-5.688a.5.5 0 0 0-.898 0L8.753 7.896ZM12 3.562l2.466 5.012.051.082a.5.5 0 0 0 .325.192l5.515.808-3.991 3.904-.063.074a.5.5 0 0 0-.08.368l.94 5.51-4.929-2.601-.09-.037a.5.5 0 0 0-.376.037l-4.93 2.602.942-5.511.007-.097a.5.5 0 0 0-.15-.345L3.641 9.656l5.517-.808a.5.5 0 0 0 .376-.274L12 3.562Z",fill:"currentColor",fillRule:"nonzero"}))}))},9722:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.82 3.832 4.068 7.268a.5.5 0 0 0-.002.913l7.754 3.475a.5.5 0 0 0 .409 0l7.716-3.455a.5.5 0 0 0 0-.913l-7.716-3.455a.5.5 0 0 0-.407-.001Zm.203 1.004 6.494 2.908-6.494 2.908-6.525-2.925 6.525-2.891ZM3.83 16.088a.5.5 0 0 1 .575-.28l.085.029 7.55 3.383 7.511-3.364a.5.5 0 0 1 .617.174l.044.078a.5.5 0 0 1-.173.617l-.079.044-7.717 3.455a.5.5 0 0 1-.328.028l-.08-.028L4.08 16.75a.5.5 0 0 1-.252-.66Z"}),n.createElement("path",{d:"M3.83 11.803a.5.5 0 0 1 .575-.282l.085.03 7.55 3.383 7.511-3.363a.5.5 0 0 1 .617.173l.044.079a.5.5 0 0 1-.173.616l-.079.044-7.717 3.456a.5.5 0 0 1-.328.028l-.08-.028-7.754-3.476a.5.5 0 0 1-.252-.66Z"})))}))},44323:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.817 3.117 3.356 5.98a.5.5 0 0 0-.002.914l6.46 2.896a.5.5 0 0 0 .41 0l6.43-2.88a.5.5 0 0 0 0-.913l-6.43-2.88a.5.5 0 0 0-.407 0Zm.2 1.004 5.21 2.332-5.208 2.331L4.785 6.44l5.231-2.318ZM3.115 13.373a.5.5 0 0 1 .576-.281l.085.03 6.256 2.803 6.227-2.787a.5.5 0 0 1 .616.173l.045.078a.5.5 0 0 1-.174.617l-.078.044-6.431 2.88a.5.5 0 0 1-.329.028l-.08-.028-6.461-2.896a.5.5 0 0 1-.252-.661Z"}),n.createElement("path",{d:"M3.115 9.801a.5.5 0 0 1 .576-.28l.085.029 6.256 2.804 6.227-2.788a.5.5 0 0 1 .616.173l.045.08a.5.5 0 0 1-.174.616l-.078.044-6.431 2.88a.5.5 0 0 1-.329.027l-.08-.028-6.461-2.896a.5.5 0 0 1-.252-.66Z"})))}))},74713:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 5.929c-3.297 0-5.643 2.47-5.643 6.071 0 3.676 2.414 6.5 5.643 6.5 3.229 0 5.643-2.824 5.643-6.5 0-3.6-2.346-6.071-5.643-6.071Zm0 1c2.733 0 4.643 2.011 4.643 5.071 0 3.156-2.004 5.5-4.643 5.5S7.357 15.156 7.357 12c0-3.06 1.91-5.071 4.643-5.071Z"}),n.createElement("path",{d:"m16.169 16.226.067.06 1.452 1.543a.5.5 0 0 1 .096.145l.027.083.484 2.057a.5.5 0 0 1-.945.315l-.028-.086-.453-1.926-1.36-1.446a.5.5 0 0 1-.04-.64l.06-.067a.5.5 0 0 1 .565-.084l.075.046Zm-7.699.038a.5.5 0 0 1 .077.636l-.055.071-1.361 1.446-.453 1.926a.5.5 0 0 1-.512.385l-.089-.013a.5.5 0 0 1-.385-.512l.013-.089.484-2.057a.5.5 0 0 1 .068-.16l.054-.068 1.453-1.543a.5.5 0 0 1 .706-.022Zm10.79-3.221a.5.5 0 0 1 .412.216l.04.071.969 2.057a.5.5 0 0 1-.86.504l-.045-.078-.833-1.77h-1.619a.5.5 0 0 1-.492-.41l-.008-.09a.5.5 0 0 1 .41-.492l.09-.008h1.936Zm-12.584 0a.5.5 0 0 1 .09.992l-.09.008h-1.62l-.832 1.77a.5.5 0 0 1-.58.27l-.086-.03a.5.5 0 0 1-.27-.581l.03-.085.969-2.057a.5.5 0 0 1 .37-.28l.082-.007h1.937ZM19.77 5.329l.089.013a.5.5 0 0 1 .385.512l-.013.09-.968 4.113a.5.5 0 0 1-.243.323l-.077.034-1.452.514a.5.5 0 0 1-.416-.905l.082-.037 1.196-.424.905-3.848a.5.5 0 0 1 .512-.385Zm-15.056.3.028.085.905 3.848 1.195.424a.5.5 0 0 1 .327.55l-.022.088a.5.5 0 0 1-.551.327l-.087-.023-1.452-.514a.5.5 0 0 1-.294-.277l-.026-.08-.968-4.114a.5.5 0 0 1 .903-.392l.042.077Zm4.81-1.772.04.081.968 2.572a.5.5 0 0 1-.897.433l-.04-.081-.967-2.572a.5.5 0 0 1 .845-.504l.051.07Zm5.556-.21a.5.5 0 0 1 .316.557l-.024.086-.968 2.572a.5.5 0 0 1-.96-.265l.024-.087.968-2.572a.5.5 0 0 1 .644-.292Z"})))}))},39895:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M20.036 5.474a.75.75 0 0 1 1.142.967l-.071.085-11.786 12a.75.75 0 0 1-.986.074l-.084-.074-5.358-5.455a.75.75 0 0 1 .987-1.124l.084.073 4.822 4.909 11.25-11.455Z",fill:"currentColor",fillRule:"nonzero"}))}))},4425:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.786 4.65a.5.5 0 0 1 .77.63l-.056.07-9.822 10a.5.5 0 0 1-.644.06l-.07-.06L2.5 10.805a.5.5 0 0 1 .645-.76l.069.06 4.107 4.181 9.465-9.636Z",fill:"currentColor",fillRule:"nonzero"}))}))},69383:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.66a9.34 9.34 0 1 0 0 18.68 9.34 9.34 0 0 0 0-18.68Zm0 1a8.34 8.34 0 1 1 0 16.68 8.34 8.34 0 0 1 0-16.68Z"}),n.createElement("path",{d:"M8.536 8.277a1.116 1.116 0 1 0 0 2.232 1.116 1.116 0 0 0 0-2.232ZM15.393 8.277a1.116 1.116 0 1 0 0 2.232 1.116 1.116 0 0 0 0-2.232ZM12 13.214c1.004 0 2.181.147 3.534.44a.5.5 0 0 1-.211.978c-1.288-.28-2.397-.418-3.323-.418-1.247 0-2.438.702-3.107 1.815a.5.5 0 1 1-.857-.515c.846-1.409 2.359-2.3 3.964-2.3Z"})))}))},19577:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M4.79 4.79a.5.5 0 0 1 .637-.059l.07.058L19.21 18.504a.5.5 0 0 1-.638.765l-.07-.058L4.79 5.496a.5.5 0 0 1 0-.707Z"}),n.createElement("path",{d:"M18.504 4.79a.5.5 0 0 1 .765.637l-.058.07L5.496 19.21a.5.5 0 0 1-.765-.638l.058-.07L18.504 4.79Z"})))}))},763:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M3.932 3.932a.5.5 0 0 1 .638-.058l.07.058 11.428 11.429a.5.5 0 0 1-.638.765l-.07-.058L3.933 4.639a.5.5 0 0 1 0-.707Z"}),n.createElement("path",{d:"M15.36 3.932a.5.5 0 0 1 .766.638l-.058.07L4.639 16.067a.5.5 0 0 1-.765-.638l.058-.07L15.361 3.933Z"})))}))},26765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M13.029 3.443c.797 0 1.452.61 1.522 1.39l.006.138v4.115a.5.5 0 0 1-.992.09l-.008-.09V4.97a.529.529 0 0 0-.433-.52l-.095-.008H4.8a.529.529 0 0 0-.52.433l-.009.095V13.2c0 .26.187.475.434.52l.095.009h5.143a.5.5 0 0 1 .09.992l-.09.008H4.8c-.797 0-1.452-.61-1.522-1.39L3.27 13.2V4.971c0-.797.61-1.452 1.39-1.522l.139-.006h8.229Z"}),n.createElement("path",{d:"M19.2 8.586h-8.229c-.844 0-1.528.684-1.528 1.528v8.229c0 .844.684 1.528 1.528 1.528H19.2c.844 0 1.529-.684 1.529-1.528v-8.229c0-.844-.685-1.528-1.529-1.528Zm-8.229 1H19.2c.292 0 .529.236.529.528v8.229a.529.529 0 0 1-.529.528h-8.229a.529.529 0 0 1-.528-.528v-8.229c0-.292.236-.528.528-.528Z"})))}))},3166:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.857 2.786c.706 0 1.285.538 1.351 1.226l.006.13v3.43a.5.5 0 0 1-.992.09l-.008-.09v-3.43a.357.357 0 0 0-.285-.349l-.072-.007H4a.357.357 0 0 0-.35.285l-.007.072V11c0 .173.122.317.285.35l.072.007h4.286a.5.5 0 0 1 .09.992l-.09.008H4a1.357 1.357 0 0 1-1.35-1.226L2.642 11V4.143c0-.706.538-1.285 1.226-1.351L4 2.786h6.857Z"}),n.createElement("path",{d:"M16 7.071H9.143c-.75 0-1.357.608-1.357 1.358v6.857c0 .75.607 1.357 1.357 1.357H16c.75 0 1.357-.608 1.357-1.357V8.429c0-.75-.608-1.358-1.357-1.358Zm-6.857 1H16c.197 0 .357.16.357.358v6.857c0 .197-.16.357-.357.357H9.143a.357.357 0 0 1-.357-.357V8.429c0-.198.16-.358.357-.358Z"})))}))},83442:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.819 3.845a2.5 2.5 0 0 0-3.536.004l-8.61 8.633a2.5 2.5 0 0 0-.704 1.408l-.387 2.679a.5.5 0 0 0 .566.566l2.679-.386a2.5 2.5 0 0 0 1.411-.707l8.62-8.622a2.5 2.5 0 0 0 .113-3.416l-.152-.159Zm-.707.708.039.038a1.5 1.5 0 0 1 0 2.122l-8.62 8.622-.12.108a1.5 1.5 0 0 1-.727.316l-2.017.29.291-2.016a1.5 1.5 0 0 1 .423-.845l8.61-8.633a1.5 1.5 0 0 1 2.121-.002Z",fill:"currentColor",fillRule:"nonzero"}))}))},907:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M11.33 2c.871 0 1.477.32 1.968.893l.413.532.028.032.014.003c.28.067 1.04.18 2.252.332l.547.067c2.151.348 3.373 1.489 3.53 3.358l.15 1.9c.23 3.078.339 5.655.22 6.702-.36 3.172-2.135 6.181-5.294 6.181-1.79 0-2.909-.79-3.296-2.08-.286-.957-.106-2.153.34-2.707.693-.864 1.411-1.25 2.426-1.165l.246.03.08.019.042.013c.102.033.203.081.3.149.283.198.457.516.457.924 0 .468-.222.816-.573 1.04-.077.05-.155.09-.24.127l-.134.055c-.03.012-.14.05-.161.06a1.01 1.01 0 0 0-.15.068c-.165.097-.195.173-.068.45.163.358.506.427 1.222.143.534-.267.822-.698.89-1.35.081-.772-.649-1.543-1.498-1.805l-1.057-.283c-.127-.035-.24-.068-.32-.093a5.586 5.586 0 0 1-1.053-.437l-.168-.101-.12-.084-.032.078-.128.246c-.539.955-1.41 1.546-2.633 1.546-3.031 0-5.947-2.424-5.94-5.648l-.033-.237a6.97 6.97 0 0 1-.016-1.66 4 4 0 0 1 .164-.769c.308-.94 1.363-2.232 2.835-3.76a7.13 7.13 0 0 1 .682-.607c.166-.132.346-.268.54-.408.224-.164.46-.327.698-.487l.599-.39.105-.067.018-.037c.265-.475.856-.707 1.727-.76l.206-.01L11.33 2Zm0 1c-.848 0-1.244.146-1.288.294a.5.5 0 0 1-.145.23l-.092.065-.323.204-.118.076c-.347.225-.693.46-1.015.694l-.345.258-.159.123c-.242.193-.44.368-.585.518C5.914 6.86 4.896 8.11 4.655 8.841a3.018 3.018 0 0 0-.121.576c-.051.422-.042.883.005 1.323l.044.37c0 2.712 2.432 4.733 4.947 4.733.833 0 1.39-.377 1.762-1.038.137-.242.238-.505.307-.769l.032-.133.055-.297c.141-.491.883-.45.97.053l.008.1c0 .299.436.608 1.301.882l.333.096c.406.112.964.256 1.038.278 1.255.388 2.338 1.53 2.198 2.866-.103.985-.592 1.718-1.477 2.157-1.193.476-2.116.29-2.54-.64-.352-.772-.112-1.385.475-1.728l.091-.048c.09-.043.205-.091.287-.124l.132-.05.13-.056.008-.01c.083-.053.113-.1.113-.2 0-.072-.01-.089-.031-.104l-.017-.01-.019-.008-.145-.016c-.65-.054-1.063.176-1.56.795-.228.284-.357 1.138-.16 1.793.256.858.978 1.368 2.337 1.368 2.476 0 3.99-2.569 4.3-5.294.132-1.159-.054-4.613-.372-8.405-.116-1.38-.97-2.176-2.674-2.452l-1.519-.194c-.77-.105-1.252-.186-1.467-.247a.9.9 0 0 1-.394-.243c-.109-.11-.436-.553-.494-.621C12.226 3.179 11.887 3 11.33 3Zm5.46 6.988c.823 0 1.554.491 1.554 1.23 0 .336-.164.64-.437.862a1.014 1.014 0 0 1-.957.157l-.118-.05a.903.903 0 0 0-.171-.053l-.144-.013-.438-.007c-.375-.033-.71-.267-.808-.626a1.02 1.02 0 0 1-.036-.27c0-.739.73-1.23 1.554-1.23Zm0 1a.903.903 0 0 0-.435.1l-.044.028h.044c.092.001.178.004.255.008l.109.009c.112.01.23.037.35.076l.151.057.064.03-.006.007c.05-.041.066-.07.066-.086 0-.082-.219-.229-.555-.229Z",fill:"currentColor",fillRule:"nonzero"}))}))},80716:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M9.414 1.5c.777 0 1.322.277 1.763.773l.371.458.142.028c.284.052.808.126 1.56.218l.74.09c1.908.296 3.003 1.28 3.144 2.897l.115 1.38c.212 2.697.316 4.968.208 5.883-.32 2.705-1.893 5.273-4.694 5.273-1.59 0-2.593-.682-2.942-1.803-.26-.835-.096-1.874.313-2.364.528-.633 1.075-.969 1.786-1.01l.18-.003.182.008-.59-.154-.25-.07a5.41 5.41 0 0 1-.843-.324l-.172-.094-.121-.075-.113.211c-.42.715-1.062 1.194-1.935 1.309l-.206.02-.213.007c-2.682 0-5.266-2.068-5.258-4.82l-.03-.204a5.741 5.741 0 0 1-.014-1.422c.03-.237.078-.46.147-.665.276-.809 1.2-1.9 2.5-3.198.16-.16.362-.332.604-.517.145-.111.304-.227.474-.345.197-.138.404-.276.613-.411l.423-.267.177-.109.013-.025c.245-.415.766-.614 1.526-.663l.195-.009.205-.003Zm0 1c-.717 0-1.044.116-1.069.196a.5.5 0 0 1-.15.23l-.102.07-.373.228c-.303.189-.605.386-.886.582l-.3.216-.138.104c-.21.16-.38.306-.505.43-1.167 1.166-2.056 2.215-2.26 2.814-.046.136-.08.293-.102.466-.044.347-.036.73.004 1.093l.04.322c0 2.231 2.094 3.907 4.266 3.907.71 0 1.177-.306 1.492-.842.115-.196.2-.411.259-.626l.027-.108.028-.149c.073-.635.998-.582.998.048 0 .197.362.445 1.09.666l.197.056c.356.096.93.238 1.002.26 1.126.334 2.1 1.323 1.972 2.5-.093.859-.538 1.5-1.337 1.882-1.067.41-1.903.247-2.293-.576-.33-.696-.1-1.26.444-1.567l.091-.044c.089-.041.201-.086.272-.113l.018-.003c.212-.086.182-.073.177-.074l.008-.008c.04-.024.055-.038.06-.065l.004-.05.002-.001-.013-.006-.137-.013c-.437-.03-.743.085-1.065.395l-.121.125-.113.129c-.18.216-.288.902-.125 1.426.214.688.821 1.1 1.987 1.1 2.13 0 3.434-2.129 3.701-4.39.114-.966-.048-3.874-.326-7.059-.098-1.119-.818-1.766-2.283-1.994l-1.202-.147c-.75-.097-1.216-.17-1.417-.226a.851.851 0 0 1-.37-.22c-.1-.096-.389-.473-.437-.527-.26-.294-.543-.437-1.015-.437Zm3.51 11.025.084.065c.21.182.338.447.338.774 0 .429-.21.746-.537.948-.07.043-.141.078-.218.11l-.262.1a2.379 2.379 0 0 0-.092.038l-.029.014c-.113.064-.12.08-.03.267.123.261.395.314.993.086.447-.215.683-.553.74-1.073.051-.479-.33-.973-.851-1.26l-.136-.069Zm1.267-5.298c.75 0 1.422.435 1.422 1.114 0 .313-.156.594-.412.794a.963.963 0 0 1-.872.145l-.132-.052-.05-.018a.54.54 0 0 0-.105-.023l-.147-.008-.33-.005c-.35-.029-.665-.241-.762-.58a.922.922 0 0 1-.035-.253c0-.679.673-1.114 1.423-1.114Z",fill:"currentColor",fillRule:"nonzero"}))}))},13931:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.571 2.929H5.43a2.5 2.5 0 0 0-2.5 2.5V18.57a2.5 2.5 0 0 0 2.5 2.5H18.57a2.5 2.5 0 0 0 2.5-2.5V5.43a2.5 2.5 0 0 0-2.5-2.5Zm-13.142 1H18.57a1.5 1.5 0 0 1 1.5 1.5V18.57a1.5 1.5 0 0 1-1.5 1.5H5.43a1.5 1.5 0 0 1-1.5-1.5V5.43a1.5 1.5 0 0 1 1.5-1.5Z"}),n.createElement("path",{d:"M17.15 7.214a.5.5 0 0 1 .09.992l-.09.008h-1.711c-1.385 0-2.027.582-2.079 1.895l-.003.175v10.287a.5.5 0 0 1-.992.09l-.008-.09V10.284c0-1.919 1.009-2.991 2.871-3.066l.21-.004h1.711Z"}),n.createElement("path",{d:"M16.286 12.357a.5.5 0 0 1 .09.992l-.09.008H9.429a.5.5 0 0 1-.09-.992l.09-.008h6.857Z"})))}))},39908:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M2.857 8.071a9.071 9.071 0 0 1 9.072 9.072.5.5 0 1 1-1 0A8.071 8.071 0 0 0 2.857 9.07a.5.5 0 1 1 0-1Z"}),n.createElement("path",{d:"M2.857 2.357c8.166 0 14.786 6.62 14.786 14.786a.5.5 0 1 1-1 0c0-7.614-6.172-13.786-13.786-13.786a.5.5 0 1 1 0-1ZM4.286 13.786a1.929 1.929 0 1 0 0 3.857 1.929 1.929 0 0 0 0-3.857Zm0 1a.929.929 0 1 1 0 1.857.929.929 0 0 1 0-1.857Z"})))}))},94820:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.713 2.465 1.16 10.016a1.789 1.789 0 0 0 0 2.53l4.959 4.959c.335.336.791.524 1.266.524l5.19-.004c.474 0 .928-.19 1.263-.524l4.955-4.955a1.789 1.789 0 0 0 0-2.53l-7.552-7.551a1.789 1.789 0 0 0-2.53 0Zm-6.845 8.259L9.42 3.172a.789.789 0 0 1 1.115 0l7.552 7.552a.789.789 0 0 1 0 1.115l-4.955 4.955a.789.789 0 0 1-.557.23l-5.19.005a.789.789 0 0 1-.558-.231l-4.959-4.959a.789.789 0 0 1 0-1.115Z"}),n.createElement("path",{d:"M9.57 6.647a.5.5 0 0 1 .764.637l-.057.07-3.75 3.75a.5.5 0 0 1-.765-.638l.058-.07 3.75-3.75ZM9.583 10.66a.5.5 0 0 1 .765.637l-.058.07-1.75 1.75a.5.5 0 0 1-.765-.639l.058-.069 1.75-1.75ZM10.45 13.53a.5.5 0 0 1 .765.637l-.058.07-.749.748a.5.5 0 0 1-.765-.638l.058-.07.749-.748Z"})))}))},81464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M2.857 8.071a9.03 9.03 0 0 1 5.046 1.532.5.5 0 0 1-.557.83 8.03 8.03 0 0 0-4.489-1.362.5.5 0 1 1 0-1ZM2.857 2.357c3.616 0 7.032 1.304 9.704 3.63a.5.5 0 1 1-.657.754 13.728 13.728 0 0 0-9.047-3.384.5.5 0 1 1 0-1ZM4.286 13.786a1.929 1.929 0 1 0 0 3.857 1.929 1.929 0 0 0 0-3.857Zm0 1a.929.929 0 1 1 0 1.857.929.929 0 0 1 0-1.857ZM13.571 8.071a4.786 4.786 0 1 0 0 9.572 4.786 4.786 0 0 0 0-9.572Zm0 1a3.786 3.786 0 1 1 0 7.572 3.786 3.786 0 0 1 0-7.572Z"}),n.createElement("path",{d:"M15.005 12.357a.5.5 0 0 1 .09.992l-.09.008h-2.868a.5.5 0 0 1-.09-.992l.09-.008h2.868Z"})))}))},73028:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.143 14.071a.5.5 0 0 1 .492.41l.008.09v6a.5.5 0 0 1-.992.09l-.008-.09v-6a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M8.571 2.929c-1.187 0-2.133.172-2.864.464-.465.186-.763.385-.918.54a.5.5 0 0 0-.146.353V14.57a.5.5 0 0 0 .788.41l.065-.056c.06-.06.244-.183.583-.318.608-.243 1.43-.393 2.492-.393.865 0 1.512.154 2.7.608l1.129.443c1.283.49 2.018.664 3.029.664 1.187 0 2.133-.173 2.864-.465.465-.186.763-.385.918-.539a.5.5 0 0 0 .146-.354V4.286a.5.5 0 0 0-.788-.41l-.065.056c-.06.06-.244.183-.583.318-.608.244-1.43.393-2.492.393-.865 0-1.512-.154-2.7-.608L11.6 3.592c-1.283-.49-2.018-.663-3.029-.663Zm0 1c.927 0 1.604.176 2.962.71l.281.111c1.664.666 2.46.893 3.615.893l.348-.005c1.026-.03 1.858-.197 2.516-.46l.064-.027v9.173l-.04.025c-.096.055-.227.12-.396.187-.608.243-1.43.393-2.492.393-.927 0-1.604-.177-2.962-.71l-.281-.112c-1.664-.665-2.46-.893-3.615-.893l-.348.005c-1.026.03-1.858.197-2.516.46l-.064.027V4.533l.04-.024c.096-.055.227-.12.396-.188.608-.243 1.43-.392 2.492-.392Z"})))}))},40854:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.333 3a1.167 1.167 0 0 0-1.166 1.167v11.666A1.167 1.167 0 0 0 3.333 17h13.334a1.166 1.166 0 0 0 1.166-1.167V6.667A1.167 1.167 0 0 0 16.667 5.5H9.613c-.446 0-.862-.223-1.11-.594L7.331 3.148A.333.333 0 0 0 7.054 3h-3.72Zm-1.532-.365A2.167 2.167 0 0 1 3.333 2h3.721c.446 0 .862.223 1.11.594l1.171 1.758a.333.333 0 0 0 .278.148h7.054a2.167 2.167 0 0 1 2.166 2.167v9.166A2.167 2.167 0 0 1 16.667 18H3.333a2.167 2.167 0 0 1-2.166-2.167V4.167c0-.575.228-1.126.634-1.532Z",fill:"currentColor"}))}))},40830:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.354 3.646a.5.5 0 0 1 0 .708L3.207 9.5H18a.5.5 0 0 1 0 1H3.207l5.147 5.146a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0Z",fill:"currentColor"}))}))},92316:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.646 3.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708l5.147-5.146H2a.5.5 0 0 1 0-1h14.793l-5.147-5.146a.5.5 0 0 1 0-.708Z",fill:"currentColor"}))}))},16048:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"m14.888 7.701-5.484 5.372a.733.733 0 0 1-.106.137l-.258.257c-.141.142-.308.205-.372.14l-2.613-2.732c-.064-.064-.001-.232.14-.374l.258-.256c.142-.143.309-.206.373-.142l1.958 2.049 5.333-5.222a.362.362 0 0 1 .514 0l.257.257a.363.363 0 0 1 0 .514M10 2a8 8 0 1 0 .001 16 8 8 0 0 0 0-16",fill:"currentColor",fillRule:"evenodd"}))}))},67085:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h20v20H0z"}),n.createElement("path",{d:"M6.996 4v2.996H4v1h2.996v4.008H4v1h2.996V16h1v-2.996h4.008V16h1v-2.996H16v-1h-2.996V7.996H16v-1h-2.996V4h-1v2.996H7.996V4h-1Zm1 3.996h4.008v4.008H7.996V7.996Z",fill:"currentColor",fillRule:"nonzero"})))}))},90898:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.02 6.106a.5.5 0 0 1 .816.572l-.052.074-6.33 7.483a.5.5 0 0 1-.662.092l-.073-.06-3.933-3.918-3.932 3.933a.5.5 0 0 1-.638.058l-.07-.058a.5.5 0 0 1-.057-.638l.057-.069 4.286-4.286a.5.5 0 0 1 .637-.058l.07.058 3.9 3.886 5.982-7.07Z"}),n.createElement("path",{d:"M17.403 5.929a.5.5 0 0 1 .492.41l.008.09v3.214a.5.5 0 0 1-.992.09l-.008-.09-.001-2.714h-2.616a.5.5 0 0 1-.492-.41l-.008-.09a.5.5 0 0 1 .41-.492l.09-.008h3.117Z"})))}))},42070:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M3 3h7.49a2 2 0 0 1 1.645.863L15 8.008l-2.864 4.131a2 2 0 0 1-1.644.861H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"}))}))},19381:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"m8.265 1.455 1.666 3.871h3.243a.796.796 0 0 1 .56 1.392l-2.815 2.51 1.559 3.593a.852.852 0 0 1-1.21 1.065L7.502 11.76l-3.768 2.126a.849.849 0 0 1-1.21-1.065l1.56-3.592-2.815-2.511a.797.797 0 0 1 .556-1.392h3.248l1.669-3.87a.866.866 0 0 1 1.524 0Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"}))}))},74296:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.643a8.357 8.357 0 1 0 0 16.714 8.357 8.357 0 0 0 0-16.714Zm0 1a7.357 7.357 0 1 1 0 14.714 7.357 7.357 0 0 1 0-14.714Z"}),n.createElement("path",{d:"M7.242 6.691a2.857 2.857 0 0 1 5.552.952c0 .89-.54 1.61-1.4 2.184-.19.126-.387.239-.586.34l-.3.143-.071.03v1.237a.5.5 0 0 1-.41.492l-.09.008a.5.5 0 0 1-.492-.41l-.008-.09V10a.5.5 0 0 1 .342-.474l.238-.093.085-.037c.252-.112.504-.247.736-.401.612-.408.956-.867.956-1.353a1.857 1.857 0 0 0-3.609-.619.5.5 0 0 1-.943-.332ZM9.994 13.429a.5.5 0 0 1 .497.404l.009.09.004.357a.5.5 0 0 1-.991.101l-.009-.09-.004-.357a.5.5 0 0 1 .494-.505Z"})))}))},89521:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"m17.26 3.072-.202-.202a2.5 2.5 0 0 0-3.536.006l-9.721 9.756a2.5 2.5 0 0 0-.729 1.764v2.746a.5.5 0 0 0 .5.5h1.597a2.5 2.5 0 0 0 1.759-.724l2.148-2.126 8.184-8.184a2.5 2.5 0 0 0 0-3.536Zm-.908.506.201.201a1.5 1.5 0 0 1 0 2.121l-8.182 8.183-2.147 2.125-.11.098a1.5 1.5 0 0 1-.945.336H4.072v-2.246a1.5 1.5 0 0 1 .437-1.058l9.721-9.756a1.5 1.5 0 0 1 2.122-.004Z"}),n.createElement("path",{d:"M5.36 11.075A.5.5 0 0 1 6 11.017l.069.058 2.854 2.854a.5.5 0 0 1-.638.765l-.07-.058-2.853-2.854a.5.5 0 0 1 0-.707ZM17.143 16.643a.5.5 0 0 1 .09.992l-.09.008H9.295a.5.5 0 0 1-.09-.992l.09-.008h7.848Z"})))}))},14956:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17Zm0 1a7.5 7.5 0 1 1 0 15 7.5 7.5 0 0 1 0-15Z"}),n.createElement("path",{d:"m10 6.375.096.006a.708.708 0 1 1-.192 0L10 6.375ZM10 9.083a.5.5 0 0 1 .492.41l.008.09v4.584a.5.5 0 0 1-.992.09l-.008-.09V9.583a.5.5 0 0 1 .5-.5Z"})))}))},94197:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.571 2.929H5.43a2.5 2.5 0 0 0-2.5 2.5V18.57a2.5 2.5 0 0 0 2.5 2.5H18.57a2.5 2.5 0 0 0 2.5-2.5V5.43a2.5 2.5 0 0 0-2.5-2.5Zm-13.142 1H18.57a1.5 1.5 0 0 1 1.5 1.5V18.57a1.5 1.5 0 0 1-1.5 1.5H5.43a1.5 1.5 0 0 1-1.5-1.5V5.43a1.5 1.5 0 0 1 1.5-1.5Z"}),n.createElement("path",{d:"m11.494 8.447.006.124c0 .667 1 .667 1 0 0-.67.544-1.214 1.214-1.214.667 0 .667-1 0-1h-3.428c-.63 0-.665.892-.105.991l.105.01c.628 0 1.146.477 1.208 1.09ZM10.18 17.634l.106.009h3.428l.105-.01c.527-.092.527-.888 0-.981l-.105-.01-.124-.005a1.215 1.215 0 0 1-1.084-1.084l-.006-.124c0-.63-.892-.665-.991-.105l-.009.105c0 .628-.478 1.145-1.09 1.208l-.124.006c-.63 0-.665.892-.105.99Z"}),n.createElement("path",{d:"M12 7.214a.5.5 0 0 1 .492.41l.008.09v8.572a.5.5 0 0 1-.992.09l-.008-.09V7.714a.5.5 0 0 1 .5-.5Z"})))}))},12287:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M7.143 2.357a.5.5 0 0 1 .492.41l.008.09V5a.5.5 0 0 1-.992.09L6.643 5V2.857a.5.5 0 0 1 .5-.5ZM12.857 2.357a.5.5 0 0 1 .492.41l.008.09V5a.5.5 0 0 1-.992.09L12.357 5V2.857a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M15.714 4.5a.5.5 0 0 1 .09.992l-.09.008H4.286a.5.5 0 0 1-.09-.992l.09-.008h11.428Z"}),n.createElement("path",{d:"M14.286 4.5a.5.5 0 0 1 .492.41l.008.09v4.34c0 2.615-2.144 4.731-4.786 4.731-2.568 0-4.666-2-4.78-4.514l-.006-.216V5a.5.5 0 0 1 .992-.09l.008.09v4.34c0 2.06 1.694 3.731 3.786 3.731 2.025 0 3.676-1.565 3.78-3.532l.006-.198V5a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M10 13.071a.5.5 0 0 1 .5.5 4.786 4.786 0 0 1-4.786 4.786.5.5 0 1 1 0-1A3.786 3.786 0 0 0 9.5 13.571a.5.5 0 0 1 .5-.5Z"})))}))},81445:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15 9.5a.5.5 0 0 1 .492.41l.008.09v3c0 1.241-1.35 2.407-2.505 2.495l-.138.005H7.143c-1.137 0-2.531-1.118-2.637-2.351L4.5 13v-3a.5.5 0 0 1 .992-.09L5.5 10v3c0 .654.87 1.41 1.529 1.493l.114.007h5.714c.63 0 1.536-.72 1.634-1.384L14.5 13v-3a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M15.844 9.5c.957 0 1.723.792 1.794 1.78l.005.149v2.142a.5.5 0 0 1-.992.09l-.008-.09V11.43c0-.483-.314-.866-.7-.922l-.099-.007H10a.5.5 0 0 1-.09-.992L10 9.5h5.844Z"}),n.createElement("path",{d:"M10 9.5a.5.5 0 0 1 .09.992L10 10.5H4.156c-.397 0-.742.346-.792.81l-.007.119v2.142a.5.5 0 0 1-.992.09l-.008-.09V11.43c0-1.005.72-1.845 1.657-1.923l.142-.006H10ZM11.429 14.5a.5.5 0 0 1 .492.41l.008.09v1.429a1.929 1.929 0 0 1-3.852.15l-.006-.15V15a.5.5 0 0 1 .992-.09l.008.09v1.429a.929.929 0 0 0 1.851.108l.007-.108V15a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M10 2.357a5.5 5.5 0 0 1 5.496 5.279l.004.221V10a.5.5 0 0 1-.992.09L14.5 10V7.857a4.5 4.5 0 0 0-8.995-.212l-.005.212V10a.5.5 0 0 1-.992.09L4.5 10V7.857a5.5 5.5 0 0 1 5.5-5.5Z"}),n.createElement("path",{d:"M10 1.643a.5.5 0 0 1 .492.41l.008.09v.685a.5.5 0 0 1-.992.09l-.008-.09v-.685a.5.5 0 0 1 .5-.5ZM7.857 5.929a1.214 1.214 0 1 0 0 2.428 1.214 1.214 0 0 0 0-2.428Zm0 1a.214.214 0 1 1 0 .428.214.214 0 0 1 0-.428ZM12.143 5.929a1.214 1.214 0 1 0 0 2.428 1.214 1.214 0 0 0 0-2.428Zm0 1a.214.214 0 1 1 0 .428.214.214 0 0 1 0-.428Z"})))}))},15615:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.156 2.945a.5.5 0 0 1 .491.41l.009.09v16.904a.5.5 0 0 1-.992.09l-.008-.09V3.445a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M3.954 13.245a.5.5 0 0 1 .638-.062l.07.057 6.478 6.395 6.48-6.395a.5.5 0 0 1 .638-.053l.069.058a.5.5 0 0 1 .053.638l-.058.07-6.83 6.74a.5.5 0 0 1-.634.057l-.069-.057-6.83-6.74a.5.5 0 0 1-.005-.708ZM20.143 6.357a.5.5 0 0 1 .09.992l-.09.008H15a.5.5 0 0 1-.09-.992l.09-.008h5.143Z"})))}))},86451:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.296 2.37a.5.5 0 0 1 .492.41l.008.09v14.088a.5.5 0 0 1-.992.09l-.008-.09V2.87a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M14.625 10.974a.5.5 0 0 1 .76.643l-.058.069-5.692 5.617A.5.5 0 0 1 9 17.36l-.068-.057-5.693-5.617a.5.5 0 0 1 .633-.77l.07.058 5.34 5.271 5.342-5.27ZM16.786 5.214a.5.5 0 0 1 .09.992l-.09.008H12.5a.5.5 0 0 1-.09-.992l.09-.008h4.286Z"})))}))},14354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M7.44 3.158c-2.717 2.562-2.536 6.565.265 9.206.603.568.935 1.818.935 3.75v1.029a.5.5 0 0 0 .5.5h6.546a.5.5 0 0 0 .5-.5v-1.029c0-1.932.332-3.182.934-3.75 2.86-2.696 3.01-6.619.265-9.206-2.75-2.592-7.195-2.592-9.944 0Zm9.26.728c2.312 2.18 2.188 5.438-.266 7.75l-.13.133c-.762.83-1.118 2.278-1.118 4.345v.528H9.639v-.528c0-2.182-.395-3.674-1.248-4.478-2.397-2.26-2.547-5.598-.264-7.75 2.3-2.169 6.001-2.227 8.377-.176l.195.176ZM15.429 20.071a.5.5 0 0 1 .09.992l-.09.008h-6a.5.5 0 0 1-.09-.992l.09-.008h6Z"})))}))},69065:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.429 8.929a5.643 5.643 0 0 0-5.643 5.642v6a.5.5 0 0 0 .5.5h3.428a.5.5 0 0 0 .5-.5v-6a1.214 1.214 0 1 1 2.429 0v6a.5.5 0 0 0 .5.5h3.428a.5.5 0 0 0 .5-.5v-6A5.643 5.643 0 0 0 15.43 8.93Zm.212 1.004a4.643 4.643 0 0 1 4.43 4.638v5.5h-2.428v-5.5a2.214 2.214 0 0 0-2.214-2.214l-.159.006a2.214 2.214 0 0 0-2.056 2.208v5.5h-2.428v-5.5a4.643 4.643 0 0 1 4.643-4.642l.212.004ZM6.857 9.786H3.43a.5.5 0 0 0-.5.5V20.57a.5.5 0 0 0 .5.5h3.428a.5.5 0 0 0 .5-.5V10.286a.5.5 0 0 0-.5-.5Zm-.5 1v9.285H3.929v-9.285h2.428ZM5.143 3.786a2.214 2.214 0 1 0 0 4.428 2.214 2.214 0 0 0 0-4.428Zm0 1a1.214 1.214 0 1 1 0 2.428 1.214 1.214 0 0 1 0-2.428Z"})))}))},79987:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M19.429 4.643H4.57a2.5 2.5 0 0 0-2.5 2.5v10.571a2.5 2.5 0 0 0 2.5 2.5H19.43a2.5 2.5 0 0 0 2.5-2.5V7.143a2.5 2.5 0 0 0-2.5-2.5Zm-14.858 1H19.43a1.5 1.5 0 0 1 1.5 1.5v10.571a1.5 1.5 0 0 1-1.5 1.5H4.57a1.5 1.5 0 0 1-1.5-1.5V7.143a1.5 1.5 0 0 1 1.5-1.5Z"}),n.createElement("path",{d:"M5.593 8.28a.5.5 0 0 1 .62-.161l.078.046 5.7 4.077 5.719-4.078a.5.5 0 0 1 .638.049l.06.068a.5.5 0 0 1-.05.639l-.068.058-6.008 4.286a.5.5 0 0 1-.504.045l-.078-.045-5.99-4.286a.5.5 0 0 1-.117-.697Z"})))}))},51196:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16.366 9.52a.5.5 0 0 1 .09.991l-.09.008H3.648a.5.5 0 0 1-.09-.992l.09-.008h12.718Z",fill:"currentColor",fillRule:"nonzero"}))}))},84756:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 10.393a1.607 1.607 0 1 0 0 3.214 1.607 1.607 0 0 0 0-3.214ZM18 10.393a1.607 1.607 0 1 0 0 3.214 1.607 1.607 0 0 0 0-3.214ZM6 10.393a1.607 1.607 0 1 0 0 3.214 1.607 1.607 0 0 0 0-3.214Z"})))}))},69247:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 8.786a1.214 1.214 0 1 0 0 2.428 1.214 1.214 0 0 0 0-2.428Zm0 1a.214.214 0 1 1 0 .428.214.214 0 0 1 0-.428ZM15 8.786a1.214 1.214 0 1 0 0 2.428 1.214 1.214 0 0 0 0-2.428Zm0 1a.214.214 0 1 1 0 .428.214.214 0 0 1 0-.428ZM5 8.786a1.214 1.214 0 1 0 0 2.428 1.214 1.214 0 0 0 0-2.428Zm0 1a.214.214 0 1 1 0 .428.214.214 0 0 1 0-.428Z"})))}))},25193:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.071c-5.483 0-9.929 4.446-9.929 9.929 0 5.483 4.446 9.929 9.929 9.929 5.483 0 9.929-4.446 9.929-9.929 0-5.483-4.446-9.929-9.929-9.929Zm0 1a8.929 8.929 0 1 1 0 17.858A8.929 8.929 0 0 1 12 3.07Z"}),n.createElement("path",{d:"M5.1 5.064a.5.5 0 0 1 .636-.077l.07.055L19.2 17.636a.5.5 0 0 1-.614.784l-.071-.056L5.122 5.771a.5.5 0 0 1-.022-.707Z"})))}))},61142:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M19.371 4.643c1.351 0 2.465 1.01 2.552 2.297l.006.162v9.796c0 1.31-1.06 2.371-2.39 2.454l-.168.005h-3.076a.5.5 0 0 1-.09-.992l.09-.008h3.076c.818 0 1.48-.588 1.551-1.327l.007-.132V7.102c0-.756-.618-1.385-1.415-1.453l-.143-.006H16.29a.5.5 0 0 1-.09-.992l.09-.008h3.082ZM10.364 2.522 4.935 3.615a2.5 2.5 0 0 0-2.006 2.451v11.875a2.5 2.5 0 0 0 1.986 2.447l5.429 1.139a2.5 2.5 0 0 0 3.013-2.447V4.973a2.5 2.5 0 0 0-2.993-2.45Zm1.964 2.155c.02.097.03.196.03.296V19.08a1.5 1.5 0 0 1-1.809 1.468L5.121 19.41a1.5 1.5 0 0 1-1.192-1.468V6.066a1.5 1.5 0 0 1 1.203-1.47l5.429-1.094a1.5 1.5 0 0 1 1.731 1.035l.036.14Z"}),n.createElement("path",{d:"M10.313 8.621a.5.5 0 0 1 .492.41l.008.09v5.424a.5.5 0 0 1-.82.385l-.063-.064-3.414-4.083v3.762a.5.5 0 0 1-.41.492l-.09.008a.5.5 0 0 1-.492-.41l-.008-.09V9.407a.5.5 0 0 1 .82-.385l.063.064 3.414 4.08V9.121a.5.5 0 0 1 .41-.492l.09-.008ZM18.067 8.162a.5.5 0 0 1 .09.992l-.09.008h-1.781a.5.5 0 0 1-.09-.992l.09-.008h1.78ZM18.067 11.59a.5.5 0 0 1 .09.992l-.09.008h-1.781a.5.5 0 0 1-.09-.992l.09-.008h1.78ZM18.067 15.019a.5.5 0 0 1 .09.992l-.09.008h-1.781a.5.5 0 0 1-.09-.992l.09-.008h1.78Z"})))}))},25035:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M16.143 3.786c1.164 0 2.127.868 2.209 1.98l.005.152v8.164c0 1.132-.912 2.05-2.057 2.127l-.157.005h-2.564a.5.5 0 0 1-.09-.992l.09-.008h2.564c.63 0 1.142-.446 1.207-1.01l.007-.122V5.918c0-.578-.469-1.063-1.081-1.126l-.133-.006h-2.57a.5.5 0 0 1-.089-.992l.09-.008h2.569ZM8.22 2.1l-3.856.777a2.5 2.5 0 0 0-2.007 2.451v9.353a2.5 2.5 0 0 0 1.987 2.446l3.857.81a2.5 2.5 0 0 0 3.013-2.447V4.55a2.5 2.5 0 0 0-2.993-2.45Zm1.965 2.155c.02.098.03.197.03.296V15.49a1.5 1.5 0 0 1-1.809 1.468l-3.857-.81a1.5 1.5 0 0 1-1.192-1.467V5.328a1.5 1.5 0 0 1 1.204-1.47l3.857-.777a1.5 1.5 0 0 1 1.732 1.034l.035.14Z"}),n.createElement("path",{d:"M8.594 7.101a.5.5 0 0 1 .492.41l.008.09v4.52a.5.5 0 0 1-.82.385l-.063-.064-2.698-3.226v2.905a.5.5 0 0 1-.41.492l-.09.008a.5.5 0 0 1-.492-.41l-.008-.09V7.839a.5.5 0 0 1 .82-.385l.064.064 2.697 3.226V7.6a.5.5 0 0 1 .41-.492l.09-.008ZM15.056 6.718a.5.5 0 0 1 .09.992l-.09.008H13.57a.5.5 0 0 1-.09-.992l.09-.008h1.485ZM15.056 9.575a.5.5 0 0 1 .09.992l-.09.008H13.57a.5.5 0 0 1-.09-.992l.09-.008h1.485ZM15.056 12.432a.5.5 0 0 1 .09.992l-.09.008H13.57a.5.5 0 0 1-.09-.992l.09-.008h1.485Z"})))}))},54274:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M5.36 2.504a.5.5 0 0 1 .766.637l-.058.07-2.143 2.143a.5.5 0 0 1-.765-.638l.058-.07L5.36 2.504Z"}),n.createElement("path",{d:"M5.36 2.504A.5.5 0 0 1 6 2.446l.069.058L8.21 4.646a.5.5 0 0 1-.638.765l-.07-.057L5.362 3.21a.5.5 0 0 1 0-.707Z"}),n.createElement("path",{d:"M5.714 2.357a.5.5 0 0 1 .492.41l.008.09v5.714a.5.5 0 0 1-.992.09l-.008-.09V2.857a.5.5 0 0 1 .5-.5ZM14.286 10.929a.5.5 0 0 1 .492.41l.008.09v5.714a.5.5 0 0 1-.992.09l-.008-.09v-5.714a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M16.075 14.646a.5.5 0 0 1 .765.638l-.058.07-2.143 2.142a.5.5 0 0 1-.765-.637l.058-.07 2.143-2.143Z"}),n.createElement("path",{d:"M11.79 14.646a.5.5 0 0 1 .637-.057l.07.057 2.142 2.143a.5.5 0 0 1-.638.765l-.069-.058-2.143-2.142a.5.5 0 0 1 0-.708ZM17.143 2.357h-5.714a.5.5 0 0 0-.5.5v5.714a.5.5 0 0 0 .5.5h5.714a.5.5 0 0 0 .5-.5V2.857a.5.5 0 0 0-.5-.5Zm-.5 1v4.714h-4.715V3.357h4.714ZM8.571 10.929H2.857a.5.5 0 0 0-.5.5v5.714a.5.5 0 0 0 .5.5h5.714a.5.5 0 0 0 .5-.5v-5.714a.5.5 0 0 0-.5-.5Zm-.5 1v4.713H3.357v-4.714h4.714Z"})))}))},44970:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M21.075 2.218a.5.5 0 0 1 .765.638l-.058.069-10.879 10.88a.5.5 0 0 1-.765-.639l.058-.069 10.879-10.88Z"}),n.createElement("path",{d:"m2.408 8.626-.082.037a.5.5 0 0 0 .006.875l7.85 4.281 4.28 7.849a.5.5 0 0 0 .912-.076L21.9 2.735a.5.5 0 0 0-.636-.636L2.408 8.626ZM20.619 3.38 14.8 20.196l-3.81-6.985-.054-.079a.5.5 0 0 0-.146-.12L3.802 9.2 20.62 3.38Z"})))}))},89458:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M17.504 1.79a.5.5 0 0 1 .765.637l-.058.07-9.066 9.065a.5.5 0 0 1-.765-.638l.058-.069 9.066-9.066Z"}),n.createElement("path",{d:"m1.98 7.11-.083.036a.5.5 0 0 0 .006.875l6.519 3.556 3.557 6.52a.5.5 0 0 0 .911-.076l5.44-15.715a.5.5 0 0 0-.636-.636L1.979 7.11Zm15.068-4.158-4.733 13.673-3.085-5.656-.053-.079a.5.5 0 0 0-.146-.12L3.375 7.685l13.673-4.733Z"})))}))},9648:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.571 3.786H5.714a.5.5 0 0 0-.5.5v11.428a.5.5 0 0 0 .5.5h2.857a.5.5 0 0 0 .5-.5V4.286a.5.5 0 0 0-.5-.5Zm-.5 1v10.428H6.214V4.786h1.857ZM14.286 3.786h-2.857a.5.5 0 0 0-.5.5v11.428a.5.5 0 0 0 .5.5h2.857a.5.5 0 0 0 .5-.5V4.286a.5.5 0 0 0-.5-.5Zm-.5 1v10.428h-1.858V4.786h1.857Z"})))}))},35307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M18.857 3.786H5.143A2.214 2.214 0 0 0 2.929 6v5.143a9.071 9.071 0 1 0 18.142 0V6a2.214 2.214 0 0 0-2.214-2.214Zm-13.714 1h13.714c.67 0 1.214.543 1.214 1.214v5.143a8.071 8.071 0 1 1-16.142 0V6c0-.67.543-1.214 1.214-1.214Z"}),n.createElement("path",{d:"M8.218 9.932a.5.5 0 0 1 .638-.058l.069.058L12 13.007l3.075-3.075a.5.5 0 0 1 .638-.058l.07.058a.5.5 0 0 1 .057.638l-.058.07-3.428 3.428a.5.5 0 0 1-.638.058l-.07-.058-3.428-3.429a.5.5 0 0 1 0-.707Z"})))}))},1464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M15.714 3.071H4.286A1.929 1.929 0 0 0 2.357 5v4.286a7.643 7.643 0 1 0 15.286 0V5a1.929 1.929 0 0 0-1.929-1.929Zm-11.428 1h11.428c.513 0 .929.416.929.929v4.286a6.643 6.643 0 0 1-13.286 0V5c0-.513.416-.929.929-.929Z"}),n.createElement("path",{d:"M6.79 8.218a.5.5 0 0 1 .637-.058l.07.058L10 10.72l2.504-2.503a.5.5 0 0 1 .637-.058l.07.058a.5.5 0 0 1 .058.638l-.058.069-2.857 2.857a.5.5 0 0 1-.638.058l-.07-.058L6.79 8.925a.5.5 0 0 1 0-.707Z"})))}))},76730:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.692 3H8.308C7.033 3 6 4.06 6 5.368v15.158l.006.08a.46.46 0 0 0 .668.34l5.332-2.84 5.32 2.84a.462.462 0 0 0 .674-.42V5.368C18 4.06 16.967 3 15.692 3Z",fill:"currentColor",fillRule:"nonzero"}))}))},68130:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M16 2.929H8a2.5 2.5 0 0 0-2.5 2.5v16l.007.084a.5.5 0 0 0 .723.36l5.777-2.998 5.762 2.997a.5.5 0 0 0 .731-.443v-16a2.5 2.5 0 0 0-2.5-2.5Zm0 1 .144.006A1.5 1.5 0 0 1 17.5 5.43v15.176l-5.261-2.737-.09-.036a.5.5 0 0 0-.371.036L6.5 20.606V5.429a1.5 1.5 0 0 1 1.5-1.5h8Z",fill:"currentColor",fillRule:"nonzero"}))}))},56816:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M13 2.357H7a2.5 2.5 0 0 0-2.5 2.5v13l.007.084a.5.5 0 0 0 .723.36l4.775-2.478 4.764 2.478a.5.5 0 0 0 .731-.444v-13a2.5 2.5 0 0 0-2.5-2.5Zm0 1 .144.007A1.5 1.5 0 0 1 14.5 4.857v12.176l-4.263-2.217-.09-.036a.5.5 0 0 0-.37.036L5.5 17.034V4.857a1.5 1.5 0 0 1 1.5-1.5h6Z",fill:"currentColor",fillRule:"nonzero"}))}))},28594:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M15.555 2.07a2.167 2.167 0 1 1-2.167 2.152l-2.015-.567-.734 2.879c1.47.092 2.817.499 3.896 1.129a2.234 2.234 0 0 1 3.948 1.54 2.237 2.237 0 0 1-1.404 1.972c.012.116.018.234.018.353 0 2.818-3.21 5.014-7.098 5.014s-7.097-2.196-7.097-5.014c0-.12.006-.237.017-.354a2.235 2.235 0 1 1 2.546-3.512c1.139-.665 2.578-1.081 4.145-1.14l.922-3.61a.5.5 0 0 1 .53-.374l.09.017 2.473.695a2.167 2.167 0 0 1 1.93-1.18ZM9.999 7.513c-1.733 0-3.284.48-4.388 1.238a.017.017 0 0 1-.006.006c-1.058.727-1.703 1.71-1.703 2.77 0 2.167 2.698 4.014 6.097 4.014 3.4 0 6.098-1.847 6.098-4.014 0-2.168-2.699-4.014-6.098-4.014Zm-2.224 5.571a4.473 4.473 0 0 0 2.232.557c.771.01 1.532-.18 2.208-.551a.5.5 0 0 1 .481.876 5.447 5.447 0 0 1-2.69.675 5.458 5.458 0 0 1-2.715-.682.5.5 0 0 1 .484-.875Zm5.002-4.14a1.542 1.542 0 1 1 0 3.083 1.542 1.542 0 0 1 0-3.084Zm-5.555 0a1.542 1.542 0 1 1 0 3.083 1.542 1.542 0 0 1 0-3.084Zm5.555 1a.542.542 0 1 0 0 1.083.542.542 0 0 0 0-1.084Zm-5.555 0a.542.542 0 1 0 0 1.083.542.542 0 0 0 0-1.084Zm8.232-1.793-.09.082c.681.553 1.193 1.214 1.478 1.947a1.236 1.236 0 1 0-1.389-2.03ZM3.449 7.899a1.236 1.236 0 0 0-.292 2.284c.285-.736.797-1.397 1.477-1.949A1.235 1.235 0 0 0 3.449 7.9Zm12.106-4.83a1.167 1.167 0 1 0 0 2.334 1.167 1.167 0 0 0 0-2.334Z",fill:"currentColor",fillRule:"nonzero"}))}))},45146:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 6.307a.5.5 0 0 1 .5-.5h.77c1.75 0 3.055.446 3.915 1.302.754.72 1.121 1.68 1.121 2.846v.03c0 .913-.25 1.696-.71 2.335A4.01 4.01 0 0 1 5.8 13.46l2.276 3.245a.5.5 0 0 1-.41.787H4.164a.5.5 0 0 1-.413-.219l-2.163-3.175a.5.5 0 0 1-.087-.281v-2.381a.5.5 0 0 1 .5-.5h.63c.445 0 .729-.106.89-.234.149-.117.237-.284.237-.534v-.03c0-.28-.096-.44-.24-.548-.164-.123-.453-.22-.901-.22H2a.5.5 0 0 1-.5-.5V6.308Zm1 .5V8.37h.116c.567 0 1.099.118 1.5.418.424.317.641.79.641 1.35v.03c0 .529-.208.995-.616 1.317-.393.311-.922.45-1.51.45H2.5v1.727l1.927 2.829h2.278l-2.06-2.937a.5.5 0 0 1 .218-.75c.611-.253 1.093-.613 1.422-1.07.326-.453.521-1.028.521-1.75v-.03c0-.94-.288-1.624-.815-2.126l-.008-.008c-.609-.608-1.618-1.014-3.212-1.014H2.5Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.198 2.961a.5.5 0 0 1 .477-.352h4.456a.5.5 0 0 1 .355.149c2.408 2.436 3.89 5.625 3.89 9.135 0 3.675-1.625 6.995-4.237 9.47a.5.5 0 0 1-.344.137h-4.12a.5.5 0 0 1-.328-.877c.853-.742 1.955-1.98 2.842-3.515.886-1.535 1.54-3.337 1.54-5.215 0-1.755-.659-3.562-1.551-5.093-.895-1.536-1.987-2.731-2.786-3.278a.5.5 0 0 1-.194-.56Zm1.822.648c.69.702 1.407 1.632 2.022 2.687.946 1.624 1.687 3.607 1.687 5.597 0 2.106-.73 4.081-1.674 5.715A15.95 15.95 0 0 1 7.908 20.5h2.686c2.353-2.294 3.782-5.306 3.782-8.607 0-3.147-1.298-6.033-3.456-8.284h-2.9Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.345 2.878a.5.5 0 0 1 .444-.269h3.976a.5.5 0 0 1 .437.257c1.516 2.718 2.395 5.776 2.395 9.027 0 3.381-.94 6.56-2.578 9.36a.5.5 0 0 1-.431.247h-4.021a.5.5 0 0 1-.403-.796c1.863-2.544 2.952-5.565 2.952-8.811 0-3.116-1.009-6.018-2.737-8.498a.5.5 0 0 1-.034-.517Zm1.37.731c1.52 2.455 2.401 5.273 2.401 8.284 0 3.141-.953 6.078-2.596 8.607h2.778c1.466-2.596 2.3-5.514 2.3-8.607 0-2.966-.775-5.767-2.13-8.284h-2.752Z",fill:"currentColor"}))}))},86044:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12.857 2.357a.5.5 0 1 1 0 1A2.357 2.357 0 0 0 10.5 5.714c0 .667-1 .667-1 0a2.357 2.357 0 0 0-2.357-2.357.5.5 0 1 1 0-1c1.174 0 2.208.603 2.808 1.516l.049.08.05-.08a3.355 3.355 0 0 1 2.623-1.51l.184-.006ZM9.509 14.18c.093-.526.889-.526.982 0l.009.105.005.162a2.358 2.358 0 0 0 2.19 2.19l.162.006a.5.5 0 1 1 0 1 3.354 3.354 0 0 1-2.808-1.516l-.05-.08-.048.08a3.355 3.355 0 0 1-2.624 1.51l-.184.006a.5.5 0 1 1 0-1c1.247 0 2.269-.97 2.352-2.196l.005-.161.009-.105Z"}),n.createElement("path",{d:"M10 4.5a.5.5 0 0 1 .492.41L10.5 5v10a.5.5 0 0 1-.992.09L9.5 15V5a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M12.857 12.357a.5.5 0 0 1 .09.992l-.09.008H7.143a.5.5 0 0 1-.09-.992l.09-.008h5.714Z"})))}))},30392:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M4.5 3.571V16.43a.5.5 0 0 0 .77.42l10-6.428a.5.5 0 0 0 0-.842l-10-6.428a.5.5 0 0 0-.77.42Zm1 .915L14.074 10 5.5 15.512V4.486Z",fill:"currentColor",fillRule:"nonzero"}))}))},36899:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10.714 2.679a8.036 8.036 0 1 0 0 16.071 8.036 8.036 0 0 0 0-16.071Zm0 1.5a6.536 6.536 0 1 1 0 13.071 6.536 6.536 0 0 1 0-13.071Z"}),n.createElement("path",{d:"M15.756 15.755a.75.75 0 0 1 .977-.072l.084.073 3.424 3.432a.75.75 0 0 1-.977 1.133l-.084-.073-3.425-3.433a.75.75 0 0 1 .001-1.06Z"})))}))},51205:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M8.929 2.357a6.571 6.571 0 1 0 0 13.143 6.571 6.571 0 0 0 0-13.143Zm0 1a5.571 5.571 0 1 1 0 11.143 5.571 5.571 0 0 1 0-11.143Z"}),n.createElement("path",{d:"M13.218 13.217a.5.5 0 0 1 .638-.057l.07.058 2.853 2.86a.5.5 0 0 1-.638.765l-.07-.058-2.854-2.86a.5.5 0 0 1 .001-.708Z"})))}))},30271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"m11.305 2.259-.66.724a.869.869 0 0 1-1.29.002l-.658-.726a1.869 1.869 0 0 0-3.25 1.344l.047.98a.87.87 0 0 1-.912.916l-.98-.05A1.869 1.869 0 0 0 2.258 8.7l.727.66a.87.87 0 0 1 .001 1.292l-.727.657a1.869 1.869 0 0 0 1.35 3.251l.978-.05a.868.868 0 0 1 .912.912l-.05.979a1.87 1.87 0 0 0 3.249 1.346l.66-.728a.87.87 0 0 1 1.29-.001l.658.728a1.87 1.87 0 0 0 3.248-1.343l-.05-.982a.869.869 0 0 1 .912-.912l.978.05a1.869 1.869 0 0 0 1.348-3.254l-.728-.657a.87.87 0 0 1 0-1.29l.728-.657a1.87 1.87 0 0 0-1.345-3.254l-.979.05a.867.867 0 0 1-.908-.911l.05-.978a1.869 1.869 0 0 0-3.254-1.348Zm1.72.45c.34.14.553.48.535.847l-.05.979a1.869 1.869 0 0 0 1.957 1.96l.98-.05a.869.869 0 0 1 .624 1.513l-.728.656a1.87 1.87 0 0 0 0 2.776l.728.657a.869.869 0 0 1-.627 1.512l-.978-.05a1.868 1.868 0 0 0-1.961 1.962l.05.978a.868.868 0 0 1-1.51.623l-.655-.725a1.869 1.869 0 0 0-2.774 0l-.66.726a.868.868 0 0 1-1.51-.625l.05-.975a1.868 1.868 0 0 0-1.961-1.962l-.978.05a.868.868 0 0 1-.629-1.511l.727-.657a1.87 1.87 0 0 0 0-2.775l-.726-.66a.869.869 0 0 1 .625-1.51l.976.05a1.867 1.867 0 0 0 1.963-1.966l-.047-.976a.869.869 0 0 1 1.51-.625l.657.724a1.867 1.867 0 0 0 2.774 0l.659-.724a.87.87 0 0 1 .979-.222Z"}),n.createElement("path",{d:"M10 6.643a3.357 3.357 0 1 0 0 6.714 3.357 3.357 0 0 0 0-6.714Zm0 1a2.357 2.357 0 1 1 0 4.714 2.357 2.357 0 0 1 0-4.714Z"})))}))},63836:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M14.286 2.357a2.643 2.643 0 1 0 0 5.286 2.643 2.643 0 0 0 0-5.286Zm0 1a1.643 1.643 0 1 1 0 3.286 1.643 1.643 0 0 1 0-3.286ZM5.714 7.357a2.643 2.643 0 1 0 0 5.286 2.643 2.643 0 0 0 0-5.286Zm0 1a1.643 1.643 0 1 1 0 3.286 1.643 1.643 0 0 1 0-3.286ZM14.286 12.357a2.643 2.643 0 1 0 0 5.286 2.643 2.643 0 0 0 0-5.286Zm0 1a1.643 1.643 0 1 1 0 3.286 1.643 1.643 0 0 1 0-3.286Z"}),n.createElement("path",{d:"M7.132 10.827a.5.5 0 0 1 .602-.219l.082.039 4.879 2.842a.5.5 0 0 1-.422.903l-.082-.039-4.878-2.842a.5.5 0 0 1-.18-.684ZM12.184 5.647a.5.5 0 0 1 .577.811l-.073.052-4.872 2.843a.5.5 0 0 1-.577-.811l.073-.052 4.872-2.843Z"})))}))},77496:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.94 2a.5.5 0 0 1 .45.28l2.311 4.7 5.17.759a.5.5 0 0 1 .276.852l-1.63 1.594a.5.5 0 0 1-.7-.715l.91-.888-4.431-.65a.5.5 0 0 1-.376-.274L9.94 3.633 7.961 7.658a.5.5 0 0 1-.376.274l-4.43.65 3.206 3.135a.5.5 0 0 1 .144.441l-.757 4.426 3.96-2.09a.5.5 0 0 1 .466.885l-4.856 2.563a.5.5 0 0 1-.726-.526l.883-5.168-3.741-3.657a.5.5 0 0 1 .277-.852L7.18 6.98l2.312-4.7A.5.5 0 0 1 9.94 2Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.583 12.167a2.417 2.417 0 1 0 0 4.833 2.417 2.417 0 0 0 0-4.833Zm-3.416 2.416a3.417 3.417 0 1 1 6.833 0 3.417 3.417 0 0 1-6.833 0Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.354 14.583a.5.5 0 0 1 .5-.5h1.459a.5.5 0 1 1 0 1h-1.459a.5.5 0 0 1-.5-.5Z",fill:"currentColor"}))}))},29306:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M10 2.134a7.866 7.866 0 1 0 0 15.732 7.866 7.866 0 0 0 0-15.732Zm0 1a6.866 6.866 0 1 1 0 13.732 6.866 6.866 0 0 1 0-13.732Z"}),n.createElement("path",{d:"M10 6.062a3.937 3.937 0 1 0 0 7.875 3.937 3.937 0 0 0 0-7.875Zm0 1a2.938 2.938 0 1 1 0 5.875 2.938 2.938 0 0 1 0-5.875Z"}),n.createElement("path",{d:"M14.855 4.438a.5.5 0 0 1 .765.638l-.058.07-2.779 2.778a.5.5 0 0 1-.765-.638l.058-.07 2.779-2.778ZM12.076 12.076a.5.5 0 0 1 .638-.058l.07.058 2.778 2.779a.5.5 0 0 1-.638.765l-.07-.058-2.778-2.779a.5.5 0 0 1 0-.707ZM7.217 12.076a.5.5 0 0 1 .765.638l-.058.07-2.779 2.778a.5.5 0 0 1-.765-.638l.058-.07 2.779-2.778ZM4.438 4.438a.5.5 0 0 1 .638-.058l.07.058 2.778 2.779a.5.5 0 0 1-.638.765l-.07-.058-2.778-2.779a.5.5 0 0 1 0-.707Z"})))}))},92219:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.79 9.79a.5.5 0 0 1 .637-.057l.07.058 2.672 2.672a.5.5 0 0 1-.638.765l-.069-.058-2.673-2.672a.5.5 0 0 1 0-.707Z"}),n.createElement("path",{d:"M10.143 5.437a.5.5 0 0 1 .492.41l.008.09v4.207a.5.5 0 0 1-.992.09l-.008-.09V5.937a.5.5 0 0 1 .5-.5Z"}),n.createElement("path",{d:"M10.143 2.643a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15Zm0 1a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13Z"})))}))},70664:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n.createElement("defs",null,n.createElement("path",{id:"toolbar-plane_svg__a",d:"M0 0h28v28H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"toolbar-plane_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#toolbar-plane_svg__a"})),n.createElement("use",{fillOpacity:0,fill:"#FFF",xlinkHref:"#toolbar-plane_svg__a"}),n.createElement("path",{d:"m5 15.563 4.25 1.593L11.375 23l3.04-4.059 5.46 1.934L22 6 5 15.563Zm7.617 2.592-.973 2.64-1.154-3.313 8.927-8.107-6.8 8.78Z",fill:"currentColor",fillRule:"nonzero",mask:"url(#toolbar-plane_svg__b)"})))}))},1948:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M13.714 2.929c1.17 0 2.128.907 2.209 2.056l.006.158v1.714a.5.5 0 0 1-.992.09l-.008-.09V5.143c0-.629-.478-1.146-1.09-1.208l-.125-.006h-3.428c-.629 0-1.146.477-1.208 1.09l-.007.124v1.714a.5.5 0 0 1-.992.09l-.008-.09V5.143c0-1.17.907-2.128 2.057-2.209l.158-.005h3.428Z"}),n.createElement("path",{d:"M19.714 6.357a.5.5 0 0 1 .09.992l-.09.008H4.286a.5.5 0 0 1-.09-.992l.09-.008h15.428Z"}),n.createElement("path",{d:"M18 6.357H6a.5.5 0 0 0-.5.5v12c0 1.223.991 2.214 2.214 2.214h8.572a2.214 2.214 0 0 0 2.214-2.214v-12a.5.5 0 0 0-.5-.5Zm-11.5 1h11v11.5c0 .67-.544 1.214-1.214 1.214H7.714l-.124-.006a1.214 1.214 0 0 1-1.09-1.208v-11.5Z"})))}))},11505:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M11.429 2.357c1.014 0 1.845.783 1.922 1.778l.006.15v1.43a.5.5 0 0 1-.992.09l-.008-.09v-1.43a.929.929 0 0 0-.82-.922l-.108-.006H8.57a.929.929 0 0 0-.922.82l-.006.109v1.428a.5.5 0 0 1-.992.09l-.008-.09V4.286c0-1.015.783-1.846 1.778-1.923l.15-.006h2.858Z"}),n.createElement("path",{d:"M16.429 5.214a.5.5 0 0 1 .09.992l-.09.008H3.57a.5.5 0 0 1-.09-.992l.09-.008H16.43Z"}),n.createElement("path",{d:"M15 5.214H5a.5.5 0 0 0-.5.5v10c0 1.065.863 1.929 1.929 1.929h7.142a1.929 1.929 0 0 0 1.929-1.929v-10a.5.5 0 0 0-.5-.5Zm-9.5 1h9v9.5a.929.929 0 0 1-.929.929H6.43l-.109-.006a.929.929 0 0 1-.82-.923v-9.5Z"})))}))},36728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M14.09 5.002a4.34 4.34 0 0 0-2.59 4.03v.349l-.109-.003a8.637 8.637 0 0 1-6.696-3.665.5.5 0 0 0-.866.084l-.09.223-.041.109c-.094.255-.187.545-.274.865-.495 1.818-.581 3.73.007 5.537l.092.267c.647 1.766 1.921 3.242 3.905 4.336l.105.056-.158.088a9.477 9.477 0 0 1-4.784 1.08c-.526-.021-.723.68-.262.936 8.374 4.653 17.885-.41 17.885-10.294l-.009-.27a3.62 3.62 0 0 0-.028-.273l-.18.188a7.117 7.117 0 0 0 1.917-3.384.5.5 0 0 0-.774-.527l-.295.2c-.598.386-1.24.7-1.913.932l-.05.016-.081-.08a4.34 4.34 0 0 0-4.509-.882l-.201.082Zm4.27 1.78a.5.5 0 0 0 .521.151l.378-.122c.374-.13.74-.281 1.096-.454l.123-.065-.024.054a6.117 6.117 0 0 1-1.16 1.587.5.5 0 0 0-.14.45c.04.204.06.41.06.619l-.003.285c-.164 8.149-7.352 12.587-14.43 10.03l-.21-.077.197-.03a10.477 10.477 0 0 0 4.084-1.653.5.5 0 0 0-.078-.871c-2.38-1.058-3.78-2.584-4.392-4.465-.52-1.594-.441-3.318.007-4.965l.063-.227.2.225a9.638 9.638 0 0 0 7.361 3.129.5.5 0 0 0 .487-.5v-.857a3.34 3.34 0 0 1 5.86-2.243Z",fill:"currentColor",fillRule:"nonzero"}))}))},50240:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M11.694 4.099a3.7 3.7 0 0 0-2.191 3.228L9.5 7.73h-.06a7.114 7.114 0 0 1-5.46-3.017.5.5 0 0 0-.865.084l-.085.207a8.637 8.637 0 0 0-.257.802c-.416 1.53-.49 3.138.007 4.662l.085.246c.507 1.37 1.463 2.531 2.918 3.424l.319.186-.1.054a7.814 7.814 0 0 1-3.84.837c-.525-.021-.722.68-.262.936 7.033 3.907 15.029-.349 15.029-8.651l-.008-.23-.02-.194-.178.187a6.014 6.014 0 0 0 1.62-2.859.5.5 0 0 0-.774-.527l-.279.187c-.376.24-.774.446-1.188.613l-.345.13-.058-.057a3.7 3.7 0 0 0-3.819-.728l-.186.077Zm3.543 1.608a.5.5 0 0 0 .521.15l.363-.118c.24-.084.475-.18.706-.286l.046-.024-.011.024c-.228.401-.51.771-.842 1.098a.5.5 0 0 0-.14.45c.032.165.048.333.049.5l-.003.264c-.15 6.64-5.947 10.284-11.723 8.321l-.071-.025.085-.014a8.814 8.814 0 0 0 3.207-1.348.5.5 0 0 0-.078-.87c-1.963-.873-3.113-2.126-3.615-3.67l-.084-.283c-.305-1.128-.263-2.328.01-3.491l.092-.36.142.157a8.115 8.115 0 0 0 6.122 2.554.5.5 0 0 0 .487-.5V7.52a2.7 2.7 0 0 1 4.737-1.815Z",fill:"currentColor",fillRule:"nonzero"}))}))},92814:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.86 1.732c-.326.04-.619.215-.818.481L6.492 6.54 4.043 4.375l-.12-.087a1.171 1.171 0 0 0-1.353.12c-.344.29-.51.748-.453 1.199l.837 7.335a.75.75 0 0 0 .745.665h12.6a.75.75 0 0 0 .745-.665l.838-7.345a1.34 1.34 0 0 0-.454-1.188 1.171 1.171 0 0 0-1.353-.12l-.12.086-2.448 2.166-2.503-4.258c-.275-.374-.625-.56-1.005-.56l-.14.01ZM7.604 7.606l2.397-4.076 2.392 4.075c.184.313.49.534.847.595l.138.015c.321.015.634-.104.871-.328l2.07-1.832-.69 6.052H4.37l-.69-6.052 2.088 1.847c.252.24.621.359.99.297.357-.06.662-.28.847-.593ZM16.429 16.393a.75.75 0 0 1 .101 1.493l-.101.007H3.57A.75.75 0 0 1 3.47 16.4l.101-.007H16.43Z"})))}))},89919:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M9.873 1.983a.958.958 0 0 0-.631.38L6.553 6.928 3.878 4.562c-.422-.257-.841-.218-1.146.038a1.096 1.096 0 0 0-.366.975l.838 7.339a.5.5 0 0 0 .496.443h12.6a.5.5 0 0 0 .496-.443l.839-7.345a1.092 1.092 0 0 0-.367-.969l-.106-.077a.918.918 0 0 0-.96-.019L13.446 6.93l-2.657-4.52c-.213-.289-.49-.435-.789-.435l-.127.009ZM7.39 7.479l2.611-4.442 2.609 4.44c.147.252.39.429.672.476l.124.013a.936.936 0 0 0 .673-.261l2.562-2.267-.788 6.919H4.145L3.36 5.455v-.03l2.575 2.29a.92.92 0 0 0 .782.238.972.972 0 0 0 .674-.474ZM16.429 16.643a.5.5 0 0 1 .09.992l-.09.008H3.57a.5.5 0 0 1-.09-.992l.09-.008H16.43Z"})))}))},24818:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.264 4.531c.767-1.344 2.705-1.344 3.473 0l5.748 10.06c.762 1.333-.2 2.992-1.736 2.992H4.25c-1.535 0-2.498-1.659-1.736-2.992l5.749-10.06Zm2.604.496a1 1 0 0 0-1.736 0l-5.749 10.06a1 1 0 0 0 .868 1.496H15.75a1 1 0 0 0 .868-1.496l-5.749-10.06Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 7.833a.5.5 0 0 1 .5.5V12.5a.5.5 0 0 1-1 0V8.333a.5.5 0 0 1 .5-.5Z",fill:"currentColor"}),n.createElement("path",{d:"m10 14.167.08.005a.59.59 0 1 1-.16 0l.08-.005Z",fill:"currentColor"}))}))},40429:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5.5a4.5 4.5 0 1 0 4.244 3 .5.5 0 1 1 .943-.333 5.5 5.5 0 1 1-3.354-3.354.5.5 0 0 1-.333.943A4.492 4.492 0 0 0 10 5.5Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.167a7.833 7.833 0 1 0 7.475 5.483.5.5 0 0 1 .954-.3 8.833 8.833 0 1 1-5.779-5.779.5.5 0 0 1-.3.954A7.83 7.83 0 0 0 10 2.167Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.008 7.875a.5.5 0 0 1-.36.61 1.533 1.533 0 1 0 1.868 1.866.5.5 0 1 1 .968.25A2.533 2.533 0 1 1 9.4 7.516a.5.5 0 0 1 .61.36Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.942 1.179a.5.5 0 0 1 .361.317l.587 1.614 1.614.587a.5.5 0 0 1 .183.823l-1.423 1.423c-.25.25-.589.39-.942.39h-1.948l-4.02 4.02a.5.5 0 1 1-.708-.707l4.02-4.02V3.678c0-.353.141-.692.391-.942l1.423-1.423a.5.5 0 0 1 .462-.134Zm-1.275 4.154h1.655a.333.333 0 0 0 .235-.097l.868-.868-1.096-.398a.5.5 0 0 1-.299-.3l-.398-1.095-.868.868a.333.333 0 0 0-.097.235v1.655Z",fill:"currentColor"}))}))},75200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(32735);const i=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{fill:"currentColor",fillRule:"nonzero"},n.createElement("path",{d:"M12 2.071c-5.483 0-9.929 4.446-9.929 9.929 0 5.483 4.446 9.929 9.929 9.929 5.483 0 9.929-4.446 9.929-9.929 0-5.483-4.446-9.929-9.929-9.929Zm0 1a8.929 8.929 0 1 1 0 17.858A8.929 8.929 0 0 1 12 3.07Z"}),n.createElement("path",{d:"M3.216 7.984a.5.5 0 0 1 .62.161l.045.078L9.115 19.34l2.392-5.714a.502.502 0 0 1 .403-.404l.103-.008a.5.5 0 0 1 .488.61l-.027.083-2.87 6.857a.5.5 0 0 1-.865.104l-.049-.084L2.976 8.65a.5.5 0 0 1 .24-.665Z"}),n.createElement("path",{d:"M16.701 6.708c.373-1.192 1.306-1.705 2.444-1.159 1.48.71 1.528 2.437.369 4.979l-.12.257-3.929 9.97a.5.5 0 0 1-.888.083l-.042-.084-4.715-12a.5.5 0 0 1 .89-.446l.041.08 4.25 10.818 1.87-4.745.001-.013.03-.085c.439-.955.466-2.163.063-3.634l-.086-.297c-.414-1.356-.483-2.747-.178-3.724Zm2.011-.257c-.546-.262-.854-.093-1.056.555-.22.706-.188 1.775.102 2.862l.077.272c.099.321.18.634.243.939l.04.214.36-.907c1.047-2.196 1.084-3.436.322-3.888l-.088-.047Z"}),n.createElement("path",{d:"M12 8.071a.5.5 0 0 1 .09.992l-.09.008H9.429a.5.5 0 0 1-.09-.992l.09-.008H12ZM5.143 8.071a.5.5 0 0 1 .09.992l-.09.008H3.429a.5.5 0 0 1-.09-.992l.09-.008h1.714Z"})))}))},87753:(e,t,s)=>{"use strict";s.d(t,{K:()=>r,c:()=>a});var n=s(44686),i=s(77157);function r(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];c()||(s.includes("amplitude")&&o(e,t),s.includes("ga")&&l(e,t))}function a(e,t){if(c())return;const s=(new n.Z.Identify).setOnce(e,t);n.Z.getInstance().identify(s)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.Z.getInstance().logEvent(e,t)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t;if("begin_checkout"===e||"purchase"===e||"refund"===e){const{product:e,...n}=t;s={...n,items:[{item_id:e}]}}gtag("event",e,s)}function c(){const e=i.F.load();return e&&e.sudoSession}},53411:(e,t,s)=>{"use strict";function n(e){for(var t,s,n=e.length;n;t=parseInt(Math.random()*n),s=e[--n],e[n]=e[t],e[t]=s);return e}function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.filter((e=>!t.find((t=>s(e,t)))))}s.d(t,{T:()=>n,v:()=>i})},86779:(e,t,s)=>{"use strict";s.d(t,{H:()=>n});const n=Object.freeze({Elodie:"https://calendly.com/elodie-feedly",Nick:"https://calendly.com/nicholas-chiasson",cybersecurity:"https://calendly.com/feedly/cybersecurity",enterprise:"https://calendly.com/c/HACSZ25KSZZR3DNZ?month=2021-01",business:"https://calendly.com/feedly/business",fallback:"https://calendly.com/feedly/walkthrough",proOnboarding:"https://calendly.com/feedly/feedly-pro-onboarding"})},96297:(e,t,s)=>{"use strict";s.d(t,{y5:()=>l,h6:()=>c,_P:()=>d});var n=s(28033),i=s.n(n),r=s(32735),a=s(94773);const o={"American Express":(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M6.799 14.23h1.246l-.623-1.528-.623 1.527Zm17.36-2.904h-3.191l-.779.84-.7-.84h-6.774l-.623 1.375-.623-1.375H8.745v.612l-.312-.612H6.098L3.84 16.674h2.725l.311-.84h.779l.311.84h3.036v-.611l.234.61h1.557l.234-.687v.688h6.228l.779-.84.7.84h3.192L21.902 14l2.258-2.674Zm-9.42 4.584h-.856v-2.98l-1.324 2.98h-.778l-1.324-2.98v2.98h-1.79l-.312-.84H6.487l-.311.84H5.164l1.634-3.82h1.324L9.6 15.68v-3.59h1.479l1.168 2.597 1.09-2.597h1.478v3.82h-.077Zm7.708 0h-1.168l-1.012-1.3-1.168 1.3h-3.504v-3.82h3.582l1.09 1.222 1.167-1.222h1.09L20.812 14l1.635 1.91Zm-5.995-3.056v.688h1.946v.764h-1.946v.764h2.18l1.012-1.146-.934-1.07h-2.258Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 0 1 2.834-2.834h18.666a2.833 2.833 0 0 1 2.834 2.834v11.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V8.167Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667Z",fill:"currentColor"}))})),"Diners Club":(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 0 1 2.834-2.834h18.666a2.833 2.833 0 0 1 2.834 2.834v11.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V8.167Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667Z",fill:"currentColor"}),r.createElement("path",{d:"M12.25 11.75v4.5A2.33 2.33 0 0 0 14 14a2.33 2.33 0 0 0-1.75-2.25Z",fill:"currentColor"}),r.createElement("path",{d:"M16.333 9.333h-4.666a4.667 4.667 0 0 0 0 9.334h4.666a4.667 4.667 0 0 0 0-9.334ZM11.667 17.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5Z",fill:"currentColor"}),r.createElement("path",{d:"M11.083 11.75A2.33 2.33 0 0 0 9.333 14a2.33 2.33 0 0 0 1.75 2.25v-4.5Z",fill:"currentColor"}))})),Discover:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 0 1 2.834-2.834h18.666a2.833 2.833 0 0 1 2.834 2.834v11.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V8.167Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667Z",fill:"currentColor"}),r.createElement("path",{d:"M14.55 12.403c-.903 0-1.637.706-1.637 1.578 0 .927.702 1.619 1.637 1.619.914 0 1.633-.702 1.633-1.602.001-.894-.714-1.595-1.633-1.595ZM5.255 12.46h-.88v3.071h.875c.466 0 .801-.11 1.096-.355.35-.289.558-.726.558-1.18 0-.906-.678-1.536-1.649-1.536Zm.7 2.307c-.19.17-.432.244-.82.244h-.16v-2.03h.16c.388 0 .621.069.821.247.206.185.33.47.33.764 0 .296-.124.591-.33.775ZM7.776 12.46H7.18v3.071h.597v-3.07ZM9.242 13.637c-.36-.132-.466-.22-.466-.386 0-.193.189-.34.447-.34.18 0 .328.072.485.248l.312-.409a1.336 1.336 0 0 0-.902-.34c-.543 0-.958.377-.958.877 0 .425.193.64.755.845.235.081.354.137.415.175.12.077.179.188.179.316 0 .25-.198.434-.466.434a.708.708 0 0 1-.653-.41l-.386.374c.276.404.607.585 1.063.585.622 0 1.06-.416 1.06-1.01 0-.488-.203-.71-.885-.959ZM10.315 13.997c0 .903.709 1.603 1.621 1.603.257 0 .478-.05.75-.18v-.705c-.24.241-.45.336-.724.336-.603 0-1.03-.436-1.03-1.059 0-.588.441-1.054 1.004-1.054.284 0 .5.1.75.345v-.704a1.533 1.533 0 0 0-.738-.188c-.906 0-1.633.713-1.633 1.606ZM17.538 14.522l-.818-2.062h-.654l1.302 3.149h.322l1.327-3.149h-.648l-.83 2.062ZM19.289 15.531h1.698v-.52h-1.099v-.829h1.057v-.52h-1.057v-.682h1.099v-.52h-1.698v3.071ZM23.358 13.366c0-.575-.395-.906-1.087-.906h-.89v3.071h.601v-1.235h.078l.827 1.235h.738l-.966-1.295c.45-.091.699-.4.699-.87Zm-1.201.507h-.174v-.929h.183c.374 0 .575.157.575.456 0 .307-.2.473-.584.473Z",fill:"currentColor"}))})),JCB:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 0 1 2.834-2.834h18.666a2.833 2.833 0 0 1 2.834 2.834v11.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V8.167Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.933 14.236H19.073l.018.001.02.001.018.002.019.002a.747.747 0 0 1 .049.007l.007.002a.648.648 0 0 1 .094.032.407.407 0 0 1 .076.042.645.645 0 0 1 .075.063.516.516 0 0 1 .132.242.539.539 0 0 1-.094.438.514.514 0 0 1-.245.17.58.58 0 0 1-.038.01l-.007.001a.176.176 0 0 1-.03.005.747.747 0 0 1-.038.005l-.019.001-.019.001-.018.001H17.931v-1.026Zm1.516-1.16a.506.506 0 0 1-.075.387.446.446 0 0 1-.207.159.425.425 0 0 1-.076.023l-.018.003-.005.001a.743.743 0 0 1-.07.008h-.038l-.003.001H17.933v-.947H18.978l.02.002a1.046 1.046 0 0 1 .07.007h.005a.63.63 0 0 1 .056.014l.019.006a.603.603 0 0 1 .094.045.404.404 0 0 1 .075.057.414.414 0 0 1 .095.126.465.465 0 0 1 .037.107s-.005-.022 0 0Zm2.335-4.91h.008v9.723a1.965 1.965 0 0 1-.234.923 2.228 2.228 0 0 1-.132.21l-.018.026-.02.025-.018.024-.019.023a2.023 2.023 0 0 1-.019.022l-.019.023-.018.02a1.25 1.25 0 0 1-.02.021l-.018.02-.019.02-.019.019-.019.018a1.064 1.064 0 0 1-.018.018l-.02.018-.018.017a1.485 1.485 0 0 1-.019.017l-.019.016-.019.016-.018.015-.02.015-.018.015-.019.014-.019.014-.019.014-.018.013-.02.013-.018.012-.019.013-.019.012-.019.011-.018.012-.02.01-.018.012a.891.891 0 0 1-.019.01l-.019.01-.018.01-.02.01-.018.01-.02.009a1.083 1.083 0 0 1-.018.009l-.019.009-.018.008a1.542 1.542 0 0 1-.02.008l-.018.009-.019.007-.019.008-.019.007-.018.007-.02.007-.018.007-.019.006-.019.006-.019.007a4.434 4.434 0 0 0-.018.005l-.02.006a1.031 1.031 0 0 1-.018.005l-.019.005-.019.006-.019.004-.018.005-.02.004-.018.004-.019.005-.019.003-.019.004-.019.003-.018.003-.02.004-.018.002-.019.003-.019.003-.018.002-.02.002-.018.002-.019.002-.019.001-.019.002h-.018l-.02.002h-.018l-.019.001h-.019l-.019.001H16.98V15.87H20.07l.02-.002h.018l.019-.002h.019l.019-.002.018-.002.02-.002.018-.002.019-.002.019-.003.019-.003.019-.002.018-.004.02-.003.018-.004.019-.003.019-.005c.006 0 .012-.002.019-.004l.018-.004.02-.005.018-.005.019-.005.019-.006.018-.006.02-.006a1.036 1.036 0 0 0 .037-.013l.019-.007a1.05 1.05 0 0 0 .019-.008l.018-.008a.76.76 0 0 0 .02-.008l.018-.008a1.08 1.08 0 0 0 .038-.018l.019-.01.018-.01.02-.01.018-.01c.006-.005.013-.008.019-.012a1.196 1.196 0 0 0 .17-.13.82.82 0 0 0 .018-.019l.02-.02a.905.905 0 0 0 .187-.311.848.848 0 0 0 .046-.287.877.877 0 0 0-.064-.327.841.841 0 0 0-.358-.403 1.178 1.178 0 0 0-.038-.023l-.019-.01a1.121 1.121 0 0 0-.018-.01l-.02-.01a.656.656 0 0 0-.056-.027l-.019-.008a1.504 1.504 0 0 0-.018-.008l-.02-.007a.607.607 0 0 0-.018-.008l-.019-.007-.019-.006-.019-.007-.018-.006a.678.678 0 0 0-.02-.005l-.018-.006-.019-.005a1.318 1.318 0 0 0-.038-.01l-.018-.004-.02-.005c-.006 0-.012-.002-.018-.004l-.019-.003-.019-.004-.019-.003-.018-.003-.02-.003a.567.567 0 0 0-.018-.003l-.019-.003-.019-.002-.019-.002-.019-.002-.018-.002-.02-.002h-.017v-.023l.018-.003.019-.003.018-.003.02-.004a1.04 1.04 0 0 0 .018-.004l.019-.004a1.034 1.034 0 0 0 .038-.009l.019-.005a1.03 1.03 0 0 0 .018-.005l.02-.006a1.363 1.363 0 0 0 .056-.018l.019-.007.018-.007.02-.008a.63.63 0 0 0 .056-.025l.018-.01.02-.009.018-.01.019-.01a1.164 1.164 0 0 0 .056-.036l.02-.013.018-.014a1.025 1.025 0 0 0 .132-.12l.019-.022a.832.832 0 0 0 .188-.632.87.87 0 0 0-.075-.274.84.84 0 0 0-.15-.212.654.654 0 0 0-.095-.082.704.704 0 0 0-.038-.027l-.018-.013-.02-.012-.018-.011-.019-.01-.019-.011a1.11 1.11 0 0 0-.056-.029l-.02-.008a1.065 1.065 0 0 0-.018-.008l-.019-.008a1.05 1.05 0 0 0-.037-.015l-.02-.007-.018-.006a1.034 1.034 0 0 0-.019-.006l-.019-.006a1.031 1.031 0 0 0-.019-.005l-.018-.006a.659.659 0 0 0-.02-.005l-.018-.005-.019-.004a.64.64 0 0 0-.019-.004l-.019-.004-.019-.004a.626.626 0 0 0-.018-.003l-.02-.004-.018-.003-.019-.003-.019-.002-.018-.003-.02-.002-.018-.002-.019-.002-.019-.002-.019-.001-.018-.002h-.02l-.007-.001h-.011l-.019-.002h-.019l-.019-.002h-.018l-.02-.002h-.037l-.019-.001H16.98v-2.02a1.946 1.946 0 0 1 .342-1.1l.019-.026a1.54 1.54 0 0 1 .056-.076l.02-.023a2.061 2.061 0 0 1 .037-.045l.019-.021.018-.021.02-.02.018-.02.019-.02.019-.018.019-.018.018-.017.02-.018.018-.016.019-.017.019-.016.019-.015a1.38 1.38 0 0 1 .018-.015l.02-.015.018-.014a2.556 2.556 0 0 1 .038-.028l.019-.013c.006-.005.012-.01.018-.013l.02-.013.018-.012.019-.013.019-.011.018-.012.02-.01.018-.012.019-.01.019-.01c.006-.004.012-.008.019-.01.006-.004.012-.008.018-.01l.02-.01a1.37 1.37 0 0 1 .018-.01l.019-.009.019-.008.019-.01.018-.007.02-.008.018-.008.019-.008.019-.007.019-.007.018-.007.02-.007.018-.007.019-.006.019-.006.019-.006.018-.005.02-.006.018-.005.019-.005.019-.005.019-.005.018-.004.02-.004.018-.004.019-.004.019-.004.019-.004.019-.003.018-.003c.007 0 .013-.002.02-.003l.018-.002.019-.003.019-.002.018-.002.02-.003.018-.001.019-.002.019-.001.019-.001.018-.002h.02l.018-.001h.019l.019-.001H21.785ZM6.249 14.933a7.063 7.063 0 0 1-.04-.02v-4.802a1.946 1.946 0 0 1 .34-1.098l.02-.027c.005-.01.012-.018.018-.026l.019-.025.019-.025.018-.023a1.776 1.776 0 0 1 .038-.045l.019-.021.019-.021.018-.02a1.743 1.743 0 0 1 .038-.039l.019-.019.019-.018.018-.017.02-.018.018-.016.019-.017.019-.015A1.666 1.666 0 0 1 7 8.547l.018-.014a1.68 1.68 0 0 1 .076-.051l.018-.013.02-.011.018-.012.019-.01c.006-.005.012-.008.019-.012l.018-.01.02-.01c.005-.004.012-.008.018-.01a2.07 2.07 0 0 1 .038-.02l.018-.01a1.71 1.71 0 0 1 .02-.009l.018-.008.019-.01.019-.007.018-.009.02-.007.018-.008.019-.007.019-.008.018-.007.02-.006.018-.007.019-.006.019-.006.018-.006.02-.006.018-.005.019-.006.019-.005.018-.005.02-.004.018-.005.019-.004.019-.004.018-.004.02-.003.018-.004.019-.003.019-.003.018-.003.02-.003.018-.003.019-.002.019-.002.018-.002.02-.002.018-.002.019-.001.019-.001.018-.002h.02l.018-.001h.019l.018-.001H11.021v9.722a1.957 1.957 0 0 1-.204.866l-.019.037a1.924 1.924 0 0 1-.056.1l-.02.03a2.909 2.909 0 0 1-.074.11l-.02.026a2.267 2.267 0 0 1-.037.048l-.019.023a1.99 1.99 0 0 1-.056.065l-.019.02-.019.02-.018.02a1.666 1.666 0 0 1-.038.036l-.019.018a1.556 1.556 0 0 1-.019.018l-.018.016-.02.017-.018.016-.019.016-.019.015-.018.015-.02.014-.018.014a1.285 1.285 0 0 1-.038.027l-.018.014-.02.012c-.005.005-.012.009-.018.013l-.019.012-.019.012a3.093 3.093 0 0 1-.018.011l-.02.012-.018.01-.019.011a.692.692 0 0 1-.037.021l-.02.01-.018.01a1.318 1.318 0 0 1-.019.009l-.019.01-.018.008-.02.009-.018.008-.019.008-.019.008-.018.008-.02.007-.018.007-.019.008-.019.006-.018.007-.02.006-.018.006c-.006.002-.012.005-.019.006l-.019.006-.018.006-.02.005-.018.005-.019.005-.019.005a1.196 1.196 0 0 1-.018.004l-.02.005-.018.004-.019.004-.019.003-.018.004-.02.003a1.169 1.169 0 0 1-.018.003l-.019.004-.019.002-.018.003-.02.002-.018.002-.019.003-.019.001-.018.002-.02.002H9.2l-.019.002-.019.001h-.018l-.02.002H6.21v-4.097l.04.01.018.005.02.004.018.005.019.004.019.005.018.004.02.004.018.004.019.004.019.004.018.004.02.004.018.004.019.004.019.004.018.004.02.003.018.004.019.004.019.003.018.004.02.003.018.004.019.003.019.003.018.004.02.003.018.003.019.003.019.003.018.003.02.003.018.003.019.003.019.003.018.003.02.003.018.003.019.002.019.003.018.003.02.002.018.003.019.002.019.003.018.003.02.002.018.002.019.003.019.002.018.002.02.002.018.003.019.002.019.002.018.002.02.002.018.002.019.002.019.002.018.002.02.001.018.002.019.002.019.002.018.001.02.002.018.001.019.002.019.001.018.002.02.001.018.002h.019l.019.002.018.001.02.002h.018l.019.002.019.001.018.001.02.001.018.001h.019l.019.002h.018l.02.001.018.001h.019l.019.001.018.001h.02l.018.001h.019l.019.001h.038l.018.001h.075l.019.001h.131l.02-.001h.037l.019-.001h.018l.02-.002h.037l.019-.002h.018l.02-.001.018-.001.019-.001.019-.001.018-.001.02-.001.018-.002h.019l.019-.002.018-.002.02-.001.018-.002.019-.001.019-.002.018-.002.02-.002.018-.002.019-.001.019-.002.018-.003.02-.002.018-.002.019-.002.019-.003.018-.002.02-.003.018-.003.019-.003.019-.002.018-.004c.007 0 .013-.002.02-.003l.018-.003.019-.003.019-.003.018-.004.02-.003.018-.004.019-.004.019-.004.018-.004.02-.004.018-.004.019-.004.019-.005.018-.005.02-.004.018-.005.019-.005.019-.005.018-.005.02-.006.018-.005.019-.006.019-.006.018-.006.02-.006.018-.006.019-.007.019-.007.018-.006.02-.007.018-.008.019-.007.019-.008.018-.008.02-.007.018-.009.019-.008.019-.009.018-.009.02-.009.018-.01.019-.01.019-.01a1.169 1.169 0 0 0 .056-.031l.019-.011.019-.012.018-.012.02-.013.018-.012.019-.014.019-.013a.924.924 0 0 0 .018-.014l.02-.015.018-.015a.976.976 0 0 0 .038-.032l.018-.017.02-.017.018-.018a1.12 1.12 0 0 0 .019-.02l.019-.019.018-.02a1.268 1.268 0 0 0 .057-.069l.019-.025a1.168 1.168 0 0 0 .15-.274 1.273 1.273 0 0 0 .075-.267 1.687 1.687 0 0 0 .028-.327V12.13H8.941v2.257a1.18 1.18 0 0 1-.042.306.945.945 0 0 1-.131.271.876.876 0 0 1-.188.189.724.724 0 0 1-.113.07.639.639 0 0 1-.057.027l-.018.008a.996.996 0 0 1-.076.028l-.018.006-.02.006a5.14 5.14 0 0 1-.018.005l-.019.005a1.076 1.076 0 0 1-.037.01c-.007 0-.013.002-.02.004l-.018.003a1.114 1.114 0 0 1-.038.007l-.018.003a1.104 1.104 0 0 1-.038.005l-.019.002c-.006 0-.012 0-.018.002l-.02.001a1.14 1.14 0 0 1-.037.002l-.019.001-.018.001h-.132l-.019-.001-.019-.001h-.018l-.02-.002-.018-.001-.019-.001-.019-.002-.018-.001-.02-.002-.018-.001-.019-.002-.019-.002-.018-.002-.02-.002-.018-.002-.019-.003-.019-.002-.018-.003-.02-.003-.018-.002-.019-.003-.019-.003-.018-.003-.02-.004-.018-.003-.019-.004-.019-.003-.018-.004-.02-.004-.018-.003-.019-.005-.019-.004-.018-.004-.02-.004-.018-.005-.019-.004-.019-.005-.018-.005-.02-.004-.018-.005-.019-.005-.019-.005-.018-.006-.02-.005-.018-.005-.019-.006-.019-.006-.018-.005-.02-.006-.018-.006-.019-.006-.019-.006-.018-.007-.02-.006-.018-.006-.019-.007-.019-.006-.018-.007-.02-.007-.018-.007-.019-.007-.019-.007-.018-.007-.02-.007-.018-.008-.019-.007-.019-.007-.018-.008-.02-.008-.018-.008-.019-.007-.019-.008-.018-.008-.02-.009-.018-.008-.019-.008-.019-.008-.018-.009-.02-.008-.018-.009-.019-.009-.019-.008-.018-.01ZM11.712 12.623a1.938 1.938 0 0 0-.04.034V10.11a1.941 1.941 0 0 1 .36-1.125l.019-.026.019-.025.018-.024.02-.024a1.296 1.296 0 0 1 .056-.066l.018-.02a1.79 1.79 0 0 1 .038-.04l.019-.02.018-.018.02-.019.018-.017.019-.017.019-.017.019-.016.018-.016a1.806 1.806 0 0 1 .076-.06l.018-.014a3.198 3.198 0 0 1 .038-.027l.019-.013a1.507 1.507 0 0 1 .056-.037l.019-.012.019-.012.019-.01.018-.012.02-.01c.005-.004.012-.007.018-.01l.019-.01a1.51 1.51 0 0 1 .019-.01l.018-.01.02-.01a1.49 1.49 0 0 1 .018-.009l.019-.008.019-.01.018-.007.02-.008.018-.008.019-.008.019-.007.018-.008.02-.007.018-.006.019-.007.019-.006.018-.006.02-.006.018-.006.019-.005.019-.005.018-.006.02-.004.018-.005.019-.005.019-.004.018-.004.02-.004.018-.003.019-.004.019-.003.018-.003.02-.003.018-.003.019-.003.019-.002.018-.002.02-.002.018-.002.019-.002.019-.001.018-.001.02-.001.018-.001.019-.001h.019l.018-.001H16.485v9.722a1.956 1.956 0 0 1-.26.97l-.02.032-.018.03-.019.03-.019.028-.019.027a4.25 4.25 0 0 1-.094.123 3.697 3.697 0 0 1-.056.065l-.019.02a1.777 1.777 0 0 1-.094.094l-.019.018-.018.016-.02.017-.018.016-.019.015-.019.016-.018.015-.02.014-.018.014-.019.014-.019.013c-.006.005-.012.01-.018.013a2.117 2.117 0 0 1-.038.026l-.019.012-.019.012-.018.011-.02.012-.018.01a1.144 1.144 0 0 1-.019.011l-.019.01-.018.01-.02.01a1.679 1.679 0 0 1-.018.01l-.019.01-.019.01-.018.008-.02.009a1.539 1.539 0 0 1-.018.008l-.019.008-.019.008-.018.008-.02.007a.605.605 0 0 1-.018.007l-.019.008a1.41 1.41 0 0 1-.019.006l-.018.007-.02.006a1.369 1.369 0 0 1-.018.006l-.019.006-.019.006-.018.006-.02.005-.018.005-.019.005a1.286 1.286 0 0 1-.037.01l-.02.004-.018.004-.019.004-.019.003-.018.004-.02.003a1.227 1.227 0 0 1-.018.003l-.019.004-.019.002-.018.003-.02.002-.018.002-.019.003-.019.001-.018.002-.02.002h-.018l-.019.002-.019.001h-.018l-.02.002H11.673v-4.49a1.938 1.938 0 0 0 .097.078l.019.014.018.013c.007.005.013.01.02.013l.018.013.019.013.019.012.018.012.02.012.018.011.019.011a.702.702 0 0 0 .019.01l.018.012.02.01.018.01a.83.83 0 0 0 .019.01l.019.01.018.01.02.009.018.009.019.009.019.008.018.009.02.008.018.008.019.008.018.008.02.008.018.007.019.008.019.007.019.007.018.007a.822.822 0 0 0 .038.013l.019.007.019.006.018.006.02.006.018.006.019.006.019.006.018.005.02.006.018.005.019.005.019.005.018.005.02.005.018.005.019.005.019.004.018.005.02.004.018.004.019.005.019.004.018.004.02.004.018.003.019.004.019.004.018.003.02.004.018.003.019.003.019.004.018.003.02.003.018.003.019.003.019.002.018.003.02.003.018.003.019.002.019.002.018.003.02.002.018.002.019.003.019.002.018.002.02.002.018.002.019.002.019.001.018.002.02.002.018.001.019.002.019.001.018.002.02.001.018.001.019.002.019.001.018.001.02.001.018.001.019.001.019.001.018.001h.02l.018.002h.038l.018.002h.038l.019.001h.037l.02.001H13.95l.018.001H14.138l.018-.001h.038l.019-.001h.019l.018-.001h.02l.018-.001h.019l.019-.002h.018l.02-.001h.018l.019-.002h.019l.018-.001.02-.001.018-.001.019-.001.019-.002h.018l.02-.002.018-.002h.019l.019-.002.018-.002.02-.002.018-.001.019-.002.019-.002.018-.001.02-.002.018-.002.019-.002.019-.002.018-.002.02-.002.018-.002.019-.003.019-.002.018-.002.02-.003.018-.002.019-.002.019-.003.018-.002.02-.003.018-.003.019-.002.019-.003.018-.003.02-.002.018-.003.019-.003.019-.003.018-.003.02-.003.018-.003.019-.003.019-.003.018-.003.02-.003.018-.004.019-.003.019-.003.018-.004.02-.003.018-.003.019-.004.019-.003.018-.004.02-.003.018-.004.019-.004.019-.003.018-.004.02-.003.018-.004.019-.004.019-.004.018-.004.02-.004.018-.004.019-.004.019-.004.018-.004.02-.004.018-.004.019-.004.019-.004.018-.005.02-.004.018-.005.019-.004.019-.004.018-.005v-.823l-.018.01-.02.009-.018.01-.019.008-.019.01-.018.008-.02.009-.018.009-.019.008-.019.009-.018.008-.02.009-.018.008-.019.008-.019.008-.018.008-.02.008-.018.008-.019.007-.019.008-.018.007-.02.008-.018.007-.019.007-.019.007-.018.007-.02.007-.018.007-.019.006-.019.007-.018.006-.02.007-.018.006-.019.006-.019.006-.018.006-.02.005-.018.006-.019.006-.019.005-.018.005-.02.006-.018.005-.019.005-.019.005-.018.005-.02.004-.018.005-.019.004-.019.005-.018.004-.02.004-.018.004-.019.004-.019.004-.018.004-.02.004-.018.003-.019.004-.019.003-.018.003-.02.003-.018.003-.019.003-.019.003-.018.003-.02.002-.018.003-.019.002-.019.003-.018.002-.02.002-.018.002-.019.002-.019.002-.018.002-.02.001-.018.002h-.011l-.008.001-.019.001-.018.002h-.02l-.018.002h-.019l-.019.001h-.018l-.02.001h-.131l-.019-.002h-.018l-.02-.001-.018-.001-.019-.002-.019-.001-.018-.002-.02-.002-.018-.002-.019-.002-.019-.002-.018-.002-.02-.003-.018-.003-.019-.003-.019-.003-.018-.004c-.007 0-.013-.002-.02-.003l-.018-.004-.019-.004-.019-.004-.018-.005-.02-.004-.018-.005-.019-.005a1.03 1.03 0 0 1-.113-.037l-.018-.006-.02-.008-.018-.007-.019-.008-.019-.008a.818.818 0 0 1-.056-.027l-.019-.01-.019-.01-.018-.01-.02-.011-.018-.011-.019-.012-.019-.012-.018-.013a1.268 1.268 0 0 1-.02-.013l-.018-.014a.67.67 0 0 1-.019-.014l-.019-.015-.018-.016a.739.739 0 0 1-.076-.07.879.879 0 0 1-.094-.11.938.938 0 0 1-.094-.147.974.974 0 0 1-.056-.12 1.157 1.157 0 0 1-.056-.177 1.36 1.36 0 0 1-.038-.226 1.802 1.802 0 0 1 .038-.563 1.358 1.358 0 0 1 .131-.332.898.898 0 0 1 .094-.137.82.82 0 0 1 .094-.104.801.801 0 0 1 .019-.018l.019-.018.019-.016a.968.968 0 0 1 .037-.03l.019-.015.019-.014a1.268 1.268 0 0 1 .037-.026l.02-.012a.593.593 0 0 1 .056-.034.568.568 0 0 1 .018-.01l.02-.01.018-.01.019-.01.019-.008.018-.009.02-.008.018-.008a1.05 1.05 0 0 1 .038-.014l.018-.007.02-.007a4.124 4.124 0 0 1 .037-.013l.019-.006.018-.005.02-.006.018-.005a5.073 5.073 0 0 1 .038-.01l.018-.004.02-.004.018-.004.019-.004.019-.003.018-.004.02-.003.018-.003.019-.003.019-.003.018-.002.02-.002.018-.002.019-.002.019-.002.018-.002.02-.001.018-.002h.019l.019-.002h.018l.02-.001h.018l.019-.001h.131l.02.002h.018l.019.001.019.001.018.002h.02l.007.001.011.001.019.002.019.001.018.002.02.002.018.002.019.002.019.002.018.002.02.002.018.003.019.002.019.003.018.003.02.002.018.003.019.003.019.003.018.004.02.003.018.003.019.004.019.003.018.004.02.004.018.004.019.004.019.004.018.004.02.005.018.004.019.005.019.004.018.005.02.005.018.005.019.005.019.005.018.006.02.005.018.006.019.005.019.006.018.006.02.006.018.006.019.006.019.007.018.006.02.006.018.007.019.007.019.007.018.007.02.007.018.007.019.007.019.008.018.007.02.008.018.008.019.007.019.008.018.008.02.008.018.009.019.008.019.008.018.009.02.008.018.01.019.008.019.009.018.009.02.009.018.01.019.008.019.01.018.01v-.824l-.018-.005-.02-.004-.018-.005-.019-.004-.019-.004-.018-.005-.02-.004-.018-.004-.019-.004-.019-.004-.018-.004-.02-.004-.018-.004-.019-.004-.019-.004-.018-.004-.02-.004-.018-.004-.019-.004-.019-.003-.018-.004-.02-.004-.018-.003-.019-.004-.019-.003-.018-.004-.02-.003-.018-.004-.019-.003-.019-.003-.018-.004-.02-.003-.018-.003-.019-.003-.019-.004-.018-.003-.02-.003-.018-.003-.019-.003-.019-.003-.018-.003-.02-.003-.018-.002-.019-.003-.019-.003-.018-.003-.02-.003-.018-.002-.019-.003-.019-.002-.018-.003-.02-.002-.018-.003-.019-.002-.019-.002-.018-.003-.02-.002-.018-.002-.019-.002-.019-.002-.018-.003-.02-.002-.018-.002-.019-.001-.019-.002-.018-.002-.02-.002-.018-.002-.019-.001-.019-.002-.018-.001-.02-.002-.018-.001-.019-.002h-.019l-.018-.002-.02-.001-.018-.001-.019-.001-.019-.001-.018-.001h-.01l-.01-.001h-.018l-.019-.002h-.019l-.018-.001h-.02l-.018-.001h-.019l-.019-.001h-.018l-.02-.001h-.018l-.019-.001h-.037l-.02-.001H13.857l-.02.001h-.018l-.019.001h-.019l-.018.002h-.038l-.019.002h-.019l-.018.001-.02.001-.018.001-.019.001-.019.001-.018.002h-.02l-.018.002-.019.001-.019.002-.018.001-.02.002-.018.001-.019.002-.019.001-.018.002-.02.002-.018.002-.019.002-.019.002-.018.002-.02.002-.018.002-.019.002-.019.003-.018.002-.02.003-.018.002-.019.003-.019.002-.018.003-.02.003-.018.003-.019.003-.019.003-.018.003-.02.003-.018.003-.019.004-.019.003-.018.004-.02.003-.018.004-.019.004-.019.004-.018.004-.02.004-.018.004-.019.005-.019.004-.018.004-.02.005-.018.005-.019.004-.019.005-.018.005-.02.005-.018.006-.019.005-.019.005-.018.006-.02.006-.018.005-.019.007-.019.005-.018.007a1.034 1.034 0 0 0-.02.006l-.018.007-.019.006-.019.007-.018.007-.02.007a1.045 1.045 0 0 0-.018.007l-.019.007-.019.008-.018.007-.02.008-.018.008-.019.008-.019.009-.018.008-.02.01a1.083 1.083 0 0 0-.018.008l-.019.01-.019.008-.018.01-.02.01a.83.83 0 0 0-.018.01l-.019.01-.019.01a.84.84 0 0 0-.018.01l-.02.012-.018.01a1.178 1.178 0 0 0-.038.024l-.018.012-.02.012a1.225 1.225 0 0 0-.018.013l-.019.012a1.53 1.53 0 0 0-.056.04l-.019.015a.937.937 0 0 0-.038.03Z",fill:"currentColor"}))})),MasterCard:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.985 10.742a3.258 3.258 0 1 0 0 6.516 3.258 3.258 0 0 0 0-6.516ZM6.727 14a4.258 4.258 0 1 1 8.516 0 4.258 4.258 0 0 1-8.516 0Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.724 9.942a4.258 4.258 0 1 1-2.134 6.59.5.5 0 0 1 .804-.595 3.258 3.258 0 1 0 0-3.874.5.5 0 0 1-.804-.594 4.258 4.258 0 0 1 2.134-1.527Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 0 1 2.834-2.834h18.666a2.833 2.833 0 0 1 2.834 2.834v11.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V8.167Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667Z",fill:"currentColor"}))})),Visa:(0,a.Z)((function(e){return r.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M10.692 16.811h1.574l.986-5.778h-1.575l-.985 5.778ZM16.427 13.353c-.55-.267-.888-.446-.884-.716 0-.24.286-.497.902-.497.505-.008.911.094 1.32.287l.214-1.252a4.065 4.065 0 0 0-1.411-.243c-1.557 0-2.653.784-2.662 1.907-.009.83.783 1.294 1.38 1.57.613.283.82.464.816.717-.003.387-.489.564-.942.564-.699 0-1.051-.108-1.685-.395l-.221 1.293c.368.162 1.048.302 1.755.309 1.655 0 2.73-.775 2.742-1.975.004-.657-.415-1.157-1.324-1.569ZM22.017 11.039H20.8c-.377 0-.659.103-.825.479l-2.338 5.295h1.654s.27-.712.332-.868l2.017.002c.047.202.192.866.192.866h1.461l-1.276-5.774Zm-1.941 3.724c.065-.166.707-1.816.836-2.166.213.996.005.03.471 2.166h-1.307ZM9.372 11.037l-1.543 3.94-.164-.8-.552-2.656c-.095-.366-.372-.475-.714-.487H3.86l-.02.12c.618.15 1.17.365 1.655.633l1.4 5.019 1.667-.002 2.479-5.767H9.372Z",fill:"currentColor"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.833 8.167a2.833 2.833 0 0 1 2.834-2.834h18.666a2.833 2.833 0 0 1 2.834 2.834v11.666a2.833 2.833 0 0 1-2.834 2.834H4.667a2.833 2.833 0 0 1-2.834-2.834V8.167Zm2.834-1.834c-1.013 0-1.834.821-1.834 1.834v11.666c0 1.013.821 1.834 1.834 1.834h18.666c1.013 0 1.834-.821 1.834-1.834V8.167c0-1.013-.821-1.834-1.834-1.834H4.667Z",fill:"currentColor"}))}))};function l(e){return o[e]}function c(){let{expirationMonth:e,expirationYear:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=new Date;return!i()(e)||!i()(t)||(s.getFullYear()>t||s.getFullYear()===t&&s.getMonth()+1>e)}function d(){let{expirationMonth:e,expirationYear:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i()(e)||!i()(t))return!0;const s=(new Date).getFullYear(),n=(new Date).getMonth()+1;return t===s&&(e===n||e===n+1)||t===s+1&&1===e&&12===n}},62e3:(e,t,s)=>{"use strict";s.d(t,{v:()=>r});var n=s(70954),i=s(28514);async function r(e){try{(0,i.Dt)()?window.$B.core.application.copyToClipboard(e):await n.nx(e),streets.service("commonsigns").showMessage("Copied to clipboard")}catch(t){streets.service("commonsigns").showError("Could not copy to clipboard")}}},42566:(e,t,s)=>{"use strict";s.d(t,{r:()=>n});const n=Object.freeze({accent:"accent",danger:"danger",deepGray:"deep-gray",secure:"secure"})},79464:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var n=s(47169);const i=new class{constructor(){(0,n.Z)(this,"_priorityTasks",[]),(0,n.Z)(this,"_callbacks",[]),(0,n.Z)(this,"_lastPriorityRequestTime",void 0),(0,n.Z)(this,"_performanceDebugging",!1)}debugPriorities(){console.log("[streets] UI priorities",this._priorityTasks,this._callbacks,this._lastPriorityRequestTime)}clearPriorities(){this._priorityTasks=[],this._lastPriorityRequestTime=void 0}requestPriority(e){this._priorityTasks.push(e),this._lastPriorityRequestTime=(new Date).getTime()}extendPriority(e){this._lastPriorityRequestTime=(new Date).getTime()}releasePriority(e){const t=this._priorityTasks.indexOf(e);t>-1&&this._priorityTasks.splice(t,1),this._processIdleCallbacks()}requestIdleCallback(e,t){const s=performance.now();if(this._isUIBusy()||this._callbacks.length>0){this._callbacks.push(e);const n=performance.now();n-s>16&&this._performanceDebugging&&console.log("callback performed in (0):",n-s,t||e)}else try{e()}catch(n){console.error("[streets] error during idle callback",n,e)}}_isUIBusy(){return this._priorityTasks.length>0&&this._lastPriorityRequestTime&&(new Date).getTime()-this._lastPriorityRequestTime>5e3&&(console.error("[streets] detected UI locking bug. Triggering automatic clean-up",this._priorityTasks,this._lastPriorityRequestTime,this._callbacks),this._priorityTasks=[]),this._priorityTasks.length>0}_processIdleCallbacks(){this._isUIBusy()||0===this._callbacks.length||window.requestAnimationFrame((()=>{if(this._isUIBusy())return;const e=this._callbacks.shift();try{e()}catch(t){console.error("[streets] error during idle callback",t,e)}this._processIdleCallbacks()}))}}},88709:(e,t,s)=>{"use strict";s.d(t,{dh:()=>i,MG:()=>r,Mn:()=>a,l4:()=>o,vx:()=>l});var n=s(74250);const i="nlp/f/topic/4050",r=Object.freeze({CN:"China",IR:"Iran",KP:"North Korea",RU:"Russian Federation",TR:"Turkey",US:"USA"}),a=Object.freeze({malware:"malwareFamily",mitreAttack:"mitreAttack",threatActor:"threatActor"}),o=Object.freeze([{id:"threatActors",field:"actor",header:"Attackers"},{id:"mitreAttacks",field:"attack",header:"Tactics & Techniques"},{id:"malwares",field:"new-malware",header:"New Malware"}]),l=Object.freeze({malwares:{type:n.n.trendingMalware,value:"Not a malware"},mitreAttacks:{type:n.n.trendingMitreAttack,value:"Not a tactic or a technique"},threatActors:{type:n.n.trendingThreatActor,value:"Not a threat actor"},vulnerability:{type:n.n.trendingVulnerability,value:"Not a vulnerability"}})},3244:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n=Object.freeze({cybersecurity:"dashboard/cybersecurity"})},3015:(e,t,s)=>{"use strict";s.d(t,{HA:()=>a,p6:()=>d,Sy:()=>h,cc:()=>p,EO:()=>m,vp:()=>g});var n=s(24443),i=s.n(n);const r=Object.freeze({hour:60,day:1440,month:44640,year:535680}),a=Object.freeze({day:864e5,week:6048e5,month:2592e6}),o=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function c(e){return(e<0||e>9?"":"0")+e}function d(e,t){t+="";let s="",n=0,i="",r="",a=e.getYear()+"";const d=e.getMonth()+1,h=e.getDate(),u=e.getDay(),p=e.getHours(),m=e.getMinutes(),g=e.getSeconds(),f=-1*Math.floor(e.getTimezoneOffset()/60),y={};a.length<4&&(a=""+(a-0+1900)),y.y=""+a,y.yyyy=a,y.yy=a.substring(2,4),y.M=d,y.MM=c(d),y.MMM=o[d+11],y.MMMM=o[d-1],y.NNN=o[d+11],y.d=h,y.dd=c(h),y.E=l[u+7],y.EE=l[u],y.H=p,y.HH=c(p),y.h=0==p?12:p>12?p-12:p,y.hh=c(y.h),y.K=p>11?p-12:p,y.k=p+1,y.KK=c(y.K),y.kk=c(y.k),y.a=p>11?"PM":"AM",y.m=m,y.mm=c(m),y.s=g,y.ss=c(g),y.z="UTC"+(f>=0?"+"+f:f);for(;n<t.length;){if(i=t.charAt(n),"'"==i)do{if(i=t.charAt(++n),"'"==i&&(n++,"'"!=t.charAt(n)))break;s+=i}while(n<t.length);for(r="";t.charAt(n)==i&&n<t.length;)r+=t.charAt(n++);null!=y[r]?s+=y[r]:s+=r}return s}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||"Invalid Date"===e.toString())return null;const n=!0===t?{minutes:" minutes",hour:" hour",hours:" hours",day:" day",days:" days",month:" month",months:" months"}:{minutes:"min",hour:"h",hours:"h",day:"d",days:"d",month:"mo",months:"mo"},i=(Date.now()-e.getTime())/1e3,r=Math.floor(i/86400),a=Math.floor(r/30),o=Math.floor((i-24*r*3600)/3600),l=Math.floor(i/60);let c;const d=!0===s?" ago":"";return c=l<2?"now":l<60?l+n.minutes+d:0===r?o+(1===o?n.hour:n.hours)+d:a<2?r+(1===r?n.day:n.days)+d:a+(1===a?n.month:n.months)+d,c}const u=12;function p(e){let t,s=e;return e>=u?(t="PM",e>u&&(s-=u)):(t="AM",0===e&&(s=u)),{meridiem:t,hour:s}}function m(e,t){return"PM"===t&&e<u?e+u:"AM"===t&&e===u?0:e}function g(e){const t=Math.round(e/6e4);if(t<r.hour)return t<1?"1 minute":i()("minute",t,!0);if(t>=r.hour&&t<r.day){const e=Math.round(t/r.hour);return e<1?"1 hour":i()("hour",e,!0)}if(t>=r.day&&t<r.month){const e=Math.round(t/r.hour/24);return e<1?"1 day":i()("day",e,!0)}if(t>=r.month&&t<r.year){const e=Math.round(t/r.hour/24/31);return e<1?"1 month":i()("month",e,!0)}return"More than a year"}},47567:(e,t,s)=>{"use strict";function n(e){"string"==typeof e&&(e=parseInt(e));const t=new Date;return t.setTime(e),t}function i(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function r(e){return i(e,new Date)}function a(e){return i(e,new Date(Date.now()-864e5))}function o(e){const t=new Date;return e.getFullYear()===t.getFullYear()}function l(e){const t=new Date(e.valueOf()),s=(e.getUTCDay()+6)%7;let n;return t.setUTCDate(t.getUTCDate()-s+3),n=t.valueOf(),t.setUTCMonth(0,1),4!==t.getUTCDay()&&t.setUTCMonth(0,1+(4-t.getUTCDay()+7)%7),Math.ceil((n-t)/6048e5)+1}s.d(t,{Bq:()=>n,Y3:()=>r,UW:()=>a,g1:()=>o,uW:()=>l})},51239:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});const n=Object.freeze({oneNote:"OneNote",evernote:"Evernote",instapaper:"instapaper",pocket:"Pocket"})},18514:(e,t,s)=>{"use strict";function n(e){let{isRelatedEntries:t=!1,duplicationIndex:{idIndex:s={},memeIdIndex:n={},titleIndex:r={},urlIndex:a={}}={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&0!==e.length?e.filter((e=>{const o=e.getId(),l=e.getCanonicalUrl(),c=e.getTitle(),d=!i(e,{isRelatedEntries:t,titleIndex:r,urlIndex:a,idIndex:s,memeIdIndex:n});return l&&(a[l]=!0),c&&(r[c]=!0),s[o]=!0,e.listDuplicates().forEach((e=>{s[e.entryId]=!0})),d&&e.getClusters().forEach((e=>{n[e.id]=!0})),d})):e}function i(e,t){let{isRelatedEntries:s,titleIndex:n,urlIndex:i,idIndex:r,memeIdIndex:a}=t;const o=e.getCanonicalUrl(),l=e.getTitle(),c=e.getId(),d=e.getClusters().some((e=>a[e.id]));return o&&i[o]||l&&n[l]||r[c]||!s&&d}s.d(t,{q:()=>n})},53623:(e,t,s)=>{"use strict";s.d(t,{sn:()=>n,CO:()=>i,Sh:()=>r});const n={autocomplete:"autocomplete",discover:"discover",leoSourceSearch:"leoSourceSearch",store:"store",suggestoSourceSearch:"suggestoSourceSearch",topicSearch:"topicSearch"},i={leo:"leo",suggesto:"suggesto",topic:"topic"},r=2},5371:(e,t,s)=>{"use strict";s.d(t,{vH:()=>n,cO:()=>i});const n=56,i=48},36695:(e,t,s)=>{"use strict";function n(e){return/^[^\s@]+@([^\s\.@]+.)+\.[^\s\.]+$/.test(e)}s.d(t,{o:()=>n})},35330:(e,t,s)=>{"use strict";s.d(t,{V2:()=>k,im:()=>N,x$:()=>_,xG:()=>M,xf:()=>I,hR:()=>D,RC:()=>S,co:()=>w});var n=s(3171),i=s(94866),r=s(57471),a=s(54960),o=s(74221),l=s(6844),c=s(68971),d=s(16874),h=s(99220),u=s(3167),p=s(63403),m=s(85251),g=s(85902),f=s(48689),y=s(35610);const v="[deleted feed]",b=/feed:\/\//gi,E=Object.freeze({description:"Product updates and news from Feedly",title:"New Features"}),C=Object.freeze({likeBoard:"likeBoard"});async function w(e,t){if(!e)return null;const s=streets.service("reader"),n=await s.askUnreadCountsIndex(t);return e.forEach((e=>{e.unreadCount=n[e.id],e.feeds&&e.feeds.forEach((e=>{e.unreadCount=n[e.id]}))})),e}async function k(e,t){if(!e)return null;if(!e.length)return e;const s=streets.service("reader"),n=streets.service("preferences"),i=await s.askUnreadCountsIndex(t);return await Promise.all(e.map((e=>async function(e,t){let{unreadCountsIndex:s,preferences:n}=t;if(!e)return;const{isEnterprise:i,isFavorites:r,isUncategorized:a}=(0,o.Yg)(e.id);i&&!e.emailSettings&&(e.emailSettings=(0,d._e)());r&&(e.label="Favorites (old)");e.LABEL=e.label&&e.label.toUpperCase(),e.unreadCount=s[e.id],e.subscribed=void 0!==e.unreadCount,e.streamId=e.id,e.uri=(0,h.no)(e.id),e.prefContext=(0,h.uu)(e.id),e.isGlobalMust=r,e.isGlobalUncategorized=a,e.feeds||(e.feeds=[]);e.feeds=await N(e.feeds,{unreadCountsIndex:s,preferences:n}),0===Object.keys(s).length&&e.feeds.forEach((e=>{e.subscribed=!0}));let l;e.feeds.sort(((e,t)=>e.title?t.title?e.title.localeCompare(t.title):1:-1)),e.getFeed=t=>(l||(l={},e.feeds.forEach((e=>{l[e.id]=e}))),l[t]||null),e.containsFeed=t=>!!e.getFeed(t)}(e,{unreadCountsIndex:i,preferences:n})))),(0,m.zy)(e)}async function _(e){if(!e)return null;const t=await streets.service("collections").askLabelsIndex();return e.forEach((e=>function(e,t){if(!e)return;let s=e.streamIds&&e.streamIds[0];if(!s){const{isEnterprise:t}=(0,o.Yg)(e.id);s=t?(0,o.Gr)():(0,o.N1)()}e.streamLabel=s?t[s]:"All Feeds",e.numEntries||(e.numEntries=0)}(e,t))),e}async function M(e){const t=await streets.service("collections").askLabelsIndex();return e.forEach((e=>function(e,t){const{streamId:s,term:n}=e;e.id=(0,c.s)(e),e.label=n.label||n.text,e.streamLabel=s?t[s]:"All Feeds",e.numEntries||(e.numEntries=0);return e}(e,t))),e}async function S(e,t){if(!e)return null;const s=streets.service("reader"),i=streets.service("enterprisetags"),r=streets.service("preferences"),a=await s.askUnreadCountsIndex(t);return e.forEach((e=>function(e,t){let{unreadCountsIndex:s,enterprisetags:i}=t,{cachedUnreadCountsOnly:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return;const{isEnterprise:a,isReadLater:l}=(0,o.Yg)(e.id);if(a){const t=streets.service("reader").getStreamUnreadCountInfo(e.id);t&&t.capped&&(e.isCapped=t.capped),e.emailSettings||(e.emailSettings=(0,d.HM)()),e.bufferSettings||(e.bufferSettings=i.getDefaultBufferSettings()),e.microsoftTeamsSettings||(e.microsoftTeamsSettings=i.getDefaultWebhookSettings())}l&&(e.label="Read later");e.LABEL=e.label&&e.label.toUpperCase(),e.unreadCount=s[e.id],r&&null==e.unreadCount||(e.subscribed=void 0!==e.unreadCount);e.streamId=e.id,e.uri=(0,h.no)(e.id),e.prefContext=(0,h.gQ)(e.id),e.score=(new Date).getTime()-e.lastEntryAdded<(0,n.z1)(7)?1e5:0,e.users&&(e.score+=e.users.length)}(e,{unreadCountsIndex:a,enterprisetags:i,preferences:r},t))),(e=e.filter((e=>{const{isRecentlyRead:t}=(0,o.Yg)(e.id);return!t&&!!e.label}))).sort(((e,t)=>e.label.localeCompare(t.label))),e}async function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const s=streets.service("reader"),n=streets.service("collections"),i=await s.askUnreadCountsIndex(t);let r={};return t.skipStreamLabel||(r=await n.askLabelsIndex()),e.forEach((e=>T(e,{unreadCountsIndex:i,streamLabels:r},t))),e.sort(((e,t)=>e.label?t.label?e.label.localeCompare(e.label):-1:1)),e}function T(e,t){let{unreadCountsIndex:s,streamLabels:n}=t,{cachedUnreadCountsOnly:i=!1,skipStreamLabel:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return;const a=streets.service("reader").getStreamUnreadCountInfo(e.id);a&&a.capped&&(e.isCapped=a.capped);const l=e.streamIds[0],c=l===(0,o.Gr)()||l===(0,o.N1)();if(e.label||(e.label="unnamed"),e.LABEL=e.label&&e.label.toUpperCase(),e.unreadCount=s[e.id],e.isGlobal=c,e.numEntriesMatching=e.numEntriesMatching||0,c?e.isFollowingStream=null!=e.unreadCount:i&&null==e.unreadCount||(e.isFollowingStream=!!s[l]),!r){const t=n[l]||v;e.streamLabels=[t],e.streamLabel=t}e.uri=(0,h.no)(e.id),e.prefContext=(0,h.UO)(e.id)}async function N(e){let{unreadCountsIndex:t,preferences:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return[];if(!t){const e=streets.service("reader");t=await e.askUnreadCountsIndex()}return s||(s=streets.service("preferences")),e.map((e=>(L(e),e.unreadCount=t[e.id],e.subscribed=null!=t[e.id],e.streamId=e.id,e.navigation=P(s,e.id,u.T$)||"inline",e.u=parseInt(P(s,e.id,u.aR)),e.following=!0,e)))}function L(e){if(!e)return;e.id||(e.id=e.feedId);const t=streets.service("reader").getStreamUnreadCountInfo(e.id);var s;if(t&&t.capped&&(e.isCapped=t.capped),e.id=e.id.replace(b,"http://"),e.title=e.title||"",e.title=(0,g.oN)(e.title),e.title=e.title.replace(/ - Medium$/gi,""),(0,o.m2)(e.id)&&(e.title=E.title,e.description=E.description),e.description=e.description||"",e.subscribers=e.subscribers||1,(0,i.Co)(e)?e.ownerPicture?(e.favicon=null,e.visualUrl=e.ownerPicture,e.iconUrl=e.ownerPicture,e.fallbackIconUrl=(0,l.s3)("images/logos/publicboard-favicon@2x.png")):(e.visualUrl=(0,l.s3)("images/logos/publicboard-visual@2x.png"),e.iconUrl=(0,l.s3)("images/logos/publicboard-favicon@2x.png")):(0,i.dB)(e)?(e.favicon=null,e.iconUrl=(0,l.s3)("images/logos/newsletter-favicon-v2@2x.png"),e.visualUrl=(0,l.s3)("images/logos/newsletter-visual-v2@2x.png")):(0,i.$O)(e)?(e.favicon=null,e.iconUrl=(0,l.s3)("images/logos/webalert-favicon-v3@2x.png"),e.visualUrl=(0,l.s3)("images/logos/webalert-visual-v3@2x.png")):(s=e.id)&&(s.includes("gdata.youtube.com")||s.includes("youtube.com/feeds")||s.includes("youtube.com/playlist"))?e.iconUrl&&-1===e.iconUrl.indexOf("feedly.com")?(e.fallbackIconUrl=(0,l.s3)("images/logos/youtube-favicon@2x.png"),e.visualUrl||(e.visualUrl=(0,l.s3)("images/logos/youtube-visual@2x.png"))):(e.iconUrl=(0,l.s3)("images/logos/youtube-favicon@2x.png"),e.visualUrl=(0,l.s3)("images/logos/youtube-visual@2x.png")):(0,p.hj)(e.id)?(e.iconUrl=(0,l.s3)("images/logos/reddit-favicon@2x.png"),e.visualUrl=(0,l.s3)("images/logos/reddit-visual@2x.png")):(0,f.iR)(e.id)?e.iconUrl&&-1===e.iconUrl.indexOf("feedly.com")?(e.fallbackIconUrl=(0,l.s3)("images/logos/twitter-favicon@2x.png"),e.visualUrl||(e.visualUrl=(0,l.s3)("images/logos/twitter-visual@2x.png"))):(e.iconUrl=(0,l.s3)("images/logos/twitter-favicon@2x.png"),e.visualUrl=(0,l.s3)("images/logos/twitter-visual@2x.png")):(e.favicon=function(e){if(!e)return"https://www.google.com/s2/favicons?domain=google.com";if(e.indexOf("twitter.com")>-1)return"https://twitter.com/favicon.ico";return"https://www.google.com/s2/favicons?domain="+e.split("/").slice(2,3)+"&alt=feed"}(e.website||e.id.slice("feed/".length)),e.fallbackIconUrl=(0,l.s3)("images/logos/rss-favicon-v2@2x.png"),e.visualUrl||(e.visualUrl=(0,l.s3)("images/logos/rss-visual-v2@2x.png"))),e.visualUrl=(0,y.w6)(e.visualUrl),e.coverUrl=(0,y.w6)(e.coverUrl),e.iconUrl=(0,y.w6)(e.iconUrl),(0,a.Qc)(e.id)&&(e.isGoogleNews=!0,e.iconUrl=(0,l.s3)("images/logos/google-favicon@2x.png"),e.visualUrl=(0,l.s3)("images/logos/google@2x.png")),(0,a.XP)(e.id)){const t=(0,a.hM)(e.id),{domain:s,keyword:n}=(0,a.QW)(t);e.googleNewsQuery=t,e.googleNewsKeyword=n,e.googleNewsDomain=s,e.googleNewsLanguage=(0,a.Ds)(e.id),e.defaultTitle=s?"".concat(n," in ").concat(s):"".concat(n),e.title.endsWith(" Google News")&&(e.title=e.defaultTitle),e.description="Track mentions of ".concat(t||""," across the world's top news publications"),s&&(e.description="Track mentions of ".concat(n," within ").concat(s)),e.title&&!e.title.includes("news.google")||(e.title="".concat(n))}if((0,r.tp)(e.id)){e.iconUrl=(0,l.s3)("images/logos/google-favicon@2x.png"),e.visualUrl=(0,l.s3)("images/logos/google@2x.png");const t=(0,r.IG)(e.title);t?(e.title=t+" – Google Alert",e.description="Get the content of your "+t+" Google Alert delivered to your Feedly"):e.description="Get the content of your Google Alerts delivered to your Feedly"}e.categories=e.categories||[],e.uri=(0,h.no)(e.id),e.prefContext=(0,h.ct)(e.id),e.state=e.state||"alive",e.velocity=e.velocity||0,e.numLongReadEntriesPastMonth=e.numLongReadEntriesPastMonth||0,e.numLongReadEntriesPastWeek=e.numLongReadEntriesPastWeek||0,e.numReadEntriesPastMonth=e.numReadEntriesPastMonth||0,e.numReadEntriesPastWeek=e.numReadEntriesPastWeek||0,e.numTaggedEntriesPastMonth=e.numTaggedEntriesPastMonth||0,e.numTaggedEntriesPastWeek=e.numTaggedEntriesPastWeek||0,e.totalReadingTimePastMonth=e.totalReadingTimePastMonth||0,e.totalReadingTimePastWeek=e.totalReadingTimePastWeek||0}function P(e,t,s){return t&&s&&e?e.getPreference(s,"subscription/"+t):null}async function D(e){return Promise.all(e.map((e=>e.type===C.likeBoard?async function(e){const{isEnterprise:t}=(0,o.Yg)(e.streamId),s=t?streets.service("enterprisetags"):streets.service("personaltags"),n=(await s.askListTags()).find((t=>t.id===e.boardId));n&&(e.label=n.label);return e}(e):e)))}},32853:(e,t,s)=>{"use strict";s.d(t,{LF:()=>r,qV:()=>a,IE:()=>o,a3:()=>l});var n=s(99165),i=s(85902);function r(e,t){let s=e;return t&&(s+=" / ".concat(t)),s}function a(e){e||console.error("[enterpriseUtils] getEnterprisePlanName - teamInfo required");const{enterpriseFeatures:t,leoBillingPricePerCycleInCents:s}=e;return s||streets.isEnterprisePlan()?t&&t.length?(0,i.sw)(t.map((e=>(0,n.g$)(e)))):"Feedly Enterprise":"Feedly Business"}function o(e){let{active:t,inactiveReason:s}=e;return!t&&"missingEnterpriseFeatures"===s}function l(e){const t=e.indexOf(" / ");if(-1===t)return{companyName:e,teamName:""};return{companyName:e.slice(0,t),teamName:e.slice(t+3)}}},56466:(e,t,s)=>{"use strict";s.d(t,{v:()=>m,_:()=>f});var n=s(98978),i=s.n(n),r=s(2463),a=s.n(r),o=s(88709),l=s(44694),c=s(1009),d=s(7761),h=s(855),u=s(10974);class p{constructor(e,t){let{shouldInlineEntities:s,shouldHighlightAllMitreAttacks:n}=t;this.entities=Object.fromEntries(e.map((e=>[e.id,e]))),this.inlineEntities=s,this.inlineMitreAttacks=n,this.usedEntityIds=new Set}shouldInlineEntity(e){if(!this.inlineEntities)return!1;if((0,u.D4)(e))return!0;const t=this.entities[e];return!(!this.inlineMitreAttacks||t.type!==o.Mn.mitreAttack)||(t.salienceLevel===d.mb.about||t.type===o.Mn.malware||t.type===o.Mn.threatActor)&&!this.usedEntityIds.has(e)}markInlined(e){this.usedEntityIds.add(e)}shouldHighlightEntity(e){const t=this.entities[e];return!(!this.inlineMitreAttacks||t.type!==o.Mn.mitreAttack)}}function m(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{shouldInlineEntities:n=!1,shouldHighlightAllMitreAttacks:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=(0,l.D8)(e),o=Object.fromEntries(Object.entries(t).map((e=>{let[t,{caseSensitive:s,...n}]=e;return[s?t:t.toLowerCase(),{caseSensitive:s,...n}]}))),d=i()(Object.entries(o),[e=>{let[t]=e;return(0,h.K2)(t)},e=>{let[t]=e;return-t.length},e=>{let[t,{entityId:s}]=e;return!s}]),u=new p(s,{shouldInlineEntities:n,shouldHighlightAllMitreAttacks:r});return d.forEach((e=>{let[t,{caseSensitive:s,highlight:n,entityId:i}]=e;const r=i&&u.shouldInlineEntity(i);if(n||r)for(let o=0;o<a.length;o++){const e=g(a[o],t,s,n,i,u);if(!(0,c.R)(e)&&(a[o]=e,i&&!u.shouldInlineEntity(i)&&!n))break}})),a.join("")}function g(e,t,s,n,i,r){if("<"===e[0]&&">"===e[e.length-1])return null;if(e.includes("data-feedly-wrapper>")){const a=(0,l.D8)(e);let o=!1,d=0;for(;d<a.length;){const e=a[d];if(e.startsWith("<span "))d+=3;else{const l=g(e,t,s,n,i,r);(0,c.R)(l)||(o=!0,a[d]=l),d+=1}}return o?a.join(""):null}let o="";const d=new RegExp("\\b("+a()(t)+")(?=(\\W+|$))",s?"g":"gi");let h=0;return Array.from(e.matchAll(d)).forEach((t=>{const s=i&&r.shouldInlineEntity(i),a=function(e,t){let s="";const n=[];t&&(s+=' data-entity-id="'.concat(t,'"'),n.push("InlineEntityWrapper"));e&&n.push("highlightedTerm");return s+=' class="'.concat(n.join(" "),'"'),"<span".concat(s," data-feedly-wrapper>")}(n||i&&r.shouldHighlightEntity(i),s?i:null);o+="".concat(e.substring(h,t.index)).concat(a).concat(t[1],"</span>"),h=t.index+t[0].length,s&&r.markInlined(i)})),o+=e.substring(h),e===o?null:o}function f(e){const{description:t,knowledgeBaseUrl:s,malwareDetails:n,threatActorDetails:i,type:r}=e;let a,l,c=s?"Learn more":null,d=!1;if(r===o.Mn.threatActor&&i){const{associatedMalwares:e,country:t,malpediaDescription:s}=i;a=e,c="Threat Actor ".concat(t?"> ".concat(o.MG[t]):""),l=s,d=!0}else if(r===o.Mn.malware&&n){const{associatedThreatActors:e,malpediaDescription:t}=n;a=e,c="Malware Family",l=t,d=!0}else r===o.Mn.mitreAttack&&(c=null);return{associatedEntities:a,description:l||t,isThreatEntity:d,sub:c}}},87561:(e,t,s)=>{"use strict";function n(e,t){try{null!=window&&null!=window.console&&null!=window.console.trace&&window.console.trace()}catch(s){console.log("[nitro] trace failed")}try{const s=[];return null==t.name&&null==t.message?s.push(t.toString()):(s.push("[error] failed to "),s.push(e),s.push(" because "),s.push(t.name),s.push(" -- "),s.push(t.message)),s.join("")}catch(n){return"failed to "+e}}s.d(t,{Z:()=>n})},57993:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});const n=Object.freeze({personal:"personal",team:"team"})},94866:(e,t,s)=>{"use strict";s.d(t,{Co:()=>a,$O:()=>o,dB:()=>l,jM:()=>c,Xp:()=>d});s(74221);var n=s(63403),i=s(48689),r=s(89631);function a(e){return e&&e.isFeedlyFeed&&"PublicBoard"===e.feedlyFeedType}function o(e){return e&&e.isFeedlyFeed&&"WebAlert"===e.feedlyFeedType}function l(e){return e&&e.isEmailFeed}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{feedId:t,isEmailFeed:s,isFeedlyFeed:r}=e;return t&&!r&&!s&&!(0,i.iR)(t)&&!(0,n.hj)(t)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{feedId:t}=e;return t&&t.startsWith(r.w)}},74250:(e,t,s)=>{"use strict";s.d(t,{n:()=>n,O:()=>i});const n=Object.freeze({board:"badLikeBoard",businessEvent:"badEvent",custom:"user",duplicate:"duplicate",entity:"badEntity",other:"user",severity:"badSeverity",source:"badSource",topic:"badTopic",vulnerability:"badVulnerability",trendingMalware:"badTrendingMalware",trendingMitreAttack:"badTrendingMitreAttack",trendingThreat:"badTrendingThreat",trendingThreatActor:"badTrendingThreatActor",trendingVulnerability:"badTrendingVulnerability"}),i=Object.freeze({notAThreat:"Not a threat",notCriticalEnough:"Not critical enough",duplicate:"Duplicate",tooOld:"Too old",other:"Something Else"})},2121:(e,t,s)=>{"use strict";s.d(t,{Jn:()=>n,ph:()=>i,BD:()=>r});const n=Object.freeze({itccharter:"ITC Charter",amasis:"Amasis",ysobel:"Ysobel",iowan:"Iowan",mundosans:"Mundo Sans",frutigernext:"Frutiger Next",dinnext:"DIN Next"}),i=Object.freeze({merriweather:"Merriweather",sansserif:"Sans Serif",...n,opendyslexic:"OpenDyslexic",notosans:"Noto Sans"}),r=(Object.keys(n),Object.keys(i))},86462:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});const n=45},89803:(e,t,s)=>{"use strict";s.d(t,{gt:()=>n,HF:()=>i,Qk:()=>r,Q1:()=>a,Xl:()=>o});const n=550,i={capture:!1,passive:!1},r=Object.freeze({tooEarly:"tooEarly",vertical:"vertical",horizontal:"horizontal",ambigious:"ambigious"});function a(e,t){const s=Math.abs(e),n=Math.abs(t);return n>0&&s>4*n?r.horizontal:s>0&&n>4*s?r.vertical:s+n<8?r.tooEarly:s>1.65*n?r.horizontal:n>1.65*s?r.vertical:r.ambigious}function o(e,t){const s=window.TOUCH_SLOP||12;return Math.abs(e)>s||Math.abs(t)>s}},59852:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var n=s(74221);async function i(e){if(!streets.getUserId())return{};const t=streets.service("personalcollections"),s=streets.service("enterprisecollections"),i=streets.service("personaltags"),r=streets.service("enterprisetags"),[a,o,l,c,d]=await Promise.all([t.askLookupCollection((0,n.N1)(),e),s.askLookupCollection((0,n.sX)(),e),i.askLookupTag((0,n.TN)(),e),r.askLookupTag((0,n.$n)(),e),streets.hasBusinessAccess()?r.askLookupTag((0,n.LI)(),e):i.askLookupTag((0,n._k)(),e)]);return{userCategoryGlobalAll:a,userCategoryGlobalEnterprise:o,userTagGlobalAll:l,userTagGlobalEnterprise:c,globalAnnotated:d}}},57471:(e,t,s)=>{"use strict";s.d(t,{vc:()=>i,IG:()=>r,tp:()=>a});var n=s(85902);function i(e){if(!e)return null;let t;const s=(0,n._o)(e,"&url=","&");if(s&&s.content&&s.content.length>0){const e=s.content.replace(/\+/g,"%20");t=decodeURIComponent(e)}return t||e}function r(e){if(!e)return null;const t=[" - "," – "," : ","ー"];let s;return["Google Alert","Google 알리미","Google アラ","Google-melding","Alerte Google","Alerta de Google","Google 알리미","Оповещение Google"].forEach((n=>{s||t.forEach((t=>{const i=n+t;0===e.indexOf(i)&&(s=e.slice(i.length))}))})),s}function a(e){return!!e&&/google\.(.*)\/alerts/gi.test(e)}},54960:(e,t,s)=>{"use strict";s.d(t,{Qc:()=>d,XP:()=>h,Cg:()=>u,_U:()=>p,T3:()=>m,P6:()=>g,A6:()=>f,xU:()=>y,Ds:()=>v,hM:()=>b,QW:()=>E});var n=s(81613),i=s.n(n),r=s(94600),a=s(6844),o=s(85902);const l=/q=/,c={en:"us",ja:"jp",zh:"cn",fr:"fr",de:"de",ru:"ru_ru",pt:"pt-PT_pt",it:"it",ko:"kr",pl:"pl_pl",es:"es_us"};function d(e){return!!e&&(/\.google\.(.*)\/news/gi.test(e)||/news\.google\.(.*)\/rss/gi.test(e))}function h(e){return!!e&&(d(e)&&!function(e){return!!e&&/news\.google\.(.*)\/rss\/topics/gi.test(e)}(e))}function u(e,t){const s=t||"en";return"feed/https://news.google.com/news/rss/search/section/q/"+encodeURIComponent(e)+"/"+encodeURIComponent(e)+"?ned="+c[s]}function p(e,t){if(!e||0===e.length)return null;e=e.replace(/[“”‘’]/g,'"');const{domain:s,keyword:n}=E(e);return{id:u(e,t),title:s?"".concat(n," in ").concat(s):"".concat(n),defaultTitle:s?"".concat(n," in ").concat(s):"".concat(n),iconUrl:(0,a.s3)("images/logos/google@2x.png"),suggestUrl:(0,a.s3)("images/logos/google-suggest@2x.png"),visualUrl:(0,a.s3)("images/logos/google@2x.png"),description:"Track mentions of ".concat(n," across the world's top news publications"),isGoogleNews:!0,googleNewsQuery:e,googleNewsKeyword:n,googleNewsDomain:s,googleNewsLanguage:t}}function m(e,t){return t?"".concat(e," site:").concat(t):e}function g(e){var t,s;if(!e)return e;const n=document.createElement("div");return n.innerHTML=e,null!==(t=null===(s=n.querySelector("a"))||void 0===s?void 0:s.outerHTML)&&void 0!==t?t:e}function f(e){if(!e)return null;let t;const s=b(e);if(s){const e=E(s);e&&e.keyword&&(t=e.keyword)}return t}function y(e){if(!e)return null;const t=(0,o._o)(e,'<font color="#6f6f6f">',"</font>");return t&&t.content&&t.content.length>0?t.content:null}function v(e){let t=(0,o._o)(e,"hl=","&");if(t&&t.content&&t.content.length)return(0,r.jc)(t.content);const s=function(e){const t=(0,o._o)(e,"ned=","&");return t&&t.content&&t.content.length?t.content:null}(e);return s&&(t=i()(c,(e=>e===s)),t)?t:null}function b(e){if(!e)return null;let t;const s=l.test(e)?(0,o._o)(e,"q=","&"):(0,o._o)(e,"/section/q/","/");return s&&s.content&&s.content.length>0&&(t=s.content.replace(/\+/g,"%20"),t=decodeURIComponent(t)),t}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t="site:".length,s=e.indexOf("site:");if(-1===s)return{domain:"",keyword:e};let n=e.slice(s).indexOf(" ");return n>0&&(n+=s),-1===n?{domain:e.slice(s+t),keyword:e.slice(0,s).trim()}:0===s?{domain:e.slice(s+t,n),keyword:e.slice(n+1)}:{domain:e.slice(s+t,n),keyword:e.slice(0,s)+e.slice(n+1)}}},27213:(e,t,s)=>{"use strict";function n(){window.$B&&window.$B.core&&window.$B.core.application.hapticFeedback()}s.d(t,{n:()=>n})},44694:(e,t,s)=>{"use strict";s.d(t,{D8:()=>i,Ub:()=>r,TC:()=>a,Oo:()=>o,xg:()=>l,cn:()=>c,IV:()=>d,ZL:()=>h});var n=s(85902);function i(e){const t=[];e=new String(e);let s=0,n="content";for(let i=0;i<e.length;i++)if("content"==n){if("<"!=e.charAt(i))continue;t.push(e.slice(s,i)),s=i,n="tag"}else{if(">"!=e.charAt(i))continue;t.push(e.slice(s,i+1)),s=i+1,n="content"}return t.push(e.slice(s)),t}function r(){const e=document,t=e.defaultView.getSelection();if(t.rangeCount>=1){const s=t.getRangeAt(0).cloneContents(),n=e.createElement("p");return n.appendChild(s),n.innerHTML}return""}function a(){return(0,n.L0)(function(){const e=document,t=e.defaultView.getSelection();if(t.rangeCount>=1){const s=t.getRangeAt(0).cloneContents(),i=e.createElement("p");return i.appendChild(s),(0,n.L0)(i.innerHTML)}return""}())}function o(e,t,s,n){null!=e&&(e.addEventListener?e.addEventListener(t,s,n||!1):e.attachEvent&&e.attachEvent("on"+t,s))}function l(e,t,s,n){null!=e&&(e.removeEventListener?e.removeEventListener(t,s,n||!1):e.detachEvent&&e.detachEvent("on"+t,s))}function c(e){if(!e||1!=e.nodeType)return;const t=e.className.split(/\s+/),s=t.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(const a of i)a&&!t.includes(a)&&t.push(a);t.length>s&&(e.className=t.join(" "))}function d(e,t){if(!e||1!=e.nodeType)return;const s=e.className.split(/\s+/).filter((e=>e&&e.length&&t!=e));0===s.length?e.className="":e.className=s.join(" ")}function h(){const e=document.querySelectorAll(".jsFocusContentStart");e.length&&e.item(e.length-1).focus()}},61861:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const n={};function i(e){n[e]=null}function r(e,t,s){if(!e||!t)return console.error("[inflight] The `service` and `methodName` are required."),null;const r="".concat(e,":").concat(t);return s&&(s.then((()=>{i(r)})).catch((()=>{i(r)})),n[r]=s),n[r]}},38916:(e,t,s)=>{"use strict";s.d(t,{gJ:()=>n,bK:()=>i,yC:()=>r});const n=Object.freeze({buffer:"Buffer",dropbox:"Dropbox",evernote:"Evernote",instapaper:"Instapaper",pocket:"Pocket",reddit:"Reddit",slack:"Slack",twitter:"Twitter",oneNote:"OneNote"}),i=Object.freeze({buffer:"buffer",dropbox:"dropbox",evernote:"evernote",instapaper:"instapaper",oneNote:"oneNote",pocket:"pocket",reddit:"reddit",slack:"slack",twitter:"twitter"}),r=[i.buffer,i.reddit,i.slack,i.twitter]},89856:(e,t,s)=>{"use strict";function n(e,t,s){const n=null!=t?"".concat(t,"<br>"):"";return'<img src="'.concat(e,'" /><br/>\n').concat(n,'\n<br><br><br>\nSource: <a href="').concat(s.getBestAlternateLink(),'">').concat(s.getCleanSourceTitle(),"</a><br>\n")}function i(e,t){return"".concat(e,'\n<br><br><br>\nSource: <a href="').concat(t.getBestAlternateLink(),'">').concat(t.getCleanSourceTitle(),"</a><br>\n")}s.d(t,{w:()=>n,F:()=>i})},72453:(e,t,s)=>{"use strict";function n(){const e=streets.service("profile").getUserInfo(),{fullName:t}=e;let s=t;return s&&s.indexOf(" ")>-1&&(s=t.split(" ")[0]),"Hi,\n\nI've just added you to our Feedly team. Click on join to get started!\n\nFeedly is our hub to follow, research, and share key industry trends.\n\nFeedly lets you subscribe to news sources, keyword alerts, and Twitter feeds - and easily read, annotate, and share what is important.\n\nFeedly also has a mobile app if you prefer to check your news on the go.\n\nLet me know if you have any questions!\n\n-".concat(s)}s.d(t,{H:()=>n})},33642:(e,t,s)=>{"use strict";s.d(t,{hg:()=>l,Sz:()=>c,ow:()=>d});var n=s(10268),i=s.n(n),r=s(85902);const a=Object.freeze({domain:"domain",hash:"hash",ip:"IP",url:"URL"}),o=Object.freeze({domain:"domains",hash:"hashes",ip:"IPs",url:"URLs"});function l(e){const{mentions:t}=e;if(!t)return null;const s=c(t);return"IoC > ".concat(s)}function c(e){const t=d(e),s=Object.keys(t).reduce(((e,s)=>("total"!==s&&e.push(function(e,t){const s=t>1?o[e]:a[e];return"".concat(t," ").concat(s)}(s,t[s])),e)),[]);return(0,r.sw)(s)}function d(e){return i()(e,"canonical").reduce(((e,t)=>{let{type:s}=t;return e[s]=e[s]?e[s]+1:1,e.total=e.total?e.total+1:1,e}),{})}},80721:(e,t,s)=>{"use strict";s.d(t,{k:()=>n});const n=Object.freeze({authenticationIssue:"AuthenticationIssue",paymentError:"PaymentError",floodingMuteFilters:"TooManyMutedEntries",floodingPriorities:"TooManyPrioritizedEntries",notificationIssue:"NotificationIssue"})},1009:(e,t,s)=>{"use strict";function n(e){return null==e}s.d(t,{R:()=>n})},45538:(e,t,s)=>{"use strict";function n(e){return e.ctrlKey||e.metaKey||e.altKey}function i(e){const{target:t}=e,s=t.localName.toLowerCase(),n=t.getAttribute("contenteditable");return"input"===s||"textarea"===s||("true"===n||""===n)}s.d(t,{V:()=>n,E:()=>i})},88982:(e,t,s)=>{"use strict";s.d(t,{I:()=>i,B:()=>r});const n=/[<>]/,i="Avoid using < or  >",r=e=>n.test(e)},94600:(e,t,s)=>{"use strict";s.d(t,{As:()=>n,rA:()=>i,Mb:()=>r,jc:()=>a});const n={en:"English",ja:"日本語",zh:"中文",fr:"Français",de:"Deutsch",ru:"Русский",pt:"Português",it:"Italiano",ko:"한국어",pl:"Polski",es:"Español"},i=new Set(Object.keys(n));function r(){let e="en";const t=streets.service("preferences").getPreference("language");t?e=t:navigator.language?e=navigator.language:navigator.userLanguage&&(e=navigator.userLanguage);const s=a(e);return i.has(s)?s:"en"}function a(e){return e.split("-")[0]}},20461:(e,t,s)=>{"use strict";s.d(t,{gM:()=>l,uz:()=>c,NY:()=>d,kr:()=>h,pL:()=>u,Q:()=>p,Nn:()=>m,Qq:()=>g,TY:()=>f,gn:()=>y,Kf:()=>v,ym:()=>b,UQ:()=>E,ee:()=>C,qd:()=>w,Uv:()=>k,xF:()=>_});var n=s(75453),i=s.n(n),r=s(94059),a=s(65698),o=s(7761);function l(e,t){const{layerType:s,defaultPart:n,searchHint:i}=o.Pr[t];return[...e,{parts:n?[n]:[],type:s,searchHint:i}]}function c(e,t){return[...e,{parts:[t],type:o.ur.matches}]}function d(e,t,s){const n=[...e],{parts:i}=n[t],r=[...i];return i.find((e=>_(e,s)))||r.push(s),n[t]={...n[t],parts:r,searchHint:(0,a.Iz)(r,n[t].type)},n}function h(e,t,s){const n=[...e];return n[t]={...n[t],salience:s},n}function u(e,t,s,n){const i=[...e],a=[...i[t].parts],o={...a[s]};return o.convertToKeyword=n===r.m3.keyword,a[s]=o,i[t]={...i[t],parts:a},i}function p(e,t){const s=[...e];return s.splice(t,1),s}function m(e,t,s){const n=[...e],i=n[t],r=i.parts.filter((e=>"string"==typeof s?e!==s:e.id!==s.id||e.text!==s.text));return n[t]={...i,parts:r,searchHint:(0,a.Iz)(r,n[t].type)},n}function g(){return{negate:!0,parts:[],type:o.ur.matches}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.mb.about;return{parts:[e],salience:t,type:o.ur.matches}}function y(e){const{customModeBundles:t,priorityOption:s,salience:n=o.mb.about}=e,{defaultPart:i,layerType:r,searchHint:a}=s;return{customModeBundles:t,layers:[{parts:i?[i]:[],salience:n,searchHint:a,type:r}]}}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some((e=>{var t;return!(null===(t=e.parts)||void 0===t||!t.length)}))}function b(e,t){return e.length!==t.length||e.some(((e,s)=>{const n=t[s];return e.id!==n.id}))}function E(e,t){return e.some(((e,s)=>{const n=t[s];return e.id===n.id&&e.tier!==n.tier}))}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.some(((e,s)=>e.salience!==t[s].salience))}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=i()(e.map((e=>e.parts||[]))),n=i()(t.map((e=>e.parts||[])));return s.length!==n.length||s.some(((e,t)=>!_(e,n[t])||e.convertToKeyword!==n[t].convertToKeyword))}function k(e,t){for(const s of t)if(!e.some((e=>e.parts.some((e=>_(s,e))))))return!1;return!0}function _(e,t){return e.text?e.text===t.text:e.id?e.id===t.id:e===t}},11459:(e,t,s)=>{"use strict";s.d(t,{Ar:()=>n,tv:()=>i});const n=Object.freeze({cards:"u5",featuredLarge:"uFeatured",fullArticle:"u100",largeCards:"u6",magazine:"u4",miniMagazine:"u7",titleOnly:"u0",titleOnlyMobile:"u0Mobile"}),i=Object.freeze(Object.values(n));Object.freeze({0:{entry:n.titleOnlyMobile,featured:n.titleOnlyMobile},4:{entry:n.magazine,featured:n.magazine},5:{entry:n.cards,featured:n.cards}}),Object.freeze({stretched:"stretched",fullWidth:"full-width"})},56295:(e,t,s)=>{"use strict";s.d(t,{Zs:()=>n,HL:()=>i,Eo:()=>r,Bu:()=>a,xV:()=>o,_i:()=>l,Ke:()=>c,Sf:()=>d,GF:()=>h,M$:()=>u});const n="web alert limit",i="custom",r="too many leo feeds",a="too many active mute filters",o="email newsletter limit",l="too many active priority",c="source limit",d="website feed limit",h=Object.freeze({standard:100,limited:100,proStandard:1e3,pro:2500,proPlus:2500,business:5e3,enterprise:7500}),u=Object.freeze({muteFilters:{id:"muteFilters",name:"Mute Filters",uri:"filters",limitName:"maxMuteFilters"},newsletters:{id:"newsletters",name:"Newsletters",uri:"newsletters",limitName:"maxEmailFeeds"},priorities:{id:"priorities",name:"Priorities",uri:"priorities",limitName:"maxPriorities"},webAlerts:{id:"webAlerts",name:"Leo Web Alerts",uri:"web-alerts",limitName:"maxAlerts"},leoFeeds:{id:"leoFeeds",name:"Leo Priorities and Leo Web Alerts",uri:"leo-feeds",limitName:"maxLeoFeeds"},rssBuilder:{id:"rssBuilder",name:"RSS Builder feeds",uri:"rss-builder",limitName:"maxWebsiteFeeds"}})},6844:(e,t,s)=>{"use strict";function n(e){const t="#,##0.###",s=["###0","###"];if(e=Math.abs(1*e),s.length>1)e=e.toFixed(s[1].length);else{if(s.length>2)throw"NumberFormatException: invalid format, formats should have no more than 1 period: "+t;e=e.toFixed(0)}let n=e.toString();{const e=n.split("."),t=e[0],s=[],i=t.length;let r=Math.floor(i/3),a=t.length%3||3;for(let n=0;n<i;n+=a)0!=n&&(a=3),s[s.length]=t.substr(n,a),r-=1;n=s.join(","),e[1]&&1*e[1]>0&&(n+="."+e[1])}return t.replace(/[\d\#,?\.?]+/,n)}function i(e){return"//s1.feedly.com/"+e}s.d(t,{U:()=>n,s3:()=>i})},44406:(e,t,s)=>{"use strict";s.d(t,{DC:()=>n});const n=Object.freeze({phone:"phone",tablet:"tablet"});Object.freeze({landscape:"landscape",portrait:"portrait"}),Object.freeze({landscape:884,portrait:656})},68971:(e,t,s)=>{"use strict";function n(e){const{streamId:t}=e,{id:s,text:n}=e.term;return"".concat(encodeURIComponent(t)," ").concat(s?"id":"text"," ").concat(s||n)}function i(e){const[t,s,...n]=e.split(" ");return{streamId:decodeURIComponent(t),term:{[s]:n.join(" ")}}}s.d(t,{s:()=>n,R:()=>i})},16874:(e,t,s)=>{"use strict";s.d(t,{_e:()=>o,HM:()=>l,fW:()=>c});var n=s(99076),i=s.n(n),r=s(20647);function a(){const e=i().determine().name();return{daysOfWeek:r.Z.days.slice(0),disabled:!0,hourOfDay:10,includeFollowers:!0,includeImages:!0,includeNotes:!0,includeHighlights:!0,useLeoSummary:!0,subjectTemplate:"NameAndDate",timeZone:e}}function o(){return{...a(),maxEntries:5,ranked:"best"}}function l(){return{...a(),ranked:"newest"}}function c(){return{...a(),maxEntries:5,ranked:"best"}}},32470:(e,t,s)=>{"use strict";function n(e){if(null===e||isNaN(e))return null;if(Math.abs(e)>=1e6){const t=e/1e6;return Math.round(10*t)/10+"M"}return Math.abs(e)>1e3?Math.floor(e/1e3)+"K":e}function i(e,t){if(!e)return null;if(e>999)return"1K+";const s=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t?"".concat(s,"+"):s}function r(e,t){const s=10**t;return Math.round(e*s)/s}s.d(t,{HN:()=>n,XZ:()=>i,VG:()=>r})},31454:(e,t,s)=>{"use strict";s.d(t,{bL:()=>o,EA:()=>c,fg:()=>d,Qu:()=>h,T4:()=>u,Zw:()=>p,Zg:()=>m,kd:()=>g,MR:()=>f,YM:()=>y,VC:()=>v});var n=s(72282),i=s(35610);const r="feedly.oauth2",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";async function o(e,t){let{appState:s,loginHint:n,pageRef:r,enterprise:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)try{streets.service("analytics").reportBasicEngagement("auth/"+e.toLowerCase()+"/ask")}catch(d){console.log("[web launcher] failed to track auth.ask because "+d.name+" -- "+d.message)}if(!r){const e=streets.service("pageManager").getPageInfo();e&&(r=e.uri)}const o=window.localStorage.getItem("feedly.partner"),c={provider:e,mode:t,landingPage:window.feedlyLandingPage,loginHint:n,pageRef:r,partnerId:o,enterprise:a};window.location=await l("".concat(window.BACKEND,"/v3/auth/").concat("enterprise"===e?"enterprise":"auth"),"feedly","".concat((0,i.il)(),"/login"),{appState:s,additionalQueryParams:c})}async function l(e,t,s){let{appState:n={},additionalQueryParams:a={}}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{codeChallenge:o,codeVerifier:l}=await E(),c=C(32);localStorage.setItem("".concat(r,".").concat(c),JSON.stringify({codeChallenge:o,codeVerifier:l,appState:n}));const d=["https://cloud.feedly.com/subscriptions"],h=(0,i.b4)(a);return e+"?response_type=code"+"&client_id=".concat(encodeURIComponent(t))+"&redirect_uri=".concat(encodeURIComponent(s))+"&scope=".concat(encodeURIComponent(d.join(" ")))+"&state=".concat(c)+"&code_challenge=".concat(encodeURIComponent(o))+"&code_challenge_method=S256"+"&ck=".concat((new Date).getTime())+"&ct=".concat(window.feedlyApplicationType)+"&cv=".concat(window.feedlyApplicationVersion)+(h?"&".concat(h):"")}async function c(e,t,s){if(!e)throw new Error("Authentication Code Missing");const a="".concat(r,".").concat(t),o=localStorage.getItem(a);if(null==o)throw new Error("Invalid OAuth state, possible malicious activity somewhere");localStorage.removeItem(a);const{codeVerifier:l,appState:c}=JSON.parse(o),d={code:e,client_id:"feedly",code_verifier:l,redirect_uri:s,grant_type:"authorization_code"};try{const e=await(0,n.Ko)("!{cloud}/v3/auth/token",(0,i.m1)(d),{authenticated:!1,"Content-Type":"application/x-www-form-urlencoded"});return{session:{plan:e.plan,provider:e.provider,feedlyId:e.id,feedlyToken:e.access_token,feedlyRefreshToken:e.refresh_token,feedlyExpirationTime:(new Date).getTime()+1e3*e.expires_in-1e4,created:(new Date).getTime()},appState:c,isNewAccount:e.is_new_account}}catch(h){throw console.error("Failed to get session:",h),new Error("Failed to get session:"+h.message)}}function d(){try{o("feedly","login")}catch(e){console.log("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}}function h(){try{o("Twitter","signup")}catch(e){console.log("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}}function u(){try{o("Facebook","signup")}catch(e){console.log("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}}function p(e){try{o("Google","signup",e)}catch(t){console.log("FAILED TO ASK LOGIN:"+t.name+" -- "+t.message)}}function m(){try{o("WindowsLive","signup")}catch(e){console.log("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}}function g(){try{o("Evernote","signup")}catch(e){console.log("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}}function f(){try{o("enterprise","signup")}catch(e){console.log("FAILED TO ASK LOGIN:"+e.name+" -- "+e.message)}}function y(){try{o("feedly","signup")}catch(e){console.log("FAILED TO ASK SIGNUP:"+e.name+" -- "+e.message)}}function v(e){try{o("FeedlyLogin","signup",e)}catch(t){console.log("FAILED TO ASK SIGNUP:"+t.name+" -- "+t.message)}}function b(e){let t=btoa(e);return t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t=t.replace(/=/g,""),t}async function E(){const e=b(C(96)),t=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e)),s=new Uint8Array(t);let n="";const i=s.byteLength;for(let r=0;r<i;r++)n+=String.fromCharCode(s[r]);return{codeVerifier:e,codeChallenge:b(n)}}function C(e){const t=new Uint32Array(e);return crypto.getRandomValues(t),Array.from(t).map((e=>a[e%a.length])).join("")}},83168:(e,t,s)=>{"use strict";s.d(t,{y:()=>r});var n=s(79464);let i=0;class r{constructor(e){this.observers=[],this.id=e||"pojo-"+i++}registerObserver(e){null==this.observers&&(this.observers=[],this.id="pojo-"+i++),this.observers.indexOf(e)>=0||this.observers.push(e)}unregisterObserver(e){null==this.observers&&(this.observers=[],this.id="pojo-"+i++);const t=this.observers.indexOf(e);t<0||this.observers.splice(t,1)}removeAllObservers(){this.observers=[]}fireWhenIdle(e,t,s,i,r,a){n.p.requestIdleCallback((()=>{this.fire(e,t,s,i,r,a)}),e)}fire(e,t,s,n,i,r){if(null==this.observers||0===this.observers.length)return;const a=[];for(const l in this.observers)a.push(this.observers[l]);for(let l=0;l<a.length;l++){const c=a[l];try{this.observers.indexOf(c)<0||(c[e]?c[e].call(c,t,s,n,i,r):null!=c.onEvent?c.onEvent.call(c,e,t,s,n,i,r):"function"==typeof c&&c.call(c,e,t,s,n,i,r))}catch(o){console.error("failed to notify observer",c,o)}}}destroy(){this.removeAllObservers()}debugObservers(){null!=this.observers&&0!=this.observers.length?this.observers.forEach((e=>{console.log("[observable:"+this.id+"] observed by:"+e.id+" -- "+e.toString())})):console.log("[observable:"+this.id+"] No observers")}toString(){return"[observable:"+this.id+"("+this.observers.length+" observers)]"}}},28514:(e,t,s)=>{"use strict";s.d(t,{Dt:()=>i,U1:()=>r,p1:()=>a,gn:()=>o,$L:()=>l});var n=s(35278);function i(){return"android"===(0,n.$8)("device_os")}function r(){return i()&&parseInt((0,n.$8)("device_os_version")>=10)}function a(){return feedlyApplicationType.includes("feedly.mini")||feedlyApplicationType.includes("feedly.exttag")||feedlyApplicationType.includes("feedly.follow")}function o(){return"ios"===(0,n.$8)("device_os")}function l(){return"feedly.desktop"===window.feedlyApplicationType}},99879:(e,t,s)=>{"use strict";s.d(t,{iA:()=>r,vb:()=>a,FC:()=>o,Lg:()=>d,uS:()=>h,r1:()=>u});var n=s(3015);const i=(new Date).getFullYear(),r=new Date("".concat(i,"-01-01T00:00:01")).getTime(),a=new Date("".concat(i-1,"-01-01T00:00:01")).getTime(),o=new Date("".concat(i-1,"-12-31T15:59:59")).getTime(),l=(new Date).getUTCMonth(),c=(new Date(i,l,1).getTime(),0===l?11:l-1),d=(new Date(c>10?i-1:i,c,1).getTime(),new Date(i,l,(new Date).getUTCDate()).getTime()),h=(d===r||Math.floor(((new Date).getTime()-r)/n.HA.day),Object.freeze({churn:"#9e9e9e75",currentYear:"limegreen",missionO2:"#9e9e9e75",lastYear:"#9e9e9e75"}),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:"".concat(t),revenue:14625.23*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:"".concat(t),churn:-1465*t})})(),(()=>{const e=[];for(let t=1;t<31;t+=1)e.push({day:"".concat(t),trials:11.66*t,qualified:5*t,onboarded:3*t,won:2*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:"".concat(t),users:36.65*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:"".concat(t),users:.275*t})})(),(()=>{const e=[];for(let t=1;t<547;t+=1)e.push({day:"".concat(t),accounts:1.84*t})})(),["Android","Apple"]),u=["Paypal","Stripe","StripeBilling"]},8095:(e,t,s)=>{"use strict";s.d(t,{QG:()=>n});s(33259),s(12788);function n(e){return e?1===e.nodeType&&"yes"===e.getAttribute("data-PageElement")?e:1!==e.nodeType||"yes"!==e.getAttribute("data-PageHeaderContainer")&&"yes"!==e.getAttribute("data-PageFooterContainer")?n(e.parentNode):document.getElementById(e.getAttribute("data-PageElement")):null}},21120:(e,t,s)=>{"use strict";s.d(t,{T:()=>a,_:()=>o});var n=s(88516),i=s.n(n),r=s(35610);function a(e){let{currency:t,decimals:s,decimalSeparator:n,thousandsSeparator:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=Number(e),isNaN(e))throw new Error("Invalid argument: expected a number");s=isNaN(s)?2:Math.abs(s),r=void 0===r?",":r,n=n||".";const a=e<0?"-":"";e=Math.abs(e).toFixed(s);const o=parseInt(e)+"",l=o.length>3?o.length%3:0,c=(l?o.substr(0,l)+r:"")+o.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+r),d=s?n+Math.abs(e-o).toFixed(s).slice(2):"",h=t?i()(t):"$";return a+h+c+d}function o(){return(0,r.XK)()?"pk_test_wGL7vhyxUT7OMF6dw6nKQhXQ":"pk_live_hpLXn4hZEd03PLQdPySlgjgR"}},15454:(e,t,s)=>{"use strict";function n(){try{streets.service("signs").setNextAutoHideDelay(5e3),streets.service("signs").showMessage("Please disable popup blocker and retry.")}catch(e){window.alert("Please disable popup blocker")}}s.d(t,{d:()=>n})},3167:(e,t,s)=>{"use strict";s.d(t,{xV:()=>r,RO:()=>a,aR:()=>o,DD:()=>l,d0:()=>c,yq:()=>d,pl:()=>h,$h:()=>u,oH:()=>p,rc:()=>m,Sd:()=>g,vh:()=>f,T$:()=>y,_6:()=>v,$L:()=>b,XK:()=>E,iu:()=>C,GO:()=>w,nN:()=>k,yH:()=>_,NL:()=>M,yK:()=>S,M_:()=>I,FD:()=>T,FX:()=>N,KZ:()=>L,Ic:()=>P,sf:()=>D,j$:()=>A,BF:()=>O,dY:()=>x,qm:()=>R,Qt:()=>j,XV:()=>F,$t:()=>U,oB:()=>z,iG:()=>Z,b2:()=>B,E2:()=>H,vA:()=>Y,Sc:()=>W,Ag:()=>q,ce:()=>V,hJ:()=>Q,Ob:()=>G,Kp:()=>K,gO:()=>J,Ct:()=>X,J4:()=>$,zG:()=>ee,ZW:()=>te,$Y:()=>se,Bd:()=>ne,AM:()=>ie,fM:()=>re,Hi:()=>ae,Ar:()=>oe,Zf:()=>le,Su:()=>ce,z0:()=>de,iF:()=>he,Ml:()=>ue,JP:()=>pe,Zu:()=>me,TA:()=>ge,ZD:()=>fe,As:()=>ye});var n=s(43323),i=s.n(n);const r="enableClustering",a="defaultStartPageURI",o="entryOverviewSize.desktop",l="enableAnnotations",c="enableCommonTopics",d="enableDeduplication",h="enableLeoFeedback",u="enableLeoSuggestionsPref",p="leoSummaryPref",m="enableProductFeedback",g="enableInlineEntities",f="enableKeyboardShortcuts",y="entryNavigation",v="entrySort",b="giantMarkAsRead",E="markAllAsReadMenu",C="teamVsPersonal",w="hideReadArticlesFilter",k="recentlySearchedTopics",_="articleAnimation.mobile",M="scroll.mobile",S="autoSelectOnScroll.mobile",I="isSwipeGestureDiscovered.mobile",T="entryFontFamily",N="exploreStream",L="webAlertSearchPref",P="showEmptyPrioritiesPref",D="showPrioritiesInNavigationPref",A="emptyCategories",O="theme.web",x="emptyBoardPlaceholderPref",R="leoPrioritiesCollapsedPref",j="nonSecureImageFallbacks",F="personalBoardsCollapsedPref",U="personalCollectionsCollapsedPref",z="teamBoardsCollapsedPref",Z="teamCollectionsCollapsedPref",B="customizationKey",H="LEO_PRIORITIES",Y="WEB_ALERTS",W="firstAlertId",q="lastAlertPopupDate",V="alertPopupCount",Q="newFeaturesLastClickTime",G="websiteToRSSPopupCount",K="lastWebsiteToRSSPopupDate",J="firstWebsiteToRSSInfo",X="dashboardsCollapsedPref",$="entryOverviewSize.mobile",ee="density.mobile",te="theme.mobile",se="enterpriseSourceLimit",ne=Object.freeze({light:"theme.light",dark:"theme.dark"}),ie=(Object.freeze([M,S,E,$,ee,v,l]),Object.freeze({compact:"compact",comfortable:"comfortable"})),re=Object.freeze(Object.values(ie)),ae=Object.freeze({hide:"hide",show:"show"}),oe=Object.freeze({cards:"5",fullArticle:"100",magazine:"4",titleOnly:"0"}),le=Object.freeze(i()(oe)),ce=Object.freeze({"theme.light":"theme--light","theme.dark":"theme--dark"}),de=Object.freeze({day:"white",night:"black",auto:"auto"}),he=Object.freeze({slide:"slide",expand:"expand",fade:"fade"}),ue=Object.freeze({smooth:"smooth",paged:"paged"}),pe=Object.freeze({Today:"my",FirstPersonalFeed:"label/global.must",All:"latest"}),me=Object.freeze({all:"all",globalOnly:"globalOnly",createdByUserOnly:"createdByUserOnly",none:"none"}),ge=Object.freeze({team:"team-first",personal:"personal-first"}),fe=Object.freeze({off:"no",on:"yes"}),ye=Object.freeze({favorites:"favoritesOrderingId",priorities:"prioritiesOrderingId",teamCollections:"teamCategoriesOrderingId",teamTags:"teamTagsOrderingId",personalCollections:"categoriesOrderingId",personalTags:"personalTagsOrderingId"})},78505:(e,t,s)=>{"use strict";s.d(t,{Xh:()=>n,Rc:()=>i,PN:()=>r});const n=20,i=2,r=3},2222:(e,t,s)=>{"use strict";s.d(t,{FR:()=>g,eG:()=>f,aV:()=>y,F1:()=>v,X$:()=>b,FN:()=>E,Bv:()=>C,hY:()=>w,kk:()=>k,Sc:()=>_,sH:()=>M});var n=s(89793),i=s.n(n),r=s(45018),a=s.n(r),o=s(20081),l=s.n(o),c=s(60624),d=s.n(c),h=s(24443),u=s.n(h),p=s(88709),m=s(7761);function g(e){if(!e||!e.length)return 0;let t=0,s=0;return e.forEach((e=>{t+=e.numEntriesMatching,s=Math.max(s,e.numEntriesProcessed)})),s?Math.min(Math.round(100*(s-t)/s),99):0}function f(e,t){return e.filter((e=>e.type===t))}function y(e){let{latestRefreshErrors:t=[]}=e;const s="Oops! An error occurred while updating the model for your like-board.";if(!t.length)return s;const{languageName:n,numEntries:i,type:r}=t[0];if(r===m.ue.boardNotFoundError)return"Sorry, Leo couldn't train your like-board. The board no longer exists.";if(r===m.ue.categoryNotFoundError)return"Sorry, Leo couldn't train your like-board. The feed no longer exists.";if(r===m.ue.languageNotAvailableError)return"Oops! Leo doesn't understand ".concat(n," yet.");if(r===m.ue.languageMismatchError)return"Oops! Articles in your feed and board must be in the same language.";if(r===m.ue.notEnoughEntriesInBoardError){const e=10-parseInt(i);return"Save ".concat(e," more ").concat(u()("article",e)," to this board. There are not enough articles for Leo to understand the topic you want to prioritize.")}return r===m.ue.notEnoughEntriesInCategoryError?"Sorry, Leo couldn't train your like-board. The feed does not publish enough content for Leo to analyze.":s}function v(e){return e.layers.some((e=>"security"===e.type))?"security":1===e.layers.length?e.layers[0].type:"various"}function b(e){return e.some((e=>e.type===m.ur.matches&&!e.negate&&e.parts.length>1))}function E(e){let{latestRefreshErrors:t,trainingStatus:s}=e;return s===m.Py.error&&t&&t.some((e=>e.type===m.ue.notEnoughEntriesInBoard))}function C(e){return e.layers.some((e=>{let{type:t}=e;return t===m.ur.likeBoard}))}function w(e,t){const s=e.layers||[],{layers:n}=t;if(n.length!==s.length)return!1;const r=n.reduce(((e,t,n)=>{const{type:r,salience:a}=t,{type:o,salience:c}=s[n],h=t[m.y9[r]],u=s[n][m.y9[o]];if(r!==o||"matches"===o&&a!==c)return e[n]=!1,e;let p;return p="matches"===o?d()(u,h,(e=>{let{id:t,text:s}=e;return s||t})):l()(u,h,i()),p.length>0?(e[n]=!1,e):(e[n]=!0,e)}),{});return a()(r,(e=>!0===e))}function k(e){const{label:t,layers:s}=e,n=v(e);if("security"===n||"various"===n)return!1;if("likeBoard"===n){if(s[0].boards.length>1)return!1;if(t!==s[0].boards[0].label)return!1}return"matches"!==n}function _(e){return e.reduce(((e,t)=>(e[t.negate?m.ti.notLayers:m.ti.layers].push(t),e)),{layers:[],notLayers:[]})}function M(e){return e.type===p.Mn.mitreAttack&&e.causes.length>1?"".concat(e.causes.length," TTPs"):e.causes[0].label}},31245:(e,t,s)=>{"use strict";s.d(t,{z1:()=>n,yQ:()=>i,rr:()=>r});const n=Object.freeze({priority:"priority",webAlert:"webAlert"}),i=Object.freeze({biopharmaUpgrade:"biopharmaUpgrade",leoSatisfactionPrompt:"leoSatisfactionPrompt",leoSecurityUpgrade:"leoSecurityUpgrade",leoSecurityUpgradeMalware:"leoSecurityUpgradeMalware",leoSecurityUpgradeThreatActors:"leoSecurityUpgradeThreatActors",leoSecurityUpgradeVulns:"leoSecurityUpgradeVulns",likeBoard:"likeBoard",muteFilter:"muteFilter",security:"security",sponsor:"sponsor"}),r=Object.freeze({biopharmaUpgrade:"Would you like Leo to read this feed and prioritize specific biopharma companies, diseases, or genes?",leoSecurityUpgrade:"Would you like Leo to read this feed and prioritize articles related to specific Cybersecurity topics and threats?",leoSecurityUpgradeMalware:"Would you like Leo to read this feed and prioritize specific Malware threats?",leoSecurityUpgradeThreatActors:"Would you like Leo to read this feed and prioritize articles mentioning specific threat actors?",leoSecurityUpgradeVulns:"Would you like Leo to read this feed and prioritize the vulnerabilities with the highest CVSS score or critical exploits?"})},63403:(e,t,s)=>{"use strict";s.d(t,{Tm:()=>i,hj:()=>r,YC:()=>a,IT:()=>o,W_:()=>l,DX:()=>c,Pk:()=>d});const n="<p>submitted by";function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("reddit.com")&&e.includes(".rss")}function r(e){return!!e&&e.startsWith("feed/https://api.reddit.com/")}function a(e){return e&&e.includes("reddit.com/")}function o(e){return e.startsWith("https://www.reddit.com")||e.startsWith("www.reddit.com")||e.startsWith("reddit.com")}function l(e){return e.origin&&e.origin.title?e.origin.title.split(" Subreddit Posts")[0]:null}function c(e){return e.author?"u/".concat(e.author):null}function d(e){return e.content&&e.content.content?e.content.content=e.content.content.split(n)[0]+"</div>":e.summary&&e.summary.content&&(e.summary.content=e.summary.content.split(n)[0]+"</div>"),e}},86966:(e,t,s)=>{"use strict";function n(e,t,s){if(null==t)return s;const n=e.exec(t);return n&&n.length?n[1]:s}s.d(t,{Y:()=>n})},35278:(e,t,s)=>{"use strict";function n(e){var t;return window.SETTINGS&&null!==(t=window.SETTINGS[e])&&void 0!==t?t:null}function i(e,t){try{const s={};s[e]=t,r(s)}catch(s){console.log("[LWRITE] failed because "+s.name+" -- "+s.message)}}function r(e){try{const t={};for(const s in e)t[s]=window.SETTINGS[s]=e[s];window.$B.core.application.updateUserSettings(t,!0)}catch(t){console.log("[LWRITES] failed because "+t.name+" -- "+t.message)}}s.d(t,{$8:()=>n,If:()=>i})},24916:(e,t,s)=>{"use strict";s.d(t,{x:()=>i,N:()=>r});var n=s(15454);function i(e){const t=streets.service("preferences").getPreference("customizationKey");let s;if("REDEFSTAGE"===t)s="//stage.netdj.co";else{if("REDEF"!==t)return;s="//netdj.co"}const n=e.getTitle(),i=e.getCleanAlternateLink(),r=e.getId();streets.service("net").POST(s+"/add/feedly/?id="+encodeURIComponent(r)+"&url="+encodeURIComponent(i)+"&title="+encodeURIComponent(n)+"&userId="+encodeURIComponent(streets.getUserId())).then((()=>{streets.service("analytics").trackEvent("sharing","redef")})).catch((e=>{console.log("[web] failed to share with REDEF:"+e.name+" -- "+e.message)}))}function r(e,t,s){const i=Math.round(screen.width/2-s/2);let r=0;screen.height>t&&(r=Math.round(screen.height/2-t/2));const a=window.open(e,"_blank","left="+i+",top="+r+",width="+s+",height="+t+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==a)return(0,n.d)();a.focus()}},82316:(e,t,s)=>{"use strict";s.d(t,{t:()=>n,v:()=>i});const n=["redef","twitter","linkedIn","facebook","pocket","buffer","email","evernote","oneNote","instapaper","customSharing"],i=["customSharing","evernote","instapaper","pocket","oneNote","twitter","facebook","linkedIn","buffer","email","wordPress","save"]},32285:(e,t,s)=>{"use strict";s.d(t,{PC:()=>n,VR:()=>i});const n=Object.freeze({buryEntry:"x",clipToBuffer:"b",clipToEvernote:"c",close:"Escape",debugEntry:"D",inlineEntry:"o",leoDebugEntry:"L",markAllAsRead:"A",markAllAsReadAlt:"M",markNegative:"-",markPositive:"+",markToReview:"*",nextEntry:"j",nextEntryAlt:"ArrowRight",nextStream:"J",openShortcutMenu:"?",powerSearch:"/",previousEntry:"k",previousEntryAlt:"ArrowLeft",previousStream:"K",readLater:"l",readLaterAlt:"s",refresh:"r",saveToBoard:"t",selectNextEntry:"n",selectNextUnreadEntry:"N",selectPreviousEntry:"p",selectPreviousUnreadEntry:"P",toggleEntryRead:"m",viewOriginal:"v",goArm:"g",goQuickGoto:"g",goQuickGotoAlt:"u",goToday:"t",goHome:"h",goMy:"m",goIndex:"i",goLatest:"a",goOrganize:"o",goReadLater:"l",goReadLaterAlt:"S",goPreferences:"p"}),i=[{sectionLabel:null,list:[{keyboardShortcut:"?",label:"Keyboard shortcuts"}]},{sectionLabel:"Navigation",list:[{keyboardShortcut:"gt",label:"Today"},{keyboardShortcut:"ga",label:"All"},{keyboardShortcut:"gg",label:"Jump to..."},{keyboardShortcut:"gl",label:"Read later"},{keyboardShortcut:"gi",label:"Index"},{keyboardShortcut:"go",label:"Organize sources"},{keyboardShortcut:"gp",label:"Preferences"},{keyboardShortcut:"shift+j",label:"Next source or collection"},{keyboardShortcut:"shift+k",label:"Previous source or collection"},{keyboardShortcut:"/",label:"Search"},{keyboardShortcut:"r",label:"Refresh"}]},{sectionLabel:"Lists",list:[{keyboardShortcut:"j",label:"Inline next article"},{keyboardShortcut:"k",label:"Inline previous article"},{keyboardShortcut:"n",label:"Select next article"},{keyboardShortcut:"p",label:"Select previous article"},{keyboardShortcut:"shift+a",label:"Mark all as read"}]},{sectionLabel:"Selected article",list:[{keyboardShortcut:"o",label:"Inline/close currently selected article"},{keyboardShortcut:"v",label:"View original in a new tab"},{keyboardShortcut:"m",label:"Toggle mark as read"},{keyboardShortcut:"x",label:"Mark as read and hide"},{keyboardShortcut:"s",label:"Read Later"},{keyboardShortcut:"t",label:"Save to Board"},{keyboardShortcut:"b",label:"Save to Buffer"},{keyboardShortcut:"c",label:"Clip  to Evernote"}]}]},18193:(e,t,s)=>{"use strict";s.d(t,{q:()=>n});const n=Object.freeze({popularity:{label:"Most Popular",getter:"getEngagement",sortDirection:"desc"},oldest:{label:"Oldest",getter:"getCrawledDate",sortDirection:"asc"},newest:{label:"Newest",getter:"getCrawledDate",sortDirection:"desc"}})},85251:(e,t,s)=>{"use strict";s.d(t,{r:()=>r,zy:()=>a,yR:()=>o,Z7:()=>l,Kn:()=>c,Cl:()=>d,CI:()=>h});var n=s(74221);function i(e,t){const s=e.findIndex((e=>t===e));return s>-1?s:1e6}function r(e,t){const s=[...e];return s.sort(((e,s)=>{const r=i(t,e.id),a=i(t,s.id),{isFavoritesA:o}=(0,n.Yg)(e.id),{isFavoritesB:l}=(0,n.Yg)(s.id);return o||e.isGlobalMust?-1:e.isGlobalUncategorized||l||s.isGlobalMust?1:s.isGlobalUncategorized?-1:r===a?e.label?s.label?e.label.localeCompare(s.label):1:-1:r-a}))}function a(e){const t=[...e];return t.sort(((e,t)=>e.isGlobalMust||t.isGlobalUncategorized?-1:t.isGlobalMust||e.isGlobalUncategorized?1:e.label.localeCompare(t.label))),t}function o(e){const t=[...e];return t.sort(((e,t)=>e.title.localeCompare(t.title))),t}function l(e){const t=[...e];return t.sort(((e,t)=>e.label?t.label?e.label.localeCompare(t.label):1:-1)),t}function c(e){const t=[...e];return t.sort(((e,t)=>e.label.localeCompare(t.label))),t}function d(e,t){const s=[...e];return s.sort(((e,s)=>i(t,e.id)-i(t,s.id))),s}function h(e,t){return[...e].sort(((e,s)=>i(t,e.id)-i(t,s.id)))}},29125:(e,t,s)=>{"use strict";s.d(t,{Iv:()=>n,FM:()=>i});const n=Object.freeze({default:250,cards:2e3});function i(e,t,s){return e?""==e?null:(t||(t="-"),null==s&&(s="???"),"feedly.history"===e||"read"===e?"user/"+t+"/tag/global.read":"like"===e?"user/"+t+"/tag/feedly.plusone":"#my"===e||"feedly.all"===e?"user/"+t+"/category/global.all":"global.uncategorized"===e?"user/"+t+"/category/global.uncategorized":"global.all"===e?"tag"===s?"user/"+t+"/tag/global.all":"user/"+t+"/category/global.all":"global.enterprise"===e?"tag"===s?"user/"+t+"/tag/global.enterprise":"user/"+t+"/category/global.enterprise":"global.must"===e?"user/"+t+"/category/global.must":"global.saved"===e||"starred"===e||"feedly.saved"===e?"user/"+t+"/tag/global.saved":0===e.indexOf("feedly.")?"user/"+t+"/tag/"+e:"user/"+t+"/"+s+"/"+e):null}},66380:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});const n=4},48689:(e,t,s)=>{"use strict";s.d(t,{iR:()=>a,Lk:()=>o,zL:()=>l,nQ:()=>c,H6:()=>d,hD:()=>h,EC:()=>u,iI:()=>p,IJ:()=>m,lF:()=>g,zU:()=>f});var n=s(15454),i=s(85902);const r=/(.*)\((.*)\)/;function a(e){return!!e&&e.startsWith("feed/https://twitter.com")}function o(e){return 0===e.indexOf("#")?["https://twitter.com/hashtag/"+e.slice(1)]:0===e.indexOf("@")?["https://twitter.com/"+e.slice(1)]:e.indexOf("twitter.com/")>-1||e.indexOf("//twitter.com")>-1?[e]:["https://twitter.com/"+e,"https://twitter.com/hashtag/"+e,"https://twitter.com/search?q="+encodeURIComponent(e)]}function l(e){const t=r.exec(e.author);return t?t[1]:null}function c(e){const t=r.exec(e.author);return t?t[2]:null}function d(e){return e.alternate&&e.alternate.length>0&&e.alternate[0].href?e.alternate[0].href:null}function h(e){if(!e.linked||0===e.linked.length)return null;if(!e.content||!e.content.content)return null;const t=(0,i.L0)(e.content.content.split("<a")[0]).replace("#","").replace(".@","").replace("@",""),s=e.linked[0],{title:n}=s,r=n?n.replace(/[‘’]/g,"'").replace(/[“”]/g,'"'):"";return r&&t.length<1.25*r.length&&t.indexOf(r.slice(0,20))>-1?null:(0,i.L0)(e.content.content)}function u(e){return e.authorDetails&&e.authorDetails.icon?e.authorDetails.icon:null}function p(e){const t=e.indexOf(" Tweets");return e.substr(0,t)}function m(e,t){const s="("+t+") retweeted:";return e.indexOf(s)>=0}function g(e,t){const s="RT "+t+":";return 0===e.indexOf(s)?e.substr(s.length):e}function f(e,t,s){try{const i=550,r=286,a=screen.height,o=screen.width,l=Math.round(o/2-i/2);let c=0;a>r&&(c=Math.round(a/2-r/2));const d=window.open("about:blank","_blank","left="+l+",top="+c+",width=550,height=286,personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==d)return(0,n.d)();d.focus(),d.location="https://twitter.com/share?related=feedly&text="+encodeURIComponent(e)+"&url="+encodeURIComponent(t)+"&_="+(new Date).getTime()+"&hashtags="+s.join(","),streets.service("analytics").trackEvent("sharing","tweet")}catch(i){console.log("[web] failed to popup tweetsheet:"+i.name+" -- "+i.message)}}},98049:(e,t,s)=>{"use strict";function n(){return streets.getUserId()?9:999}function i(){return 8}s.d(t,{_:()=>n,P:()=>i})},52277:(e,t,s)=>{"use strict";function n(e){try{const t=e.getBestAlternateLink(),s=e.getFeedId();return null!=t&&null!=s&&(t.indexOf("/TheVegetarianFoodie")>-1||(s.indexOf("pi.co/feed")>-1||(t.indexOf("guardian.co.uk")>-1||(t.indexOf("adventure.com")>-1||(s.indexOf("feeds.feedburner.com/Techcrunch")>-1||(s.indexOf("adventure.com")>-1||(s.indexOf("europeanforeignpolicy.eu")>-1||(t.indexOf("europeanforeignpolicy.eu")>-1||(s.indexOf("harvardbusiness")>-1||(t.indexOf("www.businessoffashion.com")>-1||(t.indexOf("entrepreneur.com")>-1||(t.indexOf("theverge.com")>-1||(s.indexOf("fastcompany")>-1||(t.indexOf("fastcompany")>-1||(s.indexOf("fastcodesign")>-1||(t.indexOf("fastcodesign")>-1||(t.indexOf("www.sfgate.com")>-1||(t.indexOf("slate.com")>-1||(t.indexOf("betakit.com")>-1||(t.indexOf("etsy.com")>-1||(s.indexOf("arstechnica")>-1||(s.indexOf("tennisnow")>-1||(s.indexOf("hanielas.blogspot.com")>-1||(s.indexOf("fitsmallbusiness.com")>-1||s.indexOf("smallbizdaily.com")>-1))))))))))))))))))))))))}catch(t){return console.log("[nitro] failed to test exception:"+t.name+" -- "+t.message),!1}}function i(e){return e.getAlternateLink().indexOf("dilbert.com")>-1}function r(e){const t=e.getFeedId(),s=e.getBestAlternateLink();return null!=t&&t.indexOf("daringfireball.net")>-1||!!(s&&s.indexOf("twitter.com")>-1)}s.d(t,{JY:()=>n,eA:()=>i,pB:()=>r})},29318:(e,t,s)=>{"use strict";s.d(t,{hT:()=>n,DB:()=>r,Fm:()=>a});const n=!1,i="blackfriday-2018";function r(e,t){try{if(!n)return!1;if(0===e.indexOf("landing"))return!1;if(0===e.indexOf("blackfriday"))return!1;if(!streets.getUserId())return!1;if(streets.hasProAccess())return!1;if(streets.hasBusinessAccess())return!1;if(t)return!1;if(streets.service("preferences").getPreference(i))return!1;const s=new Date(2018,10,22,1,0,0).getTime(),r=new Date(2019,0,4,23,0,0).getTime(),a=(new Date).getTime();return a>s&&a<r}catch(s){return console.log("[feedly] blackfriday redirect error:"+s.name+" -- "+s.message),!1}}function a(){try{streets.service("preferences").askSetPreference(i,"no-thanks",null,!0)}catch(e){console.log("[feedly] failed to mark as pro redirected:"+e.name+" -- "+e.message)}}},96196:(e,t,s)=>{"use strict";s.d(t,{E:()=>i,Q:()=>r});const n="pro-2019";function i(e,t){try{return!1}catch(s){return console.log("[feedly] pro redirect error:"+s.name+" -- "+s.message),!1}}function r(){try{streets.service("preferences").askSetPreference(n,"no-thanks-v1",null,!0)}catch(e){console.log("[feedly] failed to mark as pro redirected:"+e.name+" -- "+e.message)}}},89631:(e,t,s)=>{"use strict";s.d(t,{w:()=>n,_:()=>i});const n="feed/https://feedly.com/web/";function i(e){return e.startsWith(n)?e.split(n)[1]:null}},8142:(e,t,s)=>{"use strict";s.d(t,{QP:()=>n,p3:()=>i});s(83168),s(3167);const n="feedly_openWebsiteDirectly",i="feedly_animation"},53023:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});const n=s(74592),i={};n.keys().forEach((function(e){const t=e.substring(2,e.length-4);i[t]=async()=>(await n(e))[t]}))},25609:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var n=s(32735),i=s(12788),r=s(44694),a=s(53670);function o(){return n.createElement(a.z,{className:"SkipToContentButton",onClick:()=>{(0,r.ZL)()}},"Skip to Content")}var l=s(47169),c=s(60216),d=s.n(c),h=s(96297),u=s(3171),p=s(8199),m=s(80889),g=s(31454);class f extends n.Component{constructor(e){super(e),(0,l.Z)(this,"_onLogin",(()=>{const e=streets.service("pageManager").getPageInfo();window.localStorage.setItem("next.uri",e.uri);const t=e.type;let s="i/".concat(t,"/-/login");e.key&&(s+="/".concat(e.key)),this.analytics.trackOnboardingPageview(s),window.localStorage.setItem("next.onboarding.prefix",s),(0,g.fg)()})),this.state={user:null}}UNSAFE_componentWillMount(){this.analytics=streets.service("analytics"),this.profile=streets.service("profile"),this.profile.registerObserver(this),this.setState({user:this.profile.getUserInfo()})}componentWillUnmount(){this.profile.unregisterObserver(this),this.profile=null,this.analytics=null}onProfileChanged(){this.setState({user:this.profile.getUserInfo()})}render(){const{user:e}=this.state;return e&&e.id?null:n.createElement(a.z,{align:"right",label:"Log In",importance:"secondary",className:"button-login",onClick:this._onLogin})}}const y=(0,s(94773).Z)((function(e){return n.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.046 4.907c.864-1.512 3.044-1.512 3.908 0l7.415 12.977c.857 1.5-.226 3.366-1.954 3.366H4.585c-1.728 0-2.81-1.866-1.954-3.366l7.415-12.977Zm2.605.744a.75.75 0 0 0-1.302 0L3.934 18.628a.75.75 0 0 0 .65 1.122h14.831a.75.75 0 0 0 .651-1.122L12.651 5.65Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9.25a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}),n.createElement("path",{d:"m12 16.708.117.007a1 1 0 1 1-.234 0l.117-.007Z",fill:"currentColor"}))}));var v=s(40841),b=s.n(v),E=s(92814),C=s(763),w=s(35503);class k extends n.Component{constructor(e){var t;super(e),t=this,(0,l.Z)(this,"_onCloseCheckoutModal",(function(){let{closeBanner:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCloseBanner:s}=t.props;t.setState({isCheckoutModalOpen:!1}),e&&s()})),(0,l.Z)(this,"_onClickAction",(()=>{const{onClickAction:e}=this.props;e?e():this.setState({isCheckoutModalOpen:!0})})),this.state={isCheckoutModalOpen:!1}}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{isCheckoutModalOpen:e}=this.state,{actionText:t,color:s,children:i,hasUpgradeIcon:r,onCloseBanner:o}=this.props;return n.createElement("div",{className:b()("ProNotification",{["ProNotification--".concat(s)]:s})},i,n.createElement(a.z,{className:"ProNotification__action",icon:r&&n.createElement(E.Z,{className:"ProNotification__action-icon",color:"white"}),label:t,onClick:this._onClickAction,size:"small"}),n.createElement(a.z,{className:"ProNotification__close",icon:n.createElement(C.Z,null),importance:"tertiary",onClick:o,size:"small"}),e&&n.createElement(w.E,{onClose:this._onCloseCheckoutModal}))}}k.propTypes={actionText:d().string.isRequired,children:d().node.isRequired,color:d().oneOf(["accent","danger","warning"]),hasUpgradeIcon:d().bool,onCloseBanner:d().func.isRequired,onClickAction:d().func},k.defaultProps={color:void 0,hasUpgradeIcon:!1,onClickAction:null};function _(e){let{onClose:t}=e;const s=(0,m.sL)(streets.service("profile").getUserInfo().product),i=s?"Pro+":"Pro";return n.createElement(k,{actionText:"Renew ".concat(i),color:"danger",hasUpgradeIcon:!0,onCloseBanner:()=>{t("expired")}},n.createElement(y,{className:"ProNotification__icon",color:"danger"}),n.createElement("div",{className:"ProNotification__header"},"Your"," ".concat(i," "),"account has expired."),s?"Renew to access Leo Web Alerts, Mute Filters, Deduplication, and more.":"Renew your subscription so you don’t miss out on important news.")}_.propTypes={onClose:d().func.isRequired};function M(e){let{onClose:t}=e;const s=(0,m.sL)(streets.service("profile").getUserInfo().product)?"Pro+":"Pro";return n.createElement(k,{actionText:"Update payment",color:"danger",onCloseBanner:()=>{t("pastdue")}},n.createElement(y,{className:"ProNotification__icon",color:"danger"}),n.createElement("div",{className:"ProNotification__header"},"We weren’t able to process your payment."),"Please update your payment information to keep using your ".concat(s," account."))}M.propTypes={onClose:d().func.isRequired};var S=s(39895);const I="renewed";function T(e){let{onClose:t}=e;const s=(0,m.sL)(streets.service("profile").getUserInfo().product),i=s?"Pro+":"Pro";return n.createElement(k,{actionText:"See new ".concat(i," features"),color:"accent",onClickAction:()=>{streets.service("router").loadPage("support"),t(I)},onCloseBanner:()=>{t(I)}},n.createElement(S.Z,{className:"ProNotification__icon",color:"accent"}),n.createElement("div",{className:"ProNotification__header"},"Welcome back to"," ".concat(i),"!"),s?"Stay ahead of the curve with Leo, your AI research assistant.":"Keep reading and sharing important news.")}T.propTypes={onClose:d().func.isRequired};var N=s(24443),L=s.n(N);function P(e){let{onClose:t,renewalDate:s}=e;const{cardDetails:i,product:r,productExpiration:a}=streets.service("profile").getUserInfo(),o=(0,m.sL)(r),l=o?"Pro+":"Pro",c=i&&!(0,h.h6)(i),d=!s||s-Date.now()<0,p=c&&!d?"warning":"danger";let g="Your ".concat(l," plan is about to expire.");if(d)g="Your ".concat(l," plan has expired.");else if(c){const e=(0,u.P8)(s);g="Your ".concat(l," plan will expire in ").concat(0===e?"less than a day":L()("day",e,!0),".")}let f=o?"Renew to access Leo Web Alerts, Mute Filters, Deduplication, and more.":"Renew your plan so you don’t miss out on important news.";if(d){const e=(0,u.P8)(a);f="In ".concat(0===e?"less than a day":L()("day",e,!0)," you will no longer be able to access your premium features.")}else c||(f="Please update your payment information to keep using your ".concat(l," account."));return n.createElement(k,{actionText:c?"Renew ".concat(l):"Update payment",color:p,hasUpgradeIcon:!0,onCloseBanner:()=>{t("toexpire")}},n.createElement(y,{className:"ProNotification__icon",color:p}),n.createElement("div",{className:"ProNotification__header"},g),f)}P.propTypes={onClose:d().func.isRequired,renewalDate:d().number},P.defaultProps={renewalDate:void 0};class D extends n.Component{constructor(e){super(e),(0,l.Z)(this,"_closeNotification",(e=>{try{window.localStorage.setItem("pro.notifications."+e,(new Date).getTime().toString())}catch(t){}this.setState({hideProNotifications:!0})})),(0,l.Z)(this,"_onStartGuideClick",(()=>{streets.service("router").loadPage("team/gettingStarted")})),(0,l.Z)(this,"_onUpgradeClick",(()=>{streets.service("router").loadPage("pro/navbar")})),this.preferences=streets.service("preferences"),this.profile=streets.service("profile"),this.state={hideProNotifications:!1,nextChargeDate:null,showUpgradeButton:"on"===this.preferences.getPreference("proPlusUpgradeButton"),userInfo:this.profile.getUserInfo()}}componentDidMount(){this.preferences.registerObserver(this),this._updateNextChargeDate()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.preferences=null,this.profile=null}onPreferenceChanged(e,t){"proPlusUpgradeButton"===e&&this.setState({showUpgradeButton:"on"===t})}render(){const{pageInfo:{reactClass:e}}=this.props;return null!=e&&e.requiresFullScreen()||null!=e&&e.requiresSearchBarHidden()?null:n.createElement("div",{className:"TopHeaderBar"},this._renderProNotification()||n.createElement("div",{className:"TopHeaderBar__container container"},n.createElement("div",{className:"TopHeaderBar__actions"},this._renderUpgradeLink(),n.createElement(f,null))))}_renderProNotification(){const{hideProNotifications:e,nextChargeDate:t,userInfo:{cardDetails:s,productExpiration:i,subscriptionPaymentProvider:r,subscriptionStatus:a}}=this.state,{showRenewedBanner:o}=this.props;return e||streets.hasBusinessAccess()||!(0,m.RV)(r)||!i?null:o?n.createElement(T,{onClose:this._closeNotification}):"PastDue"!==a||this._lastProNotificationWithin("pastdue",30)?"Active"!==a&&"PastDue"!==a&&this._hasExpiredWithin(i,365)&&!this._lastProNotificationWithin("expired",90)?n.createElement(_,{onClose:this._closeNotification}):"Canceled"!==a&&"CanceledTrial"!==a&&s&&!(0,h.h6)(s)||!(0,u.SE)(i)&&!(0,u.SE)(t)||this._lastProNotificationWithin("toexpire",30)?null:n.createElement(P,{expirationDate:i,onClose:this._closeNotification,renewalDate:t}):n.createElement(M,{onClose:this._closeNotification})}_renderUpgradeLink(){const{showUpgradeButton:e,userInfo:{enterpriseStatus:t,subscriptionPaymentProvider:s}}=this.state;return streets.getUserId()?streets.hasAdminBusinessAccess()&&"Trial"===t?n.createElement(a.z,{color:"accent",importance:"primary",label:"Start guide",onClick:this._onStartGuideClick,size:"small"}):streets.hasProAccess()?!streets.hasProPlusAccess()&&s!==p.RI.paypal&&e?n.createElement(a.z,{color:"notification",importance:"primary",label:n.createElement("span",null,"Upgrade",n.createElement("span",{style:{position:"relative",top:"-1px"}},"+")),onClick:this._onUpgradeClick,size:"small"}):null:n.createElement(a.z,{color:"pro",importance:"primary",label:"Upgrade",onClick:this._onUpgradeClick,size:"small"}):null}_hasExpiredWithin(e,t){const s=(new Date).getTime()-e;return s>=0&&s<(0,u.z1)(t)}_lastProNotificationWithin(e,t){const s=window.localStorage.getItem("pro.notifications."+e);if(null==s)return!1;return(new Date).getTime()-parseInt(s)<(0,u.z1)(t)}async _updateNextChargeDate(){const e=await this.profile.askProProducts();this.setState({nextChargeDate:(0,m.B1)(e)})}}D.propTypes={pageInfo:d().shape({reactClass:d().func,type:d().string}).isRequired,showRenewedBanner:d().bool},D.defaultProps={showRenewedBanner:!1};var A=s(83168);class O extends A.y{load(){this._pageInfo=null,this._skipToContentWrapper=document.getElementById("skipToContentButton"),this._topHeaderBar=document.getElementById("topHeaderBarFX"),i.render(n.createElement(o,null),this._skipToContentWrapper)}onBeforePageLoad(e){this._pageInfo=e,i.render(n.createElement(D,{pageInfo:this._pageInfo}),this._topHeaderBar)}unload(){this._skipToContentWrapper&&i.unmountComponentAtNode(this._skipToContentWrapper),this._topHeaderBar&&i.unmountComponentAtNode(this._topHeaderBar),this._pageInfo=null}showRenewedBanner(){i.render(n.createElement(D,{pageInfo:this._pageInfo,showRenewedBanner:!0}),this._topHeaderBar)}}function x(e){return new O(e)}},24671:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var n=s(47169),i=s(24340),r=s.n(i),a=s(32735),o=s(12788),l=s(79442),c=s(68211),d=s(70917),h=s(85131),u=s(15149);class p extends a.Component{constructor(e){super(e),(0,n.Z)(this,"_askUndo",(async()=>{this.setState({isVisible:!1}),clearTimeout(this._undoTimer),this.signs.showMessage("Undoing..."),await this.reader.askUndoLastMarkAsRead(),this._undoURI?this.router.loadPage(this._undoURI):this.router.reloadPage()})),this.state={isVisible:!1}}componentDidMount(){this.router=streets.service("router"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.reader.registerObserver(this)}componentWillUnmount(){this.reader.unregisterObserver(this),this.router=null,this.reader=null,this.signs=null,clearTimeout(this._undoTimer)}onUndoAvailable(){const e=streets.service("pageManager").getPageInfo();this._undoURI=e?e.uri:null,this.signs.hide(),this.setState({isVisible:!0}),clearTimeout(this._undoTimer),this._undoTimer=setTimeout((()=>{this.setState({isVisible:!1})}),5500)}render(){const{isVisible:e}=this.state;return e?a.createElement("div",{className:"UndoSign"},"Marked as read."," ",a.createElement(u.Z,{className:"UndoSign__action",onClick:this._askUndo},"Undo")):null}}var m=s(87753),g=s(3e3),f=s(57855),y=s(44694),v=s(38916),b=s(45538),E=s(31454),C=s(83168),w=s(80889);var k=s(3167),_=s(63403),M=s(77157),S=s(35610),I=s(98049),T=s(29318),N=s(96196),L=s(50224),P=s(47904);class D extends C.y{constructor(e){super(e),(0,n.Z)(this,"_processTouchStart",(e=>{1===e.touches.length?(this.touchT0=(new Date).getTime(),this.touchTarget=e.targetTouches[0].target,this.lastFastTouchTime=null,this.touchStartX=e.targetTouches[0].clientX,this.touchStartY=e.targetTouches[0].clientY):this.touchTarget=null})),(0,n.Z)(this,"_processTouchMove",(e=>{null!=this.touchTarget&&(Math.abs(e.targetTouches[0].clientX-this.touchStartX)>10||Math.abs(e.targetTouches[0].clientY-this.touchStartY)>10)&&(this.touchTarget=null)})),(0,n.Z)(this,"_processTouchEnd",(e=>{if(null==this.touchTarget)return;if((new Date).getTime()-this.touchT0>650)return;!1===this._globalCommonHandler(e,this.touchTarget)&&((0,f.EB)(this.touchTarget)?this.touchTarget.focus():document.activeElement&&document.activeElement.blur()),this.lastFastTouchTime=(new Date).getTime(),this.touchTarget=null})),(0,n.Z)(this,"_globalClickHandler",(e=>{null!=this.lastFastTouchTime&&(new Date).getTime()-this.lastFastTouchTime<300||this._globalCommonHandler(e,e.target)})),(0,n.Z)(this,"_handleContextMenuClick",(e=>{let{target:t}=e;const s=(0,f.Ld)(t,"href");(0,_.YC)(s)&&this.analytics.incrementDashboardEvent("REDDIT:clicks")})),(0,n.Z)(this,"reflow",(()=>{const e=(0,f.$$)(document);this.pageHolderElemFX.style.minHeight=e-49-49+"px";this._getFrameWidth()>940?this.feedlyFrame.classList.add("feedlyFrame--xlarge"):this.feedlyFrame.classList.remove("feedlyFrame--xlarge")})),(0,n.Z)(this,"_handleVisibilityChange",(()=>{document.hidden||this.reader.askRefreshUnreadCountsIfOnline({forceRefresh:!0})})),(0,n.Z)(this,"_handleOnFocus",(()=>{this.reader.askRefreshUnreadCountsIfOnline()})),(0,n.Z)(this,"_dispatchScrollEvent",(()=>{let e=!0;!1===this.autoSelectOnScroll&&(e=!1,this.autoSelectOnScroll=!0),this.readingManager.onPageScrollChanged(this._getPageScrollTop(),e)})),(0,n.Z)(this,"_dispatchKeydownEvent",(e=>{(0,b.V)(e)||(0,b.E)(e)&&"Escape"===e.key&&e.target.blur()})),(0,n.Z)(this,"getTheme",(()=>this.preferences.getPreference(k.BF))),this.feedlyFrame=null,this.scrollTarget=null,this.reactPopoverHook=null,this.pageHolderElemFX=null,this.feedlyChromeElem=null,this.feedlyPreviewElem=null,this.feedlyScrollbarWidth=0,this.lastFastTouchTime=void 0,this.touchStartX=void 0,this.touchStartY=void 0,this.touchTarget=void 0,this.touchT0=void 0,this.oneNoteEntryId=null,this.oneNoteTarget=null,this.oneNoteImageUrl=null,this.oneNoteImageTitle=null,this.oneNoteSelection=null,this.evernoteEntryId=null,this.evernoteImageUrl=null,this.evernoteImageTitle=null,this.evernoteSelection=null,this.evernoteTarget=null,this.autoSelectOnScroll=!0}setAnalytics(e){this.analytics=e}setIntegrations(e){this.integrations=e}setLeftnav(e){this.leftnav=e}setLeo(e){this.leo=e}setNotifications(e){this.notifications=e}setOnboarding(e){this.onboarding=e}setPageManager(e){this.pageManager=e}setPersonalcollections(e){this.personalcollections=e}setPocket(e){this.pocket=e}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}setProfile(e){this.profile=e,this.profile.registerObserver(this)}setReader(e){this.reader=e,this.reader.registerObserver(this)}setReadingManager(e){this.readingManager=e}setRouter(e){this.router=e}setSigns(e){this.signs=e}setSlider(e){this.slider=e}load(){this.feedlyScrollbarWidth=(0,f.Iz)(),document.getElementById("root").innerHTML='\n  <div class="fx" id="skipToContentButton" style="position:relative"></div>\n  <div id="entryContextMenuPart"></div>\n  <div id="tutorialOverlay"></div>\n  <div id="bsaPlaceholder"></div>\n  <div id="feedlyUndoSign" class="fx"></div>\n  <div id="quickGoto" class="QuickGoto"></div>\n  <div id="notifications"></div>\n  <div id="modal"></div>\n  <div id="feedlyChrome" class="feedlyChrome--leftnav-closed">\n    <div id="feedlyChrome__leftnav-wrapper" class="fx"></div>\n    <div id="feedlyContainer">\n      <div id="barsFX" class="fx fixed-bar">\n        <div id="topHeaderBarFX">\n          \x3c!-- This will be used to render the logo, hercule, and profile bubble in the top bar --\x3e\n        </div>\n        <div id="headerBarFX">\n          \x3c!-- This is the element that will render the docked, floating header --\x3e\n        </div>\n      </div>\n      <div id="feedlyFrame">\n\n        \x3c!-- New container for FX pages --\x3e\n        <main id="feedlyPageHolderFX" class="fx">\n          <div class="jsFocusContentStart screenreader-only" tabindex="-1"></div>\n          <div id="feedlyPageFX" class="container centered">\n            \x3c!-- This is the element we will use to render FX page components --\x3e\n          </div>\n        </main>\n      </div>\n    </div>\n    <div id="feedlyChrome__leftnav-pin-wrapper" class="fx"></div>\n    <div id="feedlyChrome__preview-wrapper"></div>\n  </div>\n  <div id="floatingEntry"></div>\n  <div id="reactPopoverHook" class="fx" style="position:relative"></div>\n  <div id="DockedPopupContainer" class="fx" style="position:relative"></div>\n',this.feedlyFrame=document.getElementById("feedlyFrame"),this.feedlyChromeElem=document.getElementById("feedlyChrome"),this.feedlyPreviewElem=document.getElementById("feedlyChrome__preview-wrapper"),this.pageHolderElemFX=document.getElementById("feedlyPageHolderFX"),this.reactPopoverHook=document.getElementById("reactPopoverHook"),o.render(a.createElement(p,null),document.getElementById("feedlyUndoSign")),this.scrollTarget=this.feedlyFrame}initialize(){window.onpopstate=()=>{this._onPathChanged((0,g.n2)())}}async onUserIdentified(){this._applyTheme(this.getTheme())}sortPersonalCollectionsAlphabetically(){this.preferences.askSetPreference(k.As.personalCollections,"[]"),this.signs.showMessage("Sorted Alphabetically")}sortTeamCollectionsAlphabetically(){this.preferences.askSetPreference(k.As.teamCollections,"[]"),this.signs.showMessage("Sorted Alphabetically")}uninitialize(){this._toggleEventListeners(!1),this.pageManager.destroyPage(),this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this)}unload(){this.analytics=null,this.integrations=null,this.leftnav=null,this.leo=null,this.notifications=null,this.onboarding=null,this.pageManager=null,this.personalcollections=null,this.pocket=null,this.preferences=null,this.profile=null,this.reader=null,this.readingManager=null,this.router=null,this.signs=null,this.slider=null,this.feedlyFrame=null,this.pageHolderElemFX=null,this.feedlyChromeElem=null,this.feedlyPreviewElem=null,this.scrollTarget=null}_globalCommonHandler(e,t){try{if(e.altKey||e.ctrlKey||e.shiftKey)return!0;if(null!=e.which&&e.which>1||null!=e.button&&e.button>1)return!0;const s=(0,f.Ld)(t,"data-nexturi");if(null!=s)return window.localStorage.setItem("next.uri",s),!1;const n=(0,f.Ld)(t,"href");if(null!=n&&0===n.indexOf("javascript:"))return!0;if(null!=t.getAttribute("data-uninlineentryid"))return this.readingManager.uninlineEntry("toview",!0),!1;const i=(0,f.Ld)(t,"data-select-entry-id");null!=i&&this.readingManager.selectEntry(i,t);const r=(0,f.Ld)(t,"data-visitentryid");if(null!=r){const s=(0,f.Ld)(t,"data-alternate-link");return this.reader.askMarkEntryAsRead(r),window.open(s,"_blank").focus(),A(e),!1}const a=(0,f.Ld)(t,"data-inlineentryid");if(null!=a){const s=(0,f.Ld)(t,"data-navigation");return this.inlineEntry(a,s,e)}}catch(s){console.error(s),console.error("[error] failed to dispatch click because "+s.name+" -- "+s.message)}return!1}async askMarkStreamAsRead(e){try{this.signs.showMessage("Marking as read...",2e3),await this.reader.askMarkStreamAsRead(e,{silently:!0}),await this.router.refresh()}catch(t){this.signs.showError(t)}}askOpenLeoBlogPost(e){const t=this.profile.getUrlDecoration();let s="https://blog.feedly.com/leo/?".concat(t);e&&(s+="&utm_source=".concat(encodeURIComponent(e))),s+="&utm_campaign=".concat(encodeURIComponent(t.replace(/&/g,"--").replace(/=/g,".."))),window.open(s,"_blank").focus()}async askSuggestUpgrade(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(e){case"business":{if(streets.hasBusinessAccess())return void this.signs.showMessage("Already Business Member");n.utm_campaign?this.analytics.setTeamDimension("trigger",n.utm_campaign):t&&this.analytics.setTeamDimension("trigger",t);const e="/i/feature/"+(t||"datasheet");this.analytics.reportTeamEngagement(e),this.analytics.trackJourneyEvent(e);const{AdminOnboarding:i}=await s.e(5164).then(s.bind(s,65164));this.slider.addSlide(i,{campaign:n.utm_campaign,easyClose:!1,feature:t,isInvoice:n.isInvoice});break}}}askPickOneNoteSection(e,t,s){this._startPickOneNoteSection(e,t,s)}_startPickOneNoteSection(e,t){let{align:s,imageURL:n,imageTitle:i,selection:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(streets.hasProAccess())return this.profile.isIntegrationConnected("oneNote")?void window.requestAnimationFrame((()=>{o.render(a.createElement(h.H,{entryId:e,imageTitle:i,imageURL:n,onCloseMenu:()=>{o.unmountComponentAtNode(this.reactPopoverHook)},offsetParent:t.offsetParent,selection:r,target:t,align:s}),this.reactPopoverHook)})):(this.oneNoteEntryId=e,this.oneNoteImageUrl=n,this.oneNoteImageTitle=i,this.oneNoteTarget=t,this.oneNoteSelection=r,void this.integrations.connect(v.bK.oneNote));this.router.loadPage("pro/onenote")}continueOneNoteTargetEntry(){this.oneNoteEntryId&&(this._startPickOneNoteSection(this.oneNoteEntryId,this.oneNoteTarget,{imageURL:this.oneNoteImageUrl,imageTitle:this.oneNoteImageTitle,selection:this.oneNoteSelection}),this.oneNoteEntryId=null,this.oneNoteTarget=null,this.oneNoteImageUrl=null,this.oneNoteImageTitle=null,this.oneNoteSelection=null)}askAddToPocket(e){if(!streets.hasProAccess())return this.analytics.trackPageview("pro.v2/trigger.pocket"),void this.router.loadPage("pro/pocket");this.profile.isIntegrationConnected("pocket")?(this.pocket.askAddToPocket(e),this.signs.showMessage("Saved to Pocket"),this.analytics.trackEvent("sharing","pocket"),this.analytics.trackEntryEvent(this.reader.lookupEntry(e),"share","pocket")):this.slider.addSlide(c.Z,{})}askPickNotebook(e,t){let{align:s,imageURL:n,imageTitle:i,selection:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return streets.hasProAccess()?this.profile.isIntegrationConnected("evernote")?void window.requestAnimationFrame((()=>{o.render(a.createElement(d.$,{align:s,entryId:e,imageTitle:i,imageURL:n,onCloseMenu:()=>{o.unmountComponentAtNode(this.reactPopoverHook)},offsetParent:t.offsetParent,selection:r,target:t}),this.reactPopoverHook)})):(this.evernoteEntryId=e,this.evernoteImageUrl=n,this.evernoteImageTitle=i,this.evernoteTarget=t,this.evernoteSelection=r,void this.integrations.connect(v.bK.evernote)):(this.analytics.trackPageview("pro.v2/trigger.evernote"),void this.router.loadPage("pro/evernote"))}continueEvernoteTargetEntry(){this.evernoteEntryId&&(this.askPickNotebook(this.evernoteEntryId,this.evernoteTarget,this.evernoteImageUrl,this.evernoteImageTitle,this.evernoteSelection),this.evernoteEntryId=null,this.evernoteTarget=null,this.evernoteImageUrl=null,this.evernoteImageTitle=null,this.evernoteSelection=null)}canUsePreviewMode(){const e="all+preview"===this.preferences.getPreference("entrySliderViews"),t=this._getContentAreaWidth();return e&&t>1380}isPreviewActivated(){return this.feedlyChromeElem.classList.contains("feedlyChrome--preview-open")}activatePreviewMode(){return this.isPreviewActivated()||(this.feedlyChromeElem.classList.add("feedlyChrome--preview-open"),this.reflow()),this.feedlyPreviewElem}deactivatePreviewMode(){this.feedlyChromeElem.classList.remove("feedlyChrome--preview-open"),this.reflow()}getMainScrollTarget(){return this.scrollTarget}_getContentAreaWidth(){return(0,f.x5)(document)-this.feedlyScrollbarWidth-this.leftnav.getPreferredWidth()}_getFrameWidth(){return this._getContentAreaWidth()-(this.isPreviewActivated()?907:0)}_onPathChanged(e){this.pageManager.getPageInfo()&&this.router.loadPage(e)}_toggleEventListeners(e){const t=e?y.Oo:y.xg;t(this.scrollTarget,"scroll",this._dispatchScrollEvent),t(document.defaultView,"resize",this.reflow),t(document.defaultView,"click",this._globalClickHandler),t(document.defaultView,"touchstart",this._processTouchStart),t(document.defaultView,"touchmove",this._processTouchMove),t(document.defaultView,"touchend",this._processTouchEnd),t(document.defaultView,"keydown",this._dispatchKeydownEvent),t(document.defaultView,"contextmenu",this._handleContextMenuClick),t(document,"visibilitychange",this._handleVisibilityChange),t(window,"focus",this._handleOnFocus)}async loadStartPage(){this._initializeAnalytics(),this._toggleEventListeners(!0),this.reflow(),this.feedlyFrame.style.display="block",this._updateReadingGrid(),this._updateFontFamily();let e=(0,g.n2)();if(e.startsWith("login?")||e.startsWith("login/")){const e=(0,S.RI)(document.location),t=(0,S.S5)(document.location);if(e.error)return this.signs.showError("OAuth error: "+e.error+(e.error_description?" / "+e.error_description:"")),(0,g.pg)(""),void await this.loadStartPage();try{const{appState:s,session:n,isNewAccount:i}=await(0,E.EA)(t,e.state,"".concat((0,S.il)(),"/login"));M.F.save(n),(0,g.pg)((null==s?void 0:s.nextUri)||""),await streets.askSyncIdentity();const r=["amplitude","ga"];(0,m.K)("login",{method:n.provider,is_new:i},r)}catch(c){this.signs.showError("Failed to login with code"),l.Tb(c,{tags:{section:"login"}}),(0,g.pg)(""),await this.loadStartPage()}return}const t=streets.getUserId();if(e.startsWith("back")){if(!t){const e=(0,S.RI)(document.location);return void await(0,E.bL)(e.provider,"login",{loginHint:e.loginHint,pageRef:"back"})}e=""}if(e.startsWith("sso")){if(!t){const t=(0,S.RI)(document.location);let s=t.enterprise;if(null==s){const t=e.split("/");t.length>1&&([s]=t[1].split(/\?|#/))}return void await(0,E.bL)("enterprise","login",{loginHint:t.loginHint,pageRef:"sso",enterprise:s})}e=""}const[s,n]=await Promise.all([this.onboarding.askIsAccountEmpty(),this.onboarding.askIsOnboarding()]),i=window.localStorage.getItem("next.uri");if(null!=i&&""!==i&&(console.warn("overwritting input with next.uri:",i),e=i,window.localStorage.removeItem("next.uri")),t){const e=window.localStorage.getItem("next.onboarding.prefix");e&&(this.analytics.trackOnboardingPageview("".concat(e,"/").concat(s?"new-user":"existing-user")),window.localStorage.removeItem("next.onboarding.prefix"))}if(e&&e.startsWith("partner")){try{if(!t){const t=e.split("/")[1];t&&(window.localStorage.setItem("feedly.partner",t),this.analytics.setBasicDimension("partner",t))}}catch(c){console.error("[feedly] failed to process partner:"+e)}e=""}if(e.startsWith("landing/team")?e="pro/enterprise"+e.slice("landing/team".length):e.startsWith("landing/business")&&!e.startsWith("landing/business-retired")&&(e="pro/enterprise"),(0,T.DB)(e,n)?e="blackfriday":(0,N.E)(e,n)&&(e="pro/introduction"),"blackfriday"!==e||t&&!streets.hasProAccess()&&!streets.hasBusinessAccess()||(e="pro/blackfriday"),e.startsWith("enterpriseTrial")&&(streets.isEnterprisePlanOrPending()||streets.isBusinessPlan())&&(e="team/gettingStarted"),!e||t||e.startsWith("invite/")||e.startsWith("ifttt")||e.startsWith("entry")||e.startsWith("subscription/")||e.startsWith("about")||e.startsWith("pro")||e.startsWith("premium")||e.startsWith("blackfriday")||e.startsWith("hello")||e.startsWith("welcome")||e.startsWith("console")||e.startsWith("discover")||e.startsWith("explore")||e.startsWith("erase")||e.startsWith("erased")||e.startsWith("hello")||e.startsWith("collectionsharing")||e.startsWith("tutorials")||e.startsWith("support")||e.startsWith("landing")||e.startsWith("library/")||e.startsWith("legal")||e.startsWith("leo")||e.startsWith("landing")||e.startsWith("top")||e.startsWith("best")||e.startsWith("all")||e.startsWith("feature/")||e.startsWith("enterpriseTrial")||(console.warn("[feedly] Input overwritten because not logged:"+e),e=""),streets.getUserId()&&s&&!e.startsWith("organize")&&!e.startsWith("invite/")&&!e.startsWith("invited/")&&!e.startsWith("ifttt")&&!e.startsWith("entry")&&!e.startsWith("console")&&!e.startsWith("contents")&&!e.startsWith("about")&&!e.startsWith("subscription")&&!e.startsWith("powerSearch")&&!e.startsWith("blackfriday")&&!e.startsWith("hello")&&!e.startsWith("pro")&&!e.startsWith("premium")&&!e.startsWith("welcome")&&!e.startsWith("discover")&&!e.startsWith("explore")&&!e.startsWith("erase")&&!e.startsWith("erased")&&!e.startsWith("hello")&&!e.startsWith("library/")&&!e.startsWith("tutorials")&&!e.startsWith("legal")&&!e.startsWith("support")&&!e.startsWith("cortex")&&!e.startsWith("leo")&&!e.startsWith("landing")&&!e.startsWith("account")&&!e.startsWith("enterpriseTrial")){const t=window.localStorage.getItem("useCaseWizardViewed");e="discover",streets.hasBusinessAccess()?e="discover/feeds":"true"!==t&&(e="useCase"),console.warn("[feedly] Input overwritten because needs personalization:"+e)}streets.getUserId()&&!s&&"start"===e&&(e="");const a=window.localStorage.getItem("seoOnboardingFeed"),o=window.localStorage.getItem("seoOnboardingTopic");if(streets.getUserId()&&s&&o){const{feedInfos:t}=await this.leo.askDiscoveryTopic(o),s=r()(o);if(t.length>0&&o){const e=t.slice(0,3).map((e=>({id:e.id})));a&&!e.find((e=>e.id===a))&&e.push({id:a}),this.personalcollections.askImportFeeds(s,e)}this.preferences.askSetPreference("recentlySearchedTopics",[o],null,!0),e=a?"subscription/".concat(encodeURIComponent(a)):"category/".concat(s),this.analytics.trackSeoEvent("seoOnboarding","signup"),window.localStorage.setItem("seoOnboarded","true")}else window.localStorage.getItem("seoOnboarded")&&this.analytics.trackSeoEvent("seoOnboarding","secondVisit");streets.getUserId()&&(window.localStorage.removeItem("seoOnboardingFeed"),window.localStorage.removeItem("seoOnboardingTopic")),window.localStorage.removeItem("addContentButtonClicked"),window.localStorage.removeItem("seoOnboarded"),await this.router.loadPage(e,{isStartPage:!0});try{window.loginMarker&&streets.getUserId()&&window.oauthMode&&this.analytics.reportBasicEngagement(window.oauthMode+"/"+(s?"new":"existing")),window.awarenessMarker&&streets.getUserId()&&!s&&(this.analytics.trackEvent("awareness","undo"),this.analytics.incrementDashboardEvent("AWARENESS:web.notnew"),window.awarenessMarker=!1);if(window.localStorage.getItem("awareness")||streets.getUserId()||(this.analytics.trackEvent("awareness","do"),this.analytics.incrementDashboardEvent("AWARENESS:web"),window.localStorage.setItem("awareness","done"),window.awarenessMarker=!0),e.startsWith("library")){const t=e.split("/").length>2?"collection":"library",s=streets.getUserId()?".exisiting":".new";this.analytics.incrementDashboardEvent("AWARENESS:"+t+s)}if(e.startsWith("subscription/feed")){const e=streets.getUserId()?".exisiting":".new";this.analytics.incrementDashboardEvent("AWARENESS:feed"+e)}if(!streets.getUserId()){const t=e.split("/")[0];window.feedlyLandingPage=t&&"welcome"!==t?"subscription"===t?"feed":t:"welcome".concat((0,I.P)())}window.loginMarker=!1}catch(c){console.error("[feedly] failed to capture awareness:"+c.name+" -- "+c.message)}}_initializeAnalytics(){streets.getUserId()&&this.analytics.setCustomVar("plan",streets.getPlan(),1)}_updateReadingGrid(){try{document.getElementsByTagName("html")[0].style.fontSize=2*this.preferences.getPreference("fontSize")+"px"}catch(e){console.error("[feedly] could not assign font size to root html element:"+e.name+" -- "+e.message)}}_updateFontFamily(){try{document.getElementsByTagName("html")[0].className=this.preferences.getPreference("entryFontFamily")}catch(e){console.error("[feedly] could not assign font family to root html element: "+e.name+" -- "+e.message)}}previewEntry(e){this.slider.addEntrySlide(e,{navigatable:!1,switchable:!1})}inlineEntry(e,t,s){try{if(function(){if(null==document)return!1;if(document.location.href.indexOf("#gadget")>-1)return!0;return document.location.href.indexOf("feedly.com/embed")>-1}())return!0;if(s&&(s.ctrlKey||s.metaKey))return this.reader.askMarkEntryAsRead(e),!0;if("visit"===t){if(this.reader.askMarkEntryAsRead(e),s&&s.target){A(s);const e=(0,f.Ld)(s.target,"data-alternate-link");return window.open(e,"_blank").focus(),!1}return!0}return s&&A(s),this.readingManager.inlineEntry(e,null,null),!1}catch(n){return console.error("[feedly] failed to inline entry:"+e+" -- "+t+" --\x3e "+n.name+" -- "+n.message),console.error("failed to inline entry",n),!0}}showProWelcomeSpotlight(e){const t="Pro".concat((0,w.sL)(e)?"+":""),s={visual:(0,w.sL)(e)?P:L,header:"Welcome to ".concat(t),sub:(0,w.sL)(e)?"Stay ahead of the curve with Leo, your AI research assistant":"Take your reading, searching, and sharing to the next level",primaryAction:"See Your New ".concat(t," Features"),tertiaryAction:"Go to my Feedly ".concat(t),badge:t,closeOutside:!0};this.notifications.askShowSpotlightPopup(s).then((e=>{switch(e){case"clickOutside":return;case s.primaryAction:return void this.router.loadPage("support");default:this.router.reloadDefaultPage()}}))}_getPageScrollTop(){return this.scrollTarget.scrollTop}scrollPageTo(e,t){this.autoSelectOnScroll=!1!==t,this.scrollTarget.scrollTop=e}scrollPageToBottom(){this.scrollTarget.scrollTop=this.scrollTarget.scrollHeight}scrollPageBy(e){this.scrollTarget.scrollTop+=e}scrollToView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;this.autoSelectOnScroll=!1;const s=function(e){let t=0,s=0;do{t+=e.offsetTop||0,s+=e.offsetLeft||0,e=e.offsetParent}while(e&&"HTML"!=e.tagName);return[s,t]}(e)[1],n=null==t.marginTop?0:t.marginTop;(this._getPageScrollTop()>s-(n+20)||this._getPageScrollTop()+(0,f.$$)(document)<s+(n+20)||"top"===t.align)&&(this.scrollTarget.scrollTop=s-(n+45))}backToTop(){this._scrollUp(0,this._getPageScrollTop())}_scrollUp(e,t){const s=(t-640)/6;let n=0;n=t>900?e<4?t-80*(e+1):e<10?t-320-(10-e+1)*s:t-320-6*s-80*(14-e+1):t-t/14,(n<100||e>10)&&(n=0),window.setTimeout((()=>{this.scrollPageTo(n),n>0&&this._scrollUp(e+1,t)}),10)}setTheme(e){try{if(this.getTheme()===e)return;this.preferences.askSetPreference(k.BF,e)}catch(t){console.error("apply theme failed",t)}}switchTheme(){const e=this.getTheme()===k.Bd.dark?k.Bd.light:k.Bd.dark;return this.setTheme(e),e}_applyTheme(e){const t=e===k.Bd.dark?k.Bd.light:k.Bd.dark;document.body.classList.remove(k.Su[t]),document.body.classList.add(k.Su[e])}onPreferenceChanged(e,t,s){this.pageManager.getPageInfo()&&(s||(this.pageManager.getPageInfo().preferences[e]=t),s&&this.pageManager.getPageInfo().uri!==s||"navigationMarkRead"!==e&&e!==k.As.personalCollections&&e!==k.As.teamCollections&&"indexLink"!==e&&"integrationsLink"!==e&&"language"!==e&&("entryFontFamily"!==e?"fontSize"!==e?"indexOptimization"!==e&&e===k.BF&&this._applyTheme(t):this._updateReadingGrid():this._updateFontFamily()))}setPageTitle(e){document.title=e}}function A(e){return e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1}function O(e){return new D(e)}},15400:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(32735),i=s(12788),r=s(47169),a=s(60216),o=s.n(a);const l=Object.freeze({modal:"modal",popover:"popover"});var c=s(71466),d=s(40841),h=s.n(d),u=s(4425),p=s(65060),m=s(15813),g=s(53670),f=s(11245);function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=(new DOMParser).parseFromString(e,"text/xml"),i=s.childNodes[0].childNodes;return Object.keys(i).map(((e,s)=>{const r=i[s];let a;if(r.getAttribute){const e=r.getAttribute("placeholder");if("board-name"===e)a=n.createElement("b",null,n.createElement(f.Z,{className:"GuidedTutorial__icon m-r-t"}),t.boardName);else if("feed-name"===e)a=n.createElement("b",null,t.feedName);else{const e=r.nodeName;a="br"===e?n.createElement("br",null):n.createElement(e,null,r.innerHTML)}}else a=n.createElement("span",null,r.textContent);return n.createElement(n.Fragment,{key:e},a)}))}var v=s(90869);function b(e){let{hasVideo:t,onClickOutside:s,options:i,setNextPosition:r,tutorialInfo:{actionInfo:a,content:o,continueButtonLabel:l,list:d=[]},vimeoId:f}=e;const b=y(o,i),E=y(a,i);return n.createElement(p.u,{className:h()("GuidedTutorialModal",{GuidedTutorialModal__video:t}),classNameOverlay:"GuidedTutorialModal--overlay",onClose:s},n.createElement("div",{className:"item-with-visuals m-b-h"},n.createElement(m.t,{className:"item-image",compact:!0,url:v}),n.createElement("div",{className:"GuidedTutorialPopover__username item-meta"},n.createElement("b",null,"Petr")," from Feedly")),o&&n.createElement("div",{className:"m-b-1"},b),d.map((e=>{let{id:t,listItem:s}=e;return n.createElement("div",{key:t,className:"GuidedTutorialModal__list-item container-flex m-b-1"}," ",n.createElement(u.Z,{color:"accent",className:"col-no-flex"}),s)})),f&&n.createElement(c.Z,{autoplay:!0,responsive:!0,showByline:!1,showTitle:!1,showPortrait:!1,video:f}),a&&n.createElement("div",{className:"m-t-1"},n.createElement("i",null,E)),n.createElement(g.z,{className:"right floated m-t-1",onClick:r,importance:"primary",label:l}))}b.propTypes={hasVideo:o().bool,onClickOutside:o().func.isRequired,options:o().shape({boardName:o().string,feedName:o().string}),setNextPosition:o().func,tutorialInfo:o().shape({actionInfo:o().oneOfType([o().element,o().string]),content:o().oneOfType([o().element,o().string]),list:o().arrayOf(o().object),continueButtonLabel:o().string}),vimeoId:o().string},b.defaultProps={hasVideo:!1,options:{},setNextPosition:()=>{},tutorialInfo:{},vimeoId:""};var E=s(46291);class C extends n.Component{render(){const{setNextPosition:e,align:t,position:s,onClickOutside:i,offsetParent:r,target:a}=this.props;return n.createElement(E.J,{caret:!0,className:"GuidedTutorialPopover",align:t,position:s,setNextPosition:e,onClickOutside:i,offsetParent:r,target:a},this._renderBody())}_renderBody(){const{isButtonDisabled:e,options:t,setNextPosition:s,tutorialInfo:{actionInfo:i,content:r,continueButtonLabel:a,initialButtonState:o}}=this.props,l=y(r,t),c=y(i,t);return n.createElement("div",{className:"GuidedTutorialPopover__content"},n.createElement("div",{className:"item-with-visuals m-b-h"},n.createElement(m.t,{className:"item-image",compact:!0,url:v}),n.createElement("div",{className:"GuidedTutorialPopover__username item-meta"},n.createElement("b",null,"Petr")," from Feedly")),r?l:null,i&&n.createElement("div",{className:"GuidedTutorialPopover__actionInfo m-t-1"},"☝️",n.createElement("i",null,c)),a&&n.createElement("div",{className:"GuidedTutorialPopover__button m-t-1"},n.createElement(g.z,{onClick:s,importance:"primary",label:a,disabled:e&&"disabled"===o})))}}C.propTypes={align:o().string,isButtonDisabled:o().bool,offsetParent:E.J.propTypes.offsetParent,onClickOutside:o().func.isRequired,options:o().shape({boardName:o().string,feedName:o().string}),position:o().string,setNextPosition:o().func,target:E.J.propTypes.target,tutorialInfo:o().shape({actionInfo:o().oneOfType([o().element,o().string]),content:o().oneOfType([o().element,o().string]),continueButtonLabel:o().string,initialButtonState:o().string})},C.defaultProps={align:"middle",isButtonDisabled:!1,offsetParent:null,options:{},position:"bottom",setNextPosition:()=>{},target:null,tutorialInfo:{}};var w=s(45750),k=s.n(w);const _=()=>{};class M extends n.Component{constructor(e){super(e),this._onTargetOverlayRef=e=>{e&&this.setState({overlayTarget:e})},this._container=document.querySelector(".tutorial-callout"),this._onWindowResize=k()((()=>{this._renderCallout()}),100),window.addEventListener("resize",this._onWindowResize),this._onWindowScroll=e=>{e.preventDefault()},window.addEventListener("mousewheel",this._onWindowScroll),window.addEventListener("touchmove",this._onWindowScroll),this.state={}}componentDidMount(){this._renderCallout()}componentDidUpdate(e){const t=n.Children.only(e.children),s=t.props&&t.props.target;this._renderCallout(s)}componentWillUnmount(){this._afterScrollPromise&&this._afterScrollPromise.cancel(),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("mousewheel",this._onWindowScroll),window.removeEventListener("touchmove",this._onWindowScroll),this._onWindowResize=null,this._onWindowScroll=null}render(){return null}_renderCallout(e){const{children:t,clickable:s,needsBorder:r,paddingHorizontal:a,paddingVertical:o,type:c}=this.props;if(this._container.style.height=document.body.scrollHeight+"px",c===l.modal){const e=n.Children.only(t);i.render(n.createElement("div",{className:"tutorial-callout--modal"},n.cloneElement(e)),this._container)}else if(c===l.popover){const{overlayTarget:l}=this.state,c=n.Children.only(t),d=c.props&&c.props.target;this._scrollIntoViewIfNeeded(d).then((()=>{const t=d.getBoundingClientRect();i.render(n.createElement("div",null,this._container&&l&&n.cloneElement(c,{offsetParent:this._container,target:l}),n.createElement("div",{className:"callout-frame-wrapper"},n.createElement("div",{style:{height:t.top-o+window.pageYOffset}}),n.createElement("div",{style:{display:"flex",flexDirection:"row",height:t.height+2*o}},n.createElement("div",{style:{width:t.left-a+window.pageXOffset}}),n.createElement("div",{ref:this._onTargetOverlayRef,style:{width:t.width+2*a},className:h()("callout-target",{"callout-target--no-border":!r}),onClick:()=>{s&&d.click()}}),n.createElement("div",{style:{flex:1}})),n.createElement("div",{style:{flex:1}}))),this._container),d!==e&&this._renderCallout(d)}),_)}}_scrollIntoViewIfNeeded(e){this._afterScrollPromise&&this._afterScrollPromise.cancel();let t=!1;const s=new Promise(((s,n)=>{const i=e.getBoundingClientRect();i.top<0||i.left<0||i.bottom>window.innerHeight||i.right>window.innerWidth?(e.scrollIntoView(!1),window.setTimeout((()=>{t?n():s()}),1)):t?n():s(),this._afterScrollPromise=null}));return this._afterScrollPromise={promise:s,cancel:()=>{t=!0}},s}}M.propTypes={children:o().element.isRequired,clickable:o().bool,needsBorder:o().bool,paddingHorizontal:o().number,paddingVertical:o().number,type:o().oneOf(Object.keys(l)).isRequired},M.defaultProps={clickable:!1,needsBorder:!1,paddingHorizontal:4,paddingVertical:4};class S extends n.Component{constructor(e){var t;super(e),t=this,(0,r.Z)(this,"_onSetNextPosition",(()=>{const{tutorial:e,tutorialPosition:t}=this.state;let s=t+1;if(s===e.length)this._onStopTutorial(!0);else{const{needsSlider:t,offsetParentClassName:n,targetClassName:i,type:r}=e[s];if(t){const e=streets.service("slider").getScrollTarget();e&&e.classList.add("GuidedTutorial__slider")}let a=document.querySelector(n),o=document.querySelector(i),c=r;for(;(!a||!o)&&c===l.popover&&s<e.length;){s+=1;const{offsetParentClassName:t,targetClassName:n,type:i}=e[s];a=document.querySelector(t),o=document.querySelector(n),c=i}this.setState({isOpen:!0,tutorialPosition:s,isButtonDisabled:!0})}})),(0,r.Z)(this,"_onCloseTutorialPopover",(()=>{this.setState({isOpen:!1})})),(0,r.Z)(this,"_onEnableContinueButton",(()=>{this.setState({isButtonDisabled:!1})})),(0,r.Z)(this,"_onCheckElementIsTarget",(e=>{const{tutorial:t}=this.props,{tutorialPosition:s}=this.state,{targetClassName:n}=t[s],i=n.split(".").pop();if(this._onCloseTutorialPopover(),e&&e.target){let t=e.target;for(;e&&t;){if(t.className&&-1!==t.className.indexOf(i))return!0;t=t.parentNode}}return!1})),(0,r.Z)(this,"_onClickOutside",(e=>{const{tutorial:t}=this.props,{tutorialPosition:s}=this.state,{needsLoading:n}=t[s],i=this._onCheckElementIsTarget(e);i&&!n?setTimeout(this._onSetNextPosition,0):i||this._onStopTutorial()})),(0,r.Z)(this,"_onStopTutorial",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentTutorial:s}=t.state,n=document.getElementsByClassName("floatingEntryScroller")[0];n&&n.classList.remove("GuidedTutorial__slider"),e&&t.preferences.askSetPreference("enableLeo".concat(s),"no"),t.setState({isOpen:!1,tutorialPosition:0,tutorial:[],currentTutorial:null},(()=>{t.guidedtutorials.onStopTutorial(),streets.service("signs").showMessage("Tutorial ended")}))})),this.state={isOpen:!0,tutorialPosition:0,tutorial:this.props.tutorial,isButtonDisabled:!0,currentTutorial:this.props.tutorialName}}componentDidMount(){this.guidedtutorials=streets.service("guidedtutorials"),this.preferences=streets.service("preferences"),this.slider=streets.service("slider"),this.guidedtutorials.registerObserver(this),this.slider.registerObserver(this)}componentWillUnmount(){this.guidedtutorials.unregisterObserver(this),this.slider.unregisterObserver(this),this.guidedtutorials=null,this.preferences=null,this.slider=null}onGuidedTutorialLoaded(){this._onEnableContinueButton()}onSlideChanged(){setTimeout(this._onSetNextPosition,300)}onGuidedTutorialMoveToNext(e){setTimeout(this._onSetNextPosition,e)}render(){const{options:e}=this.props,{tutorial:t,isButtonDisabled:s,isOpen:i,tutorialPosition:r}=this.state;if(!i||!t.length)return null;const{align:a,clickable:o,needsBorder:c,offsetParentClassName:d,paddingHorizontal:h,paddingVertical:u,position:p,targetClassName:m,tutorialInfo:g,type:f,vimeoId:y}=t[r];let v=null;if(f===l.modal)v=n.createElement(b,{hasVideo:!!y,options:e,tutorialInfo:g,setNextPosition:this._onSetNextPosition,onClickOutside:this._onStopTutorial,vimeoId:y});else if(f===l.popover){const t=document.querySelector(d),{dataSpecifier:i}=e,r="".concat(m,'[data-item="').concat(i,'"]'),o=document.querySelector(r)||document.querySelector(m);v=n.createElement(C,{align:a,options:e,position:p,tutorialInfo:g,setNextPosition:this._onSetNextPosition,onClickOutside:this._onClickOutside,offsetParent:t,target:o,isButtonDisabled:s})}return n.createElement(M,{clickable:o,needsBorder:c,paddingHorizontal:h,paddingVertical:u,type:f},v)}}S.propTypes={options:o().shape({boardName:o().string,feedName:o().string,dataSpecifier:o().string}),tutorial:o().arrayOf(o().object),tutorialName:o().string},S.defaultProps={options:{},tutorial:[],tutorialName:""};var I=s(83168);class T extends I.y{load(){this._containerElement=document.getElementById("tutorialOverlay"),this._isTutorialRunning=!1}unload(){this._containerElement=null,this._currentTutorial=null,this._isTutorialRunning=!1}onStartTutorial(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._isTutorialRunning&&this.onStopTutorial(),streets.service("feedly").backToTop(),this._container=document.createElement("div"),this._container.className="tutorial-callout fx",document.body.appendChild(this._container),i.render(n.createElement(S,{tutorial:e,tutorialName:t,options:s}),this._containerElement),this._currentTutorial=t,this._isTutorialRunning=!0,this.fire("onTutorialStarted")}onStopTutorial(){this.removeTutorialCallout(),i.unmountComponentAtNode(this._containerElement),this._isTutorialRunning=!1,this._currentTutorial=null,this.fire("onTutorialEnded")}checkTutorialRunning(e){return this._isTutorialRunning&&this._currentTutorial===e}enableContinueButton(){this.fire("onGuidedTutorialLoaded")}getCurrentTutorial(){return this._currentTutorial}removeTutorialCallout(){this._container=document.querySelector(".tutorial-callout"),this._container&&(i.unmountComponentAtNode(this._container),document.body.removeChild(this._container)),this._container=null}setNextPosition(e){this._isTutorialRunning&&this.fire("onGuidedTutorialMoveToNext",e)}}function N(e){return new T(e)}},19373:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});const n={"team-bubble":{partitions:["aa"]}};var i=s(22590);const r=[i.cX,i._C],a=[i.cX,i._C],o=[];var l=s(90197);const c=[];var d=s(3171),h=s(83168);class u extends h.y{setPreferences(e){this.preferences=e}setNotifications(e){this.notifications=e}setAnalytics(e){this.analytics=e}setFeedly(e){this.feedly=e}setProfile(e){this.profile=e}setFeeds(e){this.feeds=e}setRouter(e){this.router=e}load(){this._journeys={visitor:c,basic:r,pro:a,proPlus:o,team:l.Z},this.preferences.registerObserver(this)}unload(){this.preferences.unregisterObserver(this),this.preferences=null,this.notifications=null,this.analytics=null,this.feedly=null,this.profile=null,this.feeds=null,this.router=null}onPreferencesReady(){}_activate(){this._userType=function(){if(!streets.getUserId())return"visitor";if(streets.getEnterpriseId()&&streets.hasBusinessAccess())return"team";if(streets.isProPlusPlan())return"proPlus";if(streets.hasProAccess())return"pro";return"basic"}(),this._preferenceKey="journey-"+this._userType+"-completed",this._allSteps=this._journeys[this._userType]||[];try{this._completedSteps=JSON.parse(this.preferences.getPreference(this._preferenceKey)||"{}")}catch(e){console.error("[journey] failed to parse completed steps",e),this._completedSteps={}}"object"!=typeof this._completedSteps&&(console.error("[journey] invalid completed step format",this._completedSteps),this._completedSteps={}),this._askActivateNextStep()}async _askActivateNextStep(){let e;const t=this.profile.getUserInfo().created||-1;let s=t;const i=(await this.feeds.askListFeeds()).length;if(this._allSteps.forEach((e=>{this._completedSteps[e.id]&&this._completedSteps[e.id]>s&&(s=this._completedSteps[e.id])})),this._allSteps.forEach((r=>{if(e)return;if(this._completedSteps[r.id])return;if(r.createdAfter&&t<new Date(r.createdAfter).getTime())return;if(r.earlyAccess&&!function(e){if("feedly"===streets.getEnterpriseId())return!0;const t=n[e]&&n[e].partitions;if(!t)return!0;return function(e){for(let t=0;t<e.length;t++)if(m(e[t]))return!0;return!1}(t)}(r.earlyAccess))return;if("forced-landing"===r.type&&i<5)return;const a=(0,d.z1)(parseInt(r.after||"0days"));(new Date).getTime()-s>=a&&(e=r)})),e)switch(e.startTime=(new Date).getTime(),e.type){case"notifications-carousel":this._reportAction(e,"Start"),this.notifications.askShowCarouselPopup(e.data).then((t=>{this._markStepAsComplete(e),this._reportAction(e,t),e.data.targetUri&&this.router.loadPage(e.data.targetUri)}));break;case"notifications-spotlight":this._reportAction(e,"Start"),this.notifications.askShowSpotlightPopup(e.data).then((t=>{this._markStepAsComplete(e),this._reportAction(e,t),t===e.data.primaryAction&&e.data.targetUrl?window.setTimeout((()=>{window.location=e.data.targetUrl}),150):t===e.data.primaryAction&&e.data.targetEntryId&&this.feedly.inlineEntry(e.data.targetEntryId)}));break;case"forced-landing":{const t=e.data+"?utm_source=feedly&utm_medium=journey&utm_campaign="+e.id;this.router.loadPage(t),this._markStepAsComplete(e),this._reportAction(e,"Landed")}break;default:console.log("[journey] unknown step type:"+e.type)}}_reportAction(e,t){const s=(new Date).getTime()-e.startTime;switch(this._userType){case"team":this.analytics.reportTeamEvent("journey",e.id,t,s);break;case"pro":break;case"basic":this.analytics.reportBasicEvent("journey",e.id,t,s)}}_markStepAsComplete(e){this._completedSteps[e.id]=(new Date).getTime(),this.preferences.askSetPreference(this._preferenceKey,JSON.stringify(this._completedSteps),null,!0)}markTeamWelcomeAsCompleted(){this.preferences.askSetPreference("journey-team-completed",JSON.stringify({"team-welcome":(new Date).getTime()}),null,!0)}}function p(e){return new u(e)}function m(e){return!!streets.getUserId()&&streets.getUserId().slice(-e.length)===e}},31957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ln});var n=s(47169),i=s(32735),r=s(12788),a=s(60216),o=s.n(a),l=s(94773);const c=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,viewBox:"0 0 28 28",fill:"none"},e),i.createElement("path",{fill:"currentColor",d:"M16.034 3.334a2.867 2.867 0 0 0-4.043 0L1.834 13.49a2.867 2.867 0 0 0 0 4.043l7.248 7.248c.504.44 1.164.706 1.886.706h6.089c.793 0 1.512-.322 2.032-.841l7.107-7.108a2.867 2.867 0 0 0 0-4.043L16.034 3.334Zm-.283 18.551L14.736 22.9a.407.407 0 0 1-.29.12h-.868a.41.41 0 0 1-.27-.1l-1.033-1.034a.408.408 0 0 1 0-.577l1.449-1.45a.41.41 0 0 1 .577 0l1.45 1.45a.409.409 0 0 1 0 .577Zm0-6.079-4.054 4.054a.408.408 0 0 1-.29.12h-.869a.408.408 0 0 1-.269-.1l-1.034-1.035a.41.41 0 0 1 0-.577l4.489-4.488a.409.409 0 0 1 .577 0l1.45 1.45a.409.409 0 0 1 0 .576Zm0-6.08L8.657 16.82a.408.408 0 0 1-.29.12H7.5a.407.407 0 0 1-.27-.1l-1.034-1.035a.409.409 0 0 1 0-.577L13.724 7.7a.409.409 0 0 1 .577 0l1.45 1.45a.409.409 0 0 1 0 .576Z"}))}));const d=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{transform:"translate(2 5)",fill:"currentColor",fillRule:"evenodd"},i.createElement("rect",{y:10.6,width:15.2,height:1.2,rx:.6}),i.createElement("rect",{y:5,width:15.2,height:1.2,rx:.6}),i.createElement("rect",{width:15.2,height:1.2,rx:.6})))}));const h=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 4.026a.75.75 0 0 1 .75.75v.123c2.603.285 4.857 2.033 4.857 4.456 0 1.195-.548 2.225-1.415 2.997h1.558a2.286 2.286 0 0 1 2.286 2.286v1.795a.75.75 0 0 1-1.5 0v-1.795a.786.786 0 0 0-.786-.786h-.143v2.71a2.286 2.286 0 0 1-2.286 2.286h-.952v1.044a2.286 2.286 0 0 1-2.286 2.287h-.166a2.286 2.286 0 0 1-2.286-2.287v-1.044h-.952a2.286 2.286 0 0 1-2.286-2.286v-2.71H3.25a.786.786 0 0 0-.786.786v1.795a.75.75 0 0 1-1.5 0v-1.795a2.286 2.286 0 0 1 2.286-2.286h1.558c-.867-.772-1.415-1.802-1.415-2.997 0-2.423 2.254-4.17 4.857-4.456v-.123a.75.75 0 0 1 .75-.75Zm0 8.326c2.46 0 4.107-1.511 4.107-2.997S11.461 6.358 9 6.358c-2.46 0-4.107 1.511-4.107 2.997S6.539 12.352 9 12.352Zm-4.107 1.5v2.71c0 .434.352.786.786.786h6.642a.786.786 0 0 0 .786-.786v-2.71H4.893Zm3.238 4.996v1.044c0 .435.352.787.786.787h.166a.786.786 0 0 0 .786-.787v-1.044H8.131ZM18.857 2.679a.75.75 0 0 1 .75.75V8.57a.75.75 0 0 1-1.5 0V3.43a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.536 6a.75.75 0 0 1 .75-.75h5.143a.75.75 0 0 1 0 1.5h-5.143a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}));const u=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 13.045a.75.75 0 0 1 .75-.75A8.706 8.706 0 0 1 11.705 21a.75.75 0 0 1-1.5 0A7.205 7.205 0 0 0 3 13.795a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 6.857a.75.75 0 0 1 .75-.75A14.893 14.893 0 0 1 17.893 21a.75.75 0 0 1-1.5 0A13.393 13.393 0 0 0 3 7.607a.75.75 0 0 1-.75-.75ZM3.884 19.982a.134.134 0 1 0 0 .268.134.134 0 0 0 0-.268Zm-1.634.134a1.634 1.634 0 1 1 3.268 0 1.634 1.634 0 0 1-3.268 0ZM18.857 2.679a.75.75 0 0 1 .75.75V8.57a.75.75 0 0 1-1.5 0V3.43a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.536 6a.75.75 0 0 1 .75-.75h5.143a.75.75 0 0 1 0 1.5h-5.143a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}));const p=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10.006 1.822a.75.75 0 0 1 .743.648l.007.102v14.874a.75.75 0 0 1-1.494.102l-.006-.102V2.572a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M17.427 9.272a.75.75 0 0 1 .102 1.494l-.102.006H2.59a.75.75 0 0 1-.101-1.493l.101-.007h14.838Z"})))}));const m=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero",strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("path",{d:"M9.583.917a7.833 7.833 0 1 0 0 15.666 7.833 7.833 0 0 0 0-15.666Zm0 1.5a6.333 6.333 0 1 1 0 12.666 6.333 6.333 0 0 1 0-12.666Z"}),i.createElement("path",{d:"M14.47 13.636a.75.75 0 0 1 .977-.072l.084.073 3.33 3.337a.75.75 0 0 1-.978 1.132l-.084-.073-3.33-3.337a.75.75 0 0 1 .001-1.06Z"})))}));const g=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M7.083.917a4.083 4.083 0 1 0 0 8.166 4.083 4.083 0 0 0 0-8.166Zm0 1.5a2.583 2.583 0 1 1 0 5.166 2.583 2.583 0 0 1 0-5.166ZM7.083 10.917a7 7 0 0 1 7 7 .75.75 0 1 1-1.5 0 5.5 5.5 0 0 0-11 0 .75.75 0 1 1-1.5 0 7 7 0 0 1 7-7ZM16.667 5.083a.75.75 0 0 1 .743.649l.007.101v5a.75.75 0 0 1-1.493.102l-.007-.102v-5a.75.75 0 0 1 .75-.75Z"}),i.createElement("path",{d:"M19.167 7.583a.75.75 0 0 1 .101 1.493l-.101.007h-5a.75.75 0 0 1-.102-1.493l.102-.007h5Z"})))}));const f=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M7.925 1.123A9.344 9.344 0 0 0 1.49 10a9.344 9.344 0 0 0 9.343 9.344 9.344 9.344 0 0 0 8.877-6.436.75.75 0 0 0-.865-.968 8.417 8.417 0 0 1-9.952-9.952.75.75 0 0 0-.968-.865ZM7.243 3.03l-.016.26a10.05 10.05 0 0 0-.008.408c0 5.476 4.44 9.917 9.916 9.917l.41-.009.258-.016-.046.09A7.842 7.842 0 1 1 7.154 3.076l.089-.046Z",fill:"currentColor",fillRule:"nonzero"}))}));const y=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10 5.083a4.917 4.917 0 1 0 0 9.834 4.917 4.917 0 0 0 0-9.834Zm0 1.5a3.417 3.417 0 1 1 0 6.834 3.417 3.417 0 0 1 0-6.834ZM10 .083a.75.75 0 0 1 .743.649l.007.101V2.5a.75.75 0 0 1-1.493.102L9.25 2.5V.833a.75.75 0 0 1 .75-.75ZM10 16.75a.75.75 0 0 1 .743.648l.007.102v1.667a.75.75 0 0 1-1.493.101l-.007-.101V17.5a.75.75 0 0 1 .75-.75ZM2.986 2.986a.75.75 0 0 1 .977-.072l.084.072L5.23 4.17a.75.75 0 0 1-.976 1.133L4.17 5.23 2.986 4.047a.75.75 0 0 1 0-1.06ZM14.77 14.77a.75.75 0 0 1 .976-.073l.084.073 1.184 1.183a.75.75 0 0 1-.977 1.133l-.084-.072-1.183-1.184a.75.75 0 0 1 0-1.06ZM2.5 9.25a.75.75 0 0 1 .102 1.493l-.102.007H.833a.75.75 0 0 1-.101-1.493l.101-.007H2.5ZM19.167 9.25a.75.75 0 0 1 .101 1.493l-.101.007H17.5a.75.75 0 0 1-.102-1.493l.102-.007h1.667ZM4.17 14.77a.75.75 0 0 1 1.133.976l-.073.084-1.183 1.184a.75.75 0 0 1-1.133-.977l.072-.084L4.17 14.77ZM15.953 2.986a.75.75 0 0 1 1.133.977l-.072.084L15.83 5.23a.75.75 0 0 1-1.133-.976l.073-.084 1.183-1.184Z"})))}));const v=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M13.249 9.886a.75.75 0 0 1 .976-.072l.084.072 3.805 3.805a3.414 3.414 0 0 1 0 4.865 3.412 3.412 0 0 1-4.72.138l-.148-.14-4.108-4.147a.75.75 0 0 1 .981-1.13l.084.074 4.106 4.144a1.914 1.914 0 0 0 2.744 0c.732-.732.77-1.846.116-2.618l-.116-.126-3.804-3.804a.75.75 0 0 1 0-1.06ZM4.22 4.886a.75.75 0 0 1 .976-.072l.084.072L8.614 8.22a.75.75 0 0 1-.977 1.133l-.084-.073L4.22 5.947a.75.75 0 0 1 0-1.06Z"}),i.createElement("path",{d:"m13.766.983-.017.001c-2.524.23-4.531 2.502-4.486 5.065l.01.281c.011.19.036.383.071.577l.024.113-6.972 6.292C.98 14.557.918 16.8 2.249 18.156l.146.14c1.346 1.217 3.416 1.108 4.643-.286l6.168-7.102.07.015c.645.124 1.296.13 1.946-.003a4.964 4.964 0 0 0 3.769-3.521c.217-1.052.162-2.032-.12-2.943a.75.75 0 0 0-1.252-.303l-.894.911a1.142 1.142 0 0 1-1.615.016l-.02-.02a1.214 1.214 0 0 1 .004-1.699l.894-.91a.75.75 0 0 0-.31-1.242 5.272 5.272 0 0 0-1.912-.226Zm.106 1.497-.086.108a2.716 2.716 0 0 0 .237 3.527l.165.153c.96.823 2.358.848 3.34.086l.094-.08-.01.217c-.014.184-.04.37-.079.558-.33 1.186-1.36 2.146-2.61 2.401a3.581 3.581 0 0 1-1.766-.1.75.75 0 0 0-.781.227l-6.468 7.445c-.694.79-1.862.823-2.588.083-.733-.747-.699-1.994.074-2.673l7.311-6.599a.75.75 0 0 0 .217-.768 3.692 3.692 0 0 1-.16-1.03c-.03-1.733 1.291-3.288 2.945-3.536l.165-.02ZM2.595 1.141.465 3.31A.75.75 0 0 0 .47 4.365l2.13 2.13c.2.2.494.271.763.184l1.635-.533a.75.75 0 0 0 .48-.476l.532-1.598a.75.75 0 0 0-.18-.767L3.66 1.136a.75.75 0 0 0-1.065.005Zm.54 1.59L4.44 4.038l-.266.8-.839.273-1.279-1.28 1.079-1.098ZM13.249 13.69a.75.75 0 0 1 .976-.072l.084.073 1.522 1.521a.75.75 0 0 1-.976 1.134l-.085-.073-1.521-1.522a.75.75 0 0 1 0-1.06Z"})))}));const b=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M8.925.336 2.256 3.67a2.416 2.416 0 0 0-1.34 2.162v7.934a2.415 2.415 0 0 0 1.33 2.17l6.669 3.334c.68.34 1.482.34 2.162 0l6.667-3.333a2.416 2.416 0 0 0 1.34-2.162V5.832c-.001-.917-.52-1.755-1.342-2.163L11.075.336a2.417 2.417 0 0 0-2.15 0Zm1.483 1.343 6.665 3.333c.313.155.51.473.51.82v7.942a.917.917 0 0 1-.508.82l-6.669 3.334a.917.917 0 0 1-.82 0l-6.667-3.333a.916.916 0 0 1-.502-.824V5.832c0-.347.197-.665.508-.82l6.669-3.334a.916.916 0 0 1 .814.001Z"}),i.createElement("path",{d:"M1.263 4.597a.75.75 0 0 1 .912-.375l.094.04L10 8.126l7.731-3.864a.75.75 0 0 1 .955.247l.052.088a.75.75 0 0 1-.248.955l-.088.051-8.067 4.034a.75.75 0 0 1-.562.044l-.108-.044-8.067-4.034a.75.75 0 0 1-.335-1.006Z"}),i.createElement("path",{d:"M10 8.216a.75.75 0 0 1 .743.648l.007.102v9.8a.75.75 0 0 1-1.493.102l-.007-.102v-9.8a.75.75 0 0 1 .75-.75Z"})))}));const E=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M9.633 5.105a3.25 3.25 0 0 1 1.45 6.293.5.5 0 0 0-.325.383l-.008.089v.213a.75.75 0 0 1-1.493.102l-.007-.102v-.213a2 2 0 0 1 1.187-1.828l.146-.058a1.75 1.75 0 1 0-2.326-1.806l-.007.155a.75.75 0 0 1-1.5 0 3.25 3.25 0 0 1 2.883-3.228ZM10 13.833l.116.007a1.063 1.063 0 1 1-.232 0l.116-.007Z"}),i.createElement("path",{d:"M10 .083C4.523.083.083 4.523.083 10c0 5.477 4.44 9.917 9.917 9.917 5.477 0 9.917-4.44 9.917-9.917 0-5.477-4.44-9.917-9.917-9.917Zm0 1.5a8.417 8.417 0 1 1 0 16.834 8.417 8.417 0 0 1 0-16.834Z"})))}));var C=s(86779),w=s(3167),k=s(37225),_=s(855),M=s(73407),S=s(46291),I=s(55118),T=s(88591),N=s(8629);const L=o().shape({email:o().string,familyName:o().string,fullName:o().string,givenName:o().string,name:o().string,picture:o().string});var P=s(35610),D=s(77817);function A(e){let{onClick:t,user:s}=e;const{email:n,familyName:r,fullName:a,givenName:o,name:l,picture:c}=s;let d="Free";streets.isBusinessPlan()?d="Business":streets.isEnterprisePlan()?d="Enterprise":streets.isProPlusPlan()?d="Pro+":streets.hasProAccess()&&(d="Pro");let h="";return l?h=l:a?h=a:o&&r&&(h="".concat(o," ").concat(r)),i.createElement("div",{className:"user item-with-visuals",onClick:t,role:"button"},i.createElement(D.q,{alt:l||n,className:"item-image",iconSize:28,url:(0,P.w6)(c)}),i.createElement("div",null,i.createElement("div",{className:"item-header"},h),i.createElement("div",{className:"item-meta"},i.createElement("span",{className:"plan"},d),n)))}A.propTypes={onClick:o().func.isRequired,user:L},A.defaultProps={user:void 0};class O extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onLoadPageClick",(e=>{this.props.onClose(),this.router.loadPage(e)})),(0,n.Z)(this,"_onLogoutClick",(()=>{window.localStorage.setItem("next.uri","welcome/logged-out"),streets.askLogout()})),(0,n.Z)(this,"_onSupportClick",(()=>{this.props.onClose(),streets.getEnterpriseName()?this.router.loadPage("support/team"):streets.hasProAccess()?this.router.loadPage("support/pro"):this.router.loadPage("pro/support")}))}componentDidMount(){this.router=streets.service("router")}componentWillUnmount(){this.router=null}render(){const{user:e}=this.props;return i.createElement("div",{className:"ProfileBubble__menu"},i.createElement(A,{onClick:()=>{this._onLoadPageClick("account/profile")},user:e}),i.createElement(T.v,{width:275},i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("account")}},"Settings"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("organize")}},"Organize Feeds"),streets.hasProAccess()&&!streets.hasBusinessAccess()&&i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("account/billing")}},"Billing"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("support/apps")}},"Mobile Apps"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("support/extensions")}},"Browser Add-ons"),i.createElement(N.s,{onClick:this._onSupportClick},"Support"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("account/privacy")}},"Privacy"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("legal")}},"Terms & Policy"),i.createElement(N.s,{onClick:this._onLogoutClick},"Logout")))}}O.propTypes={onClose:o().func.isRequired,user:L},O.defaultProps={user:void 0};var x=s(40841),R=s.n(x),j=s(53670);class F extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onCloseClick",(()=>{const{onOpenChange:e}=this.props;e(!1)})),(0,n.Z)(this,"_onClick",(e=>{e.stopPropagation();const{isOpen:t,onOpenChange:s}=this.props;s(!t)})),this._popoverHook=document.getElementById("reactPopoverHook"),this._target=i.createRef()}render(){const{className:e,count:t,isOpen:s,menu:n}=this.props;return i.createElement("div",{className:R()("ProfileBubble",e)},this._renderPicture(),t>0&&i.createElement("div",{className:"ProfileBubble__count"},t),s&&i.createElement(I.h,{className:"fx",target:this._popoverHook},i.createElement(S.J,{align:"end",caret:!0,offsetParent:this._popoverHook,onClose:this._onCloseClick,position:"right",target:this._target},n)))}_renderPicture(){const{alt:e,fallbackIcon:t,imageUrl:s,"aria-label":n}=this.props;return!s&&t?i.createElement(j.z,{"aria-label":n,className:"ProfileBubble__icon-button",elementRef:this._target,icon:t,importance:"tertiary",onClick:this._onClick,rounded:!0}):i.createElement(j.z,{"aria-label":n,className:"p-a-0",importance:"tertiary",onClick:this._onClick,rounded:!0},i.createElement(D.q,{alt:e,className:"ProfileBubble__picture",elementRef:this._target,iconSize:28,url:s&&(0,P.w6)(s)}))}}F.propTypes={alt:o().string,"aria-label":o().string.isRequired,className:o().string,count:o().number,fallbackIcon:o().element,imageUrl:o().string,isOpen:o().bool,menu:o().node.isRequired,onOpenChange:o().func.isRequired},F.defaultProps={alt:"",className:void 0,count:0,fallbackIcon:void 0,imageUrl:void 0,isOpen:!1};class U extends i.PureComponent{constructor(){super(),(0,n.Z)(this,"_onClose",(()=>{this.setState({isOpen:!1})})),(0,n.Z)(this,"_onOpenChange",(e=>{this.setState({isOpen:e})})),this.profile=streets.service("profile"),this.state={isOpen:!1,user:this.profile.getUserInfo()}}componentDidMount(){this.profile.registerObserver(this)}componentWillUnmount(){this.profile.unregisterObserver(this),this.profile=null}onProfileChanged(){this.setState({user:this.profile.getUserInfo()})}render(){const{className:e}=this.props,{isOpen:t,user:s}=this.state;return s&&s.id?i.createElement(F,{alt:s.name||s.email,"aria-label":"User profile",className:e,imageUrl:s.picture,isOpen:t,menu:i.createElement(O,{onClose:this._onClose,user:s}),onOpenChange:this._onOpenChange}):null}}U.propTypes={className:o().string},U.defaultProps={className:void 0};const z=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M17.304 2.66a.5.5 0 0 1 .492.41l.008.09v7.608a.5.5 0 0 1-.992.09l-.008-.09V3.66H7.194l.001 9.465a.5.5 0 0 1-.41.492l-.09.008a.5.5 0 0 1-.492-.41l-.008-.09V3.161a.5.5 0 0 1 .41-.492l.09-.008h10.608Z"}),i.createElement("path",{d:"M10.018 13.268H3.16a.5.5 0 0 0-.5.5v7.071a.5.5 0 0 0 .5.5h6.857a.5.5 0 0 0 .5-.5v-7.071a.5.5 0 0 0-.5-.5Zm-.5 1v6.07H3.66v-6.07h5.857ZM20.625 10.91h-6.857a.5.5 0 0 0-.5.5v9.43a.5.5 0 0 0 .5.5h6.857a.5.5 0 0 0 .5-.5v-9.43a.5.5 0 0 0-.5-.5Zm-.5 1v8.428h-5.858V11.91h5.857Z"}),i.createElement("path",{d:"M7.875 16.804a.5.5 0 0 1 .09.992l-.09.008H5.518a.5.5 0 0 1-.09-.992l.09-.008h2.357ZM18 14.071a.5.5 0 0 1 .09.992l-.09.008h-1.714a.5.5 0 0 1-.09-.992l.09-.008H18ZM18 17.5a.5.5 0 0 1 .09.992L18 18.5h-1.714a.5.5 0 0 1-.09-.992l.09-.008H18ZM13.768 20.34a.5.5 0 0 1 .09.991l-.09.008h-3.536a.5.5 0 0 1-.09-.992l.09-.008h3.536ZM13.768 7.054a.5.5 0 0 1 .09.992l-.09.008h-3.536a.5.5 0 0 1-.09-.992l.09-.008h3.536Z"})))}));var Z=s(32853),B=s(65802);const H=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M20.188 2.938a.75.75 0 0 1 .743.648l.006.102v8.874a.75.75 0 0 1-1.493.102l-.006-.101-.001-8.126H8.562v10.875a.75.75 0 0 1-.648.744l-.101.006a.75.75 0 0 1-.744-.648l-.006-.101V3.687a.75.75 0 0 1 .648-.743l.101-.006h12.375Z"}),i.createElement("path",{d:"M11.688 15.313h-8a.75.75 0 0 0-.75.75v8.25c0 .414.335.75.75.75h8a.75.75 0 0 0 .75-.75v-8.25a.75.75 0 0 0-.75-.75Zm-.751 1.499v6.75h-6.5v-6.75h6.5ZM24.063 12.563h-8a.75.75 0 0 0-.75.75v11c0 .414.335.75.75.75h8a.75.75 0 0 0 .75-.75v-11a.75.75 0 0 0-.75-.75Zm-.751 1.499v9.5h-6.5v-9.5h6.5Z"}),i.createElement("path",{d:"M9.188 19.438a.75.75 0 0 1 .101 1.493l-.101.006h-2.75a.75.75 0 0 1-.102-1.493l.101-.006h2.75ZM21 16.25a.75.75 0 0 1 .102 1.493L21 17.75h-2a.75.75 0 0 1-.102-1.493L19 16.25h2ZM21 20.25a.75.75 0 0 1 .102 1.493L21 21.75h-2a.75.75 0 0 1-.102-1.493L19 20.25h2ZM16.063 23.563a.75.75 0 0 1 .101 1.493l-.102.006h-4.125a.75.75 0 0 1-.101-1.493l.101-.006h4.126ZM16.063 8.063a.75.75 0 0 1 .101 1.493l-.102.007h-4.125a.75.75 0 0 1-.101-1.494l.101-.007h4.126Z"})))}));var Y=s(15813);function W(e){let{className:t,url:s}=e;return i.createElement(Y.t,{className:R()("TeamAvatar",t),url:s},!s&&i.createElement(H,{className:"m-r-0",importance:"secondary",height:110,width:110}))}W.propTypes={className:o().string,url:o().string},W.defaultProps={className:void 0,url:void 0};var q=s(2772),V=s(74256);class Q extends i.Component{constructor(){super(),this.state={companyError:"",companyName:"",deleteLogo:!1,isButtonLoading:!1,logo:"",logoFile:null,teamError:"",teamName:""}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.signs=streets.service("signs"),this.fileReader=new FileReader,this.fileReader.onload=e=>{this.setState({logo:e.target.result})},this._updateTeamInfo()}componentWillUnmount(){this.enterprise=null,this.fileReader.onload=null}render(){const{companyError:e,companyName:t,isButtonLoading:s,logo:n,teamError:r,teamName:a}=this.state,o=streets.isEnterprisePlan()?"Enterprise":"Business";return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},i.createElement(q.H2,{appearance:"h1",kicker:"Manage ".concat(o," Account")},"Your ",o," profile"),i.createElement("div",{className:"form profile m-b-2"},i.createElement("div",{className:"text-fields"},i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"company-name"},"Company name"),i.createElement(V.A,{id:"company-name",error:e,hint:!e&&"Minimum ".concat(4," characters"),onChange:this._onCompanyNameChange.bind(this),value:t})),i.createElement("div",{className:"field"},i.createElement("label",{htmlFor:"team-name"},"Team name"),i.createElement(V.A,{id:"team-name",error:r,onChange:this._onTeamNameChange.bind(this),value:a}))),i.createElement("div",{className:"field picture-upload"},i.createElement("label",{htmlFor:"team-logo"},"Team logo"),i.createElement(W,{url:(0,P.w6)(n)}),i.createElement(B.R,{imageUrl:n,onChange:this._onLogoChange.bind(this)})),i.createElement(j.z,{label:"Save changes",loading:s,onClick:this._onSaveClick.bind(this)}))))}_onCompanyNameChange(e){this.setState({companyError:"",companyName:e})}_onLogoChange(e){e?(this.fileReader.readAsDataURL(e),this.setState({deleteLogo:!1,logoFile:e})):this.setState({deleteLogo:!0,logo:"",logoFile:null})}_onSaveClick(){this.setState({isButtonLoading:!0});let{companyName:e,deleteLogo:t,logoFile:s,teamName:n}=this.state;e=e.trim(),n=n.trim();let i="";e.length<4?i="Please choose a name with at least 4 characters":e.indexOf("/")>-1&&(i="Please avoid using '/'");let r="";if(n.indexOf("/")>-1&&(r="Please avoid using '/'"),i||r)return void this.setState({companyError:i,isButtonLoading:!1,teamError:r});const a={description:(0,Z.LF)(e,n)};t&&(a.deleteLogo=!0),this.enterprise.askUpdateTeamInfo(a).then((async()=>{s&&await this.enterprise.askUpdateLogo(s)})).then((()=>{this.signs.showMessage("Team info updated");const{onDone:e}=this.props;e()})).catch((()=>{this.signs.showError("Failed to update team info")}))}_onTeamNameChange(e){this.setState({teamError:"",teamName:e})}_updateTeamInfo(){this.enterprise.askTeamInfo().then((e=>{const{companyName:t,teamName:s}=(0,Z.a3)(e.description);this.setState({companyName:t,logo:e.logo||"",teamName:s})}))}}Q.propTypes={onDone:o().func.isRequired};class G extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onAskClick",(()=>{const{onClose:e}=this.props;streets.service("helpscout").open(),e()})),(0,n.Z)(this,"_onTeamProfileClick",(()=>{const{onClose:e}=this.props;this.slider.addSlide(Q,{}),e()})),this.state={logo:null,numTeammates:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.router=streets.service("router"),this.slider=streets.service("slider"),this.enterprise.askListUsers().then((e=>{this.setState({numTeammates:e.length})})),this.enterprise.askTeamInfo().then((e=>{e.logo&&this.setState({logo:e.logo})}))}componentWillUnmount(){this.enterprise=null,this.router=null,this.slider=null}render(){return streets.isUserAdmin()?streets.isEnterpriseUnpaid()?i.createElement("div",{className:"ProfileBubble__menu"},i.createElement("div",{className:"item-with-visuals"},this._renderHeader()),i.createElement(T.v,{width:275},i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("users")}},"Users"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("billing")}},"Billing"))):i.createElement("div",{className:"ProfileBubble__menu"},i.createElement("div",{className:"item-with-visuals",onClick:this._onTeamProfileClick},this._renderHeader()),i.createElement(T.v,{width:275},i.createElement(N.s,{className:"ProfileBubble__metric-item",onClick:()=>{this._onLoadPageClick("gettingStarted")}},"Getting Started"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("users")}},"Users"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("feeds")}},"Feeds"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("boards")}},"Boards"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("newsletters")}},"Newsletters"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("integrations")}},"Integrations"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("analytics")}},"Analytics"),i.createElement(N.s,{onClick:()=>{this._onLoadPageClick("billing")}},"Billing"),i.createElement(N.s,{onClick:this._onAskClick},"Ask a Question"),i.createElement(N.s,{onClick:this._onTeamProfileClick},"Team Profile"))):null}_renderHeader(){const{logo:e,numTeammates:t}=this.state;return i.createElement(i.Fragment,null,e?i.createElement(D.q,{className:"item-image",iconSize:28,url:(0,P.w6)(e)}):i.createElement(z,{className:"item-image",importance:"secondary"}),i.createElement("div",null,i.createElement("div",{className:"item-header"},streets.getEnterpriseName()),t&&i.createElement("div",{className:"item-meta"},t," ",t>1?"teammates":"teammate")))}_onLoadPageClick(e){const{onClose:t}=this.props;this.router.loadPage("team/".concat(e)),t()}}G.propTypes={onClose:o().func.isRequired};class K extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onClose",(()=>{this.setState({isOpen:!1})})),(0,n.Z)(this,"_onOpenChange",(e=>{e?streets.isUserAdmin()?this.setState({isOpen:!0}):streets.hasBusinessAccess()?this.router.loadPage("discover/boards"):this.router.loadPage("pro/enterprise"):this.setState({isOpen:!1})})),this.state={isOpen:!1,logo:null}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.router=streets.service("router"),this.enterprise.registerObserver(this),this._updateTeamLogo()}componentWillUnmount(){this.enterprise.unregisterObserver(this),this.enterprise=null,this.router=null}onEnterpriseChanged(){this._updateTeamLogo()}render(){if(!streets.getEnterpriseName()||streets.isEnterpriseUnpaid()&&!streets.isUserAdmin())return null;const{className:e}=this.props,{isOpen:t,logo:s}=this.state;return i.createElement(F,{"aria-label":"Team profile",className:e,fallbackIcon:i.createElement(z,{importance:"tertiary"}),imageUrl:s,isOpen:t,menu:i.createElement(G,{onClose:this._onClose}),onOpenChange:this._onOpenChange})}_updateTeamLogo(){streets.hasBusinessAccess()?this.enterprise.askTeamInfo().then((e=>{e.logo&&this.setState({logo:e.logo})})):this.setState({logo:null})}}K.propTypes={className:o().string},K.defaultProps={className:void 0};var J=s(99175);class X extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_onClick",(e=>{const{onClick:t}=this.props;e.stopPropagation(),t()}))}render(){const{className:e,elementRef:t,icon:s,title:n}=this.props;return i.createElement(J.d,{content:n,position:"right",textAlign:"left",tipClass:"LeftnavDock__tipsy"},i.createElement(j.z,{"aria-label":n,className:R()("LeftnavDock__button",e),elementRef:t,icon:s,importance:"tertiary",onClick:this._onClick}))}}X.propTypes={className:o().string,elementRef:o().shape({current:o().instanceOf(Element)}),icon:o().node.isRequired,onClick:o().func.isRequired,title:o().string},X.defaultProps={className:void 0,elementRef:void 0,title:void 0};const $=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.503 12.25a.75.75 0 0 1 .747.753c-.005 1.3.31 2.189.862 2.762.55.571 1.456.954 2.904.985a.75.75 0 0 1-.019 1.5c-1.32-.005-2.187.345-2.746.915-.569.58-.933 1.502-1.002 2.873a.75.75 0 0 1-1.499-.031c-.012-1.297-.309-2.207-.85-2.792-.53-.573-1.415-.965-2.9-.965a.75.75 0 0 1-.01-1.5c1.336-.019 2.243-.35 2.818-.905.569-.55.937-1.44.942-2.848a.75.75 0 0 1 .753-.747Zm-.006 3.863a4.04 4.04 0 0 1-1.377 1.37 3.969 3.969 0 0 1 1.427 1.461c.178-.303.388-.58.633-.83.228-.232.48-.434.753-.605a4.034 4.034 0 0 1-1.436-1.396ZM15.003 1.25a.75.75 0 0 1 .747.753c-.008 2.086.497 3.59 1.457 4.587.958.995 2.49 1.61 4.809 1.66a.75.75 0 0 1-.019 1.5c-2.128-.008-3.599.557-4.571 1.548-.981 1-1.567 2.55-1.677 4.74a.75.75 0 0 1-1.499-.031c-.019-2.07-.492-3.605-1.433-4.622C11.888 10.381 10.382 9.75 8 9.75a.75.75 0 0 1-.01-1.5c2.138-.03 3.668-.56 4.667-1.525.993-.959 1.585-2.468 1.593-4.728a.75.75 0 0 1 .753-.747Zm-.01 4.705A6.018 6.018 0 0 1 13.7 7.804a6.133 6.133 0 0 1-1.745 1.173 5.915 5.915 0 0 1 1.964 1.39 6.114 6.114 0 0 1 1.147 1.808 6.476 6.476 0 0 1 1.29-1.927A6.054 6.054 0 0 1 18.125 9a6.158 6.158 0 0 1-1.999-1.37 6.008 6.008 0 0 1-1.132-1.676Z",fill:"currentColor"}))}));var ee=s(20370);const te=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M14 12.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm0 1.5a.25.25 0 1 1 0 .5.25.25 0 0 1 0-.5ZM21 12.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm0 1.5a.25.25 0 1 1 0 .5.25.25 0 0 1 0-.5ZM7 12.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm0 1.5a.25.25 0 1 1 0 .5.25.25 0 0 1 0-.5Z"})))}));const se=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M19.714 11.593a.75.75 0 0 1 .102 1.493l-.102.007H4.286a.75.75 0 0 1-.102-1.493l.102-.007h15.428ZM19.714 7.821a.75.75 0 0 1 .102 1.494l-.102.006H4.286a.75.75 0 0 1-.102-1.493l.102-.007h15.428ZM19.714 15.364a.75.75 0 0 1 .102 1.493l-.102.007H4.286a.75.75 0 0 1-.102-1.493l.102-.007h15.428Z"})))}));var ne=s(32470),ie=s(20785);class re extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onError",(()=>{const{errored:e,erroredUrl:t}=this.state;!e&&t&&this.setState({iconUrl:t,errored:!0})})),(0,n.Z)(this,"_onIconClick",(e=>{const{onIconClick:t}=this.props;t?(e.stopPropagation(),t()):this._onClick()})),(0,n.Z)(this,"_onClick",(()=>{const{linkUri:e,onClick:t,disableHighlight:s}=this.props;s||this.setState({isHighlighted:!0}),e?(this.tabsManager.askOpenPage(e),this.mobileleftnav.close()):t&&t()})),this.mobileleftnav=streets.service("mobileleftnav");let t=e.faviconUrl,s=e.fallbackIconUrl;!t&&s&&(t=s,s=null),this.state={iconUrl:t,erroredUrl:s,errored:!1,isEditing:this.mobileleftnav.isEditModeOn()}}componentDidMount(){this.tabsManager=streets.service("tabsManager"),this.mobileleftnav.registerObserver(this)}componentWillUnmount(){this.mobileleftnav.unregisterObserver(this),this.mobileleftnav=null,this.tabsManager=null}onOpenMobileLeftNav(){this.setState({isHighlighted:!1})}onLeftnavEditModeChanged(e){this.setState({isEditing:e})}render(){const{isEditing:e,isHighlighted:t}=this.state,{onMoreClick:s,isEditable:n}=this.props,r=i.createElement("div",{className:R()("MobileLeftnavListRowContainer",{"MobileLeftnavListRowContainer--highlighted":t})},this._renderItem());return n&&!e?i.createElement(ie.U,{onDeepPress:s,onClick:this._onClick},r):r}_renderItem(){const{children:e,className:t,hasNotification:s,iconComponent:n,isCapped:r,isEditable:a,isDraggable:o,onMoreClick:l,unreadCount:c}=this.props,{isEditing:d,iconUrl:h}=this.state;return i.createElement("div",{className:R()("MobileLeftnavListRow",t),onClick:a&&d?null:this._onClick},n&&i.createElement("div",{className:R()("MobileLeftnavListRow__icon-container",{"MobileLeftnavListRow__icon--notification":s})},i.createElement(n,{className:"MobileLeftnavListRow__icon",importance:"tertiary",onClick:this._onIconClick})),h&&i.createElement("img",{className:"MobileLeftnavListRow__icon",src:h,onError:this._onError,alt:""}),i.createElement("span",{className:"MobileLeftnavListRow__label"},e),c>0&&(!d||!a)&&i.createElement("div",{className:"MobileLeftnavListRow__count"},(0,ne.XZ)(c,r)),d&&a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"MobileLeftnavListRow__more"},i.createElement(te,{importance:"tertiary",onClick:e=>{e.stopPropagation(),l()}})),i.createElement("div",{className:"MobileLeftnavListRow__handle"},o&&i.createElement(se,null))))}}re.propTypes={children:o().node.isRequired,className:o().string,disableHighlight:o().bool,fallbackIconUrl:o().string,faviconUrl:o().string,hasNotification:o().bool,iconComponent:o().elementType,isCapped:o().bool,isDraggable:o().bool,isEditable:o().bool,linkUri:o().string,onClick:o().func,onIconClick:o().func,onMoreClick:o().func,unreadCount:o().number},re.defaultProps={className:"",disableHighlight:!1,fallbackIconUrl:null,faviconUrl:"",hasNotification:!1,iconComponent:void 0,isCapped:!1,isDraggable:!1,isEditable:!1,linkUri:null,onClick:()=>{},onIconClick:null,onMoreClick:()=>{},unreadCount:null};class ae extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onClick",(()=>{const{onClick:e}=this.props,{showWhatsNewNotification:t}=this.state;e(),this.newfeatures.updateNewFeaturesLastClickTime(),streets.service("popups").closePopup(ee.STAR_FEATURE),t&&streets.service("analytics").trackNewFeaturesEvent(this.newfeatures.getCurrentNewFeatureHeader(),"click gift button")})),this.newfeatures=streets.service("newfeatures");const{showWhatsNewNotification:t}=this.newfeatures.getNotificationInfo();this.state={showWhatsNewNotification:t}}componentDidMount(){this.newfeatures.registerObserver(this)}componentWillUnmount(){this.newfeatures.unregisterObserver(this),this.newfeatures=null}onWhatsNewNotificationChanged(e){this.setState({showWhatsNewNotification:e})}render(){const{showWhatsNewNotification:e}=this.state;return i.createElement(X,{className:R()({"LeftnavDock--notification":e}),icon:i.createElement($,{importance:"secondary"}),onClick:this._onClick,title:"New Features"})}}ae.propTypes={onClick:o().func.isRequired};const oe=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.167 3.333a.5.5 0 0 1 .5-.5H15.5a2.5 2.5 0 0 1 2.5 2.5V15.5a2.5 2.5 0 0 1-2.5 2.5H4.583a.5.5 0 0 1 0-1H15.5a1.5 1.5 0 0 0 1.5-1.5V5.334a1.5 1.5 0 0 0-1.5-1.5H6.667a.5.5 0 0 1-.5-.5Zm1.25 3.516a.5.5 0 0 1 .5-.5h5.833a.5.5 0 1 1 0 1H7.917a.5.5 0 0 1-.5-.5Zm0 3.333a.5.5 0 0 1 .5-.5h5.833a.5.5 0 1 1 0 1H7.917a.5.5 0 0 1-.5-.5Zm0 3.152a.5.5 0 0 1 .5-.5h2.5a.5.5 0 0 1 0 1h-2.5a.5.5 0 0 1-.5-.5Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.583 13.834a1.583 1.583 0 0 0 0 3.166.5.5 0 1 1 0 1 2.583 2.583 0 0 1 0-5.166.5.5 0 0 1 0 1Z",fill:"currentColor"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.083 2.247C3.453 2.457 3 3.05 3 3.75v11.666a.5.5 0 0 1-1 0V3.75a2.583 2.583 0 0 1 2.583-2.583.5.5 0 0 1 .5.5v11.666a.5.5 0 0 1-1 0V2.247Z",fill:"currentColor"}))}));const le=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.112 9.064a.5.5 0 0 1 .492.41l.008.09v3.445a2.643 2.643 0 0 1-1.458 2.362l-.17.078-2.763 1.15a2.643 2.643 0 0 1-1.836.071l-.197-.073L6.44 15.45a2.643 2.643 0 0 1-1.618-2.252l-.007-.187V9.565a.5.5 0 0 1 .992-.09l.008.09v3.446c0 .612.34 1.169.873 1.451l.137.065 2.747 1.147c.354.148.746.167 1.11.056l.154-.055 2.763-1.149c.566-.235.95-.763 1.005-1.365l.007-.152V9.564a.5.5 0 0 1 .5-.5ZM2.5 7.518a.5.5 0 0 1 .492.41l.008.09v4.754a.5.5 0 0 1-.992.09L2 12.771V8.018a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"m10.042 4.184-7.74 3.333a.5.5 0 0 0 .004.92l7.74 3.267a.5.5 0 0 0 .394-.003l7.475-3.267a.5.5 0 0 0 .003-.915l-7.474-3.333a.5.5 0 0 0-.402-.002Zm.195 1.005 6.24 2.782-6.24 2.728L3.774 7.97l6.463-2.782Z"})))}));var ce=s(29306),de=s(54424);const he=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M7.89 10.43c.924 0 1.68.756 1.68 1.68v4.21c0 .876-.678 1.6-1.536 1.674L7.889 18c-.925 0-1.68-.756-1.68-1.68v-4.21c0-.876.678-1.6 1.536-1.674l.144-.006Zm4.22 4.209c.926 0 1.681.755 1.681 1.68 0 .877-.678 1.6-1.536 1.675l-.144.006c-.925 0-1.681-.756-1.681-1.68v-1.681h1.68ZM7.89 11.43a.686.686 0 0 0-.674.58l-.007.1v4.21c0 .372.308.68.68.68a.686.686 0 0 0 .674-.58l.007-.1v-4.21a.685.685 0 0 0-.68-.68Zm4.22 4.209-.68-.001v.681c0 .373.308.681.68.681.373 0 .681-.308.681-.68a.686.686 0 0 0-.58-.674l-.1-.007ZM5.362 10.43v1.68c0 .877-.678 1.601-1.536 1.675l-.144.006c-.925 0-1.681-.755-1.681-1.68 0-.925.756-1.68 1.68-1.68h1.681Zm10.958 0c.925 0 1.681.756 1.681 1.68 0 .926-.756 1.681-1.68 1.681h-4.21c-.924 0-1.68-.755-1.68-1.68 0-.925.756-1.68 1.68-1.68h4.21Zm-11.958 1h-.68a.685.685 0 0 0-.681.68c0 .373.308.681.68.681a.686.686 0 0 0 .674-.58l.007-.1v-.681Zm11.958 0h-4.208a.685.685 0 0 0-.681.68c0 .34.255.625.58.674l.1.007h4.21c.372 0 .68-.308.68-.68a.685.685 0 0 0-.68-.68ZM7.89 6.21c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68H3.68C2.757 9.57 2 8.815 2 7.89c0-.925.756-1.68 1.68-1.68h4.21Zm8.43 0c.925 0 1.681.755 1.681 1.68 0 .925-.756 1.68-1.68 1.68h-1.681V7.89c0-.876.678-1.6 1.536-1.674l.144-.006ZM12.111 2c.925 0 1.68.756 1.68 1.68v4.21c0 .876-.678 1.6-1.536 1.674l-.144.006c-.925 0-1.681-.756-1.681-1.68V3.68c0-.876.678-1.6 1.536-1.674L12.111 2ZM7.889 7.209H3.681a.685.685 0 0 0-.681.68c0 .34.255.624.58.673l.1.008h4.21c.372 0 .68-.308.68-.68a.685.685 0 0 0-.68-.681Zm8.43 0a.686.686 0 0 0-.673.58l-.007.1-.001.68h.681a.686.686 0 0 0 .674-.58l.007-.1a.685.685 0 0 0-.68-.68ZM12.111 3a.686.686 0 0 0-.674.58l-.007.1v4.21c0 .372.308.68.68.68a.686.686 0 0 0 .674-.58l.007-.1V3.68a.685.685 0 0 0-.68-.68ZM7.889 2c.925 0 1.681.756 1.681 1.68v1.681H7.89c-.926 0-1.681-.755-1.681-1.68 0-.877.678-1.6 1.536-1.675L7.889 2Zm0 1a.685.685 0 0 0-.68.68c0 .34.254.625.58.674l.1.007h.68l.001-.68a.686.686 0 0 0-.58-.674L7.89 3Z",fill:"currentColor",fillRule:"nonzero"}))}));var ue=s(50240);const pe=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M15.857 5.214H4.143a2.5 2.5 0 0 0-2.5 2.5V13a2.5 2.5 0 0 0 2.5 2.5h11.714a2.5 2.5 0 0 0 2.5-2.5V7.714a2.5 2.5 0 0 0-2.5-2.5Zm-11.714 1h11.714a1.5 1.5 0 0 1 1.5 1.5V13a1.5 1.5 0 0 1-1.5 1.5H4.143a1.5 1.5 0 0 1-1.5-1.5V7.714a1.5 1.5 0 0 1 1.5-1.5Z"}),i.createElement("path",{d:"M5 8.429a.5.5 0 0 1 .09.992L5 9.429h-.714a.5.5 0 0 1-.09-.992l.09-.008H5ZM7.857 8.429a.5.5 0 0 1 .09.992l-.09.008h-.714a.5.5 0 0 1-.09-.992l.09-.008h.714ZM12.857 11.286a.5.5 0 0 1 .09.992l-.09.008H7.143a.5.5 0 0 1-.09-.992l.09-.008h5.714ZM15.714 8.429a.5.5 0 0 1 .09.992l-.09.008H15a.5.5 0 0 1-.09-.992l.09-.008h.714ZM15.714 11.286a.5.5 0 0 1 .09.992l-.09.008H15a.5.5 0 0 1-.09-.992l.09-.008h.714ZM5 11.286a.5.5 0 0 1 .09.992l-.09.008h-.714a.5.5 0 0 1-.09-.992l.09-.008H5ZM12.857 8.429a.5.5 0 0 1 .09.992l-.09.008h-.714a.5.5 0 0 1-.09-.992l.09-.008h.714Z"})))}));function me(e){let{children:t,iconComponent:s,link:n,onClick:r,onClose:a}=e;return i.createElement(N.s,{onClick:()=>{n?window.open(n):r(),a()}},i.createElement(s,{importance:"secondary"}),t)}me.propTypes={children:o().node.isRequired,iconComponent:o().elementType.isRequired,link:o().string,onClick:o().func,onClose:o().func.isRequired},me.defaultProps={link:void 0,onClick:void 0};class ge extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onContactSupport",(()=>{streets.hasProAccess()?this.helpscout.open():this.router.loadPage("pro/support")})),(0,n.Z)(this,"_onOpenKeyboardShortcuts",(()=>{streets.service("helpSigns").showHelpSign()}))}componentDidMount(){this.router=streets.service("router"),this.helpscout=streets.service("helpscout")}componentWillUnmount(){this.router=null,this.helpscout=null}render(){const{calendlyLink:e,onClose:t}=this.props;return i.createElement("div",{className:"m-y-t"},i.createElement(T.v,null,i.createElement(me,{iconComponent:oe,link:"https://blog.feedly.com/getting-started-with-feedly/",onClose:t},"Getting Started Guide"),i.createElement(me,{iconComponent:le,link:"https://feedly.helpscoutdocs.com/",onClose:t},"Knowledge Base"),i.createElement(me,{iconComponent:ce.Z,onClick:this._onContactSupport,onClose:t},"Contact Support"),e&&(streets.hasProPlusAccess()||streets.isBusinessPlan()||streets.isEnterprisePlan())&&i.createElement(me,{iconComponent:de.Z,link:e,onClose:t},"Book a 1-1 Coaching Session"),i.createElement(me,{iconComponent:he,link:"https://blog.feedly.com/slack-community/",onClose:t},"Join Our Slack Community"),i.createElement(me,{iconComponent:ue.Z,link:"https://twitter.com/feedly",onClose:t},"Follow Us On Twitter"),i.createElement(me,{iconComponent:pe,onClick:this._onOpenKeyboardShortcuts,onClose:t},"Keyboard Shortcuts")))}}ge.propTypes={calendlyLink:o().string,onClose:o().func.isRequired},ge.defaultProps={calendlyLink:void 0};const fe=new Set(["board","collection","priority","subscription"]);class ye extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_renderSupportPopover",(()=>{const{calendlyLink:e,isSupportPopoverOpen:t}=this.state;return t?i.createElement(I.h,{target:this._popoverHook},i.createElement(S.J,{align:"start",caret:!0,offsetParent:this._popoverHook,onClose:this._onClosePopover,position:"right",target:this._target},i.createElement(ge,{calendlyLink:e,onClose:this._onClosePopover}))):null})),(0,n.Z)(this,"_switchTheme",(()=>{const{endPeek:e}=this.props;e();const t=this.feedly.switchTheme();this.setState({theme:t})})),(0,n.Z)(this,"_onAddContentClick",(()=>{window.localStorage.getItem("seoOnboarded")&&window.localStorage.setItem("addContentButtonClicked","true"),this.router.loadPage("discover")})),(0,n.Z)(this,"_onAddTeammateClick",(()=>{const{endPeek:e}=this.props;e(),this.slider.addSlide(M.L,{})})),(0,n.Z)(this,"_onClosePopover",(()=>{this.setState({isSupportPopoverOpen:!1})})),(0,n.Z)(this,"_onFeedlyIconClick",(()=>{!!streets.getUserId()?this.router.loadDefaultPage():this.router.loadPage("welcome")})),(0,n.Z)(this,"_onHelpClick",(()=>{const{endPeek:e}=this.props;e(),this.setState({isSupportPopoverOpen:!0})})),(0,n.Z)(this,"_onNewFeaturesClick",(()=>{this.router.loadPage("subscription/feed/https://blog.feedly.com/category/features-tutorials/feed/")})),(0,n.Z)(this,"_onOpenLeoWebAlerts",(()=>{this.router.loadPage("leoWebAlerts")})),(0,n.Z)(this,"_onOpenTopicModeler",(()=>{this.router.loadPage("topicModeler")})),(0,n.Z)(this,"_onOpenWikidataModeler",(()=>{this.router.loadPage("wikidataTopics")})),(0,n.Z)(this,"_onPowerSearchClick",(()=>{const e=window.location.pathname,{pageType:t,scope:s}=(0,_.v3)(e);if("powerSearch"===t){const t=e.split("/")[3]||k.Fq.in;this.router.loadPage("powerSearch/".concat(t))}else fe.has(t)?this.router.loadPage((0,_.xU)({scope:decodeURIComponent(s)})):this.router.loadPage("powerSearch/in")})),(0,n.Z)(this,"_updateInfo",(async()=>{try{const[e,t,s]=await Promise.all([this.onboarding.askIsOnboarding(),this.leo.askHasLeoSecurityFeature(),this.alerts.askHasWebAlertsAccess()]);let n;n=streets.isProPlusPlan()?C.H.proOnboarding:await this.enterprise.askCalendlyOnboardingLink(),this.setState({calendlyLink:n,hasLeoSecurityFeature:t,hasWebAlertsAccess:s,isOnboarding:e})}catch(e){console.error(e)}})),this._popoverHook=document.getElementById("reactPopoverHook"),this._target=i.createRef(),this.feedly=streets.service("feedly"),this.state={calendlyLink:"",hasAdminBusinessAccess:streets.hasAdminBusinessAccess(),hasLeoSecurityFeature:!1,hasWebAlertsAccess:!1,isSupportPopoverOpen:!1,theme:this.feedly.getTheme()}}componentDidMount(){this.alerts=streets.service("alerts"),this.enterprise=streets.service("enterprise"),this.leo=streets.service("leo"),this.onboarding=streets.service("onboarding"),this.profile=streets.service("profile"),this.router=streets.service("router"),this.slider=streets.service("slider"),this.onboarding.registerObserver(this),this.profile.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.onboarding.unregisterObserver(this),this.profile.unregisterObserver(this),this.alerts=null,this.enterprise=null,this.feedly=null,this.leo=null,this.onboarding=null,this.profile=null,this.router=null,this.slider=null,this._popoverHook=null,this._target=null}onOnboardingChanged(e){this.setState({isOnboarding:e})}onProfileUpgraded(){this.setState({hasAdminBusinessAccess:streets.hasAdminBusinessAccess()})}render(){const{loading:e,togglePeek:t}=this.props,{hasAdminBusinessAccess:s,hasLeoSecurityFeature:n,hasWebAlertsAccess:r,isOnboarding:a,theme:o}=this.state,l=!!streets.getUserId(),C=o===w.Bd.light;return i.createElement("nav",{"aria-label":"Primary",className:"LeftnavDock",onClick:t},i.createElement("h2",{className:"screenreader-only"},"Primary Navigation"),i.createElement("div",null,i.createElement(X,{className:"LeftnavDock__button--logo",icon:i.createElement(c,{color:"accent"}),onClick:this._onFeedlyIconClick,title:"Home"}),l&&i.createElement(X,{className:"LeftnavDock__peek",icon:i.createElement(d,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:t,title:"Open Navigation"})),!e&&l&&i.createElement(i.Fragment,null,i.createElement("div",null,r?i.createElement(i.Fragment,null,i.createElement(X,{icon:i.createElement(h,{importance:"secondary"}),onClick:this._onOpenLeoWebAlerts,title:n?"Track threats and topics using Leo Web Alerts":"Track trends and topics using Leo Web Alerts"}),i.createElement(X,{icon:i.createElement(u,{importance:"secondary"}),onClick:this._onAddContentClick,title:"Follow Websites, Twitter, Reddit, and Newsletters"})):i.createElement(X,{icon:i.createElement(p,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._onAddContentClick,title:"Follow New Sources"}),!a&&i.createElement(X,{icon:i.createElement(m,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._onPowerSearchClick,title:"Power Search"}),s&&i.createElement(X,{icon:i.createElement(g,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._onAddTeammateClick,title:"Invite Teammates"}),i.createElement(X,{icon:C?i.createElement(f,{className:"LeftnavDock__fx-icon",importance:"secondary"}):i.createElement(y,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._switchTheme,title:"Switch Between Themes"}),"feedly"===streets.getEnterpriseId()&&i.createElement(i.Fragment,null,i.createElement(X,{icon:i.createElement(v,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._onOpenWikidataModeler,title:"Model Wikidata Topics"}),i.createElement(X,{icon:i.createElement(b,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._onOpenTopicModeler,title:"Model Topics"})),i.createElement(ae,{onClick:this._onNewFeaturesClick}),i.createElement(X,{icon:i.createElement(E,{className:"LeftnavDock__fx-icon",importance:"secondary"}),onClick:this._onHelpClick,elementRef:this._target,title:"Learn and Get Support"}),this._renderSupportPopover()),i.createElement("div",null,i.createElement(U,{className:"LeftnavDock__bubble"}),i.createElement(K,{className:"LeftnavDock__bubble"}))))}}ye.propTypes={endPeek:o().func.isRequired,loading:o().bool.isRequired,togglePeek:o().func.isRequired};var ve=s(89521),be=s(81445),Ee=s(94820);const Ce=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M10.01 2.37a.5.5 0 0 1 .493.41l.008.09v14.088a.5.5 0 0 1-.992.09l-.008-.09V2.87a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"M9.646 2.502a.5.5 0 0 1 .635-.057l.07.057 5.691 5.654a.5.5 0 0 1-.635.767l-.07-.058-5.34-5.304-5.339 5.304a.5.5 0 0 1-.638.056l-.069-.058a.5.5 0 0 1-.055-.638l.058-.07 5.692-5.653Z"})))}));var we=s(56816),ke=s(14971),_e=s(24818),Me=s(92219),Se=s(12287),Ie=s(74221),Te=s(80721),Ne=s(31454),Le=s(23005),Pe=s(65060),De=s(27256);const Ae=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M11.283 11.315a.357.357 0 0 1 .233.629L9.98 13.259a.357.357 0 0 1-.465 0l-1.534-1.315a.357.357 0 0 1 .232-.629h3.07Zm-1.302-4.8 1.535 1.315a.357.357 0 0 1-.233.628H8.214a.357.357 0 0 1-.232-.628l1.534-1.315a.357.357 0 0 1 .465 0Z",fill:"currentColor",fillRule:"evenodd"}))}));function Oe(e){let{tiny:t}=e;return i.createElement(Ae,{className:R()("LeftnavListRow__icon LeftnavListRow__drag-icon",{"LeftnavListRow__drag-icon--tiny":t}),color:"accent"})}Oe.propTypes={tiny:o().bool},Oe.defaultProps={tiny:!1};var xe=s(96968);class Re extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onClickPage",(e=>{const{markAsReadId:t}=this.props;e.stopPropagation(),streets.service("readingManager").askMarkPageAsRead({streamId:t})})),(0,n.Z)(this,"_onClickStream",(e=>{const{markAsReadId:t}=this.props;e.stopPropagation(),this.feedly.askMarkStreamAsRead(t)}))}componentDidMount(){this.feedly=streets.service("feedly")}componentWillUnmount(){this.feedly=null}render(){const{ariaLabelTitle:e,count:t,isCapped:s,markAsReadId:n,markPageAsRead:r}=this.props,a=(0,ne.XZ)(t,s);return a?n?i.createElement(xe.E,{"aria-label":"Mark ".concat(e," as read"),className:"LeftnavListRow__count",importance:"tertiary",onClick:r?this._onClickPage:this._onClickStream},a):i.createElement("span",{className:"LeftnavListRow__count"},a):null}}Re.propTypes={ariaLabelTitle:o().string.isRequired,count:o().number,isCapped:o().bool,markAsReadId:o().string,markPageAsRead:o().bool},Re.defaultProps={count:0,isCapped:!1,markAsReadId:void 0,markPageAsRead:!1};class je extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onContextMenu",(e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))}))}render(){const{bold:e,children:t,iconComponent:s,isCapped:n,linkUri:r,markAsReadId:a,notificationCount:o,selected:l,title:c,unreadCount:d}=this.props;return i.createElement(De.O,{blockLevel:!0,className:R()("LeftnavListRow",{"LeftnavListRow--selected":l}),onContextMenu:this._onContextMenu,title:c,uri:r},i.createElement(s,{className:"LeftnavListRow__icon",color:l?"accent":"black",importance:l?"primary":"tertiary"}),i.createElement(Oe,null),i.createElement("span",{className:R()("LeftnavListRow__text",{"LeftnavListRow__text--bold":e})},t||c),o&&i.createElement("span",{className:"LeftnavListRow__notification-count"},o),i.createElement(Re,{count:d,markAsReadId:a,markPageAsRead:l,ariaLabelTitle:c,isCapped:n}))}}je.propTypes={bold:o().bool,children:o().node,iconComponent:o().elementType.isRequired,isCapped:o().bool,linkUri:o().string.isRequired,markAsReadId:o().string,notificationCount:o().number,onRightClick:o().func,selected:o().bool,title:o().string.isRequired,unreadCount:o().number},je.defaultProps={bold:!1,children:null,isCapped:!1,markAsReadId:void 0,notificationCount:null,onRightClick:void 0,selected:!1,unreadCount:null};var Fe=s(35503),Ue=s(83703);const ze={annotated:{tipsyMessagePro:"Renew Pro to add Notes and Highlights to articles.",tipsyMessageProPlus:"Renew Pro+ to add Notes and Highlights to articles.",tipsyTitle:"Notes are available on Pro and Pro+"},newsletter:{tipsyMessageProPlus:"Renew Pro+ to get newsletters delivered to your Feedly so you can declutter your inbox.",tipsyTitle:"Follow newsletters with Pro+"},priority:{tipsyMessageProPlus:"Renew Pro+ to access Priorities, use deduplication, and mute noisy content.",tipsyTitle:"Priorities are available on Pro+"},trainLeo:{tipsyMessageProPlus:"Renew Pro+ to access Priorities, use Deduplication, and mute noisy content.",tipsyTitle:"Leo is available on Pro+"},twitter:{tipsyMessageProPlus:"Renew Pro+ to follow Twitter timelines, hashtags, Lists, and searches in your Feedly.",tipsyTitle:"Twitter is available on Pro+"},webAlert:{tipsyMessageProPlus:"Renew Pro+ to cut through the noise. Ask Leo to track the specific topics and trends you care about.",tipsyTitle:"Web Alerts are available on Pro+"}};class Ze extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_renderRenewalModal",(()=>{const{hasExpiredProPlan:e,hasExpiredProPlusPlan:t}=this.props,{isRenewalModalOpen:s}=this.state;return s&&(e||t)?i.createElement(Fe.E,{onClose:this._onCloseRenewalModal}):null})),(0,n.Z)(this,"_onCloseRenewalModal",(()=>{this.setState({isRenewalModalOpen:!1})})),(0,n.Z)(this,"_onOpenRenewalModal",(()=>{this.setState({isRenewalModalOpen:!0})})),this.state={isRenewalModalOpen:!1}}render(){const{bold:e,enabled:t,hasExpiredProPlan:s,isChild:n,label:r,onClick:a,selected:o,type:l,unreadCount:c}=this.props,{tipsyMessagePro:d,tipsyMessageProPlus:h,tipsyTitle:u}=ze[l];return i.createElement(i.Fragment,null,i.createElement(J.d,{content:i.createElement(i.Fragment,null,i.createElement("div",{className:"LeftnavItemDisabled__tipsy-title"},u),i.createElement("div",{className:"LeftnavItemDisabled__tipsy-message"},s?d:h)),position:"top",textAlign:"left",tipClass:"LeftnavItemDisabled__tipsy"},i.createElement("div",{className:R()("LeftnavItemDisabled",{"LeftnavItemDisabled--selected":o,"LeftnavItemDisabled--child":n}),onClick:t?a:this._onOpenRenewalModal},n?i.createElement("img",{alt:"",className:"LeftnavItemDisabled__favicon",src:Ue}):i.createElement(_e.Z,{className:"LeftnavItemDisabled__icon",color:"danger",importance:"primary"}),i.createElement("span",{className:R()("LeftnavItemDisabled__text",{"LeftnavItemDisabled__text--bold":e,"LeftnavItemDisabled__text--enabled":t,"LeftnavItemDisabled__text--selected":o,"LeftnavItemDisabled__text--child":n})},r),i.createElement(Re,{count:c}))),this._renderRenewalModal())}}Ze.propTypes={bold:o().bool,enabled:o().bool,hasExpiredProPlan:o().bool,hasExpiredProPlusPlan:o().bool,isChild:o().bool,label:o().oneOfType([o().string,o().node]).isRequired,onClick:o().func,selected:o().bool,type:o().string.isRequired,unreadCount:o().number},Ze.defaultProps={bold:!1,enabled:!1,hasExpiredProPlan:!1,hasExpiredProPlusPlan:!1,isChild:!1,onClick:()=>{},selected:!1,unreadCount:void 0};var Be=s(61195),He=s(3244),Ye=s(30271),We=s(85902),qe=s(9990);const Ve=Object.freeze({dashboardsCollapsedPref:"dashboardsCollapsedPref",leoPrioritiesCollapsedPref:"leoPrioritiesCollapsedPref",personalBoardsCollapsedPref:"personalBoardsCollapsedPref",personalCollectionsCollapsedPref:"personalCollectionsCollapsedPref",teamBoardsCollapsedPref:"teamBoardsCollapsedPref",teamCollectionsCollapsedPref:"teamCollectionsCollapsedPref"});class Qe extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onContextMenu",(e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))})),(0,n.Z)(this,"_onHideVisibilityButton",(()=>{this.setState({isVisibilityButtonHidden:!0})})),(0,n.Z)(this,"_onOrganizeClick",(()=>{const{organizeUri:e}=this.props;this.router.loadPage(e)})),(0,n.Z)(this,"_onShowVisibilityButton",(()=>{this.setState({isVisibilityButtonHidden:!1})})),(0,n.Z)(this,"_onToggleSectionVisibility",(()=>{const{type:e}=this.props,t=this.preferences.getPreference("".concat(e,"CollapsedPref"))===w.Hi.hide?w.Hi.show:w.Hi.hide;this.preferences.askSetPreference("".concat(e,"CollapsedPref"),t)})),(0,n.Z)(this,"_updateInfo",(()=>{const{type:e}=this.props;if(e){const t=this.preferences.getPreference("".concat(e,"CollapsedPref"))===w.Hi.hide?w.Hi.show:w.Hi.hide;this.setState({visibilityButtonLabel:t})}})),this.state={isVisibilityButtonHidden:!0,visibilityButtonLabel:w.Hi.hide}}componentDidMount(){this.router=streets.service("router"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updateInfo()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.router=null,this.preferences=null}onPreferenceChanged(e){Ve[e]&&this._updateInfo()}render(){const{children:e,organizeUri:t,type:s}=this.props,{isVisibilityButtonHidden:n,visibilityButtonLabel:r}=this.state;return i.createElement("div",{className:"LeftnavHeading",onContextMenu:this._onContextMenu,onMouseLeave:this._onHideVisibilityButton,onMouseOver:this._onShowVisibilityButton},i.createElement(qe.H3,{className:"LeftnavHeading__text"},e),t&&i.createElement(j.z,{className:"LeftnavHeading__organize-button",icon:i.createElement(Ye.Z,{importance:"tertiary"}),importance:"tertiary",onClick:this._onOrganizeClick,title:"Organize Feeds"}),s&&i.createElement(xe.E,{"aria-label":"".concat(r," ").concat(e),className:R()("LeftnavHeading__visibility-button",{"m-r-h":t,"LeftnavHeading__visibility-button--hidden":n&&r===w.Hi.hide}),importance:"tertiary",onClick:this._onToggleSectionVisibility},(0,We.kC)(r)))}}Qe.propTypes={children:o().string.isRequired,onRightClick:o().func,organizeUri:o().string,type:o().oneOf(["dashboards","leoPriorities","personalBoards","personalCollections","teamBoards","teamCollections"])},Qe.defaultProps={onRightClick:void 0,organizeUri:"",type:void 0};class Ge extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_updateInfo",(async()=>{const e=await this.leo.askHasLeoSecurityFeature();this.setState({hasLeoSecurityFeature:e})})),this.state={hasLeoSecurityFeature:!1,isDashboardCollapsed:!1}}componentDidMount(){this.leo=streets.service("leo"),this.preferences=streets.service("preferences"),this.preferences.registerObserver(this),this._updatePreferences(),this._updateInfo()}componentWillUnmount(){this.preferences.unregisterObserver(this),this.leo=null,this.preferences=null}onPreferenceChanged(e){e===w.Ct&&this._updatePreferences()}render(){const{selectedStreamId:e}=this.props,{isDashboardCollapsed:t,hasLeoSecurityFeature:s}=this.state;return s?i.createElement(i.Fragment,null,i.createElement(Qe,{type:"dashboards"},"Dashboards"),!t&&i.createElement(je,{bold:!0,iconComponent:Be.Z,linkUri:He.A.cybersecurity,selected:e===He.A.cybersecurity,title:"Cybersecurity Dashboard"},"Cybersecurity")):null}_updatePreferences(){this.setState({isDashboardCollapsed:this.preferences.getPreference(w.Ct)===w.Hi.hide})}}Ge.propTypes={selectedStreamId:o().string},Ge.defaultProps={selectedStreamId:null};var Ke=s(64276);const Je=Object.freeze({favorites:"FAVORITES",priorities:"PRIORITIES",collections:"COLLECTIONS",feeds:"FEEDS",boards:"BOARDS"}),Xe=Object.freeze({favorites:"FAVORITES",priorities:"PRIORITIES",teamBoards:"TEAM_BOARDS",personalBoards:"PERSONAL_BOARDS",teamCollections:"TEAM_COLLECTIONS",personalCollections:"PERSONAL_COLLECTIONS"});var $e=s(94866),et=s(48689),tt=s(20569),st=s(46449),nt=s(88982),it=s(14171);class rt extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{})}componentDidMount(){this.setState({offsetParent:document.querySelector(".Leftnav")})}render(){const{children:e,indent:t,target:s}=this.props,{offsetParent:n}=this.state;return n&&e?i.createElement(S.J,{align:"start",color:"black",className:R()("LeftnavItemNotification",{"LeftnavItemNotification--indent":t}),offsetParent:n,position:"top",target:s},i.createElement("p",{className:"LeftnavItemNotification__text"},e)):null}}rt.propTypes={children:o().node,indent:o().bool,target:o().oneOfType([o().instanceOf(Element),o().shape({current:o().instanceOf(Element)})]).isRequired},rt.defaultProps={children:void 0,indent:!1,target:void 0};class at extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onChange",(e=>{this.setState((t=>{const s=(0,nt.B)(e);return s!==t.isInvalid?{isInvalid:s}:null})),this.props.onChange(e)})),(0,n.Z)(this,"_onSubmit",(e=>{const{loading:t,onCancel:s,onSubmit:n,value:i}=this.props,{isInvalid:r}=this.state,a=i.trim();e.preventDefault(),r||t||(a&&a!==this._initialValue?n(a):s())})),this._initialValue=e.value,this._target=i.createRef(),this.state={isInvalid:!1}}componentWillUnmount(){this._initialValue=null,this._target=null}render(){const{bold:e,error:t,indent:s,loading:n,onCancel:r,value:a}=this.props,{isInvalid:o}=this.state;let l=o?nt.I:"";return t&&(l=t),i.createElement("form",{ref:this._target,className:R()("LeftnavListRow LeftnavListRenameItem",{"LeftnavListRenameItem--indent":s,"LeftnavListRenameItem--bold":e}),onSubmit:this._onSubmit},i.createElement(V.A,{className:"LeftnavListRenameItem__input",autoComplete:"off",autoFocus:!0,elementsAfter:n?i.createElement(it.J,{className:"LeftnavListRenameItem__loading",name:"icon-fx-loading",size:"xs"}):null,onBlur:r,onChange:this._onChange,onMouseDown:e=>{e.stopPropagation()},readOnly:n,value:a}),l&&i.createElement(rt,{indent:s,offsetParent:this._offsetParent,target:this._target},l))}}at.propTypes={bold:o().bool,error:o().string,indent:o().bool,loading:o().bool,onCancel:o().func.isRequired,onChange:o().func.isRequired,onSubmit:o().func.isRequired,value:o().string.isRequired},at.defaultProps={bold:!1,error:void 0,indent:!1,loading:!1};var ot=s(4425),lt=s(86044),ct=s(54274);const dt=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M7.143 4.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11Zm0 1a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Z"}),i.createElement("path",{d:"M12.857 4.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11Zm0 1a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Z"})))}));var ht=s(11505);const ut=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M13.425 2.364a4.604 4.604 0 0 0-3.022 1.355l-.438.441-.439-.44a4.598 4.598 0 0 0-6.532 0 4.665 4.665 0 0 0 0 6.566l6.616 6.66a.5.5 0 0 0 .71 0l6.616-6.66a4.658 4.658 0 0 0 1.352-3.283 4.658 4.658 0 0 0-1.352-3.284 4.602 4.602 0 0 0-3.266-1.362l-.245.007Z",fill:"currentColor"}))}));const pt=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M13.426 2.364a4.604 4.604 0 0 0-3.022 1.355l-.44.441-.437-.44a4.598 4.598 0 0 0-6.533 0 4.665 4.665 0 0 0 0 6.566l6.616 6.66a.5.5 0 0 0 .71 0l6.616-6.66a4.658 4.658 0 0 0 1.352-3.283 4.658 4.658 0 0 0-1.352-3.284 4.603 4.603 0 0 0-3.266-1.362l-.244.007Zm.244.993c.959 0 1.878.384 2.557 1.067a3.658 3.658 0 0 1 1.06 2.579c0 .967-.38 1.895-1.06 2.578l-6.262 6.303-6.261-6.303a3.665 3.665 0 0 1 0-5.157 3.598 3.598 0 0 1 5.113 0l.793.799a.5.5 0 0 0 .71 0l.793-.799a3.603 3.603 0 0 1 2.557-1.067Z",fill:"currentColor",fillRule:"nonzero"}))}));var mt=s(73215);function gt(e){let{streamId:t}=e;const{isFavorite:s,toggleFavorite:n,label:r}=(0,mt.$)(t);return i.createElement(N.s,{onClick:n},s?i.createElement(ut,{color:"accent"}):i.createElement(pt,{importance:"secondary"}),r)}gt.propTypes={streamId:o().string.isRequired};var ft=s(16581),yt=s(71824),vt=s(26211),bt=s.n(vt),Et=s(32285);class Ct extends i.Component{constructor(){super(),(0,n.Z)(this,"_onDocumentMouseDown",(()=>{document.removeEventListener("mousedown",this._onDocumentMouseDown),document.addEventListener("mouseup",this._onDocumentMouseUp)})),(0,n.Z)(this,"_onDocumentMouseUp",(()=>{this._isMouseDownInside?this._handleFocusTrap=window.setTimeout((()=>{this.setState({focusTrapIsActive:!0})}),1):this.props.onClose(),this._isMouseDownInside=!1})),(0,n.Z)(this,"_onMenuClick",(()=>{window.clearTimeout(this._handleFocusTrap),this._handleFocusTrap=null,this._handleClose=window.setTimeout(this.props.onClose,1)})),(0,n.Z)(this,"_onMouseDown",(()=>{this._isMouseDownInside=!0,this.setState({focusTrapIsActive:!1})})),(0,n.Z)(this,"_onWindowResize",(()=>{this.props.onClose()})),this._menu=i.createRef(),this.state={focusTrapIsActive:!0,opacity:0,offsetLeft:0,offsetTop:0}}componentDidMount(){this.shortcuts=streets.service("shortcuts"),this.shortcuts.claim(this,Et.PC.close),window.addEventListener("resize",this._onWindowResize),document.addEventListener("mousedown",this._onDocumentMouseDown),this._updateOffsets()}componentWillUnmount(){this.shortcuts.unclaim(this,Et.PC.close),this.shortcuts=null,window.clearTimeout(this._handleClose),window.clearTimeout(this._handleFocusTrap),this._handleClose=null,this._handleFocusTrap=null,window.removeEventListener("resize",this._onWindowResize),document.removeEventListener("mousedown",this._onDocumentMouseDown),document.removeEventListener("mouseup",this._onDocumentMouseUp),this._menu=null,this._isMouseDownInside=null}onShortcutKey(e){e===Et.PC.close&&this.props.onClose()}render(){const{children:e,pageX:t,pageY:s}=this.props,{focusTrapIsActive:n,offsetLeft:a,offsetTop:o,opacity:l}=this.state;return r.createPortal(i.createElement("div",{onClick:this._onMenuClick,onMouseDown:this._onMouseDown},i.createElement(bt(),{active:n,focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".menu--positioned",returnFocusOnDeactivate:!1}},i.createElement(T.v,{className:"menu--positioned",elementRef:this._menu,style:{left:t+a,opacity:l,position:"fixed",top:s+o},tabIndex:"-1"},e))),document.getElementById("reactPopoverHook"))}_updateOffsets(){const{pageX:e,pageY:t}=this.props,{innerHeight:s,innerWidth:n}=window,{offsetHeight:i,offsetWidth:r}=this._menu.current;this.setState({opacity:null,offsetLeft:n<e+r?-r:0,offsetTop:Math.min(0,s-t-i)})}}Ct.propTypes={children:o().node,onClose:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired},Ct.defaultProps={children:[]};class wt extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isAdmin:streets.hasAdminBusinessAccess()}),(0,n.Z)(this,"_onMarkAsReadClick",(async()=>{const{source:{id:e}}=this.props;try{this.signs.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(t){this.signs.setDefaultErrorMessage(t)}})),(0,n.Z)(this,"_onMoveToClick",(async()=>{const{source:e}=this.props,[t,s]=await Promise.all([this.personalcollections.askListCollections(),...streets.hasAdminBusinessAccess()?[this.enterprisecollections.askListCollections()]:[]]);this.slider.addSlide(ft.e,{initialCollections:t,initialFeeds:[e],initialTeamCollections:s})})),(0,n.Z)(this,"_onSeeSimilarSourcesClick",(()=>{const{source:e}=this.props;this.router.loadPage("discover/sources/search/leo/".concat(e.title))}))}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.router=streets.service("router"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.slider=streets.service("slider")}componentWillUnmount(){this.enterprisecollections=null,this.router=null,this.personalcollections=null,this.reader=null,this.signs=null,this.slider=null}render(){const{onCloseMenu:e,onRenameClick:t,onUnfollowClick:s,pageX:n,pageY:r,source:a,team:o}=this.props,{isAdmin:l}=this.state;return i.createElement(Ct,{onClose:e,pageX:n,pageY:r},i.createElement(N.s,{onClick:this._onMarkAsReadClick},i.createElement(ot.Z,{importance:"tertiary"}),"Mark as Read"),(!o||l)&&i.createElement(N.s,{onClick:t},i.createElement(lt.Z,{importance:"tertiary"}),"Rename"),i.createElement(gt,{streamId:a.id}),i.createElement(N.s,{onClick:this._onMoveToClick},i.createElement(ct.Z,{importance:"tertiary"}),"Move to..."),i.createElement(N.s,{onClick:this._onSeeSimilarSourcesClick},i.createElement(dt,{importance:"tertiary"}),"See Similar Feeds"),(!o||l)&&i.createElement(i.Fragment,null,i.createElement(yt.N,null),i.createElement(N.s,{danger:!0,onClick:s},i.createElement(ht.Z,{color:"danger"}),"Unfollow")," "))}}wt.propTypes={onCloseMenu:o().func.isRequired,onRenameClick:o().func.isRequired,onUnfollowClick:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,source:o().shape({id:o().string,title:o().string}).isRequired,team:o().bool},wt.defaultProps={team:!1};const kt="navigationMarkRead";class _t extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_getExpiredSourceType",(e=>{let t;return(0,$e.$O)(e)?t="webAlert":(0,$e.dB)(e)?t="newsletter":(0,et.iR)(e.id)&&(t="twitter"),t})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameLabelChange",(e=>{this.setState({renameLabel:e})})),(0,n.Z)(this,"_onRenameMenuClick",(()=>{const{feed:e}=this.props;this.setState({isRenaming:!0,renameLabel:e.title})})),(0,n.Z)(this,"_onRenameReset",(()=>{this.setState({isSavingRename:!1,renameLabel:null,isRenaming:!1,isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameSubmit",(async()=>{const{feed:e}=this.props,{renameLabel:t}=this.state;this.setState({isSavingRename:!0});try{await this.feeds.askRenameFeed(e.id,t),this._onRenameReset()}catch(s){streets.service("signs").setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onContextMenu",(e=>{const{altKey:t,clientX:s,clientY:n}=e;t||(e.preventDefault(),this.setState({isMenuOpen:!0,menuX:s,menuY:n}))})),(0,n.Z)(this,"_onFaviconError",(()=>{this.setState({faviconErrored:!0})})),(0,n.Z)(this,"_onUnfollowCancelClick",(()=>{this.setState({isUnfollowing:!1})})),(0,n.Z)(this,"_onUnfollowMenuClick",(()=>{this.setState({isUnfollowing:!0})})),this.preferences=streets.service("preferences"),this.state={faviconErrored:!1,isCountClickable:"yes"===this.preferences.getPreference(kt),isRenaming:!1,isSavingRename:!1,renameLabel:null,isUnfollowing:!1,isMenuOpen:!1}}componentDidMount(){this.feeds=streets.service("feeds"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.feeds=null,this.preferences=null}onPreferenceChanged(e){e===kt&&this.setState({isCountClickable:"yes"===this.preferences.getPreference(kt)})}render(){const{feed:e,hasExpiredProPlusPlan:t,isChild:s,frozen:n,draggableId:r,draggableIndex:a,selectedStreamId:o}=this.props,{isCountClickable:l,isSavingRename:c,menuX:d,menuY:h,isRenaming:u,renameLabel:p,isMenuOpen:m,faviconErrored:g,isUnfollowing:f}=this.state;if(u)return i.createElement(at,{key:e.id,indent:s,loading:c,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:p});const y=this._getExpiredSourceType(e),v=e.iconUrl||e.favicon,b=v&&!g?v:e.fallbackIconUrl,E=e.id===o,C=t&&y?i.createElement(Ze,{hasExpiredProPlusPlan:t,isChild:s,label:e.title,type:y,unreadCount:e.unreadCount}):i.createElement(De.O,{className:R()("LeftnavListRow",{"LeftnavListRow--child":s,"LeftnavListRow--selected":E}),onContextMenu:this._onContextMenu,title:e.title,uri:e.uri},b?i.createElement("img",{alt:"",className:R()("LeftnavListRow__favicon",{"LeftnavListRow__favicon--child":s}),src:b,onError:g?null:this._onFaviconError}):i.createElement(st.j,{alt:e.title,borderless:!0,className:R()("LeftnavListRow__favicon LeftnavListRow__favicon--placeholder",{"LeftnavListRow__favicon--child":s}),compact:!0,square:!0}),i.createElement(Oe,{tiny:!0}),i.createElement("span",{className:R()("LeftnavListRow__text",{"LeftnavListRow__text--child":s})},e.title),i.createElement(Re,{count:e.unreadCount,isCapped:e.isCapped,markAsReadId:l?e.id:void 0,markPageAsRead:E,ariaLabelTitle:e.title})),w=n?C:i.createElement(Ke._l,{draggableId:r,index:a,title:e.title},(e=>i.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),C)));return i.createElement(i.Fragment,null,w,m&&i.createElement(wt,{onCloseMenu:this._onCloseMenu,onRenameClick:this._onRenameMenuClick,onUnfollowClick:this._onUnfollowMenuClick,pageX:d,pageY:h,source:e}),f&&i.createElement(tt.o,{isModal:!0,onClose:this._onUnfollowCancelClick,streamId:e.id,streamLabel:e.title}))}}_t.propTypes={draggableId:o().string.isRequired,draggableIndex:o().number.isRequired,feed:o().object.isRequired,frozen:o().bool,hasExpiredProPlusPlan:o().bool.isRequired,isChild:o().bool,selectedStreamId:o().string},_t.defaultProps={frozen:!1,isChild:!1,selectedStreamId:void 0};var Mt=s(78684),St=s(65698),It=s(7761),Tt=s(2222),Nt=s(97090),Lt=s(29931),Pt=s(9648),Dt=s(30392),At=s(97);class Ot extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isAdmin:streets.hasAdminBusinessAccess()}),(0,n.Z)(this,"_onMarkAsRead",(async()=>{const{priority:e,onMarkAsRead:t}=this.props;t(e)})),(0,n.Z)(this,"_onActiveChange",(async e=>{const{priority:t}=this.props,{isEnterprise:s}=(0,Ie.Yg)(t.id),n=s?this.enterprisepriorities:this.personalpriorities;try{await n.askSave({...t,active:e}),streets.service("signs").showMessage("".concat(t.label," has been ").concat(e?"resumed":"paused","."))}catch(i){this._onUpdateError()}})),(0,n.Z)(this,"_onRefine",(()=>{const{priority:e}=this.props;this.slider.addSlide(At.c,{initialPriority:e})})),(0,n.Z)(this,"_onUpdateError",(()=>{const{priority:e}=this.props;this.signs.showMessage("There was an error when trying to update ".concat(e.label,"."))}))}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.slider=streets.service("slider")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this.reader=null,this.signs=null,this.slider=null}render(){const{isAdmin:e}=this.state,{onCloseMenu:t,onDeleteClick:s,onRenameClick:n,pageX:r,pageY:a,priority:o,team:l}=this.props;return i.createElement(Ct,{onClose:t,pageX:r,pageY:a},i.createElement(N.s,{onClick:this._onMarkAsRead},i.createElement(ot.Z,{importance:"tertiary"}),"Mark as Read"),(!l||e)&&i.createElement(N.s,{onClick:n},i.createElement(lt.Z,{importance:"tertiary"}),"Rename"),i.createElement(gt,{streamId:o.id}),(!l||e)&&i.createElement(i.Fragment,null,i.createElement(N.s,{onClick:this._onRefine},i.createElement(be.Z,{importance:"tertiary"}),"Refine"),o.active?i.createElement(N.s,{onClick:()=>{this._onActiveChange(!1)}},i.createElement(Pt.Z,{importance:"tertiary"}),"Pause"):i.createElement(N.s,{onClick:()=>{this._onActiveChange(!0)}},i.createElement(Dt.Z,{importance:"tertiary"}),"Resume"),i.createElement(yt.N,null),i.createElement(N.s,{danger:!0,onClick:s},i.createElement(ht.Z,{color:"danger"}),"Delete")))}}Ot.propTypes={onCloseMenu:o().func.isRequired,onDeleteClick:o().func.isRequired,onRenameClick:o().func.isRequired,onMarkAsRead:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,priority:o().shape({active:o().bool,id:o().string,label:o().string}).isRequired,team:o().bool},Ot.defaultProps={team:!1};class xt extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isMenuOpen:!1})})),(0,n.Z)(this,"_onDeleteCancelClick",(()=>{this.setState({isDeleting:!1})})),(0,n.Z)(this,"_onDeleteConfirmClick",(async()=>{const{priority:{id:e,label:t}}=this.props,{isEnterprise:s}=(0,Ie.Yg)(e),n=s?this.enterprisepriorities:this.personalpriorities;this.setState({isDeleting:!1});try{await n.askDelete(e),this.signs.showMessage("".concat(t," has been deleted."))}catch(i){this.signs.showMessage("There was an error trying to delete ".concat(t,"."))}})),(0,n.Z)(this,"_onDeleteMenuClick",(()=>{this.setState({isDeleting:!0})})),(0,n.Z)(this,"_onMarkAsRead",(async e=>{const{selectedStreamId:t}=this.props;try{this.signs.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e.id,{}),e.id===t&&this.router.reloadPage()}catch(s){this.signs.setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onRenameLabelChange",(e=>{this.setState({renameLabel:e})})),(0,n.Z)(this,"_onRenameMenuClick",(()=>{const{priority:e}=this.props;this.setState({isRenaming:!0,renameLabel:e.label})})),(0,n.Z)(this,"_onRenameReset",(()=>{this.setState({isSavingRename:!1,renameLabel:null,isRenaming:!1,isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameSubmit",(async()=>{const{priority:e}=this.props,{renameLabel:t}=this.state,{isEnterprise:s}=(0,Ie.Yg)(e.id),n=s?this.enterprisepriorities:this.personalpriorities;this.setState({isSavingRename:!0});try{await n.askSave({...e,label:t}),this._onRenameReset()}catch(i){this.signs.setDefaultErrorMessage(i)}})),(0,n.Z)(this,"_onRightClick",((e,t)=>{this.setState({isMenuOpen:!0,menuX:e,menuY:t})})),this.state={isRenaming:!1,isSavingRename:!1,renameLabel:null,isDeleting:!1,isMenuOpen:!1}}componentDidMount(){this.enterprisepriorities=streets.service("enterprisepriorities"),this.personalpriorities=streets.service("personalpriorities"),this.reader=streets.service("reader"),this.router=streets.service("router"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisepriorities=null,this.personalpriorities=null,this.reader=null,this.router=null}render(){const{countByLabel:e,hasExpiredProPlusPlan:t,selectedStreamId:s,priority:n,draggableId:r,draggableIndex:a}=this.props,{isSavingRename:o,isRenaming:l,renameLabel:c,isDeleting:d,isMenuOpen:h,menuX:u,menuY:p}=this.state,{label:m,layers:g,streamLabel:f,id:y}=n,v=!!n.unreadCount;if(l)return i.createElement(at,{bold:v,loading:o,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:c});let b,E;const C=e[m]>1?" in ".concat(f):"",w=R()("LeftnavListRow__meta",{"LeftnavListRow__meta--disabled":t});if((0,Tt.kk)(n)){const e=(0,St.FW)(g[0])===It.ur.likeBoard?"like ":"topic ";b=i.createElement(i.Fragment,null,i.createElement("span",{className:w},e),m),E="".concat(e,": ").concat(m).concat(C)}else b=m,E=m;const k=i.createElement(i.Fragment,null,b,C&&i.createElement("span",{className:w},C));return i.createElement(i.Fragment,null,i.createElement(Ke._l,{draggableId:r,index:a},(e=>i.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),t?i.createElement(Ze,{bold:!0,hasExpiredProPlusPlan:t,label:k,type:"priority",unreadCount:n.unreadCount}):i.createElement(je,{bold:v,iconComponent:Mt.Z,isCapped:n.isCapped,linkUri:n.uri,markAsReadId:y,onRightClick:this._onRightClick,selected:y===s,title:E,unreadCount:n.unreadCount},k)))),h&&i.createElement(Ot,{onCloseMenu:this._onCloseMenu,onDeleteClick:this._onDeleteMenuClick,onRenameClick:this._onRenameMenuClick,onMarkAsRead:this._onMarkAsRead,pageX:u,pageY:p,priority:n,team:(0,Ie.Yg)(y).isEnterprise}),d&&this._renderDeleteConfirmModal())}_renderDeleteConfirmModal(){const{priority:{createdBy:e,id:t,label:s,streamLabels:n},usernames:r}=this.props,{isEnterprise:a}=(0,Ie.Yg)(t);return i.createElement(Lt.b,{collectionLabel:n[0],createdByName:r[e],isCreatedByMe:streets.getUserId()===e,isEnterprise:a,onCancel:this._onDeleteCancelClick,onConfirm:this._onDeleteConfirmClick,priorityLabel:s})}}xt.propTypes={countByLabel:o().object.isRequired,draggableId:o().string.isRequired,draggableIndex:o().number.isRequired,hasExpiredProPlusPlan:o().bool.isRequired,priority:Nt.tm.isRequired,selectedStreamId:o().string,usernames:o().object.isRequired},xt.defaultProps={selectedStreamId:null};var Rt=s(11245),jt=s(68620);const Ft=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M7.5 2.357a3.357 3.357 0 1 0 0 6.714 3.357 3.357 0 0 0 0-6.714Zm0 1a2.357 2.357 0 1 1 0 4.714 2.357 2.357 0 0 1 0-4.714ZM7.5 10.929a5.857 5.857 0 0 1 5.857 5.857.5.5 0 1 1-1 0 4.857 4.857 0 0 0-9.714 0 .5.5 0 1 1-1 0A5.857 5.857 0 0 1 7.5 10.929ZM11.786 2.357a3.357 3.357 0 0 1 0 6.714.5.5 0 1 1 0-1 2.357 2.357 0 1 0 0-4.714.5.5 0 0 1 0-1ZM13.813 11.267a.5.5 0 0 1 .634-.312c2.502.856 3.91 2.831 3.91 5.83a.5.5 0 1 1-1 0c0-2.572-1.136-4.166-3.233-4.883a.5.5 0 0 1-.311-.635Z"})))}));const Ut=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M7.5 2.357a3.357 3.357 0 1 0 0 6.714 3.357 3.357 0 0 0 0-6.714Zm0 1a2.357 2.357 0 1 1 0 4.714 2.357 2.357 0 0 1 0-4.714ZM11.786 2.357a3.357 3.357 0 0 1 0 6.714.5.5 0 1 1 0-1 2.357 2.357 0 1 0 0-4.714.5.5 0 0 1 0-1ZM13.813 11.267a.5.5 0 0 1 .634-.312c2.502.856 3.91 2.831 3.91 5.83a.5.5 0 1 1-1 0c0-2.572-1.136-4.166-3.233-4.883a.5.5 0 0 1-.311-.635ZM8.813 11.267a.5.5 0 0 1 .634-.312c2.502.856 3.91 2.831 3.91 5.83a.5.5 0 1 1-1 0c0-2.572-1.136-4.166-3.233-4.883a.5.5 0 0 1-.311-.635ZM2.143 10.929a.5.5 0 0 1 .5.5c0 1.97 1.669 3.632 3.733 3.776l.244.01 1.261-.001a.5.5 0 0 1 .09.992l-.09.008H6.555c-2.686-.058-4.912-2.193-4.912-4.785a.5.5 0 0 1 .5-.5Z"}),i.createElement("path",{d:"M6.064 13.614a.5.5 0 0 1 .635-.078l.072.055 1.904 1.786a.5.5 0 0 1 .063.659l-.063.07-1.904 1.786a.5.5 0 0 1-.744-.662l.06-.067 1.515-1.422-1.515-1.42a.5.5 0 0 1-.079-.636l.056-.07Z"})))}));var zt=s(77496),Zt=s(15238),Bt=s(37125),Ht=s(17344),Yt=s(86990);const Wt="general",qt="members";class Vt extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isAdmin:streets.hasAdminBusinessAccess()}),(0,n.Z)(this,"_onArchiveClick",(()=>{this.props.onArchiveClick(this.props.board)})),(0,n.Z)(this,"_onCopyToTeam",(()=>{const{board:e}=this.props;this.slider.addSlide(Bt.v,{initialLabel:e.label,initialTagToImport:e,onDone:(t,s)=>{let{id:n}=s;e&&e.id&&this.router.loadPage("board/content/".concat(n))}})})),(0,n.Z)(this,"_onDeleteClick",(()=>{this.props.onDeleteClick(this.props.board)})),(0,n.Z)(this,"_onGeneralSettings",(()=>{const{board:e,team:t}=this.props,s=t?Ht.v:Yt.q;this.slider.addSlide(s,{defaultTab:Wt,streamInfo:e})})),(0,n.Z)(this,"_onMarkAsRead",(async()=>{const{board:{id:e}}=this.props,t=streets.service("signs");try{t.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(s){t.setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onMemberSettings",(()=>{const{board:e}=this.props;this.slider.addSlide(Ht.v,{defaultTab:qt,streamInfo:e})}))}componentDidMount(){this.router=streets.service("router"),this.reader=streets.service("reader"),this.slider=streets.service("slider")}componentWillUnmount(){this.router=null,this.reader=null,this.slider=null}render(){const{isAdmin:e}=this.state,{board:t,onCloseMenu:s,onRenameClick:n,pageX:r,pageY:a,team:o}=this.props;let l;const{isGlobal:c,isGlobalEnterprise:d}=(0,Ie.Yg)(t.id);return o&&(l=i.createElement(N.s,{onClick:this._onMarkAsRead},i.createElement(ot.Z,{importance:"tertiary"}),"Mark as read"),d)?i.createElement(Ct,{onClose:s,pageX:r,pageY:a},l):i.createElement(Ct,{onClose:s,pageX:r,pageY:a},l,(!o||e)&&i.createElement(N.s,{onClick:n},i.createElement(lt.Z,{importance:"tertiary"}),"Rename"),!c&&i.createElement(gt,{streamId:t.id}),e&&(o?i.createElement(N.s,{onClick:this._onMemberSettings},i.createElement(Ft,{importance:"tertiary"}),"View Members"):i.createElement(N.s,{onClick:this._onCopyToTeam},i.createElement(Ut,{importance:"tertiary"}),"Copy to Team")),(!o||e)&&i.createElement(N.s,{onClick:this._onGeneralSettings},i.createElement(Ye.Z,{importance:"tertiary"}),"Settings"),this._renderBottomItems())}_renderBottomItems(){const{isAdmin:e}=this.state,{team:t}=this.props;return t&&e?[i.createElement(N.s,{key:"unfollow",onClick:this._onDeleteClick},i.createElement(zt.Z,{importance:"tertiary"}),"Unfollow"),i.createElement(yt.N,{key:"divider"}),i.createElement(N.s,{key:"archive",danger:!0,onClick:this._onArchiveClick},i.createElement(Zt.Z,{color:"danger"}),"Archive")]:[i.createElement(yt.N,{key:"divider"}),i.createElement(N.s,{key:"unfollow",danger:!0,onClick:this._onDeleteClick},i.createElement(ht.Z,{color:"danger"}),t?"Unfollow":"Delete")]}}Vt.propTypes={board:o().shape({id:o().string,label:o().string,users:o().array}).isRequired,onArchiveClick:o().func,onCloseMenu:o().func.isRequired,onDeleteClick:o().func.isRequired,onRenameClick:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,team:o().bool},Vt.defaultProps={onArchiveClick:()=>{},team:!1};class Qt extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isMenuOpen:!1})})),(0,n.Z)(this,"_onDeleteCancelClick",(()=>{this.setState({isDeleting:!1})})),(0,n.Z)(this,"_onDeleteConfirmClick",(async()=>{const{board:{id:e,label:t}}=this.props,{selectedStreamId:s}=this.props,n=streets.service("signs");this.setState({isDeleting:!1});try{await this.personaltags.askDeleteTag(e),n.showMessage("".concat(t," has been deleted.")),e===s&&streets.service("router").loadMyPage()}catch(i){n.showMessage("There was an error trying to delete ".concat(t,"."))}})),(0,n.Z)(this,"_onDeleteMenuClick",(()=>{this.setState({isDeleting:!0})})),(0,n.Z)(this,"_onRenameLabelChange",(e=>{this.setState({renameLabel:e})})),(0,n.Z)(this,"_onRenameMenuClick",(()=>{const{board:e}=this.props;this.setState({isRenaming:!0,renameLabel:e.label})})),(0,n.Z)(this,"_onRenameReset",(()=>{this.setState({isSavingRename:!1,renameLabel:null,isRenaming:!1,isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameSubmit",(async()=>{const{board:e}=this.props,{renameLabel:t}=this.state;this.setState({isSavingRename:!0});try{await this.personaltags.askSave({...e,label:t}),this._onRenameReset()}catch(s){streets.service("signs").setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onRightClick",((e,t)=>{this.setState({isMenuOpen:!0,menuX:e,menuY:t})})),this.state={isRenaming:!1,isSavingRename:!1,renameLabel:null,isDeleting:!1,isMenuOpen:!1}}componentDidMount(){this.personaltags=streets.service("personaltags")}componentWillUnmount(){this.personaltags=null}render(){const{selectedStreamId:e,board:t,draggableId:s,draggableIndex:n}=this.props,{isSavingRename:r,isRenaming:a,renameLabel:o,isDeleting:l,isMenuOpen:c,menuX:d,menuY:h}=this.state,u=t.id,p=!!t.unreadCount;return a?i.createElement(at,{bold:p,loading:r,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:o}):i.createElement(i.Fragment,null,i.createElement(Ke._l,{draggableId:s,index:n},(s=>i.createElement("div",Object.assign({id:u,ref:s.innerRef},s.draggableProps,s.dragHandleProps),i.createElement(je,{bold:p,iconComponent:Rt.Z,linkUri:t.uri,onRightClick:this._onRightClick,selected:t.id===e,title:t.label,isCapped:t.isCapped,unreadCount:t.unreadCount})))),c&&i.createElement(Vt,{board:t,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onDeleteMenuClick,onRenameClick:this._onRenameMenuClick,pageX:d,pageY:h}),l&&this._renderDeleteConfirmModal())}_renderDeleteConfirmModal(){return i.createElement(jt.c,{title:"Delete board",danger:!0,description:"Are you sure you want to delete this board? This operation cannot be undone.",onSuccess:this._onDeleteConfirmClick,successLabel:"Delete",onCancel:this._onDeleteCancelClick,cancelLabel:"No, keep this board"})}}Qt.propTypes={board:o().object.isRequired,draggableId:o().string.isRequired,draggableIndex:o().number.isRequired,selectedStreamId:o().string},Qt.defaultProps={selectedStreamId:null};var Gt=s(24443),Kt=s.n(Gt),Jt=s(1816),Xt=s(85251);class $t extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onContextMenu",(e=>{const{altKey:t,clientX:s,clientY:n}=e,{onRightClick:i}=this.props;!t&&i&&(e.preventDefault(),i(s,n))}))}render(){const{bold:e,children:t,expandableId:s,hasCappedFeed:n,iconComponent:r,linkUri:a,markAsReadId:o,selected:l,expanded:c,title:d,unreadCount:h}=this.props;return i.createElement(i.Fragment,null,i.createElement("div",{onClick:()=>{streets.service("router").loadPage(a)},onContextMenu:this._onContextMenu,title:d,className:R()("LeftnavListRow",{"LeftnavListRow--selected":l})},i.createElement(j.z,{"aria-label":"".concat(c?"Hide":"Show"," Sources for ").concat(d),className:"LeftnavListRow__expand-button",icon:i.createElement(r,{className:R()("LeftnavListRow__icon",{"LeftnavListRow__icon--open":c}),color:l?"accent":"black",importance:l?"primary":"tertiary"}),importance:"tertiary",onClick:e=>{e.stopPropagation(),streets.service("preferences").setPreference(s,c?"hide":"show")}}),i.createElement(Oe,null),i.createElement(De.O,{className:R()("LeftnavListRow__text",{"LeftnavListRow__text--bold":e}),uri:a,onClick:e=>{e.stopPropagation()}},d),i.createElement(Re,{count:h,isCapped:n,markAsReadId:o,markPageAsRead:l,ariaLabelTitle:d})),c&&t)}}$t.propTypes={bold:o().bool,children:o().node,expandableId:o().string.isRequired,expanded:o().bool,hasCappedFeed:o().bool,iconComponent:o().elementType.isRequired,linkUri:o().string.isRequired,markAsReadId:o().string,onRightClick:o().func,selected:o().bool,title:o().string.isRequired,unreadCount:o().number},$t.defaultProps={bold:!1,children:null,expanded:!1,hasCappedFeed:!1,markAsReadId:void 0,onRightClick:void 0,selected:!1,unreadCount:null};const es={emptyCategories:"emptyCategories",navigationMarkRead:"navigationMarkRead"};class ts extends i.PureComponent{static getDerivedStateFromProps(e,t){const{feedIdMovingFromCollection:s,feedMovingToCollection:n}=t,i=n?n.id:null;return i&&e.feeds.find((e=>{let{id:t}=e;return t===i}))?{feedMovingToCollection:null}:s&&!e.feeds.find((e=>{let{id:t}=e;return t===s}))?{feedIdMovingFromCollection:null}:null}constructor(e){super(e),(0,n.Z)(this,"_renderFeed",((e,t)=>{const{id:s,selectedStreamId:n,frozen:r}=this.props,{feedMovingToCollection:a,hasExpiredProPlusPlan:o}=this.state;return i.createElement(_t,{key:e.id,draggableId:JSON.stringify({feedId:e.id,collectionId:s}),draggableIndex:t,feed:e,frozen:(null==a?void 0:a.id)===e.id||r,hasExpiredProPlusPlan:o,selectedStreamId:n,isChild:!0})})),(0,n.Z)(this,"_sortFeeds",(()=>{let{feeds:e}=this.props;const{feedIdMovingFromCollection:t,feedMovingToCollection:s}=this.state;return s&&(e=[...e,s]),e=(0,Xt.yR)(e),e.reduce(((e,s)=>{if(s.id!==t){(s.unreadCount>0?e.unreadFeeds:e.emptyFeeds).push(s)}return e}),{emptyFeeds:[],unreadFeeds:[]})})),(0,n.Z)(this,"_filterCollection",(e=>{const{preferences:t}=this.state;return!("show"!==t.emptyCategories&&!e)})),(0,n.Z)(this,"_hasCappedFeed",(()=>{const{feeds:e}=this.props;return e.some((e=>e.isCapped))})),(0,n.Z)(this,"_onShowEmptyFeedListClick",(()=>{this.setState({showEmptyFeedList:!0})})),this.preferences=streets.service("preferences"),this.profile=streets.service("profile"),this.state={expanded:"show"===this.preferences.getPreference(e.expandableId),feedIdMovingFromCollection:null,feedMovingToCollection:null,hasExpiredProPlusPlan:this.profile.hasExpiredProPlusPlan(),isCountClickable:"yes"===this.preferences.getPreference(es.navigationMarkRead),preferences:this.preferences.getPreferences([es.emptyCategories]),showEmptyFeedList:!1}}componentDidMount(){this.leftnav=streets.service("leftnav"),this.leftnav.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this)}componentWillUnmount(){this.leftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.leftnav=null,this.preferences=null,this.profile=null}onPreferenceChanged(e){const{expandableId:t}=this.props;(es[e]||e===t)&&this.setState({expanded:"show"===this.preferences.getPreference(t),isCountClickable:"yes"===this.preferences.getPreference(es.navigationMarkRead),preferences:this.preferences.getPreferences([es.emptyCategories])})}onProfileUpgraded(){this.setState({hasExpiredProPlusPlan:this.profile.hasExpiredProPlusPlan()})}onShowFeedDragDropPlaceholders(e,t,s){const{id:n}=this.props;s===n?this.setState({feedMovingToCollection:e}):t===n&&this.setState({feedIdMovingFromCollection:e.id})}onHideFeedDragDropPlaceholders(e,t,s){const{id:n}=this.props;s===n?this.setState({feedMovingToCollection:null}):t===n&&this.setState({feedIdMovingFromCollection:null})}render(){const{id:e,unreadCount:t,frozen:s}=this.props;return this._filterCollection(t)?s?this._renderExpandable():i.createElement(Ke.bK,{droppableId:e,type:Je.feeds},(e=>i.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),this._renderExpandable(e)))):null}_renderExpandable(e){const{expandableId:t,isDragging:s,isPlaceholder:n,id:r,label:a,onRightClick:o,selectedStreamId:l,unreadCount:c,uri:d}=this.props,{isCountClickable:h}=this.state;let{expanded:u}=this.state;return n&&(u=!1),i.createElement($t,{bold:!!c,expandableId:t,expanded:u,hasCappedFeed:this._hasCappedFeed(),iconComponent:Jt.Z,linkUri:d,markAsReadId:h?r:void 0,onRightClick:o,selected:r===l,title:a,unreadCount:c},this._renderFeedList(null==e?void 0:e.placeholder))}_renderFeedList(e){const{showEmptyFeedList:t}=this.state,{emptyFeeds:s,unreadFeeds:n}=this._sortFeeds();return t||0===n.length?i.createElement(i.Fragment,null,[...n,...s].map(((e,t)=>this._renderFeed(e,t))),e):i.createElement(i.Fragment,null,n.map(((e,t)=>this._renderFeed(e,t))),e,s.length>0&&i.createElement(xe.E,{key:"more",className:"LeftnavListRow LeftnavListRow--link",importance:"tertiary",onClick:this._onShowEmptyFeedListClick},Kt()("more source",s.length,!0)))}}ts.propTypes={expandableId:o().string.isRequired,feeds:o().arrayOf(o().object),frozen:o().bool,id:o().string,isDragging:o().bool,isPlaceholder:o().bool,label:o().string,onRightClick:o().func.isRequired,selectedStreamId:o().string,unreadCount:o().number,uri:o().string.isRequired},ts.defaultProps={feeds:[],frozen:!1,id:null,isDragging:!1,isPlaceholder:!1,label:null,selectedStreamId:null,unreadCount:null};var ss=s(39908),ns=s(81464),is=s(73019),rs=s(29650),as=s(7486);const os="feeds",ls="general",cs="members";class ds extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isAdmin:streets.hasAdminBusinessAccess()}),(0,n.Z)(this,"_onArchiveClick",(()=>{this.props.onArchiveClick(this.props.collection)})),(0,n.Z)(this,"_onCopyToTeam",(()=>{const{collection:e}=this.props;this.slider.addSlide(is.h,{initialLabel:e.label,initialCollectionToImport:e,onDone:(e,t)=>{let{id:s}=t;s&&this.router.loadPage("collection/content/".concat(s))}})})),(0,n.Z)(this,"_onDeleteClick",(()=>{this.props.onDeleteClick(this.props.collection)})),(0,n.Z)(this,"_onFeedSettings",(()=>{this._showSettingsForm(os)})),(0,n.Z)(this,"_onGeneralSettings",(()=>{this._showSettingsForm(ls)})),(0,n.Z)(this,"_onMemberSettings",(()=>{this._showSettingsForm(cs)})),(0,n.Z)(this,"_onMarkAsRead",(async()=>{const{collection:{id:e}}=this.props;try{this.signs.showMessage("Marking as read..."),await this.reader.askMarkStreamAsRead(e,{})}catch(t){streets.service("signs").setDefaultErrorMessage(t)}})),(0,n.Z)(this,"_showSettingsForm",(e=>{const{collection:t,team:s}=this.props,n=s?rs.K:as.Y;this.slider.addSlide(n,{defaultTab:e,streamInfo:t})}))}componentDidMount(){this.router=streets.service("router"),this.reader=streets.service("reader"),this.signs=streets.service("signs"),this.slider=streets.service("slider")}componentWillUnmount(){this.router=null,this.reader=null,this.signs=null,this.slider=null}render(){const{isAdmin:e}=this.state,{collection:t,onCloseMenu:s,onRenameClick:n,pageX:r,pageY:a,team:o}=this.props,l=i.createElement(N.s,{onClick:this._onMarkAsRead},i.createElement(ot.Z,{importance:"tertiary"}),"Mark as Read"),{isAll:c,isGlobal:d,isGlobalEnterprise:h}=(0,Ie.Yg)(t.id);return c||h?i.createElement(Ct,{onClose:s,pageX:r,pageY:a},l):i.createElement(Ct,{onClose:s,pageX:r,pageY:a},l,(!o||e)&&!d&&i.createElement(N.s,{onClick:n},i.createElement(lt.Z,{importance:"tertiary"}),"Rename"),!d&&i.createElement(gt,{streamId:t.id}),(!o||e)&&i.createElement(N.s,{onClick:this._onFeedSettings},i.createElement(ss.Z,{importance:"tertiary"}),"Manage Feeds"),e&&(o?i.createElement(N.s,{onClick:this._onMemberSettings},i.createElement(Ft,{importance:"tertiary"}),"View Members"):i.createElement(N.s,{onClick:this._onCopyToTeam},i.createElement(Ut,{importance:"tertiary"}),"Copy to Team")),(!o||e)&&i.createElement(N.s,{onClick:this._onGeneralSettings},i.createElement(Ye.Z,{importance:"tertiary"}),"Settings"),this._renderBottomItems())}_renderBottomItems(){const{collection:e,team:t}=this.props,{isAdmin:s}=this.state,{isGlobal:n}=(0,Ie.Yg)(e.id);return n?null:t&&s?[i.createElement(N.s,{key:"unfollow",onClick:this._onDeleteClick},i.createElement(ns.Z,{importance:"tertiary"}),"Unfollow"),i.createElement(yt.N,{key:"divider"}),i.createElement(N.s,{key:"archive",danger:!0,onClick:this._onArchiveClick},i.createElement(Zt.Z,{color:"danger"}),"Archive")]:[i.createElement(yt.N,{key:"divider"}),i.createElement(N.s,{key:"unfollow",danger:!0,onClick:this._onDeleteClick},i.createElement(ht.Z,{color:"danger"}),t?"Unfollow":"Delete")]}}ds.propTypes={collection:o().shape({id:o().string,label:o().string,users:o().array}).isRequired,onArchiveClick:o().func,onCloseMenu:o().func.isRequired,onDeleteClick:o().func.isRequired,onRenameClick:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,team:o().bool},ds.defaultProps={onArchiveClick:()=>{},team:!1};class hs extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isMenuOpen:!1})})),(0,n.Z)(this,"_onDeleteCancelClick",(()=>{this.setState({isDeleting:!1})})),(0,n.Z)(this,"_onDeleteConfirmClick",(async()=>{const{collection:{id:e,label:t}}=this.props,{selectedStreamId:s}=this.props,n=streets.service("signs");this.setState({isDeleting:!1});try{await this.personalcollections.askDeleteCollection(e),n.showMessage("".concat(t," has been deleted.")),e===s&&streets.service("router").loadMyPage()}catch(i){n.showMessage("There was an error trying to delete ".concat(t,"."))}})),(0,n.Z)(this,"_onDeleteMenuClick",(()=>{this.setState({isDeleting:!0})})),(0,n.Z)(this,"_onRenameLabelChange",(e=>{this.setState({renameLabel:e})})),(0,n.Z)(this,"_onRenameMenuClick",(()=>{const{collection:e}=this.props;this.setState({isRenaming:!0,renameLabel:e.label})})),(0,n.Z)(this,"_onRenameReset",(()=>{this.setState({isSavingRename:!1,renameLabel:null,isRenaming:!1,isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameSubmit",(async()=>{const{collection:e}=this.props,{renameLabel:t}=this.state;this.setState({isSavingRename:!0});try{await this.personalcollections.askSave({...e,label:t}),this._onRenameReset()}catch(s){streets.service("signs").setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onRightClick",((e,t)=>{this.setState({isMenuOpen:!0,menuX:e,menuY:t})})),this.state={isRenaming:!1,isSavingRename:!1,renameLabel:null,isDeleting:!1,isMenuOpen:!1}}componentDidMount(){this.personalcollections=streets.service("personalcollections")}componentWillUnmount(){this.personalcollections=null}render(){const{selectedStreamId:e,collection:t,draggableId:s,draggableIndex:n,frozen:r}=this.props,{isSavingRename:a,isRenaming:o,renameLabel:l,isDeleting:c,isMenuOpen:d,menuX:h,menuY:u}=this.state,p=t.id,m=!!t.unreadCount;if(o)return i.createElement(at,{bold:m,loading:a,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:l});const g=t.isPlaceholder;return i.createElement(i.Fragment,null,i.createElement(Ke._l,{draggableId:s,index:n,isDragDisabled:g},((n,a)=>i.createElement("div",Object.assign({id:p,ref:n.innerRef},n.draggableProps,n.dragHandleProps),i.createElement(ts,{expandableId:s,isDragging:a.isDragging,isPlaceholder:t.isPlaceholder,id:p,feeds:t.feeds,label:t.label,onRightClick:this._onRightClick,selectedStreamId:e,unreadCount:t.unreadCount,uri:t.uri,frozen:r})))),d&&i.createElement(ds,{collection:t,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onDeleteMenuClick,onRenameClick:this._onRenameMenuClick,pageX:h,pageY:u}),c&&this._renderDeleteConfirmModal())}_renderDeleteConfirmModal(){const{collection:{label:e}}=this.props;return i.createElement(jt.c,{title:"Delete ".concat(e," Folder"),danger:!0,description:"Are you sure you want to delete folder? This operation cannot be undone.",onSuccess:this._onDeleteConfirmClick,successLabel:"Delete",onCancel:this._onDeleteCancelClick,cancelLabel:"No, keep this folder"})}}hs.propTypes={collection:o().object.isRequired,draggableId:o().string.isRequired,draggableIndex:o().number.isRequired,frozen:o().bool,selectedStreamId:o().string},hs.defaultProps={frozen:!1,selectedStreamId:null};var us=s(56877);class ps extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onArchiveClick",(()=>{this.setState({isArchiving:!0})})),(0,n.Z)(this,"_onCloseArchiveModal",(()=>{this.setState({isArchiving:!1})})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameLabelChange",(e=>{this.setState({renameLabel:e})})),(0,n.Z)(this,"_onRenameMenuClick",(()=>{const{board:e}=this.props;this.setState({isRenaming:!0,renameLabel:e.label})})),(0,n.Z)(this,"_onRenameReset",(()=>{this.setState({isSavingRename:!1,renameLabel:null,isRenaming:!1,isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameSubmit",(async()=>{const{board:e}=this.props,{renameLabel:t}=this.state;this.setState({isSavingRename:!0});try{await this.enterprisetags.askSave({...e,label:t}),this._onRenameReset()}catch(s){this.signs.setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onRightClick",((e,t)=>{this.setState({isMenuOpen:!0,menuX:e,menuY:t})})),(0,n.Z)(this,"_onUnfollowCancelClick",(()=>{this.setState({isUnfollowing:!1})})),(0,n.Z)(this,"_onUnfollowConfirmClick",(async()=>{const{board:{id:e,label:t}}=this.props,{selectedStreamId:s}=this.props;this.setState({isUnfollowing:!1});try{await this.enterprisetags.askUnsubscribeTag(e),this.signs.showMessage("".concat(t," has been unfollowed.")),e===s&&streets.service("router").loadMyPage()}catch(n){this.signs.showError("There was an error trying to unfollow ".concat(t))}})),(0,n.Z)(this,"_onUnfollowMenuClick",(()=>{this.setState({isUnfollowing:!0})})),this.state={isRenaming:!1,isSavingRename:!1,renameLabel:null,isUnfollowing:!1,isArchiving:!1,isMenuOpen:!1}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisetags=null,this.signs=null}render(){const{selectedStreamId:e,board:t,draggableId:s,draggableIndex:n}=this.props,{isSavingRename:r,isRenaming:a,renameLabel:o,isUnfollowing:l,isArchiving:c,isMenuOpen:d,menuX:h,menuY:u}=this.state,p=t.id,m=!!t.unreadCount;return a?i.createElement(at,{bold:m,loading:r,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:o}):i.createElement(i.Fragment,null,i.createElement(Ke._l,{draggableId:s,index:n},(s=>i.createElement("div",Object.assign({id:p,ref:s.innerRef},s.draggableProps,s.dragHandleProps),i.createElement(je,{bold:m,iconComponent:Rt.Z,linkUri:t.uri,onRightClick:this._onRightClick,selected:t.id===e,title:t.label,isCapped:t.isCapped,unreadCount:t.unreadCount})))),d&&i.createElement(Vt,{board:t,onArchiveClick:this._onArchiveClick,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onUnfollowMenuClick,onRenameClick:this._onRenameMenuClick,pageX:h,pageY:u,team:!0}),c&&i.createElement(us.l,{board:t,onClose:this._onCloseArchiveModal}),l&&this._renderUnfollowConfirmModal())}_renderUnfollowConfirmModal(){return i.createElement(jt.c,{title:"Unfollow board",danger:!0,description:"Are you sure you want to unfollow this board?",onSuccess:this._onUnfollowConfirmClick,successLabel:"Unfollow",onCancel:this._onUnfollowCancelClick,cancelLabel:"No, keep following this board"})}}ps.propTypes={board:o().object.isRequired,draggableId:o().string.isRequired,draggableIndex:o().number.isRequired,selectedStreamId:o().string},ps.defaultProps={selectedStreamId:null};var ms=s(91729);class gs extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onArchiveClick",(()=>{this.setState({isArchiving:!0})})),(0,n.Z)(this,"_onCloseArchiveModal",(()=>{this.setState({isArchiving:!1})})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameLabelChange",(e=>{this.setState({renameLabel:e})})),(0,n.Z)(this,"_onRenameMenuClick",(()=>{const{collection:e}=this.props;this.setState({isRenaming:!0,renameLabel:e.label})})),(0,n.Z)(this,"_onRenameReset",(()=>{this.setState({isSavingRename:!1,renameLabel:null,renameError:null,isRenaming:!1,isMenuOpen:!1})})),(0,n.Z)(this,"_onRenameErrorReset",(()=>{this.setState({renameError:null})})),(0,n.Z)(this,"_onRenameSubmit",(async()=>{const{collection:e}=this.props,{renameLabel:t}=this.state;this.setState({isSavingRename:!0});try{await this.enterprisecollections.askSave({...e,label:t}),this._onRenameReset()}catch(s){const{errorMessage:e}=s;e&&e.includes("duplicate label")?this.setState({renameError:'The name "'.concat(t,'" is already taken.'),isSavingRename:!1},this._onRenameErrorReset):this.signs.setDefaultErrorMessage(s)}})),(0,n.Z)(this,"_onRightClick",((e,t)=>{this.setState({isMenuOpen:!0,menuX:e,menuY:t})})),(0,n.Z)(this,"_onUnfollowCancelClick",(()=>{this.setState({isUnfollowing:!1})})),(0,n.Z)(this,"_onUnfollowConfirmClick",(async()=>{const{collection:{id:e,label:t}}=this.props,{selectedStreamId:s}=this.props;this.setState({isUnfollowing:!1});try{await this.enterprisecollections.askUnsubscribeCollection(e),this.signs.showMessage("".concat(t," has been unfollowed.")),e===s&&streets.service("router").loadMyPage()}catch(n){this.signs.showError("There was an error trying to unfollow ".concat(t,"."))}})),(0,n.Z)(this,"_onUnfollowMenuClick",(()=>{this.setState({isUnfollowing:!0})})),this.state={isRenaming:!1,isSavingRename:!1,renameLabel:null,renameError:null,isUnfollowing:!1,isArchiving:!1,isMenuOpen:!1}}componentDidMount(){this.enterprisecollections=streets.service("enterprisecollections"),this.signs=streets.service("signs")}componentWillUnmount(){this.enterprisecollections=null,this.signs=null}render(){const{selectedStreamId:e,collection:t,draggableId:s,draggableIndex:n,frozen:r}=this.props,{isSavingRename:a,isRenaming:o,renameLabel:l,renameError:c,isArchiving:d,isUnfollowing:h,isMenuOpen:u,menuX:p,menuY:m}=this.state,g=t.id,f=!!t.unreadCount;if(o)return i.createElement(at,{bold:f,error:c,loading:a,onCancel:this._onRenameReset,onChange:this._onRenameLabelChange,onSubmit:this._onRenameSubmit,value:l});const y=t.isPlaceholder;return i.createElement(i.Fragment,null,i.createElement(Ke._l,{draggableId:s,index:n,isDragDisabled:y},((n,a)=>i.createElement("div",Object.assign({id:g,ref:n.innerRef},n.draggableProps,n.dragHandleProps),i.createElement(ts,{expandableId:s,isDragging:a.isDragging,isPlaceholder:t.isPlaceholder,id:g,feeds:t.feeds,label:t.label,onRightClick:this._onRightClick,selectedStreamId:e,unreadCount:t.unreadCount,uri:t.uri,frozen:r})))),u&&i.createElement(ds,{collection:t,onArchiveClick:this._onArchiveClick,onCloseMenu:this._onCloseMenu,onDeleteClick:this._onUnfollowMenuClick,onRenameClick:this._onRenameMenuClick,pageX:p,pageY:m,team:!0}),d&&i.createElement(ms.h,{collection:t,onClose:this._onCloseArchiveModal}),h&&this._renderUnfollowConfirmModal())}_renderUnfollowConfirmModal(){return i.createElement(jt.c,{title:"Unfollow folder",danger:!0,description:"Are you sure you want to unfollow this folder?",onSuccess:this._onUnfollowConfirmClick,successLabel:"Unfollow",onCancel:this._onUnfollowCancelClick,cancelLabel:"No, keep following this folder"})}}function fs(e){return e.reduce(((e,t)=>{const{id:s,label:n}=t;return e.priorities[s]=t,e.countByLabel[n]?e.countByLabel[n]+=1:e.countByLabel[n]=1,e.priorityOrder.push(s),e}),{countByLabel:{},priorities:{},priorityOrder:[]})}gs.propTypes={collection:o().object.isRequired,draggableId:o().string.isRequired,draggableIndex:o().number.isRequired,frozen:o().bool,selectedStreamId:o().string},gs.defaultProps={frozen:!1,selectedStreamId:null};class ys extends i.PureComponent{constructor(e){super(e),this.profile=streets.service("profile"),this.state={boards:null,collections:null,countByLabel:null,favorites:[],feeds:null,hasExpiredProPlusPlan:this.profile.hasExpiredProPlusPlan(),isLoading:!0,priorities:null,usernames:null}}componentDidMount(){this.collections=streets.service("collections"),this.enterprise=streets.service("enterprise"),this.enterprisecollections=streets.service("enterprisecollections"),this.enterprisepriorities=streets.service("enterprisepriorities"),this.enterprisetags=streets.service("enterprisetags"),this.feeds=streets.service("feeds"),this.personalcollections=streets.service("personalcollections"),this.personalpriorities=streets.service("personalpriorities"),this.personaltags=streets.service("personaltags"),this.preferences=streets.service("preferences"),this.priorities=streets.service("priorities"),this.reader=streets.service("reader"),this.tags=streets.service("tags"),this.enterprisecollections.registerObserver(this),this.enterprisepriorities.registerObserver(this),this.enterprisetags.registerObserver(this),this.personalcollections.registerObserver(this),this.personalpriorities.registerObserver(this),this.personaltags.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this.reader.registerObserver(this),this._updatePreferences(),this._updateInitialData()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.enterprisepriorities.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.enterprise=null,this.enterprisecollections=null,this.enterprisepriorities=null,this.enterprisetags=null,this.feeds=null,this.personalcollections=null,this.personalpriorities=null,this.personaltags=null,this.preferences=null,this.priorities=null,this.profile=null,this.reader=null,this.tags=null}onCollectionsChanged(){this._updateCollections()}onFeedsChanged(){this._updateFeeds()}onPrioritiesChanged(){this._updatePriorities()}onTagsChanged(){this._updateBoards()}onPreferenceChanged(e){e===w.As.favorites&&this._updatePreferences()}onProfileUpgraded(){this.setState({hasExpiredProPlusPlan:this.profile.hasExpiredProPlusPlan()})}onStreamUnreadCountChanged(e){const{boards:t,collections:s,favorites:n,feeds:i,priorities:r}=this.state;n.includes(e)&&(t[e]?this._updateBoards():s[e]?this._updateCollections():i[e]?this._updateFeeds():r[e]&&this._updatePriorities())}render(){const{selectedStreamId:e}=this.props,{boards:t,collections:s,countByLabel:n,favorites:r,feeds:a,hasExpiredProPlusPlan:o,isLoading:l,priorities:c,usernames:d}=this.state;return 0===r.length?null:i.createElement(i.Fragment,null,i.createElement(Qe,null,"Favorites"),i.createElement(Ke.bK,{droppableId:Xe.favorites,type:Je.favorites},(h=>i.createElement("div",Object.assign({ref:h.innerRef},h.droppableProps),!l&&r.map(((r,l)=>{const{isCategory:h,isPriority:u,isFeed:p,isTag:m,isEnterprise:g,isGlobal:f}=(0,Ie.Yg)(r),y={key:r,draggableId:"favorites-".concat(r),draggableIndex:l,selectedStreamId:e};if(u){return c[r]?i.createElement(xt,Object.assign({},y,{countByLabel:n,hasExpiredProPlusPlan:!1,priority:c[r],usernames:d})):null}if(p){const e=a[r];return e?i.createElement(_t,Object.assign({},y,{feed:e,hasExpiredProPlusPlan:o})):null}if(m&&!f){const e=t[r];return e?g?i.createElement(ps,Object.assign({},y,{board:e})):i.createElement(Qt,Object.assign({},y,{board:e})):null}if(h&&!f){const e=s[r];return e?g?i.createElement(gs,Object.assign({},y,{collection:e,frozen:!0})):i.createElement(hs,Object.assign({},y,{collection:e,frozen:!0})):null}throw new Error("unsupported stream id ".concat(r))})),h.placeholder))))}_updatePreferences(){this.setState({favorites:this.preferences.getFavorites()})}async _updateBoards(){const e=await this.tags.askBoardsIndex();this.setState({boards:e})}async _updateCollections(){const e=await this.collections.askCollectionsIndex();this.setState({collections:e})}async _updateFeeds(){const e=await this.feeds.askFeedsIndex();this.setState({feeds:e})}async _updateInitialData(){const[e,t,s,n,i]=await Promise.all([this.feeds.askFeedsIndex(),this.collections.askCollectionsIndex(),this.tags.askBoardsIndex(),this.priorities.askListRankedPriorities(),this.enterprise.askListUsernames()]),{priorities:r,countByLabel:a}=fs(n);this.setState({boards:s,collections:t,countByLabel:a,feeds:e,priorities:r,usernames:i,isLoading:!1})}async _updatePriorities(){const e=await this.priorities.askListRankedPriorities(),{priorities:t}=fs(e);this.setState({priorities:t})}}ys.propTypes={selectedStreamId:o().string},ys.defaultProps={selectedStreamId:null};var vs=s(85420),bs=s(5375);const Es=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M9.571 2.643c2.6 0 4.944 1.444 6.134 3.702a.5.5 0 0 1-.885.467 5.929 5.929 0 1 0-7.215 8.354.5.5 0 0 1-.332.943A6.93 6.93 0 0 1 9.57 2.643Z"}),i.createElement("path",{d:"m16.46 3.072.09.014a.5.5 0 0 1 .378.518l-.014.089-.858 3.428a.5.5 0 0 1-.984-.153l.014-.09.858-3.428a.5.5 0 0 1 .517-.378Z"}),i.createElement("path",{d:"m12.264 5.658 3.429.857a.5.5 0 0 1-.154.984l-.089-.014-3.428-.857a.5.5 0 0 1 .153-.984l.09.014ZM13 8.643a4.357 4.357 0 1 0 0 8.714 4.357 4.357 0 0 0 0-8.714Zm0 1a3.357 3.357 0 1 1 0 6.714 3.357 3.357 0 0 1 0-6.714Z"}),i.createElement("path",{d:"M12.602 14.89c.26 0 .493-.059.699-.178.172-.1.324-.222.456-.366.007.083.016.157.027.222.012.065.032.134.06.208h1.042v-.14a.343.343 0 0 1-.141-.112c-.032-.044-.05-.13-.057-.255a15.937 15.937 0 0 1-.007-.423v-1.68c0-.44-.156-.74-.467-.9a2.315 2.315 0 0 0-1.068-.237c-.615 0-1.05.16-1.303.483-.159.206-.248.47-.268.79h.923a.699.699 0 0 1 .135-.337c.094-.111.254-.167.48-.167.201 0 .354.028.458.085.104.057.156.16.156.31 0 .124-.068.215-.205.273a1.492 1.492 0 0 1-.38.084l-.325.04c-.37.047-.65.125-.84.235-.346.202-.52.527-.52.977 0 .347.108.615.324.805.216.189.49.283.821.283Zm.282-.695a.512.512 0 0 1-.33-.109c-.091-.073-.136-.19-.136-.354 0-.184.073-.32.221-.407.088-.051.232-.095.433-.13l.215-.04c.108-.021.192-.043.254-.066.061-.024.122-.055.183-.093v.356c-.007.32-.097.54-.27.662a.975.975 0 0 1-.57.181Z"})))}));class Cs extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isAdmin:streets.hasAdminBusinessAccess()}),(0,n.Z)(this,"_onAlphabetizeBoards",(()=>{const{team:e}=this.props;try{e?this.preferences.setPreference(w.As.teamTags,"[]"):this.preferences.setPreference(w.As.personalTags,"[]")}catch(t){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}})),(0,n.Z)(this,"_onCreateClick",(()=>{const{team:e}=this.props;e?this.slider.addSlide(Bt.v,{onClose:function(e){let{id:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&streets.service("router").loadPage("board/content/".concat(t))}}):this.slider.addSlide(vs.O)})),(0,n.Z)(this,"_onMoreClick",(()=>{this.router.loadPage("discover/boards")}))}componentDidMount(){this.router=streets.service("router"),this.preferences=streets.service("preferences"),this.slider=streets.service("slider"),this.preferences.registerObserver(this)}componentWillUnmount(){this.preferences.unregisterObserver(this),this.router=null,this.preferences=null,this.slider=null}render(){const{isAdmin:e}=this.state,{onCloseMenu:t,pageX:s,pageY:n,team:r}=this.props;return i.createElement(Ct,{onClose:t,pageX:s,pageY:n},r&&i.createElement(N.s,{onClick:this._onMoreClick},i.createElement(Rt.Z,{importance:"tertiary"}),"More Boards"),(!r||e)&&i.createElement(N.s,{onClick:this._onCreateClick},i.createElement(bs.Z,{importance:"tertiary"}),"New Board"),i.createElement(N.s,{onClick:this._onAlphabetizeBoards},i.createElement(Es,{importance:"tertiary"}),"Reset to Alphabetical"))}}Cs.propTypes={onCloseMenu:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,team:o().bool},Cs.defaultProps={team:!1};var ws=s(763),ks=s(12089);class _s extends i.Component{render(){const{onDone:e}=this.props;return i.createElement("div",{className:"fx"},i.createElement("section",{className:"container630 centered"},i.createElement(q.H2,{appearance:"h1",sub:"Group your feeds into a private folder by topic, type, or project"},"Create New Folder"),i.createElement(ks.T,{onDone:e,onCollectionChanged:e=>{const t=(0,Ie.BS)(e);streets.service("router").loadPage("category/".concat(t))}})))}}_s.propTypes={onDone:o().func.isRequired};var Ms=s(66772);const Ss={feed:{iconComponent:ss.Z,title:"Keep up with your favorite sources and keyword alerts",buttonLabel:"Create A Feed",form:_s},board:{iconComponent:Rt.Z,title:"Save insightful articles to boards for reference or sharing",buttonLabel:"Create a Board",form:vs.O}},Is="feed",Ts="board";function Ns(e){let{onHideBoardPlaceholder:t,type:s}=e;const n=s===Ts,r=Ss[s].iconComponent;return i.createElement("div",{className:"LeftnavEmptySpace"},n&&i.createElement(ws.Z,{className:"LeftnavEmptySpace__dismiss-button",importance:"tertiary",onClick:t,title:"Hide Empty Board Placeholder"}),i.createElement(r,{className:"LeftnavEmptySpace__icon",color:"accent"}),i.createElement("div",{className:"LeftnavEmptySpace__title"},Ss[s].title),i.createElement(j.z,{className:R()("LeftnavEmptySpace__button",{"m-b-h":n}),onClick:()=>{streets.service("slider").addSlide(Ss[s].form)},label:Ss[s].buttonLabel}),s===Is&&i.createElement(i.Fragment,null,i.createElement(Ms.r,{className:"LeftnavEmptySpace__link",href:"http://blog.feedly.com/the-right-login/",newWindow:!0},"Missing Your Feeds?"),i.createElement(Ms.r,{className:"LeftnavEmptySpace__link",uri:"cortex"},"Import OPML")))}Ns.propTypes={onHideBoardPlaceholder:o().func,type:o().oneOf(Object.keys(Ss)).isRequired},Ns.defaultProps={onHideBoardPlaceholder:()=>{}};const Ls={emptyBoardPlaceholderPref:"emptyBoardPlaceholderPref",personalBoardsCollapsedPref:"personalBoardsCollapsedPref"};class Ps extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"onMovePersonalBoard",((e,t,s)=>{const{personalBoards:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(w.As.personalTags,JSON.stringify(i))})),(0,n.Z)(this,"onBoardsOrderChanged",(()=>{this._updatePersonalBoards()})),(0,n.Z)(this,"_renderPersonalBoards",(()=>{const{hasPersonalFeeds:e,isOnboarding:t,personalBoards:s,preferences:{emptyBoardPlaceholderPref:n}}=this.state,r=n===w.Hi.show;return!t&&!streets.hasBusinessAccess()&&r&&0===s.length&&e?i.createElement(Ns,{onHideBoardPlaceholder:this._onHideBoardPlaceholder,type:"board"}):i.createElement(i.Fragment,null,i.createElement(Ke.bK,{type:Je.boards,droppableId:Xe.personalBoards},(e=>i.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),s.map(this._renderBoard),e.placeholder))),i.createElement(xe.E,{className:"LeftnavListRow LeftnavListRow--link",importance:"tertiary",onClick:this._onCreateNewBoardClick},"Create New Board"))})),(0,n.Z)(this,"_renderBoard",((e,t)=>{const{selectedStreamId:s}=this.props;return i.createElement(Qt,{key:e.id,draggableId:e.id,draggableIndex:t,board:e,selectedStreamId:s})})),(0,n.Z)(this,"_onCloseHeaderMenu",(()=>{this.setState({isHeaderMenuOpen:!1})})),(0,n.Z)(this,"_onCreateNewBoardClick",(()=>{streets.service("slider").addSlide(vs.O)})),(0,n.Z)(this,"_onHideBoardPlaceholder",(()=>{this.preferences.askSetPreference(Ls.emptyBoardPlaceholderPref,w.Hi.hide)})),(0,n.Z)(this,"_onRightClickHeader",((e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})})),(0,n.Z)(this,"_updatePreferences",(()=>{this.setState({preferences:this.preferences.getPreferences(Object.values(Ls))})})),this.preferences=streets.service("preferences"),this.state={isHeaderMenuOpen:!1,isOnboarding:!0,menuX:0,menuY:0,personalBoards:[],preferences:this.preferences.getPreferences(Object.values(Ls))}}componentDidMount(){this.leftnav=streets.service("leftnav"),this.onboarding=streets.service("onboarding"),this.personalcollections=streets.service("personalcollections"),this.personaltags=streets.service("personaltags"),this.tags=streets.service("tags"),this.leftnav.registerObserver(this),this.onboarding.registerObserver(this),this.personalcollections.registerObserver(this),this.personaltags.registerObserver(this),this.preferences.registerObserver(this),this.tags.registerObserver(this),this._updateIsOnboarding(),this._updatePersonalBoards(),this._updatePersonalFeeds()}componentWillUnmount(){this.leftnav.unregisterObserver(this),this.onboarding.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.preferences.unregisterObserver(this),this.tags.unregisterObserver(this),this.leftnav=null,this.onboarding=null,this.personalcollections=null,this.personaltags=null,this.preferences=null,this.tags=null}onCollectionsChanged(){this._updatePersonalFeeds()}onOnboardingChanged(e){this.setState({isOnboarding:e})}onTagsChanged(){this._updatePersonalBoards()}onPreferenceChanged(e){Ls[e]&&this._updatePreferences()}onShowBoardDragDropPlaceholders(e,t){const{personalBoards:s}=this.state;t===Xe.personalBoards&&this.setState({personalBoards:s.filter((t=>t.id!==e.id))})}onHideBoardDragDropPlaceholders(){this._updatePersonalBoards()}render(){const{isHeaderMenuOpen:e,preferences:{personalBoardsCollapsedPref:t},menuX:s,menuY:n}=this.state,r=t===w.Hi.hide;return i.createElement(i.Fragment,null,i.createElement(Qe,{onRightClick:this._onRightClickHeader,type:"personalBoards"},streets.hasBusinessAccess()?"Personal boards":"Boards"),!r&&this._renderPersonalBoards(),e&&i.createElement(Cs,{onCloseMenu:this._onCloseHeaderMenu,pageX:s,pageY:n}))}async _updateIsOnboarding(){const e=await this.onboarding.askIsOnboarding();this.setState({isOnboarding:e})}async _updatePersonalBoards(){const e=await this.personaltags.askListRankedTags(),t=(0,Ie.uf)(),s=e.findIndex((e=>{let{id:s}=e;return s===t}));s>-1&&e.splice(s,1),this.setState({personalBoards:e})}async _updatePersonalFeeds(){const e=await this.personalcollections.askListRankedCollections();this.setState({hasPersonalFeeds:!!e.length})}}Ps.propTypes={selectedStreamId:o().string},Ps.defaultProps={selectedStreamId:null};var Ds=s(45750),As=s.n(Ds);const Os=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{fill:"currentColor",fillRule:"nonzero"},i.createElement("path",{d:"M16.429 15.929a.5.5 0 0 1 .09.992l-.09.008H3.57a.5.5 0 0 1-.09-.992l.09-.008H16.43ZM7.857 2.357H4.286c-.67 0-1.215.544-1.215 1.214v3.572c0 .67.544 1.214 1.215 1.214h3.571c.67 0 1.214-.544 1.214-1.214V3.57c0-.67-.543-1.214-1.214-1.214Zm-3.571 1h3.571c.118 0 .214.096.214.214v3.572a.214.214 0 0 1-.214.214H4.286a.214.214 0 0 1-.215-.214V3.57c0-.118.096-.214.215-.214ZM16.429 10.929a.5.5 0 0 1 .09.992l-.09.008H3.57a.5.5 0 0 1-.09-.992l.09-.008H16.43ZM16.429 5.214a.5.5 0 0 1 .09.992l-.09.008h-5a.5.5 0 0 1-.09-.992l.09-.008h5Z"})))}));const xs=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.167a7.833 7.833 0 1 0 0 15.666 7.833 7.833 0 0 0 0-15.666ZM1.167 10a8.833 8.833 0 1 1 17.666 0 8.833 8.833 0 0 1-17.666 0Z",fill:"currentColor"}),i.createElement("path",{d:"M10 13.333a3.333 3.333 0 1 0 0-6.666 3.333 3.333 0 0 0 0 6.666Z",fill:"currentColor"}))}));var Rs=s(14355);class js extends i.PureComponent{constructor(){super(),(0,n.Z)(this,"state",{isAdmin:streets.hasAdminBusinessAccess()}),(0,n.Z)(this,"_onAlphabetizeFeeds",(()=>{const{team:e}=this.props;try{e?this.feedly.sortTeamCollectionsAlphabetically():this.feedly.sortPersonalCollectionsAlphabetically()}catch(t){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}})),(0,n.Z)(this,"_onCreateFeedClick",(()=>{const{team:e}=this.props;this.slider.addSlide(e?is.h:_s)})),(0,n.Z)(this,"_onMoreFeedsClick",(()=>{this.router.loadPage("discover/feeds")})),(0,n.Z)(this,"_onImportOPMLClick",(()=>{this.router.loadPage("cortex")})),(0,n.Z)(this,"_onOrganizeClick",(()=>{this.router.loadPage(this.props.team?"team/feeds":"organize/my")})),(0,n.Z)(this,"_onShowEmptyClick",(()=>{const{showEmpty:e}=this.state;this.preferences.setPreference(w.j$,e?w.Hi.hide:w.Hi.show)})),(0,n.Z)(this,"_onTeamFirstClick",(()=>{const{teamFirst:e}=this.state;this.preferences.setPreference(w.iu,e?w.TA.personal:w.TA.team)})),this.preferences=streets.service("preferences");const e=this.preferences.getPreference(w.iu),t=this.preferences.getPreference(w.j$);this.state={showEmpty:t===w.Hi.show,teamFirst:e===w.TA.team,isAdmin:streets.hasAdminBusinessAccess()}}componentDidMount(){this.feedly=streets.service("feedly"),this.router=streets.service("router"),this.slider=streets.service("slider")}componentWillUnmount(){this.feedly=null,this.preferences=null,this.router=null,this.slider=null}render(){const{onCloseMenu:e,pageX:t,pageY:s,team:n}=this.props,{isAdmin:r,showEmpty:a,teamFirst:o}=this.state;return i.createElement(Ct,{onClose:e,pageX:t,pageY:s},(!n||r)&&i.createElement(N.s,{onClick:this._onOrganizeClick},i.createElement(ct.Z,{importance:"tertiary"}),"Organize Feeds"),i.createElement(N.s,{onClick:this._onAlphabetizeFeeds},i.createElement(Es,{importance:"tertiary"}),"Reset to Alphabetical"),n&&i.createElement(N.s,{onClick:this._onMoreFeedsClick},i.createElement(ss.Z,{importance:"tertiary"}),"More Feeds"),(!n||r)&&i.createElement(N.s,{onClick:this._onCreateFeedClick},i.createElement(bs.Z,{importance:"tertiary"}),"New Folder"),!n&&i.createElement(N.s,{onClick:this._onImportOPMLClick},i.createElement(xs,{importance:"tertiary"}),"Import OPML"),i.createElement(yt.N,null),i.createElement(N.s,{onClick:this._onShowEmptyClick},i.createElement(Rs.P,{checked:a}),"Show Empty Folders"),n&&i.createElement(N.s,{onClick:this._onTeamFirstClick},i.createElement(Rs.P,{checked:o}),"Team First"))}}js.propTypes={onCloseMenu:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,team:o().bool},js.defaultProps={team:!1};const Fs={navigationMarkRead:"navigationMarkRead",personalCollectionsCollapsedPref:"personalCollectionsCollapsedPref"};class Us extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"onMovePersonalCollection",((e,t,s)=>{const{personalCollections:n}=this.state,i=[...n],r=i.splice(t,1)[0];i.splice(s,0,r),this.preferences.setPreference(w.As.personalCollections,JSON.stringify(i.map((e=>{let{id:t}=e;return t}))))})),(0,n.Z)(this,"onShowCollectionDragDropPlaceholders",((e,t,s,n,i)=>{if(s===Xe.personalCollections){const{personalCollections:t}=this.state,s=[...t],n={...e,isPlaceholder:!0};s.splice(i,0,n),this.setState({personalCollections:s})}else if(t===Xe.personalCollections){const{personalCollections:e}=this.state,t=[...e];t.splice(n,1),this.setState({personalCollections:t})}})),(0,n.Z)(this,"onHideCollectionDragDropPlaceholders",(()=>{this._updateCollections()})),(0,n.Z)(this,"onCollectionMovedToPersonal",((e,t,s)=>{const{personalCollections:n}=this.state,i=[...n.map((e=>e.id))];i.splice(s,0,e.id),this.preferences.setPreference(w.As.personalCollections,JSON.stringify(i))})),(0,n.Z)(this,"onCollectionsChanged",(()=>{this._updateCollections()})),(0,n.Z)(this,"onCollectionsOrderChanged",(()=>{this._updateCollections()})),(0,n.Z)(this,"_renderCollection",(e=>{const{selectedStreamId:t}=this.props;if(!e)return null;const{id:s}=e;return i.createElement(ts,{expandableId:e.id,isPlaceholder:e.isPlaceholder,id:s,feeds:e.feeds,label:e.label,onRightClick:(t,s)=>{this.setState({menuCollection:e,menuX:t,menuY:s})},selectedStreamId:t,unreadCount:e.unreadCount,uri:e.uri})})),(0,n.Z)(this,"_onCloseHeaderMenu",(()=>{this.setState({isHeaderMenuOpen:!1})})),(0,n.Z)(this,"_onCreateNewCollectionClick",(()=>{streets.service("slider").addSlide(_s)})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({menuCollection:null})})),(0,n.Z)(this,"_onRightClickHeader",((e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})})),(0,n.Z)(this,"_updateCollections",(async()=>{if(!streets.getUserId())return void this.setState({collections:[],isLoading:!1,personalAllCollection:null,personalCollections:[],personalFavoritesCollection:null,personalUncategorizedCollection:null});const[e,t]=await Promise.all([this.personalcollections.askListRankedCollections(),this.personalcollections.askLookupCollection((0,Ie.N1)())]),s=(0,Ie.Mc)(),n=(0,Ie.wN)(),{collections:i,filteredPersonalCollections:r,favorites:a,uncategorized:o}=e.reduce(((e,t)=>(e.collections[t.id]=t,t.id===s?e.favorites=t:t.id===n?e.uncategorized=t:e.filteredPersonalCollections.push(t),e)),{collections:{},favorites:null,filteredPersonalCollections:[],orderedIds:[],uncategorized:null});this.setState({collections:i,isLoading:!1,personalAllCollection:t,personalFavoritesCollection:a,personalUncategorizedCollection:o,personalCollections:r})})),this.preferences=streets.service("preferences"),this._debouncedUpdateCollections=As()(this._updateCollections,50,{maxWait:200}),this.state={collections:{},isHeaderMenuOpen:!1,isLoading:!0,menuCollection:null,menuX:0,menuY:0,preferences:this.preferences.getPreferences(Object.values(Fs)),personalAllCollection:null,personalCollections:[]}}componentDidMount(){this.leftnav=streets.service("leftnav"),this.personalcollections=streets.service("personalcollections"),this.reader=streets.service("reader"),this.collections=streets.service("collections"),this.collections.registerObserver(this),this.leftnav.registerObserver(this),this.personalcollections.registerObserver(this),this.preferences.registerObserver(this),this.reader.registerObserver(this),this._updateCollections()}componentWillUnmount(){this._debouncedUpdateCollections.cancel(),this._debouncedUpdateCollections=null,this.leftnav.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.leftnav=null,this.personalcollections=null,this.preferences=null,this.reader=null}onPreferenceChanged(e){Fs[e]&&this._updatePreferences()}onStreamUnreadCountChanged(e){const{isFeed:t}=(0,Ie.Yg)(e),{collections:s}=this.state;(t||s[e])&&this._debouncedUpdateCollections()}render(){const{isHeaderMenuOpen:e,isLoading:t,menuCollection:s,menuX:n,menuY:r,preferences:{personalCollectionsCollapsedPref:a}}=this.state;if(t)return null;const o=a===w.Hi.hide;return i.createElement(i.Fragment,null,i.createElement(Ke.bK,{droppableId:Xe.personalCollections,type:Je.collections},(e=>i.createElement("div",Object.assign({className:"LeftnavList__feed-list",ref:e.innerRef},e.droppableProps),i.createElement(Qe,{onRightClick:this._onRightClickHeader,organizeUri:"organize/me",type:"personalCollections"},streets.hasBusinessAccess()?"Personal feeds":"Feeds"),!o&&this._renderPersonalCollections(e)))),s&&i.createElement(ds,{collection:s,onCloseMenu:this._onCloseMenu,onDeleteClick:()=>{},onRenameClick:()=>{},pageX:n,pageY:r}),e&&i.createElement(js,{onCloseMenu:this._onCloseHeaderMenu,pageX:n,pageY:r}))}_renderPersonalCollections(e){const{personalAllCollection:t,personalCollections:s,personalFavoritesCollection:n,personalUncategorizedCollection:r,preferences:{navigationMarkRead:a}}=this.state,{selectedStreamId:o}=this.props,l=s.length>0||n||r;if(!l&&!streets.hasBusinessAccess())return i.createElement(Ns,{type:"feed"});const c=a===w.ZD.on;return i.createElement(i.Fragment,null,l&&t&&i.createElement(je,{bold:!0,iconComponent:Os,linkUri:t.uri,markAsReadId:c?t.id:void 0,onRightClick:(e,s)=>{this.setState({menuCollection:t,menuX:e,menuY:s})},selected:t.id===o,title:"All",unreadCount:t.unreadCount}),this._renderCollection(n),s.map(((e,t)=>i.createElement(hs,{key:e.id,draggableId:e.id,draggableIndex:t,collection:e,selectedStreamId:o}))),e.placeholder,this._renderCollection(r),i.createElement(xe.E,{className:"LeftnavListRow LeftnavListRow--link",importance:"tertiary",onClick:this._onCreateNewCollectionClick},"Create New Folder"))}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(Fs))})}}Us.propTypes={selectedStreamId:o().string},Us.defaultProps={selectedStreamId:null};var zs=s(72403),Zs=s(6797),Bs=s(31220);class Hs extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"_onAlphabetizePriorities",(()=>{try{this.preferences.setPreference(w.As.priorities,"[]")}catch(e){streets.service("signs").showMessage("Failed to update preference: Reset Feed Sorting")}})),(0,n.Z)(this,"_onCreateClick",(()=>{streets.service("slider").addSlide(zs.q)})),(0,n.Z)(this,"_onShowEmptyChange",(()=>{const{showEmptyPriorities:e}=this.props;this.preferences.setPreference(w.Ic,e===w.ZD.on?w.ZD.off:w.ZD.on)})),(0,n.Z)(this,"_onShowInNavigationChange",(e=>{this.preferences.setPreference(w.sf,e)}))}componentDidMount(){this.preferences=streets.service("preferences")}componentWillUnmount(){this.preferences=null}render(){const{onCloseMenu:e,pageX:t,pageY:s,showEmptyPriorities:n,showPrioritiesInNavigation:r}=this.props;return i.createElement(Ct,{onClose:e,pageX:t,pageY:s},i.createElement(N.s,{onClick:this._onCreateClick},i.createElement(bs.Z,{importance:"tertiary"}),"New Priority"),i.createElement(N.s,{onClick:this._onAlphabetizePriorities},i.createElement(Es,{importance:"tertiary"}),"Reset to Alphabetical"),i.createElement(yt.N,null),i.createElement(N.s,{onClick:this._onShowEmptyChange},i.createElement(Rs.P,{checked:n===w.ZD.on}),"Show Empty Priorities"),i.createElement(yt.N,null),i.createElement(Zs.a,{name:"show",onChange:this._onShowInNavigationChange,selectedValue:r},i.createElement(Bs.Y,{value:w.Zu.all},"Show All Priorities"),i.createElement(Bs.Y,{value:w.Zu.globalOnly},"Global Priorities Only"),i.createElement(Bs.Y,{value:w.Zu.createdByUserOnly},"Priorities I Created Only"),i.createElement(Bs.Y,{value:w.Zu.none},"Hide All Priorities")))}}Hs.propTypes={onCloseMenu:o().func.isRequired,pageX:o().number.isRequired,pageY:o().number.isRequired,showEmptyPriorities:o().oneOf(Object.values(w.ZD)).isRequired,showPrioritiesInNavigation:o().oneOf(Object.values(w.Zu)).isRequired};const Ys={showPrioritiesInNavigationPref:"showPrioritiesInNavigationPref",showEmptyPrioritiesPref:"showEmptyPrioritiesPref",navigationMarkRead:"navigationMarkRead",leoPrioritiesCollapsedPref:"leoPrioritiesCollapsedPref"};class Ws extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"onPriorityChanged",(()=>{this._updatePriorities()})),(0,n.Z)(this,"onPrioritiesChanged",(()=>{this._updatePriorities()})),(0,n.Z)(this,"onMovePriority",((e,t,s)=>{const{priorityOrder:n}=this.state,i=[...n];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(w.As.priorities,JSON.stringify(i))})),(0,n.Z)(this,"onPrioritiesOrderChanged",(()=>{this._updatePriorities()})),(0,n.Z)(this,"_onCloseHeaderMenu",(()=>{this.setState({isHeaderMenuOpen:!1})})),(0,n.Z)(this,"_onRightClickHeader",((e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})})),(0,n.Z)(this,"_updateInfo",(async()=>{const[e,t]=await Promise.all([this.leo.askIsLeoEnabled(),this.enterprise.askListUsernames()]);this.setState({isLeoEnabled:e,usernames:t})})),this.preferences=streets.service("preferences"),this.profile=streets.service("profile"),this.state={countByLabel:{},hasExpiredProPlusPlan:this.profile.hasExpiredProPlusPlan(),isHeaderMenuOpen:!1,isLeoEnabled:!1,preferences:this.preferences.getPreferences(Object.values(Ys)),priorities:{},priorityOrder:[],usernames:{}}}componentDidMount(){this.enterprise=streets.service("enterprise"),this.enterprisepriorities=streets.service("enterprisepriorities"),this.feedly=streets.service("feedly"),this.leftnav=streets.service("leftnav"),this.leo=streets.service("leo"),this.personalpriorities=streets.service("personalpriorities"),this.priorities=streets.service("priorities"),this.reader=streets.service("reader"),this.enterprisepriorities.registerObserver(this),this.leftnav.registerObserver(this),this.personalpriorities.registerObserver(this),this.preferences.registerObserver(this),this.priorities.registerObserver(this),this.profile.registerObserver(this),this.reader.registerObserver(this),this._updatePriorities(),this._updateInfo()}componentWillUnmount(){this.enterprisepriorities.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.preferences.unregisterObserver(this),this.priorities.unregisterObserver(this),this.profile.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprise=null,this.enterprisepriorities=null,this.feedly=null,this.leftnav=null,this.leo=null,this.personalpriorities=null,this.preferences=null,this.priorities=null,this.profile=null,this.reader=null}onPreferenceChanged(e){Ys[e]&&this._updatePreferences()}onProfileUpgraded(){this.setState({hasExpiredProPlusPlan:this.profile.hasExpiredProPlusPlan()})}onStreamUnreadCountChanged(e){const{priorities:t}=this.state;t[e]&&this._updatePriorities()}render(){const{countByLabel:e,hasExpiredProPlusPlan:t,isHeaderMenuOpen:s,isLeoEnabled:n,menuX:r,menuY:a,preferences:{leoPrioritiesCollapsedPref:o,showEmptyPrioritiesPref:l,showPrioritiesInNavigationPref:c},priorities:d,priorityOrder:h,usernames:u}=this.state,{selectedStreamId:p}=this.props,m=o===w.Hi.hide;return 0!==h.length&&n?i.createElement(i.Fragment,null,i.createElement(Qe,{onRightClick:this._onRightClickHeader,type:"leoPriorities"},"Leo Priorities"),!m&&i.createElement(Ke.bK,{droppableId:Xe.priorities,type:Je.priorities},(s=>i.createElement("div",Object.assign({ref:s.innerRef},s.droppableProps),h.map(((s,n)=>{const r=d[s];return this._filterPriority(r)?i.createElement(xt,{key:s,countByLabel:e,draggableId:s,draggableIndex:n,hasExpiredProPlusPlan:t,priority:r,selectedStreamId:p,usernames:u}):null})),s.placeholder))),s&&i.createElement(Hs,{onCloseMenu:this._onCloseHeaderMenu,pageX:r,pageY:a,showEmptyPriorities:l,showPrioritiesInNavigation:c})):null}_filterPriority(e){const{preferences:{showEmptyPrioritiesPref:t}}=this.state;return t===w.ZD.on||e.unreadCount||e.trainingStatus===It.Py.updating}async _updatePriorities(){const{preferences:{showPrioritiesInNavigationPref:e}}=this.state;if(e===w.Zu.none)return void this.setState({priorityOrder:[]});const t=await this.priorities.askListRankedPriorities(),{priorities:s,countByLabel:n,priorityOrder:i}=fs(t);this.setState({countByLabel:n,priorities:s,priorityOrder:i})}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(Ys))},this._updatePriorities)}}Ws.propTypes={selectedStreamId:o().string},Ws.defaultProps={selectedStreamId:null};class qs extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"onBoardsOrderChanged",(()=>{this._updateTeamBoards()})),(0,n.Z)(this,"onMoveTeamBoard",((e,t,s)=>{const{teamBoards:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(w.As.teamTags,JSON.stringify(i))})),(0,n.Z)(this,"onBoardMovedToTeam",((e,t)=>{const{teamBoards:s}=this.state,n=[...s.map((e=>e.id))];n.splice(t,0,e.id),this.preferences.setPreference(w.As.teamTags,JSON.stringify(n))})),(0,n.Z)(this,"_renderBoard",((e,t)=>{const{selectedStreamId:s}=this.props;return i.createElement(ps,{key:e.id,draggableId:e.id,draggableIndex:t,board:e,selectedStreamId:s})})),(0,n.Z)(this,"_onCloseHeaderMenu",(()=>{this.setState({isHeaderMenuOpen:!1})})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isAllTeamBoardMenuOpen:!1})})),(0,n.Z)(this,"_onCreateNewBoardClick",(()=>{streets.service("slider").addSlide(Bt.v)})),(0,n.Z)(this,"_onRightClickHeader",((e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})})),this.preferences=streets.service("preferences"),this.state={isHeaderMenuOpen:!1,isAllTeamBoardMenuOpen:!1,menuX:0,menuY:0,isCollapsed:this.preferences.getPreference(w.oB)===w.Hi.hide,teamBoards:[],allTeamBoard:null}}componentDidMount(){this.enterprisetags=streets.service("enterprisetags"),this.leftnav=streets.service("leftnav"),this.profile=streets.service("profile"),this.tags=streets.service("tags"),this.enterprisetags.registerObserver(this),this.leftnav.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this.tags.registerObserver(this),this._updateTeamBoards()}componentWillUnmount(){this.enterprisetags.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.tags.unregisterObserver(this),this.enterprisetags=null,this.leftnav=null,this.preferences=null,this.profile=null,this.tags=null}onPreferenceChanged(e){e===w.oB&&this.setState({isCollapsed:this.preferences.getPreference(e)===w.Hi.hide})}onProfileUpgraded(){this._updateTeamBoards()}onShowBoardDragDropPlaceholders(e,t,s,n,i){const{teamBoards:r}=this.state;if(s===Xe.teamBoards){const t=[...r],s={...e,isPlaceholder:!0};t.splice(i,0,s),this.setState({teamBoards:t})}}onHideBoardDragDropPlaceholders(){this._updateTeamBoards()}onTagsChanged(){this._updateTeamBoards()}onStreamUnreadCountChanged(e){const{allTeamBoard:t,teamBoards:s}=this.state,{isTag:n}=(0,Ie.Yg)(e);n&&[t,...s].forEach((t=>{t.streamId===e&&this._updateTeamBoards()}))}render(){const{selectedStreamId:e}=this.props,{allTeamBoard:t,isCollapsed:s,isHeaderMenuOpen:n,isAllTeamBoardMenuOpen:r,menuX:a,menuY:o,teamBoards:l}=this.state;return streets.hasBusinessAccess()?i.createElement(i.Fragment,null,i.createElement(Qe,{onRightClick:this._onRightClickHeader,type:"teamBoards"},"Team boards"),!s&&i.createElement(i.Fragment,null,t&&i.createElement(je,{key:t.id,bold:!!t.unreadCount,selected:t.id===e,iconComponent:Os,title:"All",linkUri:t.uri,onRightClick:(e,t)=>{this.setState({isAllTeamBoardMenuOpen:!0,menuX:e,menuY:t})},unreadCount:t.unreadCount}),r&&i.createElement(Vt,{board:t,onCloseMenu:this._onCloseMenu,onDeleteClick:()=>{},onRenameClick:()=>{},pageX:a,pageY:o,team:!0}),i.createElement(Ke.bK,{type:Je.boards,droppableId:Xe.teamBoards},(e=>i.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),l.map(this._renderBoard),e.placeholder))),i.createElement(De.O,{className:"LeftnavListRow LeftnavListRow--link",uri:"discover/boards"},"More Boards"),streets.hasAdminBusinessAccess()&&i.createElement(xe.E,{className:"LeftnavListRow LeftnavListRow--link",importance:"tertiary",onClick:this._onCreateNewBoardClick},"Create New Board")),n&&i.createElement(Cs,{onCloseMenu:this._onCloseHeaderMenu,pageX:a,pageY:o,team:!0})):null}async _updateTeamBoards(){if(!streets.hasBusinessAccess())return void this.setState({allTeamBoard:null,teamBoards:[]});this._isUpdating=!0;const[e,t]=await Promise.all([this.enterprisetags.askListRankedSubscribedTags(),this.enterprisetags.askLookupTag((0,Ie.$n)())]);this.setState({allTeamBoard:t,teamBoards:e}),this._isUpdating=!1;const{isSavingRename:s}=this.state;s&&this._onRenameReset(),this._resetSourceRenameAfterUpdate&&this._onRenameSourceReset()}}qs.propTypes={selectedStreamId:o().string},qs.defaultProps={selectedStreamId:null};const Vs={navigationMarkRead:"navigationMarkRead",teamCollectionsCollapsedPref:"teamCollectionsCollapsedPref"};class Qs extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"onMoveTeamCollection",((e,t,s)=>{const{teamCollections:n}=this.state,i=[...n.map((e=>e.id))];i.splice(t,1),i.splice(s,0,e),this.preferences.setPreference(w.As.teamCollections,JSON.stringify(i))})),(0,n.Z)(this,"onCollectionsChanged",(()=>{this._updateCollections()})),(0,n.Z)(this,"onCollectionsOrderChanged",(()=>{this._updateCollections()})),(0,n.Z)(this,"onShowCollectionDragDropPlaceholders",((e,t,s,n,i)=>{if(s===Xe.teamCollections){const{teamCollections:t}=this.state,s=[...t],n={...e,isPlaceholder:!0};s.splice(i,0,n),this.setState({teamCollections:s})}else if(t===Xe.teamCollections){const{teamCollections:e}=this.state,t=[...e];t.splice(n,1),this.setState({teamCollections:t})}})),(0,n.Z)(this,"onHideCollectionDragDropPlaceholders",(()=>{this._updateCollections()})),(0,n.Z)(this,"onCollectionMovedToTeam",((e,t)=>{const{teamCollections:s}=this.state,n=[...s.map((e=>e.id))];n.splice(t,0,e.id),this.preferences.setPreference(w.As.teamCollections,JSON.stringify(n))})),(0,n.Z)(this,"_onCloseHeaderMenu",(()=>{this.setState({isHeaderMenuOpen:!1})})),(0,n.Z)(this,"_onCloseMenu",(()=>{this.setState({isTeamAllCollectionMenuOpen:!1})})),(0,n.Z)(this,"_onCreateNewCollectionClick",(()=>{streets.service("slider").addSlide(is.h)})),(0,n.Z)(this,"_onRightClickHeader",((e,t)=>{this.setState({isHeaderMenuOpen:!0,menuX:e,menuY:t})})),(0,n.Z)(this,"_updateCollections",(async()=>{if(!streets.hasBusinessAccess())return void this.setState({collectionsById:{},teamAllCollection:null,teamCollections:[]});const[e,t]=await Promise.all([this.enterprisecollections.askListRankedSubscribedCollections(),this.enterprisecollections.askLookupCollection((0,Ie.sX)())]),{collectionsById:s}=e.reduce(((e,t)=>(e.collectionsById[t.id]=t,e)),{collectionsById:{},teamCollections:[]});this.setState({collectionsById:s,teamAllCollection:t,teamCollections:e})})),this.preferences=streets.service("preferences"),this._debouncedUpdateCollections=As()(this._updateCollections,50,{maxWait:200}),this.state={collectionsById:{},isHeaderMenuOpen:!1,isTeamAllCollectionMenuOpen:!1,menuX:0,menuY:0,preferences:this.preferences.getPreferences(Object.values(Vs)),teamAllCollection:null,teamCollections:[]}}componentDidMount(){this.collections=streets.service("collections"),this.enterprisecollections=streets.service("enterprisecollections"),this.leftnav=streets.service("leftnav"),this.profile=streets.service("profile"),this.reader=streets.service("reader"),this.collections.registerObserver(this),this.enterprisecollections.registerObserver(this),this.leftnav.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this.reader.registerObserver(this),this._updateCollections()}componentWillUnmount(){this._debouncedUpdateCollections.cancel(),this._debouncedUpdateCollections=null,this.collections.unregisterObserver(this),this.enterprisecollections.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.reader.unregisterObserver(this),this.collections=null,this.enterprisecollections=null,this.leftnav=null,this.preferences=null,this.profile=null,this.reader=null}onStreamUnreadCountChanged(e){const{isFeed:t}=(0,Ie.Yg)(e),{collectionsById:s}=this.state;(t||s[e])&&this._debouncedUpdateCollections()}onProfileUpgraded(){this._updateCollections()}onPreferenceChanged(e){Vs[e]&&this._updatePreferences()}render(){const{selectedStreamId:e}=this.props,{isHeaderMenuOpen:t,isTeamAllCollectionMenuOpen:s,preferences:{teamCollectionsCollapsedPref:n,navigationMarkRead:r},menuX:a,menuY:o,teamAllCollection:l,teamCollections:c}=this.state,d=n===w.Hi.hide,h=r===w.ZD.on;return streets.hasBusinessAccess()?i.createElement(i.Fragment,null,i.createElement(Qe,{onRightClick:this._onRightClickHeader,organizeUri:"organize/team",type:"teamCollections"},"Team feeds"),l&&i.createElement(je,{bold:!!l.unreadCount,iconComponent:Os,linkUri:l.uri,markAsReadId:h?l.id:void 0,onRightClick:(e,t)=>{this.setState({isTeamAllCollectionMenuOpen:!0,menuX:e,menuY:t})},selected:l.id===e,title:"All",unreadCount:l.unreadCount}),s&&i.createElement(ds,{collection:l,onCloseMenu:this._onCloseMenu,onDeleteClick:()=>{},onRenameClick:()=>{},pageX:a,pageY:o,team:!0}),i.createElement(Ke.bK,{droppableId:Xe.teamCollections,type:Je.collections},(t=>i.createElement("div",Object.assign({className:"LeftnavList__feed-list",ref:t.innerRef},t.droppableProps),!d&&c.map(((t,s)=>i.createElement(gs,{key:t.id,draggableId:t.id,draggableIndex:s,collection:t,selectedStreamId:e}))),t.placeholder))),i.createElement(De.O,{className:"LeftnavListRow LeftnavListRow--link",uri:"discover/feeds"},"More Feeds"),streets.hasAdminBusinessAccess()&&i.createElement(xe.E,{className:"LeftnavListRow LeftnavListRow--link",importance:"tertiary",onClick:this._onCreateNewCollectionClick},"Create New Folder"),t&&i.createElement(js,{onCloseMenu:this._onCloseHeaderMenu,pageX:a,pageY:o,team:!0})):null}_updatePreferences(){this.setState({preferences:this.preferences.getPreferences(Object.values(Vs))})}}Qs.propTypes={selectedStreamId:o().string},Qs.defaultProps={selectedStreamId:null};const Gs={indexLink:"indexLink",integrationsLink:"integrationsLink",teamVsPersonal:"teamVsPersonal"};class Ks extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"openCannotDropComponent",(e=>{this.setState({cannotDropModalBody:e,isCannotDropModalOpen:!0})})),(0,n.Z)(this,"_renderAnnotatedButton",(()=>{const{currentUri:e}=this.props,{hasExpiredProPlan:t,hasExpiredProPlusPlan:s,linkUris:n}=this.state;return t||s?i.createElement(Ze,{bold:!0,hasExpiredProPlan:t,hasExpiredProPlusPlan:s,label:"Annotated",type:"annotated"}):streets.hasProAccess()?i.createElement(je,{bold:!0,iconComponent:ve.Z,selected:e===n.annotated,linkUri:n.annotated,title:"Annotated"}):null})),(0,n.Z)(this,"_renderTrainLeoButton",(()=>{const{currentUri:e}=this.props,{hasExpiredProPlusPlan:t,isOnboarding:s,linkUris:n}=this.state;return s?null:t?i.createElement(Ze,{bold:!0,enabled:!0,hasExpiredProPlusPlan:t,label:"Manage Leo",onClick:()=>{streets.service("router").loadPage(n.trainLeo)},selected:e===n.trainLeo,type:"trainLeo"}):i.createElement(je,{bold:!0,iconComponent:be.Z,selected:e===n.trainLeo,linkUri:n.trainLeo,title:"Manage Leo"})})),(0,n.Z)(this,"_onSignUpClick",(()=>{(0,Ne.YM)()})),(0,n.Z)(this,"_onLoginClick",(()=>{(0,Ne.fg)()})),(0,n.Z)(this,"_onCloseCannotDropModal",(()=>{this.setState({isCannotDropModalOpen:!1})})),(0,n.Z)(this,"_onOpenConfirmDropModal",((e,t)=>{this.setState({confirmDropModalBody:t,confirmDropModalHeader:e,isConfirmDropModalOpen:!0})})),(0,n.Z)(this,"_onCancelDrop",(()=>{this._resolveDrop(!1),this._onCloseConfirmDropModal()})),(0,n.Z)(this,"_onConfirmDrop",(()=>{this._resolveDrop(!0),this._onCloseConfirmDropModal()})),this.leftnav=streets.service("leftnav"),this.preferences=streets.service("preferences"),this.state={cannotDropModalBody:"",confirmDropModalBody:"",confirmDropModalHeader:"",hasExpiredProPlan:!1,hasExpiredProPlusPlan:!1,isConfirmDropModalOpen:!1,isCannotDropModalOpen:!1,isOnboarding:!0,issues:[],preferences:this.preferences.getPreferences(Object.values(Gs)),linkUris:{today:"my",readLater:"saved",index:"index",annotated:"board/content/"+(streets.hasBusinessAccess()?(0,Ie.LI)():(0,Ie._k)()),muteFilter:"filters",trainLeo:"trainLeo",teamAdmin:"team/gettingStarted",recentlyRead:"label/feedly.history",integrations:streets.hasAdminBusinessAccess()?"team/integrations":"account/integrations",issues:"issues"}}}componentDidMount(){this.issues=streets.service("issues"),this.onboarding=streets.service("onboarding"),this.personaltags=streets.service("personaltags"),this.priorities=streets.service("priorities"),this.profile=streets.service("profile"),this.issues.registerObserver(this),this.leftnav.registerObserver(this),this.onboarding.registerObserver(this),this.preferences.registerObserver(this),this.profile.registerObserver(this),this._updateInfo(),this._updateIssues()}componentWillUnmount(){this.issues.unregisterObserver(this),this.leftnav.unregisterObserver(this),this.onboarding.unregisterObserver(this),this.preferences.unregisterObserver(this),this.profile.unregisterObserver(this),this.issues=null,this.preferences=null,this.priorities=null,this.profile=null,this.leftnav=null}onIssuesChanged(){this._updateIssues({forceRefresh:!0})}onOnboardingChanged(e){this.setState({isOnboarding:e})}onPreferenceChanged(e){Gs[e]&&this.setState({preferences:this.preferences.getPreferences(Object.values(Gs))})}onProfileUpgraded(){this._updateInfo()}askConfirmDrop(e,t){return this._onOpenConfirmDropModal(e,t),new Promise((e=>{this._resolveDrop=e}))}render(){const{loading:e,currentUri:t,isPeeking:s,isPinned:n}=this.props,{preferences:r,isConfirmDropModalOpen:a,isCannotDropModalOpen:o}=this.state,l="team-first"===r.teamVsPersonal,c={"aria-label":"Content","aria-hidden":!n&&!s};if(!streets.getUserId())return i.createElement("nav",Object.assign({className:"LeftnavList LeftnavList--getstarted"},c),i.createElement(q.H2,null,"Personalize your Feedly"),i.createElement("p",null,"Keep up with the topics, sources, and trends that matter to you. All in one place"),i.createElement(j.z,{label:"Get Started",onClick:this._onSignUpClick}),i.createElement(j.z,{label:"Log In",importance:"secondary",onClick:this._onLoginClick}));if(e)return i.createElement("nav",Object.assign({className:"LeftnavList"},c),i.createElement(Le.g,{className:"m-x-3",details:"Feedly"}));const d=(0,Ie.fM)(t);return i.createElement("nav",Object.assign({className:"LeftnavList"},c),i.createElement("h2",{className:"screenreader-only"},"Content Navigation"),this._renderTopLinks(),i.createElement(ys,{selectedStreamId:d}),i.createElement(Ws,{selectedStreamId:d}),i.createElement(Ge,{selectedStreamId:d}),l?i.createElement(i.Fragment,null,i.createElement(Qs,{selectedStreamId:d}),i.createElement(qs,{selectedStreamId:d}),i.createElement(Us,{selectedStreamId:d}),i.createElement(Ps,{selectedStreamId:d})):i.createElement(i.Fragment,null,i.createElement(Us,{selectedStreamId:d}),i.createElement(Ps,{selectedStreamId:d}),i.createElement(Qs,{selectedStreamId:d}),i.createElement(qs,{selectedStreamId:d})),this._renderBottomLinks(),a?this._renderConfirmDropModal():null,o?this._renderCannotDropModal():null)}_renderConfirmDropModal(){const{confirmDropModalHeader:e,confirmDropModalBody:t}=this.state;return i.createElement(Pe.u,{onClose:this._onCancelDrop,small:!0},i.createElement(q.H2,{appearance:"h3"},e),t&&t.length>0&&i.createElement("div",{className:"LeftnavList__drop-modal-text"},t),i.createElement(j.z,{label:"Confirm",onClick:this._onConfirmDrop}),i.createElement(j.z,{label:"Cancel",onClick:this._onCancelDrop,importance:"secondary"}))}_renderCannotDropModal(){const{cannotDropModalBody:e}=this.state;return i.createElement(Pe.u,{onClose:this._onCloseCannotDropModal,small:!0},i.createElement("div",{className:"LeftnavList__drop-modal-text"},e),i.createElement(j.z,{label:"Ok",onClick:this._onCloseCannotDropModal}))}_renderTopLinks(){const{currentUri:e}=this.props,{issues:t,linkUris:s,preferences:n}=this.state;return i.createElement("div",{className:"m-t-2"},i.createElement(je,{bold:!0,iconComponent:Ee.Z,selected:e===s.today,linkUri:s.today,title:"Today"}),"yes"===n.indexLink&&i.createElement(je,{bold:!0,iconComponent:Ce,selected:e===s.index,linkUri:s.index,title:"Index"}),i.createElement(je,{bold:!0,iconComponent:we.Z,selected:e===s.readLater,linkUri:s.readLater,title:"Read Later"}),this._renderAnnotatedButton(),this._renderTrainLeoButton(),streets.isProLegacyPlan()&&i.createElement(je,{bold:!0,iconComponent:ke.Z,selected:e===s.muteFilter,linkUri:s.muteFilter,title:"Mute Filters"}),streets.hasAdminBusinessAccess()&&i.createElement(je,{bold:!0,iconComponent:ce.Z,selected:e===s.teamAdmin,linkUri:s.teamAdmin,title:"Manage Team"}),!!t.length&&i.createElement(je,{bold:!0,iconComponent:_e.Z,selected:e===s.issues,linkUri:s.issues,notificationCount:t.length,title:"Issues to Fix"}))}_renderBottomLinks(){const{currentUri:e}=this.props,{isOnboarding:t,linkUris:s,preferences:n}=this.state;return t?null:i.createElement("div",{className:"m-t-1 m-b-2"},i.createElement(je,{bold:!0,iconComponent:Me.Z,selected:e===s.recentlyRead,linkUri:s.recentlyRead,title:"Recently Read"}),"yes"===n.integrationsLink&&i.createElement(je,{bold:!0,iconComponent:Se.Z,selected:e===s.integrations,linkUri:s.integrations,title:"Integrations"}))}_onCloseConfirmDropModal(){this.setState({isConfirmDropModalOpen:!1,confirmDropModalBody:"",confirmDropModalHeader:""})}async _updateInfo(){const[e,t,s]=await Promise.all([this.profile.hasExpiredProPlan(),this.profile.hasExpiredProPlusPlan(),this.onboarding.askIsOnboarding()]);this.setState({hasExpiredProPlan:e,hasExpiredProPlusPlan:t,isOnboarding:s})}async _updateIssues(e){const t=await this.issues.askListIssues(e);this.setState({issues:t.filter((e=>Object.values(Te.k).includes(e.type)))})}}Ks.propTypes={currentUri:o().string,isPeeking:o().bool.isRequired,isPinned:o().bool.isRequired,loading:o().bool.isRequired},Ks.defaultProps={currentUri:""};var Js=s(99220);class Xs extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onBeforeCapture",(e=>{this.leftnav.fire("onBeforeCapture",e)})),(0,n.Z)(this,"_onDragStart",(async e=>{const{draggableId:t,type:s}=e;if(s===Je.boards){const{isEnterprise:e}=(0,Ie.Yg)(t);this._draggingTag=e?await this.enterprisetags.askLookupTag(t):await this.personaltags.askLookupTag(t)}else if(s===Je.collections)this._draggingCollection=await this.collections.askLookupCollection(t);else if(s===Je.feeds){const e=JSON.parse(t);this._draggingFeed=await this.feeds.askLookupFeed(e.feedId)}else s===Je.priorities&&(this._draggingPriority=await this.priorities.askPriority(t))})),(0,n.Z)(this,"_onFeedDragEnd",(async e=>{const{destination:t,draggableId:s,source:n}=e,i=JSON.parse(s);if(t.droppableId!==n.droppableId&&this._draggingFeed.id===i.feedId)if(!(0,Ie.Yg)(n.droppableId).isEnterprise&&!(0,Ie.Yg)(t.droppableId).isEnterprise||streets.hasAdminBusinessAccess()){this.leftnav.showFeedDragDropPlaceholders(this._draggingFeed,n.droppableId,t.droppableId);const e=await this.collections.askLookupCollection(n.droppableId),s=await this.collections.askLookupCollection(t.droppableId);await this._leftnavListRef.current.askConfirmDrop("Do you want to move ".concat(this._draggingFeed.title," from ").concat(e.label," to ").concat(s.label,"?"))?await this.collections.askMoveFeed(this._draggingFeed,n.droppableId,t.droppableId):this.leftnav.hideFeedDragDropPlaceholders(this._draggingFeed,n.droppableId,t.droppableId)}else this.commonsigns.showMessage("You do not have permission to do this.")})),(0,n.Z)(this,"_onBoardDragEnd",(async e=>{const{destination:t,draggableId:s,source:n}=e,{currentUri:i}=this.state;if(t.droppableId===Xe.personalBoards&&n.droppableId===Xe.personalBoards&&this.leftnav.askMovePersonalBoard(this._draggingTag.id,n.index,t.index),t.droppableId===Xe.teamBoards&&n.droppableId===Xe.teamBoards&&this.leftnav.askMoveTeamBoard(this._draggingTag.id,n.index,t.index),t.droppableId===Xe.personalBoards&&n.droppableId===Xe.teamBoards&&this._leftnavListRef.current.openCannotDropComponent("You can not move this team board to your personal space because some of your teammates could be following this board"),t.droppableId===Xe.teamBoards&&n.droppableId===Xe.personalBoards)if(streets.hasAdminBusinessAccess()){if(this._draggingTag.id===s){this.leftnav.showBoardDragDropPlaceholders(this._draggingTag,n.droppableId,t.droppableId,n.index,t.index);if(await this._leftnavListRef.current.askConfirmDrop("Do you want to move your personal ".concat(this._draggingTag.label," board to your team space?"),"Everyone in your team will be able to see and follow this board and contribute to it."))try{const e=await this.tags.askMoveTagToTeam(this._draggingTag,n.index,t.index);this._draggingTag.uri===i&&this._loadPage((0,Js.no)(e.id))}catch(r){this.commonsigns.showMessage("There was an error moving ".concat(this._draggingTag.label," to team boards."))}this.leftnav.hideBoardDragDropPlaceholders()}}else this.commonsigns.showMessage("You do not have permission to do this.")})),(0,n.Z)(this,"_onCollectionDragEnd",(async e=>{const{destination:t,draggableId:s,source:n}=e,{currentUri:i}=this.state;if(t.droppableId===Xe.personalCollections&&n.droppableId===Xe.personalCollections&&this.leftnav.askMovePersonalCollection(s,n.index,t.index),t.droppableId===Xe.teamCollections&&n.droppableId===Xe.teamCollections&&this.leftnav.askMoveTeamCollection(s,n.index,t.index),t.droppableId===Xe.personalCollections&&n.droppableId===Xe.teamCollections&&this._draggingCollection.id===s)if(1===this._draggingCollection.users.length&&this._draggingCollection.users[0].userId===streets.getUserId())if(streets.hasAdminBusinessAccess()){this.leftnav.showCollectionDragDropPlaceholders(this._draggingCollection,n.droppableId,t.droppableId,n.index,t.index);if(await this._leftnavListRef.current.askConfirmDrop("Do you want to move the ".concat(this._draggingCollection.label," feed to your personal space"),"Your team will not be able to follow this feed anymore"))try{const e=await this.collections.askMoveCollectionToPersonal(this._draggingCollection,n.index,t.index);this._draggingCollection.uri===i&&this._loadPage((0,Js.no)(e.id))}catch(r){"duplicate label"===r.errorMessage?this.commonsigns.showMessage("There is already a personal feed with label: ".concat(this._draggingCollection.label,".")):this.commonsigns.showMessage("There was an error moving ".concat(this._draggingCollection.label," to personal feeds."))}this.leftnav.hideCollectionDragDropPlaceholders()}else this.commonsigns.showMessage("You do not have permission to do this.");else this._leftnavListRef.current.openCannotDropComponent("You can not move this feed to your personal space because other members in your team are following it");if(t.droppableId===Xe.teamCollections&&n.droppableId===Xe.personalCollections)if(streets.hasAdminBusinessAccess()){if(this._draggingCollection.id===s){this.leftnav.showCollectionDragDropPlaceholders(this._draggingCollection,n.droppableId,t.droppableId,n.index,t.index);if(await this._leftnavListRef.current.askConfirmDrop("Do you want to move your personal ".concat(this._draggingCollection.label," feed to your team space?"),"Everyone in your team will be able to see and follow this feed and contribute to it."))try{await this.collections.askMoveCollectionToTeam(this._draggingCollection,n.index,t.index),this._draggingCollection.uri===i&&this._loadPage("my")}catch(r){"duplicate label"===r.errorMessage?this.commonsigns.showMessage("There is already a team feed with label: ".concat(this._draggingCollection.label,".")):this.commonsigns.showMessage("There was an error moving ".concat(this._draggingCollection.label," to team feeds."))}this.leftnav.hideCollectionDragDropPlaceholders()}}else this.commonsigns.showMessage("You do not have permission to do this.")})),(0,n.Z)(this,"_onPrioritiesDragEnd",(e=>{const{destination:t,draggableId:s,source:n}=e;t.droppableId===Xe.priorities&&n.droppableId===Xe.priorities&&this._draggingPriority.id===s&&this.leftnav.askMovePriority(this._draggingPriority.id,n.index,t.index)})),(0,n.Z)(this,"_onFavoritesDragEnd",(e=>{const{destination:t,draggableId:s,source:n}=e;if(t.droppableId===Xe.favorites&&n.droppableId===Xe.favorites){const e=this.preferences.getFavorites(),i=s.substring(10),r=[...e];r.splice(n.index,1),r.splice(t.index,0,i),this.preferences.setFavorites(r)}})),(0,n.Z)(this,"_onDragEnd",(async e=>{const{destination:t,type:s}=e;this.leftnav.fire("onDragEnd",e),t&&(s===Je.boards?this._onBoardDragEnd(e):s===Je.collections?this._onCollectionDragEnd(e):s===Je.feeds?this._onFeedDragEnd(e):s===Je.priorities?this._onPrioritiesDragEnd(e):s===Je.favorites&&this._onFavoritesDragEnd(e))})),this._leftnavListRef=i.createRef(),this._draggingTag=null,this._draggingFeed=null,this._draggingCollection=null,this._draggingPriority=null,this.state={currentUri:""}}componentDidMount(){this.collections=streets.service("collections"),this.commonsigns=streets.service("commonsigns"),this.enterprisetags=streets.service("enterprisetags"),this.feeds=streets.service("feeds"),this.personaltags=streets.service("personaltags"),this.preferences=streets.service("preferences"),this.priorities=streets.service("priorities"),this.tags=streets.service("tags"),this.leftnav=streets.service("leftnav"),this.router=streets.service("router"),this.router.registerObserver(this)}componentWillUnmount(){this.router.unregisterObserver(this),this.router=null,this.leftnav=null,this.collections=null,this.commonsigns=null,this.feeds=null,this.personaltags=null,this.priorities=null,this.preferences=null,this.tags=null}onFeedlyUriChanged(e){const{currentUri:t}=this.state;t!==e&&("latest"===e?this.setState({currentUri:"collection/content/".concat(streets.service("preferences").getPreferences(["isTeamFirst"]).isTeamFirst?(0,Ie.sX)():(0,Ie.N1)())}):this.setState({currentUri:e}))}render(){const{children:e}=this.props,{currentUri:t}=this.state;return i.createElement(Ke.Z5,{onDragStart:this._onDragStart,onDragEnd:this._onDragEnd,onBeforeCapture:this._onBeforeCapture},i.cloneElement(i.Children.only(e),{currentUri:t,ref:this._leftnavListRef}))}_loadPage(e){this.router.loadPage(e)}}Xs.propTypes={children:o().node.isRequired};const $s=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{clipPath:"url(#thumbtack-sm_svg__a)"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.268 2.268a.5.5 0 0 1 .707 0l5.657 5.657a.5.5 0 1 1-.707.707l-.94-.94-4.454 8.274 1.151 1.151a.5.5 0 0 1-.707.707l-9.9-9.9a.5.5 0 0 1 .707-.706l1.152 1.15 8.273-4.454-.94-.94a.5.5 0 0 1 0-.706Zm1.677 2.384L4.672 9.107l6.12 6.12 4.455-8.273-2.302-2.302Zm-6.627 8.93a.5.5 0 0 1 0 .707l-3.536 3.535a.5.5 0 1 1-.707-.707l3.536-3.536a.5.5 0 0 1 .707 0Z",fill:"currentColor"})),i.createElement("defs",null,i.createElement("clipPath",{id:"thumbtack-sm_svg__a"},i.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"}))))}));class en extends i.PureComponent{render(){const{onClick:e}=this.props;return r.createPortal(i.createElement("div",{className:"Leftnav__pin LeftnavPin",onClick:e},i.createElement("div",{className:"LeftnavPin__background"}),i.createElement($s,{className:"LeftnavPin__icon",importance:"tertiary"})),document.getElementById("feedlyChrome__leftnav-pin-wrapper"))}}en.propTypes={onClick:o().func.isRequired};class tn extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"state",{isLoading:!0}),(0,n.Z)(this,"_handleClick",(e=>{var t;if(null!==(t=this._ref)&&void 0!==t&&t.current&&!this._ref.current.contains(e.target)){const{endPeek:e}=this.props;e()}}))}async componentDidMount(){try{await Promise.all([streets.service("leo").askIsLeoEnabled(),streets.service("enterprisecollections").askListRankedSubscribedCollections(),streets.service("enterprisetags").askListSubscribedTags(),streets.service("personalcollections").askListRankedCollections(),streets.service("personaltags").askListTags(),streets.service("priorities").askListRankedPriorities(),streets.service("onboarding").askIsOnboarding()])}catch(e){console.error(e)}this.setState({isLoading:!1}),this._ref=i.createRef(),document.addEventListener("click",this._handleClick)}componentWillUnmount(){document.removeEventListener("click",this._handleClick)}render(){const{pageInfo:e}=this.props;if(null==e&&!streets.getUserId()||null!=e&&e.reactClass.requiresFullScreen())return null;const{isHidden:t,isPeeking:s,isPinned:n,endPeek:r,togglePeek:a,togglePinned:o}=this.props,{isLoading:l}=this.state;return i.createElement("div",{className:"Leftnav","aria-hidden":t,ref:this._ref},i.createElement(ye,{loading:l,endPeek:r,togglePeek:a}),i.createElement(Xs,null,i.createElement(Ks,{loading:l,isPeeking:s,isPinned:n})),i.createElement(en,{onClick:o}))}}tn.propTypes={endPeek:o().func.isRequired,isHidden:o().bool.isRequired,isPeeking:o().bool.isRequired,isPinned:o().bool.isRequired,pageInfo:o().shape({reactClass:o().func}),togglePeek:o().func.isRequired,togglePinned:o().func.isRequired},tn.defaultProps={pageInfo:void 0};var sn=s(3e3),nn=s(57855),rn=s(83168),an=s(99979);class on extends rn.y{constructor(){super(...arguments),(0,n.Z)(this,"_togglePeek",(()=>{this._isPinned||(this._isPeeking?this._endPeek():(this._isPeeking=!0,this._onChromeLayoutChanged(),this._render()))})),(0,n.Z)(this,"_togglePinned",(()=>{this._isPinned?this._unpin():this._pin()})),(0,n.Z)(this,"_render",(()=>{r.render(i.createElement(tn,{pageInfo:this.pageInfo,isHidden:this._isHidden,isPeeking:this._isPeeking,isPinned:this._isPinned,endPeek:this._endPeek,togglePeek:this._togglePeek,togglePinned:this._togglePinned}),this._leftnavWrapper)})),(0,n.Z)(this,"_endPeek",(()=>{this._isPeeking&&(this._isPeeking=!1,this._onChromeLayoutChanged(),this._render())}))}setFeedly(e){this.feedly=e}setPersonaltags(e){this.personaltags=e}setPersonalcollections(e){this.personalcollections=e}setEnterprisetags(e){this.enterprisetags=e}setEnterprisecollections(e){this.enterprisecollections=e}setPersonalfilters(e){this.personalfilters=e}setPersonalmutefilters(e){this.personalmutefilters=e}setPriorities(e){this.priorities=e}setEnterprisepriorities(e){this.enterprisepriorities=e}setPersonalpriorities(e){this.personalpriorities=e}load(){if(this.storage=(0,an.k)(),this._isPeeking=!1,this._isHidden=!1,this._isPinned=!1,streets.getUserId()){const e=this.storage.getItem("feedly.leftnav.pinned");e?this._isPinned="yes"===e:(this.storage.setItem("feedly.leftnav.pinned","yes"),this._isPinned=!0)}this._leftnavWrapper=document.getElementById("feedlyChrome__leftnav-wrapper"),this.feedlyChromeElem=document.getElementById("feedlyChrome"),this._onChromeLayoutChanged()}unload(){this._leftnavWrapper=null}async onUserIdentified(){this._render()}async onNoUserIdentified(){this._render()}onUserUpgraded(){this._render()}onBeforePageLoad(e){this.pageInfo=e,this._endPeek(),this._render()}askMovePriority(e,t,s){this.fire("onMovePriority",e,t,s)}askMoveTeamCollection(e,t,s){this.fire("onMoveTeamCollection",e,t,s)}askMoveTeamBoard(e,t,s){this.fire("onMoveTeamBoard",e,t,s)}askMovePersonalCollection(e,t,s){this.fire("onMovePersonalCollection",e,t,s)}askMovePersonalBoard(e,t,s){this.fire("onMovePersonalBoard",e,t,s)}showFeedDragDropPlaceholders(e,t,s){this.fire("onShowFeedDragDropPlaceholders",e,t,s)}hideFeedDragDropPlaceholders(e,t,s){this.fire("onHideFeedDragDropPlaceholders",e,t,s)}showCollectionDragDropPlaceholders(e,t,s,n,i){this.fire("onShowCollectionDragDropPlaceholders",e,t,s,n,i)}hideCollectionDragDropPlaceholders(e,t,s,n,i){this.fire("onHideCollectionDragDropPlaceholders",e,t,s,n,i)}showBoardDragDropPlaceholders(e,t,s,n,i){this.fire("onShowBoardDragDropPlaceholders",e,t,s,n,i)}hideBoardDragDropPlaceholders(e,t,s){this.fire("onHideBoardDragDropPlaceholders",e,t,s)}isFullScreenMode(){return this._isHidden}getPreferredWidth(){if(this._isHidden)return 0;const e=(0,nn.x5)(document)>1440;return this._isPinned?e?384:318:e?64:48}enterFullScreenMode(){this._isHidden=!0,this._onChromeLayoutChanged(),this.feedly.reflow(),this._render()}leaveFullScreenMode(){this._isHidden=!1,this._onChromeLayoutChanged(),this.feedly.reflow(),this._render()}_pin(){this._isPeeking=!1,this._isPinned=!0,this._isHidden=!1,this.storage.setItem("feedly.leftnav.pinned","yes"),this._onChromeLayoutChanged(),this.feedly.reflow(),this._render()}_unpin(){this._isPeeking=!1,this._isPinned=!1,this._isHidden=!1,this.storage.setItem("feedly.leftnav.pinned","no"),this._onChromeLayoutChanged(),this.feedly.reflow(),this._render()}_onChromeLayoutChanged(){let e;e=!streets.getUserId()&&(0,sn.kC)()||this._isHidden?"feedlyChrome--leftnav-hidden":this._isPinned?"feedlyChrome--leftnav-open":this._isPeeking?"feedlyChrome--leftnav-peek":"feedlyChrome--leftnav-closed",["feedlyChrome--leftnav-hidden","feedlyChrome--leftnav-open","feedlyChrome--leftnav-peek","feedlyChrome--leftnav-closed"].forEach((e=>{this.feedlyChromeElem.classList.remove(e)})),this.feedlyChromeElem.classList.add(e)}}function ln(e){return new on(e)}},44282:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{load(){}intialize(){}onBeforePageLoad(){this.reset()}uninitialize(){}unload(){}setMarkAsReadScope(e){this.markAsReadScope=e,this.markAsReadLimit=(new Date).getTime()}getMarkAsReadScope(){return this.markAsReadScope}getMarkAsReadLimit(){return this.markAsReadLimit}setEntries(e){this.entries=e}getEntries(){return this.entries||[]}hasEntries(){const e=this.getEntries();return e&&e.length>0}lookupEntry(e){return this.getEntries().find((t=>t.getId()===e))}listEntryIds(){const e=[];return this.getEntries().forEach((t=>{e.push(t.getId())})),e}setScrollIndex(e){this.scrollIndex!==e&&(this.scrollIndex=e,this.fire("onNavigationChanged",this.getState()))}setNextURI(e){this.nextURI=e}getNextURI(){return this.nextURI}setPreviousURI(e){this.previousURI=e}getPreviousURI(){return this.previousURI}reset(){this.entries=[],this.focusSelectedEntry=null,this.selectedEntryId=null,this.inlinedEntryId=null,this.inlineMode=null,this.selectedPreInline=null,this.markAsReadScope=null,this.nextURI=null,this.previousURI=null,this.markAsReadLimit=null,this.scrollIndex=null,this.fire("onNavigationChanged",this.getState())}selectEntry(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.selectedEntryId&&(this.focusSelectedEntry=t,this.selectedEntryId=e,this.fire("onNavigationChanged",this.getState()))}inlineEntry(e,t){e===this.inlinedEntryId&&t===this.inlineMode||(this.focusSelectedEntry=!1,this.selectedPreInline=null!==this.selectedEntryId,this.selectedEntryId=e,this.inlinedEntryId=e,this.inlineMode=t,this.fire("onNavigationChanged",this.getState()))}uninlineEntry(){this.inlinedEntryId&&(!0!==this.selectedPreInline&&(this.selectedEntryId=null),this.focusSelectedEntry=null,this.inlinedEntryId=null,this.inlineMode=null,this.selectedPreInline=null,this.fire("onNavigationChanged",this.getState()))}unselectEntry(){this.selectedEntryId&&(this.focusSelectedEntry=null,this.selectedEntryId=null,this.fire("onNavigationChanged",this.getState()))}getPreviousEntry(e){return this.entries[this.entries.findIndex((t=>t.id===e))-1]}lookupNextEntry(e){if(!this.entries||0===this.entries.length)return null;let t;for(let s=this._findMatchingEntryIndex(this.selectedEntryId,-1)+1;s<this.entries.length&&!t;s++)e&&this.entries[s].isRead()||(t=this.entries[s]);return t}lookupPreviousEntry(e){if(!this.entries||0===this.entries.length)return null;if(!this.selectedEntryId)return null;let t;for(let s=this._findMatchingEntryIndex(this.selectedEntryId,this.entries.length)-1;s>=0&&!t;s--)e&&this.entries[s].isRead()||(t=this.entries[s]);return t}getState(){return{focusSelectedEntry:this.focusSelectedEntry,selectedEntryId:this.selectedEntryId,inlinedEntryId:this.inlinedEntryId,inlineMode:this.inlineMode}}_findMatchingEntryIndex(e,t){for(let s=0;s<this.entries.length;s++)if(this.entries[s].getId()===this.selectedEntryId)return s;return t}}function r(e){return new i(e)}},58826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var n=s(32735),i=s(12788),r=s(40841),a=s.n(r),o=s(60216),l=s.n(o),c=s(19577),d=s(40830),h=s(92316),u=s(4425),p=s(56732),m=s(53670),g=s(2772);const f=" modal-open";class y extends n.Component{constructor(e){super(e),this.state={activeSlide:0}}componentDidMount(){document.body.className+=f}componentWillUnmount(){document.body.className=document.body.className.replace(f,"")}render(){const{allowClose:e,onClose:t}=this.props;return n.createElement("div",{className:"fx"},n.createElement("div",{className:"modal-overlay"},e&&n.createElement("button",{className:"modal-close",onClick:t.bind(this)},n.createElement(c.Z,{color:"white",importance:"primary"})),this._renderModal()))}_renderModal(){return n.createElement("div",{className:"modal-notifications"},this._loadCacheImages(),this._renderSlide(),n.createElement("div",{className:"modal-navigation"},this._renderNavigation()))}_renderSlide(){const e=[],t=[],s=this.props.slides[this.state.activeSlide];s.badge&&e.push(n.createElement("div",{className:"badge secondary",key:"modal-badge"},s.badge)),s.visual&&e.push(n.createElement(p.Q,{src:s.visual,className:"modal-visual",key:"illustration-".concat(s.header)})),s.header&&t.push(n.createElement(g.H2,{key:"modal-header"},s.header)),s.sub&&t.push(n.createElement("p",{className:"m-b-0",key:"modal-sub"},s.sub)),e.push(n.createElement("div",{className:"modal-content m-b-1",key:"modal-content"},t));const i=a()({item:!0,animate:!!this.state.animateWay,"animate-next":"byTheRight"===this.state.animateWay,"animate-prev":"byTheLeft"===this.state.animateWay});return n.createElement("div",{key:"slide-".concat(this.state.activeSlide),onAnimationEnd:e=>{this.state.animateWay&&e.currentTarget.classList.remove("animate")},className:i},e)}_renderNavigation(){const{activeSlide:e}=this.state,t=[],s=[],i=[];for(let r=0;r<this.props.slides.length;r+=1){const t=a()({dots:!0,active:e===r});s.push(n.createElement("span",{key:"dot-".concat(r),className:t,role:"button",onClick:this._showSlide.bind(this,r)}))}return t.push(n.createElement("div",{className:"carousel-dots",key:"carousel-dots"},s)),this.props.slides.length>1&&i.push(n.createElement(m.z,{key:"button-prev",importance:"primary",icon:n.createElement(d.Z,{color:"white"}),disabled:0===e,onClick:this._showSlide.bind(this,e-1)})),this.props.slides.length>1&&e<this.props.slides.length-1&&i.push(n.createElement(m.z,{key:"button-next",importance:"primary",icon:n.createElement(h.Z,{color:"white"}),onClick:this._showSlide.bind(this,e+1)})),e===this.props.slides.length-1&&i.push(n.createElement(m.z,{key:"button-end",importance:"primary",icon:n.createElement(u.Z,{color:"white"}),onClick:this._onDone.bind(this)})),t.push(n.createElement("div",{className:"carousel-buttons",key:"carousel-buttons"},i)),t}_onDone(){this.props.onDone("Done")}_showSlide(e){let t="byTheRight";e<this.state.activeSlide&&(t="byTheLeft"),this.setState({activeSlide:e,animateWay:t})}_loadCacheImages(){const{slides:e}=this.props,t=[];return e.forEach((e=>{t.push(n.createElement("img",{src:e.visual,alt:e.header,key:"cache-image-".concat(e.visual)}))})),n.createElement("div",{className:"modal-cache-images"},t)}}y.propTypes={allowClose:l().bool,onDone:l().func,onClose:l().func,slides:l().array};var v=s(90514),b=s(90197),E=s(83168);const C=b.Z[0].data,w=b.Z[1].data,k=b.Z[3].data,_=b.Z[2].data;class M extends E.y{setAnalytics(e){this.analytics=e}load(){this.element=document.getElementById("notifications")}unload(){this.element=null}unitTest(e){switch(e){case"teamInvitee":this.askShowCarouselPopup(C).then((e=>{console.log("[journey] Team Welcome Unit test result:",e)}));break;case"boardLaunch":this.askShowCarouselPopup(w).then((e=>{console.log("[journey] Board Launch Unit test result:",e)}));break;case"filtersLaunch":this.askShowCarouselPopup(k).then((e=>{console.log("[journey] Mute Filters Launch Unit test result:",e)}));break;default:this.askShowSpotlightPopup(_).then((e=>{console.log("[journey] Newsletter Launch Unit test result:",e)}))}}askShowCarouselPopup(e){return document.body.classList.add("modal-open"),new Promise(((t,s)=>{i.render(n.createElement(y,{slides:e.slides,onDone:()=>{this._closeModal(),t("Done")},onClose:()=>{this._closeModal(),t("Close")},allowClose:e.allowClose}),this.element)}))}askShowSpotlightPopup(e){return document.body.classList.add("modal-open"),new Promise(((t,s)=>{i.render(n.createElement(v._,{information:e,onPrimaryAction:()=>{this._closeModal(),t(e.primaryAction)},onTertiaryAction:()=>{this._closeModal(),t(e.tertiaryAction)},onClickOutside:()=>{this._closeModal(),t("clickOutside")},allowClose:e.closeOutside}),this.element)}))}_closeModal(){document.body.classList.remove("modal-open"),i.unmountComponentAtNode(this.element)}}function S(e){return new M(e)}},88611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(47169),i=s(32735),r=s(12788),a=s(2463),o=s.n(a),l=s(40841),c=s.n(l),d=s(60216),h=s.n(d),u=s(6844),p=s(39970);class m extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{query:void 0,matched:[],selectedIndex:-1}),(0,n.Z)(this,"_onKeyDown",(e=>{const t=e.keyCode;if(9===t||38===t||40===t||13===t&&!e.ctrlKey&&!e.metaKey){if(e.preventDefault(),38===t)this.setState((e=>{let{selectedIndex:t}=e;return{selectedIndex:Math.max(0,t-1)}}));else if(40===t)this.setState((e=>{let{selectedIndex:t,matched:s}=e;return{selectedIndex:Math.min(s.length-1,t+1)}}));else if(13===t||9===t){const e=this.state.matched[this.state.selectedIndex];e&&this.props.onPick(e.uri)}}else 27===t&&this.setState({selectedIndex:-1})})),(0,n.Z)(this,"_onKeyUp",(e=>{this._updateQuery(e.target.value)}))}componentDidMount(){this._updateQuery("")}render(){return i.createElement("div",{className:"QuickGoto__container"},i.createElement("input",{type:"text",id:"quickGotoInput",className:"QuickGoto__input",onKeyUp:this._onKeyUp,onKeyDown:this._onKeyDown,autoComplete:"off"}),this._renderResults())}_renderResults(){const{query:e,matched:t,selectedIndex:s}=this.state;if(!t.length)return i.createElement("div",null,"No matches");const{onPick:n}=this.props;return i.createElement("div",{className:"QuickGoto__list"},t.map(((t,r)=>{const a=t.uri,o=t.unreadCount||0;return i.createElement("div",{key:a,className:c()("QuickGoto__item",{"QuickGoto__item--selected":r===s}),onMouseEnter:()=>{this.setState({selectedIndex:r})},onClick:()=>{n(a)}},i.createElement(p.L,{wordClassName:"QuickGoto__bold",wrapper:"span",words:e,text:t.title||t.label}),o>0&&i.createElement("span",{className:"QuickGoto__unread-count"},(0,u.U)(o)))})))}_updateQuery(e){if(e===this.state.query)return;const t=new RegExp(o()(e),"i");let s=this._doMatches(e,t);if(""===e){const e=s.filter((e=>e.unreadCount>0));e.length>2&&(s=e)}s=s.slice(0,10),this.setState({query:e,matched:s,selectedIndex:s.length>0?0:-1})}_doMatches(e,t){const{data:s,max:n}=this.props,i=[];if(!s)return i;for(let r=0;r<s.length;r++)i.length<n+0&&t.test(s[r].title||s[r].label)&&i.push(s[r]);return i}}m.propTypes={data:h().array.isRequired,max:h().number.isRequired,onPick:h().func.isRequired};var g=s(83168),f=s(32285);class y extends g.y{constructor(){super(...arguments),(0,n.Z)(this,"isHidden",!0),(0,n.Z)(this,"_onClick",(e=>{this.part.contains(e.target)||this.hide()})),(0,n.Z)(this,"_onPick",(e=>{this.hide(),this.router.loadPage(e)}))}setRouter(e){this.router=e}setCollections(e){this.collections=e}setPersonaltags(e){this.personaltags=e}setEnterprisetags(e){this.enterprisetags=e}setShortcuts(e){this.shortcuts=e}load(){document.addEventListener("click",this._onClick)}initialize(){this.part=document.getElementById("quickGoto")}unload(){document.removeEventListener("click",this._onClick),this.router=null,this.personaltags=null,this.enterprisetags=null,this.part=null}onShortcutKey(e){e===f.PC.close&&this.hide()}onShortcutKeyInInput(e){e===f.PC.close&&this.hide()}_render0(){this.isHidden&&(this.part.style.display="block",this.part.style.webkitTransitionDuration="0ms",this.part.style.opacity=0,this.part.style.webkitTransform="scale( 0.5 )",this.isHidden=!1)}_center0(){const e=window,t=e.pageYOffset+(e.innerHeight-this.part.offsetHeight)/2+"px",s=Math.floor((e.innerWidth-this.part.offsetWidth)/2)+"px";this.part.style.top=t,this.part.style.left=s}async show(){if(null==streets.getUserId())return;const[e,t,s,n]=await Promise.all([this.collections.askListAllFeeds(),this.collections.askListCollections(),this.personaltags.askListTags(),this.enterprisetags.askListSubscribedTags()]),a=[...t,...e,...s,...n];r.render(i.createElement(m,{onPick:this._onPick,max:1e3,data:a}),this.part),this._render0(),this.shortcuts.claim(this,f.PC.close),window.setTimeout((()=>{this._center0(),window.setTimeout((()=>{this.part.style.webkitTransitionDuration="200ms",this.part.style.opacity=1,this.part.style.webkitTransform="scale( 1 )",document.getElementById("quickGotoInput").focus()}),10)}),10)}hide(){this.isHidden||(this.shortcuts.unclaim(this,f.PC.close),this.part.style.webkitTransitionDuration="350ms",this.part.style.opacity=0,window.setTimeout((()=>{null!=this.part&&(r.unmountComponentAtNode(this.part),this.part.style=null,this.isHidden=!0)}),500))}}function v(e){return new y(e)}},37877:(e,t,s)=>{"use strict";s.d(t,{P:()=>m,g:()=>u});var n=s(47169),i=s(32735),r=s(12788),a=s(32285);function o(){return i.createElement("div",{className:"HelpSign"},i.createElement("div",{className:"HelpSign__hint"},"ESC to close"),i.createElement("div",{className:"HelpSign__title"},"Keyboard Shortcuts Help"),a.VR.map((e=>{let{sectionLabel:t,list:s}=e;return i.createElement("div",{key:t,className:"HelpSign__section"},i.createElement("div",{className:"HelpSign__section-title"},t),s.map((e=>{let{keyboardShortcut:t,label:s}=e;return i.createElement("div",{key:t,className:"HelpSign__item"},i.createElement("span",{className:"HelpSign__shortcut"},t),s)})))})))}var l=s(57855),c=s(83168),d=s(85902);class h extends c.y{constructor(e,t,s,i,r,a){super(e),(0,n.Z)(this,"_show1",(()=>{null!=this._part&&(this._part.style.opacity=this._opacity/100,this._opacity+=this._increment,this._opacity>=this._targetOpacity&&(this._opacity=this._targetOpacity,this._part.style.opacity=this._targetOpacity/100),this._opacity<this._targetOpacity?this._timer=window.setTimeout(this._show1,25):this._oneShotAutoHideDelay>0?(this._timer=window.setTimeout(this._hide1,this._oneShotAutoHideDelay),this._oneShotAutoHideDelay=0):!0===this._autoHide&&this._autoHideDelay>0&&(this._timer=window.setTimeout(this._hide1,this._autoHideDelay)))})),(0,n.Z)(this,"_hide1",(()=>{null!=this._part&&(this._opacity-=this._increment,this._opacity>=0?(this._part.style.opacity=this._opacity/100,this._timer=window.setTimeout(this._hide1,50)):this._hide0())})),this._partId=t,this._targetOpacity=s,this._autoHideDelay=i,this._increment=r,this._centered=a,this._timer=null,this._opacity=0,this._part=null,this._autoHide=!0,this._oneShotAutoHideDelay=0}load(){}initialize(){const e=document.createElement("div");e.id=this._partId,document.body.appendChild(e),this._part=e,this._hide0()}uninitialize(){this._part=null}unload(){}getPart(){return this._part}_show0(){this._part.style.display="block",this._centered&&(this._part.style.top=document.defaultView.pageYOffset+((0,l.$$)(document)-this._part.offsetHeight)/2+"px",this._part.style.left=((0,l.x5)(document)-this._part.offsetWidth)/2+"px")}_hide0(){null!=this._part&&(this._part.style.display="none",this._opacity=0,this._timer=null,this._autoHide=!0)}showMessage(e,t,s,n){this._part.className=n||"",this._part.innerHTML=(0,d.rZ)(e),this._show(t,s)}setSecondaryMessage(e){this.setNextAutoHideDelay(3e4),this.showMessage(e,null,null,"secondary")}setDefaultErrorMessage(e){const t=e?"Error: ".concat(e.errorMessage||e.message||e):"An unknown error has occurred";this.showError(t)}showError(e){this.setNextAutoHideDelay(3e3),this.showMessage(e,null,null,"error")}setHTMLMessage(e){this._part.innerHTML=e,this._show()}setNextAutoHideDelay(e){this._oneShotAutoHideDelay=e}_show(e,t){null==e&&(e=.5),e>0&&(this._opacity=e),this._autoHide=null==t||t,this._show0(),this._part.style.opacity=this._opacity/100,100==e&&0==t||(this._timer=window.setTimeout(this._show1,100))}hide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._oneShotAutoHideDelay=0,null!=e&&(this._opacity=e),null!=this._timer&&(window.clearTimeout(this._timer),this._timer=null),0===e?this._hide0():this._timer=window.setTimeout(this._hide1,1)}isVisible(){return this._opacity>0}}function u(e){return new h(e,"feedlySignPart",99,1500,10,!1)}class p extends h{setShortcuts(e){this.shortcuts=e}load(){this.shortcuts.registerObserver(this)}unload(){this.shortcuts.unregisterObserver(this)}onShortcutKey(e){this.isVisible()&&e!==a.PC.openShortcutMenu&&this.hide()}showHelpSign(){this.isVisible()||(this.shortcuts.claim(this,a.PC.close),r.render(i.createElement(o,null),this._part),this._show())}hide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.shortcuts.unclaim(this,a.PC.close),super.hide(e)}}function m(e){return new p(e,"feedlyHelpSignPart",100,0,30,!0)}},52393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var n=s(47169),i=s(32735),r=s(12788),a=s(85933),o=s(60216),l=s.n(o),c=s(54960),d=s(85902),h=s(16113),u=s(264),p=s(58074),m=s(12859),g=s(65940),f=s(23005),y=s(94759),v=s(9990),b=s(66772),E=s(81501),C=s(62066),w=s(31234),k=s(40150);class _ extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{showLeoAnimationWhileLoading:!1,stream:void 0})}componentDidMount(){this.reader=streets.service("reader"),this.reader.registerObserver(this),this._initializeStream()}componentWillUnmount(){this.stream&&(this.reader.releaseStream(this.stream),this.stream=null),clearTimeout(this._leoAnimationTimeout),this._leoAnimationTimeout=null,this.reader.unregisterObserver(this),this.reader=null}onStreamStateChanged(e){this.props.streamId===e&&this.setState({stream:this.stream.getState()})}onStreamIsLoadingEntries(e){this.props.streamId===e&&this.setState({stream:this.stream.getState()})}render(){const{stream:{entries:e,error:t,featuredEntries:s,info:n}={}}=this.state;return t?i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement("div",{className:"message error"},"Error: ",t))):n?i.createElement("div",{className:"fx"},i.createElement("div",{className:"feed-preview container630 centered m-b-2"},i.createElement(E.L,{scrollParent:".floatingEntryScroller",target:"#header-title"},(e=>{let{isSticky:t}=e;return i.createElement("div",null,this._renderHeader({isSticky:!1}),t&&this._renderHeader({isSticky:t}))})),this._renderEntries(),e&&s&&i.createElement(y.v,{headingComponent:v.H3,streamId:this.props.streamId,view:"large"}))):i.createElement("div",{className:"fx"},i.createElement("div",{className:"container630 centered"},i.createElement(f.g,{details:"Source"})))}_renderHeader(e){let{isSticky:t}=e;const{scheme:s,streamId:n}=this.props,{stream:r}=this.state,a=[],o=[];return r.info.private||a.push(i.createElement(m.g,{key:"followers",className:"detail",count:r.info.subscribers})),a.push(i.createElement(C.M,{key:"velocity",className:"detail",count:r.info.velocity})),this.state.stream.info.topics&&(this.state.stream.info.topics.slice(0,3).forEach((e=>{o.push(i.createElement(b.r,{key:e,uri:"top/".concat(e.toLowerCase(),"-blogs")},"#",e.toLowerCase()))})),a.push(i.createElement("span",{key:"list-tags",className:"detail list-tags"},o))),i.createElement(g.m,{actions:[i.createElement(h.A,{analyticsContext:"feedPreviewSlider",key:"subscribe",feedId:n,scheme:s})],compact:t,dataUri:t?"":"subscription/".concat(encodeURIComponent(n)),details:t?null:a,headingColumnCount:8,kicker:t?"":"Source",sub:t?"":(0,d.oN)(r.info.description),sticky:t,title:r.info.title})}_renderEntries(){const{showLeoAnimationWhileLoading:e,stream:{entries:t,featuredEntries:s,info:n,isLoadingEntries:r,isLoadingFeaturedEntries:a,version:o}={}}=this.state;if(!t&&!s)return e?i.createElement(u.u,{className:"m-t-3",header:"Loading articles...",illustration:w,illustrationDark:k}):i.createElement(f.g,{details:"articles"});if(t&&0===t.length&&s&&0===s.length)return(0,c.XP)(n.id)?i.createElement("div",null,i.createElement("p",null,"This keyword alert does not match any articles at this point."),i.createElement("p",null,"Suggestions:"),i.createElement("ul",null,i.createElement("li",null,"Check that all words are spelled correctly"),i.createElement("li",null,"Try a more general keyword"),n.id.indexOf("site:")>-1&&i.createElement("li",null,"Make sure the site you selected is a valid news site"))):i.createElement("p",null,"This feed does not have any entries at the moment.");let l,d;return s&&s.length>0&&(l=i.createElement("div",{key:"featuredEntries"},i.createElement(v.H3,{appearance:"h4",key:"headingForFeaturedEntries"},"Most popular"),i.createElement(p.f,{entries:s,layout:"u4",hasAllEntries:!1,isLoading:a,streamVersion:o}))),t&&t.length>0&&(d=i.createElement(p.f,{dateHeadingComponent:v.H3,entries:t,layout:"u4",isLoading:r,showDateHeadings:!0,hasAllEntries:!0,headingField:"published",endOfFeedLabel:"",streamVersion:o})),i.createElement("div",null,l,d)}_initializeStream(){const{streamId:e}=this.props;this.stream=this.reader.lookupStream(e,{unreadOnly:!1,featured:1,sort:"newest",batchSize:9}),this.stream.registerObserver(this),this.setState({stream:this.stream.getState()}),this._leoAnimationTimeout=setTimeout((()=>{this.setState({showLeoAnimationWhileLoading:!0})}),2500)}}_.propTypes={scheme:l().string,streamId:l().string.isRequired},_.defaultProps={scheme:""};var M=s(7761),S=s(13433);function I(e){let{term:t}=e;return i.createElement("div",{className:"InYourFeedlySearchSlide fx"},i.createElement(S.T,{pageInfo:{beyondSearchOptions:{layers:[{parts:[t],salience:M.mb.mention,type:"matches"}]}}}))}I.propTypes={term:l().oneOfType([l().shape({text:l().string.isRequired}),l().shape({id:l().string.isRequired,label:l().string.isRequired})]).isRequired};var T=s(89248),N=s(48978),L=s(40841),P=s.n(L),D=s(26211),A=s.n(D),O=s(75401);class x extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isSubscribed:null,feedId:null,feedTitle:null})}onFeedChanged(e){e===this.state.feedId&&this._updateIsSubscribed()}componentDidMount(){this.feeds=streets.service("feeds"),this.reader=streets.service("reader"),this.enterprisecollections=streets.service("enterprisecollections"),this.personalcollections=streets.service("personalcollections"),this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this.reader.registerObserver(this),this._updateEntry()}componentDidUpdate(e){const{entryId:t}=this.props;e.entryId!==t&&this._updateEntry()}componentWillUnmount(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.reader.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.feeds=null}render(){const{feedTitle:e,feedId:t,isSubscribed:s}=this.state;return null===s||s?null:i.createElement("div",{className:"u100Header-banner"},i.createElement("div",{className:"sliderWidth sliderCenter fx"},i.createElement(h.A,{analyticsContext:"entrySlider",float:"right",feedId:t,size:"small"}),i.createElement("div",{className:"u100Header-banner-info"},"Get"," ",i.createElement("span",{className:"u100Header-banner-title",id:"banner100title"}," ",i.createElement("b",null,e)," ")," ","delivered to your Feedly.")))}async _updateEntry(){const{entryId:e}=this.props,t=await this.reader.askLookupEntry(e);t?t.getFeedId()?t.metadata.tutorial||this.setState({feedId:t.getFeedId(),feedTitle:t.getSourceTitle()},this._updateIsSubscribed):console.log("[follow header] entry has not feed:"+e):console.log("[follow header] entry not found:"+e)}async _updateIsSubscribed(){const{feedId:e}=this.state;if(!e)return void this.setState({isSubscribed:null});const t=await this.feeds.askMetadata(e);if(!this.feeds)return;const s=await this.feeds.askIsFeedSubscribed(t);this.setState({isSubscribed:s})}}x.propTypes={entryId:l().string.isRequired};var R=s(763),j=s(45538),F=s(28430),U=s(53670);class z extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_animateOpen",(e=>{const{right:t}=this.state,s=Math.ceil((Date.now()-this.endTime)*e);this.endTime=Date.now();const n=Math.min(t+s,0);this.setState({right:n}),0===n&&clearInterval(this.openInterval)})),(0,n.Z)(this,"_confirmCloseAll",(async()=>{const e=this._slideBodyRef&&this._slideBodyRef.current;let t=!1;e&&e.askConfirmExit&&(t=await e.askConfirmExit()),t||this.slider.closeAll()})),(0,n.Z)(this,"_confirmCloseTop",(async e=>{const t=this._slideBodyRef&&this._slideBodyRef.current;let s=!1;t&&t.askConfirmExit&&(s=await t.askConfirmExit()),s||this.slider.closeTop(e)})),(0,n.Z)(this,"_onKeyDown",(e=>{var t;if(!(0,j.E)(e)&&null!==(t=this._scrollerRef)&&void 0!==t&&t.current){let t=!1;"ArrowDown"===e.key?t=30:"PageDown"===e.key?t=window.innerHeight-81:"ArrowUp"===e.key?t=-30:"PageUp"===e.key?t=-1*(window.innerHeight-81):" "===e.key&&(t=(window.innerHeight-81)*(e.shiftKey?-1:1)),t&&(this._scrollerRef.current.scrollTop+=t,e.preventDefault(),e.stopImmediatePropagation(),this.dots.askClosePopovers())}})),(0,n.Z)(this,"_onTouchEnd",(()=>{const{right:e}=this.state;e<-200?(this.slider.closeTop(),this.setState({right:0})):this.touchStarted&&(this.endTime=Date.now(),clearInterval(this.openInterval),this.openInterval=setInterval((()=>{this._animateOpen(1.4)}),16)),this.touchStarted=!1,this.touchInitial=!1})),(0,n.Z)(this,"_onTouchMove",(e=>{const{right:t}=this.state,s=e.touches[0].screenX-this.lastX,n=e.touches[0].screenY-this.lastY;this.touchInitial&&(Math.abs(1.5*n)<Math.abs(s)&&(this.touchStarted=!0),this.touchInitial=!1),this.touchStarted&&(e.preventDefault(),this.lastX=e.touches[0].screenX,this.setState({right:Math.min(t-s,0)}))})),(0,n.Z)(this,"_onTouchStart",(e=>{clearInterval(this.openInterval),this.lastX=e.touches[0].screenX,this.lastY=e.touches[0].screenY,this.touchInitial=!0})),this._currrentSlideContainer=i.createRef(),this._scrollerRef=i.createRef(),this._slideBodyRef=i.createRef(),this.state={right:0}}componentDidMount(){this.dots=streets.service("dots"),this.slider=streets.service("slider"),window.addEventListener("keydown",this._onKeyDown)}componentWillUnmount(){this.openInterval&&clearInterval(this.openInterval),this.dots=null,this.slider=null,this._currrentSlideContainer=null,this._scrollerRef=null,this._slideBodyRef=null,window.removeEventListener("keydown",this._onKeyDown),document.body.style.overflow="auto"}focus(){var e;null===(e=this._currrentSlideContainer.current)||void 0===e||e.focus()}render(){const{slides:e}=this.props,{right:t}=this.state;let s;const n=e.length-1;let r=null;e&&e.length>0&&(r=e[n]);const a=e.map(((e,s)=>{const r=n===s,a=44*(n-s)-4+"px",o=this._renderSlideHeader(e),l="entry"===e.type;let c;return s>n-3&&(c=i.createElement(i.Fragment,null,o,i.createElement("div",{ref:this._scrollerRef,className:"floatingEntryScroller"},this._renderSlideBody(e,r)))),i.createElement(T.Z,{classNames:"slideInContent",key:e.key,timeout:{enter:350,exit:350},in:!0},i.createElement(A(),{focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:!1,fallbackFocus:".sliderContainer--current",initialFocus:l?".sliderContainer--current":void 0}},i.createElement("div",{"aria-label":l?"Opened Article":void 0,"aria-hidden":!r,"aria-modal":"true",className:P()("floatingEntryContent sliderContainer",{"sliderContainer--current":r}),style:{boxShadow:s>n-2?null:"none",right:r?t+"px":0},role:"dialog",tabIndex:"-1",ref:r?this._currrentSlideContainer:null},!r&&i.createElement("div",{className:"floatingEntryContent__slide-overlay"}),c,i.createElement("div",{className:P()("floatingEntryContent__tab fx",{"floatingEntryContent__tab--current":r}),style:{top:a}},i.createElement(U.z,{"aria-label":"Close",className:"floatingEntryContent__tab-button m-r-0",icon:i.createElement(R.Z,null),importance:"",onClick:this._confirmCloseTop})))))}));if(a.length>0){let e=this._confirmCloseAll,t={cursor:"pointer"};r&&r.reactProps&&!1===r.reactProps.easyClose&&(e=null,t={cursor:"default"}),s=i.createElement(T.Z,{classNames:"entry-overlay",timeout:{enter:300,exit:300},in:!0},i.createElement("div",{className:"entry-overlay",style:t,onClick:e}))}return i.createElement("div",{onKeyPress:this.keypress,onTouchEnd:this._onTouchEnd,onTouchMove:this._onTouchMove,onTouchStart:this._onTouchStart},i.createElement(N.Z,null,s,a))}_renderSlideBody(e,t){return"entry"===e.type?i.createElement(O.c,{ref:this._slideBodyRef,entryId:e.id,isCurrent:t,navigatable:e.navigatable}):null!=e.reactClass?i.createElement(e.reactClass,{...e.reactProps,ref:this._slideBodyRef}):null}_renderSlideHeader(e){return"entry"===e.type?[i.createElement(x,{key:"follow-header-"+e.key,entryId:e.id}),i.createElement(F.W,{key:"share-bar-"+e.key,entryId:e.id})]:null}}z.propTypes={slides:l().arrayOf(l().object).isRequired};var Z=s(3e3),B=s(83168),H=s(32285);class Y extends B.y{constructor(){super(...arguments),(0,n.Z)(this,"closeAll",(()=>{if(0===this._slides.length)return;for(let t=this._slides.length-1;t>=0;t-=1)this._slides[t].onClose&&this._slides[t].onClose(this._slides[t].id);this._slides=[],this._render(),this._onLastSlideRemoved();const e=this.pageManager.getPageInfo();e&&(0,Z.pg)(e.uri)})),(0,n.Z)(this,"closeTop",(e=>{if(!this._slides.length)return;const t=this._slides.pop();t.onClose?t.onClose(t.id,e):t.reactProps&&t.reactProps.onClose&&t.reactProps.onClose(t.id,e),this._slides.length>0&&this._fireOnSlideChanged(this._slides[this._slides.length-1]),0===this._slides.length&&this._onLastSlideRemoved(),this._render()})),(0,n.Z)(this,"getScrollTarget",(()=>{if(!this.hasSlides())return null;const e=document.getElementsByClassName("floatingEntryScroller");return e.length>0?e[e.length-1]:null}))}setDots(e){this.dots=e}setFeedly(e){this.feedly=e}setPageManager(e){this.pageManager=e}setShortcuts(e){this.shortcuts=e}load(){this._feedlyChrome=document.getElementById("feedlyChrome"),this._slideKey=0,this._sliderRef=i.createRef(),this._slides=[]}unload(){this.dots=null,this.feedly=null,this.pageManager=null,this.shortcuts=null,this._feedlyChrome=null,this._slideKey=null,this._sliderRef=null,this._slides=null}initialize(){this._render()}onBeforePageLoad(e,t){t&&this.closeAll()}onShortcutKey(e){e===H.PC.close&&this.closeTop()}addEntrySlide(e,t,s){const n={customPath:"entry/".concat(e),id:e,navigatable:t.navigatable,onClose:s,type:"entry"},i=this._slides[this._slides.length-1];var r;i&&"entry"===i.type&&t&&t.switchable?(n.key=i.key,this._slides.pop(),this._slides.push(n),null===(r=this._sliderRef.current)||void 0===r||r.focus()):(n.key=this._slideKey,this._slides.push(n),this._slideKey+=1);this._render(),this._fireOnSlideChanged(n),1===this._slides.length&&this._onFirstSlideAdded()}addFeedPreviewSlide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.addSlide(_,{streamId:e,...t},{customPath:"subscription/".concat(encodeURIComponent(e))})}addSlide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={...arguments.length>2?arguments[2]:void 0,key:this._slideKey,reactClass:e,reactProps:{...t,onDone:this.closeTop},type:"react"};this._slideKey+=1,this._slides.push(s),this._render(),this._fireOnSlideChanged(s),1===this._slides.length&&this._onFirstSlideAdded()}addInYourFeedlySearchSlide(e){this.addSlide(I,{term:e})}hasSlides(){return this._slides&&this._slides.length>0}_fireOnSlideChanged(e){var t;e&&e.customPath?(0,Z.pg)(e.customPath):(0,Z.pg)(null===(t=this.pageManager.getPageInfo())||void 0===t?void 0:t.uri);this.dots.askClosePopovers(),this.fire("onSlideChanged")}_onFirstSlideAdded(){document.body.style.overflow="hidden",this.shortcuts.claim(this,H.PC.close),this._feedlyChrome.setAttribute("aria-hidden","true")}_onLastSlideRemoved(){document.body.style.overflow="auto",this.shortcuts.unclaim(this,H.PC.close),this._feedlyChrome.setAttribute("aria-hidden","false")}_render(){r.render(i.createElement(a.S,null,i.createElement(z,{ref:this._sliderRef,slides:this._slides})),document.getElementById("floatingEntry"))}}function W(e){return new Y(e)}},54107:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var n=s(47169),i=s(85646),r=s.n(i),a=s(89793),o=s.n(a),l=s(77469),c=s(87753),d=s(3e3),h=s(3015),u=s(94866),p=s(74221),m=s(61861),g=s(83168),f=s(99220),y=s(8199),v=s(3167),b=s(7761),E=s(2222),C=s(66380);const w=Object.freeze({service:"Alerts",listWebAlertSources:"askListWebAlertSources"}),k=[v.ce,v.rc,v.Ag];class _ extends g.y{constructor(){super(...arguments),(0,n.Z)(this,"submitSurveyFeedback",(e=>{this.preferences.setPreference(v.ce,C.b,null,!0);const t=this.preferences.getPreference(v.Sc),{email:s,locale:n,wave:i}=this.profile.getUserInfo();return this.net.POST("https://engagement.feedly.com/webAlertSurvey",{accessLevel:streets.getPlan(),email:s,locale:n,pmfMetric:e,userId:streets.getUserId(),wave:i,feedId:t})}))}setCollections(e){this.collections=e}setFeeds(e){this.feeds=e}setLeo(e){this.leo=e}setPreferences(e){this.preferences=e}setProfile(e){this.profile=e}setNet(e){this.net=e}load(){this.cache={}}unload(){this.cache={},this.collections=null,this.feeds=null,this.net=null,this.preferences=null,this.profile=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askAlertAutocorrect(e){if(!e)throw new Error("Web alert info is required");return this.net.POST("!{cloud}/v3/alerts/autocorrect",e).then(JSON.parse)}async askAlertsVelocities(e){if(!e)throw new Error("Web alert info is required");const{bucketVelocities:t}=await this.net.POST("!{cloud}/v3/alerts/velocities",e).then(JSON.parse);return t}async askConvertBeyondSearchOptionsToState(){let{bundles:e=[],layers:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=await this._askEnrichLayers(t),n=await this._askEnrichItems(e.filter((e=>{let{id:t}=e;return t!==l.pc.id}))),i=e.some((e=>{let{id:t}=e;return t===l.pc.id}))?l.sp.allFeedlyMode:l.sp.customMode;return{bundles:{allFeedlyMode:[l.pc],customMode:n},...(0,E.Sc)(s),refineMode:i}}async askCreate(e){let{analyticsContext:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Web alert info is required");const s=await this.net.POST("!{cloud}/v3/alerts",e).then(JSON.parse);return this._hasAlertFeedback()||this._setAlertPopupInfo(s),this.cache.alerts=null,t&&(streets.service("analytics").trackNewFeaturesEvent("web_alert","follow",{context:t}),(0,c.K)("source_followed",{context:t,is_web_alert:!0},["amplitude","ga"])),this.fire("onSourceCreated",s.feedId,e.categoryId),s}askDebugClusters(e){window.open("https://ml.feedly.com/memes/web-alerts/?encodedWebAlert=".concat(e))}askDebugTopic(e,t){window.open("https://ml.feedly.com/ml-topics-datasets/datasets/web-alerts/?encodedWebAlert=".concat(e,"&resourceId=").concat(encodeURIComponent(t)))}async askSave(e,t){if(!e||!t)throw new Error("Web alert Id and Web alert info is required");const{feedId:s,initialSearchOptions:n,searchOptions:i,title:r}=t,a=!o()(n,i);let l;if(a){const n=this.preferences.getPreference(v.aR,decodeURIComponent((0,d.n2)()));l=await this._askRecreateAlert(e,t,s),await this.preferences.askSetPreference(v.aR,n,decodeURIComponent((0,f.no)(l.feedId)))}else l=await this.net.PUT("!{cloud}/v3/alerts/"+encodeURIComponent(e),i).then(JSON.parse),this.cache.alerts=null,await this.feeds.askRenameFeed(l.feedId,r);return this.fire("onAlertsChanged"),{webAlert:l,isRecreated:a}}async askSaveMetrics(e){let{alertSummary:t,alertUrl:s,duration:n,endOfJourney:i,hasEnterpriseTopics:r,finalVelocity:a,initialVelocity:o,plan:l}=e;const{locale:c,wave:d}=this.profile.getUserInfo();if("feedly"===streets.getEnterpriseId())return;const h=['=HYPERLINK("'.concat(s,'", "').concat(t,'")'),i||"n/a",null!=o?o:"n/a",null!=a?a:"n/a",r?"Yes":"No",null!=n?n:"n/a",c||"n/a",d||"n/a",l||"n/a",streets.getUserId()||"n/a"];await this.net.POST("!{cloud}/v3/alerts/metrics",h)}async askSearchBundles(e){return e.length<3?[]:this.net.GET("!{cloud}/v3/search/publicationBuckets?query=".concat(encodeURIComponent(e),"&count=3")).then(JSON.parse).then((e=>{let{publicationBuckets:t}=e;return t}))}async askShowSurveyPopup(){const{alertPopupCount:e,enableProductFeedback:t,lastAlertPopupDate:s}=this.preferences.getPreferences(k);if(t===v.ZD.off||!s||e>=C.b)return!1;const n=Date.now()-s>h.HA.week;return n&&(this.preferences.setPreference(v.Ag,Date.now(),null,!0),this.preferences.setPreference(v.ce,e+1,null,!0)),n}async _askRecreateAlert(e,t,s){if(!e||!t||!s)throw new Error("Web alert Id, Web alert info, and feedId are required");const n=await this.feeds.askListAllCollectionsForFeed(s);if(!n.length)throw new Error("Unable to recreate Web Alert '".concat(e,", which isn't in any Feeds"));const{searchOptions:{layers:i,source:r},title:a}=t,o=await this.askCreate({categoryId:n[0].id,layers:i,source:r,title:a});for(let l=0;l<n.length;l+=1){const e=n[l];await this.collections.askRemoveFeed(e.id,s)}for(let l=1;l<n.length;l+=1){const e=n[l];await this.collections.askAddFeed(e.id,{id:o.feedId}),this.fire("onSourceCreated",o.feedId,e.id)}return await this.askDelete(e),o}async askDelete(e){await this.net.DEL("!{cloud}/v3/alerts/"+encodeURIComponent(e)),this.cache.alerts=null,this.fire("onAlertDeleted",e),this.fire("onAlertsChanged")}async askInfo(e){if(!e)return{};const t=await this.net.GET("!{cloud}/v3/alerts/"+encodeURIComponent(e)).then(JSON.parse);return this._askEnrichAlert(t)}async askUpdateIntegrations(e,t){await this.net.PUT("!{cloud}/v3/alerts/".concat(encodeURIComponent(e)),t)}async askListWebAlertSources(){let e=(0,m.Z)(w.service,w.listWebAlertSources);return this.cache.alerts?this.cache.alerts:e||(e=this.net.GET("!{cloud}/v3/alerts").then(JSON.parse).then((async e=>{let{enterpriseAlerts:t,userAlerts:s}=e;return{enterpriseAlerts:await Promise.all(t.map((e=>this._askEnrichAlert(e)))),userAlerts:await Promise.all(s.map((e=>this._askEnrichAlert(e))))}})).then((e=>(this.cache.alerts=e,e))),(0,m.Z)(w.service,w.listWebAlertSources,e),e)}async askListCollectionAlertSources(e){const{isCategory:t,isEnterprise:s,isAll:n}=(0,p.Yg)(e);if(t&&s&&n)return[];return(await this.collections.askListCollectionFeeds(e)).filter(u.$O)}async askHasWebAlertsAccess(){const e=this.preferences.getPreference(v.b2).includes(v.vA),t=await this.leo.askIsLeoEnabled(),s=streets.getPlan(),n=streets.getUserId(),i=n&&parseInt(n.slice(-2),16)%10==1;return e||streets.isEnterprisePlan()&&t||s===y._B.business||s===y._B.proPlus||(s===y._B.standard||s===y._B.pro||s===y._B.proStandard)&&i}async askWebAlertDefaultBundle(){const e=await this.leo.askHasLeoSecurityFeature(),t=this.preferences.getPreference(v.KZ);return t===l.AM.auto?e?l.t8:l.FH:streets.isEnterprisePlan()&&t===l.AM.cybersecurity?l.t8:l.FH}async _askEnrichLayers(e){return Promise.all(e.map((async e=>{if(e&&e.type===b.ur.matches){const t=r()(e.parts,o()),s=await this.leo.askFullEntitiesInfo(t);return{...e,parts:s}}return e})))}async _askEnrichAlert(e){return{...e,source:{items:await this._askEnrichItems(e.source.items)}}}async _askEnrichItems(e){const t=await this.collections.askLabelsIndex();return Promise.all(e.map((async e=>{if(e.type===l.R$.publicationBucket){if(e.id===l.pc.id)return{...l.pc,...e};if(e.id===l.t8.id)return{...l.t8,...e};if(e.id===l.FH.id)return{...l.FH,...e};try{const t=await this.leo.askEntityLabel("nlp/f/publicationBucket/"+e.id);return{label:"".concat(t," Bundle"),...e}}catch(s){return{label:"[unknown bundle]",...e}}}if(e.type===l.R$.stream){const{isFeed:s,isCategory:n}=(0,p.Yg)(e.id);if(s){const t=await this.feeds.askMetadata(e.id);return{label:(null==t?void 0:t.title)||"[unknown source]",visualUrl:null==t?void 0:t.visualUrl,...e}}if(n)return{label:t[e.id]||"[unknown feed]",...e}}return e})))}_hasAlertFeedback(){return!!this.preferences.getPreference(v.Ag)}_setAlertPopupInfo(e){this.preferences.setPreference(v.Ag,e.created),this.preferences.setPreference(v.Sc,e.id)}}function M(e){return new _(e)}},1459:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var n=s(89793),i=s.n(n),r=s(44686),a=s(84787),o=s.n(a);const l=Object.freeze({cookie:"cookie",userId:"userId"}),c={},d="control",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u="feedlyExperiment",p=/[,/]/,m=1e4;function g(){let e=function(e){const t="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===t.length)return t.pop().split(";").shift()}(u);return e||(e=function(e){let t=" ";const s=h.length;for(let n=0;n<e;n++)t+=h.charAt(Math.floor(Math.random()*s));return t}(32),document.cookie="".concat(u,"=").concat(e,"; max-age=").concat(31536e3,"; path=/"),e)}function f(e){if(!c[e])throw new Error("unknown experiment");if(c[e].variants[0]!==d)throw new Error("control variant must be first");if(p.test(e)||c[e].variants.some((e=>p.test(e))))throw new Error("invalid experiment or variant name");const t=c[e].seed;if(null==l[t])throw new Error("invalid seed type");const s=streets.getUserId();if(t===l.userId&&!s)throw new Error("seed not available");const n=t===l.cookie?g():s,i="".concat(e,"/").concat(n);return function(e,t){const s=Math.floor(e*m),n=t.length,i=Math.floor(m/n);let r=d;for(let a=0;a<n;a++)a*i<=s&&s<(a+1)*i&&(r=t[a]);return r}(new(o())(i).result()/2**32,c[e].variants)}function y(){const e=streets.getUserId();return Object.keys(c).filter((t=>null!=e||c[t].seed!==l.userId)).map((e=>"".concat(e,"/").concat(f(e))))}var v=s(3e3),b=s(83168),E=s(28514),C=s(35610),w=s(98049);const k=[{name:"ads",trackingId:"UA-82275407-3"},{name:"banner",trackingId:"UA-50514009-10"},{name:"basic",trackingId:"UA-82275407-2"},{name:"discover",trackingId:"UA-82275407-7"},{name:"discovery",trackingId:"UA-50514009-8"},{name:"extension",trackingId:"UA-74362112-1"},{name:"enterpriseTrialWizard",trackingId:"UA-82275407-15"},{name:"guidedWebAlerts",trackingId:"UA-82275407-12"},{name:"intelligenceDashboard",trackingId:"UA-82275407-14"},{name:"landing",trackingId:"UA-50514009-7"},{name:"leo",trackingId:"UA-82275407-6"},{name:"leoAbout",trackingId:"UA-82275407-10"},{name:"leoWebAlerts",trackingId:"UA-82275407-16"},{name:"newFeatures",trackingId:"UA-82275407-11"},{name:"onboarding",trackingId:"UA-82275407-9"},{name:"powerSearch",trackingId:"UA-82275407-13"},{name:"pro",trackingId:"UA-50514009-5"},{name:"seo",trackingId:"UA-82275407-8"},{name:"team",trackingId:"UA-82275407-1"},{name:"unified",trackingId:"UA-50514009-6"}],_={wave:"dimension1",bucket:"dimension2",plan:"dimension3",experience:"dimension4",locale:"dimension5"},M={wave:"dimension1",launchCohort:"dimension2",landingVisitCount:"dimension3",landingDesign:"dimension4",loginStatus:"dimension5",trigger:"dimension6"},S={wave:"dimension1",welcomeDesign:"dimension2",loginStatus:"dimension3",trigger:"dimension4",partner:"dimension5"},I={plan:"dimension1",context:"dimension2",wave:"dimension3"},T="G-7BLKHS9WWP";class N extends b.y{setEnterprise(e){this.enterprise=e}setNet(e){this.net=e}load(){this.enterprise.registerObserver(this),this.customTrackers={},this.customTrackerCounter=0,this.isDisabled=null,this.isFeedlyGoogleAnalyticsInserted=!1}async onUserIdentified(){this.isDisabled=await this._askIsDisabled(),this._updateOptInOut(this.isDisabled),this.isDisabled||this._initializeWithUser()}async onNoUserIdentified(){this.isDisabled=await this._askIsDisabled(),this._updateOptInOut(this.isDisabled),this.isDisabled||this._initializeWithoutUser()}onUserUpgraded(){this._setPlanDimensions()}unload(){this.enterprise.unregisterObserver(this),this.enterprise=null,this.net=null}async onEnterpriseChanged(){const e=await this._askIsDisabled();this.isDisabled!==e&&(this._updateOptInOut(e),e||this._initializeWithUser(),this.isDisabled=e)}setCustomVar(e,t){this.isDisabled||(null!=_[e]?ga("unified.set",_[e],t):console.log("[analytics] unknown custom dimension:"+e))}setTeamDimension(e,t){this.isDisabled||(null!=M[e]?ga("team.set",M[e],t):console.log("[analytics] unknown team custom dimension:"+e))}setBasicDimension(e,t){this.isDisabled||(null!=S[e]?ga("basic.set",S[e],t):console.log("[analytics] unknown basic custom dimension:"+e))}setNewFeaturesDimensions(e,t){this.isDisabled||(I[e]?ga("newFeatures.set",I[e],t):console.log("[analytics] unknown new features custom dimension:"+e))}trackPageview(e){this.isDisabled||ga("unified.send","pageview",e)}trackLeoPageview(e){this.isDisabled||ga("leo.send","pageview",e)}trackLeoEvent(e,t,s,n){this.isDisabled||ga("leo.send","event",e,t,s,n)}trackLeoAboutPageview(e){this.isDisabled||ga("leoAbout.send","pageview",e)}trackLeoAboutEvent(e,t,s,n){this.isDisabled||ga("leoAbout.send","event",{eventCategory:e,eventAction:t,eventLabel:s,eventValue:n})}trackDiscoverPageview(e){this.isDisabled||ga("discover.send","pageview",e)}trackDiscoverEvent(e,t,s,n){this.isDisabled||ga("discover.send","event",e,t,s,n)}trackEnterpriseTrialWizardEvent(e,t,s){let{useCase:n}=s;this.isDisabled||ga("enterpriseTrialWizard.send",{dimension1:n,eventAction:t,eventCategory:e,hitType:"event"})}trackGuidedWebAlertEvent(e,t,s,n){this.isDisabled||ga("guidedWebAlerts.send","event",e,t,s,n)}trackIntelligenceDashboardEvent(e,t,s,n,i){let{entryId:r}=i;this.isDisabled||ga("intelligenceDashboard.send","event",e,t,s,n,{dimension1:r})}trackIntelligenceDashboardPageview(e){this.isDisabled||ga("intelligenceDashboard.send","pageview",e)}trackLeoWebAlertsPageView(e){this.isDisabled||ga("leoWebAlerts.send","pageview",e)}trackPowerSearchPageview(e){this.isDisabled||ga("powerSearch.send","pageview",e)}trackSeoPageview(e){this.isDisabled||ga("seo.send","pageview",e)}trackSeoEvent(e,t,s,n){this.isDisabled||ga("seo.send","event",e,t,s,n)}trackNewFeaturesEvent(e,t){let{opt_label:s,opt_value:n,context:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isDisabled)return;const{wave:r}=streets.service("profile").getUserInfo();ga("newFeatures.send","event",e,t,s,n,{dimension2:i,dimension3:r})}trackOnboardingPageview(e){this.isDisabled||ga("onboarding.send","pageview",e)}trackProPageview(e){let{featureContext:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isDisabled)return;const s="v".concat((0,w._)(),"/").concat(e),{landingPage:n}=streets.service("profile").getUserInfo();ga("pro.send","pageview",s,{dimension3:t,dimension4:n,dimension5:"discoverPage"===t?"noIconCTA":null})}trackProEvent(e,t,s,n){this.isDisabled||ga("pro.send","event",e,t,s,n)}trackLandingPageview(e){let{feature:t,featureContext:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isDisabled||ga("landing.send","pageview",e,{dimension1:t,dimension2:s})}trackBannerPageview(e){this.isDisabled||ga("banner.send","pageview",e)}trackDiscoveryPageview(e){this.isDisabled||ga("discovery.send","pageview",e)}trackExtensionPageview(e){this.isDisabled||ga("extension.send","pageview",e)}trackEvent(e,t,s,n){this.isDisabled||ga("unified.send","event",e,t,s,n)}trackEntryPageView(e){if(!this.isDisabled)try{const t=e.webfeeds.analyticsId;if(null==t)return;const s="/"+e.getCleanAlternateLink().split("/").slice(3).join("/"),n=e.getCleanTitle()+" [feedly]",i=this._lookupCustomTracker(t);ga(i+".set","campaignSource","feedly"),ga(i+".set","campaignMedium","newsfeed"),ga(i+".set","campaignContent","webfeeds"),ga(i+".send","pageview",{page:s,title:n})}catch(t){console.log("[analytics] failed to report custom page view:"+t.name+" -- "+t.message)}}trackEntryEvent(e,t,s,n,i){if(this.isDisabled)return;const r=e.webfeeds.analyticsId;if(null==r)return;const a="/"+e.getCleanAlternateLink().split("/").slice(3).join("/");ga(this._lookupCustomTracker(r)+".send","event","feedly",t+"."+s,a,i)}incrementDashboardEvent(e){this.net.POST("!{cloud}/v3/dailycounter/"+e,"").catch(console.warn)}buildProAnalyticsPath(e,t,s,n,i,r){let a="".concat(e,"/").concat(t);return s&&(a+="/".concat(s)),n&&(a+="/".concat(n)),i&&(a+="/".concat(i)),r&&(a+="/".concat(r)),a}reportBasicEngagement(e){if(!this.isDisabled)try{ga("basic.send","pageview",e)}catch(t){console.log("[analytics] reporting basic engagement failed:"+e+" because "+t.name)}}reportBasicEvent(e,t,s){if(!this.isDisabled)try{ga("basic.send","event",e,t,s)}catch(n){console.log("[analytics] reporting basic event failed:"+e+" ("+t+") because "+n.name)}}reportTeamEngagement(e){if(!this.isDisabled)try{ga("team.send","pageview",e)}catch(t){console.log("[analytics] reporting team engagement failed:"+e+" because "+t.name)}}reportTeamEvent(e,t,s,n){if(!this.isDisabled)try{ga("team.send","event",e,t,s,n)}catch(i){console.log("[analytics] reporting team event failed:"+e+" ("+t+") because "+i.name)}}trackJourneyEvent(e,t){let s="https://a.feedly.com/journey?event="+encodeURIComponent(e)+"&ck="+(new Date).getTime()+"&ad=10&ct="+feedlyApplicationType+"&cv=31.0.1510";if(streets.getUserId()&&(s+="&userId="+encodeURIComponent(streets.getUserId())),t){const e=(0,C.m1)(t);e&&(s+="&"+e)}this.net.POST(s,"").catch((t=>{console.log("[analytics][journey] failed to record "+e+" because "+t)}))}trackAdPageview(e){if(!this.isDisabled)try{ga("ads.send","pageview",e)}catch(t){console.log("[analytics] reporting ad pageview failed:"+e+" because "+t.name)}}_lookupCustomTracker(e){if(this.isDisabled)return;if(null!=this.customTrackers[e])return this.customTrackers[e];const t="t"+this.customTrackerCounter++;return ga("create",e,"auto",{name:t,alwaysSendReferrer:!0,referrer:"http://feedly.com"}),ga(t+".set","referrer","http://feedly.com"),this.customTrackers[e]=t,t}_insertGoogleAnalyticsScripts(){if(this.isFeedlyGoogleAnalyticsInserted)return;window.ga.l=1*new Date;const e=document,t="script",s=e.createElement(t),n=e.getElementsByTagName(t)[0];s.async=1,s.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(s,n);const i=document.createElement("script");i.src="https://www.googletagmanager.com/gtag/js?id=".concat(T),document.head.appendChild(i),gtag("js",new Date),gtag("config",T,{send_page_view:!1,debug_mode:!1}),function(e,t,s,n,i){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const r=t.getElementsByTagName(s)[0],a=t.createElement(s);a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id=GTM-MGR5P7J",r.parentNode.insertBefore(a,r)}(window,document,"script","dataLayer"),this.isFeedlyGoogleAnalyticsInserted=!0}_initializeWithUser(){this._insertGoogleAnalyticsScripts();const e=y(),{experimentVariants:t,wave:s,created:n=0}=streets.service("profile").getUserInfo();i()(e,t)||streets.service("profile").askUpdateUserInfo({experimentVariants:e}),gtag("set","user_properties",{user_id:streets.getUserId(),plan:streets.getPlan(),experiments:e}),r.Z.getInstance().setUserId(streets.getUserId()),r.Z.getInstance().setUserProperties({experiments:e,plan:streets.getPlan()}),k.forEach((e=>{let{name:t,trackingId:s}=e;ga("create",{trackingId:s,cookieDomain:"auto",name:t,userId:streets.getUserId()})})),ga("extension.set","checkProtocolTask",(()=>{})),ga("extension.set","checkStorageTask",(()=>{})),null!=s&&(this.setCustomVar("wave",s),this.setBasicDimension("wave",s),this.setTeamDimension("wave",s),this.setNewFeaturesDimensions("wave",s),ga("pro.set","dimension1",s)),this.setCustomVar("locale",(0,v.v0)(),1),this._setPlanDimensions()}_initializeWithoutUser(){this._insertGoogleAnalyticsScripts(),gtag("set","user_properties",{experiments:y()}),r.Z.getInstance().setUserId(null),k.forEach((e=>{let{name:t,trackingId:s}=e;ga("create",{trackingId:s,cookieDomain:"auto",name:t})})),ga("extension.set","checkProtocolTask",(()=>{})),ga("extension.set","checkStorageTask",(()=>{}))}async _askIsDisabled(){return!!(0,E.p1)()||this.enterprise.askIsAdvancedPrivacyOn()}_setPlanDimensions(){const e=streets.getPlan();ga("discover.set","dimension1",e),ga("newFeatures.set","dimension1",e),ga("powerSearch.set","dimension1",e),ga("pro.set","dimension2",e),ga("leoWebAlerts.set","dimension1",e)}_updateOptInOut(e){k.forEach((t=>{let{trackingId:s}=t;window["ga-disable-".concat(s)]=e})),window["ga-disable-".concat(T)]=e,(0,E.p1)()||r.Z.getInstance().setOptOut(e)}}function L(e){return new N(e)}},23861:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(94866),i=s(74221),r=s(83168);const a=Object.freeze({mobile:{zoneKey:"CEBI423W",fallback:"CE7DL5QN"},web:{zoneKey:"CEBI423I",fallback:"CKYDK237"}}),o=["tech","marketing","design","python","programming","development","webdevelopment","php","dev","ruby","javascript","frontend","coding","bitcoin","cryptocurrency","ethereum","food","music","technology","art","fashion","photography","lifestyle","science","comics","business","politics","fun","sports","finance","entertainment","travel","health","cooking","security","culture","education","books","games","gaming","style","beauty","crafts","software","inspiration","fitness","web","humor","sewing","writing","diy","economics","apple","craft","knitting","linux","social media","geek","webcomics","funny","web design","android","manga","recipes","law","parenting","illustration","microsoft","seo","mobile","productivity","film","artists","running","mac","architecture","quilting","advertising","investing","cycling","crafty","gadgets","web development","code","ux","google","real estate","shopping","philosophy","cars","football","graphic design","gardening","entrepreneurship","startups","gardening","thinkers","decorating","leadership","interior design","trading","analytics"];class l extends r.y{setNet(e){this.net=e}setFeeds(e){this.feeds=e}load(){this.isAdBlockerEnabled=!1,this.isBSAServiceRunning=!1}initialize(){this._checkAdsBlocked()}unload(){this.net=null,this.feeds=null}async askBSASponsor(e){if(this.isAdBlockerEnabled)return void this.fire("onBSALoaded",null);let t=!0;const{isFeed:r,isTag:o}=(0,i.Yg)(e);if(o)t=!1;else if(r){const s=await this.feeds.askMetadata(e);(0,n.Co)(s)&&(t=!1)}t?s.e(9544).then(s.t.bind(s,69544,23)).then((()=>{if(window._bsa.callback=async t=>{try{if(0===t.ads.length)this.fire("onBSALoaded",null);else{document.querySelectorAll('[id^="_bsa_srv-"]').forEach((e=>{e.parentNode.removeChild(e)}));const s=document.getElementById("bsaPlaceholder");for(;s.hasChildNodes();)s.removeChild(s.firstChild);const n=await this.askListSegments();if(0===n.length)this.fire("onBSALoaded",null);else{const s=this._enrichAd(t.ads[0],n);this.fire("onBSALoaded",s),this.fire("onStreamStateChanged",e)}}}catch(s){console.error("BSA Error",s),this.fire("onBSALoaded",null)}this.isBSAServiceRunning=!1},this.isBSAServiceRunning)return;this.isBSAServiceRunning=!0;const{zoneKey:t,fallback:s}=a.web;window._bsa.init("custom",t,"placement:feedlycom-1",{target:"#bsaPlaceholder",fallback:s,template:"<div></div>"})})).catch((e=>{console.error("Unable to load BSA: ".concat(e)),this.fire("onBSALoaded",null)})):this.fire("onBSALoaded",null)}async _checkAdsBlocked(){try{const e=new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors"});await fetch(e)&&(this.isAdBlockerEnabled=!1)}catch(e){this.isAdBlockerEnabled=!0}}_enrichAd(e,t){return e?(e.adId="bsa-ad",e.getId=function(){return this.adId},e.callToAction||(e.callToAction="Explore"),e.clickUrl=e.statlink+"?segment="+t.join(";"),e.impressionUrl=e.statimp+"?segment="+t.join(";"),e.image=e.image||e.smallImage,e.header=e.header||e.companyTagline||e.title,e.sub=e.sub||e.description,e.pixel&&(e.pixels=e.pixel.replace(/\[timestamp\]/gi,0|Math.round(Date.now()/1e4)).split("||")),e&&e.bannerid&&(this._updateFrequencyCap("_bsap_daycap",e.bannerid,1),this._updateFrequencyCap("_bsap_lifecap",e.bannerid,365)),e):e}_updateFrequencyCap(e,t,s){const n=document.cookie,i=n.indexOf(e+"="),r=i>=0?n.substring(i+e.length+1).split(";")[0]+"%2C":"",a=new Date;a.setTime(36e5*s+a),t=(t=r+t).substring(0,2048),document.cookie=e+"="+t+"; expires="+a.toGMTString()+"; path=/"}_getFrequencyCap(){let e;try{e=decodeURIComponent(document.cookie)}catch(r){e=""}const t=e.indexOf("_bsap_daycap="),s=e.indexOf("_bsap_lifecap="),n=t>=0?e.substring(t+12+1).split(";")[0].split(","):[],i=s>=0?e.substring(s+13+1).split(";")[0].split(","):[];if(n.length||i.length){const e=[];n.forEach((t=>{const s=e.find((e=>e[0]===t));s?s[1]++:e.push([t,1,0])})),i.forEach((t=>{const s=e.find((e=>e[0]===t));s?s[2]++:e.push([t,0,1])}));for(let t=0;t<e.length;t++)e[t]=e[t][0]+":"+e[t][1]+","+e[t][2];return"&freqcap="+encodeURIComponent(e.join(";"))}return""}async askListMatchingTopics(){const e=[],t=await this.feeds.askListAllUserTopics();return o.forEach((s=>{t.indexOf(s)>-1&&e.push(s)})),e}async askListSegments(){const e=[],t=await this.feeds.askListAllUserTopics();return o.forEach((s=>{t.indexOf(s)>-1&&e.push("tag:"+s)})),e}}function c(e){return new l(e)}},52630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(15454);class r extends n.y{setAnalytics(e){this.analytics=e}setSigns(e){this.signs=e}setEnterprise(e){this.enterprise=e}setRouter(e){this.router=e}setNet(e){this.net=e}setPreferences(e){this.preferences=e}setProfile(e){this.profile=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.analytics=null,this.signs=null,this.enterprise=null,this.router=null,this.net=null,this.preferences=null,this.profile=null,this.reader=null}async askRefresh(){this.cache={}}async askProfiles(){if(this.cache.bufferProfiles)return this.cache.bufferProfiles;if(!streets.hasBusinessAccess())return this.cache.bufferProfiles=[],[];const e=await this.enterprise.askTeamInfo();if(!e||!e.isBufferConnected)return[];const t=await this.net.GET("!{cloud}/v3/buffer/profiles");return this.cache.bufferProfiles=JSON.parse(t),this.cache.bufferProfiles}async askShareEntry(e){let{imageUrl:t,text:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!streets.getUserId())return void this.signs.showMessage("Login first");const{wave:n}=this.profile.getUserInfo(),r=(null==n?void 0:n.split("."))||[],a=2===r.length&&100*parseInt(r[0])+parseInt(r[1])<=201420;if(!streets.hasProAccess()&&!a)return this.analytics.trackPageview("pro.v2/trigger.buffer"),void this.router.loadPage("pro/buffer");const o=await this.reader.askLookupEntry(e);if(!o)return void this.signs.showMessage("No article selected");let l=o.getTitle()||o.getCleanTitle();const c=o.metadata.shortLink||o.getAlternateLink(),d=[];if("no"!==this.preferences.getPreference("twitterHashtags")){const e=o.getDefaultTagOrCategory();e&&d.push(encodeURIComponent(e.slice(1))),d.push("feedly")}d.forEach((e=>{l+=" #"+e}));let h=l;s&&(h+=' / "'.concat(s,'"'));let u="https://buffer.com/add/?id="+this._genid()+"&url="+encodeURIComponent(c)+"&text="+encodeURIComponent(h)+"&count=vertical&placement=button&partner_source=feedly";t&&(u+="&picture="+encodeURIComponent(t));const p=Math.round(screen.width/2-378),m=screen.height>624?Math.round(screen.height/2-312):0,g=window.open(u,"_blank","left=".concat(p,",top=").concat(m,",width=").concat(756,",height=").concat(624,",personalbar=0,toolbar=0,scrollbars=1,resizable=1"));g?g.focus():(0,i.d)(),this.analytics.trackEvent("sharing","buffer"),this.analytics.trackEntryEvent(o,"share","buffer")}_genid(){return this._S4()+this._S4()+this._S4()+this._S4()}_S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}}function a(e){return new r(e)}},5803:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(91815),i=s.n(n),r=s(55476),a=s.n(r),o=s(11224),l=s(83168);class c extends l.y{setLibraries(e){this.libraries=e}load(){this.cache={}}unload(){this.libraries=null,this.cache={}}async askFeedBundles(e){const t=i()(e.map((e=>o.pp[e]))),s=(await Promise.all(t.map((e=>this.libraries.askLibrary(e,{backend:"https://feedly.com"}))))).reduce(((e,t)=>[...e,...t.collections]),[]),n=t.reduce(((e,t)=>(e[t]=s.find((e=>e.id===o.Lq[t])),e)),{});return e.map((e=>{const t=s.find((t=>{let{id:s}=t;return s===o.G[e]}));return t.faviconFeedIds=a()(t.feeds,n[o.pp[e]].feeds,"id").map((e=>e.id)),t}))}}function d(e){return new c(e)}},75514:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(10268),i=s.n(n),r=s(88708),a=s.n(r),o=s(98978),l=s.n(o),c=s(60624),d=s.n(c),h=s(74221),u=s(83168);class p extends u.y{setEnterprise(e){this.enterprise=e}setFeeds(e){this.feeds=e}setMutefilters(e){this.mutefilters=e}setPreferences(e){this.preferences=e}setPriorities(e){this.priorities=e}setProfile(e){this.profile=e}setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}load(){}unload(){this.enterprisecollections=null,this.feeds=null,this.mutefilters=null,this.personalcollections=null,this.preferences=null,this.priorities=null,this.profile=null}async askCollectionVelocities(){return(await this.askListCollections()).reduce(((e,t)=>(e[t.id]=t.feeds.reduce(((e,t)=>e+t.velocity),0),e)),{})}async askIsUpgradeNeededToAddFeed(){if(!streets.getUserId())return!0;const{accountLimits:e}=this.profile.getUserInfo(),[t,s]=await Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]),n=[...t,...s].reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(n,"id").length>=e.maxFeeds}async askCollectionsIndex(){const[e,t]=await Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]);return[...e,...t].reduce(((e,t)=>(e[t.id]=t,e)),{})}async askLabelsIndex(){const[e,t]=await Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]),s=[...e,...t].reduce(((e,t)=>{let{id:s,label:n}=t;return e[s]=n,e}),{});return s[(0,h.Mc)()]="Favorites (old)",s[(0,h.sX)()]="All My Team Feeds",s[(0,h.Gr)()]="All Team Feeds",s[(0,h.N1)()]="All Personal Feeds",s}async askListAllFeeds(e){const[t,s]=await Promise.all([this.personalcollections.askListRankedCollections(e),this.enterprisecollections.askListSubscribedCollections(e)]),n=t.reduce(((e,t)=>e.concat(t.feeds)),[]),r=s.reduce(((e,t)=>e.concat(t.feeds)),[]),a=this.preferences.isTeamFirst()?[...r,...n]:[...n,...r];return i()(a,(e=>e.streamId))}async askListCollectionFeeds(e){if(!e)throw new Error("`collectionId` is required");const{isEnterprise:t}=(0,h.Yg)(e);return(t?this.enterprisecollections:this.personalcollections).askListCollectionFeeds(e)}async askListCollections(e){const[t,s]=await Promise.all([this.personalcollections.askListCollections(e),this.enterprisecollections.askListSubscribedCollections(e)]);return[...t,...s]}async askLookupCollection(e,t){return(await this.askListCollections(t)).find((t=>t.id===e))}async askMoveCollectionToTeam(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t||null===s||!e)throw new Error("The teamIndex, personalIndex, and collection are required.");const n=await this.enterprisecollections.askSave({feeds:e.feeds,label:e.label,description:e.description});this.fire("onCollectionMovedToTeam",n,s,t),await this.priorities.askMovePriorities(e.id,n.id),await this.mutefilters.askMoveMuteFilters(e.id,n.id),await this.personalcollections.askDeleteCollection(e.id)}async askMoveCollectionToPersonal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===s||null===t||!e)throw new Error("The teamIndex, personalIndex, and collection are required.");const n=await this.personalcollections.askSave({feeds:e.feeds,label:e.label,description:e.description});return this.fire("onCollectionMovedToPersonal",n,t,s),await this.priorities.askMovePriorities(e.id,n.id),await this.mutefilters.askMoveMuteFilters(e.id,n.id),await this.enterprisecollections.askDeleteCollection(e.id),n}async askMoveFeed(e,t,s){if(!s||!t||!e)throw new Error("The collectionToId, collectionFromId, and feed are required.");await this.askAddFeed(s,e),await this.askRemoveFeed(t,e.id)}async askAddFeed(e,t){if(!e||!t.id||!t.title)throw new Error("The collectionId, feedId, and feedTitle are required.");const{isEnterprise:s}=(0,h.Yg)(e);return s?this.enterprisecollections.askAddFeed(e,t):this.personalcollections.askAddFeed(e,t)}async askRemoveFeed(e,t){if(!e||!t)throw new Error("The collectionId and feedId are required.");const{isEnterprise:s}=(0,h.Yg)(e);return s?this.enterprisecollections.askRemoveFeed(e,t):this.personalcollections.askRemoveFeed(e,t)}async askRemoveFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feedIds are required.");const{isEnterprise:s}=(0,h.Yg)(e);return s?this.enterprisecollections.askRemoveFeeds(e,t):this.personalcollections.askRemoveFeeds(e,t)}async askRemoveFeedFromAll(e){await this.personalcollections.askRemoveFeedFromAll(e),await this.enterprisecollections.askRemoveFeedFromAll(e)}async askUnsubscribedFeedRecommendations(e){if(await this.enterprise.askIsAdvancedPrivacyOn())return[];const{isAll:t,isGlobalEnterprise:s}=(0,h.Yg)(e);let n=[];if(t)n=await this.personalcollections.askListAllFeeds();else if(s)n=await this.enterprisecollections.askListAllSubscribedFeeds();else{n=(await this.askLookupCollection(e)).feeds}if(!n.length)return[];n=l()(n,"numReadEntriesPastMonth").reverse(),n=a()(n,10);const i=Math.floor(Math.random()*n.length);return this.feeds.askUnsubscribedFeedRecommendations(n[i].id)}mockAddFeeds(e,t){const s=e.feeds?i()([...e.feeds,...t],(e=>{let{id:t}=e;return t})):t;return{...e,feeds:s}}mockRemoveFeeds(e,t){return{...e,feeds:d()(e.feeds,t,(e=>{let{id:t}=e;return t}))}}}function m(e){return new p(e)}},2563:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNotifications(e){this.notifications=e}setSigns(e){this.signs=e}load(){this.messageService=this.signs?this.signs:this.notifications}unload(){this.messageService=null,this.notifications=null,this.signs=null}showError(e){this.messageService.showError(e)}showMessage(e){this.messageService.showMessage(e)}}function r(e){return new i(e)}},57555:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}setLeo(e){this.leo=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.net=null,this.leo=null,this.reader=null}async askExchangeRates(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";if(this.cache[e])return console.log("Using exchange rate cache",this.cache[e]),this.cache[e];const t=await this.net.GET("https://api.exchangeratesapi.io/latest?base=".concat(e)).then(JSON.parse);return this.cache[e]=t.rates,t.rates}}function r(e){return new i(e)}},54323:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(91815),i=s.n(n),r=s(83168);const a=10;class o extends r.y{setNet(e){this.net=e}setReader(e){this.reader=e}async askCVEInfo(e){if(!e)throw new Error("cveId is required");return this.net.GET("!{cloud}/v3/entities/".concat(encodeURIComponent(e),"?withStats=true")).then(JSON.parse)}async askCVERelationships(e){if(!e)throw new Error("cveId is required");return this.net.GET("!{cloud-ml}/cve-relationships/".concat(e)).then(JSON.parse)}async askTrends(){let{numCVEs:e=a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,s,n,i,r]=await Promise.all([this.askTrendingVulnerabilities(e),this._askTrendingThreats(),this._askTrend("threat-actors"),this._askTrend("mitre-attacks"),this._askTrend("new-malwares")]);return{vulnerabilities:t,threats:s,threatActors:n,mitreAttacks:i,malwares:r}}async askTrendingVulnerabilities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return this.net.GET("!{cloud}/v3/memes/vulnerabilities/en?count=".concat(e)).then(JSON.parse)}async _askTrendingThreats(){return this.net.GET("!{cloud}/v3/trends/threats").then(JSON.parse).then((async e=>(await this.reader.askParseJSONFeed(e)).entries))}async _askTrend(e){const{items:t}=await this.net.GET("!{cloud}/v3/trends/".concat(e)).then(JSON.parse);return this._askEnrichWithLatestEntry(t)}async _askEnrichWithLatestEntry(e){const t=i()(e.map((e=>{let{entryIds:t}=e;return t[0]}))),s=await this.reader.askLookupEntries(t);return e.map((e=>({...e,latestEntry:s.find((t=>t.getId()===e.entryIds[0]))})))}}function l(e){return new o(e)}},55424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});const n={"mobile-de":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Wirtschaft",topicId:"wirtschaft",visual:"economics-featured"},{label:"Wissenschaft",topicId:"wissenschaft",visual:"science-featured"},{label:"Politik",topicId:"politik",visual:"politics-featured"},{label:"IT-Sicherheit",topicId:"security",visual:"security-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"de",layout:"cards"},{section:"Explore the Web",topics:[{label:"Sport",topicId:"sport",visual:"sport"},{label:"Fotografie",topicId:"photography",visual:"photography"},{label:"Kultur",topicId:"kultur",visual:"culture"},{label:"Finanzen",topicId:"finanzen",visual:"finance"},{label:"Reisen",topicId:"reisen",visual:"travel"},{label:"Fashion",topicId:"fashion",visual:"fashion"},{label:"Recht",topicId:"recht",visual:"law"},{label:"Architektur",topicId:"architektur",visual:"architecture"},{label:"Gesundheit",topicId:"gesundheit",visual:"health"},{label:"Literatur",topicId:"bucher",visual:"books"},{label:"Do It Yourself",topicId:"diy",visual:"diy"},{label:"Videospiele",topicId:"games",visual:"gaming"}],language:"de",layout:"list"}],"mobile-en":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Cyber Security",topicId:"security",visual:"security-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Politics",topicId:"politics",visual:"politics-featured"},{label:"Science",topicId:"science",visual:"science-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"en",layout:"cards"},{section:"Industries",topics:[{label:"Advertising",topicId:"advertising",visual:"advertising"},{label:"Aerospace",topicId:"aerospace",visual:"aerospace"},{label:"Agriculture",topicId:"agriculture",visual:"agriculture"},{label:"Cyber Security",topicId:"security",visual:"security"},{label:"Design",topicId:"design",visual:"design"},{label:"Education",topicId:"education",visual:"education"},{label:"Finance",topicId:"finance",visual:"finance"},{label:"Healthcare",topicId:"healthcare",visual:"healthcare"},{label:"Travel & Hospitality",topicId:"hospitality",visual:"hospitality"},{label:"Media",topicId:"media",visual:"media"},{label:"Oil & Gas",topicId:"oil",visual:"oil"},{label:"Pharma",topicId:"pharma",visual:"pharma"},{label:"Private Equity",topicId:"private-equity",visual:"private-equity"},{label:"Retail",topicId:"retail",visual:"retail"},{label:"Tech",topicId:"tech",visual:"tech"},{label:"Telecom",topicId:"telecom",visual:"telecom"}],language:"en",layout:"list",seeAllLink:"https://feedly.com/i/all"},{section:"Trends",topics:[{label:"Cryptocurrency",topicId:"cryptocurrency",visual:"cryptocurrency"},{label:"Mixed Reality",topicId:"vr",visual:"vr"},{label:"Internet of Things",topicId:"iot",visual:"iot"},{label:"Machine Learning",topicId:"ai",visual:"ai"},{label:"Clean Energy",topicId:"energy",visual:"energy"}],language:"en",layout:"list"},{section:"Skills",topics:[{label:"Entrepreneurship",topicId:"entrepreneurship",visual:"entrepreneurship"},{label:"Leadership",topicId:"leadership",visual:"leadership"},{label:"Economics",topicId:"economics",visual:"economics"},{label:"Programming",topicId:"programming",visual:"programming"},{label:"SEO",topicId:"seo",visual:"seo"},{label:"Management",topicId:"management",visual:"management"},{label:"Photography",topicId:"photography",visual:"photography"},{label:"Data Science",topicId:"data-science",visual:"data-science"},{label:"Writing",topicId:"writing",visual:"writing"},{label:"Creativity",topicId:"creativity",visual:"creativity"},{label:"Content Marketing",topicId:"content-marketing",visual:"content-marketing"}],language:"en",layout:"list"},{section:"Fun",topics:[{label:"Comics",topicId:"comics",visual:"comics"},{label:"Gaming",topicId:"gaming",visual:"gaming"},{label:"Food",topicId:"food",visual:"food"},{label:"Fashion",topicId:"fashion",visual:"fashion"},{label:"Travel",topicId:"travel",visual:"travel"},{label:"Music",topicId:"music",visual:"music"},{label:"Culture",topicId:"culture",visual:"culture"},{label:"Crafts",topicId:"crafts",visual:"crafts"},{label:"Dating",topicId:"relationships",visual:"dating"}],language:"en",layout:"list"}],"mobile-es":[{section:"Featured",topics:[{label:"Tecnología",topicId:"tecnologia",visual:"tech-featured"},{label:"Diseño",topicId:"diseno",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Economia",topicId:"economia",visual:"economics-featured"},{label:"Ciencia",topicId:"ciencia",visual:"science-featured"},{label:"Política",topicId:"politica",visual:"politics-featured"},{label:"Seguridad",topicId:"seguridad",visual:"security-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"es",layout:"cards"},{section:"Explore the Web",topics:[{label:"Deportes",topicId:"deportes",visual:"sport"},{label:"Fotografia",topicId:"fotografia",visual:"photography"},{label:"Cultura",topicId:"cultura",visual:"culture"},{label:"Moda",topicId:"moda",visual:"fashion"},{label:"Historia",topicId:"historia",visual:"history"},{label:"Programacion",topicId:"programacion",visual:"programming"},{label:"Música",topicId:"musica",visual:"music"},{label:"Educación",topicId:"educacion",visual:"education"},{label:"Gastronomia",topicId:"gastronomia",visual:"cooking"},{label:"Ecologia",topicId:"ecologia",visual:"ecology"},{label:"Decoración",topicId:"decoracion",visual:"decoration"},{label:"Arquitectura",topicId:"arquitectura",visual:"architecture"}],language:"es",layout:"list"}],"mobile-fr":[{section:"Featured",topics:[{label:"Tech",topicId:"technologie",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"Science",topicId:"sciences",visual:"science-featured"},{label:"Politique",topicId:"politique",visual:"politics-featured"},{label:"Cybersécurité",topicId:"security",visual:"security-featured"},{label:"Bande déssinée",topicId:"bd",visual:"comics-featured"}],language:"fr",layout:"cards"},{section:"Explore the Web",topics:[{label:"Communication",topicId:"communication",visual:"communication"},{label:"Finance",topicId:"finance",visual:"finance"},{label:"Agriculture",topicId:"agriculture",visual:"agriculture"},{label:"Automobile",topicId:"automobile",visual:"automotive"},{label:"Culture",topicId:"culture",visual:"culture"},{label:"Philosophie",topicId:"philosophie",visual:"philosophy"},{label:"Environnement",topicId:"environnement",visual:"environment"},{label:"Programmation",topicId:"dev",visual:"programming"},{label:"Sport",topicId:"sport",visual:"sport"},{label:"Déco",topicId:"decoration",visual:"decoration"},{label:"Voyage",topicId:"voyage",visual:"travel"}],language:"fr",layout:"list"}],"mobile-it":[{section:"Featured",topics:[{label:"Tecnologia",topicId:"tecnologia",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Economia",topicId:"economia",visual:"economics-featured"},{label:"Scienza",topicId:"scienza",visual:"science-featured"},{label:"Politica",topicId:"politica",visual:"politics-featured"},{label:"Sicurezza Informatica",topicId:"security",visual:"security-featured"},{label:"Comics",topicId:"fumetti",visual:"comics-featured"}],language:"it",layout:"cards"},{section:"Explore the Web",topics:[{label:"Sport",topicId:"sport",visual:"sport"},{label:"Fotografia",topicId:"fotografia",visual:"photography"},{label:"Arte",topicId:"arte",visual:"art"},{label:"Tendenze",topicId:"tendenze",visual:"fashion"},{label:"Videogiochi",topicId:"games",visual:"gaming"},{label:"Programmazione",topicId:"programming",visual:"programming"},{label:"Musica",topicId:"musica",visual:"music"},{label:"Viaggi",topicId:"viaggi",visual:"travel"},{label:"Cucina",topicId:"cucina",visual:"cooking"},{label:"Ambiente",topicId:"ambiente",visual:"environment"},{label:"Casa",topicId:"casa",visual:"decoration"},{label:"Architettura",topicId:"architettura",visual:"architecture"}],language:"it",layout:"list"}],"mobile-ja":[{section:"Featured",topics:[{label:"デジタル",topicId:"it",visual:"tech-featured"},{label:"Web design",topicId:"web",visual:"design-featured"},{label:"マーケティング",topicId:"marketing",visual:"marketing-featured"},{label:"ビジネス",topicId:"business",visual:"business-featured"},{label:"サイエンス",topicId:"science",visual:"science-featured"},{label:"政治",topicId:"zheng-zhi",visual:"politics-featured"},{label:"セキュリティ",topicId:"security",visual:"security-featured"},{label:"漫画",topicId:"comic",visual:"comics-featured"}],language:"ja",layout:"cards"},{section:"Explore the Web",topics:[{label:"ゲーム",topicId:"game",visual:"gaming"},{label:"投資",topicId:"tou-zi",visual:"finance"},{label:"ファッション",topicId:"fashion",visual:"fashion"},{label:"音楽",topicId:"music",visual:"music"},{label:"カメラ",topicId:"camera",visual:"photography"},{label:"グルメ",topicId:"food",visual:"food"},{label:"スポーツ",topicId:"sports",visual:"sport"},{label:"自動車",topicId:"car",visual:"automotive"},{label:"旅行",topicId:"travel",visual:"travel"},{label:"プログラミング",topicId:"programming",visual:"programming"},{label:"料理",topicId:"liao-li",visual:"cooking"}],language:"ja",layout:"list"}],"mobile-ko":[{section:"Featured",topics:[{label:"Tech",topicId:"it",visual:"tech-featured"},{label:"디자인",topicId:"design",visual:"design-featured"},{label:"마케팅",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"과학",topicId:"science",visual:"science-featured"},{label:"정치",topicId:"jeongci",visual:"politics-featured"},{label:"보안",topicId:"security",visual:"security-featured"},{label:"웹툰",topicId:"manhwa",visual:"comics-featured"}],language:"ko",layout:"cards"},{section:"Explore the Web",topics:[{label:"경제",topicId:"gyeongje",visual:"economics"},{label:"영화",topicId:"yeonghwa",visual:"cinema"},{label:"개발",topicId:"gaebal",visual:"programming"},{label:"자동차",topicId:"jadongca",visual:"automotive"},{label:"여행",topicId:"yeohaeng",visual:"travel"},{label:"게임",topicId:"game",visual:"gaming"},{label:"사진",topicId:"photography",visual:"photography"},{label:"패션",topicId:"fashion",visual:"fashion"},{label:"음악",topicId:"music",visual:"music"},{label:"스포츠",topicId:"sports",visual:"sport"},{label:"운동",topicId:"undong",visual:"fitness"},{label:"부동산",topicId:"budongsan",visual:"real-estate"}],language:"ko",layout:"list"}],"mobile-pl":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Biznes",topicId:"biznes",visual:"business-featured"},{label:"Nauka",topicId:"nauka",visual:"science-featured"},{label:"Polityka",topicId:"polityka",visual:"politics-featured"},{label:"Security",topicId:"security",visual:"security-featured"},{label:"Komiksy",topicId:"comics",visual:"comics-featured"}],language:"pl",layout:"cards"},{section:"Explore the Web",topics:[{label:"Finanse",topicId:"finanse",visual:"finance"},{label:"Gry",topicId:"gry",visual:"gaming"},{label:"Kuchnia",topicId:"kuchnia",visual:"cooking"},{label:"Sport",topicId:"sport",visual:"sport"},{label:"Podróże",topicId:"podroze",visual:"travel"},{label:"Moda",topicId:"moda",visual:"fashion"},{label:"Kultura",topicId:"kultura",visual:"culture"},{label:"Fotografia",topicId:"photography",visual:"photography"},{label:"Moto",topicId:"moto",visual:"moto"},{label:"Programowanie",topicId:"programming",visual:"programming"},{label:"Muzyka",topicId:"muzyka",visual:"music"},{label:"Książki",topicId:"ksiazki",visual:"books"}],language:"pl",layout:"list"}],"mobile-pt":[{section:"Featured",topics:[{label:"Tecnologia",topicId:"tech",visual:"tech-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"economia",visual:"business-featured"},{label:"Ciência",topicId:"ciencia",visual:"science-featured"},{label:"Política",topicId:"política",visual:"politics-featured"},{label:"Segurança",topicId:"security",visual:"security-featured"},{label:"Tirinhas",topicId:"comics",visual:"comics-featured"}],language:"pt",layout:"cards"},{section:"Explore the Web",topics:[{label:"Culinária",topicId:"culinaria",visual:"cooking"},{label:"Viagens",topicId:"viagens",visual:"travel"},{label:"Esportes",topicId:"esportes",visual:"sport"},{label:"Games",topicId:"games",visual:"gaming"},{label:"Moda",topicId:"moda",visual:"fashion"},{label:"Finanças",topicId:"financas",visual:"finance"},{label:"Música",topicId:"musica",visual:"music"},{label:"Carros",topicId:"carros",visual:"automotive"},{label:"Decoração",topicId:"decoracao",visual:"decoration"},{label:"Organização",topicId:"organizacao",visual:"leadership"},{label:"Fotografia",topicId:"photography",visual:"photography"},{label:"Empreendedorismo",topicId:"empreendedorismo",visual:"entrepreneurship"}],language:"pt",layout:"list"}],"mobile-ru":[{section:"Featured",topics:[{label:"технологии",topicId:"it",visual:"tech-featured"},{label:"дизайн",topicId:"design",visual:"design-featured"},{label:"маркетинг",topicId:"marketing",visual:"marketing-featured"},{label:"бизнес",topicId:"biznes",visual:"business-featured"},{label:"наука",topicId:"science",visual:"science-featured"},{label:"политика",topicId:"politika",visual:"politics-featured"},{label:"Security",topicId:"security",visual:"security-featured"},{label:"комиксы",topicId:"comics",visual:"comics-featured"}],language:"ru",layout:"cards"},{section:"Explore the Web",topics:[{label:"фото",topicId:"photography",visual:"photography"},{label:"программирование",topicId:"programming",visual:"programming"},{label:"авто",topicId:"avto",visual:"automotive"},{label:"путешествия",topicId:"travel",visual:"travel"},{label:"кулинария",topicId:"kulinariia",visual:"cooking"},{label:"seo",topicId:"seo",visual:"seo"},{label:"финансы",topicId:"finance",visual:"finance"},{label:"музыка",topicId:"music",visual:"music"},{label:"programming",topicId:"programming",visual:"programming"},{label:"образование",topicId:"education",visual:"education"},{label:"кино",topicId:"kino",visual:"cinema"},{label:"экономика",topicId:"ekonomika",visual:"economics"}],language:"ru",layout:"list"}],"mobile-zh":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"設計",topicId:"design",visual:"design-featured"},{label:"行銷",topicId:"marketing",visual:"marketing-featured"},{label:"科學",topicId:"science",visual:"science-featured"},{label:"Politics",topicId:"politics",visual:"politics-featured"},{label:"Security",topicId:"security",visual:"security-featured"}],language:"zh",layout:"cards"},{section:"Explore the Web",topics:[{label:"財經",topicId:"finance",visual:"finance"},{label:"旅行",topicId:"travel",visual:"travel"},{label:"攝影",topicId:"photography",visual:"photography"},{label:"美食",topicId:"food",visual:"food"},{label:"遊戲",topicId:"you-xi",visual:"gaming"},{label:"技术",topicId:"programming",visual:"programming"},{label:"Fashion",topicId:"fashion",visual:"fashion"},{label:"手機",topicId:"shou-ji",visual:"smartphone"},{label:"管理",topicId:"guan-li",visual:"management"},{label:"汽車",topicId:"car",visual:"automotive"},{label:"運動",topicId:"yun-dong",visual:"sport"},{label:"健康",topicId:"jian-kang",visual:"health"}],language:"zh",layout:"list"}],"web-en":[{section:"Featured",topics:[{label:"Tech",topicId:"tech",visual:"tech-featured"},{label:"Cyber Security",topicId:"security",visual:"security-featured"},{label:"Marketing",topicId:"marketing",visual:"marketing-featured"},{label:"Business",topicId:"business",visual:"business-featured"},{label:"Design",topicId:"design",visual:"design-featured"},{label:"Politics",topicId:"politics",visual:"politics-featured"},{label:"Science",topicId:"science",visual:"science-featured"},{label:"Comics",topicId:"comics",visual:"comics-featured"}],language:"en",layout:"cards"},{section:"Industries",topics:[{label:"Advertising",topicId:"advertising",visual:"advertising"},{label:"Aerospace",topicId:"aerospace",visual:"aerospace"},{label:"Agriculture",topicId:"agriculture",visual:"agriculture"},{label:"Education",topicId:"education",visual:"education"},{label:"Healthcare",topicId:"healthcare",visual:"healthcare"},{label:"Travel & Hospitality",topicId:"hospitality",visual:"hospitality"},{label:"Media",topicId:"media",visual:"media"},{label:"Oil & Gas",topicId:"oil",visual:"oil"},{label:"Pharma",topicId:"pharma",visual:"pharma"},{label:"Private Equity",topicId:"private equity",visual:"private-equity"},{label:"Retail",topicId:"retail",visual:"retail"}],language:"en",layout:"list",seeAllLink:"https://feedly.com/i/all"},{section:"Trends",topics:[{label:"Cryptocurrency",topicId:"cryptocurrency",visual:"cryptocurrency"},{label:"Mixed Reality",topicId:"vr",visual:"vr"},{label:"Internet of Things",topicId:"iot",visual:"iot"},{label:"Machine Learning",topicId:"ai",visual:"ai"},{label:"Clean Energy",topicId:"energy",visual:"energy"}],language:"en",layout:"list"},{section:"Skills",topics:[{label:"Entrepreneurship",topicId:"entrepreneurship",visual:"entrepreneurship"},{label:"Leadership",topicId:"leadership",visual:"leadership"},{label:"Economics",topicId:"economics",visual:"economics"},{label:"Programming",topicId:"programming",visual:"programming"},{label:"SEO",topicId:"seo",visual:"seo"},{label:"Management",topicId:"management",visual:"management"},{label:"Photography",topicId:"photography",visual:"photography"},{label:"Data Science",topicId:"data science",visual:"data-science"},{label:"Writing",topicId:"writing",visual:"writing"},{label:"Creativity",topicId:"creativity",visual:"creativity"},{label:"Content Marketing",topicId:"content marketing",visual:"content-marketing"},{label:"Marketing",topicId:"marketing",visual:"marketing"}],language:"en",layout:"list"},{section:"Fun",topics:[{label:"Comics",topicId:"comics",visual:"comics"},{label:"Gaming",topicId:"gaming",visual:"gaming"},{label:"Food",topicId:"food",visual:"food"},{label:"Travel",topicId:"travel",visual:"travel"},{label:"Music",topicId:"music",visual:"music"},{label:"Culture",topicId:"culture",visual:"culture"},{label:"Crafts",topicId:"crafts",visual:"crafts"},{label:"Dating",topicId:"dating",visual:"dating"}],language:"en",layout:"list"}]};var i=s(53623),r=s(54960),a=s(94059),o=s(83168),l=s(28514),c=s(855);class d extends o.y{setAlerts(e){this.alerts=e}setLeo(e){this.leo=e}setNet(e){this.net=e}setFeeds(e){this.feeds=e}setWebsitefeeds(e){this.websitefeeds=e}load(){this.isWeb=(0,l.$L)()}unload(){this.isWeb=null,this.alerts=null,this.leo=null,this.net=null,this.suggesto=null}async askDiscoverFeeds(e,t,s,n){return this.feeds._askSearchFeeds(e,{locale:t,numResults:s,withWebsite:!0,autocomplete:n})}async askAutocomplete(e,t,s){let{withEntities:n=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!(e=e.trim())||"#"===e)return{entities:[],feeds:[],keywordAlerts:[],topics:[],websiteFeed:null};let[o,{feeds:l,websiteFeed:d}]=await Promise.all([this.leo.askTopicAutocomplete(e,t,s),this.askDiscoverFeeds(e,s,t,!0)]);o.length>t/2&&l.length<=t/2?o=o.slice(0,t-l.length):o.length<=t/2&&l.length>t/2?l=l.slice(0,t-o.length):(o=o.slice(0,t/2),l=l.slice(0,t/2));const h=await this.alerts.askHasWebAlertsAccess();if(!this.isWeb||!h||!n){const s=l.filter((e=>e.isGoogleNews));l=l.filter((e=>!e.isGoogleNews));const n=/[a-z0-9]+([-.][a-z0-9]+)*\.[a-z]{1,6}/gi;if(!e.startsWith("http")&&(!n.test(e)||e.includes('"'))&&!e.startsWith("#")&&e.length>=i.Sh&&(o.length<t/2||e.includes('"'))){s.some((t=>{const s=e.toLowerCase(),n=t.googleNewsKeyword.toLowerCase();return s===n||'"'.concat(s,'"')===n||'"'.concat(n,'"')===s}))||s.push((0,r._U)(e,"en"))}return{feeds:l,keywordAlerts:s,topics:o,entities:[],websiteFeed:d}}let u=[];return e.length>=i.Sh&&!(0,c.bZ)(e)&&(u=await this.leo.askAutocompleteParts(e,{count:1}),u.length&&e.toLowerCase()===u[0].label.toLowerCase()||u.push({text:e,type:"customKeyword",description:a.gQ.customKeyword})),l=l.filter((e=>!e.isGoogleNews)),{feeds:l,entities:u,topics:o,keywordAlerts:[],websiteFeed:d}}async askCheckTopicExists(e){return(await this.leo.askTopicAutocomplete(e,1)).some((t=>{let{id:s}=t;return s===e}))}async askDefaultTopics(e){const t=n[e];if(!t)return null;if(t.enriched||e.startsWith("mobile-"))return t;const s={};t.forEach((e=>{e.topics.forEach((t=>{t.key="".concat(e.language,":").concat(t.topicId),s[t.key]=!0}))}));const i=await this.net.GET("!{cloud}/v3/topics/discover/".concat(Object.keys(s).map(encodeURIComponent).join(","))).then(JSON.parse);return i.length!==Object.keys(s).length?(console.error("[discover] bad topic in discover data",Object.keys(s),i),null):(Object.keys(s).forEach(((e,t)=>{s[e]=i[t],i[t].key=e})),t.forEach((e=>{e.topics.forEach((e=>{const t=s[e.key];for(const s in t)e[s]||(e[s]=t[s]);e.featured=t.topFeedInfo}))})),t.enriched=!0,t)}}function h(e){return new d(e)}},24482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});const n=[{id:"change-layout-button",title:"Change article view",description:"You can choose between title, magazine, cards, and article views.",dependencies:[],priority:1,autoActivate:!1,corner:"bottom-right",xOffset:"50%",yOffset:"-0.5rem",zIndex:1,tooltipSide:"bottom"},{id:"save-to-knowledge-board",title:"Found a valuable story?",delay:4e3,description:"Save it to a board for reference or sharing",dependencies:["change-layout-button"],priority:2,autoActivate:!0,corner:"bottom-right",xOffset:"50%",tooltipSide:"bottom"},{id:"add-highlight",title:"Add highlights",description:'As you\'re reading, select important passages and click "Highlight".',dependencies:["save-to-knowledge-board"],priority:3,autoActivate:!0,corner:"top-right",tooltipSide:"left"}];var i=s(83168);const r="dots.dismissed",a="greenDotsTutorial";class o extends i.y{setPreferences(e){this.preferences=e}load(){this._dots=[],this._dismissed=[],this._prioritized=[],this.preferences.registerObserver(this)}unload(){this.preferences.unregisterObserver(this),this.preferences=null}async onUserIdentified(){this._dots=[],this._dismissed=[],this._prioritized=[],streets.getUserId()&&(this._isServiceEnabled="on"===this.preferences.getPreference(a),this._loadDismissedDots(),this._prioritizeDots(),this._enrichDots())}async onNoUserIdentified(){this._dots=[],this._dismissed=[],this._prioritized=[],this._isServiceEnabled=!1}onPreferenceChanged(e,t){e===a&&(this._isServiceEnabled="on"===t,this._updateDots())}askClosePopovers(){this.fire("onCloseDotPopovers")}dismissDot(e){this._isDismissed(e)||(this._dismissed.push(e),this._prioritizeDots(),this._updateDots(),this._saveDismissedDots())}lookupDot(e){const t=this._dots.find((t=>t.id===e));return t||console&&console.warn("[Dots] Unknown dot id '"+e+"'."),t}pause(){this._isPaused=!0,this._updateDots()}resume(){this._isPaused=!1,this._updateDots()}_enrichDots(){this._dots=n.map((e=>(e.active=this._isActive(e),e.topPriority=this._isTopPriority(e.id),e)))}_isActive(e){if(!e||!this._isServiceEnabled||this._isPaused||e.disabled||this._isDismissed(e.id))return!1;for(let t=0;t<e.dependencies.length;t++)if(!this._isDismissed(e.dependencies[t]))return!1;return!0}_isDismissed(e){return this._dismissed.find((t=>t===e))}_isTopPriority(e){return this._prioritized[0]===e}_loadDismissedDots(){try{this._dismissed=JSON.parse(this.preferences.getPreference(r)||"[]")}catch(e){console.log("[dots] failed to deserialize dismissed dots:"+e.name+" -- "+e.message),this._dismissed=[]}}_prioritizeDots(){const e=n.filter((e=>this._isActive(e))).sort(((e,t)=>t.priority-e.priority));this._prioritized=e.map((e=>e.id))}_saveDismissedDots(){this.preferences.setPreference(r,JSON.stringify(this._dismissed),null,!0)}_updateDots(){this._dots.forEach((e=>{const t=this._isActive(e),s=this._isTopPriority(e.id);t===e.active&&s===e.topPriority||(e.active=t,e.topPriority=s,this.fire("onDotChanged",e.id))}))}}function l(e){return new o(e)}},86132:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}setReader(e){this.reader=e}setFeeds(e){this.feeds=e}load(){this._reset()}unload(){this._reset(),this.net=null,this.reader=null}async onUserIdentified(){this._reset()}async onNoUserIdentified(){this._reset()}async askRefreshEntryEngagement(e){try{if(!streets.getUserId())return;if(window.BACKEND.includes("//sandbox7.feedly.com"))return;const t=e.getCleanAlternateLink();if(!t||this._isRootURL(t))return void e.setEngagement(0);if(!0===e.metadata.engagementRefreshed)return;const s=await this._askBestEngagementUrl(e);if(!s)return;const n=e.hasEngagement(),i=e.getEngagement();let r=e.getEngagementRate();void 0===r&&(r=2);const a=e.getAge();if(n&&a>24&&r<1)return;if(n&&a>48&&r<2)return;if(n&&a>72&&r<3)return;if(n&&a>96)return;if(s.indexOf("?")>-1&&s.indexOf("youtube.com/watch")<0)return;const o=await this.feeds.askMetadata(e.getFeedId(),{cachedOnly:!0});if(!o)return;const{subscribers:l,velocity:c,isGoogleNews:d}=o;let h="free";if(streets.hasBusinessAccess()?h="team":streets.hasProAccess()&&(h="pro"),"free"===h&&Math.random()>.1)return;this._queueRequest({entryId:e.getId(),feedId:e.getFeedId(),engagement:i,url:s,engagementRate:r,subscribers:l,velocity:c,age:a,hasEngagement:n,isGoogleNews:d,plan:h})}catch(t){console.log("[engagements] failed to refresh engagement",e.getId(),t)}}_reset(){this.queue=[],this.queueTimeout&&(window.clearTimeout(this.queueTimeout),this.queueTimeout=null)}_queueRequest(e){this.queue.push(e),this.queue.length>=10?this._processQueue():(this.queueTimeout&&(window.clearTimeout(this.queueTimeout),this.queueTimeout=null),this.queueTimeout=window.setTimeout((()=>{this._processQueue()}),1e3))}async _processQueue(){try{if(this.queueTimeout&&(window.clearTimeout(this.queueTimeout),this.queueTimeout=null),0===this.queue.length)return;const e=this.queue.slice(0);this.queue=[];(await this.net.POST("https://engagement.feedly.com",e,{authenticated:!0,isOptional:!0}).then(JSON.parse)).forEach((e=>{let{entryId:t,engagement:s}=e;const n=this.reader.lookupEntry(t);n&&(n.setEngagement(s),this.fire("onEntryEngagementChanged",t,s))}))}catch(e){console.error("[engagements] process queue failed:",e)}}async _askBestEngagementUrl(e){try{if(!e)return null;const t=e.getCanonicalUrl();if(t)return t;0;const s=e.getCleanAlternateLink(),n=await this.net.GET("https://read.feedly.com/expand?url=".concat(encodeURIComponent(s),"&entryId=").concat(encodeURIComponent(e.getId())),{"Content-Type":"text/plain",isOptional:!0}).then(JSON.parse);if(n&&n.url&&-1===n.url.indexOf("login")&&-1===n.url.indexOf("authorized")){let t=n.url;return t.indexOf("?umt")>0&&(t=t.split("?")[0]),e.setCanonicalUrl(t),t}return e.getCleanAlternateLink()}catch(t){return console.error("[engagements] failed to expand",e.getCleanAlternateLink(),t),e.getCleanAlternateLink()}}_isRootURL(e){if(!e)return!0;const t=e.split("/");return t.length<4||""===t[3]}}function r(e){return new i(e)}},62714:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var n=s(10268),i=s.n(n),r=s(68906),a=s.n(r),o=s(87753),l=s(53411),c=s(35330),d=s(57471),h=s(54960),u=s(74221),p=s(61861),m=s(16874),g=s(83168),f=s(3167),y=s(85251);const v=Object.freeze({service:"EnterpriseCollections",askListCollections:"askListCollections",askListSubscribedCollections:"askListSubscribedCollections",askListArchivedCollections:"askListArchivedCollections"});class b extends g.y{setNet(e){this.net=e}setReader(e){this.reader=e}setPreferences(e){this.preferences=e}setAlerts(e){this.alerts=e}setWebsitefeeds(e){this.websitefeeds=e}load(){this.alerts.registerObserver(this),this.reader.registerObserver(this),this.preferences.registerObserver(this),this.websitefeeds.registerObserver(this),this.cache={archivedCollections:null,collections:null,subscribedCollections:null},this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}async onUserIdentified(){this.cache={},this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}async onNoUserIdentified(){this.cache={},this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}unload(){this.alerts.unregisterObserver(this),this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.websitefeeds.unregisterObserver(this),this.cache={},this.alerts=null,this.net=null,this.reader=null,this.preferences=null,this.websitefeeds=null}async askRefresh(){this.cache={}}onStreamUnreadCountChanged(){this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}onPreferenceChanged(e){e===f.As.teamCollections&&this.fire("onCollectionsOrderChanged")}async onSourceCreated(e,t){const{isEnterprise:s}=(0,u.Yg)(t);s&&(this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.fire("onFeedChanged",e),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",t),this.fire("onCollectionsChanged"))}async askAddFeed(e,t){let{analyticsContext:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t.id)throw new Error("The collectionId and feedId are required.");const n=await this.net.POST("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/feeds",t).then(JSON.parse),i=n.filter((e=>e.id===t.id));if(await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),0===i.length)throw console.error(">>> FAILED TO ADD FEEDS",e,t,n),new Error("Failed to add ".concat(t.id));s&&((0,h.Qc)(t.id)||(0,d.tp)(t.id))&&(streets.service("analytics").trackNewFeaturesEvent("keyword_alert","follow",{context:s}),(0,o.K)("source_followed",{context:s,is_keyword_alert:!0},["amplitude","ga"])),this.fire("onFeedChanged",t.id),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askAddFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feeds are required.");return t.length?this.net.POST("!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e),"/feeds/.mput"),t).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),t.forEach((e=>{let{id:t}=e;this.fire("onFeedChanged",t)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")})):Promise.resolve()}async askArchiveCollection(e){if(!e)throw new Error("collectionId is required");return this.net.DEL("!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e))).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askListCollectionFeeds(e){if(!e)throw new Error("`collectionId` is required");const{isGlobalEnterprise:t}=(0,u.Yg)(e);if(t)return this.askListAllSubscribedFeeds();const s=(await this.askListCollections()).find((t=>t.id===e));if(!s)throw new Error("Collection not found");return s.feeds||[]}async askDeleteCollection(e){if(!e)throw new Error("collectionId is required");return this.net.DEL("!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e),"?deleteContent=true")).then((async()=>{this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")})).catch((e=>{console.error("Failed to delete collection:"+e)}))}async askFeedCollectionMapping(){return(await this.askListCollections()).reduce(((e,t)=>(t.feeds.forEach((s=>{const n=s.id;e[n]||(e[n]=[]),e[n].push(t)})),e)),{})}async askImportFeeds(e,t){let s=await this.askLookupCollectionByLabel(e);return s||(s=await this.askSave({label:e})),this.askAddFeeds(s.id,t)}async askListAllFeeds(){const e=(await this.askListCollections()).reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(e,(e=>e.streamId))}async askListAllSubscribedFeeds(){const e=(await this.askListSubscribedCollections()).reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(e,(e=>e.streamId))}askListArchivedCollections(){let e=(0,p.Z)(v.service,v.askListArchivedCollections);return streets.hasBusinessAccess()?this.cache.archivedCollections?(0,c.co)(this.cache.archivedCollections):e||(e=this.net.GET("!{cloud}/v3/enterprise/collections?includeArchived=true").then(JSON.parse).then(c.V2).then((e=>(this.cache.archivedCollections=e.filter((e=>e.collectionArchived)),this.cache.archivedCollections.slice(0)))),(0,p.Z)(v.service,v.askListArchivedCollections,e),e):Promise.resolve([])}async askListCollections(e){let t=(0,p.Z)(v.service,v.askListCollections);return streets.getUserId()&&streets.hasBusinessAccess()?this.cache.collections?this.collectionsNeedUnreadCountUpdate?(this.cache.collections=await(0,c.co)(this.cache.collections,e),e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)):this.cache.collections.slice(0):t?t.then((t=>(0,c.co)(t,e))):(t=this.net.GET("!{cloud}/v3/enterprise/collections?withStats=true").then(JSON.parse).then((async t=>(this.cache.collections=await(0,c.V2)(t,e),e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)))),(0,p.Z)(v.service,v.askListCollections,t),t):[]}async askListCollectionsForFeed(e){if(!e)throw new Error("The `feedId` is required.");return this.askListCollections().then((t=>t.reduce(((t,s)=>(s.feeds.some((t=>{let{id:s}=t;return e===s}))&&t.push(s),t)),[])))}async askListCollectionSubscribedUsers(e){if(!e)throw new Error("collectionId is required");return streets.hasBusinessAccess()?(this.cache.collectionSubscribedUsers||(this.cache.collectionSubscribedUsers={}),this.cache.collectionSubscribedUsers[e]?Promise.resolve(this.cache.collectionSubscribedUsers[e]):this.net.GET("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/users").then(JSON.parse).then((t=>(this.cache.collectionSubscribedUsers[e]=t,t)))):(this.cache.collectionSubscribedUsers=[],Promise.resolve({}))}askListNonSubscribedCollections(){return Promise.all([this.askListSubscribedCollections(),this.askListCollections()]).then((e=>{let[t,s]=e;return(0,l.v)(s,t,((e,t)=>e.id===t.id))}))}async askListSubscribedCollections(e){let t=(0,p.Z)(v.service,v.askListSubscribedCollections);return streets.getUserId()&&streets.hasBusinessAccess()?this.cache.subscribedCollections?this.subscribedCollectionsNeedUnreadCountUpdate?(this.cache.subscribedCollections=await(0,c.co)(this.cache.subscribedCollections,e),e&&!0===e.cachedUnreadCountsOnly||(this.subscribedCollectionsNeedUnreadCountUpdate=!1),this.cache.subscribedCollections.slice(0)):this.cache.subscribedCollections.slice(0):t?t.then((t=>(0,c.co)(t,e))):(t=this.net.GET("!{cloud}/v3/subscriptions/collections").then(JSON.parse).then((async t=>{let s=t[0]?t[0].collectionSubscriptions:[];const n=(await this.askListCollections()).reduce(((e,t)=>(e[t.id]=t,e)),{});return s=await(0,c.V2)(s.map((e=>{let{id:t}=e;return n[t]}))),this.cache.subscribedCollections=s,e&&!0===e.cachedUnreadCountsOnly||(this.subscribedCollectionsNeedUnreadCountUpdate=!1),[...s]})),(0,p.Z)(v.service,v.askListSubscribedCollections,t),t):[]}async askListRankedSubscribedCollections(e){const t=await this.askListSubscribedCollections(),s=JSON.parse(this.preferences.getPreference(f.As.teamCollections));return s?(0,y.r)(t,s):t}async askLookupCollection(e,t){if(!e)return null;const s=await this._askLookupSpecialCollectionInfo(e,t);return s||(await this.askListCollections(t)).find((t=>t.id===e))}async askLookupCollectionByLabel(e){return(await this.askListCollections()).find((t=>t.label===e))}askMetadata(e){return this.askLookupCollection(e,{cachedUnreadCountsOnly:!0})}async askRemoveFeed(e,t){if(!e||!t)throw new Error("The collectionId and feedId are required.");return this.net.DEL("!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e),"/feeds/").concat(encodeURIComponent(t))).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onFeedChanged",t),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askRemoveFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feedIds are required.");if(!t.length)return Promise.resolve();const s="!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e),"/feeds/.mdelete"),n=a()(t,100);for(let i=0;i<n.length;i++)await this.net.MDEL(s,n[i].map((e=>({id:e}))));await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),t.forEach((e=>{this.fire("onFeedChanged",e)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askRemoveFeedsFromAll(e){const t=(0,u.Gr)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeeds(t,e)}async askRemoveFeedFromAll(e){const t=(0,u.Gr)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeed(t,e)}async askRenameFeed(e,t){return this.askAddFeed(e,t)}async askSave(e){let{silently:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.label)throw new Error("label is required");return e.emailSettings||(e.emailSettings=(0,m._e)()),this.net.POST("!{cloud}/v3/enterprise/collections",e).then(JSON.parse).then((async s=>(await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),s[0]&&!s[0].feeds&&(s[0].feeds=[]),e.id?(t||(this.fire("onCollectionChanged",e.id),this.fire("onCollectionsChanged")),this.askLookupCollection(e.id).then((s=>{s&&(s.label=e.label,t||this.fire("onCollectionsChanged"))}))):s[0].id&&(await this.askSubscribeCollection(s[0].id).then((()=>{t||this.fire("onCollectionsChanged")})),this.preferences.setPreference(s[0].id,"show")),s[0])))}askSaveCoverImage(e,t){const s=new FormData;return s.append("cover",t),this.net.POST("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e),s).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askSendNewsletter(e){if(!e)throw new Error("collectionId are required");return this.net.POST("!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e),"/newsletter"),{}).then((e=>(this._clearCachedCollections(),JSON.parse(e))))}askSubscribeCollection(e){if(!e)throw new Error("Required parameter `id` is missing.");return this.net.POST("!{cloud}/v3/subscriptions/collections",{id:e}).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.preferences.setPreference(e,"show"),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askSubscribeUser(e,t){if(!e||!t)throw new Error("collectionId and userId are required");return this.net.PUT("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/users/.mput",[t]).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collectionSubscribedUsers={[e]:null},this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askSubscribeUsers(e,t){if(!e||!t)throw new Error("collectionId and userId list are required");return this.net.PUT("!{cloud}/v3/enterprise/collections/"+encodeURIComponent(e)+"/users/.mput",t).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collectionSubscribedUsers={[e]:null},this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askUnarchiveCollection(e){if(!e||!e.label||!e.id)throw new Error("Label and ID are required");return this.net.POST("!{cloud}/v3/enterprise/collections",e).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e.id),this.fire("onCollectionsChanged")}))}async askUnsubscribeCollection(e){if(!e)throw new Error("Required parameter `id` is missing.");return this.net.DEL("!{cloud}/v3/subscriptions/collections/".concat(encodeURIComponent(e))).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}async askUnsubscribeUser(e,t){if(!e||!t)throw new Error("collectionId and userId are required");return this.net.DEL("!{cloud}/v3/enterprise/collections/".concat(encodeURIComponent(e),"/users/").concat(encodeURIComponent(t))).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collectionSubscribedUsers={[e]:null},this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}))}_clearCachedCollections(){this.cache.collections=null,this.cache.subscribedCollections=null,this.cache.archivedCollections=null,this.needsUnreadCountUpdate=!0,this.subscribedCollectionsNeedUnreadCountUpdate=!0,this.collectionsNeedUnreadCountUpdate=!0}async _askLookupSpecialCollectionInfo(e,t){if(!e)return null;const{isAll:s,isGlobalEnterprise:n}=(0,u.Yg)(e);if(s){return{id:e,streamId:e,label:"All",uri:"collection/content/"+e,unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],subscribed:!0}}if(n){return{id:e,streamId:e,label:"All Team Feeds",uri:"collection/content/"+e,unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],subscribed:!0}}return null}async _buildBundle(e){const t=await this.askLookupCollection(e);console.log(t.feeds.map((e=>e.id)))}}function E(e){return new b(e)}},1626:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(35330),i=s(74221),r=s(61861),a=s(83168);const o=Object.freeze({service:"EnterpriseFilters",listFilters:"askListFilters"});class l extends a.y{setNet(e){this.net=e}load(){this.cache={}}unload(){this.cache=null,this.net=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this._askDelete(e).then((()=>{this.cache.filters=null,this.fire("onFilterChanged",e),this.fire("onFiltersChanged")}))}async askFilterInfo(e){if(!e)throw new Error("Missing required parameter `filterId`.");return this.askListFilters().then((t=>t.find((t=>t.id===e)))).then((t=>{if(!t)throw new Error("Filter not found. id="+e);return t}))}askListFilters(){let e=(0,r.Z)(o.service,o.listFilters);return this.cache.filters?Promise.resolve(this.cache.filters):streets.hasBusinessAccess()?e||(e=this.net.GET("!{cloud}/v3/enterprise/filters/").then(JSON.parse).then((async e=>(this.cache.filters=await(0,n.x$)(e),e))),(0,r.Z)(o.service,o.listFilters,e),e):(this.cache.filters=null,Promise.resolve([]))}async askListFiltersForFeed(e){const{isGlobalEnterprise:t}=(0,i.Yg)(e);return(await this.askListFilters()).filter((s=>s.streamIds&&s.streamIds.includes(e)||t))}async askMetadata(e){return this.askFilterInfo(e)}_askDelete(e){return this.net.DEL("!{cloud}/v3/enterprise/filters/".concat(encodeURIComponent(e)))}}function c(e){return new l(e)}},2620:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(73400),i=s.n(n),r=s(79442),a=s(80875),o=s(86779),l=s(83168),c=s(8199),d=s(3167),h=s(77157),u=s(35610);class p extends l.y{setNet(e){this.net=e}load(){this._resetCache()}intialize(){}onUserUpgraded(){this.askRefresh()}async onUserIdentified(){this._resetCache(),await this._checkSentry()}async onNoUserIdentified(){this._resetCache()}uninitialize(){}unload(){this.net=null}async askRefresh(){this.cache={}}askAcceptInvite(e){return this.net.POST("!{cloud}/v3/enterprise/join/"+encodeURIComponent(e),{}).then(JSON.parse).then((e=>{const t=h.F.load();h.F.save({...t,feedlyRefreshToken:e.refresh_token,feedlyToken:e.access_token,feedlyExpiresIn:e.expires_in,feedlyExpirationTime:(new Date).getTime()+1e3*e.expires_in-1e4,plan:e.plan}),window.setTimeout((()=>{window.location.href="".concat((0,u.il)(),"/discover")}),100)}))}askActivateLeo(){return this.net.POST("!{cloud}/v3/enterprise",{leoBeta:!0}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("[enterprise] Failed to activate Leo: "+e.message),e}))}async askCalendlyOnboardingLink(){if(!streets.getEnterpriseName())return null;const[e,t]=await Promise.all([this.askTeamInfo(),this.askIsPrimeAccount()]),{pointOfContact:s,salesInfo:{useCase:n}}=e,i=streets.getPlan();return t?s&&o.H[s.name]?o.H[s.name]:n===a.Z.Security?o.H.cybersecurity:i===c._B.enterprise?o.H.enterprise:i===c._B.business?o.H.business:o.H.fallback:null}askCancelInvite(e){return this.net.DEL("!{cloud}/v3/enterprise/invites/".concat(encodeURIComponent(e))).then((e=>(this.cache.invites=null,this.fire("onInvitesChanged"),e))).catch((e=>{throw this._onInvitesError("Failed to cancel invite: "+e.message),e}))}askCancelTeamSubscription(e){let t="!{cloud}/v3/enterprise";return e&&(t+="?reason=".concat(encodeURIComponent(e))),this.net.DEL(t).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to cancel subscription: "+e.message),e}))}askClearSlackCache(){this.cache&&(delete this.cache.slackChannels,delete this.cache.slackUsers)}async askCreateTeam(e){return this.net.POST("!{cloud}/v3/enterprise",e).then(JSON.parse).then((e=>(this.cache.info=e,e))).catch((e=>{throw this._onEnterpriseError("Failed to create team: "+e.message),e}))}askCreateInvites(e,t){return this.net.POST("!{cloud}/v3/enterprise/invites/.mput?note="+encodeURIComponent(t),e).then(JSON.parse).then((e=>(this.cache.invites=null,this.fire("onInvitesChanged"),e))).catch((e=>{throw this._onInvitesError("Failed to create invites: "+e.message),e}))}async askCustomFeedLimit(){const e=await this.askTeamInfo();return e&&e.preferences&&e.preferences[d.$Y]?JSON.parse(e.preferences[d.$Y]):null}askDeleteCardInfo(){return this.net.DEL("!{cloud}/v3/enterprise/card").then((()=>{this.cache.info.cardDetails=null,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to update card info: "+e.message),e}))}askDowngradePlan(e){return e.product?this.net.POST("!{cloud}/v3/enterprise/downgrade",e).then(JSON.parse).then((e=>{this.cache.info=e,streets.askUpdatePlan(e.tokens),this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("[enterprise] Failed to downgrade plan: "+e.message),e})):null}askGrantPermission(e){return this.askUser(e).then((e=>this._updateUser(e,"isAdmin",!0))).then((()=>this.net.POST("!{cloud}/v3/enterprise/user/"+e,{isAdmin:!0}))).catch((e=>{throw this._onUsersError("Failed to grant admin permission: "+e),e}))}async askHasLeoSecurityFeature(){const e=await this.askTeamInfo();return streets.hasBusinessAccess()&&!!e&&!!e.enterpriseFeatures&&!!e.enterpriseFeatures.find((e=>"LeoSecurity"===e))}askInviteStatus(e){return this.net.GET("!{cloud}/v3/enterprise/invite/"+encodeURIComponent(e),{authenticated:!1}).then(JSON.parse)}askInvoices(){return streets.getEnterpriseName()?this.net.GET("!{cloud}/v3/enterprise/invoices").then(JSON.parse):Promise.resolve([])}async askIsAdvancedPrivacyOn(){if(streets&&!streets.hasBusinessAccess())return!1;const{enterpriseFeatures:e}=await this.askTeamInfo();return e.includes("AdvancedPrivacy")}async askIsIntegrationConnected(e){return(await this.askTeamInfo())["is".concat(i()(e),"Connected")]}async askIsLeoEnabled(){const e=await this.askTeamInfo();return streets.hasBusinessAccess()&&!!e.leoBeta}async askIsPrimeAccount(){const{salesInfo:{teamSize:e,useCase:t}}=await this.askTeamInfo();return"1"!==e||t===a.Z.Security}askListInvites(){return streets.getEnterpriseName()?null!=this.cache.invites?Promise.resolve(this.cache.invites):this.net.GET("!{cloud}/v3/enterprise/invites").then(JSON.parse).then((e=>this.cache.invites=e)):(this.cache.invites=[],Promise.resolve([]))}askListSlackChannels(){return streets.hasBusinessAccess()?null!=this.cache.slackChannels?Promise.resolve(this.cache.slackChannels):this.askTeamInfo().then((e=>e&&e.isSlackConnected?(this._askListSlackChannelsPromise||(this._askListSlackChannelsPromise=this.net.GET("!{cloud}/v3/slack/channels").then(JSON.parse).then((e=>(this._askListSlackChannelsPromise=null,this.cache.slackChannels=e,e))).catch((e=>{throw this._askListSlackChannelsPromise=null,e}))),this._askListSlackChannelsPromise):[])):(this.cache.slackChannels=[],Promise.resolve([]))}askListSlackUsers(){return this.cache.slackUsers?Promise.resolve(this.cache.slackUsers):streets.hasBusinessAccess()?this.askTeamInfo().then((e=>e&&e.isSlackConnected?(this._askListSlackUsersPromise||(this._askListSlackUsersPromise=this.net.GET("!{cloud}/v3/slack/users").then(JSON.parse).then((e=>(this._askListSlackUsersPromise=null,this.cache.slackUsers=e,e))).catch((e=>{throw this._askListSlackUsersPromise=null,e}))),this._askListSlackUsersPromise):[])):(this.cache.slackUsers=[],Promise.resolve([]))}askListUsernames(){return streets.getEnterpriseName()?this.cache.usernames?Promise.resolve(this.cache.usernames):this.askListUsers().then((e=>e.reduce(((e,t)=>{let{name:s,userId:n}=t;return e[n]=s,e}),{}))):(this.cache.usernames={},Promise.resolve({}))}askListUsers(){return streets.getEnterpriseName()?null!=this.cache.users?Promise.resolve(this.cache.users):(this._askListUsersPromise||(this._askListUsersPromise=this.net.GET("!{cloud}/v3/enterprise/users").then(JSON.parse).then((e=>(this._askListUsersPromise=null,this.cache.users=this._enrichUsers(e),this.fire("onEnterpriseUsersChanged",this.cache.users),this.cache.users))).catch((e=>{throw this._askListUsersPromise=null,e}))),this._askListUsersPromise):(this.cache.users=[],Promise.resolve([]))}askReactivateTeamSubscription(){return this.net.POST("!{cloud}/v3/enterprise",{reactivate:!0}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to reactivate subscription: "+e.message),e}))}askRemoveUser(e){return this._removeUser(e),this.net.DEL("!{cloud}/v3/enterprise/user/"+e).catch((e=>{throw this._onUsersError("Failed to remove user: "+e.message),e}))}askResendInvite(e,t){return this.net.POST("!{cloud}/v3/enterprise/invites?note="+encodeURIComponent(t),{email:e}).then((e=>(this.cache.invites=null,this.fire("onInvitesChanged"),e))).catch((e=>{throw this._onInvitesError("Failed to resend invite: "+e.message),e}))}askRevokePermission(e){return this.askUser(e).then((e=>this._updateUser(e,"isAdmin",!1))).then((()=>this.net.POST("!{cloud}/v3/enterprise/user/"+e,{isAdmin:!1}))).catch((e=>{throw this._onUsersError("Failed to revoke admin permission: "+e),e}))}askStripeSecret(){return this.net.POST("!{cloud}/v3/enterprise/stripeSetup",{}).then(JSON.parse).then((e=>{let{clientSecret:t}=e;return t})).catch((e=>{throw console.log("[enterprise] Failed to get stripe client secret: ".concat(e.errorCode," ").concat(e.errorMessage," (").concat(e.errorId,")")),e}))}askTeamInfo(){return streets.getEnterpriseStatus()?this.cache.info?Promise.resolve(this.cache.info):(this._askTeamInfoPromise||(this._askTeamInfoPromise=this.net.GET("!{cloud}/v3/enterprise").then(JSON.parse).then((e=>(this._askTeamInfoPromise=null,this.cache.info=e,e))).catch((e=>{throw this._askTeamInfoPromise=null,e}))),this._askTeamInfoPromise):(this.cache.info=null,Promise.resolve())}askUpdateAdvancedPrivacy(e){return this.net.POST("!{cloud}/v3/enterprise",{advancedPrivacy:e}).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),e))).catch((e=>{throw this._onEnterpriseError("Failed to update advanced privacy features: "+e.message),e}))}askUpdateBillingEmail(e){return this.net.POST("!{cloud}/v3/enterprise",{billingEmailAddress:e}).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),e))).catch((e=>{throw this._onEnterpriseError("Failed to update billing email: "+e.message),e}))}askUpdateCardInfo(e){return this.net.POST("!{cloud}/v3/enterprise/card",{stripePaymentMethod:e}).then(JSON.parse).then((e=>{this.cache.info.cardDetails=e.card,this.fire("onEnterpriseChanged"),this.fire("onCardInfoUpdated")})).catch((e=>{throw this._onEnterpriseError("Failed to update card info: "+e.message),e}))}askUpdateLogo(e){const t=new FormData;return t.append("logo",e),this.net.POST("!{cloud}/v3/enterprise",t).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),e))).catch((e=>{throw console.log("Failed to update team logo: ".concat(e.message)),e}))}askUpdatePaymentPlan(e){return this.net.POST("!{cloud}/v3/enterprise",{product:e}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to update payment plan: "+e.message),e}))}askUpdatePreferences(e){return this.net.POST("!{cloud}/v3/enterprise",{preferences:e}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw this._onEnterpriseError("Failed to update preferences: "+e.message),e}))}askUpdateSalesInfo(e){return this.net.POST("!{cloud}/v3/enterprise",{salesInfo:e}).then(JSON.parse).then((e=>{this.cache.info=e,this.fire("onEnterpriseChanged")})).catch((e=>{throw console.log("[enterprise] Failed to update sales info: "+e.message),e}))}askUpdateTeamInfo(e){return this.net.POST("!{cloud}/v3/enterprise",e).then(JSON.parse).then((e=>(this.cache.info=e,this.fire("onEnterpriseChanged"),streets.service("profile").askRefreshUserInfo(),e))).catch((e=>{throw this._onEnterpriseError("Failed to update team info: "+e.message),e}))}askUser(e){return this.askListUsers().then((t=>t.find((t=>t.userId===e)))).then((t=>{if(t)return t;throw new Error("User not found. userId="+e)}))}getCachedTeamSizeHint(){return streets.hasBusinessAccess()?this.cache.info?this.cache.info.salesInfo&&this.cache.info.salesInfo.teamSize?this.cache.info.salesInfo.teamSize:"".concat(this.cache.info.numUsers||"-"):"-":"0"}markIntegrationAsConnected(){this.cache.info=null,this.fire("onEnterpriseChanged")}markIntegrationAsDisconnected(){this.cache.info=null,this.fire("onEnterpriseChanged")}async _checkSentry(){await this.askIsAdvancedPrivacyOn()||(r.av({id:streets.getUserId()}),r.YA("plan",streets.getPlan()))}_resetCache(){this.cache={info:null,users:null,invites:null,slackChannels:null,slackUsers:null}}_updateUser(e,t,s){if(null==e)throw new Error("Invalid user");e[t]=s,this.fire("onUsersChanged")}_removeUser(e){if(this.cache.info=null,null!=this.cache.users)for(let t=0;t<this.cache.users.length;t++)if(this.cache.users[t].userId==e){this.cache.users.splice(t,1),this.fire("onUsersChanged");break}}_onEnterpriseError(e){console.log("[enterprise] onEnterpriseError: "+e),this.cache.info=null,this.fire("onEnterpriseError",e)}_onUsersError(e){console.log("[enterprise] onUsersError: "+e),this.cache.users=null,this.fire("onUsersError",e)}_onInvitesError(e){console.log("[enterprise] onInvitesError: "+e),this.cache.invites=null,this.fire("onInvitesError",e)}_enrichUsers(e){return e?(e.forEach((e=>{e.picture&&window&&window.location&&"https:"===window.location.protocol&&(e.picture=(0,u.w6)(e.picture))})),e):e}}function m(e){return new p(e)}},39390:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(35330),i=s(74221),r=s(61861),a=s(68971),o=s(83168);const l=Object.freeze({service:"EnterpriseMuteFilters",listFilters:"askListFilters"});class c extends o.y{setNet(e){this.net=e}load(){this._resetCache()}unload(){this.cache=null,this.net=null}async onUserIdentified(){this._resetCache()}async onNoUserIdentified(){this._resetCache()}async askRefresh(){this._resetCache()}askDelete(e){return this._askDelete(e).then((()=>{this.cache.filters=null,this.fire("onMuteFilterChanged",e),this.fire("onMuteFiltersChanged")}))}askListFilters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)(l.service,l.listFilters);return this.cache.filters&&!e.forceRefresh?Promise.resolve(this.cache.filters):streets.hasBusinessAccess()?t||(t=this.net.GET("!{cloud}/v3/enterprise/mutefilters").then(JSON.parse).then((async e=>(this.cache.filters=await(0,n.xG)(e),e))),(0,r.Z)(l.service,l.listFilters,t),t):(this.cache.filters=null,Promise.resolve([]))}async askListFiltersForFeed(e){const{isGlobalEnterprise:t}=(0,i.Yg)(e);return(await this.askListFilters()).filter((s=>{const{isAll:n}=(0,i.Yg)(s.streamId);return s.streamId===e||t||n}))}async askMetadata(e){if(!e)throw new Error("Missing required Mute Filter parameter `id`.");let t=e;for(;this.cache.updatedIds[t];)t=this.cache.updatedIds[t];return this.askListFilters().then((e=>e.find((e=>e.id===t)))).then((e=>{if(!e)throw new Error("Mute Filter not found. id="+t);return e}))}async askSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.streamId||!e.term)throw new Error("Missing required Mute Filter property `streamId` or `term`.");return this._askSave(e).then((()=>{this.cache.filters=null,this.fire("onMuteFiltersChanged")}))}async askUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,streamId:s,term:n}=e;if(!t||!s||!n)throw new Error("Missing required Mute Filter property `id`, `streamId`, or `term`.");const{streamId:r,term:o}=(0,a.R)(t);if((n.id?n.id!==o.id:n.text!==o.text)||s!==r){this.cache.updatedIds[r]=(0,a.s)(e);const{isEnterprise:s}=(0,i.Yg)(r);s?(await this._askDelete(t),this.fire("onMuteFilterChanged",t)):await streets.service("personalmutefilters").askDelete(t)}await this._askSave(e),this.cache.filters=null,this.fire("onMuteFiltersChanged")}async _askDelete(e){const{streamId:t,term:s}=(0,a.R)(e);if(!t||!s.id&&!s.text)throw new Error("Error deleting Mute Filter with id: ".concat(e));return this.net.PUT("!{cloud}/v3/enterprise/mutefilters",{streamId:t,term:s,delete:!0})}_askSave(e){let{active:t,duration:s,salience:n,streamId:i,term:r}=e;return this.net.PUT("!{cloud}/v3/enterprise/mutefilters",{active:t,duration:s,salience:n,streamId:i,term:r})}_resetCache(){this.cache={filters:null,updatedIds:{}}}}function d(e){return new c(e)}},16839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(35330),i=s(74221),r=s(61861),a=s(83168),o=s(7761);const l=Object.freeze({service:"EnterprisePriorities",listPriorities:"askListPriorities"});class c extends a.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setCollections(e){this.collections=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.net=null,this.enterprise=null,this.enterprisecollections=null,this.reader=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this._askDelete(e).then((()=>{this.cache.priorities=null,this.fire("onPriorityChanged",e),this.fire("onPrioritiesChanged")}))}async askListPriorities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!streets.hasBusinessAccess())return this.cache.priorities=null,[];if(!await this.enterprise.askIsLeoEnabled())return this.cache.priorities=null,[];let t=(0,r.Z)(l.service,l.listPriorities);if(this.cache.priorities&&!e.forceRefresh)return(0,n.xf)(this.cache.priorities,e);if(t){const s=await t;return await(0,n.xf)(s,e)}return t=this.net.GET("!{cloud}/v3/enterprise/priorities").then(JSON.parse).then((async t=>(this.cache.priorities=await(0,n.xf)(t,e),e.forceRefresh&&this.fire("onPrioritiesChanged",e),this.cache.priorities))),(0,r.Z)(l.service,l.listPriorities,t),t}async askSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.layers)throw new Error("Missing required property `layers`.");return this._askSave(e).then((t=>(this.cache.priorities=null,this.fire("onPrioritiesChanged"),e.id&&this.fire("onPriorityChanged",e.id),t.id)))}async askUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,...s}=e;if(!t||!e.layers)throw new Error("Missing required properties: `id` and `layers`.");const n=await this._askSave(s),{isEnterprise:r}=(0,i.Yg)(t);r?(await this._askDelete(t),this.fire("onPriorityChanged",t,n.id)):await streets.service("personalpriorities").askDelete(t),this.cache.priorities=null,this.fire("onPrioritiesChanged")}_askDelete(e){return this.net.DEL("!{cloud}/v3/enterprise/priorities/".concat(encodeURIComponent(e),"?reset=true"))}async _askSave(e){return await this.net.POST("!{cloud}/v3/enterprise/priorities",e).then(JSON.parse).then((async e=>(await this.reader.askRefreshUnreadCounts(),e.find((e=>e.status&&(e.status===o.OZ.created||e.status===o.OZ.duplicate||e.status===o.OZ.updated))))))}}function d(e){return new c(e)}},22340:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});s(99076),s(20647);var n=s(53411),i=s(35330),r=s(74221),a=s(16874),o=s(83168),l=s(3167),c=s(85251);class d extends o.y{constructor(e){super(e)}setNet(e){this.net=e}setReader(e){this.reader=e}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}load(){this.reader.registerObserver(this),this.cache={subscribedTags:null,tags:null,archivedTags:null}}async onUserIdentified(){this.cache={},this._warmCache()}async onNoUserIdentified(){this.cache={}}unload(){this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.cache={},this.net=null,this.preferences=null,this.reader=null}onPreferenceChanged(e){e===l.As.teamTags&&this.fire("onBoardsOrderChanged")}async askRefresh(){this.cache={},this._warmCache()}async askArchiveTag(e){if(!e)throw new Error("tagId is required");return this.net.DEL("!{cloud}/v3/enterprise/tags/".concat(encodeURIComponent(e))).then((()=>{this.cache.subscribedTags=null,this.cache.archivedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}))}async askDeleteTag(e){if(!e)throw new Error("tagId is required");return this.net.DEL("!{cloud}/v3/enterprise/tags/".concat(encodeURIComponent(e),"?deleteContent=true")).then((()=>{this.cache.subscribedTags=null,this.cache.archivedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}))}async askListArchivedTags(){return streets.hasBusinessAccess()?this.cache.archivedTags?(0,i.RC)(this.cache.archivedTags):(this._askListArchivedPromise||(this._askListArchivedPromise=this.net.GET("!{cloud}/v3/enterprise/tags?includeArchived=true").then(JSON.parse).then((async e=>(this._askListArchivedPromise=null,this.cache.archivedTags=(await(0,i.RC)(e)).filter((e=>e.tagArchived)),this.cache.archivedTags))).catch((e=>{throw this._askListArchivedPromise=null,e}))),this._askListArchivedPromise):(this.cache.tags=[],[])}askListNonSubscribedTags(){return Promise.all([this.askListSubscribedTags(),this.askListTags()]).then((e=>{let[t,s]=e;return(0,n.v)(s,t,((e,t)=>e.id===t.id))}))}async askListSubscribedTags(e){return streets.hasBusinessAccess()?this.cache.subscribedTags?(0,i.RC)(this.cache.subscribedTags,e):this.net.GET("!{cloud}/v3/subscriptions/tags").then(JSON.parse).then((async t=>{let s=t[0]?t[0].tagSubscriptions:[];const n=(await this.askListTags()).reduce(((e,t)=>(e[t.id]=t,e)),{});return s=await(0,i.RC)(s.map((e=>{let{id:t}=e;return n[t]})),e),s=(0,c.Z7)(s),this.cache.subscribedTags=s,[...s]})):(this.cache.subscribedTags=[],[])}async askListRankedSubscribedTags(){const e=await this.askListSubscribedTags(),t=JSON.parse(this.preferences.getPreference(l.As.teamTags));return t?(0,c.CI)(e,t):e}async askListTags(e){return streets.hasBusinessAccess()?this.cache.tags?(0,i.RC)(this.cache.tags,e):(this._askListPromise||(this._askListPromise=this.net.GET("!{cloud}/v3/enterprise/tags?withStats=true").then(JSON.parse).then((async e=>(this._askListPromise=null,this.cache.tags=await(0,i.RC)(e),this.cache.tags))).catch((e=>{throw this._askListPromise=null,e}))),this._askListPromise):(this.cache.tags=[],[])}async askListTagSubscribedUsers(e){if(!e)throw new Error("tagId is required");return streets.hasBusinessAccess()?(this.cache.tagSubscribedUsers||(this.cache.tagSubscribedUsers={}),this.cache.tagSubscribedUsers[e]?Promise.resolve(this.cache.tagSubscribedUsers[e]):this.net.GET("!{cloud}/v3/enterprise/tags/"+encodeURIComponent(e)+"/users").then(JSON.parse).then((t=>(this.cache.tagSubscribedUsers[e]=t,t)))):(this.cache.tagSubscribedUsers=null,Promise.resolve({}))}async askLookupTag(e,t){if(!e)throw new Error("tagId is required");const s=await this._askLookupSpecialTagInfo(e,t);if(s)return s;const n=(await this.askListTags(t)).find((t=>t.id===e));return n||(await this.askListArchivedTags()).find((t=>t.id===e))}askMetadata(e){return this.askLookupTag(e,{cachedUnreadCountsOnly:!0})}async askSave(e){if(!e||!e.label)throw new Error("label is required");return e.emailSettings||(e.emailSettings=(0,a.HM)()),e.bufferSettings||(e.bufferSettings=this.getDefaultBufferSettings()),e.microsoftTeamsSettings||(e.microsoftTeamsSettings=this.getDefaultWebhookSettings()),this.net.POST("!{cloud}/v3/enterprise/tags",e).then(JSON.parse).then((async t=>(this.cache.tags=null,this.cache.subscribedTags=null,this.cache.archivedTags=null,null!=e.id?(this.askLookupTag(e.id).then((t=>{null!=t&&(t.label=e.label,this.fire("onTagsChanged"))})),this.fire("onTagChanged",e.id),this.fire("onTagsChanged")):null!=t[0].id&&await this.askSubscribeTag(t[0].id),Promise.resolve(t[0]))))}askSaveCoverImage(e,t){const s=new FormData;return s.append("cover",t),this.net.POST("!{cloud}/v3/enterprise/tags/"+encodeURIComponent(e),s).then((()=>{this.cache.tags=null,this.fire("onTagChanged",e),this.fire("onTagsChanged")}))}askSaveTags(e){return this.net.POST("!{cloud}/v3/enterprise/tags/.mput",e).then(JSON.parse).then((e=>(this.cache.tags=null,this.fire("onTagsChanged"),e.forEach((e=>{this.askSubscribeTag(e.id)})),Promise.resolve(e))))}async askSendNewsletter(e){if(!e)throw new Error("tagId are required");return this.net.POST("!{cloud}/v3/enterprise/tags/".concat(encodeURIComponent(e),"/newsletter"),{}).then((e=>(this.cache.tags=null,JSON.parse(e))))}async askSubscribeTag(e){if(!e)throw"tagId is required";await this.net.POST("!{cloud}/v3/subscriptions/tags",{id:e}),await this.reader.askRefreshUnreadCounts(),this.cache.subscribedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}async askSubscribeUser(e,t){if(!e||!t)throw new Error("tagId and userId are required");return this.net.PUT("!{cloud}/v3/enterprise/tags/".concat(encodeURIComponent(e),"/users/.mput"),[t]).then((()=>{this.cache.tagSubscribedUsers={[e]:null},this.cache.tags=null,this.fire("onTagChanged",e),streets.getUserId()===t&&(this.cache.subscribedTags=null,this.fire("onTagsChanged"))}))}async askSubscribeUsers(e,t){if(!e||!t)throw new Error("tagId and userId list are required");return this.net.PUT("!{cloud}/v3/enterprise/tags/".concat(encodeURIComponent(e),"/users/.mput"),t).then((()=>{this.cache.tagSubscribedUsers={[e]:null},this.cache.tags=null,this.fire("onTagChanged",e),t.find((e=>streets.getUserId()===e))&&(this.cache.subscribedTags=null,this.fire("onTagsChanged"))}))}async askUnarchiveTag(e){if(!e||!e.label||!e.id)throw new Error("Label and ID are required");return this.net.POST("!{cloud}/v3/enterprise/tags",e).then((()=>{this.cache.subscribedTags=null,this.cache.archivedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e.id)}))}async askUnsubscribeTag(e){if(!e)throw new Error("tagId is required");return this.net.DEL("!{cloud}/v3/subscriptions/tags/".concat(encodeURIComponent(e))).then((async()=>{await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.subscribedTags=null,this.cache.tags=null,this.fire("onTagsChanged"),this.fire("onTagChanged",e)}))}async askUnsubscribeUser(e,t){if(!e||!t)throw new Error("tagId and userId are required");return this.net.DEL("!{cloud}/v3/enterprise/tags/".concat(encodeURIComponent(e),"/users/").concat(encodeURIComponent(t))).then((()=>{this.cache.tagSubscribedUsers={[e]:null},this.cache.tags=null,this.fire("onTagChanged",e),streets.getUserId()===t&&(this.cache.subscribedTags=null,this.fire("onTagsChanged"))}))}getDefaultBufferSettings(){return{includeHighlight:!1,profileSelection:"allProfiles",sendNow:!1,disabled:!0}}getDefaultWebhookSettings(){return{webhookUrl:null,disabled:!0}}onStreamUnreadCountChanged(e,t){const{isTag:s,isEnterprise:n}=(0,r.Yg)(e);s&&n&&this.fire("onStreamUnreadCountChanged",e,t)}onEntryTagged(e,t){const{isEnterprise:s}=(0,r.Yg)(t);s&&(this.cache.subscribedTags&&this.cache.subscribedTags.forEach((e=>{e.id===t&&(e.lastEntryAdded=(new Date).getTime(),this.fire("onTagChanged",t))})),this.cache.archivedTags&&this.cache.archivedTags.forEach((e=>{e.id===t&&(e.lastEntryAdded=(new Date).getTime(),this.fire("onTagChanged",t))})),this.cache.tags&&this.cache.tags.forEach((e=>{e.id===t&&(e.lastEntryAdded=(new Date).getTime(),this.fire("onTagChanged",t))})))}async _askLookupSpecialTagInfo(e,t){const{isAllTag:s,isAnnotated:n,isGlobalEnterprise:i}=(0,r.Yg)(e);if(s){return{id:e,streamId:e,label:"All Team Boards",unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],uri:"board/content/"+e,subscribed:!0}}if(i){return{id:e,streamId:e,label:"All My Team Boards",unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],uri:"board/content/"+e,subscribed:!0}}if(n){return{id:e,streamId:e,label:"Annotated",unreadCount:(await this.reader.askUnreadCountsIndex(t))[e],uri:"board/content/"+e,subscribed:!0}}return null}_warmCache(){streets.hasBusinessAccess()&&"undefined"!=typeof window&&window.setTimeout((()=>{this.net&&Promise.all([this.askListSubscribedTags(),this.askListTags()])}),5e3)}}function h(e){return new d(e)}},98269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(51239),i=s(61861),r=s(38916),a=s(89856),o=s(83168);const l=Object.freeze({service:"Evernote",list:"askListNotebooks"});class c extends o.y{setAnalytics(e){this.analytics=e}setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setReader(e){this.reader=e}setCommonsigns(e){this.commonsigns=e}load(){this.cache={},this._addAfterConnected=null}unload(){this.cache={},this._addAfterConnected=null,this.analytics=null,this.integrations=null,this.net=null,this.reader=null,this.commonsigns=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askAdd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{guid:i,name:o,type:l="personal"}=t,{imageURL:c,imageTitle:d,selection:h}=s;if(!(e||i&&o))throw"An entryId and notebook guid or name are required.";const u={notebookGuid:i,notebookName:o,notebookType:l};if(c||h){const t=this.reader.lookupEntry(e);u.content=c?(0,a.w)(c,d,t):(0,a.F)(h,t),u.title=t.getCleanTitle(),u.url=t.getCleanAlternateLink()||"https://feedly.com/i/entry/".concat(encodeURIComponent(t.getId()))}else u.entryId=e;try{const{pageUrl:t="https://www.evernote.com"}=await this.net.POST("!{cloud}/v3/evernote/note",u);if(!c&&!h){const s=this.reader.lookupEntry(e);s&&(s.setDecoration(n.I.evernote,t),s.evernoteClipped=!0)}this.reader.fire("onDecorationChanged",e,n.I.evernote),this.fire("onEvernoteAdded",e)}catch(p){throw 403===p.errorCode&&(this._addAfterConnected={entryId:e,notebook:t,options:s},await this.integrations.askDisconnect(r.bK.evernote),this.integrations.connect(r.bK.evernote)),p}}async askEvernoteUrl(e){return(await this.reader.askLookupEntry(e)).getDecoration(n.I.evernote)}async askListNotebooks(){let e=(0,i.Z)(l.service,l.list);if(e)return e;return await this.integrations.askIsConnected(r.bK.evernote)?this.cache.notebooks?this.cache.notebooks:(e=this.net.GET("!{cloud}/v3/evernote/notebooks?includeBusiness=true").then(JSON.parse).then((e=>{let{notebooks:t}=e;const s=t.sort(((e,t)=>{let{name:s}=e,{name:n}=t;return s.localeCompare(n)}));return this.cache.notebooks=s,s})),(0,i.Z)(l.service,l.list,e),e):(this.cache.notebooks=null,[])}async onConnected(){if(this._addAfterConnected){const{entryId:e,notebook:t,options:s}=this._addAfterConnected;await this.askAdd(e,t,s),this._addAfterConnected=null}}async askClipEntry(e,t){if(!streets.hasProAccess())return void this.commonsigns.showMessage("Upgrade to unlock Evernote Integration");if(await this.integrations.askIsConnected("evernote"))if(e){this.commonsigns.showMessage("Saving to Evernote...");try{const s={name:"feedly notebook"};await this.askAdd(e,s,t),this.commonsigns.showMessage("Saved to Evernote")}catch(s){this.commonsigns.showError("Failed to save to Evernote: "+s)}this.analytics.trackEvent("sharing","evernote"),this.analytics.trackEntryEvent(this.reader.lookupEntry(e),"share","evernote")}else this.commonsigns.showMessage("Select an article first");else this.commonsigns.showMessage("Connect to Evernote first")}}function d(e){return new c(e)}},53278:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(53623),i=s(35330),r=s(83168),a=s(35610);class o extends r.y{setCollections(e){this.collections=e}setEnterprise(e){this.enterprise=e}setEnterprisecollections(e){this.enterprisecollections=e}setNet(e){this.net=e}setPersonalcollections(e){this.personalcollections=e}load(){this._resetCache()}unload(){this.cache={},this.collections=null,this.net=null}async onUserIdentified(){this._resetCache()}async onNoUserIdentified(){this._resetCache()}async askRefresh(){this._resetCache()}async askEnrichAndCacheFeeds(e){return(e=await(0,i.im)(e)).forEach((e=>{this.cache.feedMetadata[e.id]=e})),e}async askFeedRecommendations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";const n=this.net.GET("!{cloud}/v3/recommendations/feeds/".concat(encodeURIComponent(e),"?count=").concat(t,"&locale=").concat(s)).then(JSON.parse);return n&&n.source&&(n.source=(await this.askEnrichAndCacheFeeds([n.source]))[0]),n&&n.recommendations&&(n.recommendations=await this.askEnrichAndCacheFeeds(n.recommendations)),n}async askIsFeedSubscribed(e){return 0===(await this.askFilterOutSubscribedFeeds([e])).length}async askFilterOutSubscribedFeeds(e){const{subscribedFeedRSS:t,subscribedFeedWebsites:s}=(await this.askListFeeds()).reduce(((e,t)=>(e.subscribedFeedRSS[(0,a.w6)(t.feedId)]=!0,e.subscribedFeedWebsites[(0,a.w6)(t.website)]=!0,e)),{subscribedFeedRSS:{},subscribedFeedWebsites:{}});return e.filter((e=>!t[(0,a.w6)(e.feedId)]&&!s[(0,a.w6)(e.website)]))}async askUnsubscribedFeedRecommendations(e){if(await this.enterprise.askIsAdvancedPrivacyOn())return[];const{recommendations:t}=await this.askFeedRecommendations(e);return this.askFilterOutSubscribedFeeds(t)}async askFeedsIndex(){return(await this.collections.askListAllFeeds()).reduce(((e,t)=>(e[t.id]=t,e)),{})}async askFeedsMetadata(e){const t=await this.askFeedIndex(),[s,n]=e.reduce(((e,s)=>{let[n,i]=e;return t[s]?n.push(t[s]):i.push(s),[n,i]}),[[],[]]);let r=await this.net.POST("!{cloud}/v3/feeds/.mget",n).then(JSON.parse);return r||(r=[]),r=await(0,i.im)([r]),[...s,...r]}async askGenerateNewsletterEmail(){return await this.net.POST("!{cloud}/v3/feeds/newsletters",{}).then(JSON.parse)}async askHasContent(e){const{ids:t}=await this.net.GET("!{cloud}/v3/streams/ids?streamId=".concat(encodeURIComponent(e),"&unreadOnly=false&count=1")).then(JSON.parse);return!!t.length}async askHasFeedWithTopic(e){return(await this.askListFeeds()).some((t=>t.topics&&t.topics.includes(e)))}async askListAllUserTopics(){const e=await this.askListFeeds(),t=[];return e.forEach((e=>{e.topics&&e.topics.forEach((e=>{const s=e.toLowerCase();t.includes(s)||t.push(s)}))})),t}async askListAllCollectionsForFeed(e){if(!e)throw new Error("The `feedId` is required.");return Promise.all([this.personalcollections.askListCollections(),this.enterprisecollections.askListCollections()]).then((t=>{let[s,n]=t;return[...s,...n].reduce(((t,s)=>(s.feeds.some((t=>{let{id:s}=t;return e===s}))&&t.push(s),t)),[])}))}async askListFeeds(){return this.collections.askListAllFeeds()}async askLookupFeed(e,t){return(await this.collections.askListAllFeeds(t)).find((t=>t.id===e))}async askMetadata(e){let{cachedOnly:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const s=await this.askLookupFeed(e,{cachedUnreadCountsOnly:!0});if(s)return s;if(this.cache.feedMetadata[e])return(await(0,i.im)([this.cache.feedMetadata[e]]))[0];if(t)return null;let n=await this.net.GET("!{cloud}/v3/feeds/".concat(encodeURIComponent(e))).then(JSON.parse);return n&&n.id||(n={id:e,state:"dead"}),(await this.askEnrichAndCacheFeeds([n]))[0]}async askRecentEntries(e){const t=await this.net.GET("!{cloud}/v3/feeds/".concat(encodeURIComponent(e),"?numRecentEntries=3")).then(JSON.parse);if(t&&t.recentEntries)return t.recentEntries}async askRemoveFeed(e){return this.collections.askRemoveFeeds([e])}async askRemoveFeeds(e){for(let t=0;t<e.length;t++)await this.collections.askRemoveFeedFromAll(e[t])}async askRenameFeed(e,t){const[s,n]=await Promise.all([this.personalcollections.askListCollections(),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollections():[]]),i=s.reduce(((s,n)=>(n.containsFeed(e)&&s.push(this.personalcollections.askAddFeed(n.id,{id:e,title:t})),s)),[]),r=n.reduce(((s,n)=>(n.containsFeed(e)&&s.push(this.enterprisecollections.askAddFeed(n.id,{id:e,title:t})),s)),[]);return Promise.all([...i,...r])}async askSearchFeeds(e,t){let{fullTerm:s=!1,numResults:n,locale:i}=t;return(await this._askSearchFeeds(e,{fullTerm:s,numResults:n,locale:i})).feeds}async _askSearchFeeds(e,t){var s;let{fullTerm:i=!1,numResults:r=10,locale:a="en",autocomplete:o=!1,withWebsite:l=!1}=t;if(!e||e.startsWith("#")||e.length<n.Sh)return{feeds:[],websiteFeed:null};let c="!{cloud}/v3/search/feeds?q="+encodeURIComponent(e)+"&n="+r+"&withWebsite="+l+"&autocomplete="+o+"&fullTerm="+i;a&&(c+="&locale="+a);const d=await this.net.GET(c).then(JSON.parse);return{feeds:await this.askEnrichAndCacheFeeds(null!==(s=d.results)&&void 0!==s?s:[]),websiteFeed:d.websiteHit}}_resetCache(){this.cache={feedMetadata:{}}}}function l(e){return new o(e)}},90926:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(2121),i=s(83168);const r="entryFontFamily";class a extends i.y{setNet(e){this.net=e}setPreferences(e){this.preferences=e}load(){this.preferences.registerObserver(this),this.injectedFonts={}}onPreferencesReady(){this._importFont(this.getFontFamily())}onPreferenceChanged(e){e===r&&this.fire("onFontFamilyChanged")}unload(){this.preferences.unregisterObserver(this),this.preferences=null,this.injectedFonts=null}async askRefresh(){this.injectedFonts={}}getFontFamily(){return this.preferences.getPreference(r)}setFontFamily(e){e?(this._isImported(e)?this.preferences.setPreference(r,e):setTimeout((()=>{this.preferences.setPreference(r,e)}),1e3),this._importFont(e)):console.log("[font] setFontFamily: missing font param")}_importFont(e){this._isImported(e)||s(17393)("./".concat(e,".scss")).then((()=>{this.injectedFonts[e]=!0,this._recordPageview(e)}))}_isImported(e){return!n.Jn[e]||this.injectedFonts[e]}_recordPageview(e){window.setTimeout((()=>{this.net&&this.net.POST("!{cloud}/v3/dailycounter/FONTS:".concat(e),{foo:"bar"}).catch((e=>{console.log("[font] Failed to record pageview",e)}))}),1e4)}}function o(e){return new a(e)}},44638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(3171),i=s(83168);class r extends i.y{setNet(e){this.net=e}load(){this.cache={teamStats:null}}intialize(){}uninitialize(){}unload(){this.net=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}async askTeamStats(e){return null!=this.cache.teamStats?this._filterTeams(this.cache.teamStats,e):this.net.GET("!{cloud}/v3/enterprise/stats?withUnpaid=true").then(JSON.parse).then((t=>(this.cache.teamStats=t,this._filterTeams(this.cache.teamStats,e))))}async askChurnStats(){return{}}async askUpdateSalesInfo(e,t){return this.net.POST("!{cloud}/v3/enterprise",{name:e,salesInfo:t}).then(JSON.parse).then((e=>{if(this.cache.teamStats){this.cache.teamStats.find((t=>t.name===e.name)).salesInfo=e.salesInfo,this.fire("onHeartbeatChanged")}})).catch((e=>{throw console.log("[heartbeat] Failed to update sales info: "+e.message),e}))}askDashboardStats(e){let t="!{cloud}/v3/analytics/dashboard?ck="+(new Date).getTime();return e&&(t+="&date="+e.getTime()),this.net.GET(t).then(JSON.parse).then((e=>{if(e&&e.counters)return e.counters;throw"Dashboard not found"})).catch((e=>{throw console.log("[heartbeat] Failed to get dashboard: "+e.message),e}))}_filterTeams(e,t){if(!t)return e.slice(0);if(!e)return[];const s=[];return e.forEach((e=>{e.status&&"Test"!==e.status&&(t.status&&e.status!==t.status||t.age&&(new Date).getTime()-e.created>t.age||(!0!==t.vip||e.salesInfo&&"yes"===e.salesInfo.vip)&&(!0===t.trial&&(new Date).getTime()-e.created>(0,n.z1)(31)&&"Trial"!==e.status||s.push(e)))})),s}}function a(e){return new r(e)}},72286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(83168),i=s(77157);const r={color:"#2bb24c",labels:{responseTime:"Please describe your problem or question",messageConfirmationText:"Thanks for reaching out. We’ll get back to you in 24 hours from Monday - Friday. Have a nice day."}},a={pro:{label:"Pro",address:"pro@feedly.com"},team:{label:"Team",address:"teams@feedly.com"}};class o extends n.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setRouter(e){this.router=e}load(){this._ready=!1,this._disabled="https:"!==window.location.protocol,this.router.registerObserver(this)}unload(){this._profile=null,this.router.unregisterObserver(this),this.net=null,this.enterprise=null,this.router=null}async onUserIdentified(e){this._profile=e.profile,await this._initialize(e.profile)}async onNoUserIdentified(){}onAfterPageLoad(){this._ready&&!this._disabled&&Beacon("event",{type:"page-viewed",url:document.location.href,title:document.title||"none"})}open(){let{prefill:e,sessionData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.close(),!this._ready||this._disabled){const{name:e}=this._profile,t=streets.hasBusinessAccess()?a.team:a.pro,s="".concat(e," // Feedly ").concat(t.label," VIP Support Question"),n="%0D%0A%0D%0A%0D%0A--%0D%0AuserId: ".concat(streets.getUserId()," / Web");return void(window.location.href="mailto:".concat(t.address,"?subject=").concat(s,"&body=").concat(n))}let s=!1;e&&(s=e.subject||e.text,Beacon("prefill",s?{subject:"",text:"",...e}:e)),t&&Beacon("session-data",t),Beacon("suggest"),Beacon("open"),s&&Beacon("navigate","/ask/message/")}close(){this._ready&&!this._disabled&&Beacon("close")}async _initialize(e){let t;try{t=await this.net.GET("!{cloud}/v3/helpscout/beacon").then(JSON.parse)}catch(n){return console.warn("could not fetch helpscout beacon parameters"),void(this._disabled=!0)}if(!t||!t.beaconId)return void(this._disabled=!0);const s={user_id:streets.getUserId(),email:e.email,email_feedly:e.email,name:e.fullName,created_at:e.created,wave:e.wave,plan:streets.getPlan(),login:i.F.load().provider,signature:t.signature};if(streets.isBusinessPlan()||streets.isEnterprisePlan()){const e=await this.enterprise.askTeamInfo();s.team_size=e.numUsers,s.team_name=e.description,s.team_status=e.subscriptionStatus}this._bootBeacon(t.beaconId,s)}_bootBeacon(e,t){try{!function(){const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerHTML='!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});';const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),Beacon("init",e),Beacon("config",r),Beacon("on","ready",(()=>{this._ready=!0,Beacon("identify",t)}))}catch(s){this._disabled=!0,console.error("[helpscout] failed to load",s)}}}function l(e){return new o(e)}},23017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var n=s(11459),i=s(83168),r=s(3167),a=s(35610),o=s(52277),l=s(57755),c=s(90704),d=s(92359),h=s(84484),u=s(78845),p=s(92201),m=s(68567),g=s(76949);class f extends i.y{load(){this.cache={secureUrls:{}}}unload(){this.cache={}}async askRefresh(){this.cache={secureUrls:{}}}async unitTest(){const e=await streets.service("reader").askLookupEntry("g6eNfTvZWw+h8ffbsHs8dKz71d+bHRhPI/s6sPVWd3c=_16402c86b06:386140:93d646dc"),t=await this.askSecureVisualUrl(e,{width:200,height:130});console.log("ANDROID:",e.getTitle(),t);const s=await streets.service("reader").askLookupEntry("fLHFtwryZugkTI3NC4UrLqmHQcckXfXbVh1XRHy9YeE=_1640fb82e67:c4a1d3:3dd877af"),n=await this.askSecureVisualUrl(s,{width:200,height:130});console.log("GUARDIAN:",s.getTitle(),n);const i=await streets.service("reader").askLookupEntry("Xne8uW/IUiZhV1EuO2ZMzIrc2Ak6NlhGjboZ+Yk0rJ8=_163ff0bff20:1011050:c2c34441"),r=await this.askSecureVisualUrl(i,{width:200,height:130});console.log("TECHCRUNCH:",i.getTitle(),r);const a=await streets.service("reader").askLookupEntry("Xne8uW/IUiZhV1EuO2ZMzIrc2Ak6NlhGjboZ+Yk0rJ8=_164185e2a5e:184ae:eae96059"),o=await this.askSecureVisualUrl(a,{width:400,height:250});console.log("TECHCRUNCH 2:",a.getTitle(),o)}getBestVisual(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;if(e.metadata.noVisual)return{url:this._getPlaceholderVisual(e,t)};let s=this._optimizeVisual(e,this._pickBestVisual(e),t);return s||(s={url:this._getPlaceholderVisual(e,t)}),s}async askSecureVisualUrl(e){var t=this;let{layout:s,height:n,theme:i,width:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=this.getBestVisual(e,{layout:s,height:n,theme:i,width:r}),l=o&&o.url?o.url:null;return!l||(0,a.Cl)(l)?l:(this.cache.secureUrls[l]||(this.cache.secureUrls[l]=new Promise((s=>{let i=(0,a.sA)(l),o=new window.Image;const c=function(){let a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.removeEventListener("load",c),o.removeEventListener("error",d),o=null,a?t.cache.secureUrls[l]=i:i=r&&n?t._getSizedServerUrl(e,r,n,l):null,s(i)},d=()=>{c(!1)};o.addEventListener("load",c),o.addEventListener("error",d),o.src=i}))),this.cache.secureUrls[l])}_getPlaceholderVisual(e,t){let{layout:s,theme:i}=t;const{isRedditFeed:a,isTwitterFeed:o}=e.metadata;if(a){if(s===n.Ar.magazine)return i===r.Bd.dark||i===r.z0.night?h:d;if(s===n.Ar.cards)return i===r.Bd.dark||i===r.z0.night?c:l}else if(o){if(s===n.Ar.magazine)return i===r.Bd.dark||i===r.z0.night?g:m;if(s===n.Ar.cards)return i===r.Bd.dark||i===r.z0.night?p:u}return null}_pickBestVisual(e){if(!e)return null;const t=e.getFeaturedVisual();if(t)return t;if(e.metadata.firstVisual){const{firstVisual:t}=e.metadata;if(t.featured||(!t.width||t.width>200)&&(!t.height||t.height>160))return t}const s=e.listContentVisuals().sort(((e,t)=>(t.width||100)-(e.width||100)));return s.length>0?s[0]:null}_optimizeVisual(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{width:n,height:i}=s;if(t&&t.edgeCacheUrl&&t.expirationDate>(new Date).getTime())return{original:t.url,url:this._getSizedEdgeCacheUrl(t,n,i),width:t.width,height:t.height};if(t&&(!n||!i))return{original:t.url,url:t.url,width:t.width,height:t.height};const r=e.isPartialContent();return t||(0,o.JY)(e)||r&&e.getBestAlternateLink()?t&&t.width&&t.height&&n&&i&&t.width<1.3*n&&t.height<1.3*i?{original:t.url,url:t.url,width:t.width,height:t.height}:{original:t?t.url:null,url:this._getSizedServerUrl(e,t,n,i),width:t?t.width:null,height:t?t.height:null}:null}_getSizedServerUrl(e,t,s,n){if(t&&t.url&&(t.url.endsWith(".gif")||t.url.endsWith(".svg")))return t.url;const i=window.devicePixelRatio||1,r=Math.ceil(s*i),a=Math.ceil(n*i);let o="https://visuals.feedly.com/v1/resize";o+="?sizes=".concat(encodeURIComponent(r+"x"+a+"!"+1/i)),o+="&key=".concat(encodeURIComponent(e.getId())),o+="&entryId=".concat(encodeURIComponent(e.getId())),o+="&contentLength=".concat(encodeURIComponent(e.getContent().length)),o+="&engagement=".concat(encodeURIComponent(e.getEngagement()));const l=e.getAlternateLink();return l&&!l.startsWith("https://feedly.com")&&(o+="&pageUrl=".concat(encodeURIComponent(l))),t&&t.url&&(o+="&url=".concat(encodeURIComponent(t.url))),o}_getSizedEdgeCacheUrl(e,t,s){if(!t||!s)return e.edgeCacheUrl||e.url;const n=window.devicePixelRatio||1,i=Math.ceil(t*n),r=Math.ceil(s*n),a=e.width,o=e.height;let l;if(a/o>i/r){const e=Math.ceil(r),t=Math.ceil(a*r/o);l=a>o?i<=r?"=s"+Math.ceil(e)+"-c":"=s"+Math.ceil(t):r<=i?"=s"+Math.ceil(t)+"-c":"=s"+Math.ceil(e)}else{const e=Math.ceil(i),t=Math.ceil(o*e/a);l=a>o?i<=r?"=s"+Math.ceil(t)+"-c":"=s"+Math.ceil(e):r<=i?"=s"+Math.ceil(e)+"-c":"=s"+Math.ceil(t)}return e.edgeCacheUrl+l}}function y(e){return new f(e)}},81783:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(51239),i=s(38916),r=s(83168);class a extends r.y{setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setReader(e){this.reader=e}load(){this._addAfterConnected=null}unload(){this._addAfterConnected=null,this.integrations=null,this.net=null,this.reader=null}async askAdd(e){if(!e)throw"An entryId is required.";try{const{bookmarkUrl:t="https://www.instapaper.com"}=await this.net.POST("!{cloud}/v3/instapaper/bookmark",{entryId:e}),s=this.reader.lookupEntry(e);s&&s.setDecoration(n.I.instapaper,t),this.reader.fire("onDecorationChanged",e,n.I.instapaper),this.fire("onInstapaperAdded",e)}catch(t){throw 403===t.errorCode&&(this._addAfterConnected=e,await this.integrations.askDisconnect(i.bK.instapaper),this.integrations.connect(i.bK.instapaper)),t}}async askBookmarkUrl(e){return(await this.reader.askLookupEntry(e)).getDecoration(n.I.instapaper)}async onConnected(){this._addAfterConnected&&(await this.askAdd(this._addAfterConnected),this._addAfterConnected=null)}}function o(e){return new a(e)}},48e3:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(38916),i=s(83168),r=s(28514),a=s(15454),o=s(77157);class l extends i.y{setCommonsigns(e){this.commonsigns=e}setEnterprise(e){this.enterprise=e}setEvernote(e){this.evernote=e}setFeedly(e){this.feedly=e}setInstapaper(e){this.instapaper=e}setNet(e){this.net=e}setPocket(e){this.pocket=e}setProfile(e){this.profile=e}setReader(e){this.reader=e}load(){this.popup=null}unload(){this.popup=null,this.commonsigns=null,this.enterprise=null,this.net=null,this.profile=null,this.reader=null}async askDisconnect(e){try{await this.net.DEL("!{cloud}/v3/".concat(this._getEndpoint(e)));(this._isEnterprise(e)?this.enterprise:this.profile).markIntegrationAsDisconnected(e),this.commonsigns.showMessage("Disconnected from ".concat(n.gJ[e])),this.fire("onIntegrationConnectionChanged")}catch(t){console.error(t),this.commonsigns.showError("Failed to disconnect")}}async askIsConnected(e){return this._isEnterprise(e)?this.enterprise.askIsIntegrationConnected(e):this.profile.isIntegrationConnected(e)}connect(e){if(!n.bK[e])return void console.error("[integrations]: unsupported integration type - ".concat(e));const t=o.F.load();if(!t||!t.feedlyToken)try{return void this.commonsigns.showMessage("Login to Feedly first")}catch(d){return void window.alert("Login to Feedly first")}const s=window.BACKEND+"/v3/"+this._getEndpoint(e)+"?redirectUri="+encodeURIComponent("".concat(window.BACKEND,"/").concat(e,".html"))+"&feedlyToken="+t.feedlyToken;let i=680,r=850;e!==n.bK.pocket&&e!==n.bK.oneNote||(i=600,r=960);const l=Math.round(screen.width/2-r/2);let c=100;screen.height/2>i&&(c=Math.round(screen.height/2-i)),this.popup=window.open(s,"_blank","left=".concat(l,",top=").concat(c,",width=").concat(r,",height=").concat(i,",personalbar=0,toolbar=0,scrollbars=1,resizable=1")),this.popup?this.popup.focus&&this.popup.focus():(0,a.d)()}markAsConnected(e){this._closePopup();(this._isEnterprise(e)?this.enterprise:this.profile).markIntegrationAsConnected(e),this.commonsigns.showMessage("Connected to ".concat(n.gJ[e])),this.fire("onIntegrationConnectionChanged"),this.fire("onIntegrationConnected",n.gJ[e]),(0,r.$L)()&&(e===n.bK.evernote?this.feedly.continueEvernoteTargetEntry():e===n.bK.oneNote&&this.feedly.continueOneNoteTargetEntry()),this[e]&&this[e].onConnected&&this[e].onConnected()}onConnectionFailure(e){this._closePopup(),this.commonsigns.showError("Failed to connect to ".concat(n.gJ[e]))}_closePopup(){this.popup&&(this.popup.close(),this.popup=null)}_getEndpoint(e){return e===n.bK.oneNote?"microsoft/liveAuth":"".concat(e,"/auth")}_isEnterprise(e){return n.yC.includes(e)&&streets.hasBusinessAccess()}}function c(e){return new l(e)}},72086:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(61861),i=s(80721),r=s(83168);const a=Object.freeze({service:"Issues",askListIssues:"askListIssues"});class o extends r.y{setEnterprise(e){this.enterprise=e}setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setProfile(e){this.profile=e}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}load(){this.cache={},this.enterprise.registerObserver(this),this.integrations.registerObserver(this),this.profile.registerObserver(this)}unload(){this.net=null,this.cache={},this.enterprise.unregisterObserver(this),this.integrations.unregisterObserver(this),this.profile.unregisterObserver(this)}async askRefresh(){this.cache={}}onIntegrationConnected(e){const{issues:t}=this.cache;t&&t.find((t=>t.service===e))&&this.fire("onIssuesChanged")}onCardInfoUpdated(){const{issues:e}=this.cache;e&&e.find((e=>e.type===i.k.paymentError))&&this.fire("onIssuesChanged")}async askListIssues(){let{forceRefresh:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{issues:t}=this.cache;if(!streets.getUserId())return[];if(!e&&t)return t;let s=(0,n.Z)(a.service,a.askListIssues);return s||(s=this.net.GET("!{cloud}/v3/messages").then(JSON.parse).then((e=>(e&&(this.cache.issues=e),e))),(0,n.Z)(a.service,a.askListIssues,s),s)}async askDismissIssue(e){return this.net.DEL("!{cloud}/v3/messages/".concat(encodeURIComponent(e))).then((()=>{this.fire("onIssuesChanged")}))}}function l(e){return new o(e)}},8533:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(47169),i=s(54960),r=s(83168);class a extends r.y{constructor(){super(...arguments),(0,n.Z)(this,"askSave",(async e=>{const t=await this.askSuggestFeed(e);if("dead"===t.state)throw"Unable to update dead feeds";return await(t.id!==e.id?this._askReplaceFeed(e,t.id):this._askRenameFeed(e)),t.id})),(0,n.Z)(this,"askSuggestFeed",(async e=>{let{domain:t,keyword:s,languageCode:n}=e;if(!s||!n)throw new Error("The keyword and languageCode are required.");const r=(0,i.T3)(s,t),a=(0,i.Cg)(r,n),[o]=await this.feeds.askSearchFeeds(a,{locale:n,numResults:1});return o})),(0,n.Z)(this,"_askRenameFeed",(async e=>{let{id:t,title:s}=e;const[n,i]=await Promise.all([this.personalcollections.askListCollectionsForFeed(t),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollectionsForFeed(t):[]]);return Promise.all([n.map((e=>{let{id:n}=e;return this.personalcollections.askRenameFeed(n,{id:t,title:s})})),...i.map((e=>{let{id:n}=e;return this.enterprisecollections.askRenameFeed(n,{id:t,title:s})}))])})),(0,n.Z)(this,"_askReplaceFeed",(async(e,t)=>{const{id:s,title:n}=e,[i,r]=await Promise.all([this.personalcollections.askListCollectionsForFeed(s),streets.hasAdminBusinessAccess()?this.enterprisecollections.askListCollectionsForFeed(s):[]]);await Promise.all([...i.map((e=>{let{id:s}=e;return this.personalcollections.askAddFeed(s,{id:t,title:n})})),...r.map((e=>{let{id:s}=e;return this.enterprisecollections.askAddFeed(s,{id:t,title:n})}))]),await Promise.all([...i.map((e=>{let{id:t}=e;return this.personalcollections.askRemoveFeed(t,s)})),...r.map((e=>{let{id:t}=e;return this.enterprisecollections.askRemoveFeed(t,s)}))]),this.fire("onKeywordAlertReplaced",s,t)}))}setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}setReader(e){this.reader=e}setFeeds(e){this.feeds=e}unload(){this.enterprisecollections=null,this.personalcollections=null,this.reader=null,this.feeds=null}}function o(e){return new a(e)}},78421:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(86834),i=s.n(n),r=s(53623),a=s(61861),o=s(65698),l=s(83168),c=s(7761);const d=Object.freeze({service:"Leo",askEntityInfo:"askEntityInfo"});class h extends l.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setFeeds(e){this.feeds=e}setProfile(e){this.profile=e}load(){this.cache={labels:{}}}intialize(){}uninitialize(){}async onUserIdentified(){this.cache={labels:{}}}async onNoUserIdentified(){this.cache={labels:{}}}unload(){this.net=null,this.enterprise=null,this.feeds=null,this.profile=null}async askRefresh(){this.cache={labels:{}}}async askAddNotTopic(e){try{const t=(0,o.ft)(e.id)||(0,o.jP)(e.id)?await this.askEntityInfo(e.id):e;this.fire("onTopicExcluded",t)}catch(t){this.fire("onTopicExcluded",e)}}async askAutocompleteParts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{count:s=10}=t;if(!e)throw new Error("The searchTerm is required.");const{entities:n=[]}=await this.net.GET("!{cloud}/v3/search/entities?query=".concat(encodeURIComponent(e),"&count=").concat(s,"&v2=true")).then(JSON.parse);return this._enrichTopicDescriptions(n),n}async askTopicSuggestions(e,t){if(!e||"customKeyword"===e)return[];const{entities:s=[]}=await this.net.GET("!{cloud}/v3/search/entities?type=".concat(encodeURIComponent(e),"&count=20")).then(JSON.parse),n=s.filter((e=>!t.find((t=>t.id===e.id))));return this._enrichTopicDescriptions(n),n}askCommonTopicDebugInfo(e){return this.net.POST("https://ml.feedly.com/ml-topics-server/infer?exportDetails=true",{items:[e]},{authenticated:!0}).then(JSON.parse)}async askEnterprisePartRestrictions(e){const t=this.profile.hasUnpaidEnterprisePlan(),s=t?[]:await this.askListUserEnterpriseFeatures();return e.reduce(((e,n)=>{if(n.type===c.ur.matches){const i=n.parts.reduce(((e,n)=>{const{hasRestrictedEnterprisePart:i,restrictedEnterpriseParts:r}=(0,o.yA)(n,s,t);return i&&e.push({feature:r[0],partType:n.type}),e}),[]);e=[...e,...i]}return n.type!==c.ur.security||streets.isEnterprisePlan()&&!t||(e=[...e,{feature:"LeoSecurity",partType:n.type}]),e}),[])}async askEntityInfo(e){if(!e)return null;const t=d.askEntityInfo+":"+e;let s=(0,a.Z)(d.service,t);s||(s=this.net.GET("!{cloud}/v3/entities/".concat(encodeURIComponent(e))).then(JSON.parse),(0,a.Z)(d.service,t,s));const n=await s;if(i()(n))throw new Error("entity not found");return n}async askEntityLabel(e){if(!this.cache.labels[e]){const t=await streets.service("leo").askEntityInfo(e);this.cache.labels[e]=t.label}return this.cache.labels[e]}askEntryContentAnalysis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{withDetails:s=!1}=t,n=s?"&withDetails=true":"";return this.net.GET("!{cloud}/v3/entries/content-analysis/".concat(encodeURIComponent(e),"?properNounsOnly=false").concat(n)).then(JSON.parse)}async askFullEntitiesInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(e.map((async e=>{let t;try{t=await this.askEntityInfo(e.id)}catch(s){t=e}return t&&t.id?t:e})))}async askIsLeoEnabled(){return streets.hasBusinessAccess()?this.enterprise.askIsLeoEnabled():this.profile.hasLeoAccess()}async askHasLeoSecurityFeature(){return!!streets.hasBusinessAccess()&&this.enterprise.askHasLeoSecurityFeature()}async askListUserEnterpriseFeatures(){const e=await this.enterprise.askTeamInfo();return streets.hasBusinessAccess()&&e&&e.enterpriseFeatures?e.enterpriseFeatures:[]}async askUserEnterpriseFeaturesMap(){return(await this.askListUserEnterpriseFeatures()).reduce(((e,t)=>(e[t]=!0,e)),{})}async askPrioritySuggestions(e){return this.cache[e]?this.cache[e]:this.net.GET("!{cloud}/v3/priorities/suggestions?streamId=".concat(e)).then(JSON.parse).then((t=>(this.cache.suggestions||(this.cache.suggestions={}),t&&t.topics&&this._enrichTopicDescriptions(t.topics),this.cache[e]=t,t)))}askDiscoveryTopic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return this.net.GET("!{cloud}/v3/recommendations/topics/".concat(encodeURIComponent(e),"?locale=").concat(t)).then(JSON.parse).then((async e=>(e&&e.feedInfos&&(e.feedInfos=await this.feeds.askEnrichAndCacheFeeds(e.feedInfos)),e)))}askSaveAnalytics(e,t,s,n,i){return streets.service("analytics").trackLeoEvent("discover.feedRecommendations.analytics","save",e),this.net.POST("!{cloud}/v3/recommendations/analytics",{added:s,context:i,offered:t,source:e,versionCode:n})}async askSaveFeedback(e,t,s,n,i){let r={feedback:s,feedbackOrigin:n};if((0,o.ft)(t))r={...r,type:"entity",entityId:t};else if((0,o.xT)(t))r={...r,type:"common-topics",topicId:t};else if((0,o.jP)(t))r={...r,type:"business-event",businessEventId:t};else{if(!i)throw new Error("unsupported resource type");r={...r,type:i}}return this.net.POST("!{cloud}/v3/entries/feedback/".concat(encodeURIComponent(e)),r)}askSaveSatisfactionScore(e,t,s){const n={...t,rating:e,userId:streets.getUserId(),userName:this.profile.getUserInfo().fullName,type:s};return streets.hasBusinessAccess()&&(n.enterpriseName=streets.getEnterpriseName(),n.enterpriseId=streets.getEnterpriseId()),this.net.POST("https://engagement.feedly.com/leo-satisfaction",n)}askSaveLeoSummaryFeedback(e){return this.net.POST("!{cloud}/v3/entries/feedback/".concat(encodeURIComponent(e)),{feedback:-1,type:"leo-summary"})}async askTopicAutocomplete(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",n=e;return n.startsWith("#")&&(n=n.slice(1)),n.length<r.Sh?[]:this.net.GET("!{cloud}/v3/search/discovery?query=".concat(encodeURIComponent(n),"&count=").concat(t,"&locale=").concat(s)).then(JSON.parse)}listCachedPartSuggestions(e){const t=this.cache[e]&&this.cache[e].entities?this.cache[e].entities:[],s=(this.cache[e]&&this.cache[e].topics?this.cache[e].topics:[]).slice(0,5);return s.concat(t.slice(0,8-s.length))}listCachedTagSuggestions(e){return this.cache[e]&&this.cache[e].tags?this.cache[e].tags:[]}_enrichTopicDescriptions(e){e.forEach((e=>{e.label&&e.description&&e.description.toLowerCase()==="smart topic about ".concat(e.label.toLowerCase())&&(e.description="smart topic")}))}}function u(e){return new h(e)}},38664:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}load(){this.cache={}}unload(){this.net=null,this.cache={}}async askLibrary(e){let{backend:t="!{cloud}"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.cache[e])return this.cache[e];const s=await this.net.GET("".concat(t,"/v3/library/").concat(encodeURIComponent(e))),n=JSON.parse(s);return this.cache[e]=n,n}async askShareCollection(e){await this.net.PUT("!{cloud}/v3/library/acl/".concat(encodeURIComponent(e),"/global.public"),{scope:"view"})}async askUpdateProfile(e){const t=await this.net.POST("!{cloud}/v3/library/cover",e);return JSON.parse(t)}}function r(e){return new i(e)}},92704:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(7761);class r extends n.y{setNet(e){this.net=e}setPriorities(e){this.priorities=e}unload(){this.net=null}async askUpdateTrainingProgress(e){let{id:t,streamId:s}=e;try{const[e,n]=await Promise.all([this._askTrainingProgress(t),this.priorities.askPriority(t)]),{progress:r,status:a}=JSON.parse(e);return 1===r&&n.trainingStatus===i.Py.success&&this.priorities.askListStreamPriorities(s,{forceRefresh:!0,isNewLikeBoard:!0,tutorialDelay:1e3}),{progress:r,status:a}}catch(n){console.error("Could not fetch training status: ".concat(JSON.parse(n)))}}async _askTrainingProgress(e){return this.net.GET("!{cloud-ml}/like-board/jobs/progress/"+e)}}function a(e){return new r(e)}},32769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(56786),i=s.n(n),r=s(86330),a=s.n(r),o=s(1009),l=s(83168);class c extends l.y{setNet(e){this.net=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.net=null,this.reader=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}async askMemeInfo(e){const t=await this.net.GET("!{cloud}/v3/memes/contents/".concat(encodeURIComponent(e)));return JSON.parse(t)}async askMemeEntries(e){const t=await this.askMemeInfo(e);return this._askExtractReferenceEntry(t)}async askTrendingEntries(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=await this.net.GET("!{cloud}/v3/memes/".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t),"?count=").concat(s)).then(JSON.parse);if(!n||!n.memes)return[];return(await Promise.all(n.memes.map((e=>this._askExtractReferenceEntry(e))))).map((e=>{let{referenceEntry:t}=e;return t})).filter((e=>!(0,o.R)(e)))}async _askExtractReferenceEntry(e){if(!e||!e.referenceId)return null;try{const t=e.items.map((e=>e.id));i()(t,(t=>t===e.referenceId))||t.push(e.referenceId);const s=await this.reader.askLookupEntries(t),n=i()(s,(t=>t.getId()===e.referenceId));if(!n)return null;const r=a()(s,(t=>t.getId()!==e.referenceId));return n.setFeaturedMeme({label:e.title,...e}),{referenceEntry:n,relatedEntries:r}}catch(t){return console.error("[meme] failed to process meme",e,t),null}}}function d(e){return new c(e)}},97100:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(47169),i=s(83168),r=s(28514),a=s(35610);const o="displayed",l="lessLikeThis",c="markedAsRead",d="read",h="saved",u="shared";class p extends i.y{constructor(){super(...arguments),(0,n.Z)(this,"endSession",(()=>{this._sessionId&&(this.net.POST("https://ms.feedly.com/sessions/".concat(this._sessionId,"/push"),this.cache,{authenticated:!0}).catch((()=>console.warn("failed to push micro session"))),this._resetInfo())}))}setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}load(){this._resetInfo(),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("beforeunload",this.endSession),this._doNotRecord=!1,this.enterprise.registerObserver(this),this._checkAdvancedPrivacy()}unload(){"undefined"!=typeof window&&window.addEventListener&&window.removeEventListener("beforeunload",this.endSession),this.endSession(),this._resetInfo(),this._doNotRecord=null,this.enterprise.unregisterObserver(this),this.enterprise=null,this.net=null}onEnterpriseChanged(){this._checkAdvancedPrivacy()}addEntries(e,t,s){!this._sessionId||t!==this.cache.pageType||s&&s!==this.cache.streamId||e.forEach((e=>{const t=e.getId();this._entryHash[t]||(this.cache.entries.push({actions:[{verb:o}],entryId:t}),this._entryHash[t]=!0)}))}async askStartSession(e){if(!(this._doNotRecord||(0,r.p1)()||(0,a.XK)()))try{const t=await this.net.POST("https://ms.feedly.com/sessions",{},{authenticated:!0}),{sessionId:s,startTime:n}=JSON.parse(t);s?(this.cache={...e,client:"desktop",entries:[],startTime:n,userId:streets.getUserId()},streets.getEnterpriseId()&&(this.cache.enterpriseName=streets.getEnterpriseId()),this._entryHash={},this._sessionId=s):(this._resetInfo(),this._doNotRecord=!0)}catch(t){this._doNotRecord=!0}}clearEntryLessLikeThis(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;const s=t.actions.findIndex((e=>e.verb===l));s>-1&&t.actions.splice(s,1)}clearEntrySaved(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.findIndex((e=>e.verb===h));if(n>-1){const e=s.actions[n];e.boardIds=e.boardIds.filter((e=>e!==t)),e.boardIds.length||s.actions.splice(n,1)}}clearEntryMarkedAsRead(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;const s=t.actions.findIndex((e=>e.verb===c));s>-1&&t.actions.splice(s,1)}setAllEntriesAsMarkedAsRead(e){!this._sessionId||e&&e!==this.cache.streamId||this.cache.entries.forEach((e=>{e.actions.find((e=>e.verb===c))||e.actions.push({verb:c})}))}setEntryAsLessLikeThis(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.find((e=>e.verb===l));n?n.feedback.push(t):s.actions.push({verb:l,feedback:[t]})}setEntryAsMarkedAsRead(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;t.actions.find((e=>e.verb===c))||t.actions.push({verb:c})}setEntryAsRead(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;t.actions.find((e=>e.verb===d))||t.actions.push({verb:d})}setEntryAsSaved(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.find((e=>e.verb===h));n?n.boardIds.push(t):s.actions.push({verb:h,boardIds:[t]})}setEntryAsShared(e){if(!this._sessionId)return;const t=this.cache.entries.find((t=>t.entryId===e));if(!t)return;t.actions.find((e=>e.verb===u))||t.actions.push({verb:u})}setEntryReadTime(e,t){if(!this._sessionId)return;const s=this.cache.entries.find((t=>t.entryId===e));if(!s)return;const n=s.actions.find((e=>e.verb===d));n?(!n.readTime||t>n.readTime)&&(n.readTime=t):s.actions.push({verb:d,readTime:t})}_resetInfo(){this.cache={},this._entryHash={},this._sessionId=null}async _checkAdvancedPrivacy(){await this.enterprise.askIsAdvancedPrivacyOn()&&(this._resetInfo(),this._doNotRecord=!0)}}function m(e){return new p(e)}},81835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(16101),i=s(83168);const r="https://ml.feedly.com/ml-topics-datasets";class a extends i.y{setNet(e){this.net=e}load(){this.cache={datasetInfos:{}}}unload(){this.net=null}async askRefresh(){this.cache={datasetInfos:{}}}async askCreateTopicDataset(e){if(!e)throw new Error("The datasetInfo is required");const t=await this.net.POST("".concat(r,"/datasets"),e,{authenticated:!0});return this.fire("onMLTopicDatasetsChanged"),JSON.parse(t)}async askCurateEntry(e){let{topicDatasetId:t,entryId:s,curationLabel:n}=e;await this.net.POST("".concat(r,"/datasets/").concat(t,"/examples"),[{entryId:s,label:n}],{authenticated:!0}),this.fire("onMLTopicDatasetsChanged",t),this.fire("onEntryDatasetsChanged")}async askCustomLists(e){let{topicDatasetId:t}=e;const s=await this.net.GET("".concat(r,"/datasets/").concat(t,"/custom-lists"),{authenticated:!0});return JSON.parse(s)}async askDatasetInfo(e){let{topicDatasetId:t}=e;if(this.cache.datasetInfos[t])return this.cache.datasetInfos[t];const s=await this.net.GET("".concat(r,"/datasets/").concat(t),{authenticated:!0});return this.cache.datasetInfos[t]=JSON.parse(s),this.cache.datasetInfos[t]}async askDatasetQA(e){let t,{topicDatasetId:s,streamId:i,qaMode:a,modelUrl:o}=e;if(a===n.oq.default)t=await this.net.GET("".concat(r,"/datasets/").concat(s,"/qa?streamId=").concat(i)+(o?"&modelUrl="+encodeURIComponent(o):""),{authenticated:!0});else{let e;switch(a){case n.oq.positives:e="positives";break;case n.oq.negatives:e="negatives";break;default:throw new Error("invalid QA mode")}t=await this.net.GET("".concat(r,"/datasets/").concat(s,"/qa/").concat(e),{authenticated:!0})}return JSON.parse(t)}async askEntryDatasetIds(e){const t=await this.net.GET("".concat(r,"/examples/").concat(encodeURIComponent(e)),{authenticated:!0});return JSON.parse(t)}async askListActiveLearningEntries(e){let{topicDatasetId:t,unlabeledOnly:s}=e;const n=await this.net.GET("".concat(r,"/datasets/").concat(t,"/active-learning?").concat(s?"&unlabeledOnly="+s:""),{authenticated:!0});return JSON.parse(n)}askListDatasetEntries(e){const{curationMode:t,customListId:s}=e;return t===n.PG.communityFeedback?this._askListCommunityFeedbackEntries(e):t===n.PG.activeLearning?this.askListActiveLearningEntries(e):t===n.PG.livePredictions?this._askLivePredictionEntries(e):s?this._askListCustomListEntries(e):this._askListReviewEntries(e)}async askListEntryCurationStates(e){let{topicDatasetId:t,entryIds:s}=e;const n=await this.net.GET("".concat(r,"/datasets/").concat(t,"/examples?entryIds=").concat(encodeURIComponent(s.join())),{authenticated:!0});return JSON.parse(n)}async askListTopicDatasets(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.cache.datasets)return this.cache.datasets;const t=await this.net.GET("".concat(r,"/datasets?withStats=").concat(e),{authenticated:!0});return this.cache.datasets=JSON.parse(t),this.cache.datasets}async askAddEntryToResourceDataset(e){await this.net.POST("".concat(r,"/datasets/resource/example"),e,{authenticated:!0})}async askUnderTheHoodData(e){const t=await this.net.GET("".concat(r,"/datasets/").concat(e,"/under-the-hood"),{authenticated:!0});return JSON.parse(t)}async askUpdateDatasetInfo(e){let{topicDatasetId:t,datasetInfo:s}=e;const n=await this.net.PUT("".concat(r,"/datasets/").concat(t),s,{authenticated:!0});return this.fire("onMLTopicDatasetsChanged",t),JSON.parse(n)}async askWikidataDatasetId(e){let{wikidataTopicId:t}=e;try{const e=await this.net.GET("".concat(r,"/datasets/wikidata/").concat(t),{authenticated:!0});return{datasetId:JSON.parse(e).datasetId.toString()}}catch(s){if("NotFound"===s.errorType)return{datasetId:void 0};console.error(s)}}async askFeedbackDetailedSummary(e){const t=await this.net.GET("".concat(r,"/feedbacks/detailed_summary"),{authenticated:!0});return JSON.parse(t).find((t=>t.datasetId===e))}getCachedCurationKeywords(e){let{topicDatasetId:t}=e;const s=this.cache.datasetInfos[t];if(s&&s.curationInfo)return s.curationInfo.positiveKeywords||[]}async _askListCommunityFeedbackEntries(e){let{continuation:t,topicDatasetId:s,unlabeledOnly:n}=e;const i=await this.net.GET("".concat(r,"/datasets/").concat(s,"/feedback?count=40").concat(t?"&continuation="+t:"").concat(n?"&unlabeledOnly="+n:""),{authenticated:!0});return JSON.parse(i)}async _askLivePredictionEntries(e){let{continuation:t,topicDatasetId:s}=e;const n=await this.net.GET("".concat(r,"/datasets/").concat(s,"/live-predictions?count=40").concat(t?"&continuation="+t:""),{authenticated:!0});return JSON.parse(n)}async _askListCustomListEntries(e){let{continuation:t,customListId:s,topicDatasetId:n}=e;const i=await this.net.GET("".concat(r,"/datasets/").concat(n,"/custom-lists/").concat(s,"?count=40").concat(t?"&continuation="+t:""),{authenticated:!0});return JSON.parse(i)}async _askListReviewEntries(e){let{continuation:t,curationMode:s,topicDatasetId:n}=e;const i=await this.net.GET("".concat(r,"/datasets/").concat(n,"/examples?count=40").concat(t?"&continuation="+t:"").concat(s?"&label="+s:""),{authenticated:!0});return JSON.parse(i)}}function o(e){return new a(e)}},87141:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168);const i="https://ml.feedly.com/ml-topics-wikidata";class r extends n.y{setNet(e){this.net=e}setReader(e){this.reader=e}load(){this.cache={topics:{}}}unload(){this.cache={},this.net=null,this.reader=null}async onUserIdentified(){this.cache={topics:{}}}async onNoUserIdentified(){this.cache={topics:{}}}async askRefresh(){this.cache={topics:{}}}async askAddCustomItemToTopic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{label:s}=t;if(!e||!s)throw new Error("The topicId and label are required");const n=await this.net.PUT("".concat(i,"/topics/").concat(encodeURIComponent(e),"/custom-items/").concat(encodeURIComponent(s)),t,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=n,this.fire("onMLWikidataTopicChanged",e)}async askAddPropertyToTopic(e,t,s){if(!e||!t)throw new Error("The topicId and propertyId are required");let n="".concat(i,"/topics/").concat(encodeURIComponent(e),"/properties/").concat(encodeURIComponent(t));n+=s?"?forItem=".concat(encodeURIComponent(s)):"",await this.net.PUT(n,null,{authenticated:!0}).then(JSON.parse)}async askAddRootItemToTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");await this.net.PUT("".concat(i,"/topics/").concat(encodeURIComponent(e),"/root-items/").concat(encodeURIComponent(t)),null,{authenticated:!0}).then(JSON.parse)}async askChangeCurationStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(!e||!t)throw new Error("The topicId and streamId are required");return await this.net.PUT("".concat(i,"/topics/").concat(encodeURIComponent(e),"/curation-stream?streamId=").concat(t,"&nEntries=").concat(s),null,{authenticated:!0})}async askChangeEvaluationStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(!e||!t)throw new Error("The topicId and streamId are required");await this.net.PUT("".concat(i,"/topics/").concat(encodeURIComponent(e),"/evaluation-stream?streamId=").concat(t,"&nEntries=").concat(s),null,{authenticated:!0}),this.fire("onEvaluationStreamChanged")}async askCheckModelerInUse(){return await this.net.GET("".concat(i,"/lock"),{authenticated:!0}).then(JSON.parse)}async askCreateTopic(e){if(!e)throw new Error("The topicInfo is required");const t=await this.net.POST("".concat(i,"/topics"),e,{authenticated:!0}).then(JSON.parse);return this.fire("onMLWikidataTopicsChanged"),t}async askDeleteCustomItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and label are required");const s=await this.net.DEL("".concat(i,"/topics/").concat(encodeURIComponent(e),"/custom-items/").concat(encodeURIComponent(t)),{authenticated:!0}).then(JSON.parse);this.cache.topics[e]&&(this.cache.topics[e]=s),this.fire("onMLWikidataTopicChanged",e)}async askEvaluationInfo(e,t){if(!e||null===t)throw new Error("The topicId and threshold are required");return await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/evaluation?threshold=").concat(t),{authenticated:!0}).then(JSON.parse)}async askEvaluationDefaultThreshold(e){if(!e)throw new Error("The topicId is required");return await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/evaluation-info"),{authenticated:!0}).then(JSON.parse)}async askUnexcludeItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");const s=await this.net.DEL("".concat(i,"/topics/").concat(encodeURIComponent(e),"/excluded-items/").concat(encodeURIComponent(t)),{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s,this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged")}async askUnlockModeler(){return await this.net.DEL("".concat(i,"/lock"),{authenticated:!0}).then(JSON.parse)}async askIncludeTokenForTopic(e,t){if(!e||!t)throw new Error("The topicId and tokenId are required");const s=await this.net.DEL("".concat(i,"/topics/").concat(encodeURIComponent(e),"/excluded-tokens/").concat(encodeURIComponent(t)),{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s}async askIncludeTokensForTopic(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askIncludeTokenForTopic(e,t)}))),s&&this.fire("onMLWikidataTopicChanged",e)}async askDeletePropertyFromTopic(e,t,s){if(!e||!t)throw new Error("The topicId and propertyId are required");let n="".concat(i,"/topics/").concat(encodeURIComponent(e),"/properties/").concat(encodeURIComponent(t));n+=s?"?forItem=".concat(encodeURIComponent(s)):"";const r=await this.net.DEL(n,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=r,this.fire("onWikidataRootItemChanged",s),this.fire("onMLWikidataTopicChanged",e)}async askDeleteRootItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");const s=await this.net.DEL("".concat(i,"/topics/").concat(encodeURIComponent(e),"/root-items/").concat(encodeURIComponent(t)),{authenticated:!0}).then(JSON.parse);this.cache.topics[e]&&(this.cache.topics[e]=s),this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged")}async askEntriesForTopic(e){if(!e)throw new Error("The topicId is required");const t=await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/curation/entries"),{authenticated:!0}).then(JSON.parse);return await Promise.all(t.entrySegments.map((async(e,s)=>{const n=e.entries.map((e=>e.entryId));(await this.reader.askLookupEntries(n)).forEach(((e,n)=>{t.entrySegments[s].entries[n].entry=e}))}))),t}async askExcludeItemFromTopic(e,t){if(!e||!t)throw new Error("The topicId and itemId are required");const s=await this.net.PUT("".concat(i,"/topics/").concat(encodeURIComponent(e),"/excluded-items/").concat(encodeURIComponent(t)),null,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s,this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged")}async askExcludeTokenFromTopic(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!t)throw new Error("The topicId and tokenId are required");let n="".concat(i,"/topics/").concat(encodeURIComponent(e),"/excluded-tokens/").concat(encodeURIComponent(t));n+=s?"?excludeSimilar=".concat(s):"";const r=await this.net.PUT(n,null,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=r}async askExcludeTokensFromTopic(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askExcludeTokenFromTopic(e,t)}))),s&&(this.fire("onMLWikidataTopicChanged",e),this.fire("onWikidataRootItemChanged"))}async askInvalidateTokenForTopic(e,t){if(!e||!t)throw new Error("The topicId and tokenId are required");return await this.net.DEL("".concat(i,"/topics/").concat(encodeURIComponent(e),"/validated-tokens/").concat(encodeURIComponent(t)),{authenticated:!0}).then(JSON.parse)}async askItemsForTopic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mentions",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;if(!e)throw new Error("The topicId is required");let r="".concat(i,"/topics/").concat(encodeURIComponent(e),"/items");return r+=t?"?sortMode=".concat(t):"",r+="&continuation=".concat(s,"&limit=").concat(n),await this.net.GET(r,{authenticated:!0}).then(JSON.parse)}async askInvalidateTokensForTopic(e,t){if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askInvalidateTokenForTopic(e,t)})))}async askListTopics(){return await this.net.GET("".concat(i,"/topics"),{authenticated:!0}).then(JSON.parse)}async askLockModeler(){return await this.net.POST("".concat(i,"/lock"),null,{authenticated:!0}).then(JSON.parse)}async askReadItemById(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("The topicId and itemId are required");return await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/items/").concat(encodeURIComponent(t),"?includeAllParents=").concat(s,"&includeAllChildren=").concat(n),{authenticated:!0}).then(JSON.parse)}async askRootItemSuggestionsForTopic(e){if(!e)throw new Error("The topicId is required");return await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/root-items/suggestions"),{authenticated:!0}).then(JSON.parse)}async askSearchItems(e){if(!e)throw new Error("The queryId is required");return await this.net.GET("".concat(i,"/items/search?query=").concat(encodeURIComponent(e)),{authenticated:!0}).then(JSON.parse).catch((()=>null))}async askSearchProperty(e){if(!e)throw new Error("The propertyId is required");return await this.net.GET("".concat(i,"/properties/search?query=").concat(encodeURIComponent(e)),{authenticated:!0}).then(JSON.parse).catch((()=>null))}async askSearchTokens(e,t){if(!e)throw new Error("The topicId is required");return await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/tokens/search?query=").concat(t),{authenticated:!0}).then(JSON.parse).then((async e=>await Promise.all(e.tokens.map((async e=>{const t=e.entries.slice(0,3);if(t.length){const s=await this.reader.askLookupEntries(t);return{...e,entries:s}}return e})))))}async askSearchTopics(e){if(!e)throw new Error("The query is required");return await this.net.GET("".concat(i,"/topics/search?query=").concat(encodeURIComponent(e)),{authenticated:!0}).then(JSON.parse)}async askSetMetadataForTopic(e,t){if(!e||!t)throw new Error("The topicId and metadataInfo are required");const s=await this.net.POST("".concat(i,"/topics/").concat(encodeURIComponent(e),"/metadata"),t,{authenticated:!0}).then(JSON.parse);this.cache.topics[e]=s,this.fire("onMLWikidataTopicChanged",e)}async askTokensForTopic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"frequencyAll",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(!e)throw new Error("The topicId is required");let r="".concat(i,"/topics/").concat(encodeURIComponent(e),"/curation/tokens?continuation=").concat(s,"&limit=").concat(n);r+=t?"&sortMode=".concat(encodeURIComponent(t)):"";const a=await this.net.GET(r,{authenticated:!0}).then(JSON.parse);return await Promise.all(a.tokens.map((async(e,t)=>{const s=e.entries.slice(0,3);let n=[];s.length&&(n=await this.reader.askLookupEntries(s)),a.tokens[t].entries=n}))),a}async askPropsForItem(e,t){await this.askTopic(e,t,!0),this.fire("onMLWikidataTopicChanged",e)}async askTopic(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)throw new Error("The topicId is required");if(this.cache.topics[e]&&!s)return this.cache.topics[e];let n="".concat(i,"/topics/").concat(encodeURIComponent(e));n+=t?"?loadChildrenOfItem=".concat(t):"";const r=await this.net.GET(n,{authenticated:!0}).then(JSON.parse);return this.cache.topics[e]=r,r}async askCreateVersionForTopic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t.description)throw new Error("The topicId and topicInfo description are required");const s=await this.net.POST("".concat(i,"/topics/").concat(encodeURIComponent(e),"/versions"),t,{authenticated:!0}).then(JSON.parse);return this.fire("onMLWikidataTopicChanged",e),s}async askCheckTaskStatus(){let e={};return await new Promise((async t=>{const s=setInterval((async()=>{if("READY"===e.status)return clearInterval(s),t(e);e=await this.askTaskStatus()}),3e3)})).then((e=>(this.fire("onWikidataRootItemChanged"),this.fire("onMLWikidataTopicChanged",null,!0),e)))}async askTaskStatus(){return await this.net.GET("".concat(i,"/task-status"),{authenticated:!0}).then(JSON.parse)}async askValidateTokenForTopic(e,t){if(!e||!t)throw new Error("The topicId and tokenId are required");await this.net.PUT("".concat(i,"/topics/").concat(encodeURIComponent(e),"/validated-tokens/").concat(encodeURIComponent(t)),null,{authenticated:!0}).then(JSON.parse)}async askValidateTokensForTopic(e,t){if(!e||!t.length)throw new Error("The topicId and tokensId are required");await Promise.all(t.map((async t=>{await this.askValidateTokenForTopic(e,t)})))}async askVersionsForTopic(e){if(!e)throw new Error("The topicId is required");return await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/versions"),{authenticated:!0}).then(JSON.parse)}async askCurationEntriesForTopic(e){if(!e)throw new Error("The topicId is required");const t=await this.net.GET("".concat(i,"/topics/").concat(encodeURIComponent(e),"/curation/entries"),{authenticated:!0}).then(JSON.parse);return this.cache.topics[e].curation={entries:t},this.fire("onMLWikidataTopicChanged",e),t}}function a(e){return new r(e)}},96663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(74221),i=s(83168);class r extends i.y{setEnterprisemutefilters(e){this.enterprisemutefilters=e}setNet(e){this.net=e}setPersonalmutefilters(e){this.personalmutefilters=e}unload(){this.net=null}async askListStreamMuteFilters(e,t){const{isAll:s,isEnterprise:i,isGlobalEnterprise:r}=(0,n.Yg)(e),a=i?this.enterprisemutefilters:this.personalmutefilters,o=i?(0,n.Gr)():(0,n.N1)(),l=await a.askListFilters(t);return s||r?l.reduce(((e,t)=>((t.streamId===o?e.globalMuteFilters:e.muteFilters).push(t),e)),{muteFilters:[],globalMuteFilters:[]}):l.reduce(((t,s)=>(s.streamId===e?t.muteFilters.push(s):s.streamId===o&&t.globalMuteFilters.push(s),t)),{muteFilters:[],globalMuteFilters:[]})}async askMoveMuteFilters(e,t){if(!e||!t)throw new Error("The `fromCollectionId` and `toCollectionId` are required.");const{muteFilters:s}=await this.askListStreamMuteFilters(e),{isEnterprise:i}=(0,n.Yg)(t),r=i?this.enterprisemutefilters:this.personalmutefilters;await Promise.all(s.map((e=>r.askUpdate({...e,streamId:t}))))}}function a(e){return new r(e)}},33037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(68681),i=s(72282),r=s(83168);class a extends r.y{constructor(){super(),this.hydrationId=0}load(){}initialize(){}uninitialize(){}dehydrate(){this.hydrationId+=1}rehydrate(){this.hydrationId+=1}unload(){this._offlineHandler=null}setOfflineHandler(e){this._offlineHandler=e}async GET(e,t){return this._GO({method:"GET",url:e,headers:t})}async POST(e,t,s){return this._GO({method:"POST",url:e,body:t,headers:s})}async PUT(e,t,s){return this._GO({method:"PUT",url:e,body:t,headers:s})}async DEL(e,t){return this._GO({method:"DELETE",url:e,headers:t})}async MDEL(e,t,s){return this._GO({method:"DELETE",url:e,body:t,headers:s})}async _GO(e){const t=this.hydrationId,s=e.headers&&!0===e.headers.isOptional;return e.headers&&delete e.headers.isOptional,(0,i.wG)({method:e.method,url:e.url,body:e.body,headers:e.headers}).catch((i=>{if(s)throw i;if(i instanceof n.o&&0===i.errorCode&&t!==this.hydrationId)return this._GO(e);throw i instanceof n.o&&0===i.errorCode&&this._offlineHandler&&this._offlineHandler(),i}))}}function o(e){return new a(e)}},70418:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(3e3),i=s(3015),r=s(83168),a=s(3167);const o="feed/https://blog.feedly.com/category/features-tutorials/feed/",l=5*i.HA.day,c=Object.freeze({"cybersecurity-only":new Set(["security","cyber security","forensics","malware","osint","vulnerabilities","exploits","sans","phishing","security tools","pentest","reverse engineering"])});class d extends r.y{setFeeds(e){this.feeds=e}setPreferences(e){this.preferences=e}setReader(e){this.reader=e}load(){this.newFeaturesStream=this.reader.lookupStream(o,{batchSize:1}),this.newFeaturesStream.registerObserver(this),this.preferences.registerObserver(this),this.newFeaturesMostRecentEntry=null,this.showWhatsNewNotification=null}unload(){this.newFeaturesStream.unregisterObserver(this),this.preferences.unregisterObserver(this),this.newFeaturesMostRecentEntry=null,this.newFeaturesStream=null,this.feeds=null,this.preferences=null,this.reader=null,this.showWhatsNewNotification=null}onPreferenceChanged(e){e===a.hJ&&this._updateNotifications()}onStreamStateChanged(e){e===o&&this._updateNewFeaturesMostRecentEntry()}async askShowStarFeaturePopup(){if(!this.newFeaturesMostRecentEntry||(0,n.n2)().startsWith("enterpriseTrial"))return!1;const e=Date.now()-this.newFeaturesMostRecentEntry.crawledTime<l,t=this.newFeaturesMostRecentEntry.jsonInfo.keywords.find((e=>Object.keys(c).includes(e))),s=this._hasStarFeatureTag()&&(!t||await this._isFollowingTargetedFeeds(t));return streets.getUserId()&&s&&this._isNewFeatureUnseen()&&e}askStarFeatureInfo(){if(!this.newFeaturesMostRecentEntry)return null;const e=this.getCurrentNewFeatureHeader(),t=this.newFeaturesMostRecentEntry.getSubtitle(),s=this.newFeaturesMostRecentEntry.getFeaturedVisual();return{header:e,body:t,illustrationUrl:s?s.previewSrc:null}}updateNewFeaturesLastClickTime(){this.newFeaturesMostRecentEntry&&this.preferences.setPreference(a.hJ,this.newFeaturesMostRecentEntry.crawledTime)}getNotificationInfo(){return{showWhatsNewNotification:this.showWhatsNewNotification}}getCurrentNewFeatureHeader(){return this.newFeaturesMostRecentEntry.jsonInfo.title}openStarFeatureEntry(){this.updateNewFeaturesLastClickTime(),streets.service("feedly").previewEntry(this.newFeaturesMostRecentEntry.getId())}_hasStarFeatureTag(){return this.newFeaturesMostRecentEntry.jsonInfo.keywords.indexOf("Star feature")>=0}async _isFollowingTargetedFeeds(e){if(!e||!c[e])return!1;return(await this.feeds.askListFeeds()).some((t=>t.topics&&!!t.topics.find((t=>c[e].has(t)))))}_isNewFeatureUnseen(){return this.preferences.getPreference(a.hJ)<this.newFeaturesMostRecentEntry.crawledTime}async _updateNotifications(){const e=this.newFeaturesMostRecentEntry.jsonInfo.keywords.indexOf("What's New")>=0;this.showWhatsNewNotification=e&&this._isNewFeatureUnseen(),this.fire("onWhatsNewNotificationChanged",this.showWhatsNewNotification),this._hasStarFeatureTag()&&this.fire("onStarFeatureEntryChanged")}_updateNewFeaturesMostRecentEntry(){const e=this.newFeaturesStream.getState();if(!e.isLoadingEntries){const t=e.entries;this.newFeaturesMostRecentEntry=t[t.length-1],this._updateNotifications()}}}function h(e){return new d(e)}},74739:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setCollections(e){this.collections=e}setEnterprisecollections(e){this.enterprisecollections=e}setEnterprisetags(e){this.enterprisetags=e}setPersonalcollections(e){this.personalcollections=e}setPersonaltags(e){this.personaltags=e}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}load(){this.enterprisecollections.registerObserver(this),this.enterprisetags.registerObserver(this),this.personalcollections.registerObserver(this),this.personaltags.registerObserver(this),this.cache={}}unload(){this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.collections=null,this.enterprisecollections=null,this.enterprisetags=null,this.personalcollections=null,this.personaltags=null,this.cache={}}askRefresh(){this.cache={}}onCollectionsChanged(){this._verifyIsAccountEmpty()}async onFeedsChanged(){const e=this.cache.isOnboarding;if(e){this.cache.isOnboarding=null;const t=await this.askIsOnboarding();e!==t&&this.fire("onOnboardingChanged",t)}}onTagsChanged(){this._verifyIsAccountEmpty()}async askIsAccountEmpty(){if(!streets.getUserId())return!0;if("boolean"==typeof this.cache.isAccountEmpty)return this.cache.isAccountEmpty;const[e,t,s,n]=await Promise.all([this.enterprisecollections.askListSubscribedCollections(),this.enterprisetags.askListSubscribedTags(),this.personalcollections.askListCollections(),this.personaltags.askListTags()]),i=e.length+t.length+s.length+n.length===0;return this.cache.isAccountEmpty=i,i}async askIsOnboarding(){if(!streets.getUserId())return!0;if("boolean"==typeof this.cache.isOnboarding)return this.cache.isOnboarding;let e;if(streets.hasProAccess()||streets.hasBusinessAccess())e=!1;else{e=(await this.collections.askListAllFeeds()).length<=2}return this.cache.isOnboarding=e,e}async _verifyIsAccountEmpty(){const e=this.cache.isAccountEmpty;if(e){this.cache.isAccountEmpty=null;const t=await this.askIsAccountEmpty();e!==t&&this.fire("onOnboardingAccountEmptyChanged",t)}}}function r(e){return new i(e)}},43426:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(47567),i=s(3171),r=s(61861),a=s(83168),o=s(99879);const l=Object.freeze({service:"Oxygen",askYTDRevenueBreakdown:"askYTDRevenueBreakdown",askLastYearRevenueBreakdown:"askLastYearRevenueBreakdown",askPastTwoMonthRevenueBreakdown:"askPastTwoMonthRevenueBreakdown",askPastYearRevenueBreakdown:"askPastYearRevenueBreakdown"}),c=["proPlusYearly","proPlusMonthly"],d=["enterpriseMonthly","enterpriseYearly","businessMonthly","businessYearly","proYearly","proMonthly",...c];class h extends a.y{setNet(e){this.net=e}load(){this.cache={}}unload(){this.cache=null,this.net=null}askRefresh(){this.cache={}}async askRevenueMetrics(){const[e,t]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]),{dailySales:s}=e,n=this._transformDailyRevenue(e.dailyRevenue),i=this._transformDailyRevenue(t.dailyRevenue),r={},a=(new Date).getTime()-2592e6,o=(new Date).getTime()-6048e5,l=new Date;let h=Object.keys(n).reduce(((e,t)=>{const s=new Date("".concat(t,"T00:00:01")),i=n[t],c="".concat(s.getMonth()+1,"-").concat(s.getDate()),h=d.reduce(((e,t)=>(r[t]||(r[t]=0),e+=this._combineAmounts(i.revenue[t])/100,r[t]+=this._combineAmounts(i.revenue[t])/100,e)),0),u=d.reduce(((e,t)=>e+=this._combineAmounts(i.churn[t])/100),0);s.getTime()>a&&h&&(e.past30Days[c]=!0),l.getMonth()===s.getMonth()&&h&&(e.thisMonth[c]=!0,e.revenueThisMonth+=h),l.getFullYear()===s.getFullYear()&&h&&(e.thisYear[c]=!0,e.revenueYTD+=h,e.churnYTD+=u);const p=this._combineAmounts(i.churnedCustomers.proPlusYearly),m=this._combineAmounts(i.churnedCustomers.proPlusMonthly);return s.getTime()>o&&p+m&&(e.past7Days[c]=!0,e.proPlusYearlyChurnCustomersPast7Days+=p,e.proPlusMonthlyChurnCustomersPast7Days+=m),e}),{revenueYTD:0,revenueYTDLastYear:0,churnYTD:0,churnYTDLastYear:0,revenueThisMonth:0,revenueThisMonthLastYear:0,proPlusYearlyChurnCustomersPast7Days:0,proPlusMonthlyChurnCustomersPast7Days:0,proPlusChurnCustomersPast7DaysLastYear:0,businessPast30DaysTrials:0,businessPast30DaysQualified:0,businessPast30DaysOnboarded:0,businessPast30DaysWon:0,enterpriseThisMonthTrials:0,enterpriseThisMonthQualified:0,enterpriseThisMonthOnboarded:0,enterpriseThisMonthDaysWon:0,past30Days:{},past7Days:{},thisMonth:{},thisYear:{}});return h=Object.keys(s).reduce(((e,t)=>{const n=new Date("".concat(t,"T00:00:01")),i="".concat(n.getMonth()+1,"-").concat(n.getDate()),r=s[t];return n.getTime()>a&&(e.businessPast30DaysTrials+=r.business.trials,e.businessPast30DaysQualified+=r.business.qualified,e.businessPast30DaysOnboarded+=r.business.onboarded,e.businessPast30DaysWon+=r.business.won),e.thisMonth[i]&&(e.enterpriseThisMonthTrials+=r.enterprise.trials,e.enterpriseThisMonthQualified+=r.enterprise.qualified,e.enterpriseThisMonthOnboarded+=r.enterprise.onboarded,e.enterpriseThisMonthDaysWon+=r.enterprise.won),e}),h),h=Object.keys(i).reduce(((e,t)=>{const s=new Date("".concat(t,"T00:00:01")),n="".concat(s.getMonth()+1,"-").concat(s.getDate()),r=i[t],a=d.reduce(((e,t)=>e+=this._combineAmounts(r.revenue[t])/100),0),o=d.reduce(((e,t)=>e+=this._combineAmounts(r.churn[t])/100),0);e.thisYear[n]&&(e.revenueYTDLastYear+=a,e.churnYTDLastYear+=o),e.thisMonth[n]&&(e.revenueThisMonthLastYear+=a);const l=c.reduce(((e,t)=>e+=this._combineAmounts(r.churnedCustomers[t])),0);return e.past7Days[n]&&l&&(e.proPlusChurnCustomersPast7DaysLastYear+=l),e}),h),h}async askCountersDaily(){const[e]=await Promise.all([this._askYTDRevenueBreakdown()]),{counters:t}=e;return t}async askCountersWeekly(){let e=0;const[t,s]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]),{counters:i}=t,r=this._transformDailyRevenue(t.dailyRevenue);let a=this._createEmptyCountersWeeklyStructure();a=Object.keys(i).reduce(((t,s)=>{const a=new Date("".concat(s,"T00:00:01"));let o=(0,n.uW)(a);53===o&&(o=1);const l=i[s],c=t[o],h=r[s],u=d.reduce(((e,t)=>e+=this._combineAmounts(h.revenue[t])/100),0);return a.getTime()<new Date("2020-11-05")&&l.totalEnterpriseAccounts&&(l.totalBusinessAccounts||(l.totalBusinessAccounts=l.totalEnterpriseAccounts),delete l.totalEnterpriseAccounts),o>52||(t[o].daysCounted+=1,e+=u,c.revenue=e,l.totalProPlusUsers&&(c.proPlus=l.totalProPlusUsers),l.totalLeoSecurityEnterprise&&(c.enterpriseCybersecurity=l.totalLeoSecurityEnterprise),l.totalEnterpriseAccounts&&(c.enterprise=l.totalEnterpriseAccounts),l.totalBusinessAccounts&&(c.business=l.totalBusinessAccounts)),t}),a);const o=s.counters;return a=Object.keys(o).reduce(((e,t)=>{const s=new Date("".concat(t,"T00:00:01")),n=this._mapWeekNum(s),i=o[t],r=e[n];return n>52||s.getFullYear()===(new Date).getFullYear()||r.daysCountedLastYear>=r.daysCounted||(r.daysCountedLastYear+=1,i.totalProPlusUsers&&(r.proPlusLastYear+=i.totalProPlusUsers),i.totalLeoSecurityEnterprise&&(r.enterpriseCybersecurityLastYear+=i.totalLeoSecurityEnterprise),i.totalEnterprise&&(r.enterpriseLastYear+=i.totalEnterprise),i.totalBusiness&&(r.businessLastYear+=i.totalBusiness)),e}),a),Object.values(a)}async askProPlusChurnMonthly(){const[e,t]=await Promise.all([this._askLastYearRevenueBreakdown(),this._askYTDRevenueBreakdown()]),s={...e.counters,...t.counters},n={...e.dailyRevenue,...t.dailyRevenue};let i="";const r=Object.keys(s).reduce(((e,t)=>{const[n,r]=t.split("-");return i!==r&&(i=r,e["".concat(n,"-").concat(r)]={totalProPlusUsers:s[t].totalProPlusUsers}),e}),{}),a=Object.keys(n).reduce(((e,t)=>{var s;const[i,r]=t.split("-"),a="".concat(i,"-").concat(r),o=null===(s=n[t].churnedCustomers)||void 0===s?void 0:s.proPlus;return o?(Object.keys(o).forEach((t=>{const s=e[a];s[t]?s[t]+=o[t]:s[t]=o[t]})),e):e}),r);return a}async askProPlusPastYearChurnByWeek(){const{dailyRevenue:e}=await this._askPastYearRevenueBreakdown();return Object.keys(e).reduce(((t,s)=>{var n,r;const[a,o,l]=s.split("-"),c=new Date(a,o-1,l),d=new Date(c.getTime()+(0,i.DZ)(c.getTimezoneOffset())-(0,i.z1)(c.getDay())),h="".concat(d.getFullYear(),"-").concat(d.getMonth()+1,"-").concat(d.getDate());t[h]||(t[h]={monthly:{},yearly:{}});const u=null===(n=e[s].churnedCustomers)||void 0===n?void 0:n.proPlusMonthly,p=null===(r=e[s].churnedCustomers)||void 0===r?void 0:r.proPlusYearly;return u&&Object.keys(u).forEach((e=>{const s=t[h].monthly;s[e]?s[e]+=u[e]:s[e]=u[e]})),p&&Object.keys(p).forEach((e=>{const s=t[h].yearly;s[e]?s[e]+=p[e]:s[e]=p[e]})),t}),{})}async askRevenueWeekly(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"proPlusYearly";const[t,s]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]);let{dailyRevenue:i,counters:r}=t;i=this._transformDailyRevenue(i);let a,o=this._createEmptyRevenueWeeklyStructure();o=Object.keys(i).reduce(((t,s)=>{const l=new Date("".concat(s,"T00:00:01")),c=(0,n.uW)(l),d=i[s],h=t[c];return 53===c?(o[1].daysCounted+=1,d.revenue&&d.revenue[e]&&(o[1].revenue+=this._combineAmounts(d.revenue[e])/100,o[1].churn+=this._combineAmounts(d.churn[e])/100,o[1].customerCount+=this._combineCounts(d.payingCustomers[e]),o[1].churnCount+=this._combineCounts(d.churnedCustomers[e]),"enterpriseYearly"===e&&d.payingTeams&&d.payingTeams.enterprise&&(o[1].payingEnterprises=[...o[1].payingEnterprises,...d.payingTeams.enterprise],console.log("enterprise yearly growth:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),"enterpriseMonthly"===e&&console.log("warning: discovered enterprise monthly revenue:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),t):("proPlusYearly"===e&&!h.total&&r[s]&&r[s].totalProPlusUsers&&(h.total=r[s].totalProPlusUsers,a&&(h.delta=r[s].totalProPlusUsers-a),a=r[s].totalProPlusUsers),h.daysCounted+=1,d.revenue&&d.revenue[e]&&(h.revenue+=this._combineAmounts(d.revenue[e])/100,h.churn+=this._combineAmounts(d.churn[e])/100,h.customerCount+=this._combineCounts(d.payingCustomers[e]),h.churnCount+=this._combineCounts(d.churnedCustomers[e]),"enterpriseYearly"===e&&d.payingTeams&&d.payingTeams.enterprise&&(h.payingEnterprises=[...h.payingEnterprises,...d.payingTeams.enterprise],console.log("enterprise yearly growth:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),"enterpriseMonthly"===e&&console.log("warning: discovered enterprise monthly revenue:",s,this._combineAmounts(d.revenue[e])/100,d.payingTeams.enterprise)),t)}),o);const l=this._transformDailyRevenue(s.dailyRevenue);return o=Object.keys(l).reduce(((t,s)=>{const n=new Date("".concat(s,"T00:00:01"));let i=this._mapWeekNum(n);53===i&&(i=1);const r=l[s],a=t[i];return n.getFullYear()===(new Date).getFullYear()||a.revenue&&a.daysCountedLastYear>=a.daysCounted||(a.daysCountedLastYear+=1,r.revenue&&r.revenue[e]&&(a.revenueLastYear+=this._combineAmounts(r.revenue[e])/100,a.churnLastYear+=this._combineAmounts(r.churn[e])/100,a.customerCountLastYear+=this._combineCounts(r.payingCustomers[e]),a.churnCountLastYear+=this._combineCounts(r.churnedCustomers[e]))),t}),o),Object.values(o)}async askRevenueMonthly(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"proPlusYearly";const[t,s]=await Promise.all([this._askYTDRevenueBreakdown(),this._askLastYearRevenueBreakdown()]);let{dailyRevenue:n}=t;n=this._transformDailyRevenue(n);let i=this._createEmptyRevenueMonthlyStructure();i=Object.keys(n).reduce(((t,s)=>{const i=new Date("".concat(s,"T00:00:01")).getMonth(),r=n[s],a=t[i];return a.daysCounted+=1,r.revenue&&r.revenue[e]&&(a.revenue+=this._combineAmounts(r.revenue[e])/100,a.churn+=this._combineAmounts(r.churn[e])/100,a.customerCount+=this._combineCounts(r.payingCustomers[e]),a.churnCount+=this._combineCounts(r.churnedCustomers[e]),"enterpriseYearly"===e&&r.payingTeams&&r.payingTeams.enterprise&&(a.payingEnterprises=[...a.payingEnterprises,...r.payingTeams.enterprise])),t}),i);const r=this._transformDailyRevenue(s.dailyRevenue);return i=Object.keys(r).reduce(((t,s)=>{const n=new Date("".concat(s,"T00:00:01")),i=n.getMonth(),a=r[s],o=t[i];return n.getFullYear()===(new Date).getFullYear()||o.revenue&&o.daysCountedLastYear>=o.daysCounted||(o.daysCountedLastYear+=1,a.revenue&&a.revenue[e]&&(o.revenueLastYear+=this._combineAmounts(a.revenue[e])/100,o.churnLastYear+=this._combineAmounts(a.churn[e])/100,o.customerCountLastYear+=this._combineCounts(a.payingCustomers[e]),o.churnCountLastYear+=this._combineCounts(a.churnedCustomers[e]))),t}),i),Object.values(i)}async _askYTDRevenueBreakdown(){let e=(0,r.Z)(l.service,l.askYTDRevenueBreakdown);return this.cache.YTD?this.cache.YTD:e||(e=this.net.GET("!{cloud}/v3/admin/revenueBreakdown?newerThan=".concat(o.FC,"&olderThan=").concat(o.Lg)).then(JSON.parse).then((e=>(this.cache.YTD=e,e))).catch((e=>{let{errorMessage:t}=e;return console.error("Error retrieving revenue breakdown: ".concat(t))})),(0,r.Z)(l.service,l.askYTDRevenueBreakdown,e),e)}async _askLastYearRevenueBreakdown(){let e=(0,r.Z)(l.service,l.askLastYearRevenueBreakdown);return this.cache.lastYear?this.cache.lastYear:e||(e=this.net.GET("!{cloud}/v3/admin/revenueBreakdown?newerThan=".concat(o.vb,"&olderThan=").concat(o.FC)).then(JSON.parse).then((e=>(this.cache.lastYear=e,e))).catch((e=>{let{errorMessage:t}=e;return console.error("Error retrieving revenue breakdown: ".concat(t))})),(0,r.Z)(l.service,l.askLastYearRevenueBreakdown,e),e)}async _askPastYearRevenueBreakdown(){let e=(0,r.Z)(l.service,l.askPastYearRevenueBreakdown);if(this.cache.pastYear)return this.cache.pastYear;if(e)return e;const t=Date.now()-(0,i.z1)((new Date).getDay())-(0,i.z1)(364)-(0,i.z1)(1);return e=this.net.GET("!{cloud}/v3/admin/revenueBreakdown?newerThan=".concat(t,"&olderThan=").concat(o.Lg)).then(JSON.parse).then((e=>(this.cache.pastYear=e,e))).catch((e=>{let{errorMessage:t}=e;return console.error("[_askPastYearRevenueBreakdown] Error retrieving revenue breakdown: ".concat(t))})),(0,r.Z)(l.service,l.askPastYearRevenueBreakdown,e),e}_mapWeekNum(e){return(0,n.uW)(new Date(e.getTime()+3154e7))}_createEmptyRevenueWeeklyStructure(){const e={};for(let t=0;t<=365;t++){const s=new Date(o.iA+864e5*t);if(s.getFullYear()>(new Date).getFullYear())break;let i=(0,n.uW)(s);53===i&&(i=1),i<=52&&(e[i]||(e[i]={startDate:s,weekNum:i,label:"Week #".concat(i),revenue:0,churn:0,customerCount:0,churnCount:0,revenueLastYear:0,churnLastYear:0,customerCountLastYear:0,churnCountLastYear:0,daysCounted:0,daysExpected:0,daysCountedLastYear:0,payingEnterprises:[]}),e[i].daysExpected+=1)}return e}_createEmptyRevenueMonthlyStructure(){const e={};for(let t=0;t<=365;t++){const s=new Date(o.iA+864e5*t);if(s.getFullYear()>(new Date).getFullYear())break;const n=s.getMonth();e[n]||(e[n]={startDate:s,monthNum:n,label:"".concat(s.toLocaleString("default",{month:"short"})),revenue:0,churn:0,customerCount:0,churnCount:0,revenueLastYear:0,churnLastYear:0,customerCountLastYear:0,churnCountLastYear:0,daysCounted:0,daysExpected:0,daysCountedLastYear:0,payingEnterprises:[]},e[n].daysExpected+=1)}return e}_createEmptyCountersWeeklyStructure(){const e={};for(let t=0;t<=365;t++){const s=new Date(o.iA+864e5*t);if(s.getFullYear()>(new Date).getFullYear())break;let i=(0,n.uW)(s);53===i&&(i=1),e[i]||(e[i]={startDate:s,weekNum:i,label:"Week #".concat(i),proPlus:0,enterprise:0,business:0,enterpriseCybersecurity:0,proPlusLastYear:0,enterpriseLastYear:0,businessLastYear:0,enterpriseCybersecurityLastYear:0,revenue:0,daysCounted:0,daysExpected:0,daysCountedLastYear:0}),e[i].daysExpected+=1}return e}_combineAmounts(e){return e?Object.keys(e).reduce(((t,s)=>t+e[s]),0):0}_combineCounts(e){return e?Object.keys(e).reduce(((t,s)=>t+e[s]),0):0}_transformDailyRevenue(e){const t=JSON.parse(JSON.stringify(e)),s=["churn","churnedCustomers","payingCustomers","revenue"];return Object.values(t).forEach((e=>{s.forEach((t=>{e[t].proStandardMonthly&&(e[t].proMonthly||(e[t].proMonthly={}),e[t].proMonthly.Standard=this._combineCounts(e[t].proStandardMonthly)),e[t].proStandardYearly&&(e[t].proYearly||(e[t].proYearly={}),e[t].proYearly.Standard=this._combineCounts(e[t].proStandardYearly))}))})),Object.keys(t).forEach((e=>{const n=t[e];new Date(e).getTime()>new Date("2020-11-06")||(s.forEach((e=>{n[e].enterpriseMonthly&&(n[e].businessMonthly||(n[e].businessMonthly={}),n[e].businessMonthly.PseudoEnterprise=this._combineCounts(n[e].enterpriseMonthly),delete n[e].enterpriseMonthly),n[e].enterpriseYearly&&(n[e].businessYearly||(n[e].businessYearly={}),n[e].businessYearly.PseudoEnterprise=this._combineCounts(n[e].enterpriseYearly),delete n[e].enterpriseYearly)})),n.payingTeams.enterprise&&(n.payingTeams.business||(n.payingTeams.business=n.payingTeams.enterprise,delete n.payingTeams.enterprise)))})),t}}function u(e){return new h(e)}},54034:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(32735),i=s(12788),r=s(75401),a=s(85933),o=s(28430),l=s(5371),c=s(57855),d=s(83168);class h extends d.y{setFeedly(e){this.feedly=e}setPreferences(e){this.preferences=e}getPageInfo(){return this.pageInfo}getPagePreference(e){var t;return this.preferences.getPreference(e,null===(t=this.pageInfo)||void 0===t?void 0:t.prefContext)}shouldAutoSelectOnScroll(){return"yes"===this.getPagePreference("autoSelectOnScroll")||"inlined-only"===this.getPagePreference("autoSelectOnScroll")&&"100"===this.getPagePreference("entryOverviewSize.desktop")}async askOpenPage(e){this.pageElem=document.getElementById("feedlyPageFX"),this.pageInfo=e,i.unmountComponentAtNode(this.pageElem),this.pageElem.scrollTop=0,this.pageComponent=n.createRef(),this.reactPageElement=n.createElement(this.pageInfo.reactClass,{pageInfo:this.pageInfo,ref:this.pageComponent});const t=!e.reactClass.requiresSearchBarHidden();if(i.render(n.createElement(a.S,null,n.createElement(n.Fragment,null,this.reactPageElement,t&&n.createElement("div",{style:{height:l.vH}}))),this.pageElem),this.shouldAutoSelectOnScroll()){const e=document.getElementById("feedlyPageHolderFX");if(e){const t=(0,c.$$)(document);e.style.paddingBottom=t+"px"}}}isRefreshable(){return this.pageInfo.reactClass.isRefreshable&&this.pageInfo.reactClass.isRefreshable()}askReloadPage(){this._destroyPreview(),this.pageComponent.current.askRefresh()}destroyPage(){if(this.shouldAutoSelectOnScroll()){const e=document.getElementById("feedlyPageHolderFX");e&&(e.style.paddingBottom=null)}this._destroyPreview(),this.pageComponent=null,this.pageElem&&i.unmountComponentAtNode(this.pageElem),this.pageElem=null}renderEntryInPreviewPane(e){this._previewElement&&i.unmountComponentAtNode(this._previewElement),this._previewElement=this.feedly.activatePreviewMode(),i.render(n.createElement("div",{className:"floatingEntry"},n.createElement("div",{className:"floatingEntryContent sliderContainer"},n.createElement(o.W,{entryId:e}),",",n.createElement("div",{className:"floatingEntryScroller"},n.createElement(r.c,{entryId:e,navigatable:!0})))),this._previewElement)}_destroyPreview(){this._previewElement&&(i.unmountComponentAtNode(this._previewElement),this.feedly.deactivatePreviewMode(),this._previewElement=null)}}function u(e){return new h(e)}},85917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var n=s(10268),i=s.n(n),r=s(68906),a=s.n(r),o=s(87753),l=s(35330),c=s(57471),d=s(54960),h=s(74221),u=s(61861),p=s(83168),m=s(8199),g=s(3167),f=s(85251);const y=Object.freeze({service:"PersonalCollections",askListCollections:"askListCollections"});class v extends p.y{setNet(e){this.net=e}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}setAlerts(e){this.alerts=e}setWebsitefeeds(e){this.websitefeeds=e}load(){this.alerts.registerObserver(this),this.websitefeeds.registerObserver(this),this.cache={collections:null},this.collectionsNeedUnreadCountUpdate=!0}async onUserIdentified(){this.cache={},this.collectionsNeedUnreadCountUpdate=!0}async onNoUserIdentified(){this.cache={},this.collectionsNeedUnreadCountUpdate=!0}unload(){this.alerts.unregisterObserver(this),this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.websitefeeds.unregisterObserver(this),this.alerts=null,this.net=null,this.preferences=null,this.reader=null,this.websitefeeds=null}onFeedChanged(){this._clearCachedCollections()}onStreamUnreadCountChanged(){this.collectionsNeedUnreadCountUpdate=!0}onPreferenceChanged(e){e===g.As.personalCollections&&this.fire("onCollectionsOrderChanged")}async onSourceCreated(e,t){const{isEnterprise:s}=(0,h.Yg)(t);s||(this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.fire("onFeedChanged",e),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",t),this.fire("onCollectionsChanged"))}async askRefresh(){this.cache={}}async askAddFeed(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await this.askAddFeeds(e,[t],s)}async askAddFeeds(e,t){let{analyticsContext:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)throw new Error("The collectionId and feeds are required");if(!t.length)return;const n=await this.net.POST("!{cloud}/v3/collections/".concat(encodeURIComponent(e),"/feeds/.mput"),t).then(JSON.parse),i=n.filter((e=>t.find((t=>t.id===e.id))));if(this._clearCachedCollections(),await this.reader.askListUnreadCounts({forceRefresh:!0}),1===t.length&&0===i.length)throw console.error(">>> FAILED TO ADD FEEDS",e,t,n),new Error("Failed to add ".concat(t[0].id));return s&&((0,d.Qc)(t[0].id)||(0,c.tp)(t[0].id))&&(streets.service("analytics").trackNewFeaturesEvent("keyword_alert","follow",{context:s}),(0,o.K)("source_followed",{context:s,is_keyword_alert:!0},["amplitude","ga"])),t.forEach((e=>{let{id:t}=e;this.fire("onFeedChanged",t)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged"),i}async askDeleteCollection(e){if(!e)throw new Error("`collectionId` is required");await this.net.DEL("!{cloud}/v3/collections/".concat(encodeURIComponent(e))),await this.reader.askListUnreadCounts({forceRefresh:!0}),this.cache.collections&&(this.cache.collections=this.cache.collections.filter((t=>{let{id:s}=t;return s!==e}))),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askFavoritesCollection(){return(await this.askListCollections()).find((e=>e.isGlobalMust))||{containsFeed:()=>!1,id:(0,h.Mc)(),isGlobalMust:!0,label:"Favorites (old)",feeds:[]}}async askFeedCollectionMapping(){return(await this.askListCollections()).reduce(((e,t)=>(t.feeds.forEach((s=>{const n=s.id;e[n]||(e[n]=[]),e[n].push(t)})),e)),{})}async askImportFeeds(e,t){let s=await this.askLookupCollectionByLabel(e);return s||(s=await this.askSave({label:e})),this.askAddFeeds(s.id,t)}async askIsUpgradeNeededToCreate(){if(!streets.getUserId())return!0;if(streets.isLimitedPlan()){return(await this.askListCollections()).length>=m.Av}return!1}async askListAllFeeds(){const e=(await this.askListCollections()).reduce(((e,t)=>e.concat(t.feeds)),[]);return i()(e,(e=>e.streamId))}async askListCollectionFeeds(e){if(!e)throw new Error("`collectionId` is required");const{isAll:t}=(0,h.Yg)(e);if(t)return this.askListAllFeeds();const s=(await this.askListCollections()).find((t=>t.id===e));if(!s)throw new Error("Collection not found");return s.feeds||[]}async askListCollections(e){let t=(0,u.Z)(y.service,y.askListCollections);return streets.getUserId()?this.cache.collections?this.collectionsNeedUnreadCountUpdate?(this.cache.collections=await(0,l.co)(this.cache.collections,e),e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)):this.cache.collections.slice(0):t?t.then((t=>(0,l.co)(t,e))):(t=this.net.GET("!{cloud}/v3/collections?withStats=true").then(JSON.parse).then(l.V2).then((e=>e.filter((e=>!e.isGlobalMust||e.feeds.length>0)))).then((t=>(this.cache.collections=t,e&&!0===e.cachedUnreadCountsOnly||(this.collectionsNeedUnreadCountUpdate=!1),this.cache.collections.slice(0)))),(0,u.Z)(y.service,y.askListCollections,t),t):[]}async askListCollectionsForFeed(e){return(await this.askListCollections()).filter((t=>t.feeds&&t.feeds.find((t=>t.id===e))))}async askListRankedCollections(e){const t=await this.askListCollections(e),s=JSON.parse(this.preferences.getPreference(g.As.personalCollections));return s?(0,f.r)(t,s):t}async askLookupCollection(e,t){if(!e)throw new Error("`collectionId` is required");const{isAll:s}=(0,h.Yg)(e);if(s){const s=(await this.reader.askUnreadCountsIndex(t))[e];return{id:e,streamId:e,label:"All Personal Feeds",uri:"collection/content/"+e,unreadCount:s}}return(await this.askListCollections(t)).find((t=>t.id===e))}async askLookupCollectionByLabel(e){return(await this.askListCollections()).find((t=>t.label===e))}async askMetadata(e){return this.askLookupCollection(e)}async askRemoveFeed(e,t){if(!e||!t)throw new Error("The collectionId and feedId are required");await this.net.DEL("!{cloud}/v3/collections/".concat(encodeURIComponent(e),"/feeds/").concat(encodeURIComponent(t))),await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged"),this.fire("onFeedChanged",t),this.fire("onFeedsChanged")}async askRemoveFeeds(e,t){if(!e||!t)throw new Error("The collectionId and feedIds are required");if(!t.length)return;const s="!{cloud}/v3/collections/".concat(encodeURIComponent(e),"/feeds/.mdelete"),n=a()(t,100);for(let i=0;i<n.length;i++)await this.net.MDEL(s,n[i].map((e=>({id:e}))));await this.reader.askListUnreadCounts({forceRefresh:!0}),this._clearCachedCollections(),t.forEach((e=>{this.fire("onFeedChanged",e)})),this.fire("onFeedsChanged"),this.fire("onCollectionChanged",e),this.fire("onCollectionsChanged")}async askRemoveFeedsFromAll(e){const t=(0,h.N1)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeeds(t,e)}async askRemoveFeedFromAll(e){const t=(0,h.N1)();if(!t)throw new Error("Error removing sources from business collections.");return this.askRemoveFeed(t,e)}async askRenameFeed(e,t){return this.askAddFeed(e,t)}async askSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{silently:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:s,label:n}=e;if(!n)throw new Error("The `label` is required");const[i]=await this.net.POST("!{cloud}/v3/collections",e).then(JSON.parse);return this._clearCachedCollections(),s?t||this.fire("onCollectionChanged",s):(this.preferences.setPreference(i.id,"show"),await this.reader.askListUnreadCounts({forceRefresh:!0})),t||this.fire("onCollectionsChanged"),i}_clearCachedCollections(){this.cache.collections=null,this.collectionsNeedUnreadCountUpdate=!0}}function b(e){return new v(e)}},27744:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(35330),i=s(74221),r=s(61861),a=s(83168);const o=Object.freeze({service:"PersonalFilters",listFilters:"askListFilters"});class l extends a.y{setNet(e){this.net=e}load(){this.cache={}}intialize(){}uninitialize(){}unload(){this.net=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this.net.DEL("!{cloud}/v3/filters/".concat(encodeURIComponent(e))).then((()=>{this.cache.filters=null,this.fire("onFilterChanged",e),this.fire("onFiltersChanged")}))}async askFilterInfo(e){if(!e)throw new Error("Missing required parameter `filterId`.");return this.askListFilters().then((t=>t.find((t=>t.id===e)))).then((t=>{if(!t)throw new Error("Filter not found. id="+e);return t}))}async askMetadata(e){return this.askFilterInfo(e)}async askListFilters(){let e=(0,r.Z)(o.service,o.listFilters);return this.cache.filters?this.cache.filters:streets.isProLegacyPlan()||streets.hasProPlusAccess()?e||(e=this.net.GET("!{cloud}/v3/filters").then(JSON.parse).then((async e=>(this.cache.filters=await(0,n.x$)(e),e))),(0,r.Z)(o.service,o.listFilters,e),e):(this.cache.filters=null,[])}async askListFiltersForFeed(e){const{isAll:t}=(0,i.Yg)(e);return(await this.askListFilters()).filter((s=>s.streamIds&&s.streamIds.includes(e)||t))}}function c(e){return new l(e)}},5998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(35330),i=s(74221),r=s(61861),a=s(68971),o=s(83168);const l=Object.freeze({service:"PersonalMuteFilters",listFilters:"askListFilters"});class c extends o.y{setNet(e){this.net=e}load(){this._resetCache()}unload(){this.cache=null,this.net=null}async onUserIdentified(){this._resetCache()}async onNoUserIdentified(){this._resetCache()}async askRefresh(){this._resetCache()}askDelete(e){return this._askDelete(e).then((()=>{this.cache.filters=null,this.fire("onMuteFilterChanged",e),this.fire("onMuteFiltersChanged")}))}async askListFilters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)(l.service,l.listFilters);return this.cache.filters&&!e.forceRefresh?this.cache.filters:streets.isProLegacyPlan()||streets.hasProPlusAccess()?t||(t=this.net.GET("!{cloud}/v3/mutefilters").then(JSON.parse).then((async e=>(this.cache.filters=await(0,n.xG)(e),e))),(0,r.Z)(l.service,l.listFilters,t),t):(this.cache.filters=null,[])}async askListFiltersForFeed(e){const{isAll:t}=(0,i.Yg)(e);return(await this.askListFilters()).filter((s=>{const{isAll:n}=(0,i.Yg)(s.streamId);return s.streamId===e||n||t}))}async askMetadata(e){if(!e)throw new Error("Missing required Mute Filter parameter `id`.");let t=e;for(;this.cache.updatedIds[t];)t=this.cache.updatedIds[t];return this.askListFilters().then((e=>e.find((e=>e.id===t)))).then((e=>{if(!e)throw new Error("Mute Filter not found. id="+t);return e}))}async askSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.streamId||!e.term)throw new Error({errorMessage:"Missing required Mute Filter property `streamId` or `term`."});return this._askSave(e).then((()=>{this.cache.filters=null,this.fire("onMuteFiltersChanged")}))}async askUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,streamId:s,term:n}=e;if(!t||!s||!n)throw new Error("Missing required Mute Filter property `id`, `streamId`, or `term`.");const{streamId:r,term:o}=(0,a.R)(t);if((n.id?n.id!==o.id:n.text!==o.text)||s!==r){this.cache.updatedIds[r]=(0,a.s)(e);const{isEnterprise:s}=(0,i.Yg)(r);s?await streets.service("enterprisemutefilters").askDelete(t):(await this._askDelete(t),this.fire("onMuteFilterChanged",t))}await this._askSave(e),this.cache.filters=null,this.fire("onMuteFiltersChanged")}async _askDelete(e){const{streamId:t,term:s}=(0,a.R)(e);if(!t||!s.id&&!s.text)throw new Error("Error deleting Mute Filter with id: ".concat(e));return this.net.PUT("!{cloud}/v3/mutefilters",{streamId:t,term:s,delete:!0})}_askSave(e){let{active:t,duration:s,salience:n,streamId:i,term:r}=e;return this.net.PUT("!{cloud}/v3/mutefilters",{active:t,duration:s,salience:n,streamId:i,term:r})}_resetCache(){this.cache={filters:null,updatedIds:{}}}}function d(e){return new c(e)}},20481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(35330),i=s(74221),r=s(61861),a=s(83168),o=s(7761);const l=Object.freeze({service:"PersonalPriorities",listPriorities:"askListPriorities"});class c extends a.y{setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setCollections(e){this.collections=e}setLeo(e){this.leo=e}setReader(e){this.reader=e}load(){this.cache={}}unload(){this.cache={},this.net=null,this.enterprise=null,this.collections=null,this.leo=null,this.reader=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}async askRefresh(){this.cache={}}askDelete(e){return this._askDelete(e).then((()=>{this.cache.priorities=null,this.fire("onPriorityChanged",e),this.fire("onPrioritiesChanged")}))}async askListPriorities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!await this.leo.askIsLeoEnabled())return this.cache.priorities=null,[];let t=(0,r.Z)(l.service,l.listPriorities);if(this.cache.priorities&&!e.forceRefresh)return(0,n.xf)(this.cache.priorities);if(t){const s=await t;return await(0,n.xf)(s,e)}return t=this.net.GET("!{cloud}/v3/priorities").then(JSON.parse).then((async t=>(this.cache.priorities=await(0,n.xf)(t,e),e.forceRefresh&&this.fire("onPrioritiesChanged",e),this.cache.priorities))),(0,r.Z)(l.service,l.listPriorities,t),t}async askSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.layers)throw new Error("Missing required property `layers`.");return this._askSave(e).then((t=>(this.cache.priorities=null,this.fire("onPrioritiesChanged"),e.id&&this.fire("onPriorityChanged",e.id),t.id)))}async askUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,...s}=e;if(!t||!e.layers)throw new Error("Missing required properties: `id` and `layers`.");const n=await this._askSave(s),{isEnterprise:r}=(0,i.Yg)(t);r?await streets.service("enterprisepriorities").askDelete(t):(await this._askDelete(t),this.fire("onPriorityChanged",t,n.id)),this.cache.priorities=null,this.fire("onPrioritiesChanged")}_askDelete(e){return this.net.DEL("!{cloud}/v3/priorities/".concat(encodeURIComponent(e),"?reset=true"))}async _askSave(e){return await this.net.POST("!{cloud}/v3/priorities",e).then(JSON.parse).then((async e=>(await this.reader.askRefreshUnreadCounts(),e.find((e=>e.status&&(e.status===o.OZ.created||e.status===o.OZ.duplicate||e.status===o.OZ.updated))))))}}function d(e){return new c(e)}},73017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(35330),i=s(74221),r=s(83168),a=s(3167),o=s(85251);class l extends r.y{setNet(e){this.net=e}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}load(){this.cache={tags:null}}async onUserIdentified(){this.cache={tags:null}}async onNoUserIdentified(){this.cache={tags:null}}unload(){this.reader.unregisterObserver(this),this.preferences.unregisterObserver(this),this.net=null,this.preferences=null,this.reader=null}async askRefresh(){this.cache={}}onNewTagDiscovered(){this.cache.tags=null,this.fire("onTagsChanged")}onPreferenceChanged(e){e===a.As.personalTags&&this.fire("onBoardsOrderChanged")}async askDeleteTag(e){return this.cache.tags=null,await this.net.DEL("!{cloud}/v3/tags/".concat(encodeURIComponent(e))),this.fire("onTagChanged",e),this.fire("onTagsChanged"),!0}async askListTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return streets.getUserId()?this.cache.tags&&!e.ignoreCache?this._filterTags(await(0,n.RC)(this.cache.tags),e):(this._askListUnfilteredTagsPromise||(this._askListUnfilteredTagsPromise=this.net.GET("!{cloud}/v3/boards").then(JSON.parse).then((async e=>{const t=(0,o.Z7)(e);return this._askListUnfilteredTagsPromise=null,this.cache.tags=await(0,n.RC)(t),this.cache.tags})).catch((e=>{throw this._askListUnfilteredTagsPromise=null,e}))),this._askListUnfilteredTagsPromise.then((()=>this._filterTags(this.cache.tags,e)))):[]}async askListRankedTags(){const e=await this.askListTags(),t=JSON.parse(this.preferences.getPreference(a.As.personalTags));return t?(0,o.CI)(e,t):e}async askLookupTag(e,t){if(!e)throw new Error("tagId is required");const{isAnnotated:s,isAllTag:n}=(0,i.Yg)(e);if(n){const s=(await this.reader.askUnreadCountsIndex(t))[e];return{id:e,streamId:e,label:"All",unreadCount:s}}if(s){const s=(await this.reader.askUnreadCountsIndex(t))[e];return{id:e,streamId:e,label:"Annotated",unreadCount:s}}return(await this.askListTags(t)).find((t=>t.id===e))}async askMetadata(e){if(e){if(e.indexOf("tag/global.all")>-1)return{id:e,streamId:e,label:"All"};if(e.indexOf("tag/global.read")>-1)return{id:e,streamId:e,label:"Recently Read"};if(e.indexOf("tag/global.saved")>-1)return{id:e,streamId:e,label:"Read later"};if(e.indexOf("tag/global.unsaved")>-1)return{id:e,streamId:e,label:"Unsaved"}}return this.askLookupTag(e,{cachedUnreadCountsOnly:!0})}async askSave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t,label:s,...n}=e;if(!s)throw new Error("The label is required.");if(!t){const e=await this.askListTags({excludeGlobal:!0});let t=s,n=e.find((e=>e.label===t)),i=2;for(;n;)t=s+" "+i++,n=e.find((e=>e.label===t));s=t}n.isPublic&&streets.hasBusinessAccess()&&(n.showHighlights=!1,n.showNotes=!1);const i=await this.net.POST("!{cloud}/v3/boards/".concat(t?encodeURIComponent(t):""),{...n,label:s}).then(JSON.parse);return this.cache.tags=null,this.fire("onTagChanged",t),this.fire("onTagsChanged"),t||i[0].id}async askSaveCoverImage(e,t){const s=new FormData;s.append("cover",t),await this.net.POST("!{cloud}/v3/boards/".concat(encodeURIComponent(e)),s),this.cache.tags=null,this.fire("onTagChanged",e),this.fire("onTagsChanged")}_filterTags(e,t){if(!e)return null;const s=[];let n;for(let i=0;i<e.length;i++)e[i].id.indexOf("global.")>-1?n=e[i]:s.push(e[i]);return s.sort(((e,t)=>e.label.localeCompare(t.label))),!t.excludeGlobal&&n&&s.unshift(n),s}}function c(e){return new l(e)}},73329:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(83168),i=s(15454);class r extends n.y{setAnalytics(e){this.analytics=e}load(){this.cache={}}unload(){this.cache={},this.analytics=null}async onUserIdentified(){this.cache={}}async onNoUserIdentified(){this.cache={}}pinImage(e,t){let{alternateLink:s,imageTitle:n}=t;const r=screen.height,a=screen.width,o=Math.round(a/2-300);let l=0;r>300&&(l=Math.round(r/2-150));const c=window.open("about:blank","","left="+o+",top="+l+",width=600,height=300,personalbar=0,toolbar=0,scrollbars=1,resizable=1");if(null==c)return void(0,i.d)();c.focus();let d="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(s)+"&media="+encodeURIComponent(e);null!=n&&(d+="&description="+encodeURIComponent(n)),c.location=d,this.analytics.trackEvent("sharing","pinterest")}}function a(e){return new r(e)}},20689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(47169),i=s(51239),r=s(38916),a=s(83168);class o extends a.y{constructor(){super(...arguments),(0,n.Z)(this,"askAddToPocket",(async e=>{try{const t=await this.net.POST("!{cloud}/v3/pocket/add",{entryId:e}),s=this.reader.lookupEntry(e);if(s){const{pageUrl:e="http://getpocket.com/a/queue/list/"}=t;s.setDecoration(i.I.pocket,e),s.metadata.isSavedToPocket=!0}this.reader.fire("onDecorationChanged",e,i.I.pocket),this.fire("onPocketAdded",e)}catch(t){throw 403===t.errorCode&&(this._addAfterConnected=e,await this.integrations.askDisconnect(r.bK.pocket),this.integrations.connect(r.bK.pocket)),t}}))}setIntegrations(e){this.integrations=e}setNet(e){this.net=e}setReader(e){this.reader=e}load(){this._addAfterConnected=null}unload(){this._addAfterConnected=null,this.integrations=null,this.net=null,this.reader=null}async onConnected(){this._addAfterConnected&&(await this.askAddToPocket(this._addAfterConnected),this._addAfterConnected=null)}}function l(e){return new o(e)}},20370:(e,t,s)=>{"use strict";s.r(t),s.d(t,{STAR_FEATURE:()=>x,default:()=>B});var n=s(47169),i=s(32735),r=s(12788),a=s(60216),o=s.n(a),l=s(94773);const c=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.419 10.333a.5.5 0 0 1 .498.502c-.005 1.103.262 1.88.753 2.389.489.508 1.28.833 2.507.86a.5.5 0 0 1-.012 1c-1.123-.005-1.882.293-2.379.8-.502.512-.812 1.315-.87 2.474a.5.5 0 0 1-1-.02c-.01-1.097-.26-1.89-.74-2.41-.474-.512-1.25-.845-2.51-.845a.5.5 0 0 1-.006-1c1.131-.016 1.923-.296 2.433-.789.507-.49.82-1.268.824-2.463a.5.5 0 0 1 .502-.498Zm-.005 2.842A3.279 3.279 0 0 1 4.01 14.57a3.221 3.221 0 0 1 1.443 1.48c.165-.323.37-.614.619-.867.234-.239.5-.437.793-.596a3.272 3.272 0 0 1-1.453-1.412ZM12.501 1.167a.5.5 0 0 1 .499.5v.044c0 1.735.425 3.011 1.249 3.867.83.862 2.144 1.38 4.095 1.422a.5.5 0 0 1-.013 1c-1.795-.007-3.058.47-3.899 1.327-.846.864-1.34 2.189-1.433 4.031a.5.5 0 0 1-.999-.02c-.016-1.741-.414-3.056-1.227-3.935C9.967 8.532 8.673 8 6.667 8a.5.5 0 0 1-.007-1c1.791-.025 3.108-.502 3.977-1.356.86-.844 1.355-2.13 1.363-3.936v-.043a.5.5 0 0 1 .501-.498Zm-.016 3.454a5.09 5.09 0 0 1-1.147 1.737 5.21 5.21 0 0 1-1.73 1.112c.76.288 1.393.706 1.899 1.254.463.5.805 1.092 1.043 1.757a5.394 5.394 0 0 1 1.169-1.854 4.982 4.982 0 0 1 1.707-1.13c-.751-.286-1.385-.693-1.897-1.225a4.968 4.968 0 0 1-1.044-1.65Z",fill:"currentColor"}))}));var d=s(53670),h=s(2772),u=s(44205),p=s(40841),m=s.n(p),g=s(763),f=s(85694);class y extends i.Component{render(){const{children:e,className:t,isClosing:s,kicker:n,onClose:r,showCloseButton:a}=this.props;return i.createElement("div",{className:m()("DockedPopup",t,{"DockedPopup--closing":s})},a&&i.createElement(d.z,{className:"DockedPopup__close-button",importance:"tertiary",icon:i.createElement(g.Z,{className:"DockedPopup__close-icon",importance:"secondary"}),onClick:r}),i.createElement(f.H,null,n),e)}}y.propTypes={children:o().node,className:o().string,isClosing:o().bool,kicker:o().oneOfType([o().element,o().string]),onClose:o().func,showCloseButton:o().bool},y.defaultProps={children:void 0,className:void 0,isClosing:!1,kicker:void 0,onClose:void 0,showCloseButton:!1};class v extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_onCloseClick",(()=>{const{onCloseClick:e}=this.props;this.setState({isClosing:!0},(()=>{e()}))})),this.state={isClosing:!1}}render(){const{illustrationUrl:e,onReadMoreClick:t,header:s,body:n}=this.props,{isClosing:r}=this.state;return i.createElement(y,{className:"StarFeatureDockedPopup",isClosing:r,kicker:i.createElement(i.Fragment,null,i.createElement(c,{className:"StarFeatureDockedPopup__icon",importance:"secondary"}),"What's New"),onClose:this._onCloseClick,showCloseButton:!0},i.createElement(h.H2,{className:"StarFeatureDockedPopup__heading"},s),i.createElement(u.x,{className:"StarFeatureDockedPopup__body"},n),e&&i.createElement("img",{alt:s,className:"StarFeatureDockedPopup__illustration",src:e}),i.createElement(d.z,{color:"accent",className:"StarFeatureDockedPopup__button",onClick:t},"Read More"))}}v.propTypes={body:o().string.isRequired,header:o().string.isRequired,illustrationUrl:o().string,onCloseClick:o().func,onReadMoreClick:o().func},v.defaultProps={illustrationUrl:void 0,onCloseClick:void 0,onReadMoreClick:void 0};const b=(0,l.Z)((function(e){return i.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"m4.286 4.286 11.429 11.429M15.715 4.286 4.285 15.715"})))}));function E(e){let{safeArea:t,header:s,body:n,illustrationUrl:r,onLearnMoreClick:a,onCloseClick:o}=e;return i.createElement("div",{className:"MobilePopup",style:{paddingBottom:"".concat(t,"px")}},i.createElement(d.z,{className:"MobilePopup__close",importance:"tertiary",icon:i.createElement(b,{importance:"tertiary"}),onClick:o}),i.createElement("div",{className:"MobilePopup__content"},r&&i.createElement("img",{alt:s,className:"MobilePopup__illustration",src:r}),i.createElement(h.H2,{appearance:"h3",className:"MobilePopup__header"},s),i.createElement(u.x,{className:"MobilePopup__body",color:"secondary",size:"smaller"},n),i.createElement(d.z,{className:"MobilePopup__confirm",importance:"secondary",size:"normal",color:"black",onClick:a},"Learn More")))}E.propTypes={safeArea:o().number,onLearnMoreClick:o().func,onCloseClick:o().func,header:o().string,body:o().string,illustrationUrl:o().string},E.defaultProps={safeArea:0,onLearnMoreClick:void 0,onCloseClick:void 0,header:null,body:null,illustrationUrl:null};var C=s(86576),w=s(50506),k=s.n(w);class _ extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"_afterOnChange",(e=>{const{onSubmit:t}=this.props;this._isValueSelected(e)&&"keyboard"!==k().ask()&&t(e)})),(0,n.Z)(this,"_isValueSelected",(e=>"string"==typeof e||"number"==typeof e)),(0,n.Z)(this,"_onSubmit",((e,t)=>{const{onSubmit:s}=this.props;e.preventDefault(),this._isValueSelected(t)&&s(t)}))}render(){const{children:e}=this.props,t=i.Children.only(e),{props:{onChange:s,selectedValue:n}={}}=t;return i.createElement("form",{className:"form",onSubmit:e=>{this._onSubmit(e,n)}},i.cloneElement(t,{onChange:e=>{s(e),this._afterOnChange(e)}}),i.createElement("button",{className:"screenreader-only",type:"submit",tabIndex:"-1"},"Submit"))}}_.propTypes={children:(0,C.componentWithName)("RadioGroup").isRequired,onSubmit:o().func.isRequired};var M=s(85902);class S extends i.PureComponent{constructor(e){super(e),(0,n.Z)(this,"_onBlur",(()=>{this.setState({isVisiblyFocused:!1})})),(0,n.Z)(this,"_onFocus",(()=>{"keyboard"===k().ask()&&this.setState({isVisiblyFocused:!0})})),this.state={isVisiblyFocused:!1}}render(){const{children:e,className:t,name:s,onChange:n,primary:r,selected:a,value:o}=this.props,{isVisiblyFocused:l}=this.state;let c;c=e&&i.Children.count(e)>0?e:"string"==typeof o?(0,M.kC)(o):o;const d="RadioButton-".concat(s,"-").concat(o);return i.createElement("label",{className:m()("RadioButton","RadioButton--".concat(r?"primary":"secondary"),t,{"RadioButton--checked":a,"RadioButton--focus-visible":l}),htmlFor:d},i.createElement("input",{checked:a,className:"screenreader-only",id:d,name:s,onChange:n,onBlur:this._onBlur,onFocus:this._onFocus,type:"radio"}),c)}}S.propTypes={children:o().node,className:o().string,name:o().string,onChange:o().func,primary:o().bool,selected:o().bool,value:o().oneOfType([o().string,o().number]).isRequired},S.defaultProps={children:null,className:void 0,name:"",onChange:null,primary:!1,selected:!1};var I=s(18542),T=s(18911);class N extends i.Component{constructor(e){super(e),(0,n.Z)(this,"_closePopup",(()=>{this.setState({isClosing:!0},streets.service("popups").closePopup())})),(0,n.Z)(this,"_onChangeAnswer",(e=>{this.setState({selectedAnswer:e})})),(0,n.Z)(this,"_onDismissPopup",(()=>{const{onDismissPopup:e}=this.props;this.setState({isClosing:!0},(()=>{e()}))})),(0,n.Z)(this,"_onSubmitAnswer",(e=>{const{onSubmit:t}=this.props;this.setState({hasFeedback:!0},(()=>{t(e),this._showThankYouTimer=setTimeout(this._closePopup,5e3)}))})),this.state={hasFeedback:!1,isClosing:!1,selectedAnswer:null}}componentWillUnmount(){clearTimeout(this._showThankYouTimer),this._showThankYouTimer=null}render(){const{hasFeedback:e,isClosing:t}=this.state;return i.createElement(y,{className:m()("DisappointmentSurvey",{"DisappointmentSurvey--shrink":e}),isClosing:t,kicker:"Beta feedback",onClose:this._onDismissPopup,showCloseButton:!e},this._renderBody())}_renderBody(){const{hasFeedback:e,selectedAnswer:t}=this.state,{feature:s}=this.props,{givenName:n}=streets.service("profile").getUserInfo();return e?i.createElement("div",{className:"DisappointmentSurvey__body DisappointmentSurvey__message"},i.createElement(u.x,{className:"DisappointmentSurvey__text",color:"primary"},"Thank you! Your feedback really helps us make Feedly better for you."),i.createElement("img",{alt:"Happy Leo",src:T,width:"84",height:"90"})):i.createElement("div",{className:"DisappointmentSurvey__body"},i.createElement(u.x,{className:"DisappointmentSurvey__text",color:"primary"},i.createElement("span",{className:"DisappointmentSurvey__name"},n||"Hello"),", quick question: How would you feel if you could no longer use"," ",s,"?"),i.createElement(_,{onSubmit:this._onSubmitAnswer},i.createElement(I.E,{name:"FeedbackGroup",onChange:this._onChangeAnswer,selectedValue:t},i.createElement(S,{primary:!0,value:"VERY_DISAPPOINTED"},"Very disappointed"),i.createElement(S,{primary:!0,value:"SOMEWHAT_DISAPPOINTED"},"Somewhat disappointed"),i.createElement(S,{primary:!0,value:"NOT_DISAPPOINTED"},"Not disappointed (it really isn't that useful)"))))}}N.propTypes={feature:o().string.isRequired,onDismissPopup:o().func.isRequired,onSubmit:o().func.isRequired};s(44406);var L=s(83168),P=s(3167),D=s(66380);const A="webAlertSurvey",O="websiteToRSSSurvey",x="starFeature",R="click docked popup",j="dismiss docked popup",F="show docked popup",U="docked",z="notification";class Z extends L.y{constructor(){super(...arguments),(0,n.Z)(this,"_showDockedPopup",(e=>{this._openPopupType=U,r.render(e,document.getElementById("DockedPopupContainer"))})),(0,n.Z)(this,"_showMobileNotification",(e=>{this._openPopupType=z,this.notifications.showNotification(e,null,document.getElementById("PopupContainer"))}))}setAlerts(e){this.alerts=e}setAnalytics(e){this.analytics=e}setNewfeatures(e){this.newfeatures=e}setNotifications(e){this.notifications=e}setPreferences(e){this.preferences=e}setResize(e){this.resize=e}setSheets(e){this.sheets=e}setWebsitefeeds(e){this.websitefeeds=e}load(){var e;this.newfeatures.registerObserver(this),this._displayMode=(null===(e=this.resize)||void 0===e?void 0:e.getDisplayMode())||null}unload(){this.openPopupName&&this.closePopup(this.openPopupName),clearTimeout(this._animationTimer),this._animationTimer=null,this._displayMode=null,this.openPopupName=null,this._openPopupType=null,this.newfeatures.unregisterObserver(this),this.alerts=null,this.analytics=null,this.newfeatures=null,this.notifications=null,this.preferences=null,this.sheets=null,this.websitefeeds=null}async onUserIdentified(){this._askShowPopup()}onStarFeatureEntryChanged(){this._askShowPopup()}closePopup(e){e&&this.openPopupName!==e||(this._openPopupType===z?this.notifications.clearNotification(!1,document.getElementById("PopupContainer")):this._animationTimer=setTimeout((()=>r.unmountComponentAtNode(document.getElementById("DockedPopupContainer"))),750),this.openPopupName=null,this._openPopupType=null)}async _askSurveyPopup(){if(await this.alerts.askShowSurveyPopup()){return{alertSurveyPopup:i.createElement(N,{feature:"Web Alerts",onDismissPopup:()=>{this.preferences.getPreference(P.ce)===D.b&&this.sheets.askSaveAlertSurvey("NONE"),this._trackPopupAction(j),this.closePopup()},onSubmit:e=>{this.sheets.askSaveAlertSurvey(e),this._trackPopupAction(R,e),this.alerts.submitSurveyFeedback(e)}})}}if(await this.websitefeeds.askShowSurveyPopup()){return{websiteToRSSSurveyPopup:i.createElement(N,{feature:"the RSS Builder",onDismissPopup:()=>{this.preferences.getPreference(P.Ob)===D.b&&this.websitefeeds.submitSurveyFeedback("NONE"),this._trackPopupAction(j),this.closePopup()},onSubmit:e=>{this._trackPopupAction(R,e),this.websitefeeds.submitSurveyFeedback(e)}})}}return{}}async _askStarFeaturePopup(){const e=await this.newfeatures.askShowStarFeaturePopup(),t=v;if(e){const{body:e,header:s,illustrationUrl:n}=this.newfeatures.askStarFeatureInfo();return i.createElement(t,{body:e,header:s,illustrationUrl:n,onCloseClick:()=>{this._trackPopupAction(j),this.closePopup(),this.newfeatures.updateNewFeaturesLastClickTime()},onReadMoreClick:()=>{this._trackPopupAction(R),this.closePopup(),this.newfeatures.openStarFeatureEntry()}})}return null}async _askShowPopup(){if(this.openPopupName===A||this.openPopupName===O)return;const[{alertSurveyPopup:e,websiteToRSSSurveyPopup:t},s]=await Promise.all([this._askSurveyPopup(),this._askStarFeaturePopup()]);let n;e?n=A:t?n=O:s&&(n=x),!n||this.openPopupName&&n===this.openPopupName||(this.openPopupName=n,this._trackPopupAction(F),e?this._showDockedPopup(e):t?this._showDockedPopup(t):s&&this._showDockedPopup(s))}_trackPopupAction(e,t){const s=this.openPopupName===x?this.newfeatures.getCurrentNewFeatureHeader():this.openPopupName;this.analytics.trackNewFeaturesEvent(s,e,{opt_label:t})}}function B(e){return new Z(e)}},7736:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(47169),i=s(77469),r=s(83168),a=s(28514),o=s(99220),l=s(3167),c=s(35278),d=s(8142);const h=["entryNavigation","entrySort","hideReadArticlesFilter",l.zG];class u extends r.y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";super(),this.pageContext=e,this.preferenceNames=h.concat("mobile"===t?l.J4:l.aR)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}load(){this._updateState()}unload(){this.preferences.unregisterObserver(this),this.preferences=null}onPreferenceChanged(e,t,s){if(this.pageContext===s)this.state[e]=t,this.fire("onPagePreferencesChanged",this.getState(),e);else if(h.includes(e)){const t=this.preferences.getPreference(e,this.pageContext);this.state[e]!==t&&(this.state[e]=t,this.fire("onPagePreferencesChanged",this.getState(),e))}}getState(){return{...this.state}}update(e,t,s){this.preferences.askSetPreference(e,t,this.pageContext,s),s&&(this.state[e]=t)}_updateState(){this.state={},this.preferenceNames.forEach((e=>{this.state[e]=this.preferences.getPreference(e,this.pageContext)}))}}const p=u;var m=s(75200),g=s(44970),f=s(907),y=s(94197),v=s(35307),b=s(61142),E=s(36728),C=s(13931),w=s(69065),k=s(9722),_=s(79987),M=s(68130),S=s(2121),I=s(94600);class T extends r.y{constructor(){super(...arguments),(0,n.Z)(this,"queue",[]),(0,n.Z)(this,"content",{}),(0,n.Z)(this,"ready",!1),(0,n.Z)(this,"changeLog",{}),(0,n.Z)(this,"saveTimeout",null),(0,n.Z)(this,"legacy",!1),(0,n.Z)(this,"metaBySection",null)}setNet(e){this.net=e}load(){this.meta={welcomed:{label:"Welcome Version",description:"Has the user been welcomed and if so using which version of the WelcomeArea",defaultValue:"0",kind:"kind.version",ui:{size:10},internal:!0,global:!0},enjoyed:{label:"Enjoyed Promotion",description:"Enjoying Feedly? If so, please add a review to help us get in the best rated add-ons list",defaultValue:"0",kind:"kind.text",ui:{size:10},internal:!0,global:!0},googType:{label:"Google User Type",description:"Internal preference used to remember if we are dealing with a goog, goop or others",defaultValue:"",kind:"kind.text",ui:{size:10},internal:!0,global:!0},agent:{label:"Agent",description:"which agent was used to create the user? google, sites, netvibes, bloglines or blank",defaultValue:"",kind:"kind.text",ui:{size:10},internal:!0,global:!0},categoriesOrderingId:{label:"Categories Order",description:"JSON serialization of the orders the categories should be displayed - using id format.",defaultValue:"[]",ui:{size:40},internal:!0},indexOptimization:{label:"Index Optimization",description:"Version information used for index creation and data model optimization. Gets incremented during auto-upgrade",kind:"kind.text",defaultValue:"0",ui:{size:40},internal:!0},suggestoSyncInterval:{label:"",description:"How often should suggesto fetch a new set of suggestions from the server?",kind:"kind.number",ui:{size:7},defaultValue:864e5,internal:!0},autoMarkAsReadDelay:{label:"",description:"",kind:"kind.number",defaultValue:1e3,internal:!0},recentlySearchedTopics:{label:"",description:"",defaultValue:[],internal:!0},language:{defaultValue:"",description:"",internal:!0,kind:"kind.select",label:"Language",options:Object.entries(I.As).map((e=>{let[t,s]=e;return{label:s,value:t}}))},alertPopupCount:{label:"",description:"The number of times we have asked for feedback on the first Leo Web Alert",kind:"kind.number",defaultValue:0,internal:!0},firstAlertId:{label:"",description:"The id of the first created Leo Web Alert",kind:"kind.number",defaultValue:0,internal:!0},lastAlertPopupDate:{label:"",description:"The last time we asked for feedback on the first Leo Web Alert",kind:"kind.number",defaultValue:0,internal:!0},lastLeoFeedbackDate:{label:"",description:"The last time Leo feedback was given (date in ms)",kind:"kind.number",defaultValue:0,internal:!0},lastLeoSuggestionDate:{label:"",description:"The last time a Leo suggestion was shown (date in ms)",kind:"kind.number",defaultValue:0,internal:!0},[l.RO]:{label:"Start Page",description:"Which page would you like Feedly to load when you start Feedly?",defaultValue:l.JP.Today,kind:"kind.select",options:[{value:l.JP.Today,label:"Today"},{value:l.JP.FirstPersonalFeed,label:"First Feed"},{value:l.JP.All,label:"All"}],contexts:[],section:"general"},"entryOverviewSize.desktop":{label:"Default Presentation",description:"Change the presentation setting of all your feeds and boards.",kind:"kind.select",options:[{value:"0",label:"Titles-Only View"},{value:"4",label:"Magazine View"},{value:"5",label:"Cards View"},{value:"100",label:"Article View"}],defaultValue:{latest:"0",tag:"4",saved:"4",other:"4"},contexts:[],global:!1,section:"general"},[l.J4]:{label:"Mobile Presentation",description:"Change the presentation setting of all your feeds and boards",kind:"kind.select",options:[{value:"0",label:"Text Only"},{value:"4",label:"Magazine View"},{value:"5",label:"Cards View"}],defaultValue:"4",contexts:[],global:!1,internal:!0},[l.zG]:{label:"Mobile Density",description:"Change presentation density of all your feeds and boards",kind:"kind.select",options:[{value:l.AM.comfortable,label:"Comfortable"},{value:l.AM.comfortable,label:"Compact"}],defaultValue:l.AM.comfortable,contexts:[],global:!1,internal:!0},"theme.mobile":{label:"Mobile Theme",description:"Select between the default day theme or the darker night theme",kind:"kind.select",options:[{value:l.z0.day,label:"Day Theme"},{value:l.z0.night,label:"Night Theme"}],defaultValue:l.z0.day,contexts:[],global:!1,internal:!0},[l.yH]:{label:"Mobile Article Animation",description:"What animation should we use to open and close articles?",kind:"kind.select",options:[{value:l.iF.expand,label:"Expand"},{value:l.iF.slide,label:"Slide"}],defaultValue:l.iF.expand,contexts:[],global:!1,internal:!0},[l.NL]:{label:"Mobile Scroll",description:"How would you like your list of articles to scroll?",kind:"kind.select",options:[{value:l.Ml.smooth,label:"Smooth"},{value:l.Ml.paged,label:"Paged"}],defaultValue:l.Ml.smooth,contexts:[],global:!1,internal:!0},entrySort:{label:"Default Sort",description:"Change the sort setting of all your feeds and boards.",kind:"kind.select",options:[{value:"most popular",label:"Most popular"},{value:"popular + latest",label:"Most popular + latest"},{value:"latest",label:"Latest"},{value:"oldest",label:"Oldest"}],defaultValue:"popular + latest",contexts:[],global:!1,section:"general"},hideReadArticlesFilter:{label:"Hide Read Articles",description:"Control if Feedly shows or hides articles after you have had the chance to mark them as read. You can overwrite it for each feed and board.",kind:"kind.select",options:[{value:"on",label:"Hide"},{value:"off",label:"Show"}],defaultValue:{"label/feedly.saved":"off","label/feedly.history":"off",other:"on"},type:"filter",contexts:[],global:!1,section:"general"},[l.j$]:{label:"Hide Empty Feeds in Left Navigation",description:"Should Feedly hide feeds with no unread articles from the left navigation bar?",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],defaultValue:"show",contexts:[],global:!1,section:"general"},[l.dY]:{label:"Hide Empty Board Placeholder in Left Navigation",description:"Should Feedly hide the empty board placeholder from the left navigation bar?",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],contexts:[],global:!0,internal:!1,section:"general"},exploreStream:{label:"Today Explore Tab",description:"Should we show the Explore tab on the Today page?",defaultValue:"on",type:"select",kind:"kind.select",options:[{value:"on",label:"Show"},{value:"off",label:"Hide"}],contexts:[],global:!1,internal:!1,section:"general"},greenDotsTutorial:{label:"Green Tutorial Dots",description:"Should we display tutorial dots to give information about Feedly?",defaultValue:"on",type:"select",kind:"kind.select",options:[{value:"on",label:"Show"},{value:"off",label:"Hide"}],contexts:[],global:!1,internal:!1,section:"general"},proPlusUpgradeButton:{label:"Pro+ Upgrade Button",description:"Should we display the Pro+ upgrade button in the top bar of your Feedly? (Pro users only)",defaultValue:"on",type:"select",kind:"kind.select",options:[{value:"on",label:"Show"},{value:"off",label:"Hide"}],contexts:[],global:!1,internal:!1,section:"general"},sortEntriesBy:{label:"Sort By",description:"Feedly offers tree different river templates: <b>bySubscription</b> provides a list of articles broken down by subscription. <b>byTime</b> provides the list of the latest articles from your favorite subscriptions ordered by time. <b>byTime</b> works well if you have a large number of subscriptions ( > 20 )",defaultValue:{preview:"byTime",subscription:"byTime",latest:"byTime",river:"byTime",other:"byTime"},kind:"kind.select",options:[{value:"bySubscription",label:"By Subscription"},{value:"byTime",label:"By Time"}],contexts:["latest","category"],global:!1,internal:!0},[l.BF]:{label:"Theme",description:"Which theme would you like to use for the Feedly website?",kind:"kind.select",options:[{value:l.Bd.light,label:"Light theme"},{value:l.Bd.dark,label:"Dark theme"}],defaultValue:l.Bd.light,global:!0,section:"reading experience"},entryFontFamily:{label:"Font Family",description:"Which font should we use for the body of articles?",defaultValue:"merriweather",kind:"kind.select",options:S.BD.map((e=>({label:S.ph[e],value:e}))),section:"reading experience"},fontSize:{label:"Text Size",description:"Which font size should we use for the body of articles?",defaultValue:8,kind:"kind.select",options:[{value:7,label:"Small"},{value:8,label:"Medium"},{value:9,label:"Large"},{value:10,label:"Extra Large"}],section:"reading experience"},displayDensity:{label:"Display Density",description:"How dense should the list view be?",kind:"kind.select",options:[{value:24,label:"Compact (densest)"},{value:29,label:"Cozy"},{value:34,label:"Comfortable"}],defaultValue:29,contexts:[],global:!0,section:"reading experience"},oldestFirstKnob:{label:"Sort By Oldest",description:"Should Feedly list articles sorted by the oldest ones first?",defaultValue:"no",type:"filter",contexts:["cover","latest","category","subscription"],global:!1,internal:!0},tagList:{label:"Tags",description:"Comma delimited list of tags you would like to be able to assign to articles when you collect them for later",kind:"kind.text",ui:{size:100},defaultValue:"",contexts:[],global:!1,internal:!0},entryNavigation:{label:"Navigation",description:"What would you like Feedly to do when you click on the title of an article? ",defaultValue:"inline",type:"select",kind:"kind.select",options:[{value:"inline",label:"Expand Article Inline"},{value:"preview-only",label:"Open Preview Dialog"},{value:"preview",label:"Inline if complete article, preview if summary"},{value:"visit",label:"Visit Website"}],contexts:["subscription"],global:!1,internal:!0},defaultViewer:{label:"View Original",description:"Where would you like Feedly to open the original articles?",defaultValue:"website",type:"select",kind:"kind.select",options:[{value:"website",label:"in separate tab"},{value:"preview",label:"in preview dialog"}],global:!0,internal:!0},[l.sf]:{label:"Show Priorities in Left Navigation",description:"Should priorities be listed in the left navigation bar?",defaultValue:"all",type:"select",kind:"kind.select",options:[{value:"all",label:"All Priorities"},{value:"createdByUserOnly",label:"Priorities I Created Only"},{value:"globalOnly",label:"Global Priorities Only"},{value:"none",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.Ic]:{label:"Show Empty Priorities in Left Navigation",description:"Should Feedly show priorities with no unread articles from the left navigation bar?",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],defaultValue:"no",contexts:[],global:!1,section:"leo"},[l.yq]:{label:"Deduplication of identical articles",description:"Should Leo remove near-exact duplicate articles from your feeds? (Part of Feedly Pro+)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.xV]:{label:"Clustering of related articles",description:"Should Leo group articles related to the same story (Part of Feedly Pro+)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.Sd]:{label:"Inline Entities",description:"Should Leo highlight entities in your articles?",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.d0]:{label:"Leo Concepts Prompts",description:"Show, at the top and bottom of articles, insights into what topics and business events Leo has associated with the article",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.pl]:{label:"Leo Satisfaction Prompts",description:"Show periodic prompts in your feeds to collect feedback about Leo",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.$h]:{label:"Leo Upgrade Prompts",description:"Show sporadic contextual prompts in feeds where Leo can help improve the signal to noise ratio",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.oH]:{label:"Leo Summary Highlights",description:"Should Leo highlight important sentences in your articles? (Pro+ and Enterprise only)",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"leo"},[l.KZ]:{label:"Default Leo Web Alert Sources",description:"Which sources would you like defaulted in Leo Web Alerts?",defaultValue:i.AM.auto,type:"select",kind:"kind.select",options:[{value:i.AM.auto,label:"Auto (Based on Enterprise Plan)"},{value:i.AM.industryIntelligence,label:"Industry Intelligence Mode"},{value:i.AM.cybersecurity,label:"Cybersecurity Mode"}],contexts:[],global:!0,internal:!0,section:"leo"},enableAnnotations:{label:"Notes (Pro+ and Enterprise feature)",description:"Show notes at the top of each article? Pick 'No' if you do not use that feature and want to save some space.",defaultValue:"yes",type:"select",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing"},wordpressUrlPrefix:{label:"Share to WordPress URL (Pro feature)",description:"What is the URL of the WordPress blog to which you want to be able to save excerpts? example: http://blog.example.com",defaultValue:"",kind:"kind.text",contexts:[],global:!0,internal:!1,section:"saving and sharing",icon:m.Z},customSharing:{label:"Custom Sharing (Pro feature)",description:"Add a custom sharing tool to your Feedly. Feedly will open a popup with this URL. Use ${url}, ${source}, ${title} and ${id} to parametrize the URL with the article info. Example: http://pinboard.in/add?url=${url}&title=${title}",defaultValue:"",kind:"kind.text",contexts:[],global:!0,internal:!1,section:"saving and sharing",icon:g.Z},enableCustomSharing:{label:"Custom Sharing",description:"Should we show the Custom sharing option?",kind:"kind.table",master:!0,table:"sharingServices",defaultValue:"false",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"sharing-custom",icon:g.Z},enableEvernote:{label:"Evernote",description:"Should we show the Evernote sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"clipper",icon:f.Z},enableInstapaper:{label:"Instapaper",description:"Should we show the Instapaper sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"addinstapaper",icon:y.Z},enablePocket:{label:"Pocket",description:"Should we show the Pocket sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"addtopocket",icon:v.Z},enableOneNote:{label:"OneNote",description:"Should we show the OneNote sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,section:"saving and sharing",img:"onenote.v2",icon:b.Z},enableTwitter:{label:"Twitter",description:"Should we show the Twitter sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"twitter",icon:E.Z},enableFacebook:{label:"Facebook",description:"Should we show the Facebook sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"facebook.v2",icon:C.Z},enableLinkedIn:{label:"LinkedIn",description:"Should we show the LinkedIn sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"lin",icon:w.Z},enableBuffer:{label:"Buffer",description:"Should we show the Buffer sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"buffer",icon:k.Z},enableEmail:{label:"Email",description:"Should we show the email sharing option?",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"mail",icon:_.Z},enableBlogger:{label:"Blogger",description:"Should we show the blogger sharing option? (requires Feedly Pro)",kind:"kind.table",table:"sharingServices",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!0,section:"saving and sharing",icon:()=>null},enableWordPress:{label:"WordPress",description:"Should we show the wordpress sharing option? (requires Feedly Pro)",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"wordpress",icon:m.Z},enableSave:{label:"Read Later",kind:"kind.table",table:"sharingServices",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"saving and sharing",img:"save",icon:M.Z},emailClient:{label:"Email Provider",description:"Which email function would you like to use?",kind:"kind.select",defaultValue:"native",options:[{value:"gmail",label:"Gmail"},{value:"native",label:"Native Mail Client"}],contexts:[],global:!0,internal:!1,section:"saving and sharing"},pinImage:{label:"Pin or Save Images",description:"Show a toolbar on images to allow quick saving to Pinterest and Evernote?",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],section:"saving and sharing"},twitterPostfix:{label:"Twitter Postfix",description:"Message added to the articles you tweet in Feedly.",defaultValue:"",kind:"kind.text",section:"saving and sharing"},twitterHashtags:{label:"Append Hashtags",description:"Append #category #feedly to tweets. This helps us capture how articles spread across social networks and improve discovery in Feedly.",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],section:"saving and sharing"},enableShortener:{label:"Enable URL shortener",description:"The Feedly URL shortener offer rich metadata about the content you are sharing, making your tweets, facebook posts and pins more impactful.",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"partially",label:"For Twitter and Buffer only"},{value:"no",label:"No"}],global:!0,internal:!0,section:"saving and sharing"},giantMarkAsRead:{label:"Giant Mark As Read",description:"Should Feedly show a giant mark as read button at the end of each list to make it easier to mark content as read?",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],defaultValue:"yes",contexts:[],global:!1,section:"mark as read"},autoSelectOnScroll:{label:"Auto-Mark As Read On Scroll",description:"Should Feedly automatically mark articles as read when you scroll through them?",defaultValue:"inlined-only",kind:"kind.select",options:[{value:"inlined-only",label:"Full Articles View Only"},{value:"yes",label:"All Views"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},[l.yK]:{label:"Auto-Mark As Read On Scroll on Mobile",description:"Should Feedly automatically mark articles as read when you scroll through them on your mobile device?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!0,section:"mark as read"},npAutoMarkAsRead:{label:"Auto-Mark As Read On Keyboard Shortcuts",description:"Should we automatically mark articles as read as you navigate through them using n/p keyboard shortcuts?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},navigationMarkRead:{label:"Mark As Read Button In Navigation Bar",description:"Should clicking on the unread count in the navigation bar mark the section as read?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},[l.XK]:{label:"Mark All As Read Button",description:'Should clicking mark all as read show a menu with "older than" options?',defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],section:"mark as read"},contextualMenu:{label:"Contextual Menu",description:"Should Feedly display a contextual menu when you select some text while reading an article?",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Show menu"},{value:"no",label:"Hide menu"}],contexts:[],section:"general"},indexLink:{label:"Index Link",description:"Should Feedly include the index link in the left navigation bar?",kind:"kind.select",defaultValue:"no",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},integrationsLink:{label:"Integrations Link",description:"Should Feedly include the Integrations link in the left navigation bar?",kind:"kind.select",defaultValue:"yes",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},featuredArticles:{label:"Most Popular",description:"Showcase the 3 most popular articles at the top of each page.",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"mag",label:"Magazine only"},{value:"no",label:"No"}],defaultValue:"mag",contexts:[],global:!1,section:"general"},entrySliderViews:{label:"Slider",description:"Which views should use the right slider to display articles?",kind:"kind.select",options:[{label:"Card view only",value:"card"},{label:"Card view and magazine view",value:"notTitle"},{label:"Card view, magazine view, and title-only view",value:"all"},{label:"All views and enable preview when window > 1600px",value:"all+preview"}],legacyValue:"notTitle",defaultValue:"all",contexts:[],global:!0,section:"general"},teamVsPersonal:{label:"Team vs Personal",description:"Which section should be listed first in the navigation bar? (Business/Enterprise only)",kind:"kind.select",options:[{label:"Team First",value:"team-first"},{label:"Personal First",value:"personal-first"}],defaultValue:"team-first",contexts:[],global:!0,section:"general"},[l.rc]:{label:"Product Feedback",description:"Should Feedly show product feedback surveys?",kind:"kind.select",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],defaultValue:"yes",contexts:[],global:!0,section:"general"},[l.vh]:{label:"Keyboard shortcuts",description:"Should keyboard shortcuts be enabled?",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},[l.Qt]:{label:"Non-Secure Image Fallbacks",description:"Should Feedly allow images to load from non-secure sources?",defaultValue:"no",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],contexts:[],global:!0,internal:!1,section:"general"},resetFeedSorting:{label:"Reset Feed Sorting",description:"Reset feed sorting in the left navigation back to alphabetical",defaultValue:"",kind:"kind.button",buttonLabel:"Reset To Alphabetical",contexts:[],global:!0,section:"general"},customizationKey:{label:"Customization Key",description:"Special key used to customize Feedly for some experimental features.",defaultValue:"",kind:"kind.text",contexts:[],global:!0,section:"general",internal:!1},memesCustomization:{label:"Memes Customization",description:"Special key used to customize the experimental memes feature",defaultValue:"",kind:"kind.text",contexts:[],global:!0,section:"advanced",internal:!0},topics:{label:"Topic Processing Service (beta)",description:"Should Feedly process topics and display them on the homepage? <b>yes</b> or <b>no</b>. The default value is <b>yes</b>.",defaultValue:"yes",kind:"kind.select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],internal:!0,section:"advanced"},[l.Ct]:{label:"Collapse Dashboards",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[l.qm]:{label:"Collapse Leo Priorities",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[l.XV]:{label:"Collapse personal boards",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[l.$t]:{label:"Collapse personal collections",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[l.oB]:{label:"Collapse team boards",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0},[l.iG]:{label:"Collapse team collections",description:"",defaultValue:"show",kind:"kind.select",options:[{value:"hide",label:"Hide"},{value:"show",label:"Show"}],internal:!0}},this.currentTheme=this.meta[l.BF].defaultValue}initialize(){}async onUserIdentified(e){const{wave:t}=e.profile;this.legacy=t&&parseInt(t.split(".")[0])<=2016,this.content=e.preferences,this._askMigrateCollectionPreferences(),this._askMigrateTagPreferences(),this.ready=!0,this.fire("onPreferencesReady")}async onNoUserIdentified(){this.content={},this.fire("onPreferencesReady")}uninitialize(){null!=this.saveTimeout&&(window.clearTimeout(this.saveTimeout),this.saveTimeout=null,this._saveChanges())}async askRefresh(){return this.content=await this._askFetchPreferences(),!0}unload(){this.content=null,this.net=null}isPreferencePersonalized(e){return!!this._getKeyValue(e)&&this._getDefault(e)!==this._getKeyValue(e)}hasCustomization(e){const t=this.getPreference("customizationKey");return null!=t&&t.toLowerCase().indexOf(e.toLowerCase())>-1}getAll(){return this.content}isReady(){return this.ready}getSection(e){const t=this._listSections()[e],s={};for(let n=0;n<t.length;n++)s[t[n].key]=this.getPreference(t[n].key);return{preferences:t,values:s}}getTables(e){const t={};for(const s in this.meta)"kind.table"===this.meta[s].kind&&(this.meta[s].value=e[s],this.meta.key=s,t[this.meta[s].table]=t[this.meta[s].table]||[],t[this.meta[s].table].push(this.meta[s]));return t}_listSections(e){if(!this.metaBySection){this.metaBySection={};for(const t in this.meta){const s=this.meta[t];if(s.key=t,!0===s.internal||null!=e&&s.section!==e)continue;const n=s.section?s.section:"uncat";(this.metaBySection[n]||(this.metaBySection[n]=[])).push(s)}}return this.metaBySection}_getKeyValue(e){return null!=this.content&&null!=this.content[e]?this.content[e]:null}_getValue(e,t){const s=this._getKeyValue(e);return null==s?this._getDefault(e,t):s}_getLayeredKey(e,t){const s=t+"/"+e;return this._getKeyValue(s)}getEnabledSharingServices(e){const t=[];for(let s=0;s<e.length;s++){if("redef"===e[s]&&this.hasCustomization("redef")){t.push("redef");continue}const n="enable"+(e[s].charAt(0).toUpperCase()+e[s].slice(1));"yes"===this.getPreference(n)&&t.push(e[s])}return t}getPreferences(e,t){const s={};for(let n=0;n<e.length;n++){const i=e[n];s[i]=this.getPreference(i,t)}return s}getPreference(e,t){let s=null;const n=this.meta[e];return null==n?s=this._getKeyValue(e):null==n.global||!0===n.global?s=this._getValue(e,t):(t&&(s=this._getLayeredKey(e,t)),null==s&&(s=this._getKeyValue(e),"entrySort"===e&&t&&t.indexOf("/tag/")>0&&"latest"!==s&&"oldest"!==s&&(s=null)),null==s&&(s=this._getDefault(e,t))),e===l.KZ&&s===i.AM.biopharma&&(s=i.AM.industryIntelligence),e===l.J4&&"10"===s&&(s="0"),"entryOverviewSize.desktop"===e&&"9"==s&&(s="4"),"entryOverviewSize.desktop"===e&&"7"==s&&(s="6"),"entryOverviewSize.desktop"===e&&"1"==s&&(s="0"),"entryOverviewSize.desktop"===e&&"6"==s&&(s="5"),"sortEntriesBy"!==e||"byColumn"!==s&&"bySubscription"!==s||(s="byTime"),e.indexOf("enable")>-1&&!0===s?s="yes":e.indexOf("enable")>-1&&!1===s&&(s="no"),"displayDensity"===e&&(s=parseInt(s)),"entryFontFamily"!==e||"lora"!==s&&"slabserif"!==s?s:"merriweather"}isTeamFirst(){return streets.hasBusinessAccess()&&"team-first"===this.getPreference("teamVsPersonal")}_getDefault(e,t){if("entryFontFamily"===e&&streets.hasProAccess())return"itccharter";if("entrySort"===e){if(t&&(t.endsWith("global.enterprise")||t.endsWith("global.all")))return"latest"}if(e===l.zG)return streets.getEnterpriseName()?l.AM.comfortable:l.AM.compact;if(e===l.yH){const e=(0,c.$8)(d.p3);return e||((0,a.Dt)()&&!(0,a.U1)()||streets.service("resize")&&"tablet"===streets.service("resize").getDisplayMode()?l.iF.fade:l.iF.expand)}if("entryOverviewSize.desktop"===e&&null!=t){if(t.indexOf("flickr")>-1||t.indexOf("smugmug")>-1||t.indexOf(".etsy.")>-1||t.indexOf(".pinterest.")>-1)return"5";if(t.indexOf("enterprise")>0&&t.indexOf("tag")>0)return"4"}if("entrySort"===e&&t&&t.indexOf("/tag/")>0)return"latest";if("entrySort"===e&&"no"===this.getPreference("featuredArticles"))return"latest";if("entrySort"===e&&"mag"===this.getPreference("featuredArticles")&&("0"===this.getPreference("entryOverviewSize.desktop",t)||"0"===this.getPreference(l.J4,t)))return"latest";if("hideReadArticlesFilter"===e&&t&&t.indexOf("/tag/")>-1)return"off";const s=this.meta[e];if(null==s)return null;if(this.legacy&&s.legacyValue)return s.legacyValue;const n=s.defaultValue;if("object"!=typeof n)return s.defaultValue;if(null==t)return n.other;for(const i in n)if(0==t.indexOf(i))return n[i];return null!=n.other?n.other:s.defaultValue}_scheduleSaveChanges(){this.saveTimeout&&window.clearTimeout(this.saveTimeout),this.saveTimeout=window.setTimeout((()=>(this.saveTimeout=null,this._saveChanges())),500)}async _askFetchPreferences(){return this.net.GET("!{cloud}/v3/preferences").then(JSON.parse)}async _saveChanges(){try{if(!streets.getUserId())return;if(0===Object.keys(this.changeLog).length)return;await this.net.POST("!{cloud}/v3/preferences",this.changeLog)}catch(e){console.error("[preferences] failed to patch preferences",this.changeLog,e)}}askSetPreference(e,t,s,n){this.setPreference(e,t,s,n)}setPreference(e,t,s,n){if(!1===this.isReady())return void this.queue.push({preferenceName:e,value:t,context:s,silently:n});const i=this.meta[e];if(null==i)this._set(e,t);else if(null==i.global||!0===i.global||null==s)t===this._getDefault(e,s)?this._remove(e):this._set(e,t);else{const n=this._getValue(e,s),i=this._getDefault(e,s),r=s+"/"+e;t===n||null==n&&t===i?this._remove(r):this._set(r,t)}!0!==n&&this.fire("onPreferenceChanged",e,t,s)}_set(e,t){return this.content[e]=t,this.changeLog[e]=null==t?"==DELETE==":t,this._scheduleSaveChanges(),t}_remove(e){delete this.content[e],this.changeLog[e]="==DELETE==",this._scheduleSaveChanges()}async _askMigrateCollectionPreferences(){const e="categoriesOrdering";this.content.categoriesOrdering&&this._remove(e);const t=streets.service("personalcollections");(await t.askListCollections()).forEach((e=>{const t="category/".concat(e.label),s=(0,o.uu)(e.id);Object.keys(this.content).forEach((e=>{if(e.startsWith(t)){const n=e.replace(t,s);this._set(n,this.content[e]),this._remove(e)}}))}))}async _askMigrateTagPreferences(){(await streets.service("personaltags").askListTags()).forEach((e=>{const t="tag/".concat(e.id),s=(0,o.gQ)(e.id);Object.keys(this.content).forEach((e=>{if(e.startsWith(t)){const n=e.replace(t,s);this._set(n,this.content[e]),this._remove(e)}}))}))}lookupPagePreferences(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";if(!e||!e.prefContext)return null;const s=new p(e.prefContext,t);return s.setPreferences(this),s.load(),s}releasePagePreferences(e){e&&e.unload()}recordSearch(e){const t=this.getPreference(l.nN);if(!t)return void this.setPreference(l.nN,[e]);const s=t.indexOf(e);s>-1&&t.splice(s,1),t.unshift(e),this.setPreference(l.nN,t.slice(0,50))}removeSearch(e){const t=this.getPreference(l.nN),s=t.indexOf(e);s>-1&&(t.splice(s,1),this.setPreference(l.nN,t.slice(0,50)))}getFavorites(){var e;return null!==(e=JSON.parse(this.getPreference(l.As.favorites)))&&void 0!==e?e:[]}setFavorites(e){this.setPreference(l.As.favorites,JSON.stringify(e))}isFavorite(e){return this.getFavorites().includes(e)}toggleFavorite(e){const t=this.getFavorites(),s=t.indexOf(e);s>-1?t.splice(s,1):t.push(e),this.setFavorites(t)}}function N(e){return new T(e)}},81640:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(74221),i=s(83168),r=s(3167),a=s(2222),o=s(85251);class l extends i.y{setEnterprisepriorities(e){this.enterprisepriorities=e}setLeo(e){this.leo=e}setPersonalpriorities(e){this.personalpriorities=e}setReader(e){this.reader=e}setPreferences(e){this.preferences=e}load(){this.enterprisepriorities.registerObserver(this),this.preferences.registerObserver(this),this.personalpriorities.registerObserver(this)}unload(){this.enterprisepriorities.unregisterObserver(this),this.preferences.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.enterprisepriorities=null,this.personalpriorities=null,this.reader=null,this.preferences=null}onPreferenceChanged(e){e===r.As.priorities&&this.fire("onPrioritiesOrderChanged")}async askPriority(e){return(await this.askListPriorities()).find((t=>t.id===e))}askMetadata(e){return this.askPriority(e)}canBePrioritized(e){const{isCategory:t}=(0,n.Yg)(e);return e===(0,n.Gr)()||e===(0,n.N1)()||t}async askHasPriorities(e){const{priorities:t,globalPriorities:s}=await this.askListStreamPriorities(e,{cachedUnreadCountsOnly:!0,skipStreamLabel:!0});return t.length+s.length}async askListStreamPriorities(e,t){const{isEnterprise:s}=(0,n.Yg)(e);if(!this.canBePrioritized(e))return{priorities:[],globalPriorities:[]};const i=s?this.enterprisepriorities:this.personalpriorities,r=s?(0,n.Gr)():(0,n.N1)(),a=await i.askListPriorities(t);return e===(0,n.sX)()||e===(0,n.N1)()||e===(0,n.Gr)()?{priorities:a.filter((e=>!e.streamIds.includes(r))),globalPriorities:a.filter((e=>e.streamIds.includes(r)))}:{priorities:a.filter((t=>t.streamIds.includes(e))),globalPriorities:a.filter((e=>e.streamIds.includes(r)))}}async askListPriorities(e){const[t,s]=await Promise.all([this.personalpriorities.askListPriorities(e),this.enterprisepriorities.askListPriorities(e)]);return(0,o.Kn)([...s,...t])}async askListRankedPriorities(){const e=this.preferences.getPreference(r.sf);if("none"===e)return[];let t=await this.askListPriorities();t=t.filter((e=>e.isFollowingStream)),e===r.Zu.globalOnly&&(t=t.filter((e=>e.isGlobal))),e===r.Zu.createdByUserOnly&&(t=t.filter((e=>!(0,n.Yg)(e.id).isEnterprise||e.createdBy===streets.getUserId())));const s=JSON.parse(this.preferences.getPreference(r.As.priorities));return s?(0,o.Cl)(t,s):t}async askMovePriorities(e,t){if(!e||!t)throw new Error("The `fromCollectionId` and `toCollectionId` are required.");const{priorities:s}=await this.askListStreamPriorities(e),{isEnterprise:i}=(0,n.Yg)(e),{isEnterprise:r}=(0,n.Yg)(t),o=i===r,l=r?this.enterprisepriorities:this.personalpriorities;await Promise.all(s.map((e=>!(o||!(0,a.Bv)(e))||l.askUpdate({...e,streamIds:[t]}))))}async askHasPrioritiesAccess(e){return!!(e?await this.askHasPriorities(e):(await this.askListPriorities()).length)||this.preferences.hasCustomization(r.E2)}}function c(e){return new l(e)}},57078:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(47169),i=s(87753),r=s(7757),a=s(3171),o=s(38916),l=s(83168),c=s(28514),d=s(8199),h=s(80889),u=s(77157);class p extends l.y{constructor(){super(...arguments),(0,n.Z)(this,"feedlyProfile",{}),(0,n.Z)(this,"wasIdentified",!1)}setAlerts(e){this.alerts=e}setNet(e){this.net=e}setEnterprise(e){this.enterprise=e}setPriorities(e){this.priorities=e}load(){}initialize(){}loadProfile(e){this.feedlyProfile=null!=e?e:{},this.wasIdentified=!0}async onUserIdentified(){window.setTimeout((()=>{this.fire("onProfileChanged",this.feedlyProfile)}),10)}async onNoUserIdentified(){window.setTimeout((()=>{this.fire("onProfileChanged",this.feedlyProfile)}),10)}onUserUpgraded(e){this.feedlyProfile=null!=e?e:{},this.fire("onProfileChanged",this.feedlyProfile),this.fire("onProfileUpgraded",this.feedlyProfile)}uninitialize(){}unload(){this.net=null,this.enterprise=null}askRefresh(){return this.askRefreshUserInfo()}onSessionUpdated(){this.askRefreshUserInfo()}getBestName(){const{familyName:e,fullName:t,givenName:s}=this.feedlyProfile;if(s&&e)return"".concat(s," ").concat(e);if(t)return t;if(s||e){const t=[];return s&&t.push(s),e&&t.push(e),t.join(" ")}return""}getUserInfo(){if(!this.wasIdentified)throw new Error("not ready");return this.feedlyProfile}getUrlDecoration(){const{id:e,enterpriseName:t="-",email:s="-",wave:n}=this.feedlyProfile,i=streets.getPlan();if(!e)return"id=visitor";const r=this.enterprise.getCachedTeamSizeHint();return"id=".concat(encodeURIComponent(e),"&plan=").concat(encodeURIComponent(i),"&enterprisename=").concat(encodeURIComponent(t),"&teamsize=").concat(encodeURIComponent(r),"&email=").concat(encodeURIComponent(s),"&fullname=").concat(encodeURIComponent(this.getBestName()),"&wave=").concat(encodeURIComponent(n))}isInCohort(e){if(!e)return!1;if(!this.feedlyProfile||!this.feedlyProfile.cohorts||0===this.feedlyProfile.cohorts.length)return!1;for(let t=0;t<this.feedlyProfile.cohorts.length;t++)if(this.feedlyProfile.cohorts[t]===e)return!0;return!1}isRecentUser(){return!!this.feedlyProfile&&(0,a._v)(this.feedlyProfile.wave,3)}isVeryRecentUser(){return!!this.feedlyProfile&&(0,a._v)(this.feedlyProfile.wave,1)}async askCreateArchive(){return this.net.POST("!{cloud}/v3/profile/export?force=true","").then(JSON.parse)}async askStartDropboxBackup(e){await this.net.POST("!{cloud}/v3/profile",{dropboxTagBackup:!0,dropboxFormat:e}),this.feedlyProfile.dropboxFormat=e,this.feedlyProfile.dropboxTagBackup=!0}markIntegrationAsConnected(e){const t=e===o.bK.oneNote?"windowsLive":e;this.feedlyProfile[t+"Connected"]=!0,this.fire("onProfileChanged",this.feedlyProfile)}markIntegrationAsDisconnected(e){const t=e===o.bK.oneNote?"windowsLive":e;this.feedlyProfile[t+"Connected"]=!1,e===o.bK.dropbox&&(delete this.feedlyProfile.dropboxConnected,delete this.feedlyProfile.dropboxUid,delete this.feedlyProfile.dropboxOpmlBackup,delete this.feedlyProfile.dropboxFormat,delete this.feedlyProfile.dropboxTagBackup),this.fire("onProfileChanged",this.feedlyProfile)}isIntegrationConnected(e){const t=e===o.bK.oneNote?"windowsLive":e;return!!this.feedlyProfile[t+"Connected"]}askEraseAccount(){return this.net.DEL("!{cloud}/v3/profile").then((()=>streets.askLogout())).catch((e=>{throw console.log("[profile] Failed to erase account: ".concat(e,")")),e}))}async askChangePassword(e){const t=await this.net.POST("!{cloud}/v3/auth/password",e),s=JSON.parse(t);null!=s&&(s.feedlyId=s.id,s.feedlyRefreshToken=s.refresh_token,s.feedlyToken=s.access_token,s.feedlyExpiresIn=s.expires_in,s.feedlyExpirationTime=(new Date).getTime()+1e3*s.expires_in-1e4,s.plan=s.plan||"standard",delete s.access_token,delete s.expires_in,delete s.id_token,delete s.token_type,delete s.refresh_token),u.F.save(s)}askRefreshUserInfo(){var e=this;return this.net.GET("!{cloud}/v3/profile").then(JSON.parse).then((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.feedlyProfile=(0,r.vJ)(t),e.fire("onProfileChanged",e.feedlyProfile)})).catch((e=>{throw console.log("Failed to get user info: ".concat(e.message)),e}))}askUpdateUserInfo(e){return this.net.POST("!{cloud}/v3/profile",e).then(JSON.parse).then((e=>{this.feedlyProfile=(0,r.vJ)(e),this.fire("onProfileChanged",this.feedlyProfile)})).catch((e=>{throw console.log("Failed to update user info: ".concat(e.message)),e}))}askUpdateProfilePicture(e){const t=new FormData;return t.append("picture",e),this.net.POST("!{cloud}/v3/profile",t).then(JSON.parse).then((e=>{this.feedlyProfile=(0,r.vJ)(e),this.fire("onProfileChanged",this.feedlyProfile)})).catch((e=>{throw console.log("Failed to update profile picture: ".concat(e.message)),e}))}askUpdateProduct(e){return this.net.POST("!{cloud}/v3/pro/subscription/".concat(encodeURIComponent(e)),{}).then(JSON.parse).then((e=>{streets.askApplyNewSession(e)})).catch((e=>{throw console.log("[payment] Failed to update product (payment plan): ".concat(e.debugMessage||e.message)),e}))}askMobileUpgrade(e){const t=(0,c.Dt)()?"!{cloud}/v3/payment/androidCharge":"!{cloud}/v3/payment/appleCharge";return this.net.POST(t,{...e,userId:streets.getUserId()}).then(JSON.parse).then((e=>streets.askUpdatePlan(e.tokens))).catch((e=>{throw console.log("[payment] Failed to update product (black friday): ".concat(e.debugMessage||e.message)),e}))}askProUpgrade(e,t,s){let{feature:n,featureContext:r,analyticsUri:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{product:o,productExpiration:l,subscriptionStatus:c}=this.getUserInfo(),d=(0,h.oF)({productExpiration:l,subscriptionStatus:c})&&((0,h._Y)(e)&&(0,h._Y)(o)||(0,h.sL)(e)&&(0,h.sL)(o));return this.net.POST("!{cloud}/v3/pro/subscription/".concat(encodeURIComponent(e)),{emailAddress:s,stripePaymentMethod:t}).then(JSON.parse).then((async e=>{a&&streets.service("analytics").trackProPageview(a,{featureContext:r}),(0,i.K)("purchase",{feature:n,featureContext:r,product:e.product},["amplitude","ga"]),await streets.askUpdatePlan(e.tokens),d&&streets.service("autoChrome").showRenewedBanner()})).catch((t=>{throw console.log("[payment] Failed to update product (".concat(e,"): ").concat(t.debugMessage||t.message)),t}))}askCancelStripeSubscription(e){let t="!{cloud}/v3/pro/subscription";if(e){const{withRefund:s}=e;s&&(t+="?refund=true")}return this.net.DEL(t).then((t=>{this.feedlyProfile.subscriptionStatus="Canceled",this.fire("onProfileChanged");const s=JSON.parse(t);if((0,i.K)("subscription_cancel",{product:this.feedlyProfile.product,refunded:s.refunded},["amplitude","ga"]),e&&e.withRefund){(0,i.K)("refund",{currency:"USD",value:s.refundAmount,product:this.feedlyProfile.product},["amplitude","ga"]);const e=s.tokens;e.feedlyId=e.id,e.feedlyRefreshToken=e.refresh_token,e.feedlyToken=e.access_token,e.feedlyExpiresIn=e.expires_in,e.feedlyExpirationTime=(new Date).getTime()+1e3*e.expires_in-1e4,u.F.save(e),streets.setPlan(e.plan)}return s})).catch((e=>{throw console.log("Failed to cancel pro stripe subscription: ".concat(e.debugMessage||e.message)),e}))}askReactivateStripeSubscription(){return this.net.PUT("!{cloud}/v3/pro/subscription",{status:"Active"}).then((()=>{this.feedlyProfile.subscriptionStatus="Active",this.fire("onProfileChanged")})).catch((e=>{throw console.log("Failed to reactivate pro stripe subscription: ".concat(e.debugMessage||e.message)),e}))}async askProProducts(){return streets.getUserId()?this.net.GET("!{cloud}/v3/pro/products").then(JSON.parse):{}}async askListInvoices(){return this.net.GET("!{cloud}/v3/payment/invoices").then(JSON.parse)}askDeleteCardInfo(){return this.net.DEL("!{cloud}/v3/pro/card").then(JSON.parse).then((e=>{streets.askApplyNewSession(e)})).catch((e=>{throw console.log("[payment] Failed to delete user card info: ".concat(e.debugMessage||e.message)),e}))}askUpdateCardInfo(e){return this.net.POST("!{cloud}/v3/pro/card",{stripePaymentMethod:e}).then(JSON.parse).then((e=>{streets.askApplyNewSession(e),this.fire("onCardInfoUpdated")})).catch((e=>{throw console.log("[payment] Failed to update user card info: ".concat(e.debugMessage||e.message)),e}))}askStripeSecret(){return this.net.POST("!{cloud}/v3/pro/stripeSetup",{}).then(JSON.parse).then((e=>{let{clientSecret:t}=e;return t})).catch((e=>{throw console.log("[payment] Failed to get stripe client secret: ".concat(e.debugMessage||e.message)),e}))}async askHasLeoFeedsLimit(){const{accountLimits:e}=this.getUserInfo();return"number"==typeof e.maxLeoFeeds&&await this.alerts.askHasWebAlertsAccess()&&!!(await this.priorities.askListPriorities()).length}hasExpiredProPlan(){const e=this.getUserInfo();return(0,h._Y)(e.product)&&(0,h.oF)(e)}hasExpiredProPlusPlan(){const e=this.getUserInfo();return(0,h.sL)(e.product)&&(0,h.oF)(e)}hasUnpaidEnterprisePlan(){const{product:e,enterpriseStatus:t}=this.getUserInfo();return e===d.CW&&t===d.Ch.unpaid}hasLeoAccess(){return streets.hasProPlusAccess()}}function m(e){return new p(e)}},54713:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(3015),i=s(83168),r=s(3167),a=s(31245),o=s(62784);const l=Object.freeze({analytics:"analytics",content:"content",priority:"priority"});class c extends i.y{setAlerts(e){this.alerts=e}setBsa(e){this.bsa=e}setPreferences(e){this.preferences=e}setSuggestions(e){this.suggestions=e}setCollections(e){this.collections=e}unload(){this.bsa=null,this.preferences=null,this.suggestions=null,this.collections=null}async askPrompt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.layout===r.Ar.fullArticle)return null;let t=[];return t=await Promise.all([this._askLeoSuggestion(e),this._askLeoSatisfactionPrompt(e),this._askBSASponsor(e)]),t.find((e=>e))}async _askBSASponsor(){return streets.hasProAccess()?null:{position:3,type:"sponsor"}}async _askLeoSatisfactionPrompt(){let{activeTab:e,layout:t,streamId:s,priority:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const c=(0,o.kW)(s);if(e!==l.priority&&!c||t===r.Ar.cards||this.preferences.getPreference(r.pl)===r.ZD.off)return null;let d;if(c){const{created:e}=await this.alerts.askInfo(c);d=e}else i&&(d=i.created);const h=this.preferences.getPreference("lastLeoFeedbackDate");let u=!1;return(!h&&!c&&d&&Date.now()-d>15*n.HA.day||h&&Date.now()-h>4*n.HA.month)&&(u=!0),u&&(streets.isProPlusPlan()||streets.hasAdminBusinessAccess())?{feature:c?a.z1.webAlert:a.z1.priority,type:a.yQ.leoSatisfactionPrompt,position:5}:null}async _askLeoSuggestion(){let{activeTab:e,layout:t,streamId:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!streets.getUserId()||t===r.Ar.cards||e===l.priority||this.preferences.getPreference(r.$h)===r.ZD.off)return null;const i=this.preferences.getPreference("lastLeoSuggestionDate");let a=!1;i?i&&Date.now()-i>3*n.HA.day&&(a=!0):a=!0;const o=await this.suggestions.askLeoSuggestions(),c=o&&o.find((e=>e.streamId===s));return c&&a?{...c,position:t===r.Ar.titleOnly?12:5}:null}}function d(e){return new c(e)}},55407:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>de});var n=s(47169),i=s(10268),r=s.n(i),a=s(2463),o=s.n(a),l=s(47617),c=s.n(l),d=s(47567),h=s(57855),u=s(3171),p=s(56466),m=s(57471),g=s(54960),f=s(74221),y=s(33642),v=s(1009),b=s(94059),E=s(65698);const C=["inc","co","ltd","corp","cie"];function w(e,t){return e.substring(t[0]+t[3])}function k(e,t){return e.charAt(t[0]+t[3])}function _(e,t,s){return e.substring(t[0]+t[3],void 0===s?void 0:s[0]+s[1]+s[2]).trim()}function M(e,t){const s=function(e,t){return e.substring(t[0],t[0]+t[1])}(e,t),n=function(e,t){return e.substring(t[0]+t[1],t[0]+t[1]+t[2])}(e,t);return"."===n?1!=s.length?k(e,t)!==k(e,t).toLowerCase()&&!(C.indexOf(s.toLowerCase())>-1):!!/\s/.test(s)||!!/[&%$@*#]/.test(s):"..."===n||".."===n?k(e,t)!==k(e,t).toLowerCase():n.length>1||"?"===n||"!"===n||"\r"===n||"\n"===n}function S(e){if("string"!=typeof e)throw new TypeError("Function splitSentences(text) expects a String as input.");return function(e,t){const s=[];if(t.length>0){s.push(_(e,[0,0,0,0],t[0]));for(let n=0;n<t.length-1;n++)s.push(_(e,t[n],t[n+1]));s.push(_(e,t[t.length-1]))}else s.push(e);return s}(e,function(e,t){const s=[];for(let n=0;n<t.length;n++){const i=t[n];M(e,i)&&s.push(i)}return s}(e,function(e){const t=/(\s|[^\s!.?]+)((!|\.|\?|[\n\r]+)+)\s+/;let s;const n=[];let i=e,r=0;for(;s=t.exec(i);){const t=[s.index+r,s[1].length,s[2].length,s[0].length];n.push(t),i=w(e,t),r=t[0]+t[3]}return n}(e)))}var I=s(28514),T=s(3167),N=s(7761),L=s(2222),P=s(63403),D=s(86966);var A=s(77834),O=s(85902),x=s(48689),R=s(35610);var j=s(52277),F=s(62784),U=s(89631);const z=["feedads.feedblitz.com"],Z=["feedproxy","feedburner","feeds.wordpress.com","stats.wordpress.com","googleadservices.com","tweet-this","fmpub","-ads","_ads","pheedo","zemanta","u.npr.org/iserver","openx.org","slashdot-it","smilies","/ico-","commindo-media.de","creatives.commindo-media","doubleclick.net","adview","/feed.gif",".ads.","/avw.php","wp-digg-this","feed-injector","/plugins/","tweetmeme.com","_icon_","/ad-","share-buttons","buysellads","holstee","musictapp","/ad_","/button/","donate.png","/sponsors/","googlesyndication.com","/pagead","/adx","assets/feed-fb","assets/feed-tw","feedburner.com/~ff","gstatic.com","feedsportal","tweetmeme.com","wp-digg-this","advertisement.gif","share-buttons","/plugins/","assets/feed-","feedproxy.google","feeds.feedblitz.com/_","wordpress.com/i/blank.jpg","pixel.wp.com","assets.feedblitz.com/i","ga-beacon.appspot.com","www.google.com/intl/en/logos"],B=[...Z,...z],H=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/i,Y=/youtube\.com\/v\/([A-Za-z0-9\-_]+)/i,W=/ytimg\.com\/vi\/([A-Za-z0-9\-_]+)/i,q=/youtube\.com\/watch\?v=([A-Za-z0-9\-_]+)/i;class V{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.origin&&"feed/[object Object]"===e.origin.streamId&&delete e.origin.streamId,this.jsonInfo=e,this.id=e.id,this.feedId=e.origin?e.origin.streamId:null,!this.feedId&&e.canonicalFeed&&e.canonicalFeed.length>0&&e.canonicalFeed[0].streamId&&(this.feedId=e.canonicalFeed[0].streamId),this.important=e.important?e.important:[],this.priorities=e.priorities||[],this.cleanSummary={},null==e.crawled&&(e.crawled=(new Date).getTime()),null==e.published&&(e.published=e.crawled),null==e.updated&&(e.updated=e.published);const s=this._getUpdatedDate();this.lastModifiedDate=null!=s?s:this._getPublishedDate(),this.lastModifiedTime=this.lastModifiedDate.getTime(),this.crawledDate=(0,d.Bq)(this.jsonInfo.crawled),this.crawledTime=this.crawledDate.getTime(),this.actionDate=this.jsonInfo.actionTimestamp?(0,d.Bq)(this.jsonInfo.actionTimestamp):null,e.categories||(e.categories=[]),e.decorations||(e.decorations={}),e.annotations||(e.annotations=[]),this.metadata={subscribed:null,...t},this.metadata.hasLinkedArticle=this.jsonInfo.linked&&this.jsonInfo.linked.length>0,this.metadata.hasLinkedArticle&&(this._addLinkedArticleEntities(),this._addLinkedArticleEstimatedCVSS(),this._addLinkedArticleTopics(),this._addLinkedArticleIocMentions(),this._addLinkedArticleAttackNavigator()),this.jsonInfo.origin&&this.jsonInfo.origin.title&&(this.jsonInfo.origin.title=(0,O.oN)(this.jsonInfo.origin.title)),this.webfeeds=e.webfeeds||{},e.tags&&e.tags.length&&e.tags.forEach((e=>{e.id&&(e.id.includes("tag/global.saved")?e.label="Read later":e.id.includes("tag/global.read")&&(this.metadata.isRecentlyRead=!0))})),this.jsonInfo.commonTopics&&this.jsonInfo.commonTopics.length&&(this.jsonInfo.commonTopics=r()(this.jsonInfo.commonTopics,"id"));try{var n;this.metadata.synced=this.getEngagement(),this.metadata.garbage=!1,this.metadata.feedId=this.getFeedId();const s=this.getAlternateLink();null!=s&&((s.indexOf("pheedo.com")>-1||s.indexOf("click.phdo")>-1)&&(this.metadata.garbage=!0),s.indexOf("techmeme.com")>-1&&(this.metadata.defaultNavigation="visit",this.metadata.substitutedAlternateLink=(0,h.tJ)(this.getContent()))),t.imageUrl&&t.imageWidth&&t.imageHeight&&(this.metadata.featuredVisual={url:t.imageUrl,width:t.imageWidth,height:t.imageHeight}),this.metadata.tutorial=null!=this.getFeedId()&&"feed/https://blog.feedly.com/category/wiki/feed/"===this.getFeedId(),this.metadata.tutorial&&(this.metadata.customFullArticleClass="u100Entry--tutorial");const i=e.content&&e.content.content;if(this.metadata.isNewsletter=i&&e.content.content.indexOf("webfeeds--newsletter")>-1,this.metadata.isWellFormattedNewsletter=this.metadata.isNewsletter&&(e.content.content.indexOf("morningbrew.com/")>-1||e.content.content.indexOf("smartbrief.com/")>-1||e.content.content.indexOf("endpointsnews.com/")>-1||e.content.content.indexOf("fourhourmail.com/")>-1),this.metadata.isSubstack=i&&e.content.content.indexOf("cdn.substack.com")>-1,this.metadata.hasCustomHeader=i&&e.content.content.indexOf("webfeeds-header")>-1,this.metadata.googleNews=(0,g.Qc)(this.getFeedId()),this.metadata.googleAlerts=(0,m.tp)(this.getFeedId()),this.metadata.baiduNews=null!=this.getFeedId()&&this.getFeedId().indexOf("news.baidu.com/ns")>-1,this.metadata.isFromWebAlertSource=!!this.getFirstAlertSourceInfo(),!this.metadata.highlightableKeywords){let e={};this.jsonInfo.priorities&&(e={...e,...this._findHighlightableKeywords(this.jsonInfo.priorities,this.jsonInfo.entities)}),this.jsonInfo.sources&&(e={...e,...this._findHighlightableKeywords(this.jsonInfo.sources,this.jsonInfo.entities)}),this.metadata.highlightableKeywords=e}if(this.metadata.highlightableKeywords={...this.metadata.highlightableKeywords,...this._getIocMentions(),...this._getCauseSearchTerms()},this.jsonInfo.fullContent){const e=this.getFeedId();let t=streets.isEnterprisePlan()||(streets.isProPlusPlan()||streets.isBusinessPlan())&&this.isPrioritized()||this.metadata.googleAlerts||this.metadata.googleNews||this.listTags(!0)>0||this.getFirstAlertSourceInfo()||e.startsWith(U.w)||this.isQuicklisted();e&&e.includes("nytimes.com")&&(t=!1),t||delete this.jsonInfo.fullContent}if(this.metadata.googleAlerts&&this.jsonInfo.origin)this.metadata.defaultNavigation=this.jsonInfo.fullContent?null:"visit",this.metadata.substitutedAlternateLink=(0,m.vc)(this.getAlternateLink()),this.metadata.googleTerm=(0,m.IG)(e.origin.title);else if(this.metadata.googleNews&&null!=this.jsonInfo.origin){this.metadata.defaultNavigation=this.jsonInfo.fullContent?null:"visit";let e=this.getAlternateLink().split("&url=");if(e.length>1&&(this.metadata.substitutedAlternateLink=decodeURIComponent(e[1])),e=this.getTitle().split(" - "),e.length>1)this.metadata.substitutedTitle=e.slice(0,e.length-1).join(" - "),this.metadata.publisherTitle=e[e.length-1],this.metadata.substitutedSourceTitle=this.metadata.publisherTitle;else if(this.jsonInfo.summary){const e=(0,g.xU)(this.jsonInfo.summary.content);e&&(this.metadata.publisherTitle=e,this.metadata.substitutedSourceTitle=e)}this.jsonInfo.summary&&"ltr"===this.jsonInfo.summary.direction&&(this.jsonInfo.summary.content=(0,g.P6)(this.jsonInfo.summary.content)),(0,g.XP)(this.getFeedId())&&(this.metadata.googleTerm=(0,g.A6)(this.getFeedId()))}else if(this.metadata.baiduNews)e.origin&&e.origin.title&&2===e.origin.title.split("_").length&&(this.metadata.googleTerm=e.origin.title.split("_")[1]);else if(null!=this.getFeedId()&&this.getFeedId().indexOf("gdata.youtube.com/feeds/base/videos/-/")>-1){const e=this.getFeedId().split("/"),t=e[e.length-1];this.metadata.substitutedSourceTitle=decodeURIComponent(t.split("?")[0])+" on Youtube"}if(!this.metadata.highlightableKeywords&&(this.metadata.searchTerm||this.metadata.googleTerm)){const e=this.metadata.searchTerm||this.metadata.googleTerm,t=e.replace(/\b(\S+):/gi,"").replace(/[-]"[^"]+"/gi,"").replace(/"([^"]+)"/gi,"$1").replace(/[-]\S+/gi,"").replace(/\bAND\b/g," ").replace(/\bOR\b/g," ").split(/\s+/).filter((e=>e.length));t&&t.length>0&&(this.metadata.highlightableKeywords=t.reduce(((e,t)=>(e[t]={highlight:!0},e)),{}))}const r=(0,I.$L)()&&(null===(n=streets.service("pageManager").getPageInfo())||void 0===n?void 0:n.uri);if(r&&r.startsWith("topicDataset")){const[e,t,...s]=r.split("/"),n=streets.service("mltopicdatasets").getCachedCurationKeywords({topicDatasetId:t});n&&n.length&&(this.metadata.highlightableKeywords={...this.metadata.highlightableKeywords,...n.reduce(((e,t)=>(e[t]={highlight:!0},e)),{})})}this.metadata.googleTerm&&(this.metadata.prettyTerm=this.metadata.googleTerm);const{sourceTitle:a}=this.metadata;if(this.metadata.googleNews&&a&&-1===a.indexOf("Google")&&(this.metadata.prettyTerm=a),this.metadata.key=this.getId(),this.getTitle().indexOf("[Sponsor]")>-1&&(this.metadata.sponsored=!0),this.getAlternateLink().indexOf("youtube.com")>-1){const e=this.getAlternateLink();this.metadata.youtube=(0,D.Y)(H,e)||(0,D.Y)(Y,e)||(0,D.Y)(W,e)||(0,D.Y)(q,e)}}catch(i){console.log("[entry] warning metadata enrichment failed:"+i.name+" -- "+i.message)}if(this.metadata.isTwitterFeed=(0,x.iR)(this.getFeedId())&&!!this.jsonInfo.content&&!!this.jsonInfo.content.content,this.metadata.isRedditFeed=(0,P.hj)(this.getFeedId()),this.metadata.isRedditFeed&&(this.metadata.redditPost={commentsLink:this.jsonInfo.originId,subredditName:(0,P.W_)(this.jsonInfo),userName:(0,P.DX)(this.jsonInfo)},this.jsonInfo=(0,P.Pk)(this.jsonInfo)),this.metadata.isRedditFeed&&this.metadata.hasLinkedArticle&&this.jsonInfo.summary){const e=this.jsonInfo.summary.content;this._setLinkedArticleAsContent(),this.jsonInfo.fullContent=this.jsonInfo.fullContent?this.jsonInfo.fullContent+e:e}if(this.metadata.isTwitterFeed&&this.metadata.hasLinkedArticle)this._setLinkedArticleAsContent(),this.metadata.tweet={authorName:(0,x.zL)(this.jsonInfo),authorHandle:(0,x.nQ)(this.jsonInfo),content:(0,x.hD)(this.jsonInfo),link:(0,x.H6)(this.jsonInfo),icon:(0,x.EC)(this.jsonInfo)};else if(this.metadata.isTwitterFeed){this.metadata.tweet={authorName:(0,x.zL)(this.jsonInfo),authorHandle:(0,x.nQ)(this.jsonInfo),icon:(0,x.EC)(this.jsonInfo)};const e=(0,x.iI)(this.jsonInfo.origin.title);(0,x.IJ)(this.getContent(),e)&&(this.metadata.tweet.twitterFeedAuthorHandle=e,this.metadata.tweet.isRetweet=!0)}e.fullContent&&(this.getCanonicalUrl()&&this.getCanonicalUrl().includes("bleacherreport.com")&&e.fullContent.length>5e3||e.fullContent.length>15e4)&&delete e.fullContent,this.feedId&&this.feedId.indexOf("daringfireball.net")>-1&&(this.jsonInfo.fullContent=null,this.jsonInfo.visual=null),this.feedId&&this.feedId.indexOf("sethgodin.typepad.com")>-1&&(this.jsonInfo.visual=null),this.jsonInfo.visual&&(this.metadata.isTwitterFeed&&this.jsonInfo.visual.url.indexOf("//pbs.twimg.com/profile_images")>-1&&(this.jsonInfo.visual={url:"none"}),"none"===this.jsonInfo.visual.url?this.metadata.noVisual=!0:(this.jsonInfo.visual.proxy=this._buildProxyUrl(this.jsonInfo.visual.url),this.metadata.featuredVisual=this.jsonInfo.visual,this.metadata.featuredVisual.edgeCacheUrl&&this.metadata.featuredVisual.edgeCacheUrl.startsWith("http://")&&(this.metadata.featuredVisual.edgeCacheUrl="https://".concat(this.metadata.featuredVisual.edgeCacheUrl.slice("http://".length))),this.enrichVisual(this.jsonInfo.visual.url,this.jsonInfo.visual.width,this.jsonInfo.visual.height))),e.priorities&&e.priorities.forEach((e=>{e.searchTerms&&(e.searchTerms.topics&&delete e.searchTerms.topics,e.searchTerms.entities&&delete e.searchTerms.entities)})),this.markAsReadable=!0}isPartialContent(){if(this.jsonInfo.fullContent)return!1;if(this.jsonInfo.webfeeds&&null!==this.jsonInfo.webfeeds.partial)return this.jsonInfo.webfeeds.partial;const e=this.asText(),t=this.listContentLinks();if(t.length>0&&e.length<1e3&&this.listContentVisuals(!0).length<=2)for(let s=0;s<t.length;s++){const e=t[s].all.toLowerCase();if(e.indexOf("more")>-1||e.indexOf("...")>-1||e.indexOf("…")>-1||e.indexOf("continue")>-1||e.indexOf("read")>-1||e.indexOf("full")>-1)return!0}for(let s=0;s<t.length;s++){if(t[s].all.toLowerCase().indexOf("read more...")>-1)return!0}return e.length<1e3&&(e.indexOf("[…]")>-1||e.indexOf("[...]")>-1)||(e.length<200&&0==this.listContentVisuals().length||(e.length<200&&this.listContentVisuals().length<=1&&e.indexOf("...")>-1||!!(e.length<350&&this._hasOnlySmallVisuals())))}_hasOnlySmallVisuals(){if(null!=this.jsonInfo.visual)return!(this.jsonInfo.visual.width>280&&this.jsonInfo.visual.height>220);const e=this.listContentVisuals();if(0==e.length)return!1;for(let t=0;t<e.length;t++){if(null==e[t].width||null==e[t].height)return!1;if(e[t].width>280&&e[t].height>222)return!1}return!0}getDecoration(e){return this.jsonInfo.decorations[e]}getEstimatedCVSS(){return this.jsonInfo.estimatedCVSS}getIndicatorsOfCompromise(){return this.jsonInfo.indicatorsOfCompromise||{}}getAttackNavigator(){return this.jsonInfo.attackNavigator}listEntities(e){return this.jsonInfo.entities?e?this.jsonInfo.entities.filter((t=>t.id.startsWith(e))):this.jsonInfo.entities.slice(0):[]}findEntity(e){return this.listEntities().find((t=>t.id===e))}listCausedEntities(){return this.listEntities().filter((e=>!!e.causes))}findRelevantCausedEntities(e){let{searchTerms:{parts:t=[]}={}}=e;if(!t.length)return[];const s=t.filter((e=>e&&e.id&&e.id.startsWith(b.K5.entity)));return s.length?this.listCausedEntities().filter((e=>s.find((t=>t.id===e.id)))):[]}listCommonTopics(){return this.jsonInfo.commonTopics?this.jsonInfo.commonTopics.slice(0):[]}listVulnerabilities(){return this.listEntities("vulnerability/").sort(((e,t)=>{const s=e.vulnerabilityInfo||{};return((t.vulnerabilityInfo||{}).cvssScore||0)-(s.cvssScore||0)}))}listTopVulnerability(){const e=this.listVulnerabilities();return e&&e.length>0?e[0]:null}findSearchTermFullInfo(e){let t;return(0,E.jP)(e.id)&&(t=this.listBusinessEvents().find((t=>t.id===e.id))),(0,E.ft)(e.id)&&(t=this.findEntity(e.id)),(0,E.xT)(e.id)&&(t=this.listCommonTopics().find((t=>t.id===e.id))),t||e}listDuplicates(){return this.jsonInfo.duplicates||[]}listRelatedEntries(){return this.jsonInfo.related||[]}setFeaturedMeme(e){this.meme=e}getFeaturedMeme(){return this.meme?this.meme:this.jsonInfo.featuredMeme&&"yes"===streets.service("preferences").getPreference(T.xV)?this.jsonInfo.featuredMeme:null}getClusters(){return this.jsonInfo.clusters||[]}setDecoration(e,t){this.jsonInfo.decorations[e]=t}getFeedback(){return this.jsonInfo.feedback}setFeedback(e){this.jsonInfo.feedback=e}deleteFeedback(){this.jsonInfo.feedback=null}getEngagementRate(){return this.jsonInfo.engagementRate}getEngagementRateType(){let e=0;const t=this.getEngagement()>100&&this.getEngagementRate()>3||this.getEngagement()>25&&this.getEngagementRate()>7;return t&&this.getEngagementRate()>10?e=2:t&&(e=1),e}hasEngagement(){return void 0!==this.jsonInfo.engagement}getEngagement(){return(this.jsonInfo.engagement||0)+(this.isQuicklisted()?1:0)}setEngagement(e){if(this.metadata.engagementRefreshed=!0,null==e||isNaN(e))return console.error("[entry] ignoring invalid engagement",this.getId(),e),console.log("[entry] ignoring invalid engagement:"+e),!1;const t=this.jsonInfo.engagement||0;return t>e?(console.error("[entry] ignoring new lower, engagement count:",this.getId(),t,e),!1):(this.jsonInfo.engagement=e,!0)}setNavigation(e){this.metadata.navigation=e}getNavigation(){return this.metadata.isNewsletter?"inline":this.metadata.navigation||this.metadata.defaultNavigation||"inline"}setPriorityLabel(){let e,{id:t,label:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{priorities:n}=this.jsonInfo;if(t&&s&&n)return this.jsonInfo.priorities=n.map((n=>n.id===t?(e=!0,{...n,label:s}):n)),this.priorities=this.jsonInfo.priorities,e||!1}getAge(){return((new Date).getTime()-this.lastModifiedTime)/36e5}isHot(){return 1!=this.metadata.garbage&&(this.getEngagement()>100&&this.getEngagementRate()>3||this.getEngagement()>25&&this.getEngagementRate()>7)}getId(){return this.id}getFeedId(){return this.feedId}getCrawlTime(){return this.crawledTime}listFilters(){return this.jsonInfo.filters||this.jsonInfo.mutedTerms||[]}getTitle(){if(!(0,v.R)(this.metadata.substitutedTitle))return this.metadata.substitutedTitle;if(!this._title){let{title:t}=this.jsonInfo;if(!t){const e=this.asText()||"[no title]";t=(0,O.tW)(e,120)}if(this.isTitleRTL())try{t=t.replace('<div style="direction:rtl;text-align:right">',"").replace("</div>","")}catch(e){}this._title=t}return this._title}getCleanTitle(){return this.isTitleRTL()?this.getTitle():(this._cleanTitle||(this._cleanTitle=(0,O.ld)(this.getTitle())),this.metadata.isTwitterFeed&&!this.metadata.hasLinkedArticle&&(this._cleanTitle=(0,x.lF)(this._cleanTitle,this.metadata.tweet.authorHandle)),this._cleanTitle)}getCleanSourceTitle(){return this.isTitleRTL()||this.metadata.googleNews||this.metadata.isTwitterFeed?this.getSourceTitle():(this._cleanSourceTitle||(this._cleanSourceTitle=(0,O.xh)(this.getSourceTitle())),this._cleanSourceTitle)}_getAlternate(){if(null==this.jsonInfo.alternate||0==this.jsonInfo.alternate.length)return null;let e=null;for(let t=0;t<this.jsonInfo.alternate.length;t++)if("text/html"===this.jsonInfo.alternate[t].type||null==this.jsonInfo.alternate[t].type){e=this.jsonInfo.alternate[t].href;break}return e}setCanonicalUrl(e){this.jsonInfo.canonicalUrl=e,(this.getAlternateLink().indexOf("pheedo.com")>-1||this.getAlternateLink().indexOf("click.phdo")>-1)&&(this.metadata.garbage=!0)}_addUTMSignature(e,t){if(t=t||"webfeeds",-1==e.indexOf("?"))return e+"?utm_source=feedly&utm_medium="+t;if(e.indexOf("utm_source")>-1){return e.split("?")[0]+"?utm_source=feedly&utm_medium="+t}return e+"&utm_source=feedly&utm_medium="+t}getAlternateLink(){let e=this.getBestAlternateLink();return e||(e="https://feedly.com/i/entry/"+encodeURIComponent(this.getId())),null!=this.webfeeds.analyticsId?this._addUTMSignature(e):e.indexOf("utm_source=feedburner")>-1?e.replace("utm_source=feedburner","utm_source=feedly"):e.indexOf("utm_source=rss")>-1?e.replace("utm_source=rss","utm_source=feedly"):(e.indexOf("utm_source=")>-1||e.indexOf("?"),e)}getFastestAlternateLink(){return(0,v.R)(this.metadata.substitutedAlternateLink)?(0,v.R)(this.jsonInfo.ampUrl)?this.getBestAlternateLink():this.jsonInfo.ampUrl:this.metadata.substitutedAlternateLink}getBestAlternateLink(){if(!(0,v.R)(this.metadata.substitutedAlternateLink))return this.metadata.substitutedAlternateLink;let e=this._getAlternate()||this.getCanonicalUrl();if(!e){const t=this.getEnclosure("audio/mpeg");t&&t.href&&(e=t.href)}return e}getCleanAlternateLink(){if(!(0,v.R)(this.metadata.substitutedAlternateLink))return this.metadata.substitutedAlternateLink;let e=this.getCanonicalUrl()||this._getAlternate();if(!e){const t=this.getEnclosure("audio/mpeg");t&&t.href&&(e=t.href)}return e}getCanonicalUrl(){let e=this._getCanonical()||this.jsonInfo.canonicalUrl;if(!e){const t=this.metadata.substitutedAlternateLink||this._getAlternate();t&&t.indexOf("youtube.com/")>-1&&(e=t)}if(e){const t=e.indexOf("?utm_source=feed");t>-1&&(e=e.substring(0,t))}return e}_getCanonical(){if(!this.jsonInfo.canonical||0===this.jsonInfo.canonical.length)return null;for(let e=0;e<this.jsonInfo.canonical.length;e++)if("text/html"===this.jsonInfo.canonical[e].type)return this.jsonInfo.canonical[e].href;return null}getSummary(){return null==this.jsonInfo.summary?"":this.jsonInfo.summary.content||""}isFeedlyBlog(){return"https://blog.feedly.com"===this.getSourceAlternateLink()}_getCleanContent(){if(!this._cleanContent)try{if(this._cleanContent=this.getContent().replace(/<iframe[^<]*<\/iframe>/gi,(e=>e.indexOf("facebook.com")>-1||e.indexOf("twitter.com")>-1||e.indexOf("slashdot.org")>-1||e.indexOf("docs.google.com/forms")>-1?"":e.indexOf("youtube.com")>-1?e.replace("http://","https://"):e)).replace(/(<img.*?src=")([^"]*)("[^>]*>)/gi,((e,t,s)=>{const n=this._lookupVisual(s);return-1==e.indexOf("http")?"\x3c!-- non http visual --\x3e":this._shouldExcludeVisual(e)?"\x3c!-- excluded visual --\x3e":e.indexOf("blogcdn.com")>-1?e.replace("_thumbnail",""):!this.metadata.isNewsletter&&null!=n&&(null!=n.width&&n.width<10||null!=n.height&&n.height<10)?"\x3c!-- small visual --\x3e":e})),null!=this.getFeedId()&&0==this.getFeedId().indexOf("feed/http://www.dailymotion.com")){const e=(0,D.Y)(/video\/([^"]*)_/i,this._cleanContent);null!=e&&(this._cleanContent="<center><iframe frameborder='0' width='480' height='270' src='http://www.dailymotion.com/embed/video/"+e+"' style='margin-bottom:34px; margin-top:34px'></iframe></center>")}if(null!=this.getFeedId()&&this.getFeedId().indexOf("venturebeat")>-1){const e=this._cleanContent.indexOf("<h6>More information");e>0&&(this._cleanContent=this._cleanContent.slice(0,e))}if(this.getFeedId()&&this.getFeedId().indexOf("design-milk")>-1){const e=this._cleanContent.indexOf('<br><br><a rel="nofollow" href="http://rc.feedsportal');e>0&&(this._cleanContent=this._cleanContent.slice(0,e))}}catch(e){console.log("failed to clean entry",this.getId(),e),this._cleanContent=this.getContent()}return this._cleanContent}getExternalImageURL(){if(1==(0,j.pB)(this))return null;const e=this.getEnclosure("image");let t=null;return(0,v.R)(this.metadata.featuredVisual)||!1!==(0,j.eA)(this)?null!=this.metadata.greatThumbnail?t=this.metadata.greatThumbnail.url:null!=e&&null!=e.href&&(t=e.href):t=this.metadata.featuredVisual.url,t}getExternalVisual(){if(!0===(0,j.pB)(this))return null;const e=this.getEnclosure("image");let t=null;return(0,v.R)(this.metadata.featuredVisual)||!1!==(0,j.eA)(this)?null!=this.metadata.greatThumbnail?t=Object.assign(this.metadata.greatThumbnail):null!=e&&null!=e.href&&(t=Object.assign(e,{url:e.href})):t=Object.assign(this.metadata.featuredVisual),t}getSource(){if(this.jsonInfo.authorDetails)return this.jsonInfo.authorDetails.source}getEnclosures(){return(this.jsonInfo.enclosure||[]).map((e=>e.href))}_lookupEdgeCachedUrl(e){return(0,v.R)(this.metadata.featuredVisual)||this.metadata.featuredVisual.url!=e||!0===this.metadata.featuredVisual.animated?null:this.metadata.featuredVisual.edgeCacheUrl}_refineContent(){try{if(!0===this.isContentRefined)return;if(!this.jsonInfo.fullContent)return;this.isContentRefined=!0;const e=this.jsonInfo.content&&this.jsonInfo.content.content||this.jsonInfo.summary&&this.jsonInfo.summary.content||"",t=(0,O.Ai)(e).length;(0,O.Ai)(this.jsonInfo.fullContent).length<1.5*t&&(this.jsonInfo.fullContent=null,this._content=null)}catch(e){console.error("[JSONEntry] failed to refine content",this.getId(),e)}}getOptimizedContent(){let{isLeoEnabled:e=!1,shouldHighlightAllMitreAttacks:t=!1,shouldLazyLoadFrames:s=!1,shouldLazyLoadImages:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._getCleanContent();const r=this.getHighlightableKeywords();if(this.jsonInfo.entities&&e&&"yes"===streets.service("preferences").getPreference(T.Sd))for(const l of this.jsonInfo.entities)l.mentions&&l.mentions.forEach((e=>{var t;r[e.text]={...null!==(t=r[e.text])&&void 0!==t?t:{},caseSensitive:!1,entityId:l.id}}));if(i=(0,p.v)(i,r,this.jsonInfo.entities,{shouldInlineEntities:!0,shouldHighlightAllMitreAttacks:t}),!i)return null;let a=0,o=1;return this.metadata.isNewsletter&&(o=5),i=i.replace(/<img([^>]*)>/gi,((e,t)=>{const s={src:(0,O.Y7)(t,"src"),srcset:(0,O.Y7)(t,"srcset"),width:(0,O.Y7)(t,"width"),height:(0,O.Y7)(t,"height"),class:(0,O.Y7)(t,"class")};let i="";s.class&&s.class.includes("webfeeds-")&&(i=s.class);const r=(0,O.Y7)(t,"alt");r&&r.length>0&&(s.alt=r);const l=(0,O.Y7)(t,"title");l&&l.length>0&&(s.title=l);let c=s.src;if(s.srcset){const e=(0,A.p)(s.srcset);e&&(c=e)}if(!c)return"";a+=1;let d="";null!=s.width&&(d+=' width="'+s.width+'"'),null!=s.height&&(d+=' height="'+s.height+'"');const h="image"+a;let u=c;let p="";return s.title&&(p+=' title="'+s.title+'" '),s.alt&&(p+=' alt="'+s.alt+'" '),a<=o||!1===n?'<img src="'+(0,R.sA)(u)+'" data-pre-sourced="yes" data-sourced="yes" id="'+h+'" data-original="'+c+'" data-src="'+c+'" '+p+d+'" class="'+i+'">':'<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+(0,R.sA)(u)+'" data-original="'+c+'" '+p+d+'" class="'+i+'">'})),s&&(i=i.replace(/(<iframe.*?src=")([^"]*)("[^>]*>.*<\/iframe>)/gi,((e,t,s,n)=>t+'about:blank" data-src="'+s+n))),i}_buildProxyUrl(e){if(!e)return null;if(e.startsWith("https://blog.feedly.com"))return e;const t=parseInt(647*window.devicePixelRatio)+"x*!0.01";return"https://visuals.feedly.com/v1/resize?url="+encodeURIComponent(e)+"&sizes="+encodeURIComponent(t)}getSubtitle(){const e="webfeeds-header__subtitle",t=this.getContent(),s=t.indexOf(e),n=t.indexOf(">",s+e.length)+1,i=t.indexOf("</",n);return t.substring(n,i)}_getKicker(){const e="webfeeds-header__kicker",t=this.getContent(),s=t.indexOf(e);if(-1!==s){const n=t.indexOf(">",s+e.length)+1,i="</",r=t.indexOf(i,n);return t.substring(n,r)}return""}getContent(){return this._refineContent(),this._content||(this.metadata.isNewsletter?this._content=this.jsonInfo.content.content:this.jsonInfo.fullContent?(this._content=this.jsonInfo.fullContent,this.jsonInfo.usesFullContent=!0,this.metadata.autoExpanded=!0):this.jsonInfo.content&&this.jsonInfo.content.content&&""!==this.jsonInfo.content.content?this._content=this.jsonInfo.content.content:this.jsonInfo.summary&&this.jsonInfo.summary.content&&""!==this.jsonInfo.summary.content?this._content=this.jsonInfo.summary.content:this._content="[no content]"),this._content}isTitleRTL(){return null!=this.jsonInfo.title&&this.jsonInfo.title.indexOf("direction:rtl")>-1}isContentRTL(){return this.jsonInfo.content?"rtl"===this.jsonInfo.content.direction:!!this.jsonInfo.summary&&"rtl"===this.jsonInfo.summary.direction}_getCleanSafeSummary(){const e=400;return null==this.cleanSummary[400]&&(this.cleanSummary[400]=this.asText().slice(0,e),this.isContentRTL()&&(this.cleanSummary[400]='<div style="direction:rtl;text-align:right">'+this.cleanSummary[400]+"</div>")),this.metadata.hasCustomHeader&&(this.cleanSummary[400]=this.cleanSummary[400].replace(this.getSubtitle(),"").replace(this._getKicker(),"")),this.cleanSummary[400]}getExcerpt(){const e=this.asText();if(!e||0===e.length)return e;const t=S(e);let s="";if(t)for(let n=0;n<t.length&&s.length<230;n++)s+=t[n]+" ";else s=e.slice(0,230);return s}getBestSummary(){try{const e=this.getHighlightableKeywordSnippets();return e&&e.length>0?e[0].text:this._getCleanSafeSummary()}catch(e){return console.log("[JSONEntry] warning failed to get best summary:"+e.name+" -- "+e.message),this._getCleanSafeSummary()}}asText(){return this._asText||(this._asText=(0,O.L0)(this.getContent())||"",this._asText=this._asText.replace(this.getTitle(),"")),this._asText}listAuthors(){return(0,v.R)(this.metadata.substitutedAuthor)?this.jsonInfo.author?(this._cleanAuthor||(this._cleanAuthor=(0,O.L0)(this.jsonInfo.author)),this._cleanAuthor):"":this.metadata.substitutedAuthor}getFirstAuthor(){const e=this.listAuthors();return e?e.split(",")[0]:""}getFirstPublicBoardSourceInfo(){let e=null;return this.jsonInfo.sources&&(e=this.jsonInfo.sources.find((e=>"PublicBoard"===e.feedlyFeedType))),e}getWebAlertSourcesInfo(){return this.jsonInfo.sources?this.jsonInfo.sources.filter((e=>"WebAlert"===e.feedlyFeedType)):[]}getFirstAlertSourceInfo(){let e=null;return this.jsonInfo.sources&&(e=this.jsonInfo.sources.find((e=>"WebAlert"===e.feedlyFeedType))),e}listSources(){return this.jsonInfo.sources||[]}getSourceTitle(){return(this.metadata.googleNews||this.metadata.isTwitterFeed||this.metadata.isRedditFeed)&&this.metadata.substitutedSourceTitle?this.metadata.substitutedSourceTitle:this.metadata.isTwitterFeed&&!this.metadata.hasLinkedArticle?this.metadata.tweet.authorHandle:this.metadata.sourceTitle?this.metadata.sourceTitle:(0,v.R)(this.metadata.substitutedSourceTitle)?this.jsonInfo.origin?this.jsonInfo.origin.title:null:this.metadata.substitutedSourceTitle}getSourceAlternateLink(){return null==this.jsonInfo.origin?null:this.jsonInfo.origin.htmlUrl}_getPublishedDate(){return null==this.publishedDate&&(null!=this.jsonInfo.published?this.publishedDate=(0,d.Bq)(this.jsonInfo.published):null!=this.jsonInfo.updated&&(this.publishedDate=(0,d.Bq)(this.jsonInfo.updated))),this.publishedDate}_getUpdatedDate(){return null==this.updatedDate&&(null!=this.jsonInfo.updated?this.updatedDate=(0,d.Bq)(this.jsonInfo.updated):null!=this.jsonInfo.published&&(this.updatedDate=(0,d.Bq)(this.jsonInfo.published))),this.updatedDate}getLastModifiedDate(){return this.lastModifiedDate}setActionDate(e){let t;e&&(t="number"==typeof e?(0,d.Bq)(e):e),this.actionDate=t||null}getCrawledDate(){return this.crawledDate}getAgeInDays(){const e=Math.floor(((new Date).getTime()-this.lastModifiedDate.getTime())/(0,u.z1)(1));return e<1?1:e<7?7:e<31?31:365}getDateHeading(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"crawled";const t="dateHeading-".concat(e);if(!this[t]){let s;s="crawled"===e?this.getCrawledDate():this.actionDate||this.getCrawledDate(),(0,d.Y3)(s)?this[t]="Today":(0,d.UW)(s)?this[t]="Yesterday":(0,d.g1)(s)?this[t]=c()(s,"MMM DD"):this[t]=c()(s,"MMM DD YYYY")}return this[t]}listContentVisuals(e){if(this._extractAllVisuals(),e){const e=[];for(let t=0;t<this.contentVisuals.length;t++)this.contentVisuals[t].thumbnail||e.push(this.contentVisuals[t]);return e}return this.contentVisuals}countInlinedVisuals(){if(this._extractAllVisuals(),null!=this.getFeedId()&&this.getFeedId().indexOf(".flickr.com")>-1)return 0;let e=0;for(let t=0;t<this.contentVisuals.length;t++)1!=this.contentVisuals[t].enclosure&&1!=this.contentVisuals[t].thumbnail&&1!=this.contentVisuals[t].external&&e++;return e}includesInlinedMedia(){return this.countInlinedVisuals()>0||this.getContent().indexOf("<iframe")>-1}_listAllVisuals(){return this._extractAllVisuals(),this.allContentVisuals}getFeaturedVisual(){return this.listContentVisuals(),this.metadata.featuredVisual}_extractAllVisuals(){if(1!=this.visualsExtracted){this.allContentVisuals=this._extractVisuals(),this.contentVisuals=[],this.extractedVisuals=[];for(let e=0;e<this.allContentVisuals.length;e++){const t=this.allContentVisuals[e];0!=this._isVisualCandidate(t)&&(null!=t.width&&t.width<42||null!=t.height&&t.height<42||(1==t.featured&&(this.metadata.featuredVisual=t),this.contentVisuals.push(t),this.extractedVisuals.push(this.contentVisuals[e])))}this.metadata.embeddedVisuals=this.contentVisuals.length,this.contentVisuals.length>0&&(this.metadata.firstVisual=this.contentVisuals[0]),this.contentVisuals=this.contentVisuals.sort(((e,t)=>t.surface-e.surface)),this.visualsExtracted=!0}}mapContentVisuals(){const e={},t=this._listAllVisuals();for(let s=0;s<t.length;s++){const n=t[s];e[n.url]=n}return e}suggestVisual(){if(this.metadata.featuredVisual)return this.metadata.featuredVisual.url;const e=this.listContentVisuals();return null!=e&&e.length>0?e[0].url:null}getEnclosure(e){return 1!=this.enclosureExtracted&&(this.enclosure=this._extractEnclosure(),this.enclosureExtracted=!0),null==this.enclosure||null==this.enclosure.type||null!=e&&!this.enclosure.type.includes(e)?null:this.enclosure}getPdfLink(){if(this.jsonInfo.enclosure&&this.jsonInfo.enclosure.length){const e=this.jsonInfo.enclosure.find((e=>"application/pdf"===e.type));if(e)return e.href}}listContentLinks(){return this._embeddedLinks||(this._embeddedLinks=(0,h.D4)(this.getContent())||[]),this._embeddedLinks}isLongRead(){return!!this.jsonInfo.readTime||!!this.readTime}isRead(){return 0==this.jsonInfo.unread}isRecentlyRead(){return this.metadata.isRecentlyRead||!1}setIsRecentlyRead(e){this.metadata.isRecentlyRead=e}wasKeptUnread(){return!0===this.jsonInfo.keptUnread}markAsRead(){this.jsonInfo.unread=!1,this.metadata.isRecentlyRead=!0,delete this.jsonInfo.keptUnread}undoMarkAsRead(){this.jsonInfo.unread=!0,this.jsonInfo.keptUnread=!0,this.metadata.isRecentlyRead=!1}isQuicklisted(){const e=(0,f.P2)("tag","global.saved",this.metadata.userId);return this.includesTag(e)}setQuicklisted(e){const t=(0,f.P2)("tag","global.saved",this.metadata.userId);return e?this.addTag({id:t}):this.removeTag(t)}addTag(e){1!=this.includesTag(e.id)&&(null==this.jsonInfo.tags&&(this.jsonInfo.tags=[]),this.jsonInfo.tags.push(e))}removeTag(e){if(null==this.jsonInfo.tags)return!1;for(let t=0;t<this.jsonInfo.tags.length;t++)if(this.jsonInfo.tags[t].id===e)return this.jsonInfo.tags.splice(t,1),!0;return!1}includesTag(e){if(null==this.jsonInfo.tags)return!1;for(let t=0;t<this.jsonInfo.tags.length;t++)if(this.jsonInfo.tags[t].id==e)return!0;return!1}listTagLabels(){if(null==this.jsonInfo.tags)return[];const e=[];for(let t=0;t<this.jsonInfo.tags.length;t++)null!=this.jsonInfo.tags[t].label&&this.jsonInfo.tags[t].label.length>0&&-1==this.jsonInfo.tags[t].label.indexOf("global.")&&e.push(this.jsonInfo.tags[t].label);return e}listTags(e){return null==this.jsonInfo.tags?[]:(!1!==e&&(e=!0),this.jsonInfo.tags.filter((t=>{const{isFeedback:s}=(0,f.Yg)(t.id);return!(e&&t.id.includes("tag/global."))&&!s})))}listEnterpriseTags(){const{tags:e}=this.jsonInfo;return e?e.filter((e=>{let{id:t}=e;const{isFeedback:s,isEnterprise:n}=(0,f.Yg)(t);return n&&!s})):[]}listPersonalTags(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{tags:t}=this.jsonInfo;return t?t.filter((t=>{let{id:s}=t;const{isFeedback:n,isUser:i}=(0,f.Yg)(s);return i&&!n&&(!e||!s.includes("tag/global."))})):[]}findTag(e){return null==this.jsonInfo.tags?[]:this.jsonInfo.tags.find((t=>t.id==e))}findTagActionTimestamp(e){const t=this.findTag(e);return t?t.actionTimestamp:null}listCollections(){return this.jsonInfo.categories}listEnterpriseCollections(){if(null==this.jsonInfo.categories)return[];const e=[];for(let t=0;t<this.jsonInfo.categories.length;t++)0==this.jsonInfo.categories[t].id.indexOf("enterprise")&&e.push(this.jsonInfo.categories[t]);return e}listPersonalCollections(){if(!this.jsonInfo.categories)return[];const e=[];for(let t=0;t<this.jsonInfo.categories.length;t++)0===this.jsonInfo.categories[t].id.indexOf("user")&&e.push(this.jsonInfo.categories[t]);return e}suggestViaFeedId(){let{viaStreamId:e}=this.metadata;if(e){const{isCategory:t}=(0,f.Yg)(e);t||(e=null)}if(!e&&streets.hasAdminBusinessAccess()){const t=this.listEnterpriseCollections();t&&t.length>0&&(e=t[0].id)}if(!e&&streets.isUserAdmin()){const t=this.listPersonalCollections();t&&t.length>0&&(e=t[0].id)}return e}getFirstSentence(){const e=this.listSentences();return e?e[0]:null}listSentences(){return this._sentences||(this._sentences=this.asText().replace(/(\.+|\:|\!|\?)(\"*|\'*|\)*|}*|]*)(\s|\n|\r|\r\n)/g,"$1$2|").split("|")),this._sentences}getLeoSummary(){return streets.hasProPlusAccess()?this.jsonInfo.leoSummary:null}getLeoSummarySentences(){const e=this.getLeoSummary();return e?e.sentences.map((e=>{let{text:t}=e;return t})):[]}isPrioritized(){return this.jsonInfo.priorities&&this.jsonInfo.priorities.length>0}isFromWebAlertSource(){return this.metadata.isFromWebAlertSource}getPriorityLabel(){let e=this._getMonoPriorityLabel();if(!e){const t=this.getMostRelevantPriority();e=t&&(t.label||t.text)}return e}_getMonoPriorityLabel(){const e=this.getMostRelevantPriority();if(!e)return null;const{parts:t,likeBoards:s,severity:n}=e.searchTerms||{};if([t,s,n].filter(Boolean).length>1)return null;if(t&&1===t.length){const e=t[0];return this.getIocLabel(e)||this._getEntityCauseLabel(e)||e.label||e.text||(0,F.hh)(e)}return s&&1===s.length?s[0].label:null}getSearchTermMatchedParts(e){const{parts:t=[]}=this.getPreviewSearchTerms()||this.getPowerSearchTerms()||{},s=t.map((e=>e.id||e.text));return e.reduce(((e,t)=>{if(t.type===N.ur.matches&&!t.negate){const{parts:n}=t,i=n.find((e=>s.includes(e.id)||s.includes(e.text)));i&&i.id!==b.Zh&&(e=[...e,i])}return e}),[])}showMatchesMetadata(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e.length&&(!!t||!!this.findRelevantCausedEntities({searchTerms:{parts:e}}).length)}showEntityCauseLabel(e){if(!e)return!1;const[t,...s]=e.filter((e=>!(0,F.Qv)(e)));return!s.length&&(!(!t||!(0,E.ft)(t.id))&&!!this._getEntityCauseLabel(t))}_getEntityCauseLabel(e){if(e&&(0,E.ft)(e.id)){const t=this.listEntities().find((t=>t.id===e.id));if(t&&t.causes){const s=b.o0[e.id]||e.label;return"".concat(s," > ").concat((0,L.sH)(t))}}return null}getIocLabel(e){return e&&e.id&&e.id===b.Zh?(0,y.hg)(this.getIndicatorsOfCompromise()):null}getWebAlertLabel(){const{searchTerms:{parts:e=[]}={},title:t}=this.getMostRelevantAlert()||{};let s;const[n,...i]=e.filter((e=>!(0,F.Qv)(e)));return i.length?t:(n&&(0,E.ft)(n.id)&&(s=this._getEntityCauseLabel(n)),this.getIocLabel(n)||s||t)}getMostRelevantPriority(){if(!this.isPrioritized())return null;const{viaStreamId:e}=this.metadata,t=this.jsonInfo.priorities;if(e){const s=t.find((t=>t.id===e||t.streamId===e));if(s)return s}return this.jsonInfo.priorities[0]}getMostRelevantAlert(){if(!this.metadata.isFromWebAlertSource)return null;const{viaStreamId:e}=this.metadata,t=this.jsonInfo.sources;if(e){const s=t.find((t=>t.streamId===e));if(s)return s}return this.jsonInfo.sources[0]}listBusinessEvents(){return this.jsonInfo.businessEvents?this.jsonInfo.businessEvents.slice(0):[]}getPowerSearchTerms(){return this.jsonInfo.searchTerms}getPreviewSearchTerms(){return this.jsonInfo.previewSearchTerms}getFirstSuggestedLikeBoard(){return this.getSuggestedLikeBoards()[0]||null}getSuggestedLikeBoards(){if(!this.isPrioritized())return[];const{priorities:e}=this.jsonInfo,t=e.reduce(((e,t)=>{let{searchTerms:s}=t;return s.likeBoards?e.concat(s.likeBoards):e}),[]);return r()(t,"id")}hasSecurityPriority(){return!(!this.jsonInfo.priorities||!this.jsonInfo.priorities.some((e=>e.searchTerms.severity)))}hasSecurityWebAlert(){const e=this.getEstimatedCVSS();return e?this.listSources().some((t=>t.searchTerms&&t.searchTerms.parts.some((t=>t.text&&t.text===e.category)))):null}getPrioritySeverity(){if(!this.hasSecurityPriority())return null;let e="LOW";return this.jsonInfo.priorities.forEach((t=>{t.searchTerms.severity&&N.BU.indexOf(t.searchTerms.severity)>N.BU.indexOf(e)&&(e=t.searchTerms.severity)})),e}showCVSS(){const{category:e}=this.getEstimatedCVSS()||{},{vulnerabilityInfo:{cvssScore:t}={}}=this.listTopVulnerability()||{};return t||this.hasSecurityPriority()||e}listPriorities(){return this.jsonInfo.priorities||[]}getHighlightableKeywords(){return this.metadata.highlightableKeywords||{}}getHighlightableKeywordSnippets(){try{if(this._highlightableKeywordSnippets)return this._highlightableKeywordSnippets;const e=this.listSentences(),t=[];let s=0,n=[];return this.metadata.highlightableKeywords&&(n=function(e,t){return e.reduce(((e,s)=>{const n=[];return Object.entries(t).forEach((e=>{let[t,{caseSensitive:i}]=e;const r=new RegExp(o()(t),i?"g":"gi");-1!==s.search(r)&&n.push(t)})),n.length&&e.push({keywords:n,sentence:s}),e}),[])}(e,this.metadata.highlightableKeywords)),n.forEach((e=>{const n=(0,O.L0)(e.sentence,!0),i=480,r=[];let a=-1;const{keywords:l}=e;if(l.forEach((e=>{const t=new RegExp("\\b"+o()(e)+"\\b","gi"),s=n.search(t);-1!==s&&(-1===a&&(a=s),r.push(e))})),0===r.length)return;let c=n;if(n.length>i){let e=0;a>240&&(e=a-240);let t=n.length;t-a>240&&(t=a+240),c=n.slice(e,t)}t.push({id:s++,text:c,keywords:r})})),this._highlightableKeywordSnippets=t,t}catch(e){return console.error(e),this._highlightableKeywordSnippets=null,[]}}lookupAnnotation(e){return this.jsonInfo.annotations.find((t=>t.id==e))}listAnnotations(){return this.jsonInfo.annotations||[]}listHighlights(){const e=this.listAnnotations(),t=[];return e.forEach((e=>{e.highlight&&t.push(e)})),t}addAnnotation(e){return null==this.jsonInfo.annotations&&(this.jsonInfo.annotations=[]),this.jsonInfo.annotations.push(e),e}updateAnnotation(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");s.comment=t.comment,s.highlight=t.highlight,s.emailMentions=t.emailMentions,s.slackMentions=t.slackMentions}deleteAnnotation(e){for(let t=0;t<this.jsonInfo.annotations.length;t++)if(this.jsonInfo.annotations[t].id==e)return this.jsonInfo.annotations.splice(t,1),!0;return!1}lookupAnnotationReply(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");if(null==s.replies)throw new Error("Annotation does not have replies");return s.replies.find((e=>e.id==t))}addAnnotationReply(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");return null==s.replies&&(s.replies=[]),s.replies.push(t),!0}updateAnnotationReply(e,t,s){const n=this.lookupAnnotationReply(e,t);if(null==n)throw new Error("Reply not found");return n.comment=s.comment,!0}deleteAnnotationReply(e,t){const s=this.lookupAnnotation(e);if(null==s)throw new Error("Annotation not found");if(null==s.replies)throw new Error("Reply not found");for(let n=0;n<s.replies.length;n++)if(s.replies[n].id==t)return s.replies.splice(n,1),!0;return!1}_shouldExcludeVisual(e){if(null==e)return!0;for(let t=0;t<Z.length;t++)if(e.indexOf(Z[t])>-1)return!0;for(let t=0;t<z.length;t++)if(e.indexOf(z[t])>-1)return!0;return!1}_isVisualCandidate(e){if(null==e||null==e.url)return!1;if(1==e.featured)return!0;const{url:t}=e;for(let s=0;s<B.length;s++)if(t.indexOf(B[s])>-1)return!1;return!0}_lookupVisual(e){const t=this._listAllVisuals();for(let s=0;s<t.length;s++)if(t[s].url==e)return t[s];return null}enrichVisual(e,t,s){for(let a=0;a<B.length;a++)if(e.indexOf(B[a])>-1)return;this.metadata.sized=!0;let n=!1;const i=this._listAllVisuals();for(let a=0;a<i.length;a++)i[a].url==e&&(i[a].width=t,i[a].height=s,i[a].sized=!0,n=!0);const r=this.listContentVisuals();for(let a=0;a<r.length;a++)r[a].url==e&&(r[a].width=t,r[a].height=s,r[a].sized=!0,n=!0);0==n&&(i.unshift({url:e,width:t,height:s,external:!0}),r.unshift({url:e,width:t,height:s,external:!0}),this.metadata.embeddedVisuals=r.length,this.metadata.externalVisual={url:e,width:t,height:s})}_extractVisuals(){const e=(0,h.BB)(this.getContent()),t={};for(let a=0;a<e.length;a++)t[e[a].url]=!0;if(null!=this.jsonInfo.thumbnail&&this.jsonInfo.thumbnail.length>0){const s=this.jsonInfo.thumbnail.sort(((e,t)=>(t.width||0)-(e.width||0)));for(let n=0;n<s.length;n++)null!=this.getFeedId()&&this.getFeedId().toLowerCase().indexOf("techcrunch")>-1||null!=this.getFeedId()&&this.getFeedId().toLowerCase().indexOf("ommalik")>-1?(s[n].url=s[n].url.split("?")[0],this.metadata.greatThumbnail={url:s[n].url},s[n].great=!0,s[n].thumbnail=!0,null==t[s[n].url]&&e.unshift(s[n])):s[n].url.indexOf("blogspot")>-1?(s[n].url=s[n].url.replace(/(.*)\/s[0-9]+(\-c)*.*/gi,((e,t)=>null!=e&&null!=t?(this.metadata.greatThumbnail={url:t+"/"},t+"/"):this.jsonInfo.thumbnail[n].url)),s[n].great=!0,s[n].thumbnail=!0,delete s[n].width,delete s[n].height,null==t[s[n].url]&&e.unshift(s[n])):null!=s[n].width&&parseInt(s[n].width)>400&&(s[n].thumbnail=!0,s[n].great=!0,null==t[s[n].url]&&e.unshift(s[n]))}const s=this.getEnclosure("image");null!=s&&null!=s.href&&null==t[s.href]&&(-1==s.href.indexOf("flickr.com")?e.unshift({url:s.href,width:s.width,height:s.height,enclosure:!0,featured:s.featured}):e.push({url:s.href,width:s.width,height:s.height,enclosure:!0,featured:s.featured}));const n=function(e,t){try{const s=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/gi,n=e||(0,D.Y)(s,t);if(n)return{url:"http://img.youtube.com/vi/"+n+"/0.jpg",videoId:"youtube:"+n,width:480,height:360}}catch(s){console.log("[video utils] YT Extraction failed:"+s.name+" -- "+s.message)}return null}(this.metadata.youtube,this.getContent());null!=n&&e.push(n);const i=[],r={};for(const a of e)if(0===a.url.indexOf("http://www.yatzer.com/")&&a.url.indexOf("thumb.jpg")>-1?(a.width=640,a.height=396):0===a.url.indexOf("http://images.veerle.duoh.com")?i.push({url:a.url.replace(".jpg","-big.jpg")}):a.url.indexOf("jpeg_preview_medium.jpg")>-1&&(a.url=a.url.replace(new RegExp("jpeg_preview_medium.jpg","gi"),"jpeg_preview_large.jpg"),a.width=424,a.height=240),a.surface=a.width?a.width*(a.height||100):a.great?1e5:0,null!=r[a.url]){const e=r[a.url];null==e.width&&(e.width=a.width),null==e.height&&(e.height=a.height),null!=a.width&&null!=e.width&&(e.width=Math.max(a.width,e.width)),null!=a.height&&null!=e.height&&(e.height=Math.max(a.height,e.height))}else i.push(a),r[a.url]=a;for(let a=0;a<i.length;a++)null!=i[a].url&&(i[a].proxy=this._buildProxyUrl(i[a].url));return i}_extractEnclosure(){if(this.jsonInfo.enclosure&&this.jsonInfo.enclosure.length>0){const e=this.jsonInfo.enclosure.sort(((e,t)=>(t.width||0)-(e.width||0)+(!0===t.featured?1e3:0)-(!0===e.featured?1e3:0)));return e[0].type||!0!==e[0].featured||(e[0].type="image"),e[0]}return null}getDefaultTagOrCategory(){if(null!=this.jsonInfo.tags)for(let e=0;e<this.jsonInfo.tags.length;e++)if(this.jsonInfo.tags[e].label&&-1==this.jsonInfo.tags[e].label.indexOf("global."))return"#"+this.jsonInfo.tags[e].label.replace(" ","","gi").toLowerCase();if(null!=this.jsonInfo.categories)for(let e=0;e<this.jsonInfo.categories.length;e++)if(this.jsonInfo.categories[e].label&&-1==this.jsonInfo.categories[e].label.indexOf("global."))return"#"+this.jsonInfo.categories[e].label.replace(" ","","gi").toLowerCase();return null}getAllEntrySearchTermsPartIds(){var e,t,s,n;const i=[...null!==(e=null===(t=this.jsonInfo.priorities)||void 0===t?void 0:t.flatMap((e=>e.searchTerms)))&&void 0!==e?e:[],...null!==(s=null===(n=this.jsonInfo.sources)||void 0===n?void 0:n.flatMap((e=>e.searchTerms)))&&void 0!==s?s:[],this.jsonInfo.searchTerms,this.jsonInfo.previewSearchTerms].filter(Boolean);return new Set(i.flatMap((e=>{var t;return null!==(t=e.parts)&&void 0!==t?t:[]})).map((e=>e.id)).filter(Boolean))}_addLinkedArticleEntities(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0],{entities:t=[]}=this.jsonInfo;e.entities&&(this.jsonInfo.entities=r()([...e.entities,...t],"id"))}_addLinkedArticleEstimatedCVSS(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0],{estimatedCVSS:t}=this.jsonInfo;!t&&e.estimatedCVSS&&(this.jsonInfo.estimatedCVSS=e.estimatedCVSS)}_addLinkedArticleTopics(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0],{commonTopics:t=[]}=this.jsonInfo;e.commonTopics&&(this.jsonInfo.commonTopics=r()([...e.commonTopics,...t],"id"))}_addLinkedArticleIocMentions(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0],{indicatorsOfCompromise:t}=this.jsonInfo;!t&&e.indicatorsOfCompromise&&(this.jsonInfo.indicatorsOfCompromise=e.indicatorsOfCompromise)}_addLinkedArticleAttackNavigator(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0],{attackNavigator:t}=this.jsonInfo;!t&&e.attackNavigator&&(this.jsonInfo.attackNavigator=e.attackNavigator)}_findHighlightableKeywords(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{category:n}=null!==(t=this.getEstimatedCVSS())&&void 0!==t?t:{};return e.reduce(((e,t)=>{if(t.searchTerms&&t.searchTerms.parts){const i=this.findRelevantCausedEntities(t);if(i.length)return i.forEach((t=>{t.causes.forEach((t=>e[t.label]={highlight:!0}))})),e;t.searchTerms.parts.forEach((t=>{const i=s.find((e=>e.id===t.id));if(i&&i.mentions&&i.mentions.length)i.mentions.forEach((t=>{e[t.text]={highlight:!0}}));else{const s=t.label||t.text;!s||n&&s===n||(e[s]={highlight:!0})}}))}return e}),{})}_getCauseSearchTerms(){const{parts:e=[]}=this.getPreviewSearchTerms()||this.getPowerSearchTerms()||{};return this._findHighlightableKeywords([{searchTerms:{parts:e}}])}_getIocMentions(){const{mentions:e}=this.getIndicatorsOfCompromise(),t={};return e?(e.forEach((e=>{t[e.text]={highlight:!0}})),t):{}}_setLinkedArticleAsContent(){const e=this.jsonInfo.linked&&this.jsonInfo.linked[0];if(!e)return;const{author:t,title:s,visual:n}=e;s&&(this.metadata.substitutedTitle=s),n&&(this.jsonInfo.visual=n),e.content&&e.content.content?this.jsonInfo.fullContent=e.content.content:e.fullContent&&(this.jsonInfo.fullContent=e.fullContent),e.canonical&&e.canonical.length>0&&e.canonical[0].href?this.metadata.substitutedAlternateLink=e.canonical[0].href:e.canonicalUrl&&(this.metadata.substitutedAlternateLink=e.canonicalUrl),e.origin&&e.origin.title&&(this.metadata.substitutedSourceTitle=e.origin.title),this.metadata.substitutedAuthor=t?(0,O.L0)(t):""}}var Q=s(18514),G=s(68681),K=s(61861);function J(e){let t=0;for(const s in e)null!=e[s]&&t++;return t}var X=s(83168),$=s(48942),ee=s(855),te=s(77157),se=s(24916),ne=s(68906),ie=s.n(ne),re=s(79464);class ae extends X.y{constructor(e,t){super(),(0,n.Z)(this,"_checkForNewerEntries",(async()=>{if(!this.reader)return;const e=this.state.version,t=await this.reader.askHasNewEntries(this.streamId,{importantOnly:this._importantOnly,newerThan:this._updateIfNewerThan+1});null!=this.state&&(this.state.version===e?t?(this.state.hasNewerEntries=!0,this.fire("onStreamHasNewerEntries",this.streamId),this._clearNewerEntriesTimeout()):this._checkForNewerEntriesTimeout=window.setTimeout(this._checkForNewerEntries,6e4):console.log("[stream] cancelled because of version number",e,this.state))})),this.streamId=e;const{isTag:s}=(0,f.Yg)(e);this._isTag=s,this._continuation=null,this.setBatchSize(t.batchSize),this.setImportantOnly(t.importantOnly),this.setSort(t.sort),this.setUnfilteredOnly(t.unfilteredOnly),this.setUnreadOnly(t.unreadOnly),this.setShowMuted(t.showMuted),this.setFeatured(t.featured),this.setNewerThan(t.newerThan),this.setShouldCheckForNewerEntries(t.shouldCheckForNewerEntries),this.setSearchTerm(t.searchTerm),this.setSearchRanked(t.searchRanked),this.setSearchEmbedded(t.searchEmbedded),this.setSearchTime(t.searchTime),this.setIgnoreRemovedTags(),this.setTrickle(t.trickle),this._deduplicationIndex={},this._relatedEntriesIndex={},this._featuredEntriesIndex={},this.state={streamId:e,query:t,info:null,featuredEntries:null,isLoadingFeaturedEntries:!1,entries:null,hasAllEntries:!1,isLoadingEntries:!1,isLoadingMetadata:!1,isEmpty:null,error:null,hasNewerEntries:!1,version:0,modificationCount:0}}setReader(e){this.reader=e,this.reader.registerObserver(this)}setPreferences(e){this.preferences=e}setMetadataService(e){const t="askMetadata";e.askMetadata||console&&console.warn("[Stream] Unable to fetch metadata for '".concat(this.streamId,"', because `setMetadataService` requires a service with an `").concat(t,"` method.")),this.metadataService=e}setPersonalcollections(e){this.personalcollections=e,this.personalcollections.registerObserver(this)}setEnterprisecollections(e){this.enterprisecollections=e,this.enterprisecollections.registerObserver(this)}setEnterprisetags(e){this.enterprisetags=e,this.enterprisetags.registerObserver(this)}setPersonaltags(e){this.personaltags=e,this.personaltags.registerObserver(this)}load(){this._initializeState()}unload(){this.reader.unregisterObserver(this),this.enterprisecollections.unregisterObserver(this),this.enterprisetags.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.personaltags.unregisterObserver(this),this._clearNewerEntriesTimeout(),this.metadataService=null,this.streamId=null,this.state=null,this.reader=null,this.preferences=null}refresh(){this.cache={}}getState(){return{...this.state}}setBatchSize(e){this._batchSize=e,null===this._batchSize&&(this._batchSize=40)}isImportantOnly(){return this._importantOnly}setImportantOnly(e){this._importantOnly=e}setTrickle(e){this._trickle=e}setSearchTerm(e){this._searchTerm=e}setSearchRanked(e){this._searchRanked=e}setSearchEmbedded(e){this._searchEmbedded=e}setSearchTime(e){this._searchTime=e}setNewerThan(e){this._newerThan=e}setSort(e){this._sort=e||"newest"}setIgnoreRemovedTags(){this._ignoreRemovedTags=this.streamId.indexOf("tag/global.saved")>-1}setUnfilteredOnly(e){void 0!==e?this._unfilteredOnly=!!e:void 0===this._unfilteredOnly&&(this._unfilteredOnly=!0)}setShouldCheckForNewerEntries(e){this._shouldCheckForNewerEntries=!!e}setUnreadOnly(e){this._unreadOnly=e,null===this._unreadOnly&&(this._unreadOnly=!1)}isUnreadOnly(){return this._unreadOnly}setShowMuted(e){this._showMuted=e}setFeatured(e){this._featured=e||0}async askUpdateQuery(e){return this.state.query=e,this.state.version++,this.state.featuredEntries=null,this.state.isLoadingFeaturedEntries=!1,this.state.entries=null,this.state.hasAllEntries=!1,this.state.isLoadingEntries=!1,this.state.isEmpty=null,this.state.error=null,this.state.hasNewerEntries=!1,this._continuation=null,this._deduplicationIndex={},this._relatedEntriesIndex={},this._featuredEntriesIndex={},this._trickle=null,e.sort&&this.setSort(e.sort),null!=e.batchSize&&this.setBatchSize(e.batchSize),"boolean"==typeof e.importantOnly&&this.setImportantOnly(e.importantOnly),this.setShouldCheckForNewerEntries(e.shouldCheckForNewerEntries),this._clearNewerEntriesTimeout(),this.setSearchEmbedded(e.searchEmbedded),this.setSearchRanked(e.searchRanked),this.setSearchTerm(e.searchTerm),this.setSearchTime(e.searchTime),this.setFeatured(e.featured),this.setNewerThan(e.newerThan),this.setUnfilteredOnly(e.unfilteredOnly),this.setUnreadOnly(e.unreadOnly),this.setShowMuted(e.showMuted),this.setTrickle(e.trickle),this.fire("onStreamStateChanged"),this.askMoreEntries()}async askMoreEntries(){return this._askMoreEntries()}_clearNewerEntriesTimeout(){this._checkForNewerEntriesTimeout&&(window.clearTimeout(this._checkForNewerEntriesTimeout),this._checkForNewerEntriesTimeout=null),this._updateIfNewerThan=null}_initializeState(){this._askMetadata(),this._askMoreEntries()}async _askMetadata(){if(!this.metadataService)return this._updateState("info",null),void this._updateState("isLoadingMetadata",!1);try{this._updateState("isLoadingMetadata",!0);const{isFavorites:e,isFeed:t,isTag:s}=(0,f.Yg)(this.streamId);let n=await this.metadataService.askMetadata(this.streamId);if(!n&&e&&(n=await this.metadataService.askFavoritesCollection(this.streamId)),!this.streamId)return;if(!n||n.id!==this.streamId){let e;throw e=t?"source":s?"board":"feed","".concat(e," not found")}this._updateState("info",n),this._updateState("isLoadingMetadata",!1)}catch(e){this._handleError(e)}}async _askMoreEntries(){var e;if(!this.state||this.state.hasAllEntries||this.state.isLoadingEntries||this.state.isLoadingFeaturedEntries)return;if(!streets.getUserId()&&null!==(e=this.state)&&void 0!==e&&e.entries)return;if(this._featured&&this._featured>0&&!this.state.featuredEntries)return this._askFeaturedEntries();if(0===this._batchSize)return this._updateState("hasAllEntries",!0,!0),void this._updateState("entries",[]);const t=this.state.version;this.state.isLoadingEntries=!0,this.fire("onStreamIsLoadingEntries",this.streamId);try{let{entries:e,continuation:s}=await this.reader.askMoreEntries(this.streamId,{unreadOnly:this._unreadOnly,showMuted:this._showMuted,r:"oldest"===this._sort?"o":"n",newerThan:this._newerThan,importantOnly:this._importantOnly,searchTerm:this._searchTerm,searchRanked:this._searchRanked,searchEmbedded:this._searchEmbedded,searchTime:this._searchTime},this._batchSize,this._continuation);if(null==this.state)return;if(this.state.version!==t)return void console.log("[stream] cancelled because of version number",t,this.state);e=this._filterServerDuplicateBug(e,this.state.entries||[]),this._shouldCheckForNewerEntries&&!this._updateIfNewerThan&&e&&e.length>0&&(this._updateIfNewerThan=e[0].getCrawlTime());let n=this._filterDuplicates(e);if(n.length<e.length&&this.fire("onDuplicatesRemoved",e.length-n.length),this._featured&&this._featured>0&&(n=n.filter((e=>!this._featuredEntriesIndex[e.getId()]))),n=this._removeRelatedEntries(n),!isNaN(this._trickle)&&this._trickle>0&&n.length>0)await this._trickleNewEntries(n);else{const e=this.state.entries||[];this._updateState("entries",e.concat(n),!0)}this._continuation=s,this.state.hasAllEntries||void 0!==s||this._updateState("hasAllEntries",!0,!0),this._updateIsEmpty(),this._updateState("isLoadingEntries",!1),!this._shouldCheckForNewerEntries||this._checkForNewerEntriesTimeout||this.state.hasNewerEntries||(this._checkForNewerEntriesTimeout=window.setTimeout(this._checkForNewerEntries,6e4))}catch(s){this._handleError(s)}}async _trickleNewEntries(e){return new Promise((async t=>{const s=ie()(e,this._trickle);for(const e of s)await this._addEntriesOnIdle(e);t()}))}async _addEntriesOnIdle(e){return new Promise((t=>{re.p.requestIdleCallback((()=>{const s=this.state&&this.state.entries||[];this._updateState("entries",s.concat(e),!1),t()}))}))}async _askFeaturedEntries(){const e=this.state.version;this._updateState("isLoadingFeaturedEntries",!0);let t=await this.reader.askMagicEntries(this.streamId,this._featured,{unreadOnly:this._unreadOnly,newerThan:this._newerThan,r:this._sort});if(null==this.state)return void console.log("[stream] cancelled because unloaded");if(this.state.version!==e)return void console.log("[stream] cancelled because of version number",e,this.state);if(t=this._filterServerDuplicateBug(t,[]),this._batchSize>0){let e=0;t.forEach((t=>{e=Math.max(e,t.getEngagement())})),e<10&&(t=[])}let s=this._filterDuplicates(t||[]);return s.length<t.length&&this.fire("onDuplicatesRemoved",t.length-s.length),s=this._removeRelatedEntries(s),this._featuredEntriesIndex={},s.forEach((e=>{this._featuredEntriesIndex[e.getId()]="featured"})),this._updateState("featuredEntries",s,!0),this._updateIsEmpty(),this._updateState("isLoadingFeaturedEntries",!1),this._askMoreEntries()}_filterServerDuplicateBug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];const s=r()(e,(e=>e.getId())).filter((e=>!t.some((t=>t.getId()===e.getId()))));return s.length!==e.length&&console.log("[warning] fixed server duplicate bug",e.length,s.length),s}_filterDuplicates(e){if(this._isTag)return e;if(!e)return[];if("yes"!==this.preferences.getPreference(T.yq)||this._showMuted)return e;const t=this._deduplicationIndex,s=this.isUnreadOnly();return e.filter((e=>{const n=e.listDuplicates().some((e=>!!t[e.entryId])),i=s&&e.listDuplicates().some((e=>!e.unread)),r=n||i;return r||(t[e.getId()]=!0),i&&this.reader.askMarkEntriesAsRead([e.getId()],{forceFlush:!1}),!r}))}_removeRelatedEntries(e){return this._isTag?e:(this._relatedEntriesIndex||(this._relatedEntriesIndex={}),e.filter((e=>{const t=e.getId();let s=!1;if(!this._relatedEntriesIndex[t]){this._relatedEntriesIndex[t]=!0;e.listRelatedEntries().forEach((e=>{this._relatedEntriesIndex[e.entryId]=!0})),s=!0}return s})))}_handleError(e){let t=e.message||e;e instanceof G.o&&(t=400===e.errorCode?e.errorMessage:e.debugMessage),this._updateState("error",t)}_updateIsEmpty(){let{entries:e=this.state.entries,featuredEntries:t=this.state.featuredEntries}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{query:s}=this.state;if(!s)return void(this.state.isEmpty=!1);const n=!!t&&0===t.length,i=!!e&&0===e.length;this.state.isEmpty=(0===s.featured||n)&&(0===s.batchSize||i)}_updateState(e,t,s){this.state&&(this.state[e]=t,!0!==s&&this.fire("onStreamStateChanged",this.streamId))}onCollectionChanged(e){e===this.streamId&&this._askMetadata()}onEntryBuried(e){if(this.state.entries)for(let t=0;t<this.state.entries.length;t++)if(this.state.entries[t].getId()===e){this.state.entries.splice(t,1),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("entries",this.state.entries.slice(0));break}if(this.state.featuredEntries)for(let t=0;t<this.state.featuredEntries.length;t++)if(this.state.featuredEntries[t].getId()===e){this.state.featuredEntries.splice(t,1),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("featuredEntries",this.state.featuredEntries.slice(0));break}}onNewStreamContentDetected(e){e===this.streamId&&(this.state.hasNewerEntries=!0,this.fire("onStreamHasNewerEntries",this.streamId),this._clearNewerEntriesTimeout())}onEntryTagged(e,t){this._handleEntryTagsChanged(e,t)}onEntryUntagged(e,t){this._handleEntryTagsChanged(e,t)}async _handleEntryTagsChanged(e,t){const{isEnterprise:s,isTag:n,isGlobal:i}=(0,f.Yg)(this.streamId),{isEnterprise:r}=(0,f.Yg)(t);if(t===this.streamId||i&&n&&s===r){if(this.state.entries){const t=this.state.entries.slice(0),n=t.find((t=>t.getId()==e)),r=!n,a=n&&!i&&!n.includesTag(this.streamId)||n&&i&&(s&&0===n.listEnterpriseTags().length||!s&&0===n.listPersonalTags().length);if(r){const s=await this.reader.askLookupEntry(e);s.includesTag(this.streamId)&&(t.unshift(s),this._updateIsEmpty({entries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("entries",t))}else if(a&&!1===this._ignoreRemovedTags)for(let s=0;s<t.length;s++)if(t[s].getId()===e){t.splice(s,1),this._updateIsEmpty({entries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("entries",t);break}}if(this.state.featuredEntries){const t=this.state.featuredEntries.slice(0),n=t.find((t=>t.getId()==e)),r=!n,a=n&&!i&&!n.includesTag(this.streamId)||n&&i&&(s&&0===n.listPersonalTags().length||!s&&0===n.listEnterpriseTags().length);if(r){const s=this.reader.lookupEntry(e);s.includesTag(this.streamId)&&(t.unshift(s),this._updateIsEmpty({featuredEntries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("featuredEntries",t))}else if(a&&!1===this._ignoreRemovedTags)for(let s=0;s<t.length;s++)if(t[s].getId()===e){t.splice(s,1),this._updateIsEmpty({featuredEntries:t}),this._updateState("modificationCount",this.state.modificationCount+1,!0),this._updateState("featuredEntries",t);break}}}}onTagChanged(e){this.streamId&&this.streamId===e&&this._askMetadata()}onFeedChanged(e){e===this.streamId&&this._askMetadata()}}const oe=ae,le=Object.freeze({service:"Reader",askListUnreadCounts:"askListUnreadCounts"});class ce extends X.y{constructor(){super(...arguments),(0,n.Z)(this,"cache",{}),(0,n.Z)(this,"entries",{}),(0,n.Z)(this,"urls",{}),(0,n.Z)(this,"unreadCountsTimer",null),(0,n.Z)(this,"markAsReadQueue",[]),(0,n.Z)(this,"flushTimer",null),(0,n.Z)(this,"_lastRefreshUnreadCountsIfOnline",(new Date).getTime()),(0,n.Z)(this,"undoLastMarkAsReadRequest",null)}setEnterprisecollections(e){this.enterprisecollections=e,this.enterprisecollections.registerObserver(this)}setEnterprise(e){this.enterprise=e,this.enterprise.registerObserver(this)}setEnterprisetags(e){this.enterprisetags=e,this.enterprisetags.registerObserver(this)}setPersonalcollections(e){this.personalcollections=e,this.personalcollections.registerObserver(this)}setPreferences(e){this.preferences=e,this.preferences.registerObserver(this)}setNet(e){this.net=e}setProfile(e){this.profile=e}setPersonalfilters(e){this.personalfilters=e}setEnterprisefilters(e){this.enterprisefilters=e}setPersonaltags(e){this.personaltags=e}setPriorities(e){this.priorities=e}setEnterprisepriorities(e){this.enterprisepriorities=e,this.enterprisepriorities.registerObserver(this)}setPersonalpriorities(e){this.personalpriorities=e,this.personalpriorities.registerObserver(this)}setCollections(e){this.collections=e}setTags(e){this.tags=e}setFeeds(e){this.feeds=e}setMicrosessions(e){this.microsessions=e}load(){this._resetVariables()}async askRefresh(){await this.askCompact(),await this._askProcessPendingMarkAsRead(),await this.askRefreshUnreadCounts()}uninitialize(){this._askFlushMarkAsReads(),null!=this.unreadCountsTimer&&(window.clearInterval(this.unreadCountsTimer),this.unreadCountsTimer=null),this.preferences.unregisterObserver(this),this.personaltags.unregisterObserver(this),this.enterprise.unregisterObserver(this),this.enterprisepriorities.unregisterObserver(this),this.personalpriorities.unregisterObserver(this),this.uninitialized=!0}unload(){this.preferences=null,this.net=null,this.entries=null,this.urls=null,this.enterprise=null,this.profile=null,this.personaltags=null,this.enterprise=null,this.priorities=null,this.collections=null,this.cache=null,this.tags=null,this.feeds=null,this.microsessions=null}async onUserIdentified(){this._resetVariables(),this._askProcessPendingMarkAsRead()}async onNoUserIdentified(){this._resetVariables()}async onTagsChanged(){await this.askRefreshUnreadCounts()}onPreferenceChanged(e,t,s){if(s)if("entryNavigation"===e){const e=s.slice("subscription/".length);this._listCachedFeedEntries(e).forEach((e=>{e.setNavigation(t)}))}else{{const e=s.slice("subscription/".length);this._listCachedFeedEntries(e).forEach((e=>{e.metadata.u=parseInt(t)}))}}}async onPriorityChanged(e,t){const s=await this.priorities.askMetadata(t||e);s&&s.label&&Object.keys(this.entries).forEach((e=>{this.lookupEntry(e).setPriorityLabel(s)&&this.fire("onEntryPriorityChanged",e)}))}_resetVariables(){this.cache={},this.entries={},this.urls={},this.unreadCountsTimer&&(window.clearTimeout(this.unreadCountsTimer),this.unreadCountsTimer=null)}getMBean(){const e={backend:"feedly cloud",version:"31.0.1510"};return e.userId=streets.getUserId()||"none",e.cached=J(this.entries)+" entries",e.urls=J(this.urls)+" urls",e.plan=streets.getPlan(),e.profile=this.profile.getUserInfo(),e.session=te.F.load(),e}onBeforePageLoad(e,t){this._askFlushMarkAsReads(),!e||!t||e.startsWith("library")&&t.startsWith("library")||(this.entries={})}isReady(){return!0}async askReady(){return!0}async _askFlushMarkAsReads(){if(!streets.getUserId())return;if(0===this.markAsReadQueue.length)return;const e={action:"markAsRead",type:"entries",entryIds:[],readTimes:[]};for(let t=0;t<this.markAsReadQueue.length;t++){e.entryIds.push(this.markAsReadQueue[t]);const s=this.lookupEntry(this.markAsReadQueue[t]);e.readTimes.push(s&&s.readTime?s.readTime:0)}return this.flushTimer&&(window.clearTimeout(this.flushTimer),this.flushTimer=null),this.markAsReadQueue=[],this.net.POST("!{cloud}/v3/markers",e)}async _askQueueMarkAsReads(e,t){if(e&&0!==e.length){for(let t=0;t<e.length;t++)this.markAsReadQueue.push(e[t]);this.flushTimer&&(window.clearTimeout(this.flushTimer),this.flushTimer=null),t||this.markAsReadQueue.length>20?await this._askFlushMarkAsReads():this.flushTimer=window.setTimeout((()=>{this.markAsReadQueue.length>0&&this._askFlushMarkAsReads(),this.flushTimer=null}),1500)}}async askSaveEntryFeedback(e,t){const{description:s,reason:n,type:i}=t;if(!e||!n||!i)throw new Error("Missing required property `entryId`, `categoryId`, `reason`, or `type`.");this.microsessions.setEntryAsLessLikeThis(e,t.reason);const r=this.lookupEntry(e);r&&r.setFeedback({description:s,reason:n}),this.fire("onEntryFeedbackChanged",e),await this.net.POST("!{cloud}/v3/entries/feedback/".concat(encodeURIComponent(e)),t)}async askDeleteEntryFeedback(e){if(!e)throw new Error("[askDeleteEntryFeedback] Missing required property `entryId`.");this.lookupEntry(e).deleteFeedback(),this.fire("onEntryFeedbackChanged",e),this.microsessions.clearEntryLessLikeThis(e),await this.net.DEL("!{cloud}/v3/entries/feedback/".concat(encodeURIComponent(e)))}async askTagEntry(e,t){const s=this.lookupEntry(e);if(null==s)throw new Error("Entry not found");const n=Object.assign(t,{});n.addedBy=streets.getUserId(),n.addedByUser=this.profile.getUserInfo(),n.actionTimestamp=(new Date).getTime(),s.addTag(n),this.fire("onEntryTagged",e,t.id),this.fire("onEntryTagsChanged",e);try{await this._tagEntry(s,t.id)}catch(i){let{message:n}=i;throw i instanceof G.o&&409===i.errorCode&&(n="A duplicate of this article is already saved in this board"),s.removeTag(t.id),this.fire("onEntryUntagged",e,t.id),this.fire("onEntryTagsChanged",e),new Error(n)}this.fire("onNewTagDiscovered",e)}async askUntagEntry(e,t){const s=this.lookupEntry(e);if(null==s)throw new Error("Entry not found");if(!s.includesTag(t.id))throw new Error("Entry does not have this tag");s.removeTag(t.id),this.fire("onEntryUntagged",e,t.id),this.fire("onEntryTagsChanged",e);try{await this._untagEntry(s,t.id)}catch(n){throw s.addTag(t),this.fire("onEntryTagged",e,t.id),this.fire("onEntryTagsChanged",e),n}}async _tagEntry(e,t){if(null!=streets.getUserId())return this.microsessions.setEntryAsSaved(e.getId(),t),this.net.PUT("!{cloud}/v3/tags/"+encodeURIComponent(t),{entryId:e.getId()})}async _untagEntry(e,t){return this.microsessions.clearEntrySaved(e.getId(),t),this.net.DEL("!{cloud}/v3/tags/"+encodeURIComponent(t)+"/"+encodeURIComponent(e.getId()))}async askToggleEntryRead(e){const t=this.lookupEntry(e);if(t)return t.isRead()?this.askKeepEntryAsUnread(e):this.askMarkEntryAsRead(e)}async askToggleEntryQuicklisted(e){return!0===this.lookupEntry(e).isQuicklisted()?this._removeEntryFromQuicklist(e):this._addEntryToQuicklist(e)}async _addEntryToQuicklist(e){const t=this.lookupEntry(e);if(1==t.isQuicklisted())return;const s=this._formatTagId("global.saved");await this._tagEntry(t,s),t.setQuicklisted(!0),this.fire("onEntryQuicklistStatusChanged",e,!0),this.fire("onEntryTagged",e,s),this.fire("onEntryTagsChanged",e),(0,se.x)(t)}async _removeEntryFromQuicklist(e){const t=this.lookupEntry(e);if(0==t.isQuicklisted())return;const s=this._formatTagId("global.saved");await this._untagEntry(t,s),t.setQuicklisted(!1),this.fire("onEntryQuicklistStatusChanged",e,!1),this.fire("onEntryUntagged",e,s),this.fire("onEntryTagsChanged",e)}_formatTagId(e){return(0,f.P2)("tag",e,streets.getUserId())}async askCompact(){try{await this._askFlushMarkAsReads(),this.entries={},this.urls={},this.fire("onReaderCompacted")}catch(e){console.error("[reader] compaction failed",e),this.fire("onReaderCompacted")}}askReset(){this.entries={},this.urls={}}lookupStream(e,t){const s=new oe(e,t);if(s.setEnterprisecollections(this.enterprisecollections),s.setEnterprisetags(this.enterprisetags),s.setPersonalcollections(this.personalcollections),s.setPersonaltags(this.personaltags),s.setPreferences(this.preferences),s.setReader(this),!streets.hasBusinessAccess()||e!==(0,f.xW)()&&e!==(0,f.GJ)()){let t;const{isCategory:n,isEnterprise:i,isFeed:r,isFilter:a,isGlobalEnterprise:o,isPriority:l,isTag:c}=(0,f.Yg)(e);r?t=this.feeds:a?t=i?this.enterprisefilters:this.personalfilters:l?t=this.priorities:n?t=i||o?this.enterprisecollections:this.personalcollections:c&&(t=i||o?this.enterprisetags:this.personaltags),t&&s.setMetadataService(t)}return s.load(),s}releaseStream(e){e&&e.unload()}async askAddAnnotation(e,t){const s={comment:t.comment,entryId:e,highlight:t.highlight,emailMentions:t.emailMentions,slackMentions:t.slackMentions};return this.net.POST("!{cloud}/v3/annotations",s).then(JSON.parse).then((t=>{if(!t)throw new Error("failed to save annotation");t.authorUser=this.profile.getUserInfo();return this.lookupEntry(e).addAnnotation(t),this.fire("onEntryAnnotationsChanged",e),t}))}async askUpdateAnnotation(e,t,s){const n={comment:s.comment,highlight:s.highlight,emailMentions:s.emailMentions,slackMentions:s.slackMentions};return this.net.PUT("!{cloud}/v3/annotations/".concat(encodeURIComponent(t)),n).then((()=>{const n=this.lookupEntry(e);return n.updateAnnotation(t,s),this.fire("onEntryAnnotationsChanged",e),n.lookupAnnotation(t)}))}async askSnapshotAnnotation(e){return this.net.POST("!{cloud}/v3/annotations/snapshot",{annotationId:e}).then(JSON.parse)}async askDeleteAnnotation(e,t){return this.net.DEL("!{cloud}/v3/annotations/".concat(encodeURIComponent(t))).then((()=>{this.lookupEntry(e).deleteAnnotation(t),this.fire("onEntryAnnotationsChanged",e)}))}async askAddAnnotationReply(e,t,s){const n={comment:s.comment,inReplyTo:s.inReplyTo};return this.net.PUT("!{cloud}/v3/annotations/".concat(encodeURIComponent(t),"/replies"),n).then(JSON.parse).then((s=>(this.lookupEntry(e).addAnnotationReply(t,s),this.fire("onEntryAnnotationsChanged",e),s)))}async askUpdateAnnotationReply(e,t,s,n){const i={comment:n.comment};return this.net.PUT("!{cloud}/v3/annotations/".concat(encodeURIComponent(t),"/replies/").concat(encodeURIComponent(s)),i).then((()=>{const i=this.lookupEntry(e);return i.updateAnnotationReply(t,s,n),this.fire("onEntryAnnotationsChanged",e),i.lookupAnnotationReply(t,s)}))}async askDeleteAnnotationReply(e,t,s){return this.net.DEL("!{cloud}/v3/annotations/".concat(encodeURIComponent(t),"/replies/").concat(encodeURIComponent(s))).then((()=>{this.lookupEntry(e).deleteAnnotationReply(t,s),this.fire("onEntryAnnotationsChanged",e)}))}__testAnnotations(e){const t=this.lookupEntry(e);let s,n;this.askAddAnnotation(e,{comment:"Hello World Annotation"}).then((n=>(console.log("[reader][annotation][test #1] Add annotation:"+JSON.stringify(t.listAnnotations())),s=n,this.askUpdateAnnotation(e,n.id,{comment:"Hello World Again!"})))).then((s=>(console.log("[reader][annotation][test #2] Update annotation:"+JSON.stringify(t.listAnnotations())),this.askAddAnnotationReply(e,s.id,{comment:"Bonjour Monsieur",inReplyTo:s.id})))).then((i=>(console.log("[reader][annotation][test #3] Reply to annotation:"+JSON.stringify(t.listAnnotations())),n=i,this.askUpdateAnnotationReply(e,s.id,i.id,{comment:"Content de vous voir"})))).then((()=>(console.log("[reader][annotation][test #4] Update reply:"+JSON.stringify(t.listAnnotations())),this.askDeleteAnnotationReply(e,s.id,n.id)))).then((()=>(console.log("[reader][annotation][test #5] Delete reply:"+JSON.stringify(t.listAnnotations())),this.askDeleteAnnotation(e,s.id)))).then((()=>{console.log("[reader][annotation][test #6] Delete annotation:"+JSON.stringify(t.listAnnotations()))}))}async askRefreshUnreadCountsIfOnline(){let{forceRefresh:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!e&&(new Date).getTime()-this._lastRefreshUnreadCountsIfOnline<(0,u.DZ)(5)||await this._askCheckIsOnline()&&(this._lastRefreshUnreadCountsIfOnline=(new Date).getTime(),await this.askRefreshUnreadCounts())}async _askCheckIsOnline(){try{return await this.net.GET("!{cloud}/status"),!0}catch(e){return!1}}async askRefreshUnreadCounts(){return this.askListUnreadCounts({forceRefresh:!0,fireNewStreamContentDetected:!0})}async askListUnreadCounts(){let{forceRefresh:e=!1,cachedUnreadCountsOnly:t=!1,fireNewStreamContentDetected:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,K.Z)(le.service,le.askListUnreadCounts);return this.cache?streets.getUserId()?t||this.cache.unreadCounts&&!e?this.cache.unreadCounts:n||(n=this.net.GET("!{cloud}/v3/markers/counts").then(JSON.parse).then((e=>{const{updatedStreamIds:t,addedStreamIds:n,removedStreamIds:i}=this._detectUnreadCountChanges(this.cache.unreadCounts,e&&e.unreadcounts);return this.cache.unreadCounts=e&&e.unreadcounts,t.forEach((e=>{s&&this.fire("onNewStreamContentDetected",e,this.getStreamUnreadCount(e)),this.fire("onStreamUnreadCountChanged",e,this.getStreamUnreadCount(e))})),(n.length>0||i.length>0)&&this.fire("onStreamsChanged",n,i),this.cache.unreadCounts})),(0,K.Z)(le.service,le.askListUnreadCounts,n),n):(this.cache.unreadCounts=null,[]):[]}async askUnreadCountsIndex(e){return(await this.askListUnreadCounts(e)||[]).reduce(((e,t)=>{let{id:s,count:n}=t;return e[s]=n,e}),{})}async askMarkEntryAsRead(e,t){return this.askMarkEntriesAsRead([e],{...t,forceFlush:!1})}async askMarkEntriesAsRead(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[],{buried:n,isPriorityTabMarkAsRead:i,skipIsReadCheck:r=!1,skipKeptUnread:a,updateRelatedEntries:o=!1,forceFlush:l=!0}=t,c=this.preferences.getPreference(T.yq)===T.ZD.on,d=this.preferences.getPreference(T.xV)===T.ZD.on;let h=e.map((e=>this.lookupEntry(e)));if(n&&h.forEach((e=>{e&&(this.fire("onBeforeEntryBuried",e.getId()),e.jsonInfo.buried=n,this.fire("onEntryBuried",e.getId()))})),!r&&(h=h.filter((e=>{if(!e)return!1;const t=e.isRead();return t&&this.markEntryAsRecentlyRead(e.getId()),!t})),0===h.length))return;const u={},p=e=>{u[e]||(u[e]=0),u[e]-=1};for(let m=0;m<h.length;m++){const e=h[m];if(a&&e.wasKeptUnread())continue;const n=e.getId();if(await e.markAsRead(),s.push(n),this.fire("onEntryMarkedAsRead",n,t),this.microsessions.setEntryAsMarkedAsRead(n),this._getEntryStreamIds(e).forEach(p),c){const t=e.listDuplicates();for(let e=0;e<t.length;e+=1){const n=t[e];if(!n.unread)continue;n.unread=!1,s.push(n.entryId);(await this._askFeedStreamIds(n.feedId)).forEach(p)}}if(o&&d){const n=[...e.listRelatedEntries()];let i=!1;for(let e=0;e<n.length;e+=1){const r=n[e];if(!r.unread||!r.feedId)continue;n[e]={...r,unread:!1},s.push(r.entryId),this.fire("onEntryMarkedAsRead",r.entryId,t);(await this._askFeedStreamIds(r.feedId)).forEach(p),i=!0}i&&(e.jsonInfo.related=n)}}this._fireUnreadCountChanges(u),streets.getUserId()&&await this._askQueueMarkAsReads(s,l),i&&this.fire("onPriorityTabMarkedAsRead")}async askKeepEntriesAsUnread(e){e.forEach((e=>this.askKeepEntryAsUnread(e)))}async askKeepEntryAsUnread(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.lookupEntry(e);if(!s)return;if(!s.isRead())return void s.undoMarkAsRead();if(!streets.getUserId())return;const{updateRelatedEntries:n=!1}=t,i=this.preferences.getPreference(T.xV)===T.ZD.on,r=[e];s.undoMarkAsRead(),s.jsonInfo.buried=!1,this.fire("onEntryKeptUnread",e),this.microsessions.clearEntryMarkedAsRead(e);const a={},o=e=>{a[e]||(a[e]=0),a[e]+=1};if(this._getEntryStreamIds(s).forEach(o),n&&i){const e=[...s.listRelatedEntries()];let t=!1;for(let s=0;s<e.length;s+=1){const n=e[s];if(n.unread||!n.feedId)continue;e[s]={...n,unread:!0},r.push(n.entryId),this.fire("onEntryKeptUnread",n.entryId);(await this._askFeedStreamIds(n.feedId)).forEach(o),t=!0}t&&(s.jsonInfo.related=e)}this._fireUnreadCountChanges(a),await this._askFlushMarkAsReads(),await this.net.POST("!{cloud}/v3/markers",{action:"keepUnread",type:"entries",entryIds:r})}markEntryAsRecentlyRead(e){const t=this.lookupEntry(e);t&&(t.isRecentlyRead()||(t.setIsRecentlyRead(!0),this.fire("onEntryRecentlyRead",e)))}async askMarkStreamAsRead(e){let{asOf:t,entryIds:s,lastReadEntryId:n,partial:i,silently:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(await this._askFlushMarkAsReads(),!t&&!n||!1===i){const t=this.getStreamUnreadCountInfo(e);t&&(t.count=0,this.fire("onStreamUnreadCountChanged",e,0,{timeSensitive:!0}))}s&&s.map((e=>this.lookupEntry(e))).filter((e=>e&&!e.isRead())).forEach((e=>{e.wasKeptUnread()||(e.markAsRead(),this.fire("onEntryMarkedAsRead",e.getId()))}));const a={action:"markAsRead"},{isCategory:o,isFeed:l,isPriority:c,isTag:d}=(0,f.Yg)(e);if(o)a.type="categories",a.categoryIds=[e];else if(l)a.type="feeds",a.feedIds=[e];else{if(!d&&!c)throw console.error("[reader] askMarkStreamAsRead failed because unknown type",e),new Error("unknow stream type: ".concat(e));a.type="tags",a.tagIds=[e]}n?a.lastReadEntryId=n:a.asOf=t||(new Date).getTime(),await this.net.POST("!{cloud}/v3/markers",a),await this.askRefreshUnreadCounts(),this.undoLastMarkAsReadRequest=Object.assign(a,{action:"undoMarkAsRead",lastReadEntryId:void 0,asOf:void 0}),r||this.fire("onMarkStreamAsRead",e),this.fire("onUndoAvailable")}async askUndoLastMarkAsRead(){this.undoLastMarkAsReadRequest&&(await this.net.POST("!{cloud}/v3/markers",this.undoLastMarkAsReadRequest),this.undoLastMarkAsReadRequest=null,await this.askRefreshUnreadCounts())}async _askProcessPendingMarkAsRead(){try{const e=$.a.get("pendingMarkAsRead");if(e){const t={action:"markAsRead",type:"entries",entryIds:[e]};await this.net.POST("!{cloud}/v3/markers",t),$.a.remove("pendingMarkAsRead")}}catch(e){console.error("[reader] silently failed to process pending mark as read",e)}}_detectUnreadCountChanges(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=[],n=[],i=[],r=[];if(e&&t){const a=e.reduce(((e,t)=>(e[t.id]=t.count,e)),{}),o=t.reduce(((e,t)=>(e[t.id]=t.count,e)),{});e.forEach((e=>{const t=e.id;null==o[t]?i.push(t):o[t]!==e.count&&(s.push(t),o[t]>e.count&&r.push(t))})),t.forEach((e=>{const t=e.id;null==a[t]&&n.push(t)}))}return{updatedStreamIds:s,addedStreamIds:n,removedStreamIds:i,increasedStreamIds:r}}_fireUnreadCountChanges(e){Object.keys(e).forEach((t=>{const s=this.getStreamUnreadCountInfo(t);s&&(s.count+=e[t],s.count<0&&(s.count=0),this.fire("onStreamUnreadCountChanged",t,s.count))}))}_getEntryStreamIds(e){const t=e.listPersonalCollections(),s=e.listEnterpriseCollections(),n=e.listPersonalTags(),i=e.listEnterpriseTags(),r=e.listPriorities(),a=e.listSources(),o=[...t.map((e=>e.id)),...s.map((e=>e.id)),...n.map((e=>e.id)),...i.map((e=>e.id)),...r.map((e=>e.id)),...a.map((e=>e.streamId))];e.getFeedId()&&o.push(e.getFeedId()),t.length>0&&o.push((0,f.N1)()),s.length>0&&o.push((0,f.sX)());return(s.length+t.length===0||1===t.length&&(0,f.PH)(t[0].id))&&o.push((0,f.wN)()),n.length>0&&o.push((0,f.TN)()),i.length>0&&o.push((0,f.$n)()),o.filter((e=>null!=this.getStreamUnreadCount(e)))}async _askFeedStreamIds(e){const[t,s]=await Promise.all([await this.personalcollections.askListCollectionsForFeed(e),await this.enterprisecollections.askListCollectionsForFeed(e)]),n=[e,...t.map((e=>e.id)),...s.map((e=>e.id))];return t.length>0&&n.push((0,f.N1)()),s.length>0&&n.push((0,f.sX)()),n.filter((e=>null!=this.getStreamUnreadCount(e)))}getStreamUnreadCount(e){const t=this.getStreamUnreadCountInfo(e);return t&&t.count}getStreamUnreadCountInfo(e){return this.cache.unreadCounts?this.cache.unreadCounts.find((t=>t.id===e)):null}async askParseJSONFeed(e){let{highlightableKeywords:t,searchTerm:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!e||!e.items)return{entries:[],continuation:null};const[n=[],i=[],r=[],a=[]]=await Promise.all([this.collections.askListAllFeeds(),this.tags.askLabelsIndex(),this.priorities.askListPriorities({cachedUnreadCountsOnly:!0}),streets.hasBusinessAccess()?this.enterprise.askListUsers():[this.profile.getUserInfo()]]),o=n.reduce(((e,t)=>(e[t.id]=t,e)),{}),l=r.reduce(((e,t)=>(e[t.id]=t,e)),{}),c=a.reduce(((e,t)=>(e[t.userId]=t,e)),{});return{entries:e.items.map((n=>this._jsonEntry(n,{searchTerm:s,highlightableKeywords:t,viaStreamId:e.id,userId:streets.getUserId()},{feedIndex:o,priorityIndex:l,userIndex:c,tagIndex:i}))),continuation:e.continuation,velocity:e.velocity}}catch(n){throw console.error("[reader] failed to parse json feed",n,e),n}}_jsonEntry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{feedIndex:s={},priorityIndex:n={},userIndex:i={},tagIndex:r={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const a=e.origin?e.origin.streamId:null;if(a){const e=s[a];e&&e.title&&(t.sourceTitle=e.title)}null!=e.tags&&e.tags.forEach((e=>{e.addedBy&&(e.addedByUser=i[e.addedBy])})),e.priorities&&(e.priorities.length&&(e.priorities=e.priorities.filter((e=>{const{searchTerms:{likeBoards:t=[]}={}}=e;if(t.length){const s=t.filter((e=>!!e));if(!s.length)return!1;s.length!==t.length&&(e.searchTerms.likeBoards=s)}return!0}))),e.priorities.forEach((e=>{const t=n[e.id];if(t&&(e.streamId=t.streamIds[0],e.streamLabel=t.streamLabel,e.label=t.label),e.searchTerms&&e.searchTerms.likeBoards){e.searchTerms.likeBoards.forEach((e=>{r[e.id]&&(e.label=r[e.id])}))}}))),e.annotations&&e.annotations.forEach((e=>{const{author:t,authorName:s,authorPicture:n}=e;t?e.authorUser=i[t]:s&&(e.authorUser={name:s,picture:n})}));let o=this.entries[e.id];if(o&&o.metadata.viaStreamId&&!t.viaStreamId&&(t.viaStreamId=o.metadata.viaStreamId),(!o||e.priorities&&e.priorities.length>0||e.searchTerms&&e.searchTerms.parts&&e.searchTerms.parts.length>0||e.previewSearchTerms&&e.previewSearchTerms.parts&&e.previewSearchTerms.parts.length>0)&&(o=new V(e,t)),o.setActionDate(e.actionTimestamp),null!=o.getAlternateLink()&&(this.urls[o.getAlternateLink()]=o.getId()),this.entries[o.getId()]=o,a){const e=s[o.getFeedId()];o.metadata.subscribed=!!e,o.setNavigation(this._getFeedPreference(a,"entryNavigation"))}return o}catch(a){throw console.error("[reader] failed to create entry",e,a),a}}_getFeedPreference(e,t){return e&&t?this.preferences.getPreference(t,"subscription/"+e):null}lookupEntry(e){return e&&this.entries?this.entries[e]:null}_listCachedFeedEntries(e){return Object.keys(this.entries).filter((t=>this.entries[t].getFeedId()===e)).map((e=>this.entries[e]))}async askLookupEntry(e){if(!e)throw new Error("Invalid entry id");const t=this.lookupEntry(e);if(t)return t;const s=await this.net.GET("!{cloud}/v3/entries/"+encodeURIComponent(e)).then(JSON.parse);if(!s||0===s.length)throw new Error("Article not found");const n=(await this.askParseJSONFeed({items:s})).entries;if(!n||0===n.length)throw new Error("Entry not found");return n[0]}async askLookupEntries(e){if(!e)throw new Error("Invalid entry ids");const t=await this.net.POST("!{cloud}/v3/entries/.mget",e).then(JSON.parse);if(!t||0===t.length)throw new Error("Article not found");const s=(await this.askParseJSONFeed({items:t})).entries;if(!s)throw new Error("Entry not found");return s}async askLookupEntryByUrl(e){const t=e.indexOf("#");let s,n;t>0&&(e=e.substring(0,t));try{s=await this.net.POST("!{cloud}/v3/entries?response=contents",{alternate:[{href:e}]})}catch(i){throw new Error("[reader] askLookupEntryByUrl - Failed to lookup content: ".concat(i.message))}try{n=await this.askParseJSONFeed(JSON.parse(s))}catch(i){throw console.error("[reader] failed to process entry",s,i),new Error("[reader] askLookupEntryByUrl - Failed to process content: ".concat(i.message))}if(n.entries&&n.entries.length>0)return n.entries[0];throw new Error("[reader] askLookupEntryByUrl - content not found")}async askLookupPdfEntry(e){let{author:t,summary:s,tagId:n,title:i,url:r}=e;if(!s||!i||!r)throw new Error("[reader] askLookupPdfEntry - missing parameter");const a={title:i,summary:{content:s},enclosure:[{href:r,type:"application/pdf"}]};t&&(a.author=t),n&&(a.tags=[{id:n}]);try{const e=await this.net.POST("!{cloud}/v3/entries",a),t=JSON.parse(e)[0];return n&&(this.fire("onEntryTagged",t,n),this.fire("onEntryTagsChanged",t)),t}catch(o){throw new Error(o)}}async askLookupRawEntryJson(e){if(!e)throw new Error("[askLookupRawEntryJson] entryId is required");return(await this.net.GET("!{cloud}/v3/entries/"+encodeURIComponent(e)).then(JSON.parse))[0]}async askPdfMetadata(e){if(!e)throw new Error("[reader] askPdfMetadata - url required");try{const t=await this.net.GET("!{cloud}/v3/read/metadata?url=".concat(encodeURIComponent(e)));return JSON.parse(t)}catch(t){throw new Error("[reader] askPdfMetadata - ".concat(t.message))}}async askMagicEntries(e,t,s){if(await this._askFlushMarkAsReads(),"best"===s.r){const{entries:n}=await this._doMoreEntries(e,s,t,null);return n}return this._doMagicEntries(e,t,s)}async _doMagicEntries(e,t,s){if(!e)throw{message:"The `streamId` is required in `doMagicEntries`",name:"frontendError"};try{const n=!0===s.unreadOnly;if(0===e.indexOf("enterprise")&&e.indexOf("/tag/")>-1){const{entries:i}=await this.askMoreEntries(e,{xt:n,newerThan:s.newerThan},t,null);return i}const{isTag:i}=(0,f.Yg)(e);if(i)return console.log("[reader] no mix for user tags:"+e+" -- "+t),[];let r="!{cloud}/v3/mixes/contents?streamId="+encodeURIComponent(e)+"&count="+t+"&hours="+(new Date).getHours();n&&(r+="&unreadOnly=true"),s.newerThan?r+="&newerThan="+s.newerThan:r+="&backfill=true";const a=await this.net.GET(r),o=JSON.parse(a);if(null==o||null==o.id)return console.log("[reader] no mix available for:"+e+" -- "+t),[];const l=await this.askParseJSONFeed(o);l&&l.entries&&(l.entries=(0,Q.q)(l.entries));const c=l.entries.sort(((e,t)=>{const s=t.getEngagementRateType(),n=e.getEngagementRateType();return s===n?s>0?Math.round(t.getEngagementRate())===Math.round(e.getEngagementRate())?t.getEngagement()-e.getEngagement():t.getEngagementRate()-e.getEngagementRate():t.getAgeInDays()===e.getAgeInDays()?t.getEngagement()-e.getEngagement():e.getAgeInDays()-t.getAgeInDays():s-n}));if(s.newerThan){const e=[];l.entries.forEach((t=>{let n=0;2===t.getEngagementRateType()?n=(0,u.z1)(.75):1===t.getEngagementRateType()&&(n=(0,u.z1)(.375)),t.getLastModifiedDate().getTime()>s.newerThan-n&&e.push(t)})),l.entries=e}return c}catch(n){return console.warn("[reader] failed to ask magic entries (c):"+e+" -- "+t+" -- "+n.name+" -- "+n.message),[]}}async askTopicEntries(e,t,s){return await this._askFlushMarkAsReads(),this._doTopicEntries(e,t,s)}async _doTopicEntries(e,t,s){try{const n="!{cloud}/v3/mixes/contents?streamId="+encodeURIComponent("topic/"+e)+"&count="+t+"&locale="+s,i=await this.net.GET(n),r=JSON.parse(i);if(null==r||null==r.id)return console.warn("[reader] failed to load article for topic:"+e+" -- "+t),[];const a=await this.askParseJSONFeed(r);return a&&a.entries&&(a.entries=(0,Q.q)(a.entries)),a.entries}catch(n){return console.error("[reader] failed to ask topic entries (c):topic/".concat(e," -- ").concat(t),n),[]}}async askHasNewEntries(e,t){let{importantOnly:s,newerThan:n}=t;const{ids:i}=await this.net.GET("!{cloud}/v3/streams/ids?streamId=".concat(encodeURIComponent(e),"&importantOnly=").concat(s,"&newerThan=").concat(n,"&unreadOnly=true&count=1")).then(JSON.parse);return!!i.length}async askMoreEntries(e,t,s,n){const{isEnterprise:i,isFilter:r}=(0,f.Yg)(e);if(r){const r=i?this.enterprisefilters:this.personalfilters,a=await r.askFilterInfo(e);return t||(t={}),a&&a.searchQuery&&(t.searchTerm=a.searchQuery),n||await this._askFlushMarkAsReads(),this._doMoreEntries(e,t,s,n)}return t.searchTerm?this._askSearchMoreEntries(e,t,s,n):(n||await this._askFlushMarkAsReads(),this._doMoreEntries(e,t,s,n))}async _doMoreEntries(e,t,s,n){if(!e)throw new Error("The `streamId` is required in `doMoreEntries`");try{let i="!{cloud}/v3/streams/contents?streamId="+encodeURIComponent(e)+"&count="+s;const{isFilter:r}=(0,f.Yg)(e);switch(t.showMuted?i+="&showMuted=true":null!=t.xt||!0===t.unreadOnly?i+="&unreadOnly=true":!r&&t.hideFiltered&&(i+="&hideFiltered=true"),t.r){case"oldest":case"o":i+="&ranked=oldest";break;case"best":case"b":i+="&ranked=best";break;default:i+="&ranked=newest"}i+="&similar=true",i+="&findUrlDuplicates=true",null!=n&&(i+="&continuation="+n),t.importantOnly&&(i+="&importantOnly=true"),t.newerThan&&!isNaN(t.newerThan)&&(i+="&newerThan="+t.newerThan);const a=await this.net.GET(i),o=JSON.parse(a);if(!o||!o.id)throw new Error("[reader] failed to load feed for:"+e+" -- "+n+" -- "+s);const l=await this.askParseJSONFeed(o,t),{isGlobal:c,isTag:d}=(0,f.Yg)(e);if(d&&t.newerThan&&!c){const s=[];l.entries.forEach((n=>{let i=0;2===n.getEngagementRateType()?i=(0,u.z1)(.75):1===n.getEngagementRateType()&&(i=(0,u.z1)(.375));const r=n.findTagActionTimestamp(e);r&&r>t.newerThan-i&&s.push(n)})),l.entries=s}return{entries:l.entries,continuation:l.continuation}}catch(i){throw console.error("[reader] Failed to ask more entries (b):"+e+" -- "+n+" -- "+s+" -- "+i.name+" -- "+i.message),i}}async askPriorityPreview(e,t){const s=e.streamIds[0],{isEnterprise:n}=(0,f.Yg)(s);let i=n?"!{cloud}/v3/enterprise/priorities/preview?count=20":"!{cloud}/v3/priorities/preview?count=20";i+=t?"&continuation=".concat(t):"";const r=await this.net.POST(i,e),a=await this.askParseJSONFeed(JSON.parse(r),{highlightableKeywords:(0,ee.Mz)(e.layers)});return a&&a.entries&&(a.entries=(0,Q.q)(a.entries)),a}async askMutePreview(e,t,s,n){let{salience:i,streamId:r,term:a,filteredOnly:o}=e;const l="!{cloud}/v3/mutefilters/preview".concat(s?"?count="+s:"").concat(n?"&continuation=".concat(n):""),c=await this.net.POST(l,{filteredOnly:o,salience:i,streamId:r,term:a}),d=(0,ee.kG)(a)?[t]:null,h=await this.askParseJSONFeed(JSON.parse(c),{highlightableKeywords:d});return h&&h.entries&&(h.entries=(0,Q.q)(h.entries)),h}async askAlertsPreview(e){let{continuation:t,layers:s,source:n}=e,i="!{cloud}/v3/alerts/preview?count=40";i+=t?"&continuation=".concat(t):"";const r=await this.net.POST(i,{layers:s,source:n}),a=await this.askParseJSONFeed(JSON.parse(r),{highlightableKeywords:(0,ee.Mz)(s)});return a&&a.entries&&(a.entries=(0,Q.q)(a.entries)),a}async askInYourFeedlySearch(e,t){let{continuation:s,layers:n,source:i}=e,{ranked:r,time:a}=t,o="!{cloud}/v3/search/contents?count=40";o+=(0,ee.qu)({ranked:r,time:a},s);const l=await this.net.POST(o,{layers:n,source:i}),c=await this.askParseJSONFeed(JSON.parse(l),{highlightableKeywords:(0,ee.Mz)(n)});return c&&c.entries&&(c.entries=(0,Q.q)(c.entries)),c}async _askSearchMoreEntries(e,t,s,n){try{let i="!{cloud}/v3/search/contents?streamId="+encodeURIComponent(e)+"&q="+encodeURIComponent(t.searchTerm)+"&count="+s;i+=(0,ee.qu)(t,n);const r=await this.net.GET(i),a=JSON.parse(r);if(null==a||null==a.id)throw new Error("Failed to get more search entries for ".concat(e,"."));const o=await this.askParseJSONFeed(a,t);return{entries:o.entries,continuation:o.continuation}}catch(i){throw console.error("[reader] failed to ask search more entries (b):"+e+" -- "+n+" -- "+s+" -- "+i.name+" -- "+i.message),i}}async askTruncateReadingHistory(){return this.net.DEL("!{cloud}/v3/markers/reads")}}function de(e){return new ce(e)}},63335:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(74221),i=s(83168),r=s(63403),a=s(32285);const o=[a.PC.powerSearch,a.PC.selectNextEntry,a.PC.selectNextUnreadEntry,a.PC.selectPreviousEntry,a.PC.selectPreviousUnreadEntry].reduce(((e,t)=>(e[t]=!0,e)),{});class l extends i.y{setFeedly(e){this.feedly=e}setBuffer(e){this.buffer=e}setReader(e){this.reader=e}setRouter(e){this.router=e}setShortcuts(e){this.shortcuts=e}setAnalytics(e){this.analytics=e}setSigns(e){this.signs=e}setPreferences(e){this.preferences=e}setNavigo(e){this.navigo=e}setSlider(e){this.slider=e}setMicrosessions(e){this.microsessions=e}setPageManager(e){this.pageManager=e}setHelpSigns(e){this.helpSigns=e}load(){this.feedly.registerObserver(this),this.reader.registerObserver(this),this.shortcuts.registerObserver(this)}unload(){this.feedly.unregisterObserver(this),this.reader.unregisterObserver(this),this.shortcuts.unregisterObserver(this)}async askKeepEntryAsUnread(e){try{await this.reader.askKeepEntryAsUnread(e)}catch(t){this.signs.showMessage("Error:"+t.message)}"slider"===this._getInlineMode()?this.slider.closeTop():this.uninlineEntry("toview",!0)}async askBuryEntry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await this.reader.askMarkEntryAsRead(e,{...t,batch:!1,buried:!0}),this._getInlinedEntryId()===e&&("slider"===this._getInlineMode()?this.slider.closeTop():this.uninlineEntry("toview",!0))}async _toggleEntryRead(e){const t=await this.reader.askLookupEntry(e);t?t.isRead()||this._getInlinedEntryId()===e?await this.askKeepEntryAsUnread(e):await this.reader.askMarkEntryAsRead(e):console.error("Failed to toggleEntryRead. Entry not found:",e)}_useSlider(e){if(!e)return!0;if("slider"===e.getAttribute("data-navigation"))return!0;const t=this._getPreference("entryOverviewSize.desktop");if("100"===t)return!1;switch(this.preferences.getPreference("entrySliderViews")){case"all+preview":case"all":default:return!0;case"card":return"5"===t;case"notTitle":return"1"!==t&&"0"!==t}}onShortcutKey(e){const t=this._getTargetEntryId(),s="slider"===this._getInlineMode();if(s&&o[e]&&this.slider.closeAll(),e!==a.PC.goArm||this._armGO){if(this._armGO)return this._armGO=!1,void(e===a.PC.goHome||e===a.PC.goToday||e===a.PC.goMy?this.router.loadMyPage():e===a.PC.goIndex?this.router.loadPage("index"):e===a.PC.goLatest?this.router.loadPage("latest"):e===a.PC.goOrganize?this.router.loadPage("organize"):e===a.PC.goReadLater||e===a.PC.goReadLaterAlt?this.router.loadPage("saved"):e===a.PC.goPreferences?this.router.loadPage("preferences"):e!==a.PC.goQuickGoto&&e!==a.PC.goQuickGotoAlt||streets.service("quickGoto").show());switch(this._armGO=!1,e){case a.PC.buryEntry:if(!t)return void this.signs.showMessage("Select an article first");this.askBuryEntry(t);break;case a.PC.clipToBuffer:if(!t)return void this.signs.showMessage("Select an article first");this.buffer.askShareEntry(t);break;case a.PC.clipToEvernote:if(!t)return void this.signs.showMessage("Select an article first");streets.service("evernote").askClipEntry(t);break;case a.PC.inlineEntry:this._isEntryInlined()?"slider"===this._getInlineMode()?this.slider.closeAll():this.uninlineEntry("toview",!0):t&&this.inlineEntry(t,!0);break;case a.PC.toggleEntryRead:if(!t)return void this.signs.showMessage("Select an article first");this._toggleEntryRead(t);break;case a.PC.readLater:case a.PC.readLaterAlt:if(!t)return void this.signs.showMessage("Select an article first");this.askQuickListEntry(t);break;case a.PC.powerSearch:this.router.loadPage("powerSearch");break;case a.PC.selectNextEntry:this.onNextEntry({focus:!0,open:!1,unreadOnly:!1});break;case a.PC.selectNextUnreadEntry:this.onNextEntry({focus:!0,open:!1,unreadOnly:!0});break;case a.PC.selectPreviousEntry:this.onPreviousEntry({focus:!0,open:!1,unreadOnly:!1});break;case a.PC.selectPreviousUnreadEntry:this.onPreviousEntry({focus:!0,open:!1,unreadOnly:!0});break;case a.PC.nextEntry:case a.PC.nextEntryAlt:this.onNextEntry({focus:!0});break;case a.PC.previousEntry:case a.PC.previousEntryAlt:this.onPreviousEntry({focus:!0});break;case a.PC.viewOriginal:if(!t)return void this.signs.showMessage("Select an article first");this._viewOriginalEntry(t);break;case a.PC.markAllAsRead:case a.PC.markAllAsReadAlt:this._markAllAsRead();break;case a.PC.nextStream:this._jumpToNext();break;case a.PC.previousStream:this._jumpToPrevious();break;case a.PC.refresh:this.router.refresh();break;case a.PC.openShortcutMenu:this.helpSigns.showHelpSign()}!s&&this._getSelectedEntryId()&&(e===a.PC.close?this.uninlineEntry("toview",!0):e===a.PC.saveToBoard&&this._scrollToSelectedEntry("top"))}else this._armGO=!0}_getEntryMainElement(e){return document.getElementById(e+"_main")}_scrollToSelectedEntry(e){if(!this._getSelectedEntryId())return;const t=this._getEntryMainElement(this._getSelectedEntryId());t&&this.feedly.scrollToView(t,{align:e||"top",marginTop:17})}_getPreference(e){return this.pageManager.getPageInfo().searchTerm&&"entryOverviewSize.desktop"===e?4:this.pageManager.getPagePreference(e)}_getSelectedEntryId(){let e;const t=this.navigo?this.navigo.getState():{};return t.selectedEntryId&&(e=t.selectedEntryId),e}_getInlinedEntryId(){let e;const t=this.navigo.getState();return t.inlinedEntryId&&(e=t.inlinedEntryId),e}_getInlineMode(){if(!this._isEntryInlined())return null;return"slider"===this.navigo.getState().inlineMode?"slider":"inline"}_isEntryInlined(){return!!this._getInlinedEntryId()}onBeforeEntryBuried(e){const{selectedEntryId:t}=this.navigo.getState();if(t&&t===e){const e=this.navigo.lookupNextEntry(!1),t=this.navigo.lookupPreviousEntry(!1);e?this.navigo.selectEntry(e.getId()):t?this.navigo.selectEntry(t.getId()):this.navigo.unselectEntry()}}onPageScrollChanged(e,t){if(t&&this.pageManager.shouldAutoSelectOnScroll()){const e=this._findScrollFocus();if(e){const{allEntries:t}=e;for(let s=0;s<=e.index;s+=1){const e=t[s];e.wasKeptUnread()||(e.isRead()?e.isRecentlyRead()||this.reader.markEntryAsRecentlyRead(e.getId()):this.reader.askMarkEntryAsRead(e.getId(),{updateRelatedEntries:!0}))}e.entryId&&!e.entry.wasKeptUnread()&&this.selectEntry(e.entryId,!1)}}}_findScrollFocus(){const e=this.navigo.getEntries();if(!e||0===e.length)return null;for(let t=e.length-1;t>=0;t-=1){const s=this._getEntryMainElement(e[t].getId());if(s){if(s.getBoundingClientRect().top<80)return{index:t,entryId:e[t].getId(),entry:e[t],allEntries:e}}}return this.navigo.getState().selectedEntryId?{index:0,entryId:e[0].getId(),entry:e[0],allEntries:e}:null}async askMarkPageAsRead(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.streamId||this.navigo.getMarkAsReadScope(),{isPriority:s}=(0,n.Yg)(t),i=s||e.isMostPopular,r=this.navigo.listEntryIds();if(t||r&&0!==r.length)if(t){let s;e.asOf||e.lastReadEntryId?s=Object.assign(e,{partial:!0}):(this.microsessions.setAllEntriesAsMarkedAsRead(t),s=Object.assign(e,{asOf:this.navigo.getMarkAsReadLimit(),entryIds:r,partial:!1}));const n=this.pageManager.getPageInfo().uri,a=this.navigo.getNextURI(),o=!!a&&a!==n&&!1===s.partial,l=!i&&o&&-1===a.indexOf("category/global.");l||this.signs.showMessage("Marking as read and refreshing..."),i?this.reader.askMarkEntriesAsRead(r,e).then((()=>{if(!l){const e=this.reader.getStreamUnreadCount(t);streets.service("signs").hide(),o&&!e?this._jumpToNext():this._askRefreshCurrentPage()}}),(e=>{this.signs.showError("Error: "+e)})):this.reader.askMarkStreamAsRead(t,{...s,silently:!0}).then((()=>{l||(streets.service("signs").hide(),o?this._jumpToNext():this._askRefreshCurrentPage())})),l&&this._jumpToNext()}else this.signs.showMessage("Marking as read and refreshing..."),this.reader.askMarkEntriesAsRead(r,e).then((()=>{this.signs.hide(),this._askRefreshCurrentPage()}),(e=>{this.signs.showError("Error: "+e)}));else this.signs.showMessage("Nothing to mark as read...")}onNextEntry(){let{alignToTop:e=!0,focus:t=!1,open:s=!0,unreadOnly:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.navigo.hasEntries())return;const i=this.navigo.lookupNextEntry(n);if(i){const n=i.getId();s?this.inlineEntry(n,e,t):(this.uninlineEntry(),this.selectEntry(n,"toview",t),this._shouldMarkAsReadOnNP()&&this.reader.askMarkEntryAsRead(n))}else this.signs.showMessage("At end")}onPreviousEntry(){let{focus:e=!1,open:t=!0,unreadOnly:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.navigo.hasEntries())return;if(!this.navigo.getState().selectedEntryId)return void this.signs.showMessage("Select an article first");const n=this.navigo.lookupPreviousEntry(s);if(n){const s=n.getId();t?this.inlineEntry(s,!0,e):(this.uninlineEntry(),this.selectEntry(s,"toview",e),this._shouldMarkAsReadOnNP()&&this.reader.askMarkEntryAsRead(s))}else this.signs.showMessage("At start")}_jumpToNext(){const e=this.navigo.getNextURI();e?(this.slider.closeAll(),this.router.loadPage(e)):this.router.reloadPage()}_jumpToPrevious(){const e=this.navigo.getPreviousURI();e&&this.pageManager.getPageInfo().uri!==e?(this.slider.closeAll(),this.router.loadPage(e)):this.signs.showMessage("At start")}selectEntry(e,t,s){if(this.navigo.getState().selectedEntryId!==e){if("toview"===t){const s=this._getEntryMainElement(e);s&&this.feedly.scrollToView(s,{align:t,marginTop:17})}this.navigo.selectEntry(e,s)}}_shouldMarkAsReadOnNP(){return"yes"===this.preferences.getPreference("npAutoMarkAsRead")}inlineEntry(e,t,s){let n=t;const i=this.navigo.getState();if("slider"===i.inlineMode&&i.inlinedEntryId&&!this.navigo.lookupEntry(e))return void this.feedly.previewEntry(e);let r=!0;if(!this.slider.hasSlides()){const t=this._getEntryMainElement(e);if(t&&(r=this._useSlider(t),!r&&null===n))try{const e=t.getBoundingClientRect().top/window.innerHeight;n=e>.7}catch(o){}}this.selectEntry(e,!1,s&&r);const a=r&&this.feedly.canUsePreviewMode()&&!this.slider.hasSlides();if(null===n&&(n=!1===r),a){const{inlinedEntryId:t,inlineMode:s}=this.navigo.getState();if("preview"===s&&t===e)return;this.navigo.inlineEntry(e,"preview"),this.pageManager.renderEntryInPreviewPane(e),this._scrollToSelectedEntry(!0===n?"top":"toview")}else if(r)this.reader.askLookupEntry(e).then((t=>{t?(this.navigo.inlineEntry(e,"slider"),this.slider.addEntrySlide(e,{navigatable:!0,switchable:!0},(()=>{this.navigo.uninlineEntry()})),this._scrollToSelectedEntry(!0===n?"top":"toview")):this.signs.showError("Story not found")}));else{if(i.inlinedEntryId===e)return void this._scrollToSelectedEntry("top");this.navigo.inlineEntry(e,"inline"),window.requestAnimationFrame((()=>{this.navigo&&this.navigo.getState().inlinedEntryId===e&&this._scrollToSelectedEntry(!0===n?"top":"toview")}))}"u"+this._getPreference("entryOverviewSize.desktop")=="u100"&&this.reader.askMarkEntryAsRead(e)}uninlineEntry(e,t){"slider"===this.navigo.getState().inlineMode&&this.slider.closeAll();const s=this._getInlinedEntryId();if(!s)return;const n=this._getEntryMainElement(s);"toview"===e&&n&&this.feedly.scrollToView(n,{marginTop:17,align:"toview"}),this.navigo.uninlineEntry(),t&&n&&(n.classList.add("entry--highlight"),setTimeout((()=>{n.classList.remove("entry--highlight")}),2e3))}_viewOriginalEntry(e){const t=this.reader.lookupEntry(e);if(t){const e=t.getBestAlternateLink();(0,r.YC)(e)&&this.analytics.incrementDashboardEvent("REDDIT:clicks"),t.metadata.isNewsletter?this.signs.showMessage("Newsletter articles do not have a website page associated with them"):window.open(e)}}_markAllAsRead(){const e=window.location.href.includes("collection/priority");this.askMarkPageAsRead({isMostPopular:"most popular"===this.pageManager.getPagePreference("entrySort"),isPriorityTabMarkAsRead:e})}_getTargetEntryId(){let e;const t=this.navigo.getState();return t.selectedEntryId?e=t.selectedEntryId:t.inlinedEntryId&&(e=t.inlinedEntryId),e}async _askRefreshCurrentPage(){this.reader&&(this.pageManager.isRefreshable()?(await this.reader.askCompact(),this.pageManager.askReloadPage()):this.router.reloadPage())}async askQuickListEntry(e){await this.reader.askToggleEntryQuicklisted(e),this.analytics.trackEvent("sharing","save");const t=await this.reader.askLookupEntry(e);this.analytics.trackEntryEvent(t,"save","feedly")}}function c(e){return new l(e)}},65984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(75453),i=s.n(n),r=s(83168),a=s(85902);const o="https://api.reddit.com";class l extends r.y{setFeeds(e){this.feeds=e}load(){}unload(){this.feeds=null}async askFeeds(e){let t;if(e.startsWith("r/"))t=["".concat(o,"/").concat((0,a.I8)(e))];else if(e.includes("reddit.com")){const s=e.includes("reddit.com/")?e.split("reddit.com/")[1]:e.split("reddit.com")[1];t=["".concat(o,"/").concat(s)]}else t=["".concat(o,"/r/").concat((0,a.I8)(e)),"".concat(o,"/search/?q=").concat(encodeURIComponent(e))];const s=await Promise.all(t.map((e=>this.askFeedsFromUri(e))));return i()(s)}async askFeedsFromUri(e){return this.feeds.askSearchFeeds(e,{fullTerm:!0,numResults:3})}}function c(e){return new l(e)}},88768:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var n=s(61454),i=s(87753),r=s(3e3),a=s(44694),o=s(74221),l=s(83168),c=s(99220),d=s(8199),h=s(3167),u=s(37225),p=s(77157),m=s(29125),g=s(35610),f=s(29318),y=s(53023),v=s(50224);const b=new Set(["pro","useCase"]),E=new Set(["all","ifttt","landing","premium","pro","top","welcome","trending","leoWebAlerts"]),C=["autoSelectOnScroll","entryOverviewSize.desktop","featuredArticles","giantMarkAsRead","hideReadArticlesFilter","oldestFirstKnob","sortEntriesBy","twitterPostfix","pinImage","indexLink","customizationKey"];class w extends l.y{setAlerts(e){this.alerts=e}setAnalytics(e){this.analytics=e}setAutoChrome(e){this.autoChrome=e}setEnterprisecollections(e){this.enterprisecollections=e,this.enterprisecollections.registerObserver(this)}setFeedly(e){this.feedly=e}setLeftnav(e){this.leftnav=e}setLeo(e){this.leo=e}setNavigo(e){this.navigo=e}setNotifications(e){this.notifications=e}setPageManager(e){this.pageManager=e}setPersonalcollections(e){this.personalcollections=e,this.personalcollections.registerObserver(this)}setPreferences(e){this.preferences=e}setProfile(e){this.profile=e}setReader(e){this.reader=e}setReadingManager(e){this.readingManager=e}setSigns(e){this.signs=e}setSlider(e){this.slider=e}setTransitions(e){this.transitions=e}load(){this._modalContainer=document.getElementById("modal"),this._shouldConfirmRoute=!1}unload(){this._modalContainer=null,this._shouldConfirmRoute=!1,this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.analytics=null,this.autoChrome=null,this.enterprisecollections=null,this.feedly=null,this.leftnav=null,this.leo=null,this.navigo=null,this.notifications=null,this.pageManager=null,this.personalcollections=null,this.preferences=null,this.profile=null,this.reader=null,this.readingManager=null,this.signs=null,this.slider=null,this.transitions=null}onCollectionsChanged(){this.pageManager.getPageInfo()&&this._askSetNavigationSuggestions(this.pageManager.getPageInfo().streamId)}onCollectionsOrderChanged(){this.pageManager.getPageInfo()&&this._askSetNavigationSuggestions(this.pageManager.getPageInfo().streamId)}async loadDefaultPage(){return this.loadPage(await this._askDefaultStartPageURI())}async loadMyPage(){return this.loadPage("my")}async loadPage(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e;if(o.bypassConfirmation)this._shouldConfirmRoute=!1;else if(this._shouldConfirmRoute)return void this.fire("onConfirmRoute",(()=>{this._shouldConfirmRoute=!1,this.loadPage(l,o)}));if("upgrade"!==l&&"reactivate"!==l&&"payment"!==l&&"invoice"!==l||(l="account/billing"),"privacy"===l&&(l="legal/privacy"),"terms"===l&&(l="legal/terms"),"logins"===l&&(l="account/logins"),"contents/edit"===l&&(l="organize"),"pro/blackfriday2015"!==l||!streets.getUserId()||streets.hasProAccess()||streets.hasBusinessAccess()||(l="blackfriday"),"gift"!==l||streets.getUserId()&&!streets.hasProAccess()&&!streets.hasBusinessAccess()||(l="pro/gift"),"http:"===window.location.protocol&&(l.startsWith("pro")||l.startsWith("premium")||l.startsWith("support")||l.startsWith("payment")||l.startsWith("landing")||l.startsWith("blackfriday")||l.startsWith("gift")||l.startsWith("account")||l.startsWith("team")||l.startsWith("logins")))return void(window.location="https://"+window.location.host+"/"+(0,r.W6)()+"/"+l);if(f.hT&&l.startsWith("pro")&&streets.getUserId()&&!streets.hasProAccess()&&!streets.hasBusinessAccess()&&(l="blackfriday"),"leo"===l){if(await this.leo.askIsLeoEnabled())l="trainLeo";else{if(streets.hasBusinessAccess()){const e=this.profile.getUrlDecoration();return void(window.location.href="https://feedly.typeform.com/to/DW2vIZ/?".concat(e))}l="pro/leo"}}if(l.startsWith("feature")){const e=l.split("/")[1],t=streets.getPlan();l=streets.getUserId()&&n.Z[e]&&d.H4[t]>=d.H4[n.Z[e].minPlan]?n.Z[e].redirect:"pro/".concat(e||"")}l.startsWith("enterpriseTrial")&&(streets.isEnterprisePlanOrPending()||streets.isBusinessPlan())&&(l="team/gettingStarted");const c=document.getElementById("webfeedsStyles");c&&c.parentNode.removeChild(c);const h=null===(t=this.pageManager.getPageInfo())||void 0===t?void 0:t.uri;let u;this.pageManager.destroyPage(),this.readingManager.uninlineEntry("none",!1),this.navigo.onBeforePageLoad(l,h),o&&o.preserveSlider||this.slider.onBeforePageLoad(l,h),this.reader.onBeforePageLoad(l,h),this.fire("onFeedlyUriChanged",l);try{u=await this._createPageInfo(l),this.feedly.setPageTitle(""),o.isStartPage||(0,a.ZL)()}catch(p){console.error("[feedly] failed to load page:"+l,p),document.location="https://feedly.com/offline.htm?016-"+p.name+"--"+p.message+"--feedly_31.0.1510"}try{u.preferences=this.preferences.getPreferences(C,u.prefContext);const e=u.type.charAt(0).toUpperCase()+u.type.substr(1)+"Page",t=y.n[e];if(t)u.reactClass=await t();else{const{UnknownPage:t}=await s.e(7083).then(s.bind(s,97083));u.reactClass=t,u.missingFactory=e,console.error("[feedly] enrichPageInfo - page component not found")}this._onBeforePageLoad(u),this.pageManager.askOpenPage(u);const n=u.uri;n&&(0,r.$B)(n),this.feedly.scrollPageTo(0),document.body.focus();try{u.streamId&&this._askSetNavigationSuggestions(u.streamId)}catch(p){console.error("[feedly] failed to forcast next cat/sub because:"+p.name+" -- "+p.message)}try{this.analytics.trackPageview(u.uri);const e={page_path:"/"+u.type,page_key:u.key,page_uri:u.uri,previous_page_uri:h,query_params:u.parameters},t=[];b.has(u.type)&&t.push("amplitude"),E.has(u.type)&&t.push("ga"),t.length&&(0,i.K)("page_view",e,t)}catch(p){console.error("[feedly] failed to track page view:"+p.name+" -- "+p.message)}this.fire("onAfterPageLoad",u)}catch(p){console.error(p),console.error("[feedly] failed to service page:"+p.name+" -- "+p.message)}}async refresh(){this.signs.showMessage("Refreshing...",0,!1),await streets.askRefresh(),this.pageManager.isRefreshable()?this.pageManager.askReloadPage():this.reloadPage(),this.signs.hide()}reloadPage(){window.setTimeout((()=>{var e;this.feedly.scrollPageTo(0),this.loadPage(null===(e=this.pageManager.getPageInfo())||void 0===e?void 0:e.uri)}),10)}reloadDefaultPage(){window.setTimeout((async()=>{window.location="https://"+window.location.host+"/"+(0,r.W6)()+"/"+await this._askDefaultStartPageURI()}),250)}setShouldConfirmRoute(e){this._shouldConfirmRoute=e}async _askDefaultStartPageURI(){if(!streets.getUserId())return"welcome";const e=this.preferences.getPreference(h.RO);if(!Object.values(h.JP).includes(e))return h.JP.Today;if(e===h.JP.FirstPersonalFeed){const e=await this.personalcollections.askListRankedCollections({});if(e.length)return(0,c.no)(e[0].id)}return e}_askSetNavigationSuggestions(e){this.transitions.askSuggestPreviousStream(e).then((e=>{e&&e.uri&&this.navigo.setPreviousURI(e.uri)})),this.transitions.askSuggestNextStream(e).then((e=>{e&&e.uri&&this.navigo.setNextURI(e.uri)}))}async _createPageInfo(e){let t=e;const s=/\bon[a-z]+=/gim;s.test(t)&&(console.warn("[feedly] sanitized url:"+t),t="");try{const e=decodeURIComponent(t);s.test(e)?(console.warn("[feedly] sanitized url:"+e),t=""):(e.indexOf("data:")>-1||e.toLowerCase().indexOf("<")>-1&&e.toLowerCase().indexOf(">")>-1)&&(t="")}catch(i){}if("latest"===t&&(t=streets.getUserId()?"collection/content/".concat(this.preferences.isTeamFirst()?(0,o.sX)():(0,o.N1)()):""),t.startsWith("pro/pppp_")){const e=window.localStorage.getItem("paypalAnalyticsUri");e&&(this.analytics.trackProPageview(e),window.localStorage.removeItem("paypalAnalyticsUri"));const s=t.slice("pro/pppp_".length),n=p.F.load();p.F.save({...n,feedlyToken:s,plan:"pro"});const i="See Your New Pro Features",r="Go to my Feedly Pro",a={visual:v,header:"Welcome to Feedly Pro",sub:"Take your reading, searching, and sharing to the next level",primaryAction:i,tertiaryAction:r,badge:"pro"};this.notifications.askShowSpotlightPopup(a).then((e=>{window.location.href=e!==i?"https://feedly.com/":"".concat((0,g.il)(),"/support")})),t="support"}if(t.startsWith("search/")&&(t=t.replace(/^search/,"powerSearch/".concat(u.Fq.in))),t.startsWith("discover/webAlerts")||t.startsWith("leoWebAlerts")){await this.alerts.askHasWebAlertsAccess()?t.startsWith("discover/webAlerts")&&(t="leoWebAlerts/".concat(t.substring("discover/webAlerts/".length))):t="discover/sources"}if(!t)if(streets.getUserId())t=await this._askDefaultStartPageURI();else{if(""===window.location.pathname||"/"===window.location.pathname){const e=(0,g.mv)("welcome");return e.uri="",e}t="welcome"}let n=(0,g.mv)(t);if("go"===n.type&&(streets.hasProAccess()||streets.hasBusinessAccess()?(n.type=n.key,n.key=null):n.type="pro"),"blackfriday"!==n.type&&"gift"!==n.type||!streets.hasProAccess()?"gift"===n.type&&(n.type="blackfriday"):n.type="pro","subscription"!==n.type||n.key&&0===n.key.indexOf("feed/")||(console.warn("[feedly] loading invalid subscription page:"+t),t="discover",n=(0,g.mv)(t)),"subscription"===n.type?n.type="feed":"saved"===n.type?(n.type="board",n.key="content/"+(0,m.FM)("global.saved",streets.getUserId(),"tag")):"tag"===n.type?(n.type="board",n.key="content/"+n.key):"label"===n.type&&"feedly.history"===n.key?(n.type="board",n.key="content/"+(0,m.FM)("global.read",streets.getUserId(),"tag")):"category"===n.type||"label"===n.type?(n.type="collection",n.key="content/"+(0,m.FM)(n.key,streets.getUserId(),"category")):"latest"===n.type&&(n.type="collection",n.key="content/"+(0,m.FM)("global.all",streets.getUserId(),"category")),n.type&&n.type.includes("-")){const e=n.type.split("-");n.type=e[0],n.language=e.slice(1).join("-")}if(n.type&&""!==n.type&&"my"!==n.type||(n.type="today"),n.uri&&""!==n.uri||(n.uri=n.type),"explore"===n.type&&(n.uri="discover",n.type="discover"),"preferences"===n.type&&(n.uri="account",n.type="account"),"board"===n.type||"collection"===n.type||"priority"===n.type||"feed"===n.type){const[e,...t]=n.key.split("/");"feed"===n.type&&"feed"!==e||("board"===n.type||"collection"===n.type||"priority"===n.type)&&("user"!==e||"enterprise"!==e)?(n.streamId=t.join("/"),n.tabId=e):(n.streamId=n.key,n.tabId=null)}return n}_onBeforePageLoad(e){this.leftnav.onBeforePageLoad(e),this.autoChrome.onBeforePageLoad(e),e.reactClass.requiresFullScreen()&&!this.leftnav.isFullScreenMode()?this.leftnav.enterFullScreenMode():this.leftnav.isFullScreenMode()&&this.leftnav.leaveFullScreenMode(),this.feedly.reflow()}}function k(e){return new w(e)}},8742:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(3015),i=s(57471),r=s(54960),a=s(83168),o=s(2222),l=s(77157),c=s(62784);class d extends a.y{setAlerts(e){this.alerts=e}setFeeds(e){this.feeds=e}setNet(e){this.net=e}setPriorities(e){this.priorities=e}setProfile(e){this.profile=e}unload(){this.alerts=null,this.feeds=null,this.net=null,this.priorities=null,this.profile=null}async askSaveAlertSurvey(e){const{enterpriseAlerts:t,userAlerts:s}=await this.alerts.askListWebAlertSources(),a=[...t,...s].sort(((e,t)=>e.created-t.created)).pop(),{layers:l,notLayers:d}=(0,o.Sc)(a.layers),h=(0,c.RH)(l,d)||"URL",u="feedly.com/i/leoWebAlerts?options=".concat((0,c.Fs)({layers:a.layers})),p=(await this.feeds.askListFeeds()).filter((e=>(0,r.Qc)(e.id)||(0,i.tp)(e.id))),m=await this.priorities.askListPriorities(),{email:g,fullName:f,upgradeDate:y,wave:v}=this.profile.getUserInfo();try{await this.askSaveToSheet({spreadsheetId:"1QPOua62vaTJRxjXieqnypLMtFse3eoDbl6J0kQ-u4cA",sheetTitle:"Survey answers - Automatic",row:['=HYPERLINK("'.concat(u,'", "').concat(h,'")'),e,g||"n/a",t.length+s.length,p.length,m.length,streets.getPlan(),streets.getUserId(),(0,n.p6)(new Date,"M/dd/yyyy"),v,(0,n.p6)(new Date(y),"M/dd/yyyy"),f||"n/a"]})}catch(b){console.error("Failed to submit feedback: ",b)}}async askSaveToSheet(){let{spreadsheetId:e,sheetTitle:t,row:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=l.F.load();if(!n||!n.sudoSession){if(!e||!t)throw new Error("Spreadsheet id and sheetTitle are required");return this.net.POST("!{cloud}/v3/sheets",{spreadsheetId:e,sheetTitle:t,row:s})}}}function h(e){return new d(e)}},9875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var n=s(47169),i=s(33259),r=s.n(i),a=s(45750),o=s.n(a),l=s(45538),c=s(83168),d=s(3167),h=s(32285);const u=Object.values(h.PC).reduce(((e,t)=>(e[t]=!0,e)),{}),p={[h.PC.nextEntry]:!0,[h.PC.previousEntry]:!0,[h.PC.nextEntryAlt]:!0,[h.PC.previousEntryAlt]:!0,[h.PC.selectNextEntry]:!0,[h.PC.selectNextUnreadEntry]:!0,[h.PC.selectPreviousUnreadEntry]:!0,[h.PC.selectPreviousEntry]:!0};class m extends c.y{constructor(){super(...arguments),(0,n.Z)(this,"_handleRepeatingShortcutKey",r()((e=>{this._handleShortcutKey(e)}),250,{leading:!0})),(0,n.Z)(this,"_handleSinglePressShortcutKey",o()((e=>{this._handleShortcutKey(e)}),550,{leading:!0,trailing:!1})),(0,n.Z)(this,"_normalizeEventKey",(e=>{let{key:t,shiftKey:s}=e;if(t&&1===t.length){const e=t.toLowerCase();t===e||s||(t=e)}return t})),(0,n.Z)(this,"_onKeyDown",(e=>{const t=this._normalizeEventKey(e);if(!t)return;if(this._isDisabled&&t!==h.PC.close)return;if(!u[t]||(0,l.V)(e))return;const s=this._currentKey&&this._currentKey!==t;this._currentKey=t,this._isInTextInput=(0,l.E)(e),this._isInTextInput||e.preventDefault(),p[t]?this._handleRepeatingShortcutKey(t):(s&&this._handleSinglePressShortcutKey.cancel(),this._handleSinglePressShortcutKey(t))})),(0,n.Z)(this,"_onKeyUp",(e=>{this._normalizeEventKey(e)===this._currentKey&&(this._currentKey=null),this._handleRepeatingShortcutKey.cancel(),this._handleSinglePressShortcutKey.cancel()}))}setPreferences(e){this.preferences=e}load(){this._isDisabled=this.preferences.getPreference(d.vh)===d.ZD.off,this.claimedKeys={},this._registerKeyEvents(),this.preferences.registerObserver(this)}unload(){this._isDisabled=null,this.claimedKeys={},this._unregisterKeyEvents(),this.preferences.unregisterObserver(this)}onPreferenceChanged(e,t){e===d.vh&&(this._isDisabled=t===d.ZD.off)}claim(e,t){u[t]||console.error("[shortcuts] The shortcut '".concat(t,"' is missing from ShortcutKeys and will not fire.")),this.claimedKeys[t]||(this.claimedKeys[t]=new Set),this.claimedKeys[t].delete(e),this.claimedKeys[t].add(e)}fire(e,t){if(!this._isDisabled||t===h.PC.close){for(var s=arguments.length,n=new Array(s>2?s-2:0),i=2;i<s;i++)n[i-2]=arguments[i];if("onShortcutKey"===e||"onShortcutKeyInInput"===e){let s=this.claimedKeys[t];if(s){s=Array.from(s);const i=s[s.length-1],r=i[e];return void(r&&r.call(i,t,...n))}}super.fire(e,t,...n)}}unclaim(e,t){const s=this.claimedKeys[t];s&&(s.delete(e),s.size||(this.claimedKeys[t]=null))}_handleShortcutKey(e){this._isInTextInput?this.fire("onShortcutKeyInInput",e):this.fire("onShortcutKey",e)}_registerKeyEvents(){document.defaultView.addEventListener("keydown",this._onKeyDown,!0),document.defaultView.addEventListener("keyup",this._onKeyUp,!0)}_unregisterKeyEvents(){document.defaultView.removeEventListener("keydown",this._onKeyDown,!0),document.defaultView.removeEventListener("keyup",this._onKeyUp,!0),this._handleRepeatingShortcutKey.cancel(),this._handleSinglePressShortcutKey.cancel()}}function g(e){return new m(e)}},99097:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(35330),i=s(61861),r=s(83168),a=s(28514);const o=Object.freeze({service:"Suggestions",askLeoSuggestions:"askLeoSuggestions"});class l extends r.y{setLeo(e){this.leo=e}setNet(e){this.net=e}load(){this.cache={}}async onUserIdentified(){(0,a.$L)()&&this.askLeoSuggestions()}unload(){this.leo=null,this.net=null}async askRefresh(){this.cache={}}async askLeoSuggestions(){const{suggestionsBatch:e}=this.cache;if(e&&(new Date).getTime()<e.expirationDate)return(0,n.hR)(e.suggestions);try{const e=await this._askLeoSuggestions();return!e||e.eta?[]:(0,n.hR)(e.suggestions)}catch(t){return console.error("Could not fetch suggestions: ".concat(t.message)),[]}}askSaveSuggestionFeedback(e){let{feedback:t,id:s}=e;this.net.POST("!{cloud}/v3/suggestions/".concat(encodeURIComponent(s),"/feedback"),{feedback:t}),this.cache={}}async _askLeoSuggestions(){let e=(0,i.Z)(o.service,o.askLeoSuggestions);return e||(e=this.net.GET("!{cloud}/v3/suggestions").then(JSON.parse).then((e=>(e&&e.suggestions&&(this.cache.suggestionsBatch=e),e))),(0,i.Z)(o.service,o.askLeoSuggestions,e),e)}}function c(e){return new l(e)}},92943:(e,t,s)=>{"use strict";s.r(t),s.d(t,{computeRelatedTopics:()=>o,default:()=>c});var n=s(53411),i=s(94600),r=s(83168);const a=Object.freeze({en:["tech","marketing","design","business","food","news","fashion","startups","photography","gaming","baking","diy","beauty","comics","cars","culture","seo","education","science","finance","cinema","travel","youtube","vimeo"],de:["tech","news","kultur","marketing","wirtschaft","sport","automobil","architektur","design","photography","food","diy","fashion","kino"],es:["tecnologia","moda","videojuegos","gastronomia","decoracion","diseno","cine","turismo","marketing","ciencia"],fr:["technologie","design","decoration","bd","photographie","finance","politique","actualites","international","automobile","mode","cuisine","cinema"],it:["tecnologia","design","cucina","economia","gossip","tendenze","scienza","marketing","fumetti","viaggi","cinema"],ja:["lifehack","xin-wen","business","game","camera","web","fashion","liao-li","make","sports","ying-hua","youtube","travel"],ko:["it","news","business","game","photography","design","fashion","yori","diy","sports","yeonghwa","youtube","science"]});function o(e,t){const s={};e.forEach((e=>{e.topics&&e.topics.forEach((e=>{s[e]?s[e]+=1:s[e]=1}))}));const n=[];for(const i in s)n.push({topic:i,count:s[i]});return n.sort(((e,t)=>t.count-e.count)).filter((e=>e.count>=2&&e.topic!==t)).map((e=>e.topic))}class l extends r.y{setFeeds(e){this.feeds=e}setLeo(e){this.leo=e}load(){this.personalizedTopics=null}initialize(){}uninitialize(){}unload(){this.personalizedTopics=null,this.feeds=null,this.leo=null}async onUserIdentified(){this.personalizedTopics=null}async onNoUserIdentified(){this.personalizedTopics=null}listTopics(e){try{e||(e=(0,i.Mb)());const t=a[e]||a.en;return null==t||0===t.length?[]:Array.from(new Set(t))}catch(t){return[]}}async askDiscoverTopics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;this.personalizedTopics||(this.personalizedTopics=await this._askSuggestPersonalizedTopics());let s=this.listTopics(e);s=s.filter((e=>this.personalizedTopics.indexOf(e)<=-1));const i=this.personalizedTopics.concat(s),r=await Promise.all(i.map((t=>this.leo.askDiscoveryTopic(t,e).catch((e=>(console.error(e),null)))))),a={},o=[];return r.forEach((e=>{if(!e||0===e.feedInfos.length)return;const t=(0,n.T)(e.feedInfos.slice(0,3));a[t[0].id]||(a[t[0].id]=!0,o.push({topicId:e.topicId,label:e.topic,featured:t[0]}))})),o.slice(0,t)}async _askSuggestPersonalizedTopics(){const e={};(await this.feeds.askListFeeds()).forEach((t=>{t.topics&&t.topics.forEach((s=>{if(t.categories)t.categories.forEach((t=>{let n=e[t.id];n||(n=e[t.id]={}),n[s]?n[s]+=1:n[s]=1}));else{let t=e["#uncategorized"];t||(t=e["#uncategorized"]={}),t[s]?t[s]+=1:t[s]=1}}))}));const t={},s=[];let i=[];for(const n in e){let r=[];for(const t in e[n])r.push({topic:t,count:e[n][t]});r.sort(((e,t)=>t.count-e.count)),r=r.filter((e=>e.count>=2)),r.length>0&&!t[r[0].topic]&&(s.push(r[0]),t[r[0].topic]=!0),r.length>1&&i.push(r[1]),r.length>2&&r[2].count>3&&i.push(r[2]),r.length>3&&r[3].count>5&&i.push(r[3])}return s.sort(((e,t)=>t.count-e.count)),i=(0,n.T)(i),i.forEach((e=>{t[e.topic]||(s.push(e),t[e.topic]=!0)})),s.map((e=>e.topic))}}function c(e){return new l(e)}},192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setEnterprisetags(e){this.enterprisetags=e}setPersonaltags(e){this.personaltags=e}load(){}unload(){this.enterprisetags=null,this.personaltags=null}async askMoveTagToTeam(e,t,s){const n={...e,id:null,importTag:e.id},i=await this.enterprisetags.askSave(n);return this.fire("onBoardMovedToTeam",i,s),await this.personaltags.askDeleteTag(e.id),i}async askBoardsIndex(){const[e,t]=await Promise.all([this.personaltags.askListTags(),this.enterprisetags.askListTags()]);return[...e,...t].reduce(((e,t)=>(e[t.id]=t,e)),{})}async askLabelsIndex(){const e={cachedUnreadCountsOnly:!0},[t,s]=await Promise.all([this.personaltags.askListTags(e),this.enterprisetags.askListTags(e)]);return[...t,...s].reduce(((e,t)=>{let{id:s,label:n}=t;return e[s]=n,e}),{})}}function r(e){return new i(e)}},49367:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(59852),i=s(74221),r=s(83168);class a extends r.y{setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}setPreferences(e){this.preferences=e}setEnterprise(e){this.enterprise=e}setProfile(e){this.profile=e}load(){this.enterprisecollections.registerObserver(this),this.personalcollections.registerObserver(this),this.preferences.registerObserver(this)}unload(){this.enterprisecollections.unregisterObserver(this),this.personalcollections.unregisterObserver(this),this.preferences.unregisterObserver(this),this.enterprisecollections=null,this.personalcollections=null,this.preferences=null,this.enterprise=null,this.profile=null}async askListPersonalSections(e){const t=this.profile.hasLeoAccess(),s=await this.personalcollections.askListRankedCollections(e);let n=s.filter((e=>e.unreadCount>0||null==e.unreadCount)).slice(0,50);if(1===s&&1===n.length&&n[0].feeds&&(n=n[0].feeds.filter((e=>e.unreadCount>0)).slice(0,50).map((e=>({unreadCount:e.unreadCount,streamId:e.streamId,type:"subscription",label:e.title})))),t){const e=(0,i.N1)();n.unshift({allId:e,label:"Priority",streamId:e,importantOnly:!0})}return n}async askListEnterpriseSections(e){const t=await this.enterprise.askIsLeoEnabled(),s=await this.enterprisecollections.askListRankedSubscribedCollections(e),r=await(0,n.n)(e),a=s.filter((e=>e.unreadCount>0||null==e.unreadCount)).slice(0,50);if(t){const e=(0,i.sX)();a.unshift({id:e,label:"Priority",streamId:e,importantOnly:!0})}return a.unshift(Object.assign(r.userTagGlobalEnterprise,{label:"Saved by your team"})),a}}function o(e){return new a(e)}},55251:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(83168);class i extends n.y{setNet(e){this.net=e}unload(){this.net=null}askTopics(e){return this.net.GET("!{cloud}/v3/topics".concat(e?"?pageIndex=".concat(encodeURIComponent(e)):"")).then(JSON.parse).then((e=>{let{pageIndex:t,pageTotal:s,topics:n}=e;return{pageIndex:t,pageTotal:s,topics:n.map((e=>{let{topicId:t,topicName:s,topFeedInfo:n}=e;return{label:s,id:t,featured:n}}))}}))}askTopTopics(e){return this.net.GET("!{cloud}/v3/topics/top?language=".concat(e)).then(JSON.parse)}}function r(e){return new i(e)}},98812:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(10268),i=s.n(n),r=s(59852),a=s(74221),o=s(83168);class l extends o.y{setEnterprisecollections(e){this.enterprisecollections=e}setPersonalcollections(e){this.personalcollections=e}setEnterprisetags(e){this.enterprisetags=e}setPreferences(e){this.preferences=e}setEnterprise(e){this.enterprise=e}setPriorities(e){this.priorities=e}setCollections(e){this.collections=e}load(){}unload(){this.collections=null,this.enterprise=null,this.enterprisecollections=null,this.enterprisetags=null,this.personalcollections=null,this.personaltags=null,this.preferences=null,this.priorities=null}async askSuggestNextStream(e){const{isFeed:t,isAll:s,isGlobalEnterprise:n}=(0,a.Yg)(e);if(s)return(await(0,r.n)()).userCategoryGlobalAll;if(n)return(await(0,r.n)()).userCategoryGlobalEnterprise;if(t){const t=await this._askComputeFeedList();let s=!1;for(let n=0;n<t.length;n++){if(s&&t[n].unreadCount>0)return t[n];t[n].id===e&&(s=!0)}}else{const t=await this._askComputeSectionList();let s=!1;for(let n=0;n<t.length;n++){if(s&&t[n].unreadCount>0)return t[n];t[n].id===e&&(s=!0)}}return this.preferences.isTeamFirst()?(await(0,r.n)()).userCategoryGlobalEnterprise:(await(0,r.n)()).userCategoryGlobalAll}async askSuggestPreviousStream(e){const{isFeed:t,isAll:s,isGlobalEnterprise:n}=(0,a.Yg)(e);if(s)return(await(0,r.n)()).userCategoryGlobalAll;if(n)return(await(0,r.n)()).userCategoryGlobalEnterprise;if(t){const t=await this._askComputeFeedList();let s=!1;for(let n=t.length-1;n>=0;n--){if(s&&t[n].unreadCount>0)return t[n];t[n].id===e&&(s=!0)}}else{const t=await this._askComputeSectionList();let s=!1;for(let i=t.length-1;i>=0;i--){if(s&&t[i].unreadCount>0)return t[i];t[i].id===e&&(s=!0)}const n=t.filter((e=>null==e.unreadCount||e.unreadCount>0));if(n.length>0)return n[0]}return this.preferences.isTeamFirst()?(await(0,r.n)()).userCategoryGlobalEnterprise:(await(0,r.n)()).userCategoryGlobalAll}async _askComputeFeedList(){const[e,t]=await Promise.all([this.personalcollections.askListRankedCollections(),this.enterprisecollections.askListRankedSubscribedCollections()]),s=e.reduce(((e,t)=>e.concat(t.feeds)),[]),n=t.reduce(((e,t)=>e.concat(t.feeds)),[]),r=this.preferences.isTeamFirst()?[...n,...s]:[...s,...n];return i()(r,(e=>e.streamId))}async _askComputeSectionList(){let e=[],t=[],s=[],n=[];streets.hasBusinessAccess()?[e=[],t=[],s=[],n=[]]=await Promise.all([this.personalcollections.askListRankedCollections(),this.enterprisecollections.askListRankedSubscribedCollections(),this.enterprisetags.askListRankedSubscribedTags(),this._askListRankedPrioritiesSection()]):[e=[],n=[]]=await Promise.all([this.personalcollections.askListRankedCollections(),this._askListRankedPrioritiesSection()]);let i=[];return i=this.preferences.isTeamFirst()?[...n,...t,...s,...e]:[...n,...e,...t,...s],i}async _askListRankedPrioritiesSection(){return(await this.priorities.askListRankedPriorities()).filter((e=>e.unreadCount>0)).map((e=>({uri:e.prefContext,unreadCount:e.unreadCount,streamId:e.streamdId,id:e.id})))}}function c(e){return new l(e)}},42367:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(47169),i=s(87753),r=s(3015),a=s(83168),o=s(3167);const l=[o.Ob,o.rc,o.Kp],c="14j_1LpsfqWLhwCoq3b8e73VeGQhpSxcSLOs9YQi62z4";class d extends a.y{constructor(){super(...arguments),(0,n.Z)(this,"submitSurveyFeedback",(e=>{this.preferences.setPreference(o.Ob,4,null,!0);const{id:t,velocity:s,website:n}=this.preferences.getPreference(o.gO),{email:i,fullName:a,upgradeDate:l,userId:d,wave:h}=this.profile.getUserInfo(),u=streets.getPlan(),p=(0,r.p6)(new Date(l),"MM/dd/yyyy"),m={spreadsheetId:c,sheetTitle:"Survey answers - Automatic",row:[n,t,e,s,i,u,d,(0,r.p6)(new Date,"MM/dd/yyyy"),h,p,a]};this.sheets.askSaveToSheet(m),this.net.POST("https://engagement.feedly.com/webSiteToRssSurvey",{accessLevel:u,email:i,upgradeDate:p,pmfMetric:e,userId:d,wave:h,websiteUrl:n})})),(0,n.Z)(this,"saveMetrics",(e=>{this._metrics={...this._metrics,...e}}))}setAnalytics(e){this.analytics=e}setNet(e){this.net=e}setPreferences(e){this.preferences=e}setProfile(e){this.profile=e}setSheets(e){this.sheets=e}load(){this._metrics={}}unload(){this._metrics={},this.analytics=null,this.net=null,this.preferences=null,this.profile=null,this.sheets=null}async askCreate(e){if(!e)throw new Error("Website feed info is required");const t=await this.net.POST("!{cloud}/v3/websiteFeeds",e).then(JSON.parse).then((e=>(this._hasWebsiteToRSSFeedback()||this._setWebsiteToRSSPopupInfo(e),e)));return this.analytics.trackNewFeaturesEvent("website_to_rss","follow",{opt_label:t.feedId}),(0,i.K)("source_followed",{is_website_to_rss:!0},["amplitude","ga"]),this.fire("onSourceCreated",t.feedId,e.categoryId),t}async askDelete(e){if(!e)throw new Error("Website feed id is required");await this.net.DEL("!{cloud}/v3/websiteFeeds/".concat(encodeURIComponent(e)))}async askWebsiteContent(e){return this.net.GET("!{cloud}/v3/websiteFeeds/proxy?url=".concat(encodeURIComponent(e)))}async askShowSurveyPopup(){const{websiteToRSSPopupCount:e,enableProductFeedback:t,lastWebsiteToRSSPopupDate:s}=this.preferences.getPreferences(l);if(t===o.ZD.off||!s||e>=4)return!1;const n=Date.now()-s>r.HA.week;return n&&(this.preferences.setPreference(o.Kp,Date.now(),null,!0),this.preferences.setPreference(o.Ob,e+1,null,!0)),n}submitMetrics(){if("feedly"===streets.getEnterpriseId())return;const{endOfJourney:e,iframeError:t,userPlan:s,websiteUrl:n}=this._metrics;if(!n)return;const{email:i,fullName:a,upgradeDate:o,userId:l,wave:d}=this.profile.getUserInfo(),h=o?(0,r.p6)(new Date(o),"MM/dd/yyyy"):"n/a",u={spreadsheetId:c,sheetTitle:"Website to RSS entries",row:[n,e,t?"Yes":"No",i,s,l,d,h,a]};this.sheets.askSaveToSheet(u),this._metrics={}}_hasWebsiteToRSSFeedback(){return!!this.preferences.getPreference(o.Kp)}_setWebsiteToRSSPopupInfo(e){this.preferences.setPreference(o.Kp,Date.now()),this.preferences.setPreference(o.gO,e)}}function h(e){return new d(e)}},49431:(e,t,s)=>{"use strict";s(59656),s(15611),s(32321),s(49517),s(17962);var n=s(38916);window.awarenessMarker=!1,window.loginMarker=!1,window.streets=null,window!==top&&(top.location=window.location);let i=null;var r,a,o,l;r=window,a="message",o=e=>{if("http://feedly.com"!==e.origin&&"https://feedly.com"!==e.origin&&"http://cloud.feedly.com"!==e.origin&&"https://cloud.feedly.com"!==e.origin&&"http://sandbox7.feedly.com"!==e.origin&&"https://sandbox7.feedly.com"!==e.origin&&"http://gke.feedly.com"!==e.origin&&"https://gke.feedly.com"!==e.origin)return;const t=e.data;if(null==t||"string"!=typeof t)return;const s=t.indexOf("error=");if(t.indexOf("state=addLogin")>-1)if(null!=i&&(i.close(),i=null),-1===s)location.reload(!1);else{console.log("[web launch] ask add failed because:"+t);const e=t.slice(s+"error=".length),n=e.indexOf("&");n>-1&&e.slice(0,n),streets.service("signs").setNextAutoHideDelay(3e3),streets.service("signs").showMessage("Login already attached to a different account")}else if(t.indexOf("eventType=feedly")>-1);else{const e=Object.values(n.bK).find((e=>t.includes("eventType=".concat(e))));e&&(-1===s?streets.service("integrations").markAsConnected(e):streets.service("integrations").onConnectionFailure(e))}},l=!1,r.addEventListener?r.addEventListener(a,o,l):r.attachEvent&&r.attachEvent("on"+a,o);var c=s(47169),d=s(7757),h=s(87561),u=s(68681),p=s(83168),m=s(77157);const g=new Date(2018,6,1).getTime();class f extends p.y{constructor(e){super(),(0,c.Z)(this,"_state","LOADED"),(0,c.Z)(this,"_services",{}),(0,c.Z)(this,"_context",null),(0,c.Z)(this,"_plan","standard"),(0,c.Z)(this,"version","1.0.0"),this._config={...e}}isOffline(){return"OFFLINE"===this._state}getPlan(){return this._plan}setPlan(e){switch(e){case"pro":this._plan="pro";break;case"proStandard":this._plan="proStandard";break;case"proPlus":this._plan="proPlus";break;case"business":this._plan="business";break;case"enterprise":this._plan="enterprise";break;default:this._plan="standard"}}isLimitedPlan(){if(this.hasProAccess())return!1;const e=this._getProfileInfo();return!e||e.created>=g}hasProAccess(){return"pro"===this._plan||"proStandard"===this._plan||"proPlus"===this._plan||this.hasBusinessAccess()}hasProPlusAccess(){return"proPlus"===this._plan||this.hasBusinessAccess()}isStandardPlan(){return"standard"===this._plan}isProLegacyPlan(){return"pro"===this._plan}isProPlusPlan(){return"proPlus"===this._plan}isProStandardPlan(){return"proStandard"===this._plan}isBusinessPlan(){return"business"===this._plan}isEnterprisePlan(){return"enterprise"===this._plan}isEnterprisePlanOrPending(){return this.isEnterprisePlan()||this.isEnterprisePending()}getUserId(){return null!=this._context?this._context.userId:null}_getProfileInfo(){return this._services.profile.getUserInfo()}getEnterpriseId(){const e=this._getProfileInfo();return e.enterpriseName||e.adHocEnterpriseName}getEnterpriseName(){return this._getProfileInfo().enterpriseDescription||this.getEnterpriseId()}getEnterpriseStatus(){return this._getProfileInfo().enterpriseStatus}isEnterpriseUnpaid(){return"Unpaid"===this._getProfileInfo().enterpriseStatus}isEnterprisePending(){return"Pending"===this._getProfileInfo().enterpriseStatus}isEnterpriseCanceledPending(){return"CanceledPending"===this._getProfileInfo().enterpriseStatus}hasBusinessAccess(){return!!this.getUserId()&&!!this.getEnterpriseName()&&!this.isEnterpriseUnpaid()}hasAdminBusinessAccess(){return this.isUserAdmin()&&this.hasBusinessAccess()}isUserAdmin(){const e=this._getProfileInfo();return!(!e||!e.enterpriseRoles)&&e.enterpriseRoles.includes("admin")}_attachContext(e){this._context=e}askLogout(){return m.F.clear(),console.log("[core] Logout complete. Session cleared. Ask sync identity..."),this.askSyncIdentity()}askLoginWithSession(e){e&&e.feedlyToken?m.F.save(e):m.F.clear();const t=this.getUserId();(0,d.hd)().then((e=>{try{const t=e?e.plan:"standard";return this._attachContext(e),this.setPlan(t),this._processIdentity()}catch(t){this.goOffline("login failed: "+t.name+" -- "+t.message)}}),(e=>{const s=e instanceof u.o?e.errorCode:null;if(0===s||parseInt(s)>=500)try{console.log("[core] identity sync failed ".concat(t||"none"," --\x3e none. Status:").concat(s)),this.goOffline("ask profile returned error code:"+s),this.isOffline()&&(window.askShowOfflineEmptyState&&window.askShowOfflineEmptyState(),console.error("No internet access"))}catch(n){console.log("[warning] failed to go offline because:"+n.name+" -- "+n.message)}else try{return this._attachContext(null),this.setPlan("standard"),this._processIdentity()}catch(e){console.log("[warning] failed to switch to no identity because:"+e.name+" -- "+e.message)}}))}async _processIdentity(){return this.getUserId()?this._attachUser():this._attachNoUser()}async _attachUser(){return Promise.all(Object.entries(this._services).map((async e=>{let[t,s]=e;try{null!=s.onUserIdentified&&await s.onUserIdentified(this._context||{})}catch(n){throw new Error((0,h.Z)("".concat(t,".onUserIdentified"),n))}})))}async _attachNoUser(){return Promise.all(Object.entries(this._services).map((async e=>{let[t,s]=e;try{null!=s.onNoUserIdentified&&await s.onNoUserIdentified()}catch(n){throw new Error((0,h.Z)("".concat(t,".onNoUserIdentified"),n))}})))}_upgradeUser(){for(const n in this._config)try{var e,t;if(null!=this._services[n].onUserUpgraded)this._services[n].onUserUpgraded(null!==(e=null===(t=this._context)||void 0===t?void 0:t.profile)&&void 0!==e?e:null)}catch(s){throw new Error((0,h.Z)(n+".onUserUpgraded",s))}}_injectValue(e,t,s){if(!s)throw new Error("Property '"+t+"' is null, while trying to inject into service '"+e.id+"'");const n="set"+t.charAt(0).toUpperCase()+t.substr(1),i=e[n]||e.inject;try{i.call(e,s,t)}catch(r){throw console.log(r),new Error((0,h.Z)("inject into:"+e.id+" using setter "+n+".",r))}}_createFactory(e){if("function"==typeof e)return e;if("object"==typeof e&&e.__esModule&&e.hasOwnProperty("default"))return this._createFactory(e.default);throw new Error("invalid factory")}async start(){if("STARTED"==this._state)return;let e;try{var t,s;e="creation";for(const t in this._config){const s=this._config[t];if(e="creation."+t+" using "+s.factory,s.fn=this._createFactory(s.factory),s.dependencies=s.dependencies||[],"function"!=typeof s.fn)throw"failed to look up factory for :"+t+". Hint: no function for "+s.factory;const n=s.fn(t);if(null==n)throw"failed to look up factory for :"+t+". Hint: factory = "+s.factory;this._services[t]=n}e="injection";for(const e in this._config){const t=this._services[e],s=this._config[e];for(let e=0;e<s.dependencies.length;e++)this._injectValue(t,s.dependencies[e],this.service(s.dependencies[e]))}this._services.profile.loadProfile(null!==(t=null===(s=this._context)||void 0===s?void 0:s.profile)&&void 0!==t?t:null),e="loading";for(const e in this._config)null!=this._services[e].load&&this._services[e].load();e="initialization";for(const t in this._config)e="initialization."+t,null!=this._services[t].initialize&&this._services[t].initialize();e="process identity",await this._processIdentity(),this._state="STARTED"}catch(n){console.error(n),this.goOffline("["+e+"] "+(0,h.Z)("load streets",n))}}async askRefresh(){if(!this.getUserId())return;const e=[];for(const t in this._config){const s=this.service(t);s.askRefresh&&e.push(s.askRefresh())}return Promise.all(e)}async askUpdatePlan(e){console.log("[feedly] starting to upgrade identity..."),e.feedlyId=e.id,e.feedlyRefreshToken=e.refresh_token,e.feedlyToken=e.access_token,e.feedlyExpiresIn=e.expires_in,e.feedlyExpirationTime=(new Date).getTime()+1e3*e.expires_in-1e4,e.plan=e.plan||"business",delete e.access_token,delete e.expires_in,delete e.id,delete e.token_type,delete e.refresh_token,m.F.save(e);const t=await(0,d.hd)();if(!t.userId)throw new Error("Could not get new context");return this._attachContext(t),this.setPlan(t.plan),this._upgradeUser(),console.log("[core] identify upgraded"),t}askApplyNewSession(e){return new Promise(((t,s)=>{console.log("[feedly] starting to upgrade identity...");const n=m.F.load();m.F.save({...n,feedlyToken:e.accessToken,plan:e.plan||"business"});for(const e in this._config)try{null!=this._services[e].onSessionUpdated&&this._services[e].onSessionUpdated(n)}catch(i){throw new Error((0,h.Z)(e+".onSessionUpdated",i))}t(n)}))}async askSyncIdentity(){try{this.stop("identity re-sync")}catch(t){console.warn("failed to stop: "+t)}let e;try{e=await(0,d.hd)()}catch(t){const e=t instanceof u.o?t.errorCode:null;if(0===e||parseInt(e)>=500){try{this.goOffline("ask profile returned error code: "+e)}catch(t){console.warn("failed to go offline: "+t)}return this._fireOnAfterIdentitySync(null)}try{this._attachContext(null),this.setPlan("standard"),await this.start()}catch(t){console.warn("failed to switch to no identity:"+t)}return this._fireOnAfterIdentitySync(null)}try{return this._attachContext(e),this.setPlan(e.plan),await this.start(),this._fireOnAfterIdentitySync(e.userId)}catch(t){return console.error("failed to sync identity: "+t),this.goOffline("ask profile exception: "+t),this._fireOnAfterIdentitySync(null)}}async _fireOnAfterIdentitySync(e){if(null!=this.onAfterIdentitySync)try{await this.onAfterIdentitySync(e)}catch(t){console.error("failed to onAfterIdentitySync because: "+t)}}goOffline(e){if(console.log("ask go offline. reason: "+e),"OFFLINE"!=this._state){try{this.stop("going offline")}catch(t){console.log("[goOffline] trapping stop error: "+t.name+" -- "+t.message)}this._state="OFFLINE",console.log("gone offline. reason: "+e)}}stop(e){try{if("LOADED"==this._state)return;if("STOPPED"==this._state)return;if("STARTED"==this._state){for(const e in this._config)if(null!=this._services[e].uninitialize)try{this._services[e].uninitialize()}catch(t){console.log("[streets] failed to un-initialize:"+e+" --\x3e "+t.name+" -- "+t.message)}for(const e in this._config)if(null!=this._services[e].unload)try{this._services[e].unload()}catch(t){console.log("[streets] failed to unload:"+e+" --\x3e "+t.name+" -- "+t.message)}for(const e in this._config)delete this._services[e]}this._context=null,this._services={},this._state="STOPPED",console.log("stopped streets because:"+e)}catch(s){this._state="STOPPED",console.error(s),console.log("[streets] failed to stop because "+s.name+" -- "+s.message),this.goOffline("failed to stop because "+s.name+" -- "+s.message)}}shutdown(){this.stop("shutdown procedure")}dumpServices(){console.log("start streets dump");for(const e in this._services)console.log("--- service:"+e);console.log("end streets dump")}service(e){return this._services[e]}}const y={...{...{alerts:{factory:s(54107),dependencies:["collections","feeds","leo","net","preferences","profile"]},analytics:{factory:s(1459),dependencies:["net","enterprise"]},enterprise:{factory:s(2620),dependencies:["net"]},enterprisefilters:{factory:s(1626),dependencies:["net"]},personalfilters:{factory:s(27744),dependencies:["net"]},enterprisetags:{factory:s(22340),dependencies:["net","reader","preferences"]},enterprisecollections:{factory:s(62714),dependencies:["alerts","net","reader","preferences","websitefeeds"]},collections:{factory:s(75514),dependencies:["enterprisecollections","feeds","mutefilters","personalcollections","preferences","priorities","profile","enterprise"]},sheets:{factory:s(8742),dependencies:["alerts","feeds","net","priorities","profile"]},tags:{factory:s(192),dependencies:["enterprisetags","personaltags"]},feeds:{factory:s(53278),dependencies:["collections","enterprise","enterprisecollections","net","personalcollections"]},personalcollections:{factory:s(85917),dependencies:["alerts","net","reader","preferences","websitefeeds"]},personaltags:{factory:s(73017),dependencies:["net","reader","preferences"]},leo:{factory:s(78421),dependencies:["net","enterprise","feeds","profile"]},net:{factory:s(33037)},image:{factory:s(23017),dependencies:[]},profile:{factory:s(57078),dependencies:["alerts","net","enterprise","priorities"]},preferences:{factory:s(7736),dependencies:["net"]},reader:{factory:s(55407),dependencies:["preferences","profile","enterprisetags","personaltags","enterprisecollections","personalcollections","net","enterprise","personalfilters","enterprisefilters","priorities","enterprisepriorities","personalpriorities","collections","feeds","tags","microsessions"]},topics:{factory:s(55251),dependencies:["net"]},enterprisemutefilters:{factory:s(39390),dependencies:["net"]},personalmutefilters:{factory:s(5998),dependencies:["net"]},mutefilters:{factory:s(96663),dependencies:["net","enterprisemutefilters","personalmutefilters"]},enterprisepriorities:{factory:s(16839),dependencies:["net","enterprise","collections","reader"]},personalpriorities:{factory:s(20481),dependencies:["net","enterprise","collections","leo","reader"]},priorities:{factory:s(81640),dependencies:["enterprisepriorities","leo","personalpriorities","preferences","reader"]},suggesto:{factory:s(92943),dependencies:["feeds","leo"]},dots:{factory:s(24482),dependencies:["preferences"]},engagements:{factory:s(86132),dependencies:["net","reader","feeds"]},microsessions:{factory:s(97100),dependencies:["net","enterprise"]},websitefeeds:{factory:s(42367),dependencies:["analytics","net","preferences","profile","sheets"]}},discover:{factory:s(55424),dependencies:["alerts","leo","net","feeds","websitefeeds"]},libraries:{factory:s(38664),dependencies:["net"]},bundles:{factory:s(5803),dependencies:["libraries"]},meme:{factory:s(32769),dependencies:["net","reader"]},keywordalerts:{factory:s(8533),dependencies:["enterprisecollections","personalcollections","reader","feeds"]},suggestions:{factory:s(99097),dependencies:["net","leo"]},today:{factory:s(49367),dependencies:["enterprise","enterprisecollections","personalcollections","preferences","profile"]},transitions:{factory:s(98812),dependencies:["collections","enterprise","enterprisecollections","enterprisetags","personalcollections","preferences","priorities"]},evernote:{factory:s(98269),dependencies:["integrations","net","reader","commonsigns","analytics"]},pocket:{factory:s(20689),dependencies:["integrations","net","reader"]},instapaper:{factory:s(81783),dependencies:["integrations","net","reader"]},reddit:{factory:s(65984),dependencies:["feeds"]},integrations:{factory:s(48e3),dependencies:["commonsigns","enterprise","evernote","feedly","instapaper","net","pocket","profile","reader"]},font:{factory:s(90926),dependencies:["net","preferences"]},bsa:{factory:s(23861),dependencies:["feeds","net"]},newfeatures:{factory:s(70418),dependencies:["feeds","preferences","reader"]},prompts:{factory:s(54713),dependencies:["alerts","bsa","collections","preferences","suggestions"]}},buffer:{factory:s(52630),dependencies:["analytics","enterprise","router","net","preferences","profile","reader","signs"]},pinterest:{factory:s(73329),dependencies:["analytics"]},mlwikidatatopics:{factory:s(87141),dependencies:["net","reader"]},mltopicdatasets:{factory:s(81835),dependencies:["net"]},cybersecuritydashboard:{factory:s(54323),dependencies:["net","reader"]},feedly:{factory:s(24671),dependencies:["analytics","integrations","leftnav","leo","notifications","onboarding","pageManager","personalcollections","pocket","preferences","profile","reader","readingManager","router","signs","slider"]},navigo:{factory:s(44282),dependencies:[]},notifications:{factory:s(58826),dependencies:[]},journey:{factory:s(19373),dependencies:["preferences","notifications","analytics","feedly","profile","feeds","router"]},autoChrome:{factory:s(25609),dependencies:[]},likeboard:{factory:s(92704),dependencies:["net","priorities"]},oxygen:{factory:s(43426),dependencies:["net"]},slider:{factory:s(52393),dependencies:["dots","feedly","pageManager","shortcuts"]},guidedtutorials:{factory:s(15400),dependencies:[]},leftnav:{factory:s(31957),dependencies:["feedly","personaltags","personalcollections","enterprisetags","enterprisecollections","enterprisepriorities","personalfilters","personalmutefilters","priorities","personalcollections","personalpriorities"]},currency:{factory:s(57555),dependencies:["net"]},heartbeat:{factory:s(44638),dependencies:["net"]},helpscout:{factory:s(72286),dependencies:["net","enterprise","router"]},commonsigns:{factory:s(2563),dependencies:["signs"]},onboarding:{factory:s(74739),dependencies:["collections","enterprisecollections","enterprisetags","personalcollections","personaltags"]},issues:{factory:s(72086),dependencies:["enterprise","integrations","net","profile"]},pageManager:{factory:s(54034),dependencies:["feedly","preferences"]},readingManager:{factory:s(63335),dependencies:["feedly","buffer","reader","router","shortcuts","analytics","signs","preferences","navigo","slider","microsessions","pageManager","helpSigns"]},shortcuts:{factory:s(9875),dependencies:["preferences"]},signs:{factory:s(37877).g,dependencies:[]},helpSigns:{factory:s(37877).P,dependencies:["shortcuts"]},quickGoto:{factory:s(88611),dependencies:["router","collections","personaltags","enterprisetags","shortcuts"]},popups:{factory:s(20370),dependencies:["alerts","analytics","notifications","newfeatures","preferences","sheets","websitefeeds"]},router:{factory:s(88768),dependencies:["alerts","analytics","autoChrome","enterprisecollections","feedly","leftnav","leo","navigo","notifications","pageManager","personalcollections","preferences","profile","reader","readingManager","signs","slider","transitions"]}};window.GoogleAnalyticsObject="ga",window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.addEventListener("load",(()=>{!function(e,t,s,n,i,r,a){e.ga.l=1*new Date}(window,document),window.twttr=function(e,t,s){let n;const i=e.getElementsByTagName(t)[0],r=window.twttr||{};return e.getElementById(s)||(n=e.createElement(t),n.id=s,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),r._e=[],r.ready=function(e){r._e.push(e)}),r}(document,"script","twitter-wjs"),window.streets=new f(y),streets.onAfterIdentitySync=async()=>{await streets.service("feedly").loadStartPage();try{const e=new Event("login");document.dispatchEvent(e)}catch(e){console.log("[feedly] failed to fire custom login event")}},streets.askSyncIdentity()}),!1)},77618:()=>{},1714:()=>{},17393:(e,t,s)=>{var n={"./amasis.scss":[76171,6171],"./dinnext.scss":[34907,4907],"./frutigernext.scss":[88199,8199],"./iowan.scss":[48625,8625],"./itccharter.scss":[26335,6335],"./mundosans.scss":[85368,5368],"./ysobel.scss":[55179,5179]};function i(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return s.e(t[1]).then((()=>s(i)))}i.keys=()=>Object.keys(n),i.id=17393,e.exports=i},74592:(e,t,s)=>{var n={"./AccountPage.jsx":[1695,7666,1695],"./AllPage.jsx":[12248,2248],"./BestPage.jsx":[99296,367,7919],"./BlackFridayPage.jsx":[40181,749,5900,181],"./BoardPage.jsx":[15811,7982,7297,6561,8537,3663],"./CollectionPage.jsx":[38536,7982,7297,6561,8537,1209],"./ConsolePage.jsx":[9915,9915],"./CortexPage.jsx":[16257,6257],"./CvePage.jsx":[79704,9704],"./DashboardPage.jsx":[91656,1656],"./DiscoverPage.jsx":[77271,5814,9842],"./EnterpriseTrialPage.jsx":[55665,904,5665],"./EntryPage.jsx":[13480,3480],"./ErasePage.jsx":[26815,6815],"./FeedPage.jsx":[48520,7982,7297,6561,8537,5797],"./FiltersPage.jsx":[93593,3593],"./FuturePage.jsx":[44177,4177],"./HeartbeatPage.jsx":[49754,9754],"./IftttPage.jsx":[80171,171],"./IndexPage.jsx":[42319,2319],"./InvitePage.jsx":[98319,8319],"./InvitedPage.jsx":[62636,2636],"./IssuesPage.jsx":[72112,2112],"./LandingPage.jsx":[94757,7666,1056,904,749,5900,5008,2238,5164,2262],"./LegalPage.jsx":[61352,1352],"./LeoWebAlertsPage.jsx":[87524,7524],"./LibraryPage.jsx":[35747,5814,8834],"./MemePage.jsx":[1507,1507],"./OpmlPage.jsx":[20099,99],"./OrganizePage.jsx":[20350,5465,350],"./OxygenPage.jsx":[55401,7982,9538,5401],"./PowerSearchPage.jsx":[44426,4426],"./PremiumPage.jsx":[98439,749,5900,8439],"./PriorityPage.jsx":[82205,2205],"./ProPage.jsx":[9233,7666,9233],"./StreamPage.jsx":[8537,7982,7297,6561,8537,5331],"./SupportPage.jsx":[30860,904,749,652,6372],"./TeamPage.jsx":[75135,904,652,1587],"./TodayPage.jsx":[96871,6871],"./TopPage.jsx":[70367,367,7194],"./TopicDatasetPage.jsx":[98551,7982,7297,9538,905,4190,3676],"./TopicModelerPage.jsx":[42774,2774],"./TrainLeoPage.jsx":[27770,5008,8787],"./UnknownPage.jsx":[97083,7083],"./UseCasePage.jsx":[50225,225],"./WelcomePage.jsx":[32133,1056,904,5008,2238,2133],"./WikidataTopicCurationPage.jsx":[95871,3844,4190,5871,9589],"./WikidataTopicEvaluationPage.jsx":[85595,4190,447],"./WikidataTopicHistoryPage.jsx":[95046,5046],"./WikidataTopicItemsPage.jsx":[84957,3844,4386],"./WikidataTopicModelPage.jsx":[37537,3844,7537,214],"./WikidataTopicPage.jsx":[12492,3844,4190,7537,5871,5126],"./WikidataTopicsPage.jsx":[35990,5990]};function i(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(s.e)).then((()=>s(i)))}i.keys=()=>Object.keys(n),i.id=74592,e.exports=i},62553:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-disappointed.lottie.9658616a.json"},19070:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-happy.lottie.15b26020.json"},62083:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-justok.lottie.9c09c61f.json"},84791:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-loveit.lottie.cce7ec1e.json"},89556:(e,t,s)=>{"use strict";e.exports=s.p+"animations/leo-satisfaction-unhappy.lottie.0a985ce1.json"},70720:(e,t,s)=>{"use strict";e.exports=s.p+"images/add-note-v0.475ccd83.svg"},55405:(e,t,s)=>{"use strict";e.exports=s.p+"images/boards-teams-v0.efc4d463.svg"},12291:(e,t,s)=>{"use strict";e.exports=s.p+"images/boards-v0.845c1250.svg"},99353:(e,t,s)=>{"use strict";e.exports=s.p+"images/disseminate-v0.6b82d3be.svg"},40150:(e,t,s)=>{"use strict";e.exports=s.p+"images/empty-leo-build-night.a0c2d730.gif"},31234:(e,t,s)=>{"use strict";e.exports=s.p+"images/empty-leo-build.cffdbb57.gif"},5156:(e,t,s)=>{"use strict";e.exports=s.p+"images/feeds--dark.218baefd.svg"},59003:(e,t,s)=>{"use strict";e.exports=s.p+"images/feeds-v0.5a471fe9.svg"},50224:(e,t,s)=>{"use strict";e.exports=s.p+"images/gift-v0.f82380c1.svg"},48499:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjc2IDIyMCI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTEwLC5jbHMtMTYsLmNscy04e2ZpbGw6IzMzMzt9LmNscy0xe2NsaXAtcnVsZTpldmVub2RkO30uY2xzLTJ7ZmlsbDojOWU5ZTllO30uY2xzLTEyLC5jbHMtMTYsLmNscy0xNywuY2xzLTE4LC5jbHMtMiwuY2xzLTMsLmNscy00LC5jbHMtNntzdHJva2U6IzAwMDt9LmNscy0xMiwuY2xzLTEzLC5jbHMtMTQsLmNscy0xNSwuY2xzLTE2LC5jbHMtMTcsLmNscy0xOCwuY2xzLTE5LC5jbHMtMiwuY2xzLTMsLmNscy00LC5jbHMtNntzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjJweDt9LmNscy0ze2ZpbGw6I2ZmZjt9LmNscy0xMywuY2xzLTE0LC5jbHMtMTUsLmNscy0xOSwuY2xzLTQsLmNscy03e2ZpbGw6bm9uZTt9LmNscy01LC5jbHMtNntmaWxsOiNkOWQ5ZDk7fS5jbHMtNywuY2xzLTh7ZmlsbC1ydWxlOmV2ZW5vZGQ7fS5jbHMtOXtjbGlwLXBhdGg6dXJsKCNjbGlwLXBhdGgpO30uY2xzLTExe2ZpbGw6I2E2ZTJiNDt9LmNscy0xMntmaWxsOiNkZmY1ZTM7fS5jbHMtMTN7c3Ryb2tlOiNmZmY7fS5jbHMtMTR7c3Ryb2tlOiMzM2IwNTE7fS5jbHMtMTV7c3Ryb2tlOiM0ZDRkNGQ7fS5jbHMtMTd7ZmlsbDojMzRiMTUxO30uY2xzLTE4e2ZpbGw6I2I5ZWJjMzt9LmNscy0xOXtzdHJva2U6I2JmYmZiZjt9PC9zdHlsZT48Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aCI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTc1LjMsMTI1Ljk0bC0xMC4yMi0xMC4yNWEyLjc5LDIuNzksMCwwLDAtMy45MywwbC0xMC4yMywxMC4yNWEyLjc5LDIuNzksMCwwLDAsMCwzLjkzbDYuODQsNi44NWE0Ljc1LDQuNzUsMCwwLDAsMy4zOCwxLjRoMy45NGE0Ljc5LDQuNzksMCwwLDAsMy4zOS0xLjRsNi44My02Ljg1QTIuNzksMi43OSwwLDAsMCwxNzUuMywxMjUuOTRabS0xNy40MSwyLjk0YTEuMzgsMS4zOCwwLDEsMS0xLjk1LTJsNi4xMS02LjEyYTEuMzgsMS4zOCwwLDEsMSwxLjk1LDJabTYuMTcsNi4xOGExLjM4LDEuMzgsMCwxLDEsMC0yQTEuMzgsMS4zOCwwLDAsMSwxNjQuMDYsMTM1LjA2Wm0wLTYuMkwxNjEsMTMyYTEuMzksMS4zOSwwLDEsMS0yLTJsMy4xMS0zLjExYTEuMzgsMS4zOCwwLDEsMSwyLDJaIi8+PC9jbGlwUGF0aD48L2RlZnM+PHRpdGxlPmxlby1icm9rZW4tZGFyazwvdGl0bGU+PGcgaWQ9ImFydHdvcmsiPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMTMyLjExIiB5PSIxNTYuNSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiByeD0iMTYiLz48cmVjdCBjbGFzcz0iY2xzLTMiIHg9IjExMy4xMSIgeT0iMTU2LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgcng9IjE2Ii8+PGxpbmUgY2xhc3M9ImNscy00IiB4MT0iMTkxLjExIiB5MT0iMTcyLjUiIHgyPSIxODEuMTEiIHkyPSIxNzIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtNCIgeDE9IjE4OC4xMSIgeTE9IjE2NC41IiB4Mj0iMTgwLjExIiB5Mj0iMTY0LjUiLz48bGluZSBjbGFzcz0iY2xzLTQiIHgxPSIxODguMTEiIHkxPSIxODAuNSIgeDI9IjE4MC4xMSIgeTI9IjE4MC41Ii8+PHBhdGggY2xhc3M9ImNscy01IiBkPSJNMTYxLjExLDE4Ny41YTE1LDE1LDAsMCwwLDkuNzUtMy42MiwxNywxNywwLDAsMC0xNS43NS0yMy4zOGgtMzJhMTYuNzQsMTYuNzQsMCwwLDAtMy40Mi4zNSwxNSwxNSwwLDAsMCw5LjQyLDI2LjY1WiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTE3MC45MywxMTUuNzFsLTQuMiwxMC4xNmExNCwxNCwwLDAsMCw3LjU5LDE4LjI5bDMxLjMxLDEyLjk0YTExLjEzLDExLjEzLDAsMCwwLDE0LjUzLTZoMGExMS4xMywxMS4xMywwLDAsMC0yLjg1LTEyLjUzTDE5OS45LDEyMi45MWEyNy45MiwyNy45MiwwLDAsMC04LTVMMTg3LjMsMTE2Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTY2LjMxLDExMy44LDE2Mi4xMSwxMjRhMTQsMTQsMCwwLDAsNy41OSwxOC4yOUwyMDEsMTU1LjE5YTExLjEzLDExLjEzLDAsMCwwLDE0LjUzLTZoMGExMS4xMywxMS4xMywwLDAsMC0yLjg1LTEyLjUzTDE5NS4yOCwxMjFhMjcuOTIsMjcuOTIsMCwwLDAtOC01Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxNzQuMTMiIGN5PSIxMjguOTMiIHI9IjUiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xOTQuMTEsMTM1LjVhMTgsMTgsMCwwLDAtMTgtMThIMTY1Ljg2TDE2MywxMjQuMzVhMTMsMTMsMCwwLDAsNy4wNSwxN2wyNCw5LjkzWiIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTE5MS43NywxMTkuNDVsLTMuNTcsOC42M2E0LjA4LDQuMDgsMCwwLDAsMCwzLjA3bC45LDIuMTZhNCw0LDAsMCwxLDAsMy4wNmwtMS42Niw0Ii8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNMTMzLjExLDE0OC41YTYsNiwwLDAsMCw2LTYiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0xMTIuMTEsMTA1LjVhMTgsMTgsMCwwLDAtMTgsMTh2MTlhNiw2LDAsMCwwLDYsNmgzM2E2LDYsMCwwLDAsNi02di0xOWExOCwxOCwwLDAsMC0xOC0xOGgtOUExNy45MSwxNy45MSwwLDAsMCwxMDIsMTA4LjYyIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTY2LjExLDEwNS41aC00NWExOCwxOCwwLDAsMSwxOCwxOHYxOWE2LDYsMCwwLDEtNiw2aDQ1YTYsNiwwLDAsMCw2LTZ2LTE5QTE4LDE4LDAsMCwwLDE2Ni4xMSwxMDUuNVoiLz48cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjEwMi4xMSIgeT0iMTU2LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgcng9IjE2Ii8+PHJlY3QgY2xhc3M9ImNscy0zIiB4PSI4My4xMSIgeT0iMTU2LjUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgcng9IjE2Ii8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJNMTAwLjExLDE4Mi41YTEwLDEwLDAsMCwxLDAtMjBoMzBhMTAsMTAsMCwwLDEsMCwyMFoiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMyIgY3g9IjEyOS4xMSIgY3k9IjE3Mi41IiByPSI1Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxMDEuMTEiIGN5PSIxNzIuNSIgcj0iNSIvPjxjaXJjbGUgY2xhc3M9ImNscy0zIiBjeD0iMTE1LjExIiBjeT0iMTcyLjUiIHI9IjUiLz48bGluZSBjbGFzcz0iY2xzLTQiIHgxPSIxNjEuMTEiIHkxPSIxNzIuNSIgeDI9IjE1MS4xMSIgeTI9IjE3Mi41Ii8+PGxpbmUgY2xhc3M9ImNscy00IiB4MT0iMTU4LjExIiB5MT0iMTY0LjUiIHgyPSIxNTAuMTEiIHkyPSIxNjQuNSIvPjxsaW5lIGNsYXNzPSJjbHMtNCIgeDE9IjE1OC4xMSIgeTE9IjE4MC41IiB4Mj0iMTUwLjExIiB5Mj0iMTgwLjUiLz48cGF0aCBjbGFzcz0iY2xzLTciIGQ9Ik0xMzMuNzUsMTQ3LjkySDEwMWEyLjE0LDIuMTQsMCwwLDAtMi4xNCwyLjE1djQuM2EyLjE1LDIuMTUsMCwwLDAsMi4xNCwyLjE1aDMyLjc3YTIuMTUsMi4xNSwwLDAsMCwyLjE0LTIuMTV2LTQuM2EyLjE0LDIuMTQsMCwwLDAtMi4xNC0yLjE1Ii8+PHJlY3QgY2xhc3M9ImNscy02IiB4PSIxMDIuMTEiIHk9IjE0OC41IiB3aWR0aD0iNDYiIGhlaWdodD0iOCIgcng9IjIiLz48cmVjdCBjbGFzcz0iY2xzLTYiIHg9IjEyOS4xMSIgeT0iMTQ4LjUiIHdpZHRoPSI0NSIgaGVpZ2h0PSI4IiByeD0iMiIvPjxwYXRoIGNsYXNzPSJjbHMtOCIgZD0iTTE3NS4zLDEyNS45NGwtMTAuMjItMTAuMjVhMi43OSwyLjc5LDAsMCwwLTMuOTMsMGwtMTAuMjMsMTAuMjVhMi43OSwyLjc5LDAsMCwwLDAsMy45M2w2Ljg0LDYuODVhNC43NSw0Ljc1LDAsMCwwLDMuMzgsMS40aDMuOTRhNC43OSw0Ljc5LDAsMCwwLDMuMzktMS40bDYuODMtNi44NUEyLjc5LDIuNzksMCwwLDAsMTc1LjMsMTI1Ljk0Wm0tMTcuNDEsMi45NGExLjM4LDEuMzgsMCwxLDEtMS45NS0ybDYuMTEtNi4xMmExLjM4LDEuMzgsMCwxLDEsMS45NSwyWm02LjE3LDYuMThhMS4zOCwxLjM4LDAsMSwxLDAtMkExLjM4LDEuMzgsMCwwLDEsMTY0LjA2LDEzNS4wNlptMC02LjJMMTYxLDEzMmExLjM5LDEuMzksMCwxLDEtMi0ybDMuMTEtMy4xMWExLjM4LDEuMzgsMCwxLDEsMiwyWiIvPjxnIGNsYXNzPSJjbHMtOSI+PHJlY3QgY2xhc3M9ImNscy0xMCIgeD0iMTQ0LjgyIiB5PSIxMDkuNTkiIHdpZHRoPSIzNi41OCIgaGVpZ2h0PSIzMy44MiIvPjwvZz48Y2lyY2xlIGNsYXNzPSJjbHMtMTEiIGN4PSIxNDQuMTEiIGN5PSIxMTUuNSIgcj0iMiIvPjxjaXJjbGUgY2xhc3M9ImNscy0xMCIgY3g9IjE1MC4xMSIgY3k9IjExNS41IiByPSIyIi8+PHJlY3QgY2xhc3M9ImNscy0zIiB4PSIxMDAuMTEiIHk9IjM5LjUiIHdpZHRoPSI4MiIgaGVpZ2h0PSI1OSIgcng9IjI5LjUiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xNTguNjEsOTQuNWgtMjNBMjguNDksMjguNDksMCwwLDEsMTIwLDQyLjE3YTI4LjUsMjguNSwwLDAsMCw5LjYsNTUuMzNoMjNhMjguMzMsMjguMzMsMCwwLDAsMTUuNjEtNC42N0EyOC4zOCwyOC4zOCwwLDAsMSwxNTguNjEsOTQuNVoiLz48cmVjdCBjbGFzcz0iY2xzLTEyIiB4PSIxMTguMTEiIHk9IjUwLjUiIHdpZHRoPSI1NCIgaGVpZ2h0PSIxOSIgcng9IjkuNSIvPjxwYXRoIGQ9Ik0xNTIuMTEsNTkuNWgwYTQsNCwwLDAsMSw0LDR2N2EwLDAsMCwwLDEsMCwwaC04YTAsMCwwLDAsMSwwLDB2LTdhNCw0LDAsMCwxLDQtNFoiLz48cGF0aCBkPSJNMTMxLjExLDU5LjVoMGE0LDQsMCwwLDEsNCw0djdhMCwwLDAsMCwxLDAsMGgtOGEwLDAsMCwwLDEsMCwwdi03QTQsNCwwLDAsMSwxMzEuMTEsNTkuNVoiLz48cGF0aCBjbGFzcz0iY2xzLTEzIiBkPSJNMTg0LjExLDc4aDFhMywzLDAsMCwwLDMtM1Y2M2EzLDMsMCwwLDAtMy0zaC0xIi8+PGxpbmUgY2xhc3M9ImNscy0xMyIgeDE9IjE4OC4xMSIgeTE9IjY5IiB4Mj0iMTkxLjExIiB5Mj0iNjkiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMTMiIGN4PSIxOTQuMTEiIGN5PSI2OSIgcj0iMyIvPjxwYXRoIGNsYXNzPSJjbHMtNSIgZD0iTTEwNy4xMSw2NC41aC01YTQuNCw0LjQsMCwwLDAtLjczLjA3LDMwLDMwLDAsMCwwLS4yNywzLjkzLDI4LjgxLDI4LjgxLDAsMCwwLDQuODMsMTZoMS4xN2E0LDQsMCwwLDAsNC00di0xMkE0LDQsMCwwLDAsMTA3LjExLDY0LjVaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTEzIiBjeD0iODcuMTEiIGN5PSI2OSIgcj0iMyIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTk4LjExLDc4aDVhMywzLDAsMCwwLDMtM1Y2M2EzLDMsMCwwLDAtMy0zaC01Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNOTUuMTEsNjVWNzVhMywzLDAsMCwwLDMsM2gwYTMsMywwLDAsMCwzLTNWNjNhMywzLDAsMCwwLTMtM2gwYTMsMywwLDAsMC0zLDN2NiIvPjxsaW5lIGNsYXNzPSJjbHMtMTMiIHgxPSI5Ny4xMSIgeTE9IjY5IiB4Mj0iOTAuMTEiIHkyPSI2OSIvPjxlbGxpcHNlIGN4PSIxNDgiIGN5PSI4MyIgcng9IjYuNSIgcnk9IjcuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMTQiIHgxPSIyNy44IiB5MT0iMzAuMTIiIHgyPSIzMi44IiB5Mj0iMzUuMTIiLz48bGluZSBjbGFzcz0iY2xzLTE0IiB4MT0iMjcuOCIgeTE9IjM1LjEyIiB4Mj0iMzIuOCIgeTI9IjMwLjEyIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iNDUuMyIgY3k9IjMzIiByPSIzIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iODkuMyIgY3k9IjM4IiByPSIzIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iNjYuMyIgY3k9IjY4IiByPSIyIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTE0IiBjeD0iMzYuMyIgY3k9IjQ0IiByPSIxIi8+PGxpbmUgY2xhc3M9ImNscy0xNSIgeDE9Ijc5LjI1IiB5MT0iMTEwLjYyIiB4Mj0iODQuMjUiIHkyPSIxMTUuNjIiLz48bGluZSBjbGFzcz0iY2xzLTE1IiB4MT0iNzkuMjUiIHkxPSIxMTUuNjIiIHgyPSI4NC4yNSIgeTI9IjExMC42MiIvPjxjaXJjbGUgY2xhc3M9ImNscy0xNSIgY3g9Ijc5Ljc1IiBjeT0iMTMxLjUiIHI9IjMiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMTUiIGN4PSI4Ny43NSIgY3k9IjEyNC41IiByPSIxIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTE2LjMsMTM0YTEwLDEwLDAsMSwwLDAtMjBoLTR2MjBaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTYiIGN4PSIxMTIuMyIgY3k9IjEyNCIgcj0iMTAiLz48Y2lyY2xlIGNsYXNzPSJjbHMtMTYiIGN4PSIxMTIuMyIgY3k9IjEyNCIgcj0iNiIvPjxwYXRoIGNsYXNzPSJjbHMtMTciIGQ9Ik0xMTUuNjEsMTE5SDExMWEzLDMsMCwwLDEtMy0zLDcsNywwLDAsMC03LjctNi45MUE3LjI0LDcuMjQsMCwwLDAsOTYsMTExLjIybC0yLDJBMiwyLDAsMSwwLDk2LjgzLDExNmwyLTJhMy4xMSwzLjExLDAsMCwxLDEuNy0uOTJBMywzLDAsMCwxLDEwNCwxMTYuMWMwLDMuOCwzLjQ2LDYuOSw3LjI2LDYuOWg2Ljk1QTYsNiwwLDAsMCwxMTUuNjEsMTE5WiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0iTTExNC44OCwxMjYuNDFhMiwyLDAsMCwwLTEuNDEtMy40MUgxMDcuM2E2LDYsMCwwLDAtNiw2djRhMiwyLDAsMCwwLDIsMmgwYTIsMiwwLDAsMCwyLTJ2LTRhMiwyLDAsMCwxLDItMmg2LjE3YTIsMiwwLDAsMCwxLjQxLS41OVoiLz48cGF0aCBjbGFzcz0iY2xzLTE4IiBkPSJNMTE4LjMsMTI0aC0yYTYsNiwwLDAsMC02LDZ2N2EyLDIsMCwwLDEtMiwyaDBhMiwyLDAsMCwwLDAsNGgwYTYsNiwwLDAsMCw2LTZ2LTdhMiwyLDAsMCwxLDItMmguNDZBNiw2LDAsMCwwLDExOC4zLDEyNFoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xMjQuMTEsMTg0Ljg3aDBhMTEuMTIsMTEuMTIsMCwwLDAtNy40Mi0xMC40OUw5NC42MywxNjYuNmEyNy44NywyNy44NywwLDAsMC05LjMxLTEuNkg3MS4xMWE2LDYsMCwwLDAtNiw2djExYTE0LDE0LDAsMCwwLDE0LDE0SDExM0ExMS4xMywxMS4xMywwLDAsMCwxMjQuMTEsMTg0Ljg3WiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTExNi4xMSwxODQuODdoMGExMS4xMiwxMS4xMiwwLDAsMC03LjQyLTEwLjQ5TDg2LjYzLDE2Ni42YTI3Ljg3LDI3Ljg3LDAsMCwwLTkuMzEtMS42SDYzLjExYTYsNiwwLDAsMC02LDZ2MTFhMTQsMTQsMCwwLDAsMTQsMTRIMTA1QTExLjEzLDExLjEzLDAsMCwwLDExNi4xMSwxODQuODdaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSI3MC4xMSIgY3k9IjE4MiIgcj0iNSIvPjxsaW5lIGNsYXNzPSJjbHMtMTkiIHgxPSI1NS4zIiB5MT0iMTYyLjUiIHgyPSI1Mi4zIiB5Mj0iMTU5LjUiLz48bGluZSBjbGFzcz0iY2xzLTE5IiB4MT0iNTkuODYiIHkxPSIxNTkuMzciIHgyPSI1OC42MyIgeTI9IjE1NS4zMSIvPjxsaW5lIGNsYXNzPSJjbHMtMTkiIHgxPSI1Mi43NCIgeTE9IjE2Ny40OSIgeDI9IjQ4LjY3IiB5Mj0iMTY2LjI5Ii8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNODIuOCwxNjYuNXY5LjM0QTQsNCwwLDAsMCw4NCwxNzguNjdsMS42NiwxLjY2YTQsNCwwLDAsMSwxLjE3LDIuODN2NC4zNCIvPjxyZWN0IGNsYXNzPSJjbHMtMTUiIHg9IjIxMi43IiB5PSI2NC43NiIgd2lkdGg9IjMwLjE0IiBoZWlnaHQ9IjEzLjk1IiByeD0iNCIvPjxyZWN0IGNsYXNzPSJjbHMtMTUiIHg9IjIyNy43NyIgeT0iNDYuNTQiIHdpZHRoPSIzMC4xNCIgaGVpZ2h0PSIxMy45NSIgcng9IjQiLz48cmVjdCBjbGFzcz0iY2xzLTE1IiB4PSIyMTIuNyIgeT0iMjguMzEiIHdpZHRoPSIzMC4xNCIgaGVpZ2h0PSIxMy45NSIgcng9IjQiLz48cmVjdCBjbGFzcz0iY2xzLTE1IiB4PSIyNC4wOSIgeT0iMTEzLjE0IiB3aWR0aD0iMzAuMTQiIGhlaWdodD0iMTMuOTUiIHJ4PSI0Ii8+PHJlY3QgY2xhc3M9ImNscy0xNSIgeD0iMzkuMTYiIHk9Ijk0LjkxIiB3aWR0aD0iMzAuMTQiIGhlaWdodD0iMTMuOTUiIHJ4PSI0Ii8+PHBhdGggY2xhc3M9ImNscy0xNCIgZD0iTTU1LjQ2LDU4SDczLjE0YTQsNCwwLDAsMCwzLjQxLTYuMUw2Ny43LDM3LjU0YTQsNCwwLDAsMC02LjgxLDBMNTIuMDUsNTEuOUE0LDQsMCwwLDAsNTUuNDYsNThaIi8+PGxpbmUgY2xhc3M9ImNscy0xNCIgeDE9IjY0LjMiIHkxPSI0MSIgeDI9IjY0LjMiIHkyPSI0OSIvPjxsaW5lIGNsYXNzPSJjbHMtMTQiIHgxPSI2NC4zIiB5MT0iNTMiIHgyPSI2NC4zIiB5Mj0iNTQiLz48L2c+PC9zdmc+"},65899:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-broken-light.f990b9fe.svg"},69323:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-clean-v0.69884f46.svg"},97448:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-skills--dark.0ca5bd8f.svg"},42746:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-skills--light.78d760a7.svg"},47904:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-v0.6cfb7f63.svg"},47185:(e,t,s)=>{"use strict";e.exports=s.p+"images/leo-waving-surprised-v0.05e9140d.svg"},18911:(e,t,s)=>{"use strict";e.exports=s.p+"images/light-green-sticker.d081b1c0.svg"},11261:(e,t,s)=>{"use strict";e.exports=s.p+"images/mute-filters-keyword-v0.7f7e0475.svg"},30936:(e,t,s)=>{"use strict";e.exports=s.p+"images/mute-filters-scope-duration-v0.3198712f.svg"},44959:(e,t,s)=>{"use strict";e.exports=s.p+"images/mute-filters-v0.05acb819.svg"},71549:(e,t,s)=>{"use strict";e.exports=s.p+"images/newsletter-v0.83c90472.svg"},90704:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik0xNTYuNzUgNjUuNTYwMkMxNjAuMTIxIDY1LjU2MDIgMTYyLjg1MyA2OC41MjAxIDE2Mi44NTMgNzIuMTcxM0MxNjIuODUzIDc1LjgyMjUgMTYwLjEyMSA3OC43ODI0IDE1Ni43NSA3OC43ODI0QzE1My4zOCA3OC43ODI0IDE1MC42NDggNzUuODIyNSAxNTAuNjQ4IDcyLjE3MTNDMTUwLjY0OCA3Mi4wMzg0IDE1MC42NTEgNzEuOTA2NCAxNTAuNjU4IDcxLjc3NTVMMTQzLjgzNCA2OS42OTY3TDE0MS4zNzggODAuMTEyNEMxNDYuMDk4IDgwLjM0MzkgMTUwLjQwOSA4MS43NTQ3IDE1My43NzkgODMuOTc1OEMxNTUuMjc1IDgxLjc4OTQgMTU3Ljg3IDgwLjczODIgMTYwLjM4MiA4MS40MjIxQzE2My4yOTUgODIuMjE1MiAxNjUuMjg4IDg1LjEyMTcgMTY1LjE0OCA4OC4zNzE4QzE2NS4wMjYgOTEuMjE2MyAxNjMuMyA5My42MzQ0IDE2MC44ODEgOTQuNTI2NEMxNjAuOTM5IDk1LjAwNzcgMTYwLjk2OCA5NS40OTYzIDE2MC45NjggOTUuOTkwN0MxNjAuOTY4IDEwNC44OTMgMTUxLjUxMiAxMTEuOTAzIDEzOS45OTggMTExLjkwM0MxMjguNDg0IDExMS45MDMgMTE5LjAyOCAxMDQuODkzIDExOS4wMjggOTUuOTkwN0MxMTkuMDI4IDk1LjQ5NjMgMTE5LjA1NyA5NS4wMDc3IDExOS4xMTQgOTQuNTI1OUMxMTYuNjk3IDkzLjYzMjkgMTE0Ljk3MiA5MS4yMTQ1IDExNC44NSA4OC4zNzA0QzExNC43MTEgODUuMTIwNyAxMTYuNzA1IDgyLjIxNSAxMTkuNjE3IDgxLjQyMjNDMTIyLjEyOSA4MC43Mzg4IDEyNC43MjQgODEuNzg5OSAxMjYuMjIxIDgzLjk3NDRDMTI5LjcxNyA4MS42NjkzIDEzNC4yMyA4MC4yMzczIDEzOS4xNjEgODAuMDkxMUwxNDIuMDIxIDY3Ljk2MzZDMTQyLjE1NCA2Ny4zOTkzIDE0Mi42NDUgNjcuMDM4OSAxNDMuMTYyIDY3LjA5MDNMMTQzLjM1NiA2Ny4xMjkyTDE1MS4xNjQgNjkuNTA1NkMxNTIuMTEgNjcuMTgyMSAxNTQuMjU1IDY1LjU2MDIgMTU2Ljc1IDY1LjU2MDJaTTEzOS45OTggODIuNDEyQzEzNC42OTIgODIuNDEyIDEyOS45MjcgODQuMDA2MiAxMjYuNTIgODYuNTQxMkMxMjYuNTE1IDg2LjU0ODggMTI2LjUwOCA4Ni41NTQgMTI2LjUwMiA4Ni41NTkxQzEyMy4yMDIgODkuMDE2MyAxMjEuMTgyIDkyLjM1OTYgMTIxLjE4MiA5NS45OTA3QzEyMS4xODIgMTAzLjM3NSAxMjkuNTM5IDEwOS41NjkgMTM5Ljk5OCAxMDkuNTY5QzE1MC40NTggMTA5LjU2OSAxNTguODE0IDEwMy4zNzUgMTU4LjgxNCA5NS45OTA3QzE1OC44MTQgODguNjA2MiAxNTAuNDU4IDgyLjQxMiAxMzkuOTk4IDgyLjQxMlpNMTMzLjA4MyAxMDEuNDg3QzEzNS4xOTUgMTAyLjc1MiAxMzcuNTc0IDEwMy4zOTggMTQwLjAxNSAxMDMuMzYzQzE0Mi40MTUgMTAzLjM5OCAxNDQuNzgyIDEwMi43NTggMTQ2Ljg4NiAxMDEuNTA2QzE0Ny40MDcgMTAxLjE5NiAxNDguMDYyIDEwMS40MDIgMTQ4LjM0OSAxMDEuOTY3QzE0OC42MzUgMTAyLjUzMiAxNDguNDQ0IDEwMy4yNDEgMTQ3LjkyMyAxMDMuNTUxQzE0NS40OTMgMTA0Ljk5NyAxNDIuNzU4IDEwNS43MzYgMTQwLjAxNSAxMDUuNjk2QzEzNy4yMjggMTA1LjczNyAxMzQuNDggMTA0Ljk5IDEzMi4wNDEgMTAzLjUyOUMxMzEuNTIxIDEwMy4yMTcgMTMxLjMzMiAxMDIuNTA3IDEzMS42MiAxMDEuOTQ0QzEzMS45MDggMTAxLjM4IDEzMi41NjMgMTAxLjE3NSAxMzMuMDgzIDEwMS40ODdaTTE0OC4zNzQgODguMDE4NUMxNTAuNzA0IDg4LjAxODUgMTUyLjU5MiA5MC4wNjQzIDE1Mi41OTIgOTIuNTg4QzE1Mi41OTIgOTUuMTExNiAxNTAuNzA0IDk3LjE1NzQgMTQ4LjM3NCA5Ny4xNTc0QzE0Ni4wNDUgOTcuMTU3NCAxNDQuMTU2IDk1LjExMTYgMTQ0LjE1NiA5Mi41ODhDMTQ0LjE1NiA5MC4wNjQzIDE0Ni4wNDUgODguMDE4NSAxNDguMzc0IDg4LjAxODVaTTEzMS42MjIgODguMDE4NUMxMzMuOTUyIDg4LjAxODUgMTM1Ljg0IDkwLjA2NDMgMTM1Ljg0IDkyLjU4OEMxMzUuODQgOTUuMTExNiAxMzMuOTUyIDk3LjE1NzQgMTMxLjYyMiA5Ny4xNTc0QzEyOS4yOTMgOTcuMTU3NCAxMjcuNDA0IDk1LjExMTYgMTI3LjQwNCA5Mi41ODhDMTI3LjQwNCA5MC4wNjQzIDEyOS4yOTMgODguMDE4NSAxMzEuNjIyIDg4LjAxODVaTTE0OC4zNzQgOTAuMzUxOEMxNDcuMjM0IDkwLjM1MTggMTQ2LjMxIDkxLjM1MyAxNDYuMzEgOTIuNTg4QzE0Ni4zMSA5My44MjI5IDE0Ny4yMzQgOTQuODI0MSAxNDguMzc0IDk0LjgyNDFDMTQ5LjUxNCA5NC44MjQxIDE1MC40MzggOTMuODIyOSAxNTAuNDM4IDkyLjU4OEMxNTAuNDM4IDkxLjM1MyAxNDkuNTE0IDkwLjM1MTggMTQ4LjM3NCA5MC4zNTE4Wk0xMzEuNjIyIDkwLjM1MThDMTMwLjQ4MiA5MC4zNTE4IDEyOS41NTggOTEuMzUzIDEyOS41NTggOTIuNTg4QzEyOS41NTggOTMuODIyOSAxMzAuNDgyIDk0LjgyNDEgMTMxLjYyMiA5NC44MjQxQzEzMi43NjIgOTQuODI0MSAxMzMuNjg2IDkzLjgyMjkgMTMzLjY4NiA5Mi41ODhDMTMzLjY4NiA5MS4zNTMgMTMyLjc2MiA5MC4zNTE4IDEzMS42MjIgOTAuMzUxOFpNMTIwLjE0MiA4My42ODUzQzExOC4yMjQgODQuMjA3NSAxMTYuOTEgODYuMTIxNyAxMTcuMDAyIDg4LjI2MjVDMTE3LjA3OCA5MC4wNTU0IDExOC4xMjMgOTEuNTkxNSAxMTkuNjA4IDkyLjIzNkMxMjAuNDQgODkuNTk1NyAxMjIuMTMxIDg3LjIyNzEgMTI0LjQzOCA4NS4yOTcxQzEyMy40NDggODMuOTA0MyAxMjEuNzY5IDgzLjI0MjcgMTIwLjE0MiA4My42ODUzWk0xNTUuNjQzIDg1LjE3NjRMMTU1LjU1OCA4NS4yOTcxQzE1Ny44NjUgODcuMjI3MSAxNTkuNTU2IDg5LjU5NTcgMTYwLjM4OSA5Mi4yMzQ4QzE2MS44NzYgOTEuNTkxIDE2Mi45MiA5MC4wNTU2IDE2Mi45OTcgODguMjYzM0MxNjMuMDg5IDg2LjEyMjMgMTYxLjc3NiA4NC4yMDc1IDE1OS44NTcgODMuNjg1MUMxNTguMjc3IDgzLjI1NDggMTU2LjY0NiA4My44NjcgMTU1LjY0MyA4NS4xNzY0Wk0xNTYuNzUgNjcuODkzNUMxNTQuNTY5IDY3Ljg5MzUgMTUyLjgwMiA2OS44MDg3IDE1Mi44MDIgNzIuMTcxM0MxNTIuODAyIDc0LjUzMzggMTU0LjU2OSA3Ni40NDkxIDE1Ni43NSA3Ni40NDkxQzE1OC45MzEgNzYuNDQ5MSAxNjAuNjk5IDc0LjUzMzggMTYwLjY5OSA3Mi4xNzEzQzE2MC42OTkgNjkuODA4NyAxNTguOTMxIDY3Ljg5MzUgMTU2Ljc1IDY3Ljg5MzVaIiBmaWxsPSIjRkY1NzAwIi8+Cjwvc3ZnPgo="},57755:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTU2Ljc1IDY1LjU2MDJDMTYwLjEyMSA2NS41NjAyIDE2Mi44NTMgNjguNTIwMSAxNjIuODUzIDcyLjE3MTNDMTYyLjg1MyA3NS44MjI1IDE2MC4xMjEgNzguNzgyNCAxNTYuNzUgNzguNzgyNEMxNTMuMzggNzguNzgyNCAxNTAuNjQ4IDc1LjgyMjUgMTUwLjY0OCA3Mi4xNzEzQzE1MC42NDggNzIuMDM4NCAxNTAuNjUxIDcxLjkwNjQgMTUwLjY1OCA3MS43NzU1TDE0My44MzQgNjkuNjk2N0wxNDEuMzc4IDgwLjExMjRDMTQ2LjA5OCA4MC4zNDM5IDE1MC40MDkgODEuNzU0NyAxNTMuNzc5IDgzLjk3NThDMTU1LjI3NSA4MS43ODk0IDE1Ny44NyA4MC43MzgyIDE2MC4zODIgODEuNDIyMUMxNjMuMjk1IDgyLjIxNTIgMTY1LjI4OCA4NS4xMjE3IDE2NS4xNDggODguMzcxOEMxNjUuMDI2IDkxLjIxNjMgMTYzLjMgOTMuNjM0NCAxNjAuODgxIDk0LjUyNjRDMTYwLjkzOSA5NS4wMDc3IDE2MC45NjggOTUuNDk2MyAxNjAuOTY4IDk1Ljk5MDdDMTYwLjk2OCAxMDQuODkzIDE1MS41MTIgMTExLjkwMyAxMzkuOTk4IDExMS45MDNDMTI4LjQ4NCAxMTEuOTAzIDExOS4wMjggMTA0Ljg5MyAxMTkuMDI4IDk1Ljk5MDdDMTE5LjAyOCA5NS40OTYzIDExOS4wNTcgOTUuMDA3NyAxMTkuMTE0IDk0LjUyNTlDMTE2LjY5NyA5My42MzI5IDExNC45NzIgOTEuMjE0NSAxMTQuODUgODguMzcwNEMxMTQuNzExIDg1LjEyMDcgMTE2LjcwNSA4Mi4yMTUgMTE5LjYxNyA4MS40MjIzQzEyMi4xMjkgODAuNzM4OCAxMjQuNzI0IDgxLjc4OTkgMTI2LjIyMSA4My45NzQ0QzEyOS43MTcgODEuNjY5MyAxMzQuMjMgODAuMjM3MyAxMzkuMTYxIDgwLjA5MTFMMTQyLjAyMSA2Ny45NjM2QzE0Mi4xNTQgNjcuMzk5MyAxNDIuNjQ1IDY3LjAzODkgMTQzLjE2MiA2Ny4wOTAzTDE0My4zNTYgNjcuMTI5MkwxNTEuMTY0IDY5LjUwNTZDMTUyLjExIDY3LjE4MjEgMTU0LjI1NSA2NS41NjAyIDE1Ni43NSA2NS41NjAyWk0xMzkuOTk4IDgyLjQxMkMxMzQuNjkyIDgyLjQxMiAxMjkuOTI3IDg0LjAwNjIgMTI2LjUyIDg2LjU0MTJDMTI2LjUxNSA4Ni41NDg4IDEyNi41MDggODYuNTU0IDEyNi41MDIgODYuNTU5MUMxMjMuMjAyIDg5LjAxNjMgMTIxLjE4MiA5Mi4zNTk2IDEyMS4xODIgOTUuOTkwN0MxMjEuMTgyIDEwMy4zNzUgMTI5LjUzOSAxMDkuNTY5IDEzOS45OTggMTA5LjU2OUMxNTAuNDU4IDEwOS41NjkgMTU4LjgxNCAxMDMuMzc1IDE1OC44MTQgOTUuOTkwN0MxNTguODE0IDg4LjYwNjIgMTUwLjQ1OCA4Mi40MTIgMTM5Ljk5OCA4Mi40MTJaTTEzMy4wODMgMTAxLjQ4N0MxMzUuMTk1IDEwMi43NTIgMTM3LjU3NCAxMDMuMzk4IDE0MC4wMTUgMTAzLjM2M0MxNDIuNDE1IDEwMy4zOTggMTQ0Ljc4MiAxMDIuNzU4IDE0Ni44ODYgMTAxLjUwNkMxNDcuNDA3IDEwMS4xOTYgMTQ4LjA2MiAxMDEuNDAyIDE0OC4zNDkgMTAxLjk2N0MxNDguNjM1IDEwMi41MzIgMTQ4LjQ0NCAxMDMuMjQxIDE0Ny45MjMgMTAzLjU1MUMxNDUuNDkzIDEwNC45OTcgMTQyLjc1OCAxMDUuNzM2IDE0MC4wMTUgMTA1LjY5NkMxMzcuMjI4IDEwNS43MzcgMTM0LjQ4IDEwNC45OSAxMzIuMDQxIDEwMy41MjlDMTMxLjUyMSAxMDMuMjE3IDEzMS4zMzIgMTAyLjUwNyAxMzEuNjIgMTAxLjk0NEMxMzEuOTA4IDEwMS4zOCAxMzIuNTYzIDEwMS4xNzUgMTMzLjA4MyAxMDEuNDg3Wk0xNDguMzc0IDg4LjAxODVDMTUwLjcwNCA4OC4wMTg1IDE1Mi41OTIgOTAuMDY0MyAxNTIuNTkyIDkyLjU4OEMxNTIuNTkyIDk1LjExMTYgMTUwLjcwNCA5Ny4xNTc0IDE0OC4zNzQgOTcuMTU3NEMxNDYuMDQ1IDk3LjE1NzQgMTQ0LjE1NiA5NS4xMTE2IDE0NC4xNTYgOTIuNTg4QzE0NC4xNTYgOTAuMDY0MyAxNDYuMDQ1IDg4LjAxODUgMTQ4LjM3NCA4OC4wMTg1Wk0xMzEuNjIyIDg4LjAxODVDMTMzLjk1MiA4OC4wMTg1IDEzNS44NCA5MC4wNjQzIDEzNS44NCA5Mi41ODhDMTM1Ljg0IDk1LjExMTYgMTMzLjk1MiA5Ny4xNTc0IDEzMS42MjIgOTcuMTU3NEMxMjkuMjkzIDk3LjE1NzQgMTI3LjQwNCA5NS4xMTE2IDEyNy40MDQgOTIuNTg4QzEyNy40MDQgOTAuMDY0MyAxMjkuMjkzIDg4LjAxODUgMTMxLjYyMiA4OC4wMTg1Wk0xNDguMzc0IDkwLjM1MThDMTQ3LjIzNCA5MC4zNTE4IDE0Ni4zMSA5MS4zNTMgMTQ2LjMxIDkyLjU4OEMxNDYuMzEgOTMuODIyOSAxNDcuMjM0IDk0LjgyNDEgMTQ4LjM3NCA5NC44MjQxQzE0OS41MTQgOTQuODI0MSAxNTAuNDM4IDkzLjgyMjkgMTUwLjQzOCA5Mi41ODhDMTUwLjQzOCA5MS4zNTMgMTQ5LjUxNCA5MC4zNTE4IDE0OC4zNzQgOTAuMzUxOFpNMTMxLjYyMiA5MC4zNTE4QzEzMC40ODIgOTAuMzUxOCAxMjkuNTU4IDkxLjM1MyAxMjkuNTU4IDkyLjU4OEMxMjkuNTU4IDkzLjgyMjkgMTMwLjQ4MiA5NC44MjQxIDEzMS42MjIgOTQuODI0MUMxMzIuNzYyIDk0LjgyNDEgMTMzLjY4NiA5My44MjI5IDEzMy42ODYgOTIuNTg4QzEzMy42ODYgOTEuMzUzIDEzMi43NjIgOTAuMzUxOCAxMzEuNjIyIDkwLjM1MThaTTEyMC4xNDIgODMuNjg1M0MxMTguMjI0IDg0LjIwNzUgMTE2LjkxIDg2LjEyMTcgMTE3LjAwMiA4OC4yNjI1QzExNy4wNzggOTAuMDU1NCAxMTguMTIzIDkxLjU5MTUgMTE5LjYwOCA5Mi4yMzZDMTIwLjQ0IDg5LjU5NTcgMTIyLjEzMSA4Ny4yMjcxIDEyNC40MzggODUuMjk3MUMxMjMuNDQ4IDgzLjkwNDMgMTIxLjc2OSA4My4yNDI3IDEyMC4xNDIgODMuNjg1M1pNMTU1LjY0MyA4NS4xNzY0TDE1NS41NTggODUuMjk3MUMxNTcuODY1IDg3LjIyNzEgMTU5LjU1NiA4OS41OTU3IDE2MC4zODkgOTIuMjM0OEMxNjEuODc2IDkxLjU5MSAxNjIuOTIgOTAuMDU1NiAxNjIuOTk3IDg4LjI2MzNDMTYzLjA4OSA4Ni4xMjIzIDE2MS43NzYgODQuMjA3NSAxNTkuODU3IDgzLjY4NTFDMTU4LjI3NyA4My4yNTQ4IDE1Ni42NDYgODMuODY3IDE1NS42NDMgODUuMTc2NFpNMTU2Ljc1IDY3Ljg5MzVDMTU0LjU2OSA2Ny44OTM1IDE1Mi44MDIgNjkuODA4NyAxNTIuODAyIDcyLjE3MTNDMTUyLjgwMiA3NC41MzM4IDE1NC41NjkgNzYuNDQ5MSAxNTYuNzUgNzYuNDQ5MUMxNTguOTMxIDc2LjQ0OTEgMTYwLjY5OSA3NC41MzM4IDE2MC42OTkgNzIuMTcxM0MxNjAuNjk5IDY5LjgwODcgMTU4LjkzMSA2Ny44OTM1IDE1Ni43NSA2Ny44OTM1WiIgZmlsbD0iI0ZGNTcwMCIvPgo8L3N2Zz4K"},84484:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik03Mi43NzY3IDI4LjA5NzJDNzQuMzQxNSAyOC4wOTcyIDc1LjYxIDI5LjM2NTggNzUuNjEgMzAuOTMwNkM3NS42MSAzMi40OTU0IDc0LjM0MTUgMzMuNzYzOSA3Mi43NzY3IDMzLjc2MzlDNzEuMjExOSAzMy43NjM5IDY5Ljk0MzMgMzIuNDk1NCA2OS45NDMzIDMwLjkzMDZDNjkuOTQzMyAzMC44NzM2IDY5Ljk0NSAzMC44MTcxIDY5Ljk0ODMgMzAuNzYwOUw2Ni43Nzk5IDI5Ljg3TDY1LjYzOTQgMzQuMzMzOUM2Ny44MzA4IDM0LjQzMzEgNjkuODMyNiAzNS4wMzc3IDcxLjM5NyAzNS45ODk2QzcyLjA5MTUgMzUuMDUyNiA3My4yOTY1IDM0LjYwMjEgNzQuNDYyNyAzNC44OTUyQzc1LjgxNTEgMzUuMjM1MSA3Ni43NDA2IDM2LjQ4MDggNzYuNjc1OCAzNy44NzM2Qzc2LjYxOSAzOS4wOTI3IDc1LjgxNzQgNDAuMTI5IDc0LjY5NDMgNDAuNTExM0M3NC43MjE1IDQwLjcxNzYgNzQuNzM1IDQwLjkyNyA3NC43MzUgNDEuMTM4OUM3NC43MzUgNDQuOTU0NCA3MC4zNDQ2IDQ3Ljk1ODMgNjQuOTk4OSA0Ny45NTgzQzU5LjY1MzIgNDcuOTU4MyA1NS4yNjI4IDQ0Ljk1NDQgNTUuMjYyOCA0MS4xMzg5QzU1LjI2MjggNDAuOTI3IDU1LjI3NjMgNDAuNzE3NiA1NS4zMDI4IDQwLjUxMTFDNTQuMTgwNiA0MC4xMjg0IDUzLjM3OTQgMzkuMDkyIDUzLjMyMyAzNy44NzNDNTMuMjU4NSAzNi40ODAzIDU0LjE4NDIgMzUuMjM1IDU1LjUzNjQgMzQuODk1M0M1Ni43MDI0IDM0LjYwMjMgNTcuOTA3MyAzNS4wNTI4IDU4LjYwMjYgMzUuOTg5QzYwLjIyNTcgMzUuMDAxMiA2Mi4zMjA5IDM0LjM4NzQgNjQuNjEwMiAzNC4zMjQ4TDY1LjkzODEgMjkuMTI3M0M2NS45OTk5IDI4Ljg4NTQgNjYuMjI3OCAyOC43MzEgNjYuNDY3NiAyOC43NTNMNjYuNTU3OCAyOC43Njk3TDcwLjE4MzEgMjkuNzg4MUM3MC42MjI0IDI4Ljc5MjMgNzEuNjE4MyAyOC4wOTcyIDcyLjc3NjcgMjguMDk3MlpNNjQuOTk4OSAzNS4zMTk1QzYyLjUzNTIgMzUuMzE5NSA2MC4zMjI5IDM2LjAwMjcgNTguNzQwOSAzNy4wODkxQzU4LjczODkgMzcuMDkyNCA1OC43MzU4IDM3LjA5NDYgNTguNzMyNyAzNy4wOTY4QzU3LjIwMDkgMzguMTQ5OCA1Ni4yNjI4IDM5LjU4MjcgNTYuMjYyOCA0MS4xMzg5QzU2LjI2MjggNDQuMzAzNyA2MC4xNDI2IDQ2Ljk1ODMgNjQuOTk4OSA0Ni45NTgzQzY5Ljg1NTEgNDYuOTU4MyA3My43MzUgNDQuMzAzNyA3My43MzUgNDEuMTM4OUM3My43MzUgMzcuOTc0MSA2OS44NTUxIDM1LjMxOTUgNjQuOTk4OSAzNS4zMTk1Wk02MS43ODg1IDQzLjQ5NDVDNjIuNzY4NiA0NC4wMzY1IDYzLjg3MzIgNDQuMzEzNiA2NS4wMDY2IDQ0LjI5ODRDNjYuMTIwOSA0NC4zMTM0IDY3LjIyMDEgNDQuMDM5MiA2OC4xOTY5IDQzLjUwMjZDNjguNDM4OSA0My4zNjk3IDY4Ljc0MjkgNDMuNDU4MSA2OC44NzU5IDQzLjcwMDFDNjkuMDA4OCA0My45NDIxIDY4LjkyMDQgNDQuMjQ2MSA2OC42Nzg0IDQ0LjM3OTFDNjcuNTUwMSA0NC45OTg5IDY2LjI4MDQgNDUuMzE1NiA2NS4wMDY2IDQ1LjI5ODNDNjMuNzEyOSA0NS4zMTU5IDYyLjQzNjkgNDQuOTk1OCA2MS4zMDQ2IDQ0LjM2OTZDNjEuMDYyOSA0NC4yMzYgNjAuOTc1MyA0My45MzE4IDYxLjEwOSA0My42OTAxQzYxLjI0MjYgNDMuNDQ4NSA2MS41NDY4IDQzLjM2MDkgNjEuNzg4NSA0My40OTQ1Wk02OC44ODc4IDM3LjcyMjJDNjkuOTY5MyAzNy43MjIyIDcwLjg0NjEgMzguNTk5IDcwLjg0NjEgMzkuNjgwNkM3MC44NDYxIDQwLjc2MjEgNjkuOTY5MyA0MS42Mzg5IDY4Ljg4NzggNDEuNjM4OUM2Ny44MDYyIDQxLjYzODkgNjYuOTI5NCA0MC43NjIxIDY2LjkyOTQgMzkuNjgwNkM2Ni45Mjk0IDM4LjU5OSA2Ny44MDYyIDM3LjcyMjIgNjguODg3OCAzNy43MjIyWk02MS4xMSAzNy43MjIyQzYyLjE5MTYgMzcuNzIyMiA2My4wNjgzIDM4LjU5OSA2My4wNjgzIDM5LjY4MDZDNjMuMDY4MyA0MC43NjIxIDYyLjE5MTYgNDEuNjM4OSA2MS4xMSA0MS42Mzg5QzYwLjAyODQgNDEuNjM4OSA1OS4xNTE3IDQwLjc2MjEgNTkuMTUxNyAzOS42ODA2QzU5LjE1MTcgMzguNTk5IDYwLjAyODQgMzcuNzIyMiA2MS4xMSAzNy43MjIyWk02OC44ODc4IDM4LjcyMjJDNjguMzU4NSAzOC43MjIyIDY3LjkyOTQgMzkuMTUxMyA2Ny45Mjk0IDM5LjY4MDZDNjcuOTI5NCA0MC4yMDk4IDY4LjM1ODUgNDAuNjM4OSA2OC44ODc4IDQwLjYzODlDNjkuNDE3IDQwLjYzODkgNjkuODQ2MSA0MC4yMDk4IDY5Ljg0NjEgMzkuNjgwNkM2OS44NDYxIDM5LjE1MTMgNjkuNDE3IDM4LjcyMjIgNjguODg3OCAzOC43MjIyWk02MS4xMSAzOC43MjIyQzYwLjU4MDcgMzguNzIyMiA2MC4xNTE3IDM5LjE1MTMgNjAuMTUxNyAzOS42ODA2QzYwLjE1MTcgNDAuMjA5OCA2MC41ODA3IDQwLjYzODkgNjEuMTEgNDAuNjM4OUM2MS42MzkzIDQwLjYzODkgNjIuMDY4MyA0MC4yMDk4IDYyLjA2ODMgMzkuNjgwNkM2Mi4wNjgzIDM5LjE1MTMgNjEuNjM5MyAzOC43MjIyIDYxLjExIDM4LjcyMjJaTTU1Ljc4IDM1Ljg2NTJDNTQuODg5MiAzNi4wODg5IDU0LjI3OTUgMzYuOTA5MyA1NC4zMjE5IDM3LjgyNjhDNTQuMzU3NSAzOC41OTUyIDU0Ljg0MjMgMzkuMjUzNSA1NS41MzIyIDM5LjUyOTdDNTUuOTE4MyAzOC4zOTgyIDU2LjcwMzUgMzcuMzgzMSA1Ny43NzQ3IDM2LjU1NTlDNTcuMzE1IDM1Ljk1OSA1Ni41MzUxIDM1LjY3NTQgNTUuNzggMzUuODY1MlpNNzIuMjYyNyAzNi41MDQyTDcyLjIyMyAzNi41NTU5QzczLjI5NDMgMzcuMzgzMSA3NC4wNzk1IDM4LjM5ODIgNzQuNDY1OSAzOS41MjkyQzc1LjE1NjQgMzkuMjUzMyA3NS42NDExIDM4LjU5NTMgNzUuNjc2OSAzNy44MjcxQzc1LjcxOTYgMzYuOTA5NiA3NS4xMDk5IDM2LjA4ODkgNzQuMjE5IDM1Ljg2NUM3My40ODUzIDM1LjY4MDYgNzIuNzI4MyAzNS45NDMgNzIuMjYyNyAzNi41MDQyWk03Mi43NzY3IDI5LjA5NzJDNzEuNzY0MSAyOS4wOTcyIDcwLjk0MzMgMjkuOTE4IDcwLjk0MzMgMzAuOTMwNkM3MC45NDMzIDMxLjk0MzEgNzEuNzY0MSAzMi43NjM5IDcyLjc3NjcgMzIuNzYzOUM3My43ODkyIDMyLjc2MzkgNzQuNjEgMzEuOTQzMSA3NC42MSAzMC45MzA2Qzc0LjYxIDI5LjkxOCA3My43ODkyIDI5LjA5NzIgNzIuNzc2NyAyOS4wOTcyWiIgZmlsbD0iI0ZGNTcwMCIvPgo8L3N2Zz4K"},92359:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzIuNzc2NyAyOC4wOTcyQzc0LjM0MTUgMjguMDk3MiA3NS42MSAyOS4zNjU4IDc1LjYxIDMwLjkzMDZDNzUuNjEgMzIuNDk1NCA3NC4zNDE1IDMzLjc2MzkgNzIuNzc2NyAzMy43NjM5QzcxLjIxMTkgMzMuNzYzOSA2OS45NDMzIDMyLjQ5NTQgNjkuOTQzMyAzMC45MzA2QzY5Ljk0MzMgMzAuODczNiA2OS45NDUgMzAuODE3MSA2OS45NDgzIDMwLjc2MDlMNjYuNzc5OSAyOS44N0w2NS42Mzk0IDM0LjMzMzlDNjcuODMwOCAzNC40MzMxIDY5LjgzMjYgMzUuMDM3NyA3MS4zOTcgMzUuOTg5NkM3Mi4wOTE1IDM1LjA1MjYgNzMuMjk2NSAzNC42MDIxIDc0LjQ2MjcgMzQuODk1MkM3NS44MTUxIDM1LjIzNTEgNzYuNzQwNiAzNi40ODA4IDc2LjY3NTggMzcuODczNkM3Ni42MTkgMzkuMDkyNyA3NS44MTc0IDQwLjEyOSA3NC42OTQzIDQwLjUxMTNDNzQuNzIxNSA0MC43MTc2IDc0LjczNSA0MC45MjcgNzQuNzM1IDQxLjEzODlDNzQuNzM1IDQ0Ljk1NDQgNzAuMzQ0NiA0Ny45NTgzIDY0Ljk5ODkgNDcuOTU4M0M1OS42NTMyIDQ3Ljk1ODMgNTUuMjYyOCA0NC45NTQ0IDU1LjI2MjggNDEuMTM4OUM1NS4yNjI4IDQwLjkyNyA1NS4yNzYzIDQwLjcxNzYgNTUuMzAyOCA0MC41MTExQzU0LjE4MDYgNDAuMTI4NCA1My4zNzk0IDM5LjA5MiA1My4zMjMgMzcuODczQzUzLjI1ODUgMzYuNDgwMyA1NC4xODQyIDM1LjIzNSA1NS41MzY0IDM0Ljg5NTNDNTYuNzAyNCAzNC42MDIzIDU3LjkwNzMgMzUuMDUyOCA1OC42MDI2IDM1Ljk4OUM2MC4yMjU3IDM1LjAwMTIgNjIuMzIwOSAzNC4zODc0IDY0LjYxMDIgMzQuMzI0OEw2NS45MzgxIDI5LjEyNzNDNjUuOTk5OSAyOC44ODU0IDY2LjIyNzggMjguNzMxIDY2LjQ2NzYgMjguNzUzTDY2LjU1NzggMjguNzY5N0w3MC4xODMxIDI5Ljc4ODFDNzAuNjIyNCAyOC43OTIzIDcxLjYxODMgMjguMDk3MiA3Mi43NzY3IDI4LjA5NzJaTTY0Ljk5ODkgMzUuMzE5NUM2Mi41MzUyIDM1LjMxOTUgNjAuMzIyOSAzNi4wMDI3IDU4Ljc0MDkgMzcuMDg5MUM1OC43Mzg5IDM3LjA5MjQgNTguNzM1OCAzNy4wOTQ2IDU4LjczMjcgMzcuMDk2OEM1Ny4yMDA5IDM4LjE0OTggNTYuMjYyOCAzOS41ODI3IDU2LjI2MjggNDEuMTM4OUM1Ni4yNjI4IDQ0LjMwMzcgNjAuMTQyNiA0Ni45NTgzIDY0Ljk5ODkgNDYuOTU4M0M2OS44NTUxIDQ2Ljk1ODMgNzMuNzM1IDQ0LjMwMzcgNzMuNzM1IDQxLjEzODlDNzMuNzM1IDM3Ljk3NDEgNjkuODU1MSAzNS4zMTk1IDY0Ljk5ODkgMzUuMzE5NVpNNjEuNzg4NSA0My40OTQ1QzYyLjc2ODYgNDQuMDM2NSA2My44NzMyIDQ0LjMxMzYgNjUuMDA2NiA0NC4yOTg0QzY2LjEyMDkgNDQuMzEzNCA2Ny4yMjAxIDQ0LjAzOTIgNjguMTk2OSA0My41MDI2QzY4LjQzODkgNDMuMzY5NyA2OC43NDI5IDQzLjQ1ODEgNjguODc1OSA0My43MDAxQzY5LjAwODggNDMuOTQyMSA2OC45MjA0IDQ0LjI0NjEgNjguNjc4NCA0NC4zNzkxQzY3LjU1MDEgNDQuOTk4OSA2Ni4yODA0IDQ1LjMxNTYgNjUuMDA2NiA0NS4yOTgzQzYzLjcxMjkgNDUuMzE1OSA2Mi40MzY5IDQ0Ljk5NTggNjEuMzA0NiA0NC4zNjk2QzYxLjA2MjkgNDQuMjM2IDYwLjk3NTMgNDMuOTMxOCA2MS4xMDkgNDMuNjkwMUM2MS4yNDI2IDQzLjQ0ODUgNjEuNTQ2OCA0My4zNjA5IDYxLjc4ODUgNDMuNDk0NVpNNjguODg3OCAzNy43MjIyQzY5Ljk2OTMgMzcuNzIyMiA3MC44NDYxIDM4LjU5OSA3MC44NDYxIDM5LjY4MDZDNzAuODQ2MSA0MC43NjIxIDY5Ljk2OTMgNDEuNjM4OSA2OC44ODc4IDQxLjYzODlDNjcuODA2MiA0MS42Mzg5IDY2LjkyOTQgNDAuNzYyMSA2Ni45Mjk0IDM5LjY4MDZDNjYuOTI5NCAzOC41OTkgNjcuODA2MiAzNy43MjIyIDY4Ljg4NzggMzcuNzIyMlpNNjEuMTEgMzcuNzIyMkM2Mi4xOTE2IDM3LjcyMjIgNjMuMDY4MyAzOC41OTkgNjMuMDY4MyAzOS42ODA2QzYzLjA2ODMgNDAuNzYyMSA2Mi4xOTE2IDQxLjYzODkgNjEuMTEgNDEuNjM4OUM2MC4wMjg0IDQxLjYzODkgNTkuMTUxNyA0MC43NjIxIDU5LjE1MTcgMzkuNjgwNkM1OS4xNTE3IDM4LjU5OSA2MC4wMjg0IDM3LjcyMjIgNjEuMTEgMzcuNzIyMlpNNjguODg3OCAzOC43MjIyQzY4LjM1ODUgMzguNzIyMiA2Ny45Mjk0IDM5LjE1MTMgNjcuOTI5NCAzOS42ODA2QzY3LjkyOTQgNDAuMjA5OCA2OC4zNTg1IDQwLjYzODkgNjguODg3OCA0MC42Mzg5QzY5LjQxNyA0MC42Mzg5IDY5Ljg0NjEgNDAuMjA5OCA2OS44NDYxIDM5LjY4MDZDNjkuODQ2MSAzOS4xNTEzIDY5LjQxNyAzOC43MjIyIDY4Ljg4NzggMzguNzIyMlpNNjEuMTEgMzguNzIyMkM2MC41ODA3IDM4LjcyMjIgNjAuMTUxNyAzOS4xNTEzIDYwLjE1MTcgMzkuNjgwNkM2MC4xNTE3IDQwLjIwOTggNjAuNTgwNyA0MC42Mzg5IDYxLjExIDQwLjYzODlDNjEuNjM5MyA0MC42Mzg5IDYyLjA2ODMgNDAuMjA5OCA2Mi4wNjgzIDM5LjY4MDZDNjIuMDY4MyAzOS4xNTEzIDYxLjYzOTMgMzguNzIyMiA2MS4xMSAzOC43MjIyWk01NS43OCAzNS44NjUyQzU0Ljg4OTIgMzYuMDg4OSA1NC4yNzk1IDM2LjkwOTMgNTQuMzIxOSAzNy44MjY4QzU0LjM1NzUgMzguNTk1MiA1NC44NDIzIDM5LjI1MzUgNTUuNTMyMiAzOS41Mjk3QzU1LjkxODMgMzguMzk4MiA1Ni43MDM1IDM3LjM4MzEgNTcuNzc0NyAzNi41NTU5QzU3LjMxNSAzNS45NTkgNTYuNTM1MSAzNS42NzU0IDU1Ljc4IDM1Ljg2NTJaTTcyLjI2MjcgMzYuNTA0Mkw3Mi4yMjMgMzYuNTU1OUM3My4yOTQzIDM3LjM4MzEgNzQuMDc5NSAzOC4zOTgyIDc0LjQ2NTkgMzkuNTI5MkM3NS4xNTY0IDM5LjI1MzMgNzUuNjQxMSAzOC41OTUzIDc1LjY3NjkgMzcuODI3MUM3NS43MTk2IDM2LjkwOTYgNzUuMTA5OSAzNi4wODg5IDc0LjIxOSAzNS44NjVDNzMuNDg1MyAzNS42ODA2IDcyLjcyODMgMzUuOTQzIDcyLjI2MjcgMzYuNTA0MlpNNzIuNzc2NyAyOS4wOTcyQzcxLjc2NDEgMjkuMDk3MiA3MC45NDMzIDI5LjkxOCA3MC45NDMzIDMwLjkzMDZDNzAuOTQzMyAzMS45NDMxIDcxLjc2NDEgMzIuNzYzOSA3Mi43NzY3IDMyLjc2MzlDNzMuNzg5MiAzMi43NjM5IDc0LjYxIDMxLjk0MzEgNzQuNjEgMzAuOTMwNkM3NC42MSAyOS45MTggNzMuNzg5MiAyOS4wOTcyIDcyLjc3NjcgMjkuMDk3MloiIGZpbGw9IiNGRjU3MDAiLz4KPC9zdmc+Cg=="},82099:(e,t,s)=>{"use strict";e.exports=s.p+"images/save-to-board-v1.b896842d.svg"},27430:(e,t,s)=>{"use strict";e.exports=s.p+"images/teams-v0.1158f6cd.svg"},92201:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik0xNDUuMzc5IDcyLjEwMzRDMTQxLjU3NyA3My44ODkxIDEzOS4wNjQgNzcuODkzNyAxMzguOTI4IDgyLjM3ODZMMTM4LjkyMyA4NC4wNjc2TDEzOC42MDMgODQuMDYyNUMxMzEuNzg4IDgzLjc5MjggMTI1LjQ0NiA4MC4wODgxIDEyMS40OTcgNzMuOTk2MUMxMjEuMDE2IDczLjI1NDEgMTE5Ljk3MSA3My4zNjQyIDExOS42MzEgNzQuMTkyOEwxMTkuNDYyIDc0LjYzNjVDMTE5LjQxNiA3NC43NjU4IDExOS4zNjMgNzQuOTE1MSAxMTkuMzA2IDc1LjA4MzZDMTE5LjA3MiA3NS43NzQyIDExOC44MzkgNzYuNTU4MiAxMTguNjIyIDc3LjQyMjhDMTE3LjM4OCA4Mi4zMzg2IDExNy4xNzIgODcuNTA2NyAxMTguNjM4IDkyLjM4NDhMMTE4Ljg0MSA5My4wMjU3QzEyMC40NjkgOTcuOTA0IDEyMy43MzEgMTAxLjk2OCAxMjguODQ5IDEwNC45NTRMMTI5LjE1MSAxMDUuMTI2TDEyOC43MTEgMTA1LjM5NkMxMjQuOTM2IDEwNy42MDYgMTIwLjY2OCAxMDguNjg3IDExNi4zNSAxMDguNTAxQzExNS4yMTcgMTA4LjQ1MiAxMTQuNzkzIDExMC4wOSAxMTUuNzg1IDExMC42ODZDMTM2LjcxMiAxMjMuMjgyIDE2MC40NjEgMTA5LjU4NyAxNjAuNDYxIDgyLjgzMzNMMTYwLjQzOSA4Mi4xMDk0TDE2MC40MTIgODEuNzQ5MkwxNjAuMzYgODEuMjkzM0wxNTkuOTY4IDgxLjcyNzNDMTYyLjMwOSA3OS4yMjY3IDE2My45NjEgNzYuMDY5NSAxNjQuNzM5IDcyLjYwOTRDMTY0Ljk3NCA3MS41NjIgMTYzLjg4NSA3MC43NTg2IDE2My4wNzEgNzEuMzc5OUwxNjIuMzI0IDcxLjkyNzJDMTYwLjgwOSA3Mi45ODgzIDE1OS4xODIgNzMuODQ3MyAxNTcuNDc3IDc0LjQ4NTVMMTU3LjI0NiA3NC41NjRMMTU3LjA1NyA3NC4zNTk3QzE1NC4wODYgNzEuMjg0IDE0OS43MTcgNzAuMjk3MiAxNDUuODIzIDcxLjkwNzFMMTQ1LjM3OSA3Mi4xMDM0Wk0xMjAuNzAxIDc4LjAzNTJMMTIwLjg1MyA3Ny40NTE2TDEyMC45NjIgNzcuMDY3NkwxMjEuMDY4IDc3LjIwODhDMTI1Ljc1IDgzLjE5NCAxMzIuNzExIDg2LjYwODQgMTQwLjAyOCA4Ni40MDI5QzE0MC42MTIgODYuMzg2NSAxNDEuMDc3IDg1Ljg2OTIgMTQxLjA3NyA4NS4yMzY2VjgyLjkwMzNDMTQxLjAyOSA3OC45OTEyIDE0My4yMzEgNzUuNDc2NiAxNDYuNTkxIDc0LjA4N0MxNDkuOTUyIDcyLjY5NzQgMTUzLjc1NiA3My43Mjg2IDE1Ni4xMTcgNzYuNjY4OUMxNTYuMzk1IDc3LjAxNTIgMTU2LjgzNCA3Ny4xNTI3IDE1Ny4yNCA3Ny4wMjA0TDE1OC4wNzcgNzYuNzI5NUMxNTkuMTg2IDc2LjMyMDIgMTYwLjI2NiA3NS44MjU4IDE2MS4zMDggNzUuMjUwNkwxNjEuNjk2IDc1LjAyMzZMMTYxLjUyNiA3NS40MjgzQzE2MC43NTcgNzcuMTQ0MyAxNTkuNzIxIDc4LjcxNDMgMTU4LjQ1NiA4MC4wNjZDMTU4LjIgODAuMzM5NCAxNTguMDg3IDgwLjczMzIgMTU4LjE1NCA4MS4xMTU3QzE1OC4yNTUgODEuNjgzMSAxNTguMzA2IDgyLjI1OTQgMTU4LjMwOCA4Mi44MzcyTDE1OC4zMDEgODMuNTgwOUMxNTcuOSAxMDYuMjc1IDEzOS4xMzIgMTE4LjQ4OCAxMjAuOTYgMTEwLjc2MUwxMjAuNjM3IDExMC42MjFMMTIxLjI1MSAxMTAuNTNDMTI1LjA3OSAxMDkuODk3IDEyOC43NTEgMTA4LjM0NyAxMzEuOTg5IDEwNS45NjVDMTMyLjY4OCAxMDUuNDUxIDEzMi41OTQgMTA0LjMwNiAxMzEuODIyIDEwMy45MzRDMTI1Ljc5MyAxMDEuMDMxIDEyMi4yMzkgOTYuODM1NyAxMjAuNjg2IDkxLjY2MjhDMTE5LjM2OSA4Ny4yODA4IDExOS41NjcgODIuNTUwNSAxMjAuNzAxIDc4LjAzNTJaIiBmaWxsPSIjMURBMUYyIi8+Cjwvc3ZnPgo="},78845:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE4MiIgdmlld0JveD0iMCAwIDI4MCAxODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyODAiIGhlaWdodD0iMTgyIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTQ1LjM3OSA3Mi4xMDM1QzE0MS41NzcgNzMuODg5MSAxMzkuMDY0IDc3Ljg5MzcgMTM4LjkyOCA4Mi4zNzg2TDEzOC45MjMgODQuMDY3N0wxMzguNjAzIDg0LjA2MjZDMTMxLjc4OCA4My43OTI5IDEyNS40NDYgODAuMDg4MiAxMjEuNDk3IDczLjk5NjJDMTIxLjAxNiA3My4yNTQxIDExOS45NzEgNzMuMzY0MiAxMTkuNjMxIDc0LjE5MjhMMTE5LjQ2MiA3NC42MzY2QzExOS40MTYgNzQuNzY1OCAxMTkuMzYzIDc0LjkxNTEgMTE5LjMwNiA3NS4wODM2QzExOS4wNzIgNzUuNzc0MiAxMTguODM5IDc2LjU1ODIgMTE4LjYyMiA3Ny40MjI4QzExNy4zODggODIuMzM4NiAxMTcuMTcyIDg3LjUwNjcgMTE4LjYzOCA5Mi4zODQ4TDExOC44NDEgOTMuMDI1N0MxMjAuNDY5IDk3LjkwNCAxMjMuNzMxIDEwMS45NjggMTI4Ljg0OSAxMDQuOTU0TDEyOS4xNTEgMTA1LjEyNkwxMjguNzExIDEwNS4zOTZDMTI0LjkzNiAxMDcuNjA2IDEyMC42NjggMTA4LjY4NyAxMTYuMzUgMTA4LjUwMUMxMTUuMjE3IDEwOC40NTIgMTE0Ljc5MyAxMTAuMDkgMTE1Ljc4NSAxMTAuNjg3QzEzNi43MTIgMTIzLjI4MiAxNjAuNDYxIDEwOS41ODcgMTYwLjQ2MSA4Mi44MzMzTDE2MC40MzkgODIuMTA5NEwxNjAuNDEyIDgxLjc0OTJMMTYwLjM2IDgxLjI5MzNMMTU5Ljk2OCA4MS43MjczQzE2Mi4zMDkgNzkuMjI2NyAxNjMuOTYxIDc2LjA2OTUgMTY0LjczOSA3Mi42MDk0QzE2NC45NzQgNzEuNTYyIDE2My44ODUgNzAuNzU4NiAxNjMuMDcxIDcxLjM4TDE2Mi4zMjQgNzEuOTI3MkMxNjAuODA5IDcyLjk4ODMgMTU5LjE4MiA3My44NDczIDE1Ny40NzcgNzQuNDg1NkwxNTcuMjQ2IDc0LjU2NEwxNTcuMDU3IDc0LjM1OTdDMTU0LjA4NiA3MS4yODQxIDE0OS43MTcgNzAuMjk3MiAxNDUuODIzIDcxLjkwNzFMMTQ1LjM3OSA3Mi4xMDM1Wk0xMjAuNzAxIDc4LjAzNTJMMTIwLjg1MyA3Ny40NTE2TDEyMC45NjIgNzcuMDY3N0wxMjEuMDY4IDc3LjIwODhDMTI1Ljc1IDgzLjE5NCAxMzIuNzExIDg2LjYwODUgMTQwLjAyOCA4Ni40MDI5QzE0MC42MTIgODYuMzg2NSAxNDEuMDc3IDg1Ljg2OTIgMTQxLjA3NyA4NS4yMzY3VjgyLjkwMzNDMTQxLjAyOSA3OC45OTEyIDE0My4yMzEgNzUuNDc2NiAxNDYuNTkxIDc0LjA4N0MxNDkuOTUyIDcyLjY5NzUgMTUzLjc1NiA3My43Mjg2IDE1Ni4xMTcgNzYuNjY4OUMxNTYuMzk1IDc3LjAxNTIgMTU2LjgzNCA3Ny4xNTI4IDE1Ny4yNCA3Ny4wMjA1TDE1OC4wNzcgNzYuNzI5NUMxNTkuMTg2IDc2LjMyMDIgMTYwLjI2NiA3NS44MjU4IDE2MS4zMDggNzUuMjUwNkwxNjEuNjk2IDc1LjAyMzdMMTYxLjUyNiA3NS40MjgzQzE2MC43NTcgNzcuMTQ0MyAxNTkuNzIxIDc4LjcxNDQgMTU4LjQ1NiA4MC4wNjZDMTU4LjIgODAuMzM5NCAxNTguMDg3IDgwLjczMzIgMTU4LjE1NCA4MS4xMTU3QzE1OC4yNTUgODEuNjgzMiAxNTguMzA2IDgyLjI1OTUgMTU4LjMwOCA4Mi44MzcyTDE1OC4zMDEgODMuNTgwOUMxNTcuOSAxMDYuMjc1IDEzOS4xMzIgMTE4LjQ4OCAxMjAuOTYgMTEwLjc2MUwxMjAuNjM3IDExMC42MjFMMTIxLjI1MSAxMTAuNTNDMTI1LjA3OSAxMDkuODk3IDEyOC43NTEgMTA4LjM0NyAxMzEuOTg5IDEwNS45NjVDMTMyLjY4OCAxMDUuNDUxIDEzMi41OTQgMTA0LjMwNiAxMzEuODIyIDEwMy45MzRDMTI1Ljc5MyAxMDEuMDMxIDEyMi4yMzkgOTYuODM1NyAxMjAuNjg2IDkxLjY2MjhDMTE5LjM2OSA4Ny4yODA4IDExOS41NjcgODIuNTUwNSAxMjAuNzAxIDc4LjAzNTJaIiBmaWxsPSIjMURBMUYyIi8+Cjwvc3ZnPgo="},76949:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSIjMzMzMzMzIi8+CjxwYXRoIGQ9Ik02Ny40OTcyIDMwLjkwMTRDNjUuNzMyNCAzMS42NjY3IDY0LjU2NTUgMzMuMzgzIDY0LjUwMjMgMzUuMzA1MUw2NC41IDM2LjAyOUw2NC4zNTE2IDM2LjAyNjhDNjEuMTg3NiAzNS45MTEyIDU4LjI0MjcgMzQuMzIzNSA1Ni40MDkyIDMxLjcxMjZDNTYuMTg1OSAzMS4zOTQ2IDU1LjcwMSAzMS40NDE4IDU1LjU0MzEgMzEuNzk2OUw1NS40NjQ3IDMxLjk4NzFDNTUuNDQzIDMyLjA0MjUgNTUuNDE4NyAzMi4xMDY0IDU1LjM5MjIgMzIuMTc4N0M1NS4yODM2IDMyLjQ3NDYgNTUuMTc1NCAzMi44MTA2IDU1LjA3NDYgMzMuMTgxMkM1NC41MDE2IDM1LjI4NzkgNTQuNDAxNSAzNy41MDI4IDU1LjA4MTggMzkuNTkzNUw1NS4xNzYxIDM5Ljg2ODFDNTUuOTMyIDQxLjk1ODggNTcuNDQ2NyA0My43MDA3IDU5LjgyMjkgNDQuOTgwMUw1OS45NjMgNDUuMDU0TDU5Ljc1ODcgNDUuMTY5N0M1OC4wMDU5IDQ2LjExNyA1Ni4wMjQ0IDQ2LjU4MDEgNTQuMDE5OSA0Ni41MDA0QzUzLjQ5MzcgNDYuNDc5NCA1My4yOTY5IDQ3LjE4MTMgNTMuNzU3MiA0Ny40MzdDNjMuNDczNSA1Mi44MzUgNzQuNSA0Ni45NjYgNzQuNSAzNS41TDc0LjQ4OTQgMzUuMTg5N0w3NC40NzcgMzUuMDM1NEw3NC40NTMgMzQuODRMNzQuMjcxMSAzNS4wMjZDNzUuMzU3OCAzMy45NTQzIDc2LjEyNDcgMzIuNjAxMiA3Ni40ODU4IDMxLjExODNDNzYuNTk1MSAzMC42Njk0IDc2LjA4OTMgMzAuMzI1MSA3NS43MTE4IDMwLjU5MTRMNzUuMzY0NyAzMC44MjU5Qzc0LjY2MTUgMzEuMjgwNyA3My45MDYgMzEuNjQ4OCA3My4xMTQ1IDMxLjkyMjRMNzMuMDA3IDMxLjk1Nkw3Mi45MTkyIDMxLjg2ODRDNzEuNTQgMzAuNTUwMyA2OS41MTE1IDMwLjEyNzMgNjcuNzAzOCAzMC44MTczTDY3LjQ5NzIgMzAuOTAxNFpNNTYuMDM5NiAzMy40NDM2TDU2LjExMDQgMzMuMTkzNUw1Ni4xNjEgMzMuMDI5TDU2LjIxMDMgMzMuMDg5NUM1OC4zODM5IDM1LjY1NDUgNjEuNjE1OSAzNy4xMTc5IDY1LjAxMyAzNy4wMjk4QzY1LjI4NCAzNy4wMjI4IDY1LjUgMzYuODAxMSA2NS41IDM2LjUzVjM1LjUzQzY1LjQ3NzYgMzMuODUzNCA2Ni41MDAxIDMyLjM0NzEgNjguMDYwNCAzMS43NTE2QzY5LjYyMDcgMzEuMTU2IDcxLjM4NjggMzEuNTk3OSA3Mi40ODI3IDMyLjg1ODFDNzIuNjExOCAzMy4wMDY1IDcyLjgxNTkgMzMuMDY1NCA3My4wMDQyIDMzLjAwODdMNzMuMzkyOSAzMi44ODRDNzMuOTA3OSAzMi43MDg2IDc0LjQwOTIgMzIuNDk2OCA3NC44OTMgMzIuMjUwMkw3NS4wNzMgMzIuMTUzTDc0Ljk5NDQgMzIuMzI2NEM3NC42MzczIDMzLjA2MTggNzQuMTU2MyAzMy43MzQ3IDczLjU2ODkgMzQuMzE0QzczLjQ1MDEgMzQuNDMxMiA3My4zOTc2IDM0LjU5OTkgNzMuNDI4OSAzNC43NjM4QzczLjQ3NTQgMzUuMDA3IDczLjQ5OTIgMzUuMjU0IDczLjUgMzUuNTAxNkw3My40OTcgMzUuODIwNEM3My4zMTA2IDQ1LjU0NjUgNjQuNTk3MSA1MC43ODA3IDU2LjE2IDQ3LjQ2OUw1Ni4wMSA0Ny40MDlMNTYuMjk1MSA0Ny4zNzAxQzU4LjA3MjQgNDcuMDk4NyA1OS43NzczIDQ2LjQzNDMgNjEuMjgwOCA0NS40MTM3QzYxLjYwNTMgNDUuMTkzNCA2MS41NjE1IDQ0LjcwMjMgNjEuMjAzMSA0NC41NDMxQzU4LjQwMzkgNDMuMjk5IDU2Ljc1NDEgNDEuNTAxIDU2LjAzMjcgMzkuMjg0QzU1LjQyMTYgMzcuNDA2IDU1LjUxMzIgMzUuMzc4OCA1Ni4wMzk2IDMzLjQ0MzZaIiBmaWxsPSIjMURBMUYyIi8+Cjwvc3ZnPgo="},68567:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMTMwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTMwIiBoZWlnaHQ9Ijc4IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNjcuNDk3MiAzMC45MDE1QzY1LjczMjQgMzEuNjY2OCA2NC41NjU1IDMzLjM4MyA2NC41MDIzIDM1LjMwNTFMNjQuNSAzNi4wMjlMNjQuMzUxNiAzNi4wMjY4QzYxLjE4NzYgMzUuOTExMiA1OC4yNDI3IDM0LjMyMzUgNTYuNDA5MiAzMS43MTI2QzU2LjE4NTkgMzEuMzk0NiA1NS43MDEgMzEuNDQxOCA1NS41NDMxIDMxLjc5NjlMNTUuNDY0NyAzMS45ODcxQzU1LjQ0MyAzMi4wNDI1IDU1LjQxODcgMzIuMTA2NSA1NS4zOTIyIDMyLjE3ODdDNTUuMjgzNiAzMi40NzQ3IDU1LjE3NTQgMzIuODEwNyA1NS4wNzQ2IDMzLjE4MTJDNTQuNTAxNiAzNS4yODggNTQuNDAxNSAzNy41MDI5IDU1LjA4MTggMzkuNTkzNUw1NS4xNzYxIDM5Ljg2ODJDNTUuOTMyIDQxLjk1ODkgNTcuNDQ2NyA0My43MDA4IDU5LjgyMjkgNDQuOTgwMUw1OS45NjMgNDUuMDU0TDU5Ljc1ODcgNDUuMTY5OEM1OC4wMDU5IDQ2LjExNyA1Ni4wMjQ0IDQ2LjU4MDEgNTQuMDE5OSA0Ni41MDA0QzUzLjQ5MzcgNDYuNDc5NSA1My4yOTY5IDQ3LjE4MTMgNTMuNzU3MiA0Ny40MzcxQzYzLjQ3MzUgNTIuODM1IDc0LjUgNDYuOTY2IDc0LjUgMzUuNUw3NC40ODk0IDM1LjE4OTdMNzQuNDc3IDM1LjAzNTRMNzQuNDUzIDM0Ljg0TDc0LjI3MTEgMzUuMDI2Qzc1LjM1NzggMzMuOTU0MyA3Ni4xMjQ3IDMyLjYwMTIgNzYuNDg1OCAzMS4xMTgzQzc2LjU5NTEgMzAuNjY5NCA3Ni4wODkzIDMwLjMyNTEgNzUuNzExOCAzMC41OTE0TDc1LjM2NDcgMzAuODI2Qzc0LjY2MTUgMzEuMjgwNyA3My45MDYgMzEuNjQ4OCA3My4xMTQ1IDMxLjkyMjRMNzMuMDA3IDMxLjk1Nkw3Mi45MTkyIDMxLjg2ODVDNzEuNTQgMzAuNTUwMyA2OS41MTE1IDMwLjEyNzQgNjcuNzAzOCAzMC44MTczTDY3LjQ5NzIgMzAuOTAxNVpNNTYuMDM5NiAzMy40NDM3TDU2LjExMDQgMzMuMTkzNkw1Ni4xNjEgMzMuMDI5TDU2LjIxMDMgMzMuMDg5NUM1OC4zODM5IDM1LjY1NDYgNjEuNjE1OSAzNy4xMTc5IDY1LjAxMyAzNy4wMjk4QzY1LjI4NCAzNy4wMjI4IDY1LjUgMzYuODAxMSA2NS41IDM2LjUzVjM1LjUzQzY1LjQ3NzYgMzMuODUzNCA2Ni41MDAxIDMyLjM0NzEgNjguMDYwNCAzMS43NTE2QzY5LjYyMDcgMzEuMTU2MSA3MS4zODY4IDMxLjU5OCA3Mi40ODI3IDMyLjg1ODFDNzIuNjExOCAzMy4wMDY1IDcyLjgxNTkgMzMuMDY1NSA3My4wMDQyIDMzLjAwODhMNzMuMzkyOSAzMi44ODQxQzczLjkwNzkgMzIuNzA4NyA3NC40MDkyIDMyLjQ5NjggNzQuODkzIDMyLjI1MDNMNzUuMDczIDMyLjE1M0w3NC45OTQ0IDMyLjMyNjRDNzQuNjM3MyAzMy4wNjE5IDc0LjE1NjMgMzMuNzM0NyA3My41Njg5IDM0LjMxNEM3My40NTAxIDM0LjQzMTIgNzMuMzk3NiAzNC41OTk5IDczLjQyODkgMzQuNzYzOUM3My40NzU0IDM1LjAwNzEgNzMuNDk5MiAzNS4yNTQxIDczLjUgMzUuNTAxN0w3My40OTcgMzUuODIwNEM3My4zMTA2IDQ1LjU0NjUgNjQuNTk3MSA1MC43ODA3IDU2LjE2IDQ3LjQ2OUw1Ni4wMSA0Ny40MDlMNTYuMjk1MSA0Ny4zNzAxQzU4LjA3MjQgNDcuMDk4NyA1OS43NzczIDQ2LjQzNDMgNjEuMjgwOCA0NS40MTM3QzYxLjYwNTMgNDUuMTkzNCA2MS41NjE1IDQ0LjcwMjQgNjEuMjAzMSA0NC41NDMxQzU4LjQwMzkgNDMuMjk5IDU2Ljc1NDEgNDEuNTAxIDU2LjAzMjcgMzkuMjg0MUM1NS40MjE2IDM3LjQwNjEgNTUuNTEzMiAzNS4zNzg4IDU2LjAzOTYgMzMuNDQzN1oiIGZpbGw9IiMxREExRjIiLz4KPC9zdmc+Cg=="},76364:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuNCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NjggMjIyLjUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ2OCAyMjIuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTQsMTEzLjRjMC0yNS42LTEyLjQtNDUuOC0zNi4xLTQ1LjhjLTIzLjgsMC0zOC4yLDIwLjItMzguMiw0NS42YzAsMzAuMSwxNyw0NS4zLDQxLjQsNDUuMwoJCWMxMS45LDAsMjAuOS0yLjcsMjcuNy02LjV2LTIwYy02LjgsMy40LTE0LjYsNS41LTI0LjUsNS41Yy05LjcsMC0xOC4zLTMuNC0xOS40LTE1LjJoNDguOUM0MTMuOCwxMjEsNDE0LDExNS44LDQxNCwxMTMuNHoKCQkgTTM2NC42LDEwMy45YzAtMTEuMyw2LjktMTYsMTMuMi0xNmM2LjEsMCwxMi42LDQuNywxMi42LDE2SDM2NC42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwMS4xLDY3LjZjLTkuOCwwLTE2LjEsNC42LTE5LjYsNy44bC0xLjMtNi4yaC0yMnYxMTYuNmwyNS01LjNsMC4xLTI4LjNjMy42LDIuNiw4LjksNi4zLDE3LjcsNi4zCgkJYzE3LjksMCwzNC4yLTE0LjQsMzQuMi00Ni4xQzMzNS4xLDgzLjQsMzE4LjYsNjcuNiwzMDEuMSw2Ny42eiBNMjk1LjEsMTM2LjVjLTUuOSwwLTkuNC0yLjEtMTEuOC00LjdsLTAuMS0zNy4xCgkJYzIuNi0yLjksNi4yLTQuOSwxMS45LTQuOWM5LjEsMCwxNS40LDEwLjIsMTUuNCwyMy4zQzMxMC41LDEyNi41LDMwNC4zLDEzNi41LDI5NS4xLDEzNi41eiIvPgoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyMjMuOCw2MS43IDI0OC45LDU2LjMgMjQ4LjksMzYgMjIzLjgsNDEuMyAJIi8+Cgk8cmVjdCB4PSIyMjMuOCIgeT0iNjkuMyIgY2xhc3M9InN0MCIgd2lkdGg9IjI1LjEiIGhlaWdodD0iODcuNSIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5Ni45LDc2LjdsLTEuNi03LjRoLTIxLjZ2ODcuNWgyNVY5Ny41YzUuOS03LjcsMTUuOS02LjMsMTktNS4ydi0yM0MyMTQuNSw2OC4xLDIwMi44LDY1LjksMTk2LjksNzYuN3oiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNDYuOSw0Ny42bC0yNC40LDUuMmwtMC4xLDgwLjFjMCwxNC44LDExLjEsMjUuNywyNS45LDI1LjdjOC4yLDAsMTQuMi0xLjUsMTcuNS0zLjNWMTM1CgkJYy0zLjIsMS4zLTE5LDUuOS0xOS04LjlWOTAuNmgxOVY2OS4zaC0xOUwxNDYuOSw0Ny42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjMsOTQuN2MwLTMuOSwzLjItNS40LDguNS01LjRjNy42LDAsMTcuMiwyLjMsMjQuOCw2LjRWNzIuMmMtOC4zLTMuMy0xNi41LTQuNi0yNC44LTQuNgoJCUM2Ny41LDY3LjYsNTQsNzguMiw1NCw5NS45YzAsMjcuNiwzOCwyMy4yLDM4LDM1LjFjMCw0LjYtNCw2LjEtOS42LDYuMWMtOC4zLDAtMTguOS0zLjQtMjcuMy04djIzLjhjOS4zLDQsMTguNyw1LjcsMjcuMyw1LjcKCQljMjAuOCwwLDM1LjEtMTAuMywzNS4xLTI4LjJDMTE3LjQsMTAwLjYsNzkuMywxMDUuOSw3OS4zLDk0Ljd6Ii8+CjwvZz4KPC9zdmc+Cg=="},16454:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NjggMjIyLjUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ2OCAyMjIuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMwQTI1NDA7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTQsMTEzLjRjMC0yNS42LTEyLjQtNDUuOC0zNi4xLTQ1LjhjLTIzLjgsMC0zOC4yLDIwLjItMzguMiw0NS42YzAsMzAuMSwxNyw0NS4zLDQxLjQsNDUuMwoJCWMxMS45LDAsMjAuOS0yLjcsMjcuNy02LjV2LTIwYy02LjgsMy40LTE0LjYsNS41LTI0LjUsNS41Yy05LjcsMC0xOC4zLTMuNC0xOS40LTE1LjJoNDguOUM0MTMuOCwxMjEsNDE0LDExNS44LDQxNCwxMTMuNHoKCQkgTTM2NC42LDEwMy45YzAtMTEuMyw2LjktMTYsMTMuMi0xNmM2LjEsMCwxMi42LDQuNywxMi42LDE2SDM2NC42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMwMS4xLDY3LjZjLTkuOCwwLTE2LjEsNC42LTE5LjYsNy44bC0xLjMtNi4yaC0yMnYxMTYuNmwyNS01LjNsMC4xLTI4LjNjMy42LDIuNiw4LjksNi4zLDE3LjcsNi4zCgkJYzE3LjksMCwzNC4yLTE0LjQsMzQuMi00Ni4xQzMzNS4xLDgzLjQsMzE4LjYsNjcuNiwzMDEuMSw2Ny42eiBNMjk1LjEsMTM2LjVjLTUuOSwwLTkuNC0yLjEtMTEuOC00LjdsLTAuMS0zNy4xCgkJYzIuNi0yLjksNi4yLTQuOSwxMS45LTQuOWM5LjEsMCwxNS40LDEwLjIsMTUuNCwyMy4zQzMxMC41LDEyNi41LDMwNC4zLDEzNi41LDI5NS4xLDEzNi41eiIvPgoJPHBvbHlnb24gY2xhc3M9InN0MCIgcG9pbnRzPSIyMjMuOCw2MS43IDI0OC45LDU2LjMgMjQ4LjksMzYgMjIzLjgsNDEuMyAJIi8+Cgk8cmVjdCB4PSIyMjMuOCIgeT0iNjkuMyIgY2xhc3M9InN0MCIgd2lkdGg9IjI1LjEiIGhlaWdodD0iODcuNSIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE5Ni45LDc2LjdsLTEuNi03LjRoLTIxLjZ2ODcuNWgyNVY5Ny41YzUuOS03LjcsMTUuOS02LjMsMTktNS4ydi0yM0MyMTQuNSw2OC4xLDIwMi44LDY1LjksMTk2LjksNzYuN3oiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNDYuOSw0Ny42bC0yNC40LDUuMmwtMC4xLDgwLjFjMCwxNC44LDExLjEsMjUuNywyNS45LDI1LjdjOC4yLDAsMTQuMi0xLjUsMTcuNS0zLjNWMTM1CgkJYy0zLjIsMS4zLTE5LDUuOS0xOS04LjlWOTAuNmgxOVY2OS4zaC0xOUwxNDYuOSw0Ny42eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjMsOTQuN2MwLTMuOSwzLjItNS40LDguNS01LjRjNy42LDAsMTcuMiwyLjMsMjQuOCw2LjRWNzIuMmMtOC4zLTMuMy0xNi41LTQuNi0yNC44LTQuNgoJCUM2Ny41LDY3LjYsNTQsNzguMiw1NCw5NS45YzAsMjcuNiwzOCwyMy4yLDM4LDM1LjFjMCw0LjYtNCw2LjEtOS42LDYuMWMtOC4zLDAtMTguOS0zLjQtMjcuMy04djIzLjhjOS4zLDQsMTguNyw1LjcsMjcuMyw1LjcKCQljMjAuOCwwLDM1LjEtMTAuMywzNS4xLTI4LjJDMTE3LjQsMTAwLjYsNzkuMywxMDUuOSw3OS4zLDk0Ljd6Ii8+CjwvZz4KPC9zdmc+Cg=="},83703:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAReSURBVHgB7VZvaBxVEJ95u3e5tGlyDbHU2vwrRmIaRcRqY1o4g8aiYmybIyLWlrYIIgpiof77IihiRT8UBEGqSD+0kNqaCPmDsTlobUPxg5gjSmMSiW1a4xHaNGkut7tv/O0lSFuzd3sRQbADd/t237yZ35v5zbxHdFP+78K0SBmJREJc7CyXpCEXls5efrD19AwtQnIGIETq/JbIKktTs2lQrRAza+6zZ/XXFR2x3zmt8i8CGN7SUK5Ev6aYd+A1NP95Cn6PiG29Wd7+3RjlIIpyFEPrzXD+bNq5SD/2ewbjAuylWatAI+UoOUVgMLrxlpBj/IwYh4G93dH6lYAiWwu9A0vb8O2Sk9RrKztiF/3a9B2BXpAupI1dyHkxCV9ksQ9Onx0fu+1obEyTbse3CaShWOXz89A1/dr1DaAyzPWkuQW7T2G3Pcnk0p7agYEUQqhF1HEm6RIhG2l5uios6/za9QVgZEckpAxpFqYaFhoTLa1VnZ2Tf4H7KnZJRB9kpmEmXiOsdg9FHy7yYzsrB+I1NcHCO1ZuJZb90C5Rwi+sPnb8k5GnIhWK+H0GB2ZJ9lYdjZ0b3dywB3ofYFmClLxUmqAjHIvZmexnjcDyO1esgdFdrnOEf9QSfXh+6h44vx/P9QHmu90PgaT1BR7n8CthrVpGCwMrstnPCkBrboRWPYZTyPN+N9w32hBHBd3BrZ0n/iDRH4GMKfw2ienszGY/I4B49NFisH43ah0NR05rMTsoi4g2u8GDk4hWSLHs/C1al0+LAeCWUpG2Xkf47wKAhDi0r+JYz0+URcrbvh1wHOdDDH/Fukpx8t44lQGEJ4CKZXQf6usRlNVVt8S0RXHyKaiCU+B3LF2WxM+ssvPrcgIw8lhkpWnSi3BcJcyDzObHuXQ3lyfojm5ZjiIVZYr1NpyeYd8AAkt4LQ65TUC/BH3/m8EJ+3vKUQxzBpyRQ6hzdEWOmGFV5wvA+a2RajB/L5CXIJb9l1XgvYcWrmU3x3GkKK4kdfbGyVLcDwxz9l3Mj+C1Alzac6FpY01WAI7Q4wi9izaJ7nagtrV7YgHnbph/wOK3QM63y9tODCykU5q+pKgDri3NssExjMaMANDdwiihlyV9vNJJbVA3echQtL5MEz3HJjUNPVFf5qUnjvE5dt8Fu0GU9KvuieoJIEBGk0sa9PsEOtBn02p82Msw23kP4BHFaHsoL6/eS2940hpHqg6nS5lodZ5tbPcE4LDTkkZN3DtuT7XVtg6kPAFYM/3478Ww13GSZ7z0XP4EJdgLT31ztlXDtfPXn9uspudufVJUFCyq/uXJyKSXYYfIVrbss3SAyRCG7u1eujOcKjE0F8wdfWCNFwAt+kuDuRnM3YDm/ilmr1JGEaQtRdlECRXgKK+eW+F0eQMwr3QadmGX2wMA9t5/cGu/Hua8GZC22zCtQ9fO/c1DPBoNLnMS6wzi9Wilvq9WmYRFLEfJj1cM6qttjU3RTfkvyZ+4Z8ndDuYJcAAAAABJRU5ErkJggg=="},90869:(e,t,s)=>{"use strict";e.exports=s.p+"images/petr-green.5d319211.jpg"},78075:(e,t,s)=>{"use strict";e.exports=s.p+"images/petr.128014f7.png"}},e=>{var t=t=>e(e.s=t);e.O(0,[9574,2795,5117],(()=>(t(70025),t(49431))));e.O()}]);