/*! For license information please see sdk.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SilverSurferSDK=e():t.SilverSurferSDK=e()}(window,(function(){return(()=>{var t={558:(t,e,r)=>{"use strict";Array.isArray;var n,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},i="object"==typeof o&&o&&o.Object===Object&&o,a="object"==typeof self&&self&&self.Object===Object&&self,u=i||a||Function("return this")(),c=u.Symbol,s=Object.prototype,l=s.hasOwnProperty,f=s.toString,p=c?c.toStringTag:void 0,d=Object.prototype.toString,h=c?c.toStringTag:void 0,v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=l.call(t,p),r=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=f.call(t);return n&&(e?t[p]=r:delete t[p]),o}(t):function(t){return d.call(t)}(t)},y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},b=u["__core-js_shared__"],g=(n=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",w=Function.prototype.toString,m=/^\[object .+?Constructor\]$/,_=Function.prototype,S=Object.prototype,x=_.toString,O=S.hasOwnProperty,j=RegExp("^"+x.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=function(t){return!(!y(t)||(e=t,g&&g in e))&&(function(t){if(!y(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?j:m).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},I=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return E(r)?r:void 0},P=I(Object,"create"),A=Object.prototype.hasOwnProperty,T=Object.prototype.hasOwnProperty;function k(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}k.prototype.clear=function(){this.__data__=P?P(null):{},this.size=0},k.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},k.prototype.get=function(t){var e=this.__data__;if(P){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return A.call(e,t)?e[t]:void 0},k.prototype.has=function(t){var e=this.__data__;return P?void 0!==e[t]:T.call(e,t)},k.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=P&&void 0===e?"__lodash_hash_undefined__":e,this};var C=k,D=function(t,e){for(var r=t.length;r--;)if((n=t[r][0])===(o=e)||n!=n&&o!=o)return r;var n,o;return-1},M=Array.prototype.splice;function N(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}N.prototype.clear=function(){this.__data__=[],this.size=0},N.prototype.delete=function(t){var e=this.__data__,r=D(e,t);return!(r<0||(r==e.length-1?e.pop():M.call(e,r,1),--this.size,0))},N.prototype.get=function(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]},N.prototype.has=function(t){return D(this.__data__,t)>-1},N.prototype.set=function(t,e){var r=this.__data__,n=D(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var L=N,R=I(u,"Map"),z=function(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map};function B(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}B.prototype.clear=function(){this.size=0,this.__data__={hash:new C,map:new(R||L),string:new C}},B.prototype.delete=function(t){var e=z(this,t).delete(t);return this.size-=e?1:0,e},B.prototype.get=function(t){return z(this,t).get(t)},B.prototype.has=function(t){return z(this,t).has(t)},B.prototype.set=function(t,e){var r=z(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var U=B;function F(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(F.Cache||U),r}F.Cache=U;var V,H,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/\\(\\)?/g,W=(V=F((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(G,(function(t,r,n,o){e.push(n?o.replace($,"$1"):r||t)})),e}),(function(t){return 500===H.size&&H.clear(),t})),H=V.cache,c?c.prototype:void 0);W&&W.toString;function q(){return!("undefined"==typeof window||!window.location||!window.location.hostname)&&window.location.hostname.includes("fandom.com")}e.sH=function(){return q()?"https://services.fandom.com/":"https://services.fandom-dev.us/"},e.yv=function(){return!0}},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function o(t,e,r){return t.concat(e).map((function(t){return n(t,r)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function u(t,r,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=n;var s=Array.isArray(r);return s===Array.isArray(t)?s?c.arrayMerge(t,r,c):function(t,e,r){var o={};return r.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=n(t[e],r)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&r.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return u;var r=e.customMerge(t);return"function"==typeof r?r:u}(i,r)(t[i],e[i],r):o[i]=n(e[i],r))})),o}(t,r,c):n(r,c)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return u(t,r,e)}),{})};var c=u;t.exports=c},8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),u=r(1866);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8407:(t,e,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),u=r(4705);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),u=r(5265);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6384:(t,e,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),u=r(4758),c=r(4309);function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},6874:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7412:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},7443:(t,e,r)=>{var n=r(2118);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},4636:(t,e,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),u=r(5776),c=r(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),p=!r&&!l&&!f&&c(t),d=r||l||f||p,h=d?n(t.length,String):[],v=h.length;for(var y in t)!e&&!s.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||h.push(y);return h}},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},2908:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},4865:(t,e,r)=>{var n=r(9465),o=r(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4037:(t,e,r)=>{var n=r(8363),o=r(3674);t.exports=function(t,e){return t&&n(e,o(e),t)}},3886:(t,e,r)=>{var n=r(8363),o=r(1704);t.exports=function(t,e){return t&&n(e,o(e),t)}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},5990:(t,e,r)=>{var n=r(6384),o=r(7412),i=r(4865),a=r(4037),u=r(3886),c=r(4626),s=r(278),l=r(8805),f=r(1911),p=r(8234),d=r(6904),h=r(4160),v=r(3824),y=r(9148),b=r(8517),g=r(1469),w=r(4144),m=r(6688),_=r(3218),S=r(2928),x=r(3674),O=r(1704),j="[object Arguments]",E="[object Function]",I="[object Object]",P={};P[j]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[E]=P["[object WeakMap]"]=!1,t.exports=function t(e,r,A,T,k,C){var D,M=1&r,N=2&r,L=4&r;if(A&&(D=k?A(e,T,k,C):A(e)),void 0!==D)return D;if(!_(e))return e;var R=g(e);if(R){if(D=v(e),!M)return s(e,D)}else{var z=h(e),B=z==E||"[object GeneratorFunction]"==z;if(w(e))return c(e,M);if(z==I||z==j||B&&!k){if(D=N||B?{}:b(e),!M)return N?f(e,u(D,e)):l(e,a(D,e))}else{if(!P[z])return k?e:{};D=y(e,z,M)}}C||(C=new n);var U=C.get(e);if(U)return U;C.set(e,D),S(e)?e.forEach((function(n){D.add(t(n,r,A,n,e,C))})):m(e)&&e.forEach((function(n,o){D.set(o,t(n,r,A,o,e,C))}));var F=R?void 0:(L?N?d:p:N?O:x)(e);return o(F||e,(function(n,o){F&&(n=e[o=n]),i(D,o,t(n,r,A,o,e,C))})),D}},3118:(t,e,r)=>{var n=r(3218),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},1848:t=>{t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,r)=>{var n=r(2488),o=r(7285);t.exports=function t(e,r,i,a,u){var c=-1,s=e.length;for(i||(i=o),u||(u=[]);++c<s;){var l=e[c];r>0&&i(l)?r>1?t(l,r-1,i,a,u):n(u,l):a||(u[u.length]=l)}return u}},7786:(t,e,r)=>{var n=r(1811),o=r(327);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},8866:(t,e,r)=>{var n=r(2488),o=r(1469);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},4239:(t,e,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},2118:(t,e,r)=>{var n=r(1848),o=r(2722),i=r(2351);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},9454:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},939:(t,e,r)=>{var n=r(2492),o=r(7005);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,u))}},2492:(t,e,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),u=r(4160),c=r(1469),s=r(4144),l=r(6719),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,v,y,b){var g=c(t),w=c(e),m=g?p:u(t),_=w?p:u(e),S=(m=m==f?d:m)==d,x=(_=_==f?d:_)==d,O=m==_;if(O&&s(t)){if(!s(e))return!1;g=!0,S=!1}if(O&&!S)return b||(b=new n),g||l(t)?o(t,e,r,v,y,b):i(t,e,m,r,v,y,b);if(!(1&r)){var j=S&&h.call(t,"__wrapped__"),E=x&&h.call(e,"__wrapped__");if(j||E){var I=j?t.value():t,P=E?e.value():e;return b||(b=new n),y(I,P,r,v,b)}}return!!O&&(b||(b=new n),a(t,e,r,v,y,b))}},5588:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?p:u).test(a(t))}},9221:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},8749:(t,e,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},280:(t,e,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},313:(t,e,r)=>{var n=r(3218),o=r(5726),i=r(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},9877:t=>{var e=Math.floor,r=Math.random;t.exports=function(t,n){return t+e(r()*(n-t+1))}},6560:(t,e,r)=>{var n=r(5703),o=r(8777),i=r(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},4259:t=>{t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},531:(t,e,r)=>{var n=r(2705),o=r(9932),i=r(1469),a=r(3448),u=n?n.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},7561:(t,e,r)=>{var n=r(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,r)=>{var n=r(8668),o=r(7443),i=r(1196),a=r(4757),u=r(3593),c=r(1814);t.exports=function(t,e,r){var s=-1,l=o,f=t.length,p=!0,d=[],h=d;if(r)p=!1,l=i;else if(f>=200){var v=e?null:u(t);if(v)return c(v);p=!1,l=a,h=new n}else h=e?[]:d;t:for(;++s<f;){var y=t[s],b=e?e(y):y;if(y=r||0!==y?y:0,p&&b==b){for(var g=h.length;g--;)if(h[g]===b)continue t;e&&h.push(b),d.push(y)}else l(h,b,r)||(h!==d&&h.push(b),d.push(y))}return d}},7406:(t,e,r)=>{var n=r(1811),o=r(928),i=r(292),a=r(327);t.exports=function(t,e){return e=n(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,r)=>{var n=r(1469),o=r(5403),i=r(5514),a=r(9833);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},4318:(t,e,r)=>{var n=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4626:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}},7157:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:(t,e,r)=>{var n=r(2705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},8363:(t,e,r)=>{var n=r(4865),o=r(9465);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=i?i(r[s],t[s],s,r,t):void 0;void 0===l&&(l=t[s]),a?o(r,s,l):n(r,s,l)}return r}},8805:(t,e,r)=>{var n=r(8363),o=r(9551);t.exports=function(t,e){return n(t,o(t),e)}},1911:(t,e,r)=>{var n=r(8363),o=r(1442);t.exports=function(t,e){return n(t,o(t),e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},3593:(t,e,r)=>{var n=r(8525),o=r(308),i=r(1814),a=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},696:(t,e,r)=>{var n=r(8630);t.exports=function(t){return n(t)?void 0:t}},8777:(t,e,r)=>{var n=r(852),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,r)=>{var n=r(8668),o=r(2908),i=r(4757);t.exports=function(t,e,r,a,u,c){var s=1&r,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=c.get(t),d=c.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,y=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++h<l;){var b=t[h],g=e[h];if(a)var w=s?a(g,b,h,e,t,c):a(b,g,h,t,e,c);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(b===t||u(b,t,r,a,c)))return y.push(e)}))){v=!1;break}}else if(b!==g&&!u(b,g,r,a,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},8351:(t,e,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),u=r(8776),c=r(1814),s=n?n.prototype:void 0,l=s?s.valueOf:void 0;t.exports=function(t,e,r,n,s,f,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var h=1&n;if(d||(d=c),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;n|=2,p.set(t,e);var y=a(d(t),d(e),n,s,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},6096:(t,e,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var c=1&r,s=n(t),l=s.length;if(l!=n(e).length&&!c)return!1;for(var f=l;f--;){var p=s[f];if(!(c?p in e:o.call(e,p)))return!1}var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var v=!0;u.set(t,e),u.set(e,t);for(var y=c;++f<l;){var b=t[p=s[f]],g=e[p];if(i)var w=c?i(g,b,p,e,t,u):i(b,g,p,t,e,u);if(!(void 0===w?b===g||a(b,g,r,i,u):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(v=!1)}return u.delete(t),u.delete(e),v}},9021:(t,e,r)=>{var n=r(5564),o=r(5357),i=r(61);t.exports=function(t){return i(o(t,void 0,n),t+"")}},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),o=r(9551),i=r(3674);t.exports=function(t){return n(t,i,o)}},6904:(t,e,r)=>{var n=r(8866),o=r(1442),i=r(1704);t.exports=function(t){return n(t,i,o)}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:(t,e,r)=>{var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},5924:(t,e,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},9551:(t,e,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},1442:(t,e,r)=>{var n=r(2488),o=r(5924),i=r(9551),a=r(479),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=u},4160:(t,e,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),u=r(577),c=r(4239),s=r(346),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=s(n),y=s(o),b=s(i),g=s(a),w=s(u),m=c;(n&&m(new n(new ArrayBuffer(1)))!=h||o&&m(new o)!=l||i&&m(i.resolve())!=f||a&&m(new a)!=p||u&&m(new u)!=d)&&(m=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case v:return h;case y:return l;case b:return f;case g:return p;case w:return d}return e}),t.exports=m},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9148:(t,e,r)=>{var n=r(4318),o=r(7157),i=r(3147),a=r(419),u=r(7133);t.exports=function(t,e,r){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Set]":return new c;case"[object Symbol]":return a(t)}}},8517:(t,e,r)=>{var n=r(3118),o=r(5924),i=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},7285:(t,e,r)=>{var n=r(2705),o=r(5694),i=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6612:(t,e,r)=>{var n=r(7813),o=r(8612),i=r(5776),a=r(3218);t.exports=function(t,e,r){if(!a(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&i(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},5403:(t,e,r)=>{var n=r(1469),o=r(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),o=r(8407),i=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5357:(t,e,r)=>{var n=r(6874),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=r(c),n(t,this,s)}}},292:(t,e,r)=>{var n=r(7786),o=r(4259);t.exports=function(t,e){return e.length<2?t:n(t,o(e,0,-1))}},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},61:(t,e,r)=>{var n=r(6560),o=r(1275)(n);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),o=r(7071),i=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},2351:t=>{t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},5514:(t,e,r)=>{var n=r(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:(t,e,r)=>{var n=r(1078);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=r(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},8446:(t,e,r)=>{var n=r(939);t.exports=function(t,e){return n(t,e)}},3560:(t,e,r)=>{var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,r)=>{var n=r(5588),o=r(1717),i=r(1167),a=i&&i.isMap,u=a?o(a):n;t.exports=u},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,r)=>{var n=r(4239),o=r(5924),i=r(7005),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=s.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},2928:(t,e,r)=>{var n=r(9221),o=r(1717),i=r(1167),a=i&&i.isSet,u=a?o(a):n;t.exports=u},3448:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},6719:(t,e,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},3674:(t,e,r)=>{var n=r(4636),o=r(280),i=r(8612);t.exports=function(t){return i(t)?n(t):o(t)}},1704:(t,e,r)=>{var n=r(4636),o=r(313),i=r(8612);t.exports=function(t){return i(t)?n(t,!0):o(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},8306:(t,e,r)=>{var n=r(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},308:t=>{t.exports=function(){}},7557:(t,e,r)=>{var n=r(9932),o=r(5990),i=r(7406),a=r(1811),u=r(8363),c=r(696),s=r(9021),l=r(6904),f=s((function(t,e){var r={};if(null==t)return r;var s=!1;e=n(e,(function(e){return e=a(e,t),s||(s=e.length>1),e})),u(t,l(t),r),s&&(r=o(r,7,c));for(var f=e.length;f--;)i(r,e[f]);return r}));t.exports=f},3608:(t,e,r)=>{var n=r(9877),o=r(6612),i=r(8601),a=parseFloat,u=Math.min,c=Math.random;t.exports=function(t,e,r){if(r&&"boolean"!=typeof r&&o(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var s=t;t=e,e=s}if(r||t%1||e%1){var l=c();return u(t+l*(e-t+a("1e-"+((l+"").length-1))),e)}return n(t,e)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,r)=>{var n=r(4841);t.exports=function(t){return t?Infinity===(t=n(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},4841:(t,e,r)=>{var n=r(7561),o=r(3218),i=r(3448),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=u.test(t);return r||c.test(t)?s(t.slice(2),r?2:8):a.test(t)?NaN:+t}},9833:(t,e,r)=>{var n=r(531);t.exports=function(t){return null==t?"":n(t)}},4908:(t,e,r)=>{var n=r(5652);t.exports=function(t){return t&&t.length?n(t):[]}}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n](o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";function t(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}(t)+"=([^;]*)"));return e?e[1]:null}r.r(n),r.d(n,{ACTION:()=>Qi,addAction:()=>ea,addInteraction:()=>ia,default:()=>da,getActions:()=>ra,getAllActions:()=>na,getContext:()=>sa,getGalactusUserProfile:()=>ca,getLocalContext:()=>la,getRealtimeContext:()=>Zi,getUserProfile:()=>oa,getVersionHash:()=>ua,isInitialized:()=>aa,registerClient:()=>ta});const e=function(){var e;return null!==(e=t("wikia_beacon_id"))&&void 0!==e?e:null};var o,i=r(7557),a=r.n(i),u=r(558),c=function(){return(c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t){return function(e,r,n){return void 0===n&&(n={}),fetch((0,u.sH)()+e,c({method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(r)},n)).then((function(r){return r.ok||401===r.status||404===r.status||("function"==typeof t?t(e,r):console.error("callFandomServiceFactory Error",{url:(0,u.sH)()+e,response:r})),r}))}},l=function(){return/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname},f=null!==(o="03e94b7\n".replace(/\n/g,""))&&void 0!==o?o:"local",p=function(t){return window.location.search.includes(t)},d=function(){return p("ss_debug=true")};var h,v,y=("silver-surfer",h=f,function(t,e){return void 0===e&&(e={}),function(t,e,r,n){void 0===n&&(n={}),console.debug("logDebugEvent",r,n),s(null)("event-logger/debug",{name:r,description:JSON.stringify(n),client:"silver-surfer",client_version:e},{}).catch((function(t){l()||console.error("Error while sending to event logger service",t)}))}(0,h,t,e)}),b=function(t,e){return function(t,r){return function(t,e,r,n){void 0===n&&(n={}),console.error("logErrorEvent",r,n),s(null)("event-logger/error",{name:r,description:JSON.stringify(n),client:t,client_version:e},{}).catch((function(t){l()||console.error("Error while sending to event logger service",t)}))}("silver-surfer",e,t,function(t){return{ok:t.ok,redirected:t.redirected,status:t.status,statusText:t.statusText,type:t.type,url:t.url}}(r))}}(0,f),g=(v=b,function(t){return fetch((0,u.sH)()+t,{mode:"cors",credentials:"include"}).then((function(e){return e.ok||401===e.status||404===e.status||("function"==typeof v?v(t,e):console.error("callFandomServiceFactory Error",{url:(0,u.sH)()+t,response:e})),e}))}),w=(s(b),function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n});function m(){}function _(t){return"error"===t?console.debug:"debug"===t?d()||l()?console.debug:m:console.log}var S=function(t,e,r,n){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=_(t),u="%c"+e+" | "+n;o.length?a.apply(void 0,w([u,r],o)):a(u,r)};const x=function(t,e,r){return void 0===r&&(r=[]),function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return S.apply(void 0,w([e,t,r.join(";"),n],o))}};function O(t){return["background-color: silver;","padding: 2px 4px","border-radius: 2px","color: "+t]}const j={info:x("SilverSurfer","info",O("#000")),debug:x("SilverSurfer","debug",O("#330")),error:x("SilverSurfer","error",O("#300"))};var E={profileId:null,adTags:{},devices:{set:[]},locations:{set:[]},languages:{contentLanguages:[],acceptLanguages:[]}};function I(t){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,r,n,o;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,g("galactus-user-profile/profiles/"+t)];case 1:return 200!==(e=i.sent()).status?[3,3]:[4,e.json()];case 2:return r=i.sent(),n=function(t){var e,r,n,o,i,a,u,c,s,l,f=(null==t?void 0:t.namespaces)||{};return{adTags:null!==(e=null==f?void 0:f.adTags)&&void 0!==e?e:E.adTags,profileId:null!==(r=null==t?void 0:t.profileId)&&void 0!==r?r:E.profileId,devices:{set:null!==(o=null===(n=null==f?void 0:f.devices)||void 0===n?void 0:n.set)&&void 0!==o?o:E.devices.set},locations:{set:null!==(a=null===(i=null==f?void 0:f.locations)||void 0===i?void 0:i.set)&&void 0!==a?a:E.locations.set},languages:{contentLanguages:null!==(c=null===(u=null==f?void 0:f.languages)||void 0===u?void 0:u.contentLanguages)&&void 0!==c?c:E.languages.contentLanguages,acceptLanguages:null!==(l=null===(s=null==f?void 0:f.languages)||void 0===s?void 0:s.acceptLanguages)&&void 0!==l?l:E.languages.acceptLanguages}}}(r),j.debug("Galactus API response",n),[2,n];case 3:return[3,5];case 4:return o=i.sent(),j.error("Failed to fetch profile",o),[3,5];case 5:return[2,null]}}))}))}var P=function(){return(P=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},T=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},k="silver_surfer_tracking_key_v2",C="silver_surfer_actions_v2",D="silver_surfer_interactions_v2";function M(){return A(this,void 0,void 0,(function(){var t;return T(this,(function(e){switch(e.label){case 0:return[4,H()];case 1:return t=[e.sent()],[4,W()];case 2:return t=t.concat([e.sent()]),[4,U()];case 3:return[2,4*t.concat([e.sent()]).map((function(t){return JSON.stringify(t).length})).reduce((function(t,e){return t+e}),0)]}}))}))}var N=function(t){return"silver-surfer-galactus-fallback-user-profile-v2_"+t};function L(t){return A(this,void 0,void 0,(function(){var e,r;return T(this,(function(n){return(e=localStorage.getItem(N(t)))&&(r=JSON.parse(e))&&4===r.apiVersion?[2,a()(r,"apiVersion")]:[2,null]}))}))}function R(t,e){return A(this,void 0,void 0,(function(){return T(this,(function(r){try{localStorage.setItem(N(t),JSON.stringify(P(P({},e),{apiVersion:4})))}catch(t){return[2,!1]}return[2,!0]}))}))}function z(t){var e;return A(this,void 0,void 0,(function(){var r,n;return T(this,(function(o){switch(o.label){case 0:return[4,U()];case 1:r=o.sent(),n=null!==(e=r[t])&&void 0!==e?e:0,r[t]=n+1;try{localStorage.setItem(D,JSON.stringify(r))}catch(t){return[2,!1]}return[2,!0]}}))}))}function B(t){return A(this,void 0,void 0,(function(){return T(this,(function(e){try{localStorage.setItem(D,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function U(){return A(this,void 0,void 0,(function(){var t;return T(this,(function(e){return(t=localStorage.getItem(D))?[2,JSON.parse(t)]:[2,{}]}))}))}function F(t){return A(this,void 0,void 0,(function(){var e;return T(this,(function(r){switch(r.label){case 0:return[4,H()];case 1:(e=r.sent()).push(t),e.length>100&&(e=e.slice(50));try{localStorage.setItem(k,JSON.stringify(e))}catch(t){return[2,!1]}return[2,!0]}}))}))}function V(t){return A(this,void 0,void 0,(function(){return T(this,(function(e){try{localStorage.setItem(k,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function H(){return A(this,void 0,void 0,(function(){var t;return T(this,(function(e){return(t=localStorage.getItem(k))?[2,JSON.parse(t)]:[2,[]]}))}))}function G(t){return A(this,void 0,void 0,(function(){var e;return T(this,(function(r){switch(r.label){case 0:return[4,W()];case 1:(e=r.sent()).push(t),e.length>200&&(e=e.slice(100));try{localStorage.setItem(C,JSON.stringify(e))}catch(t){return[2,!1]}return[2,!0]}}))}))}function $(t){return A(this,void 0,void 0,(function(){return T(this,(function(e){try{localStorage.setItem(C,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function W(){return A(this,void 0,void 0,(function(){var t;return T(this,(function(e){return(t=localStorage.getItem(C))?[2,JSON.parse(t)]:[2,[]]}))}))}let q,J;const K=new WeakMap,Y=new WeakMap,X=new WeakMap,Q=new WeakMap,Z=new WeakMap;let tt={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return Y.get(t);if("objectStoreNames"===e)return t.objectStoreNames||X.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return rt(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function et(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(nt(this),t),rt(K.get(this))}:function(...t){return rt(e.apply(nt(this),t))}:function(t,...r){const n=e.call(nt(this),t,...r);return X.set(n,t.sort?t.sort():[t]),rt(n)}:(t instanceof IDBTransaction&&function(t){if(Y.has(t))return;const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));Y.set(t,e)}(t),r=t,(q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>r instanceof t))?new Proxy(t,tt):t);var e,r}function rt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(rt(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&K.set(e,t)})).catch((()=>{})),Z.set(e,t),e}(t);if(Q.has(t))return Q.get(t);const e=et(t);return e!==t&&(Q.set(t,e),Z.set(e,t)),e}const nt=t=>Z.get(t);function ot(t,e,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),u=rt(a);return n&&a.addEventListener("upgradeneeded",(t=>{n(rt(a.result),t.oldVersion,t.newVersion,rt(a.transaction))})),r&&a.addEventListener("blocked",(()=>r())),u.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),u}const it=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],ut=new Map;function ct(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ut.get(e))return ut.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=at.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!it.includes(r))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[r](...e),o&&i.done]))[0]};return ut.set(e,i),i}var st;st=tt,tt={...st,get:(t,e,r)=>ct(t,e)||st.get(t,e,r),has:(t,e)=>!!ct(t,e)||st.has(t,e)};var lt=function(){return(lt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ft=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},pt=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},dt=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},ht="page-view-table",vt="actions-table",yt="interactions-table",bt="current",gt="galactus-fallback-user-profile-table",wt=!1;function mt(){return ft(this,void 0,void 0,(function(){var t;return pt(this,(function(e){switch(e.label){case 0:if(wt)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ot("silver-surfer",4,{upgrade:function(t,e,r,n){t.objectStoreNames.contains(ht)||t.createObjectStore(ht),t.objectStoreNames.contains(gt)||t.createObjectStore(gt),t.objectStoreNames.contains(vt)||t.createObjectStore(vt,{autoIncrement:!0}),t.objectStoreNames.contains(yt)||t.createObjectStore(yt)},blocked:function(){},blocking:function(){},terminated:function(){}})];case 2:return[2,e.sent()];case 3:return t=e.sent(),j.error("Cannot access indexedDB:",t),wt=!0,[3,4];case 4:return[2]}}))}))}var _t=function(t){return"user-profile-"+t};function St(t){return ft(this,void 0,void 0,(function(){var e,r;return pt(this,(function(n){switch(n.label){case 0:return[4,mt()];case 1:return[4,null==(e=n.sent())?void 0:e.get(gt,_t(t))];case 2:return(r=n.sent())&&4===r.apiVersion?[2,a()(r,"apiVersion")]:[2,null]}}))}))}function xt(t,e){return ft(this,void 0,void 0,(function(){var r,n,o;return pt(this,(function(i){switch(i.label){case 0:return[4,mt()];case 1:return r=i.sent(),n=_t(t),o=lt(lt({},e),{apiVersion:4}),[4,null==r?void 0:r.put(gt,o,n)];case 2:return[2,i.sent()===n]}}))}))}function Ot(){var t;return ft(this,void 0,void 0,(function(){var e,r,n;return pt(this,(function(o){switch(o.label){case 0:return[4,mt()];case 1:return[4,null==(e=o.sent())?void 0:e.getAllKeys(ht)];case 2:return r=null!==(t=o.sent())&&void 0!==t?t:[],[4,null==e?void 0:e.getAll(ht)];case 3:return n=o.sent(),[2,r.map((function(t,e){return lt({id:t},n[e])}))]}}))}))}function jt(t){return ft(this,void 0,void 0,(function(){var e,r,n,o=this;return pt(this,(function(i){switch(i.label){case 0:return[4,mt()];case 1:return e=i.sent(),(null==(r=null==e?void 0:e.transaction(ht,"readwrite",{durability:"strict"}))?void 0:r.store)?[4,r.store.clear()]:[2,!1];case 2:return i.sent(),n=!0,t.forEach((function(t){return ft(o,void 0,void 0,(function(){var e,o,i;return pt(this,(function(a){switch(a.label){case 0:return e=t.id,o=dt(t,["id"]),[4,r.store.put(o,e)];case 1:return i=a.sent(),n&&(n=i===e),[2]}}))}))})),[4,r.done];case 3:return i.sent(),[2,n]}}))}))}function Et(t){return ft(this,void 0,void 0,(function(){var e,r,n;return pt(this,(function(o){switch(o.label){case 0:return[4,mt()];case 1:return e=o.sent(),r=t.id,n=dt(t,["id"]),[4,null==e?void 0:e.put(ht,n,r)];case 2:return[2,o.sent()===r]}}))}))}function It(t){var e;return ft(this,void 0,void 0,(function(){var r,n;return pt(this,(function(o){switch(o.label){case 0:return[4,At()];case 1:return r=o.sent(),n=null!==(e=r[t])&&void 0!==e?e:0,r[t]=n+1,[2,Pt(r)]}}))}))}function Pt(t){return ft(this,void 0,void 0,(function(){var e;return pt(this,(function(r){switch(r.label){case 0:return[4,mt()];case 1:return[4,null==(e=r.sent())?void 0:e.put(yt,t,bt)];case 2:return[2,r.sent()===bt]}}))}))}function At(){var t;return ft(this,void 0,void 0,(function(){var e;return pt(this,(function(r){switch(r.label){case 0:return[4,mt()];case 1:return[4,null==(e=r.sent())?void 0:e.get(yt,bt)];case 2:return[2,null!==(t=r.sent())&&void 0!==t?t:{}]}}))}))}function Tt(){return ft(this,void 0,void 0,(function(){var t;return pt(this,(function(e){switch(e.label){case 0:return[4,mt()];case 1:return[4,null==(t=e.sent())?void 0:t.getAll(vt)];case 2:return[2,e.sent()]}}))}))}function kt(t){return ft(this,void 0,void 0,(function(){var e;return pt(this,(function(r){switch(r.label){case 0:return[4,mt()];case 1:return[4,null==(e=r.sent())?void 0:e.put(vt,t)];case 2:return[2,!!r.sent()]}}))}))}function Ct(t){return ft(this,void 0,void 0,(function(){var e,r,n,o=this;return pt(this,(function(i){switch(i.label){case 0:return[4,mt()];case 1:return e=i.sent(),(null==(r=null==e?void 0:e.transaction(vt,"readwrite",{durability:"strict"}))?void 0:r.store)?[4,r.store.clear()]:[2,!1];case 2:return i.sent(),n=!0,t.forEach((function(t){return ft(o,void 0,void 0,(function(){var e;return pt(this,(function(o){switch(o.label){case 0:return[4,r.store.put(t)];case 1:return e=o.sent(),n&&(n=!!e),[2]}}))}))})),[4,r.done];case 3:return i.sent(),[2,n]}}))}))}function Dt(){return ft(this,void 0,void 0,(function(){var t,e,r,n;return pt(this,(function(o){switch(o.label){case 0:return[4,mt()];case 1:return t=o.sent(),e=0,[4,null==t?void 0:t.transaction(ht).store.openCursor()];case 2:r=o.sent(),o.label=3;case 3:return r?(e+=JSON.stringify(r.value).length,[4,r.continue()]):[3,5];case 4:return r=o.sent(),[3,3];case 5:return[4,null==t?void 0:t.transaction(vt).store.openCursor()];case 6:n=o.sent(),o.label=7;case 7:return n?(e+=JSON.stringify(n.value).length,[4,n.continue()]):[3,9];case 8:return n=o.sent(),[3,7];case 9:return[2,4*e]}}))}))}var Mt=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},Nt=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Lt(){try{return!!(null===window||void 0===window?void 0:window.localStorage)}catch(t){return!1}}function Rt(){try{return!!(null===window||void 0===window?void 0:window.indexedDB)}catch(t){return!1}}function zt(t){return Mt(this,void 0,void 0,(function(){return Nt(this,(function(e){switch(e.label){case 0:return Rt()?[4,St(t)]:[3,2];case 1:return[2,e.sent()];case 2:return Lt()?[4,L(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2,null]}}))}))}function Bt(t){return Mt(this,void 0,void 0,(function(){var e,r,n,o,i;return Nt(this,(function(a){switch(a.label){case 0:return Rt()?[4,Et(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Lt()?[4,F(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)||j.error("Failed to track page",t),[2,i]}}))}))}function Ut(t){return void 0===t&&(t=!0),Mt(this,void 0,void 0,(function(){return Nt(this,(function(e){switch(e.label){case 0:return Rt()&&t?[4,Ot()]:[3,2];case 1:return[2,e.sent()];case 2:return Lt()?[4,H()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,[]]}}))}))}function Ft(t){return Mt(this,void 0,void 0,(function(){var e,r,n,o,i;return Nt(this,(function(a){switch(a.label){case 0:return Rt()?[4,kt(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Lt()?[4,G(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)||j.error("Failed to save action",t),[2,i]}}))}))}function Vt(t){return void 0===t&&(t=!0),Mt(this,void 0,void 0,(function(){return Nt(this,(function(e){switch(e.label){case 0:return Rt()&&t?[4,Tt()]:[3,2];case 1:return[2,e.sent()];case 2:return Lt()?[4,W()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,[]]}}))}))}function Ht(t){return Mt(this,void 0,void 0,(function(){var e,r,n,o,i;return Nt(this,(function(a){switch(a.label){case 0:return Rt()?[4,It(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Lt()?[4,z(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)||j.error("Failed to save interaction",t),[2,i]}}))}))}function Gt(t){return void 0===t&&(t=!0),Mt(this,void 0,void 0,(function(){return Nt(this,(function(e){switch(e.label){case 0:return Rt()&&t?[4,At()]:[3,2];case 1:return[2,e.sent()];case 2:return Lt()?[4,U()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,{}]}}))}))}function $t(){return Mt(this,void 0,void 0,(function(){var t,e,r,n;return Nt(this,(function(o){switch(o.label){case 0:t=-1,e=-1,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,M()];case 2:return t=o.sent(),[3,4];case 3:return r=o.sent(),j.debug("Error while getting localStorage size",r),[3,4];case 4:return o.trys.push([4,6,,7]),[4,Dt()];case 5:return e=o.sent(),[3,7];case 6:return n=o.sent(),j.debug("Error while getting indexedDB size",n),[3,7];case 7:return[2,{localStorageSize:t,indexedDBSize:e}]}}))}))}var Wt=r(9996),qt=r.n(Wt);function Jt(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Kt(t){return!!t&&!!t[Ne]}function Yt(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof r&&Function.toString.call(r)===Le}(t)||Array.isArray(t)||!!t[Me]||!!t.constructor[Me]||re(t)||ne(t))}function Xt(t,e,r){void 0===r&&(r=!1),0===Qt(t)?(r?Object.keys:Re)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function Qt(t){var e=t[Ne];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:re(t)?2:ne(t)?3:0}function Zt(t,e){return 2===Qt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function te(t,e,r){var n=Qt(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function ee(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function re(t){return Te&&t instanceof Map}function ne(t){return ke&&t instanceof Set}function oe(t){return t.o||t.t}function ie(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ze(t);delete e[Ne];for(var r=Re(e),n=0;n<r.length;n++){var o=r[n],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function ae(t,e){return void 0===e&&(e=!1),ce(t)||Kt(t)||!Yt(t)||(Qt(t)>1&&(t.set=t.add=t.clear=t.delete=ue),Object.freeze(t),e&&Xt(t,(function(t,e){return ae(e,!0)}),!0)),t}function ue(){Jt(2)}function ce(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function se(t){var e=Be[t];return e||Jt(18,t),e}function le(){return Pe}function fe(t,e){e&&(se("Patches"),t.u=[],t.s=[],t.v=e)}function pe(t){de(t),t.p.forEach(ve),t.p=null}function de(t){t===Pe&&(Pe=t.l)}function he(t){return Pe={p:[],l:Pe,h:t,m:!0,_:0}}function ve(t){var e=t[Ne];0===e.i||1===e.i?e.j():e.g=!0}function ye(t,e){e._=e.p.length;var r=e.p[0],n=void 0!==t&&t!==r;return e.h.O||se("ES5").S(e,t,n),n?(r[Ne].P&&(pe(e),Jt(4)),Yt(t)&&(t=be(e,t),e.l||we(e,t)),e.u&&se("Patches").M(r[Ne],t,e.u,e.s)):t=be(e,r,[]),pe(e),e.u&&e.v(e.u,e.s),t!==De?t:void 0}function be(t,e,r){if(ce(e))return e;var n=e[Ne];if(!n)return Xt(e,(function(o,i){return ge(t,n,e,o,i,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return we(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=ie(n.k):n.o;Xt(3===n.i?new Set(o):o,(function(e,i){return ge(t,n,o,e,i,r)})),we(t,o,!1),r&&t.u&&se("Patches").R(n,r,t.u,t.s)}return n.o}function ge(t,e,r,n,o,i){if(Kt(o)){var a=be(t,o,i&&e&&3!==e.i&&!Zt(e.D,n)?i.concat(n):void 0);if(te(r,n,a),!Kt(a))return;t.m=!1}if(Yt(o)&&!ce(o)){if(!t.h.F&&t._<1)return;be(t,o),e&&e.A.l||we(t,o)}}function we(t,e,r){void 0===r&&(r=!1),t.h.F&&t.m&&ae(e,r)}function me(t,e){var r=t[Ne];return(r?oe(r):t)[e]}function _e(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Se(t){t.P||(t.P=!0,t.l&&Se(t.l))}function xe(t){t.o||(t.o=ie(t.t))}function Oe(t,e,r){var n=re(e)?se("MapSet").N(e,r):ne(e)?se("MapSet").T(e,r):t.O?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:le(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=n,i=Ue;r&&(o=[n],i=Fe);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return n.k=c,n.j=u,c}(e,r):se("ES5").J(e,r);return(r?r.A:le()).p.push(n),n}function je(t){return Kt(t)||Jt(22,t),function t(e){if(!Yt(e))return e;var r,n=e[Ne],o=Qt(e);if(n){if(!n.P&&(n.i<4||!se("ES5").K(n)))return n.t;n.I=!0,r=Ee(e,o),n.I=!1}else r=Ee(e,o);return Xt(r,(function(e,o){n&&function(t,e){return 2===Qt(t)?t.get(e):t[e]}(n.t,e)===o||te(r,e,t(o))})),3===o?new Set(r):r}(t)}function Ee(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return ie(t)}var Ie,Pe,Ae="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Te="undefined"!=typeof Map,ke="undefined"!=typeof Set,Ce="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,De=Ae?Symbol.for("immer-nothing"):((Ie={})["immer-nothing"]=!0,Ie),Me=Ae?Symbol.for("immer-draftable"):"__$immer_draftable",Ne=Ae?Symbol.for("immer-state"):"__$immer_state",Le=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Re="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ze=Object.getOwnPropertyDescriptors||function(t){var e={};return Re(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},Be={},Ue={get:function(t,e){if(e===Ne)return t;var r=oe(t);if(!Zt(r,e))return function(t,e,r){var n,o=_e(e,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(t.k):void 0}(t,r,e);var n=r[e];return t.I||!Yt(n)?n:n===me(t.t,e)?(xe(t),t.o[e]=Oe(t.A.h,n,t)):n},has:function(t,e){return e in oe(t)},ownKeys:function(t){return Reflect.ownKeys(oe(t))},set:function(t,e,r){var n=_e(oe(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var o=me(oe(t),e),i=null==o?void 0:o[Ne];if(i&&i.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(ee(r,o)&&(void 0!==r||Zt(t.t,e)))return!0;xe(t),Se(t)}return t.o[e]===r&&"number"!=typeof r||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==me(t.t,e)||e in t.t?(t.D[e]=!1,xe(t),Se(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=oe(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){Jt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Jt(12)}},Fe={};Xt(Ue,(function(t,e){Fe[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Fe.deleteProperty=function(t,e){return Ue.deleteProperty.call(this,t[0],e)},Fe.set=function(t,e,r){return Ue.set.call(this,t[0],e,r,t[0])};var Ve=new(function(){function t(t){var e=this;this.O=Ce,this.F=!0,this.produce=function(t,r,n){if("function"==typeof t&&"function"!=typeof r){var o=r;r=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];return i.produce(t,(function(t){var n;return(n=r).call.apply(n,[e,t].concat(a))}))}}var a;if("function"!=typeof r&&Jt(6),void 0!==n&&"function"!=typeof n&&Jt(7),Yt(t)){var u=he(e),c=Oe(e,t,void 0),s=!0;try{a=r(c),s=!1}finally{s?pe(u):de(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return fe(u,n),ye(t,u)}),(function(t){throw pe(u),t})):(fe(u,n),ye(a,u))}if(!t||"object"!=typeof t){if((a=r(t))===De)return;return void 0===a&&(a=t),e.F&&ae(a,!0),a}Jt(21,t)},this.produceWithPatches=function(t,r){return"function"==typeof t?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.produceWithPatches(r,(function(e){return t.apply(void 0,[e].concat(o))}))}:[e.produce(t,r,(function(t,e){n=t,o=e})),n,o];var n,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){Yt(t)||Jt(8),Kt(t)&&(t=je(t));var e=he(this),r=Oe(this,t,void 0);return r[Ne].C=!0,de(e),r},e.finishDraft=function(t,e){var r=(t&&t[Ne]).A;return fe(r,e),ye(void 0,r)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Ce&&Jt(20),this.O=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}var o=se("Patches").$;return Kt(t)?o(t,e):this.produce(t,(function(t){return o(t,e.slice(r+1))}))},t}()),He=Ve.produce;Ve.produceWithPatches.bind(Ve),Ve.setAutoFreeze.bind(Ve),Ve.setUseProxies.bind(Ve),Ve.applyPatches.bind(Ve),Ve.createDraft.bind(Ve),Ve.finishDraft.bind(Ve);const Ge=He;function $e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function We(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?We(Object(r),!0).forEach((function(e){$e(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Je(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ke="function"==typeof Symbol&&Symbol.observable||"@@observable",Ye=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xe={INIT:"@@redux/INIT"+Ye(),REPLACE:"@@redux/REPLACE"+Ye(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ye()}};function Qe(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ze(t,e,r){var n;if("function"==typeof e&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(Je(0));if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error(Je(1));return r(Ze)(t,e)}if("function"!=typeof t)throw new Error(Je(2));var o=t,i=e,a=[],u=a,c=!1;function s(){u===a&&(u=a.slice())}function l(){if(c)throw new Error(Je(3));return i}function f(t){if("function"!=typeof t)throw new Error(Je(4));if(c)throw new Error(Je(5));var e=!0;return s(),u.push(t),function(){if(e){if(c)throw new Error(Je(6));e=!1,s();var r=u.indexOf(t);u.splice(r,1),a=null}}}function p(t){if(!Qe(t))throw new Error(Je(7));if(void 0===t.type)throw new Error(Je(8));if(c)throw new Error(Je(9));try{c=!0,i=o(i,t)}finally{c=!1}for(var e=a=u,r=0;r<e.length;r++)(0,e[r])();return t}function d(t){if("function"!=typeof t)throw new Error(Je(10));o=t,p({type:Xe.REPLACE})}function h(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(Je(11));function r(){t.next&&t.next(l())}return r(),{unsubscribe:e(r)}}})[Ke]=function(){return this},t}return p({type:Xe.INIT}),(n={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[Ke]=h,n}function tr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function er(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),n=function(){throw new Error(Je(15))},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return n=tr.apply(void 0,i)(r.dispatch),qe(qe({},r),{},{dispatch:n})}}}function rr(t,e){return t===e}function nr(t,e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var n=e.length,o=0;o<n;o++)if(!t(e[o],r[o]))return!1;return!0}function or(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var r=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return e}var ir=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=0,a=n.pop(),u=or(n),c=t.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),s=t((function(){for(var t=[],e=u.length,r=0;r<e;r++)t.push(u[r].apply(null,arguments));return c.apply(null,t)}));return s.resultFunc=a,s.dependencies=u,s.recomputations=function(){return i},s.resetRecomputations=function(){return i=0},s}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr,r=null,n=null;return function(){return nr(e,r,arguments)||(n=t.apply(null,arguments)),r=arguments,n}}));function ar(t){return function(e){var r=e.dispatch,n=e.getState;return function(e){return function(o){return"function"==typeof o?o(r,n,t):e(o)}}}}var ur=ar();ur.withExtraArgument=ar;const cr=ur;function sr(){return(sr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fr(t,e){return(fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function dr(t,e,r){return(dr=pr()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&fr(o,r.prototype),o}).apply(null,arguments)}function hr(t){var e="function"==typeof Map?new Map:void 0;return(hr=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return dr(t,arguments,lr(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fr(r,t)})(t)}var vr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?tr:tr.apply(null,arguments)};var yr,br=function(t){var e,r;function n(){return t.apply(this,arguments)||this}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.concat=function(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return dr(n,(e=t.prototype.concat).call.apply(e,[this].concat(o)))},o.prepend=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?dr(n,e[0].concat(this)):dr(n,e.concat(this))},n}(hr(Array));function gr(t){void 0===t&&(t={});var e=t,r=e.thunk,n=void 0===r||r,o=(e.immutableCheck,e.serializableCheck,new br);return n&&(function(t){return"boolean"==typeof t}(n)?o.push(cr):o.push(cr.withExtraArgument(n.extraArgument))),o}function wr(t,e){function r(){if(e){var r=e.apply(void 0,arguments);if(!r)throw new Error("prepareAction did not return an object");return sr({type:t,payload:r.payload},"meta"in r&&{meta:r.meta},{},"error"in r&&{error:r.error})}return{type:t,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(e){return e.type===t},r}function mr(t){var e,r={},n=[],o={addCase:function(t,e){var n="string"==typeof t?t:t.type;if(n in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[n]=e,o},addMatcher:function(t,e){return n.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[r,n,e]}function _r(t){var e=t.name,r=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var n=t.reducers||{},o=void 0===t.extraReducers?[]:"function"==typeof t.extraReducers?mr(t.extraReducers):[t.extraReducers],i=o[0],a=void 0===i?{}:i,u=o[1],c=void 0===u?[]:u,s=o[2],l=void 0===s?void 0:s,f=Object.keys(n),p={},d={},h={};f.forEach((function(t){var r,o,i=n[t],a=e+"/"+t;"reducer"in i?(r=i.reducer,o=i.prepare):r=i,p[t]=r,d[a]=r,h[t]=o?wr(a,o):wr(a)}));var v=function(t,e,r,n){void 0===r&&(r=[]);var o="function"==typeof e?mr(e):[e,r,n],i=o[0],a=o[1],u=o[2],c=Ge(t,(function(){}));return function(t,e){void 0===t&&(t=c);var r=[i[e.type]].concat(a.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===r.filter((function(t){return!!t})).length&&(r=[u]),r.reduce((function(t,r){if(r){if(Kt(t)){var n=r(t,e);return void 0===n?t:n}if(Yt(t))return Ge(t,(function(t){return r(t,e)}));var o=r(t,e);if(void 0===o){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return o}return t}),t)}}(r,sr({},a,{},d),c,l);return{name:e,reducer:v,actions:h,caseReducers:p}}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(){function t(t,e){var r=o[t];return r?r.enumerable=e:o[t]=r={configurable:!0,enumerable:e,get:function(){var e=this[Ne];return Ue.get(e,t)},set:function(e){var r=this[Ne];Ue.set(r,t,e)}},r}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][Ne];if(!o.P)switch(o.i){case 5:n(o)&&Se(o);break;case 4:r(o)&&Se(o)}}}function r(t){for(var e=t.t,r=t.k,n=Re(r),o=n.length-1;o>=0;o--){var i=n[o];if(i!==Ne){var a=e[i];if(void 0===a&&!Zt(e,i))return!0;var u=r[i],c=u&&u[Ne];if(c?c.t!==a:!ee(u,a))return!0}}var s=!!e[Ne];return n.length!==Re(e).length+(s?0:1)}function n(t){var e=t.k;if(e.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!r||r.get)}var o={};!function(t,e){Be[t]||(Be[t]=e)}("ES5",{J:function(e,r){var n=Array.isArray(e),o=function(e,r){if(e){for(var n=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(n,""+o,t(o,!0));return n}var i=ze(r);delete i[Ne];for(var a=Re(i),u=0;u<a.length;u++){var c=a[u];i[c]=t(c,e||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,e),i={i:n?5:4,A:r?r.A:le(),P:!1,I:!1,D:{},l:r,t:e,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Ne,{value:i,writable:!0}),o},S:function(t,r,o){o?Kt(r)&&r[Ne].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var r=e[Ne];if(r){var o=r.t,i=r.k,a=r.D,u=r.i;if(4===u)Xt(i,(function(e){e!==Ne&&(void 0!==o[e]||Zt(o,e)?a[e]||t(i[e]):(a[e]=!0,Se(r)))})),Xt(o,(function(t){void 0!==i[t]||Zt(i,t)||(a[t]=!1,Se(r))}));else if(5===u){if(n(r)&&(Se(r),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var s=o.length;s<i.length;s++)a[s]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)void 0===a[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?r(t):n(t)}})}();var Sr=_r({name:"AppSlice",initialState:{state:"new",clients:[]},reducers:{starting:function(t){"new"===t.state&&(t.state="starting")},ready:function(t){"starting"===t.state&&(t.state="ready")},addClient:function(t,e){t.clients.push(e.payload)}}}),xr=Sr.actions,Or=((yr=Sr.actions).starting,yr.ready,yr.addClient);const jr=Sr.reducer;var Er=r(7361),Ir=r.n(Er),Pr=r(3608),Ar=r.n(Pr),Tr={p:null,pId:null,time:0};function kr(t){return{product:t.p,productVariant:t.pVar,productCategory:t.pCat,productId:t.pId,page:t.pg,pageId:t.pgId,pageLanguage:t.pgLang,adTags:t.adTags,time:t.time}}function Cr(){return"object"!=typeof(null===window||void 0===window?void 0:window._plc)?Tr:window._plc}var Dr,Mr,Nr,Lr;function Rr(t){return!(t<1)||Ar()(0,100)<=100*t}const zr=_r({name:"ConfigSlice",initialState:(Dr=Cr(),Nr={sendDebugLogRate:.05,sendGalactusRequestRate:1,sendTrackingRate:(null==(Mr={mw:["2350603","174","38969","4396","159","130814","2180","105","2237"],dis:[]}[Dr.p])?void 0:Mr.includes(Dr.pId))?1:0},Lr={sendDebugLogRate:Ir()(window,"_ss.sendDebugLogRate",Nr.sendDebugLogRate),sendGalactusRequestRate:Ir()(window,"_ss.sendGalactusRequestRate",Nr.sendGalactusRequestRate),sendTrackingRate:Ir()(window,"_ss.sendDebugLogRate",Nr.sendTrackingRate)},{sendDebugLog:Rr(Lr.sendDebugLogRate)||d(),sendGalactusRequest:Rr(Lr.sendGalactusRequestRate)||d()||l(),sendTracking:Rr(Lr.sendDebugLogRate),disableCrossdomain:p("ss_no_crossdomain=true")}),reducers:{}}).reducer;var Br,Ur=_r({name:"ContextSlice",initialState:{user:null,page:null,floorAdhesionSlot:"unknown",uapSlot:"unknown"},reducers:{updateUser:function(t,e){t.user=e.payload},updatePage:function(t,e){t.page=e.payload},floorAdhesionSlotUpdate:function(t,e){t.floorAdhesionSlot=e.payload},uapSlotUpdate:function(t,e){t.uapSlot=e.payload}}}),Fr=(Ur.actions,(Br=Ur.actions).updateUser),Vr=Br.updatePage,Hr=Br.floorAdhesionSlotUpdate,Gr=Br.uapSlotUpdate;const $r=Ur.reducer;var Wr;function qr(t){var e,r=Date.now();return{id:t.productId+"_"+t.pageId+"_"+r,context:(e=t,{p:e.product,pVar:e.productVariant,pCat:e.productCategory,pId:e.productId,pg:e.page,pgId:e.pageId,pgLang:e.pageLanguage,adTags:e.adTags,time:e.time}),time:r,version:"2"}}function Jr(t){if("1"===(null==t?void 0:t.version)){var e=t;return kr({p:"mw",pCat:e.vertical,pId:e.communityId,pgId:e.pageId,time:0})}return"2"!==(null==t?void 0:t.version)?kr(Tr):kr(t.context)}var Kr=_r({name:"BrowserStorageSlice",initialState:{session:{interactions:{},actions:[],pages:[]},history:{interactions:{},actions:[],pages:[]},serviceCache:{galactusUserProfile:{}},local:{status:"initializing",size:{localStorageSize:-1,indexedDBSize:-1}},crossdomain:{status:"initializing",statusErrorMessage:null,size:{localStorageSize:-1,indexedDBSize:-1}}},reducers:{cacheGalactusUserProfile:function(t,e){t.serviceCache.galactusUserProfile[e.payload.beaconId]=e.payload.profile},crossdomainStatus:function(t,e){var r,n=e.payload.status;"ready"!=t.crossdomain.status&&(t.crossdomain.status=n,t.crossdomain.statusErrorMessage="off"===n?null===(r=e.payload)||void 0===r?void 0:r.statusErrorMessage:"")},sessionPageViewSaved:function(t,e){t.session.pages.push(Jr(e.payload))},sessionActionSaved:function(t,e){t.session.actions.push(e.payload)},sessionAddInteraction:function(t,e){var r,n=t.session.interactions,o=null!==(r=n[e.payload])&&void 0!==r?r:0;n[e.payload]=o+1,t.session.interactions=n},updateCrossdomainInteractions:function(t,e){t.history.interactions=e.payload,t.crossdomain.status="ready"},updateCrossdomainActions:function(t,e){t.history.actions=e.payload,t.crossdomain.status="ready"},updateCrossdomainPages:function(t,e){t.history.pages=e.payload.map(Jr),t.crossdomain.status="ready"},updateCrossdomainSize:function(t,e){t.crossdomain.size=e.payload,t.crossdomain.status="ready"},updateLocalHistory:function(t,e){var r,n,o,i;t.history.interactions=e.payload.interactions,t.history.pages=null!==(n=null===(r=e.payload.pages)||void 0===r?void 0:r.map(Jr))&&void 0!==n?n:[],t.history.actions=null!==(i=null===(o=e.payload)||void 0===o?void 0:o.actions)&&void 0!==i?i:[],t.local.status="ready"},updateLocalStorageSize:function(t,e){t.local.size=e.payload}}}),Yr=(Kr.actions,(Wr=Kr.actions).cacheGalactusUserProfile),Xr=Wr.crossdomainStatus,Qr=Wr.sessionPageViewSaved,Zr=Wr.sessionActionSaved,tn=Wr.sessionAddInteraction,en=Wr.updateCrossdomainSize,rn=Wr.updateCrossdomainPages,nn=Wr.updateCrossdomainActions,on=Wr.updateCrossdomainInteractions,an=Wr.updateLocalHistory,un=Wr.updateLocalStorageSize;const cn=Kr.reducer;function sn(t,e){for(var r=0;r<e.length-1;r++)if(t>=e[r]&&t<e[r+1])return e[r+1];return null}var ln,fn=function(t){return sn(t,[0,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6])},pn=function(t){return sn(t,[0,1,2,5,10,20,50,100,200,500,1e3])},dn=function(t){return sn(t,[0,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5])},hn=_r({name:"MetricsSlice",initialState:{timers:{}},reducers:{startTimer:function(t,e){var r=e.payload;t.timers[r]={name:r,time:Date.now(),isRunning:!0}},stopTimer:function(t,e){var r,n=e.payload.name;if((null===(r=t.timers)||void 0===r?void 0:r[n])&&t.timers[n].isRunning){var o=Date.now()-t.timers[n].time;t.timers[n]={name:n,time:o,isRunning:!1},e.payload.sendMetrics&&y("silver-surfer-timer",{name:n,time:dn(o)})}}}}),vn=hn.actions;(ln=hn.actions).startTimer,ln.stopTimer;const yn=function(t){var e,r=function(t){return gr(t)},n=t||{},o=n.reducer,i=void 0===o?void 0:o,a=n.middleware,u=void 0===a?r():a,c=n.devTools,s=void 0===c||c,l=n.preloadedState,f=void 0===l?void 0:l,p=n.enhancers,d=void 0===p?void 0:p;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var o=e[n];"function"==typeof t[o]&&(r[o]=t[o])}var i,a=Object.keys(r);try{!function(t){Object.keys(t).forEach((function(e){var r=t[e];if(void 0===r(void 0,{type:Xe.INIT}))throw new Error(Je(12));if(void 0===r(void 0,{type:Xe.PROBE_UNKNOWN_ACTION()}))throw new Error(Je(13))}))}(r)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var n=!1,o={},u=0;u<a.length;u++){var c=a[u],s=r[c],l=t[c],f=s(l,e);if(void 0===f)throw e&&e.type,new Error(Je(14));o[c]=f,n=n||f!==l}return(n=n||a.length!==Object.keys(t).length)?o:t}}(i)}var h=er.apply(void 0,"function"==typeof u?u(r):u),v=tr;s&&(v=vr(sr({trace:!1},"object"==typeof s&&s)));var y=[h];return Array.isArray(d)?y=[h].concat(d):"function"==typeof d&&(y=d(y)),Ze(e,f,v.apply(void 0,y))}({reducer:{App:jr,Config:zr,Metrics:hn.reducer,Context:$r,BrowserStorage:cn},middleware:gr(),devTools:{name:"SilverSurfer",trace:d()}});var bn,gn=r(4908),wn=r.n(gn),mn=function(t,e){var r;return null===(r=t.Metrics.timers)||void 0===r?void 0:r[e]},_n=function(t){return t.App.clients},Sn=function(t){return t.Config.sendDebugLog},xn=function(t){return t.BrowserStorage.crossdomain.status},On=function(t){return t.BrowserStorage.crossdomain.statusErrorMessage},jn=ir(xn,(function(t){return"initializing"!==t})),En=ir(xn,(function(t){return"ready"===t})),In=ir((function(t){return t.BrowserStorage.local.status}),(function(t){return"ready"===t})),Pn=ir((function(t){return t.BrowserStorage.session.pages}),(function(t){return t.BrowserStorage.history.pages}),(function(t,e){return t.concat(e).filter(Boolean)})),An=ir((function(t){return t.BrowserStorage.session.actions}),(function(t){return t.BrowserStorage.history.actions}),(function(t,e){return t.concat(e).filter(Boolean)})),Tn=ir((function(t){return t.BrowserStorage.session.interactions}),(function(t){return t.BrowserStorage.history.interactions}),(function(t,e){return wn()([].concat(Object.keys(t),Object.keys(e)).filter(Boolean))})),kn=function(t){return t.Context.page},Cn=function(t){return{uap:t.Context.uapSlot,floorAdhesion:t.Context.floorAdhesionSlot}},Dn=ir((function(t){return"starting"===t.App.state}),In,kn,(function(t,e,r){return t&&e&&!!r}));const Mn=(bn={event:"silversurfer"},function(t){return function(t){return t.event?(window.dataLayer=window.dataLayer||[],t.category||(t.category=t.event),window.dataLayer.push(t)):(console.error("[Tracking] missing 'event' field",t),null)}(qt()(bn,t))});var Nn=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},Ln=window.cancelIdleCallback||function(t){clearTimeout(t)};function Rn(t){setTimeout(t,1)}var zn=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},Bn=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Un,Fn=!1;function Vn(t){return zn(this,void 0,void 0,(function(){var r,n,o;return Bn(this,(function(i){switch(i.label){case 0:return r=t||e(),(n=(a=r,function(t){var e;return null===(e=t.BrowserStorage.serviceCache.galactusUserProfile)||void 0===e?void 0:e[a]})(yn.getState()))?[3,2]:[4,zt(t)];case 1:return(o=i.sent())&&(n=qt()(E,o)),j.debug("getGalactusUserProfile: Profile read from storage",n),[3,3];case 2:j.debug("getGalactusUserProfile: Profile read from cache",n),i.label=3;case 3:return!Fn&&yn.getState().Config.sendGalactusRequest&&(Fn=!0,Rn((function(){return function(t){return zn(this,void 0,void 0,(function(){var e,r,n=this;return Bn(this,(function(o){return e=null,r=Nn((function(){return zn(n,void 0,void 0,(function(){var n,o,i;return Bn(this,(function(a){switch(a.label){case 0:if(Date.now()-0<6e4)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,I(t)];case 2:return(n=a.sent())&&(null==n?void 0:n.profileId)&&(o=JSON.stringify(n))!==e&&(j.debug("getGalactusUserProfile: Profile updated from Galactus",n),yn.dispatch(Yr({beaconId:t,profile:n})),function(t,e){Mt(this,void 0,void 0,(function(){var r,n,o,i,a;return Nt(this,(function(u){switch(u.label){case 0:return Rt()?[4,xt(t,e)]:[3,2];case 1:return n=u.sent(),[3,3];case 2:n=!1,u.label=3;case 3:return r=n,Lt()?[4,R(t,e)]:[3,5];case 4:return i=u.sent(),[3,6];case 5:i=!1,u.label=6;case 6:return o=i,(a=r||o)||j.error("Failed to cache Galactus response",t,e),[2,a]}}))}))}(t,n),e=o),[3,4];case 3:return i=a.sent(),j.error("Fail to fetch data from Galactus",i),Ln(r),[3,4];case 4:return[2]}}))}))})),[2]}))}))}(r)}))),[2,n]}var a}))}))}function Hn(){return zn(this,void 0,void 0,(function(){var t,r;return Bn(this,(function(n){switch(n.label){case 0:return t=e(),r=E,t?[3,1]:(Mn({event:"silversurfer-exit-no-beacon",action:"loaded"}),[3,3]);case 1:return[4,Vn(t)];case 2:r=n.sent(),Mn({event:"silversurfer-galactus-user-profile-loaded",action:"loaded",beaconId:t,success:!!(null==r?void 0:r.profileId),profile:r}),n.label=3;case 3:return[2,r]}}))}))}function Gn(t){var e,r;return(null!==(r=null===(e=null==t?void 0:t.devices)||void 0===e?void 0:e.set)&&void 0!==r?r:[]).map((function(t){return{type:$n(t),platform:Wn(t),browser:qn(t)}}))}function $n(t){return t.type.toLowerCase().replace("unknown","other")}function Wn(t){var e=t.os.toLowerCase(),r=t.make.toLowerCase(),n="other";return e.includes("android")&&(n="android"),r.includes("apple")&&(n="apple"),n}function qn(t){return t.browser.toLowerCase().replace("unknown","other")}function Jn(e){var r,n,o=null!==(n=null===(r=null==e?void 0:e.locations)||void 0===r?void 0:r.set)&&void 0!==n?n:[],i=(Un||function(){if(!Un){var e=decodeURIComponent(t("Geo"));try{Un=JSON.parse(e)||{}}catch(t){Un={}}}}(),null==Un?void 0:Un.country);return wn()([].concat(o.map((function(t){return t.country})),[i]).filter(Boolean).map((function(t){return t.toUpperCase()})))}function Kn(t){var e,r,n,o,i,a,u,c=null!==(r=null===(e=null==t?void 0:t.languages)||void 0===e?void 0:e.contentLanguages)&&void 0!==r?r:[],s=null!==(o=null===(n=null==t?void 0:t.languages)||void 0===n?void 0:n.acceptLanguages)&&void 0!==o?o:[],l=[null===(i=kn(yn.getState()))||void 0===i?void 0:i.pageLanguage,null===(u=yn.getState(),a=u.Context.user)||void 0===a?void 0:a.lang],f=[window.navigator.language.split("-")[0]],p=Pn(yn.getState());return wn()([].concat(c.map((function(t){return t.languageCode})),s.map((function(t){return t.languageCode})),p.map((function(t){return null==t?void 0:t.pageLanguage})),l,f).filter(Boolean).map((function(t){return t.toLowerCase()})))}Object.values({WIKI_CONTENT:"wiki content",FEATURED_VIDEO:"featured video",DISCUSSIONS:"discussions"});var Yn={ADD:"add",CLICK:"click",CLOSE:"close",CONFIRM:"confirm",CREATE:"create",DISABLE:"disable",ENABLE:"enable",ERROR:"error",HOVER:"hover",IMPRESSION:"impression",KEYPRESS:"keypress",NO_IMPRESSION:"no-impression",OPEN:"open",PLAY_VIDEO:"play-video",REACTION:"reaction",REMOVE:"remove",SELECT:"select",SHARE:"share",SUBMIT:"submit",SUCCESS:"success",SWIPE:"swipe",VIEW:"view"},Xn=(Object.values(Yn),{FIRST_TIME:"1st time visitor",RETURNING:"returning visitor",FREQUENT:"frequent visitor"});function Qn(t){return 1===t?Xn.FIRST_TIME:t<=5?Xn.RETURNING:Xn.FREQUENT}function Zn(t){var e=Pn(yn.getState()).length;if(e>0)return Qn(e);var r=[];return Object.values(t).forEach((function(t){r.push(Math.max.apply(null,Object.values(t)))})),Qn(Math.max.apply(null,r))}function to(t){return[Zn(t)]}function eo(t){if("object"!=typeof t)return{};for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var o=n[r],i=o[0],a=o[1];e[i]=a.reduce((function(t,e){return t[e]=1,t}),{})}return e}function ro(t){return 0===Object.keys(t||{}).length}function no(t){if(t){var e=t.media,r=t.gnre,n=t.theme;return wn()([].concat(e?Object.keys(e):void 0,r?Object.keys(r):void 0,n?Object.keys(n):void 0).filter(Boolean))}return[]}Object.values(Xn);function oo(){var t,r;return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var n,o,i;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return[4,Hn()];case 1:return n=a.sent(),o=function(t){var e,r,n,o,i=null!==(e=null==t?void 0:t.adTags)&&void 0!==e?e:{};return ro(i)||(j.debug("getUserProfile: Galactus AdTags are empty, fallback to history"),n=(null!==(r=Pn(yn.getState()).map((function(t){return t.adTags})))&&void 0!==r?r:[]).filter(Boolean).map(eo),o={},n.forEach((function(t){for(var e,r,n=0,i=Object.entries(t);n<i.length;n++){for(var a=i[n],u=a[0],c=a[1],s=null!==(e=o[u])&&void 0!==e?e:{},l=0,f=Object.entries(c);l<f.length;l++){var p=f[l],d=p[0],h=p[1];s[d]=(null!==(r=s[d])&&void 0!==r?r:0)+h}o[u]=s}})),i=o),ro(i)&&(j.debug("getUserProfile: History is empty, fallback to current page"),i=eo(kn(yn.getState()).adTags)),i}(n),i={beaconId:e(),gender:Object.keys(null!==(t=null==o?void 0:o.sex)&&void 0!==t?t:{}),affiliation:to(o),interactions:Tn(yn.getState()),ageBrackets:Object.keys(null!==(r=null==o?void 0:o.age)&&void 0!==r?r:{}),devices:Gn(n),language:Kn(n),country:Jn(n),interests:no(o),adTags:o},j.debug("getUserProfile: Profile complete",i),[2,i]}}))}))}function io(){return{slots:Cn(yn.getState())}}var ao=function(){return(ao=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},uo={channelId:"default",host:window,coordinatorHost:window.top},co={connect:"connect",connected:"connected"},so="@wikia/post-quecast";function lo(t){return t.channelId&&t.libId===so&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function fo(t){return!t.data.private}function po(t,e){return t.data.channelId===e}function ho(t){return t.data.action}var vo=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[so])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[so].callbackConnector:new bo({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),yo=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!lo(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(r){return r({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),bo=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!lo(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var r;(r=e)&&r.source&&r.data&&lo(r.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),go=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=vo.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(r){if(po(r,t.channelId)&&function(t){return!!t.data.private}(r)){var n=ho(r);(function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.some((function(e){return t.type===e}))})(n,co.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,n.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(po(e,t.channelId)&&fo(e)){var r=ho(e);t.handleActions(r)}}))},t.prototype.handleActions=function(){for(var t,e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];(t=this.history).push.apply(t,r),r.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:co.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:so})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),wo=function(){function t(t){void 0===t&&(t={});var e=ao(ao({},uo),t);this.channelId=e.channelId,this.connector=vo.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:ao(ao({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:so})},t}(),mo=function(){function t(t){void 0===t&&(t={});var e=ao(ao({},uo),t);this.transmitter=new wo(e),this.receiver=new go(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),_o=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[so].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:so})},t.prototype.createConnectedAction=function(){return{type:co.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(r){r.dispatch({action:t,channelId:e.channelId,libId:so})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new bo({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),So=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new yo(t),this.postMessageConnector=new bo({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){fo(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.some((function(e){return t.data.action.type===e}))})(t,co.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(co).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new _o(t,this.coordinatorHost)),this.channels.get(t)},t}(),xo=function(t,e){return(xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Oo(t,e){function r(){this.constructor=t}xo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function jo(t){return"function"==typeof t}var Eo=!1,Io={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,Eo=t},get useDeprecatedSynchronousErrorHandling(){return Eo}};function Po(t){setTimeout((function(){throw t}),0)}var Ao={closed:!0,next:function(t){},error:function(t){if(Io.useDeprecatedSynchronousErrorHandling)throw t;Po(t)},complete:function(){}},To=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function ko(t){return null!==t&&"object"==typeof t}var Co=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),Do=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,o=r._ctorUnsubscribe,i=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(jo(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(t){e=t instanceof Co?Mo(t.errors):[t]}}if(To(a)){u=-1;for(var c=a.length;++u<c;){var s=a[u];if(ko(s))try{s.unsubscribe()}catch(t){e=e||[],t instanceof Co?e=e.concat(Mo(t.errors)):e.push(t)}}}if(e)throw new Co(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function Mo(t){return t.reduce((function(t,e){return t.concat(e instanceof Co?e.errors:e)}),[])}var No=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Lo=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Ao;break;case 1:if(!r){i.destination=Ao;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new Ro(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new Ro(i,r,n,o)}return i}return Oo(e,t),e.prototype[No]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Do),Ro=function(t){function e(e,r,n,o){var i,a=t.call(this)||this;a._parentSubscriber=e;var u=a;return jo(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==Ao&&(jo((u=Object.create(r)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=i,a._error=n,a._complete=o,a}return Oo(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Io.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=Io.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Po(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Po(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};Io.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Io.useDeprecatedSynchronousErrorHandling)throw t;Po(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!Io.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return Io.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Po(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Lo),zo=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Bo(t){return t}function Uo(t){return 0===t.length?Bo:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Fo=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof Lo)return t;if(t[No])return t[No]()}return t||e||r?new Lo(t,e,r):new Lo(Ao)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||Io.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Io.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Io.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof Lo?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Vo(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[zo]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Uo(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Vo(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function Vo(t){if(t||(t=Io.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Ho=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Go(t,this.project,this.thisArg))},t}(),Go=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return Oo(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Lo);function $o(t,e,r){return r?$o(t,e).pipe((n=function(t){return To(t)?r.apply(void 0,t):r(t)},function(t){return t.lift(new Ho(n,undefined))})):new Fo((function(r){var n,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{n=t(o)}catch(t){return void r.error(t)}if(jo(e))return function(){return e(o,n)}}));var n}var Wo,qo=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Jo=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return Oo(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(Do),Ko=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return Oo(e,t),e}(Lo),Yo=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Oo(e,t),e.prototype[No]=function(){return new Ko(this)},e.prototype.lift=function(t){var e=new Xo(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new qo;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new qo;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new qo;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new qo;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new qo;return this.hasError?(t.error(this.thrownError),Do.EMPTY):this.isStopped?(t.complete(),Do.EMPTY):(this.observers.push(t),new Jo(this,t))},e.prototype.asObservable=function(){var t=new Fo;return t.source=this,t},e.create=function(t,e){return new Xo(t,e)},e}(Fo),Xo=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return Oo(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Do.EMPTY},e}(Yo),Qo=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return Oo(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return Oo(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return Oo(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Do))),Zo=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),ti=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e}(function(t){function e(r,n){void 0===n&&(n=Zo.now);var o=t.call(this,r,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return Oo(e,t),e.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,o):t.prototype.schedule.call(this,r,n,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Zo)))(Qo),ei=new Fo((function(t){return t.complete()}));function ri(t){return t&&"function"==typeof t.schedule}function ni(t,e){return new Fo((function(r){var n=new Do,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function oi(t,e){return e?ni(t,e):new Fo((r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}));var r}Wo||(Wo={});var ii=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return ri(r)?(t.pop(),ni(t,r)):oi(t)}(this.value);case"E":return t=this.error,new Fo((function(e){return e.error(t)}));case"C":return function(t){return t?function(t){return new Fo((function(e){return t.schedule((function(){return e.complete()}))}))}(t):ei}()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),ai=function(t){function e(e,r,n){void 0===n&&(n=0);var o=t.call(this,e)||this;return o.scheduler=r,o.delay=n,o}return Oo(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new ui(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(ii.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(ii.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(ii.createComplete()),this.unsubscribe()},e}(Lo),ui=function(){return function(t,e){this.notification=t,this.destination=e}}(),ci=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=n,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return Oo(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new si(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=n.length;if(this.closed)throw new qo;if(this.isStopped||this.hasError?e=Do.EMPTY:(this.observers.push(t),e=new Jo(this,t)),o&&t.add(t=new ai(t,o)),r)for(var a=0;a<i&&!t.closed;a++)t.next(n[a]);else for(a=0;a<i&&!t.closed;a++)t.next(n[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||ti).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(t-n[i].time<r);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&n.splice(0,i),n},e}(Yo),si=function(){return function(t,e){this.time=t,this.value=e}}();class li{constructor(){!function(t){if(void 0===t&&(t=window),!t[so]){var e=new So(t);e.init(),t[so]=e}}(),this.communicator=new mo,this.actions=$o((t=>this.communicator.addListener(t)),(t=>this.communicator.removeListener(t))).pipe(function(t,e,r){var n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,n=t.bufferSize,o=void 0===n?Number.POSITIVE_INFINITY:n,i=t.windowTime,a=void 0===i?Number.POSITIVE_INFINITY:i,u=t.refCount,c=t.scheduler,s=0,l=!1,f=!1;return function(t){var n;s++,!e||l?(l=!1,e=new ci(o,a,c),n=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,r=void 0,e.complete()}}),f&&(r=void 0)):n=e.subscribe(this),this.add((function(){s--,n.unsubscribe(),n=void 0,r&&!f&&u&&0===s&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(n))}}({refCount:!0}))}dispatch(t){this.communicator.dispatch({...t,__global:!0})}}var fi,pi=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new di(t,this.predicate,this.thisArg))},t}(),di=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return Oo(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(Lo);function hi(...t){return e=>{return e.pipe((r=e=>t.some((t=>e.type===t)),function(t){return t.lift(new pi(r,undefined))}));var r}}function vi(t){"floor_adhesion"!==t.name&&"invisible_high_impact_2"!==t.name||yn.dispatch(Hr("collapse"===t.state?"collapsed":"loaded"))}function yi(t){yn.dispatch(Gr(t.isLoaded?"loaded":"collapsed"))}function bi(){fi||(j.debug("Start listening for Ad events"),(fi=new li).actions.pipe(hi("[AdEngine] Ad Slot loaded")).subscribe(vi),fi.actions.pipe(hi("[AdEngine] UAP Load status")).subscribe(yi))}var gi={id:"0"};function wi(){return{current:kn(yn.getState()),pages:Pn(yn.getState()),slots:Cn(yn.getState())}}function mi(){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return[2,{vertical:(e=kn(yn.getState())).productCategory,pageId:parseInt(e.pageId,10),communityId:parseInt(e.productId,10),adTags:eo(e.adTags),pages:Pn(yn.getState()),recentTVCommunities:(n=t("fandom_tv_city_list_counts"),n?JSON.parse(decodeURIComponent(n)).map((function(t){return{communityId:t.c,pageViews:t.pv}})):[])}];var n}))}))}var _i=function(){return(_i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Si(t){var e,r=_i(_i({},t),{time:Date.now(),ssVersion:f}),n=(void 0===e&&(e=0),(function(t,e){void 0===e&&(e=0);for(var r,n,o=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),i=-1^e,a=0,u=t.length;a<u;)(r=t.charCodeAt(a++))<128?i=i>>>8^o[255&(i^r)]:r<2048?i=(i=i>>>8^o[255&(i^(192|r>>6&31))])>>>8^o[255&(i^(128|63&r))]:r>=55296&&r<57344?(r=64+(1023&r),n=1023&t.charCodeAt(a++),i=(i=(i=(i=i>>>8^o[255&(i^(240|r>>8&7))])>>>8^o[255&(i^(128|r>>2&63))])>>>8^o[255&(i^(128|n>>6&15|(3&r)<<4))])>>>8^o[255&(i^(128|63&n))]):i=(i=(i=i>>>8^o[255&(i^(224|r>>12&15))])>>>8^o[255&(i^(128|r>>6&63))])>>>8^o[255&(i^(128|63&r))];return-1^i}(JSON.stringify(r),e)>>>0).toString(16));return _i(_i({},r),{token:n})}function xi(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}function Oi(t){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,r;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){return function(t){return"string"==typeof(null==t?void 0:t.name)}(t)?(e=_n(yn.getState()),function(t,e){var r;return null!==(r=null==e?void 0:e.findIndex((function(e){return xi(e,t)})))&&void 0!==r?r:-1}(t,e)>-1?(j.debug("registerClient: Already registered client",t),Mn({event:"silversurfer-client-registration",action:"already-registered",client:t}),[2,null]):(r=Si(t),yn.dispatch(Or(r)),j.debug("registerClient: Client registered",r),Mn({event:"silversurfer-client-registration",action:"registered",client:t}),[2,r.token])):(j.debug("registerClient: Invalid client",t),Mn({event:"silversurfer-client-registration",action:"invalid",client:t}),[2,null])}))}))}function ji(t,e){return{type:t,timestamp:Date.now(),payload:e,xv:f}}var Ei="register:response",Ii=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n};const Pi=function(){function t(t,e,r,n){this._status="off",this._sending=!1,this._queue=[],this._onMessageCallback=r,this._origin=t,this._options=n,this._initialize(e)}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype._log=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(null===(e=this._options)||void 0===e?void 0:e.debug)&&console.log.apply(console,Ii(["CrossDomainSender::"+t],r))},t.prototype._initialize=function(t){this._log("_initialize"),this._status="initializing";var e=document.createElement("iframe");e.style.display="none",e.sandbox="allow-same-origin allow-scripts",e.addEventListener("load",this._onIframeLoad.bind(this)),e.addEventListener("error",this._onIframeLoadError.bind(this)),e.src=t,document.body.appendChild(e),this._iframe=e},t.prototype._onIframeLoadError=function(){var t;this._log("_onIframeLoadError"),this._status="off","function"==typeof(null===(t=this._options)||void 0===t?void 0:t.onIframeError)&&this._options.onIframeError()},t.prototype._onIframeLoad=function(){this._log("_onIframeLoad");var t=new MessageChannel;t.port1.onmessage=this._onMessage.bind(this),this._sendMessage(ji("register:request"),[t.port2])},t.prototype._onMessage=function(t){var e;(null==(e=t.data)?void 0:e.xv)===f&&(this._log("_onMessage",t),t.data.type===Ei&&(this._status="ready"),"function"==typeof this._onMessageCallback&&this._onMessageCallback(t.data))},t.prototype._sendMessage=function(t,e){this._log("_sendMessage",t),this._iframe.contentWindow.postMessage(t,this._origin,e)},t.prototype._flushQueue=function(){if("ready"===this._status&&!this._sending){this._sending=!0;for(var t=void 0;void 0!==(t=this._queue.shift());)this._sendMessage(t);this._sending=!1}},t.prototype.send=function(t){this._queue.push(t),this._flushQueue()},t}();var Ai;function Ti(){return l()?window.location.protocol+"//"+window.location.host:(0,u.yv)()?"https://www.fandom.com":null}var ki=l()?500:1e4;function Ci(){if(!Ai){if(yn.getState().Config.disableCrossdomain)return j.debug("Cross domain connection disabled (on purpose)"),void yn.dispatch(Xr({status:"off",statusErrorMessage:"disabled"}));if(!Ti())return j.debug("Cross domain connection disabled"),void yn.dispatch(Xr({status:"off",statusErrorMessage:"incorrect-origin"}));j.debug("Initializing cross domain connection"),yn.dispatch(vn.startTimer("cross-domain-initialize")),Ai=new Pi(Ti(),(t=window.location.search,Sn(yn.getState())&&(t+=(t.length?"&":"?")+"cb="+Date.now()),Ti()+"/silver-surfer.html"+t),Di,{debug:yn.getState().Config.sendDebugLog,onIframeError:function(){yn.dispatch(vn.stopTimer({name:"cross-domain-initialize",sendMetrics:!1})),yn.dispatch(Xr({status:"off",statusErrorMessage:"iframe-error"}))}}),setTimeout((function(){yn.dispatch(vn.stopTimer({name:"cross-domain-initialize",sendMetrics:!1})),yn.dispatch(Xr({status:"off",statusErrorMessage:"timeout"}))}),ki)}var t}function Di(t){switch(t.type){case Ei:return yn.dispatch(vn.stopTimer({name:"cross-domain-initialize",sendMetrics:!0})),yn.dispatch(Xr({status:"ready"})),void j.debug("Cross domain connected");case"history:response-size":var e=t.payload;return yn.dispatch(en(e)),void j.debug("Cross domain sent storage size",e);case"history:response-interactions":var r=t.payload;return yn.dispatch(on(r)),j.debug("Cross domain sent history interactions",r),void Rn((function(){return function(t){return Mt(this,void 0,void 0,(function(){var e,r,n,o,i;return Nt(this,(function(a){switch(a.label){case 0:return Rt()?[4,Pt(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Lt()?[4,B(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)?j.debug("Local interactions updated from cross domain"):j.error("Failed to update local interactions"),[2,i]}}))}))}(r)}));case"history:response-pages":var n=t.payload;return yn.dispatch(rn(n)),j.debug("Cross domain sent history pages",n),void Rn((function(){return function(t){return Mt(this,void 0,void 0,(function(){var e,r,n,o,i;return Nt(this,(function(a){switch(a.label){case 0:return Rt()?[4,jt(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Lt()?[4,V(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)?j.debug("Local pages updated from cross domain"):j.error("Failed to update local pages"),[2,i]}}))}))}(n)}));case"history:response-actions":var o=t.payload;return yn.dispatch(nn(o)),j.debug("Cross domain sent history actions",o),void Rn((function(){return function(t){return Mt(this,void 0,void 0,(function(){var e,r,n,o,i;return Nt(this,(function(a){switch(a.label){case 0:return Rt()?[4,Ct(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Lt()?[4,$(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)?j.debug("Local actions updated from cross domain"):j.error("Failed to update local actions"),[2,i]}}))}))}(o)}));case"pageview:response":return yn.dispatch(vn.stopTimer({name:"cross-domain-pageview-roundtrip",sendMetrics:Sn(yn.getState())})),void j.debug("Cross domain pageview ack");case"add-action:response":return yn.dispatch(vn.stopTimer({name:"cross-domain-action-roundtrip",sendMetrics:Sn(yn.getState())})),void j.debug("Cross domain action ack");case"add-interaction:response":return yn.dispatch(vn.stopTimer({name:"cross-domain-interaction-roundtrip",sendMetrics:Sn(yn.getState())})),void j.debug("Cross domain interaction ack")}}function Mi(t){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return j.debug("New interaction",t),yn.dispatch(tn(t)),[4,Ht(t)];case 1:return e.sent(),function(t){Ai&&"ready"===Ai.status&&(j.debug("Sending cross domain interaction",t),yn.dispatch(vn.startTimer("cross-domain-interaction-roundtrip")),Ai.send(function(t){return ji("add-interaction:request",t)}(t)))}(t),[2]}}))}))}var Ni,Li,Ri=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},zi=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Bi=(Ni={eventCheck:function(){return jn(yn.getState())},intervalTime:100,maxWaitTime:5e3,onReject:function(){return An(yn.getState())},onResolve:function(){return An(yn.getState())}},Li=0,function(){return new Promise((function(t,e){var r=setInterval((function(){Ni.eventCheck()&&(clearInterval(r),t(null==Ni?void 0:Ni.onResolve())),Ni.intervalTime*Li>Ni.maxWaitTime&&(clearInterval(r),e(null==Ni?void 0:Ni.onReject())),Li++}),Ni.intervalTime)}))});function Ui(t){var e=function(t){return ir(_n,(function(e){return e.find((function(e){return e.token===t}))}))}(t)(yn.getState());if(!e)throw new Error("Incorrect token");return e}function Fi(t,e){return Ri(this,void 0,void 0,(function(){var r,n;return zi(this,(function(o){switch(o.label){case 0:return r=Ui(t),[4,Bi()];case 1:return n=o.sent().filter((function(t){return xi(t.client,r)})).map((function(t){return t.action})),"string"==typeof e&&e.length>0&&(n=n.filter((function(t){return t.type===e}))),[2,n]}}))}))}function Vi(t){return Ri(this,void 0,void 0,(function(){return zi(this,(function(e){switch(e.label){case 0:return l()||Ui(t),[4,Bi()];case 1:return[2,e.sent()]}}))}))}function Hi(t,e,r,n){return Ri(this,void 0,void 0,(function(){var o,i;return zi(this,(function(a){switch(a.label){case 0:return o=Ui(t),i={client:o,action:{time:Date.now(),name:e,type:r,payload:n}},j.debug("New action",i),yn.dispatch(Zr(i)),[4,Ft(i)];case 1:return a.sent(),u=i,Ai&&"ready"===Ai.status&&(j.debug("Sending cross domain action",u),yn.dispatch(vn.startTimer("cross-domain-action-roundtrip")),Ai.send(function(t){return ji("add-action:request",t)}(u))),[2]}var u}))}))}var Gi=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},$i=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Wi=r(8446),qi=r.n(Wi);function Ji(t,e,r){var n;function o(){var o=e(t.getState());qi()(o,n)||r(n=o)}var i=t.subscribe(o);return o(),i}var Ki=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},Yi=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Xi={getContext:wi,getRealtimeContext:io,registerClient:Oi,getLocalContext:mi,getUserProfile:oo,addInteraction:Mi,ACTION:Yn,addAction:Hi,getAllActions:Vi,getActions:Fi,getGalactusUserProfile:Vn,isInitialized:aa,getVersionHash:ua},Qi=Yn;function Zi(){return io()}function ta(t){return Oi(t)}function ea(t,e,r,n){return Hi(t,e,r,n)}function ra(t,e){return Fi(t,e)}function na(t){return Vi(t)}function oa(){return oo()}function ia(t){return Mi(t)}function aa(){return"ready"===yn.getState().App.state}function ua(){return f}function ca(t){return Vn(t||e())}function sa(){return wi()}function la(){return mi()}function fa(){return document.cookie.includes("ss_galactus_enabled")}function pa(){var t=Ji(yn,jn,(function(e){e&&(j.debug("Cross domain initialized:",xn(yn.getState()),On(yn.getState())),t(),function(){Gi(this,void 0,void 0,(function(){return $i(this,(function(t){return e=qr(kn(yn.getState())),Ai&&"ready"===Ai.status&&(j.debug("Tracking cross domain page",e),yn.dispatch(vn.startTimer("cross-domain-pageview-roundtrip")),Ai.send(ji("pageview:request",e))),[2];var e}))}))}(),Rn((function(){return function(t){var e=En(yn.getState()),r={version:f,crossDomain:e},n={crossDomain:e},o=mn(yn.getState(),"bootstrap");o&&!(null==o?void 0:o.isRunning)&&(n.bootTimer=o.time,r.bootTimer=dn(o.time));var i=kn(yn.getState());if(null==i?void 0:i.time){var a=Date.now()-i.time;n.bootTotalTimer=a,r.bootTotalTimer=dn(a)}var u=yn.getState().BrowserStorage.local.size,c=u.localStorageSize,s=u.indexedDBSize;if(n.currentDomainLocalStorage=c,n.currentDomainIndexedDB=s,n.countActions=An(yn.getState()).length,n.countPages=Pn(yn.getState()).length,r.currentDomainLocalStorage=fn(c),r.currentDomainIndexedDB=fn(s),r.countActions=pn(An(yn.getState()).length),r.countPages=pn(Pn(yn.getState()).length),e){var l=mn(yn.getState(),"cross-domain-initialize");l&&!(null==l?void 0:l.isRunning)&&(n.crossDomainBootTimer=l.time,r.crossDomainBootTimer=dn(l.time));var p=mn(yn.getState(),"cross-domain-pageview-roundtrip");p&&!(null==p?void 0:p.isRunning)&&(n.crossDomainRoundtripTimer=p.time,r.crossDomainRoundtripTimer=dn(p.time));var d=yn.getState().BrowserStorage.crossdomain.size,h=d.localStorageSize,v=d.indexedDBSize;n.crossDomainLocalStorage=h,n.crossDomainIndexedDB=v,r.crossDomainLocalStorage=fn(h),r.crossDomainIndexedDB=fn(v)}else n.crossDomainMessage=On(yn.getState()),r.crossDomainMessage=On(yn.getState());j.debug("Performance stats",n),t&&y("silver-surfer-performance",r)}(Sn(yn.getState()))})))}))}!function(){Ki(this,void 0,void 0,(function(){return Yi(this,(function(t){return"new"===yn.getState().App.state&&(j.debug("Booting...",f),yn.dispatch(vn.startTimer("bootstrap")),yn.dispatch(xr.starting()),function(){var t=this,e=Ji(yn,Dn,(function(r){return Ki(t,void 0,void 0,(function(){return Yi(this,(function(t){var n;return r&&(j.debug("Booted and ready"),e(),yn.dispatch(vn.stopTimer({name:"bootstrap",sendMetrics:!0})),yn.dispatch(xr.ready()),function(){Gi(this,void 0,void 0,(function(){var t,e;return $i(this,(function(r){switch(r.label){case 0:return t=kn(yn.getState()),e=qr(t),j.debug("Tracking local page",e),yn.dispatch(Qr(e)),[4,Bt(e)];case 1:return r.sent(),[2]}}))}))}(),oa(),(yn.getState().Config.sendTracking||fa())&&(fa()||((n=new Date).setMonth(n.getMonth()+12),document.cookie="ss_galactus_enabled=true;expires="+n+";domain=.fandom.com;path=/")),Rn(Ci)),[2]}))}))}))}(),pa(),yn.dispatch(vn.startTimer("initialize-context")),function(){var t=kr(Cr()),e="object"!=typeof(null===window||void 0===window?void 0:window._ulc)?gi:window._ulc;j.debug("Reading context from window",{plc:t,ulc:e}),yn.dispatch(Vr(t)),yn.dispatch(Fr(e))}(),Rn(bi),yn.dispatch(vn.stopTimer({name:"initialize-context",sendMetrics:Sn(yn.getState())})),function(){!function(t,e,r,n){new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e,r,n,o,i,a;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(u){switch(u.label){case 0:return t=Math.random()<.8,e=t?"indexeddb":"localstorage",yn.dispatch(vn.startTimer("initialize-load-history")),yn.dispatch(vn.startTimer("initialize-load-pages-"+e)),[4,Ut(t)];case 1:return r=u.sent(),yn.dispatch(vn.stopTimer({name:"initialize-load-pages-"+e,sendMetrics:Sn(yn.getState())})),yn.dispatch(vn.startTimer("initialize-load-actions-"+e)),[4,Vt(t)];case 2:return n=u.sent(),yn.dispatch(vn.stopTimer({name:"initialize-load-actions-"+e,sendMetrics:Sn(yn.getState())})),yn.dispatch(vn.startTimer("initialize-load-interactions-"+e)),[4,Gt(t)];case 3:return o=u.sent(),yn.dispatch(vn.stopTimer({name:"initialize-load-interactions-"+e,sendMetrics:Sn(yn.getState())})),i={interactions:o,actions:n,pages:r},j.debug("Read from local domain",i),yn.dispatch(vn.stopTimer({name:"initialize-load-history",sendMetrics:Sn(yn.getState())})),yn.dispatch(an(i)),[4,$t()];case 4:return a=u.sent(),yn.dispatch(un(a)),Mn({action:"loaded",event:"silversurfer-track-page",category:"silversurfer",pageEntry:qr(kn(yn.getState())),totalPagesTracked:r.length,totalPropertiesTracked:(c=r,c.reduce((function(t,e){return t+Object.keys(e).length}),0))}),[2]}var c}))}))}()),[2]}))}))}();const da=Xi})(),n})()}));