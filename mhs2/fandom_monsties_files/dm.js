/*! dm-script - 1.5.2 - Thu Jul 01 2021 21:30:13 GMT+0000 (Coordinated Universal Time) */!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=70)}([function(t,e,n){(function(e){var n="object",i=function(t){return t&&t.Math==Math&&t};t.exports=i(typeof globalThis==n&&globalThis)||i(typeof window==n&&window)||i(typeof self==n&&self)||i(typeof e==n&&e)||Function("return this")()}).call(this,n(28))},function(t,e,n){var i=n(2);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnitSlots=void 0;var i=n(80),r=n(60),o=function(){function t(t,e){this.c=t,this.log=e,this.slotsMap=new Map,this.slots=[]}return t.prototype.setSlots=function(){var e=this,n=this.c;return this.slotsMap=new Map,this.isVaas()&&(this.hasPublisherPrebidEnabled()&&this.slots.push(new i.AdSlot(t.PUBLISHER_PREBID_ID,n.rootGptSlot.getAdUnitPath())),this.hasPublisherDirectEnabled()&&this.slots.push(new i.AdSlot(t.PUB_DIRECT_DIV_ID,n.scriptConfig.gptTagPublisherDirect))),this.slots.push(new i.AdSlot(t.REGULAR_DIV_ID,n.unitConfig.gpt_name)),this.slots.push(new i.AdSlot(t.MIRROR_DIV_ID,n.unitConfig.gpt_name_mirror)),this.hasNobid()&&this.slots.push(new i.AdSlot(t.NOBID_DIV_ID,n.unitConfig.gpt_name_nobid||n.scriptConfig.gptTagNobid)),this.hasNobidMirror()&&this.slots.push(new i.AdSlot(t.NOBID_MIRROR_DIV_ID,n.unitConfig.gpt_name_nobid_mirror||n.scriptConfig.gptTagNobidMirror)),this.hasPublisherTag()&&this.slots.push(new i.AdSlot(t.PUB_DIV_ID,n.unitConfig.gpt_name_publisher||n.scriptConfig.gptTagPublisher)),this.slots.forEach((function(t){e.slotsMap.set(t.gptDiv,t)})),this},t.prototype.getSlot=function(t){return this.slotsMap.get(t)},t.prototype.isVaas=function(){return this.c.scriptConfig.isVaas},t.prototype.hasPublisherDirectEnabled=function(){return this.c.scriptConfig.gptTagPublisherDirectEnabled},t.prototype.hasPublisherPrebidEnabled=function(){return this.c.scriptConfig.publisherPrebidEnabled},t.prototype.hasDurationDemandEnabled=function(){return this.c.scriptConfig.durationDemandEnabled},t.prototype.hasNobid=function(){return this.c.unitConfig.gpt_name_nobid||this.c.scriptConfig.gptTagNobid},t.prototype.hasNobidMirror=function(){return this.c.unitConfig.gpt_name_nobid_mirror||this.c.scriptConfig.gptTagNobidMirror},t.prototype.hasPublisherTag=function(){return r.ScriptConfig.isFandom(this.c.scriptConfig)?(this.c.unitConfig.gpt_name_publisher="/5441/duration/"+this.c.rootGptSlot.getSlotElementId(),this.isPublisherTagConfiguredForFandom()):this.c.unitConfig.gpt_name_publisher||this.c.scriptConfig.gptTagPublisher},t.prototype.isPublisherTagConfiguredForFandom=function(){var t=this.c.rootWnd,e=null;try{e=t.Wikia.geo||t.Wikia.adEngine.utils.geoService}catch(t){}if(e){if(this.log.debug("fandom publisher tag country code "+e.getCountryCode()),e.getCountryCode().match(/CA|US|GB/))return this.log.debug("fandom publisher tag is allowed in country code "+e.getCountryCode()),!0}else this.log.debug("fandom publisher tag geo service not configured");return this.log.debug("fandom publisher tag is not allowed"),!1},t.REGULAR_DIV_ID="regular",t.MIRROR_DIV_ID="regular-mirror",t.NOBID_DIV_ID="nobid",t.NOBID_MIRROR_DIV_ID="nobid-mirror",t.PUBLISHER_PREBID_ID="pub-prebid",t.PUB_DIV_ID="pub",t.PUB_DIRECT_DIV_ID="pub-direct",t}();e.UnitSlots=o},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(1),r=n(19),o=n(14);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogEventLabels=e.LogEventContext=e.LogEvent=void 0,function(t){t.SCRIPT_LOADED="SCRIPT_LOADED",t.SLOT_DETECTED="SLOT_DETECTED",t.SLOT_SPONSORSHIP_CHECK="SLOT_SPONSORSHIP_CHECK",t.IP_BLOCKED="IP_BLOCKED",t.IP_ALLOWED="IP_ALLOWED",t.SLOT_OVERTAKE_ELIGIBLE="SLOT_OVERTAKE_ELIGIBLE",t.SLOT_OVERTAKE_FAILED_NO_UNIT="SLOT_OVERTAKE_FAILED_NO_UNIT",t.SLOT_OVERTAKE_FAILED_SPONSORED="SLOT_OVERTAKE_FAILED_SPONSORED",t.SLOT_OVERTAKE_FAILED_GPT_BLACKLISTED="SLOT_OVERTAKE_FAILED_GPT_BLACKLISTED",t.SLOT_OVERTAKE_FAILED_DIV_BLACKLISTED="SLOT_OVERTAKE_FAILED_DIV_BLACKLISTED",t.SLOT_OVERTAKE="SLOT_OVERTAKE",t.UNIT_AD_REQUEST="UNIT_AD_REQUEST",t.UNIT_BID_RECEIVED="UNIT_BID_RECEIVED",t.UNIT_CREATIVE_RENDERED="UNIT_CREATIVE_RENDERED",t.UNIT_CREATIVE_VIEWABLE="UNIT_CREATIVE_VIEWABLE",t.UNIT_NO_FILL="UNIT_NO_FILL",t.UNIT_NO_BIDS="UNIT_NO_BIDS",t.UNIT_SEQ="UNIT_SEQ",t.UNIT_SEQ_SKIP="UNIT_SEQ_SKIP",t.SERVER_ERROR="SERVER_ERROR",t.DEBUG="DEBUG"}(e.LogEvent||(e.LogEvent={}));var i=function(){function t(){}return t.fromSlotDetails=function(e){var n=new t;return n.adWidth=e.size.width,n.adHeight=e.size.height,n.lid=e.lid,n.slotId=e.elementId,n},t.fromUnitContext=function(e,n){var i=new t;return i.slotId=e.rootGptDivId,i.adWidth=e.unitConfig.ad_width,i.adHeight=e.unitConfig.ad_height,i.unitId=e.unitConfig.placement_id,n&&Object.assign(i,n),i},t}();e.LogEventContext=i,e.LogEventLabels={SCRIPT_LOADED:"Script Loaded",SLOT_DETECTED:"Slot Detected",SLOT_SPONSORSHIP_CHECK:"Sponsorship Check",IP_BLOCKED:"IP Blocked",IP_ALLOWED:"IP Allowed",SLOT_OVERTAKE_ELIGIBLE:"Slot Eligible",SLOT_OVERTAKE_FAILED_NO_UNIT:"Size not supported",SLOT_OVERTAKE_FAILED_SPONSORED:"Slot Sponsored",SLOT_OVERTAKE:"Slot Overtake",UNIT_AD_REQUEST:"Ad Request",UNIT_BID_RECEIVED:"Bid Received",UNIT_CREATIVE_RENDERED:"Filled",UNIT_CREATIVE_VIEWABLE:"Creative Viewable",UNIT_NO_FILL:"No Fill",UNIT_NO_BIDS:"No Bids (prebid auction)",UNIT_SEQ:"sequence",SERVER_ERROR:"Server Error",DEBUG:"Debug"}},function(t,e,n){var i=n(15),r=n(16);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(0),r=n(10),o=n(39),s=i["__core-js_shared__"]||r("__core-js_shared__",{});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(0),r=n(6);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUUID=e.Utils=void 0;var i=function(){function t(){}return t.attachEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!0):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},t.genUid=function(){return o()},t.genGuid=function(){return[r(2),r(1),r(1),r(1),r(3)].join("-")},t.loadScriptInDom=function(t,e,n){var i=t.createElement("script");i.async=Boolean(n),i.type="text/javascript",i.src=e,(t.head||t.body||t.documentElement).appendChild(i)},t.getVisibilityTime=function(t){return t?(i=~~((e=t/1e3)%3600/60),o="",(n=~~(e/3600))>0&&(o+=n+":"+(i<10?"0":"")),o+=(i<10?"0"+i:i)+":"+((r=~~e%60)<10?"0":""),o+=""+r):"00:00";var e,n,i,r,o},t}();function r(t){var e,n;for(e="",n=0;0<=t?n<=t:n>=t;0<=t?++n:--n)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e}function o(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,o)}e.Utils=i,e.generateUUID=o},function(t,e,n){var i=n(1),r=n(13),o=n(14),s=n(8),a=n(17),c=n(3),u=n(18),d=Object.getOwnPropertyDescriptor;e.f=i?d:function(t,e){if(t=s(t),e=a(e,!0),u)try{return d(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(2),r=n(36),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(1),r=n(2),o=n(37);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(1),r=n(18),o=n(20),s=n(17),a=Object.defineProperty;e.f=i?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(5);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(9);t.exports=i("native-function-to-string",Function.toString)},function(t,e){t.exports={}},function(t,e,n){t.exports=n(0)},function(t,e,n){var i=n(3),r=n(8),o=n(48).indexOf,s=n(22);t.exports=function(t,e){var n,a=r(t),c=0,u=[];for(n in a)!i(s,n)&&i(a,n)&&u.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var r=n(30),o=n(74),s=function(){function t(){}return t.getInstance=function(e){var n=(e=e||window).dm_logger;return n||((n=new t).wnd=e,e.dm_logger=n),n.enabled=this.isConsoleDebug(e),this.isFullDebug(e)&&!n.loggerScreen&&(n.loggerScreen=new o.LoggerScreen(e)),n.server=new r.ServerService,n},t.isFullDebug=function(t){return-1!==t.location.href.indexOf("dm_debug")},t.isConsoleDebug=function(t){return-1!==t.location.href.indexOf("dmjs_debug")||this.isFullDebug(t)},t.prototype.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.enabled&&console.error.apply(console,i(["dm:: error "+t],e))},t.prototype.debug=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.enabled&&console.log.apply(console,i(["dm:: "+t],e))},t.prototype.event=function(t,e,n){if(this.debug("%c"+t+" %c"+(e?":: "+JSON.stringify(e):"")+" "+(n?":: "+n:""),"color: blue","color: black"),this.loggerScreen)try{this.loggerScreen.onLogEvent(t,e)}catch(t){}},t}();e.Logger=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptLogType=e.ServerService=void 0;var i=n(73),r=function(){function t(){this.url="https://be.durationmedia.net"}return t.prototype.checkSlots=function(t){return i.post(this.url+"/sponsorships",t).then((function(t){return t.parsedBody}))},t.prototype.scriptLoaded=function(t){return i.get(this.url+"/scriptloaded?siteId="+t).then((function(t){return t})).catch((function(t){return t}))},t.prototype.logBulk=function(t,e,n){i.get(this.url+"/lb?s="+t+"&t="+e+(n?"&c="+n:"")).then((function(t){return{}})).catch((function(t){return{}}))},t.prototype.logAuction=function(t){i.post(this.url+"/la",t).then((function(t){return{}})).catch((function(t){return{}}))},t}();e.ServerService=r,function(t){t.SL="SL",t.SD="SD"}(e.ScriptLogType||(e.ScriptLogType={}))},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n,i){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),s=new T(i||[]);return o._invoke=function(t,e,n){var i=d;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw o;return R()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=u(t,e,n);if("normal"===c.type){if(i=n.done?h:l,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=h,n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",p="executing",h="completed",f={};function g(){}function _(){}function v(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(O([])));y&&y!==n&&i.call(y,o)&&(m=y);var S=v.prototype=g.prototype=Object.create(m);function I(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){var e;this._invoke=function(n,r){function o(){return new Promise((function(e,o){!function e(n,r,o,s){var a=u(t[n],t,r);if("throw"!==a.type){var c=a.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?Promise.resolve(d.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}(n,r,e,o)}))}return e=e?e.then(o,o):o()}}function w(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:e,done:!0}}return _.prototype=S.constructor=v,v.constructor=_,v[a]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},I(E.prototype),E.prototype[s]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,i,r){var o=new E(c(e,n,i,r));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},I(S),S[a]="Generator",S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){t.exports=n(33)},function(t,e,n){n(34);var i=n(23);t.exports=i.Object.assign},function(t,e,n){var i=n(35),r=n(52);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){var i=n(0),r=n(12).f,o=n(6),s=n(38),a=n(10),c=n(44),u=n(51);t.exports=function(t,e){var n,d,l,p,h,f=t.target,g=t.global,_=t.stat;if(n=g?i:_?i[f]||a(f,{}):(i[f]||{}).prototype)for(d in e){if(p=e[d],l=t.noTargetGet?(h=r(n,d))&&h.value:n[d],!u(g?d:f+(_?".":"#")+d,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),s(n,d,p,t)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(0),r=n(5),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var i=n(0),r=n(9),o=n(6),s=n(3),a=n(10),c=n(21),u=n(40),d=u.get,l=u.enforce,p=String(c).split("toString");r("inspectSource",(function(t){return c.call(t)})),(t.exports=function(t,e,n,r){var c=!!r&&!!r.unsafe,u=!!r&&!!r.enumerable,d=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||o(n,"name",e),l(n).source=p.join("string"==typeof e?e:"")),t!==i?(c?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||c.call(this)}))},function(t,e){t.exports=!1},function(t,e,n){var i,r,o,s=n(41),a=n(0),c=n(5),u=n(6),d=n(3),l=n(42),p=n(22),h=a.WeakMap;if(s){var f=new h,g=f.get,_=f.has,v=f.set;i=function(t,e){return v.call(f,t,e),e},r=function(t){return g.call(f,t)||{}},o=function(t){return _.call(f,t)}}else{var m=l("state");p[m]=!0,i=function(t,e){return u(t,m,e),e},r=function(t){return d(t,m)?t[m]:{}},o=function(t){return d(t,m)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(0),r=n(21),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,n){var i=n(9),r=n(43),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e,n){var i=n(3),r=n(45),o=n(12),s=n(19);t.exports=function(t,e){for(var n=r(e),a=s.f,c=o.f,u=0;u<n.length;u++){var d=n[u];i(t,d)||a(t,d,c(e,d))}}},function(t,e,n){var i=n(46),r=n(47),o=n(27),s=n(20);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(23),r=n(0),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){var i=n(24),r=n(26).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(8),r=n(49),o=n(50),s=function(t){return function(e,n,s){var a,c=i(e),u=r(c.length),d=o(s,u);if(t&&n!=n){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((t||d in c)&&c[d]===n)return t||d||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var i=n(25),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(25),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e,n){var i=n(2),r=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?i(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var i=n(1),r=n(2),o=n(53),s=n(27),a=n(13),c=n(54),u=n(15),d=Object.assign;t.exports=!d||r((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=d({},t)[n]||"abcdefghijklmnopqrst"!=o(d({},e)).join("")}))?function(t,e){for(var n=c(t),r=arguments.length,d=1,l=s.f,p=a.f;r>d;)for(var h,f=u(arguments[d++]),g=l?o(f).concat(l(f)):o(f),_=g.length,v=0;_>v;)h=g[v++],i&&!p.call(f,h)||(n[h]=f[h]);return n}:d},function(t,e,n){var i=n(24),r=n(26);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(16);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicSupportSeq=void 0;var i=function(){function t(t,e,n,i){this.gptService=t,this.view=e,this.slot=n,this.blacklistCreativeIds=i}return t.prototype.onEvent=function(t){var e=t.isEmpty||this.blacklistCreativeIds.includes(t.creativeId);return e&&this.view.cleanSlot(t.slot.getSlotElementId()),!e},t.prototype.getSlot=function(){return this.slot},t.prototype.clean=function(){this.view.cleanSlot(this.slot.gptDiv)},t.prototype.show=function(){this.view.showSlot(this.slot.gptDiv)},t.prototype.invoke=function(){this.gptService.refresh(this.getSlot().gptDiv)},t.prototype.hasMirror=function(){return!1},t.prototype.hide=function(){this.view.hideSlot(this.slot.gptDiv)},t.prototype.getId=function(){return"basic"},t}();e.BasicSupportSeq=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PublisherSeq=void 0;var o=n(55),s=n(4),a=function(t){function e(e,n,i){var r=t.call(this,n,i,e.unitSlots.slotsMap.get(s.UnitSlots.PUB_DIV_ID),[])||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return e.ID},e.ID="pub-passback",e}(o.BasicSupportSeq);e.PublisherSeq=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityService=void 0;var i=n(58),r=n(59),o=n(11),s=function(){function t(t,e,n){var i=this;void 0===e&&(e=0),void 0===n&&(n=0),this.lastStateMap=new Map,this.requiredVisibilityPercentage=e,this.doc=t.document,this.windowDocumentIsFocused=!0,o.Utils.attachEvent(t,"visibilitychange",(function(){return i.windowDocumentIsFocused=!t.document.hidden})),this.requiredVisibilityMs=n}return t.of=function(e){return new t(e,50,0)},t.prototype.calc=function(t){var e=this.getLastKnownVisibility(t),n=this.getCurrentVisibility(t),i=n.timestamp-e.timestamp;return n.visible&&(n.duration=e.duration+i),n.visibleByThreshold=n.percentVisible>this.requiredVisibilityPercentage&&n.duration>this.requiredVisibilityMs,n.visibleByThresholdDuration=e.visibleByThresholdDuration,n.visibleDuration=e.visibleDuration,n.visibleByThreshold&&(n.visibleByThresholdDuration+=i),n.visible&&(n.visibleDuration+=i),e.visibleByThreshold&&!n.visibleByThreshold&&(n.changedInvisibleByThreshold=!0),!e.visibleByThreshold&&n.visibleByThreshold&&(n.changedVisibleByThreshold=!0),n.detectedAt=e.detectedAt,this.lastStateMap.set(t,n),n},t.prototype.getLastKnownVisibility=function(t){return this.lastStateMap.get(t)||r.VisibilityDetails.invisible(t)},t.prototype.getCurrentVisibility=function(t){var e,n=this.doc.getElementById(t);return null==n?r.VisibilityDetails.invisible(t):((e=this.windowDocumentIsFocused?r.VisibilityDetails.fromVisibility(t,i.VisibilityUtils.getVisibility(this.doc,n)):r.VisibilityDetails.invisible(t)).timestamp=(new Date).getTime(),e)},t}();e.VisibilityService=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityUtils=void 0;var i=n(59),r=function(){function t(){}return t.getVisibility=function(t,e){var n=this.getElementCoordinates(t,e);return n&&this.isRectVisible(n.w,n.h)?this.intersectWithViewport(n.x,n.y,n.w,n.h,t):null},t.getElementCoordinates=function(t,e){var n=t.defaultView.getComputedStyle(e);if("visible"!==n.visibility)return null;var i=e.getBoundingClientRect();if(!this.isRectVisible(i.width,i.height))return null;parseFloat(n.paddingLeft),parseFloat(n.paddingTop),parseFloat(n.paddingBottom),parseFloat(n.paddingRight),parseFloat(n.borderLeftWidth),parseFloat(n.borderTopWidth);var r=e.clientWidth,o=e.clientHeight;return{x:i.left,y:i.top,w:r,h:o}},t.isRectVisible=function(t,e){return t>0||e>0},t.intersectWithViewport=function(t,e,n,r,o){var s=o.documentElement.clientWidth,a=Math.max(o.documentElement.clientHeight,window.innerHeight||0),c=Math.max(0,t),u=Math.max(0,e),d=Math.min(s,t+n)-c,l=Math.min(a,e+r)-u,p=d>=0&&l>=0;return p?i.Visibility.from(p,d*l*100/(n*r)):new i.Visibility},t}();e.VisibilityUtils=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityDetails=e.Visibility=void 0;var o=function(){function t(){}return t.from=function(e,n){var i=new t;return i.visible=e,i.percentVisible=n,i},t}();e.Visibility=o;var s=function(t){function e(){var e=t.call(this)||this;return e.duration=0,e.visibleByThresholdDuration=0,e.visibleDuration=0,e.detectedAt=(new Date).getTime(),e}return r(e,t),e.fromVisibility=function(t,n){var i=new e;return Object.assign(i,{id:t},n),i.timestamp=(new Date).getTime(),i},e.invisible=function(t){return this.fromVisibility(t,o.from(!1,0))},e}(o);e.VisibilityDetails=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptConfig=void 0;var i=n(61),r=n(62),o=[i.BidSequenceItemType.PUBLISHER_PREBID,i.BidSequenceItemType.PUBLISHER_DIRECT,i.BidSequenceItemType.DURATION_DEMAND],s=function(){function t(){this.bidSequenceItemOrder=o}return t.parse=function(){var t={siteId:"10651",siteUrl:"fandom.com",cdnUrl:"https://tag.durationmedia.net",pixelDelivery:!0,gptTagNobid:"/64387298/durationmedia2/fandom-2fandom-2",gptTagNobidMirror:"/64387298/durationmedia/fandom-2fandom-2",gptDivNobid:"div-gpt-ad-6312308410215-0",customCss:".dm-gpt{margin-left:auto !important; margin-right: auto !important}",allowsBlanks:!1,confiantWrapperId:"PL3WMz1z_zgrWtgVkCrXdmn_IOc",bidTimeout:2e3,adLoadTimeoutSec:5,sellerId:"22030902707",analyticsEnabled:!1,gptTagPublisherDirect:"",gptTagPublisherDirectEnabled:!1,publisherPrebidEnabled:!1,publisherPrebidWrapper:"NONE",durationDemandEnabled:!1,bidSequenceItemOrder:["PUBLISHER_PREBID","PUBLISHER_DIRECT","DURATION_DEMAND"],refreshCaps:[{refreshRate:30,maxRefresh:200,overtakeDelaySec:30,overtakeVisibilityDelaySec:6,type:"DEFAULT"}],units:[{placement_id:"16412",ad_width:970,ad_height:66,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16412-970x66-pixel&sz=1x1&t=&c=5385956592",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16412-970x66",gpt_name_mirror:"/21688424927/fandom2/fandom-16412-970x66-mirror",openx_id:"541125828",pubmatic_id:"2930658",index_id:"517554",nobid_site_id:"22033510717",smartadserver_page_id:"1247382",smartadserver_site_id:"323326",smartadserver_format_id:"81137",pulsepoint_cp:"562429",pulsepoint_ct:"720744",pulsepoint_cf:"970X66"},{placement_id:"16407",ad_width:160,ad_height:600,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16407-160x600-pixel&sz=1x1&t=&c=5386681360",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16407-160x600",gpt_name_mirror:"/21688424927/fandom2/fandom-16407-160x600-mirror",openx_id:"541125807",pubmatic_id:"2930653",index_id:"517547",nobid_site_id:"22033510717",smartadserver_page_id:"1247377",smartadserver_site_id:"323326",smartadserver_format_id:"81140",nanointeractive_id:"5f845d6c0ae89951060ddfb2",pulsepoint_cp:"562429",pulsepoint_ct:"720736",pulsepoint_cf:"160X600"},{placement_id:"16414",ad_width:320,ad_height:100,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16414-320x100-pixel&sz=1x1&t=&c=5387064923",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16414-320x100",gpt_name_mirror:"/21688424927/fandom2/fandom-16414-320x100-mirror",openx_id:"541125837",pubmatic_id:"2930660",index_id:"517550",nobid_site_id:"22033510717",smartadserver_page_id:"1247384",smartadserver_site_id:"323326",smartadserver_format_id:"81143",pulsepoint_cp:"562429",pulsepoint_ct:"720740",pulsepoint_cf:"320X100"},{placement_id:"16408",ad_width:728,ad_height:90,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16408-728x90-pixel&sz=1x1&t=&c=5385955668",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16408-728x90",gpt_name_mirror:"/21688424927/fandom2/fandom-16408-728x90-mirror",openx_id:"541125812",pubmatic_id:"2930654",index_id:"517552",nobid_site_id:"22033510717",smartadserver_page_id:"1247378",smartadserver_site_id:"323326",smartadserver_format_id:"81134",nanointeractive_id:"5f845d7d0ae89950b2555cf2",pulsepoint_cp:"562429",pulsepoint_ct:"720742",pulsepoint_cf:"728X90"},{placement_id:"16406",ad_width:300,ad_height:600,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16406-300x600-pixel&sz=1x1&t=&c=5386681183",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16406-300x600",gpt_name_mirror:"/21688424927/fandom2/fandom-16406-300x600-mirror",openx_id:"541125804",pubmatic_id:"2930652",index_id:"554515",nobid_site_id:"22033510717",smartadserver_page_id:"1247376",smartadserver_site_id:"323326",smartadserver_format_id:"81139",nanointeractive_id:"5f845d920ae899510d541e12",pulsepoint_cp:"562429",pulsepoint_ct:"720739",pulsepoint_cf:"300X600"},{placement_id:"16410",ad_width:970,ad_height:250,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16410-970x250-pixel&sz=1x1&t=&c=5385955887",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16410-970x250",gpt_name_mirror:"/21688424927/fandom2/fandom-16410-970x250-mirror",openx_id:"541125820",pubmatic_id:"2930656",index_id:"517553",nobid_site_id:"22033510717",smartadserver_page_id:"1247380",smartadserver_site_id:"323326",smartadserver_format_id:"81135",nanointeractive_id:"5f845d9e0ae89951060ddfb3",pulsepoint_cp:"562429",pulsepoint_ct:"720743",pulsepoint_cf:"970X250"},{placement_id:"16413",ad_width:300,ad_height:50,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16413-300x50-pixel&sz=1x1&t=&c=5385956784",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16413-300x50",gpt_name_mirror:"/21688424927/fandom2/fandom-16413-300x50-mirror",openx_id:"541125832",pubmatic_id:"2930659",index_id:"614247",nobid_site_id:"22033510717",smartadserver_page_id:"1247383",smartadserver_site_id:"323326",smartadserver_format_id:"81144",nanointeractive_id:"5f845da90ae89950b2555cf3",pulsepoint_cp:"562429",pulsepoint_ct:"720738",pulsepoint_cf:"300X50"},{placement_id:"16411",ad_width:970,ad_height:90,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16411-970x90-pixel&sz=1x1&t=&c=5385956394",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16411-970x90",gpt_name_mirror:"/21688424927/fandom2/fandom-16411-970x90-mirror",openx_id:"541125825",pubmatic_id:"2930657",index_id:"517555",nobid_site_id:"22033510717",smartadserver_page_id:"1247381",smartadserver_site_id:"323326",smartadserver_format_id:"81136",pulsepoint_cp:"562429",pulsepoint_ct:"720745",pulsepoint_cf:"970X90"},{placement_id:"16405",ad_width:300,ad_height:250,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16405-300x250-pixel&sz=1x1&t=&c=5386681099",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16405-300x250",gpt_name_mirror:"/21688424927/fandom2/fandom-16405-300x250-mirror",openx_id:"541125800",pubmatic_id:"2930651",index_id:"554514",nobid_site_id:"22033510717",smartadserver_page_id:"1247375",smartadserver_site_id:"323326",smartadserver_format_id:"81138",nanointeractive_id:"5f845dbf0ae89951060ddfb4",pulsepoint_cp:"562429",pulsepoint_ct:"720737",pulsepoint_cf:"300X250"},{placement_id:"16409",ad_width:320,ad_height:50,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927/fandom2/fandom-16409-320x50-pixel&sz=1x1&t=&c=5386681615",maxRefresh:25,gpt_name:"/21688424927/fandom2/fandom-16409-320x50",gpt_name_mirror:"/21688424927/fandom2/fandom-16409-320x50-mirror",openx_id:"541125816",pubmatic_id:"2930655",index_id:"517551",nobid_site_id:"22033510717",smartadserver_page_id:"1247379",smartadserver_site_id:"323326",smartadserver_format_id:"81142",nanointeractive_id:"5f845ded0ae89950ab586412",pulsepoint_cp:"562429",pulsepoint_ct:"720741",pulsepoint_cf:"320X50"}],isVaas:!1};return t.bidTimeout=t.bidTimeout||2e3,t.adLoadTimeoutSec=t.adLoadTimeoutSec||5,t.cdnUrl=t.cdnUrl||"https://tag.durationmedia.net",t.bidSequenceItemOrder=this.getValidBidSequenceItemOrder(t.bidSequenceItemOrder),t.publisherPrebidWrapper=this.getValidPrebidWrapper(t.publisherPrebidWrapper),t&&(t.confiantWrapperId=t.confiantWrapperId||"",t.units.forEach((function(t){t.rubicon_siteid=t.rubicon_siteid||"",t.rubicon_zoneid=t.rubicon_zoneid||"",t.smartadserver_page_id=t.smartadserver_page_id||"",t.smartadserver_site_id=t.smartadserver_site_id||"",t.smartadserver_format_id=t.smartadserver_format_id||"",t.pubmatic_id=t.pubmatic_id||"",t.openx_id=t.openx_id||"",t.nobid_site_id=t.nobid_site_id||"",t.nobid_format_id=t.nobid_format_id||"",t.brealtime_id=t.brealtime_id||"",t.appnexus_id=t.appnexus_id||"",t.districtm_id=t.districtm_id||"",t.emx_id=t.emx_id||"",t.ttacross_id=t.ttacross_id||"",t.rhythmone_id=t.rhythmone_id||"",t.sonobi_id=t.sonobi_id||"",t.aol_id=t.aol_id||"",t.nanointeractive_id=t.nanointeractive_id||"",t.grid_id=t.grid_id||"",t.index_id=t.index_id||"",t.sovrn_id=t.sovrn_id||"",t.pulsepoint_cf=t.pulsepoint_cf||"",t.pulsepoint_cp=t.pulsepoint_cp||"",t.pulsepoint_ct=t.pulsepoint_ct||""}))),t},t.getValidBidSequenceItemOrder=function(t){var e=Object.values(i.BidSequenceItemType);if((null==t?void 0:t.length)!==e.length)return o;var n=t.filter((function(t){return e.includes(t)}));return new Set(n).size!=t.length?o:t},t.getValidPrebidWrapper=function(t){return Object.values(r.PrebidWrapper).includes(t)?t:r.PrebidWrapper.NONE},t.isFandom=function(t){return"10651"===t.siteId},t}();e.ScriptConfig=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BidSequenceItemType=void 0,function(t){t.PUBLISHER_PREBID="PUBLISHER_PREBID",t.PUBLISHER_DIRECT="PUBLISHER_DIRECT",t.DURATION_DEMAND="DURATION_DEMAND"}(e.BidSequenceItemType||(e.BidSequenceItemType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidWrapper=void 0,function(t){t.NONE="NONE",t.OPEN_WRAP="OPEN_WRAP"}(e.PrebidWrapper||(e.PrebidWrapper={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegularTagSeq=void 0;var o=n(84),s=n(4),a=[138292862481,138292862550,138292862613,138292862742,138292862916,138292912478,138292912736,138292912802,138292913147,138292913528,138292913702,138293178967,138293179594],c=[138242230467,138242237120,138242231427,138242402299],u=function(t){function e(e,n,i,r){var o=t.call(this,n,i,r,e.unitSlots.slotsMap.get(s.UnitSlots.REGULAR_DIV_ID),e.unitSlots.slotsMap.get(s.UnitSlots.MIRROR_DIV_ID),a.concat(c))||this;return o.c=e,o}return r(e,t),e.prototype.getId=function(){return e.ID},e.ID="dm-gam",e}(o.MirrorSupportPrebidSeq);e.RegularTagSeq=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorSupportSeq=void 0;var i=function(){function t(t,e,n,i,r){this.gptService=t,this.view=e,this.regularSlot=n,this.mirrorSlot=i,this.blacklistCreativeIds=r}return t.prototype.onEvent=function(t){var e=!(t.isEmpty||this.blacklistCreativeIds.includes(t.creativeId)),n=t.slot.getSlotElementId();return this.regularSlot.gptDiv!=n&&this.mirrorSlot.gptDiv!==n?(console.error("Invalid slot rendered"),!1):(e?(this.currentFilledSlot=n===this.regularSlot.gptDiv?this.regularSlot:this.mirrorSlot,this.view.cleanSlot(this.getNextSlot().gptDiv)):this.view.cleanSlot(n),e)},t.prototype.getSlot=function(){return this.currentFilledSlot||this.regularSlot},t.prototype.getNextSlot=function(){return this.currentFilledSlot&&this.currentFilledSlot!==this.mirrorSlot?this.mirrorSlot:this.regularSlot},t.prototype.invoke=function(){var t=this.getNextSlot(),e=this.gptService.getSlot(t.gptDiv);this.invokeSlot(e)},t.prototype.clean=function(){this.view.cleanSlot(this.currentFilledSlot.gptDiv)},t.prototype.show=function(){this.view.showSlot(this.currentFilledSlot.gptDiv)},t.prototype.hide=function(){this.view.hideSlot(this.regularSlot.gptDiv),this.view.hideSlot(this.mirrorSlot.gptDiv)},t.prototype.hasMirror=function(){return!0},t.prototype.getId=function(){return"regular"},t}();e.MirrorSupportSeq=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NobidSeq=e.NobidMirrorSeq=void 0;var o=n(55),s=n(64),a=n(4),c=function(t){function e(e,n,i){var r=t.call(this,n,i,e.unitSlots.getSlot(a.UnitSlots.NOBID_DIV_ID),e.unitSlots.getSlot(a.UnitSlots.NOBID_MIRROR_DIV_ID),d)||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return e.ID},e.prototype.invokeSlot=function(t){this.gptService.refresh(t.getSlotElementId())},e.ID="nobid",e}(s.MirrorSupportSeq);e.NobidMirrorSeq=c;var u=function(t){function e(e,n,i){var r=t.call(this,n,i,e.unitSlots.slotsMap.get(a.UnitSlots.NOBID_DIV_ID),d)||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return"nobid"},e}(o.BasicSupportSeq);e.NobidSeq=u;var d=[138298992027,138298992075,138298992384,138298992699,138298992729,138298992918,138299003273,138299003837,138299003888,138299004002,138299346835,138299346871,138299347501].concat([138305227670,138305227661,138305187606,138305187519,138305582710,138305187489,138305187924,138305187783,138305187459,138305583487,138305583358,138305227601,138305187501]).concat([138312151104,138312521902,138312126089,138312518545,138312521905,138312151107,138312521908,138312125678,138312125738,138312521911,138312521914,138312521917,138312125585,138312125618,138312521920,138312151110,138312521923,138312125687,138312125744,138312521926,138312151113,138312521929,138312125963,138312126110,138312521527,138312521932,138312521935,138312125969,138312126113,138312151116,138312151122,138312521938,138312125627,138312125975,138312521941,138312521950,138312521962,138312125984,138312126119,138312521968,138312151131,138312521977,138312125693,138312125753,138312521983,138312521989,138312521992,138312125594,138312126122,138312521545,138305583487,138312521998,138312522001,138312125699,138312125756,138312151152,138312128660,138312521560,138312125993,138312126128,138312128666,138312128669,138312128675,138312125759,138312125999,138312128678,138312203496,138312574813,138312574837,138312203499,138312574816,138312574840]).concat([138313341914,138313757416,138313341920,138313361442,138313361445,138313361448,138313757419,138313757422,138313757425,138313342112,138313342622,138313342283,138313342625,138313342628,138313342631,138313342334,138313757608,138313342343,138313342349,138313342733,138313342742,138313757623,138313757626,138313757635]).concat([138353210435,138353212580,138353212715,138353212745,138353213186,138353241471,138353241894,138353242299,138353242743,138353242953,138353591701,138353592109,138353593426])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuctionEndPayload=e.BidItem=e.AuctionLogRequest=e.AuctionLogger=void 0;var i=n(30),r=n(67),o=n(7),s=function(){function t(t,e){this.c=t,this.log=e,this.alr=new a,this.alr.unitId=this.c.unitConfig.placement_id,this.alr.siteId=this.c.scriptConfig.siteId,this.alr.url=this.c.scriptConfig.siteUrl,this.alr.sellerId=this.c.scriptConfig.sellerId,this.alr.sessionId=this.c.firstIframeElementId,this.alr.rfshCnt=0}return t.prototype.initAuction=function(){this.alr.viewability=this.c.visibilityService.calc(this.c.rootGptDivId).percentVisible,this.alr.winningBids=[],this.alr.bids=[],this.alr.filled=!1,this.alr.rfshCnt+=1,this.dirty=!0},t.prototype.handle=function(t,e,n){if("on"===t&&"auctionEnd"===e){var i=n;this.alr.auctionId=i.auctionId,this.alr.bids=i.bidsReceived?i.bidsReceived.map((function(t){return{bidderCode:t.bidderCode,cpm:t.cpm}})):[],this.alr.winningBids=i.winningBids?i.winningBids.map((function(t){return{bidderCode:t.bidderCode,cpm:t.cpm}})):[]}},t.prototype.flush=function(){this.c.scriptConfig.analyticsEnabled&&(new i.ServerService).logAuction(this.alr),this.dirty=!1},t.prototype.isDirty=function(){return this.dirty},t.prototype.onSlotRendered=function(t,e){if(e)if(r.GamUtils.isAdxFilled(t))this.alr.winningBids.push({bidderCode:"adx"});else{if(!this.alr.bids.length)return;var n=this.alr.bids.reduce((function(t,e){return t.cpm>e.cpm?t:e}));n&&(this.alr.winningBids=[n])}this.alr.filled=e},t.prototype.logBidResponses=function(t){var e=[];if(Object.keys(t).length)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].bids;if(i.length)for(var r=0;r<i.length;r++){var s=i[r];e.push({adunit:n,adId:s.adId,bidder:s.bidder,time:s.timeToRespond,cpm:s.cpm,msg:s.statusMessage}),this.log.event(o.LogEvent.UNIT_BID_RECEIVED,o.LogEventContext.fromUnitContext(this.c,{bidder:s.bidder,cpm:s.cpm}))}else this.log.event(o.LogEvent.UNIT_NO_BIDS,{slotId:this.c.rootGptDivId})}else this.log.event(o.LogEvent.UNIT_NO_BIDS,{slotId:this.c.rootGptDivId});else this.log.event(o.LogEvent.UNIT_NO_BIDS,o.LogEventContext.fromUnitContext(this.c))},t}();e.AuctionLogger=s;var a=function(){};e.AuctionLogRequest=a;var c=function(){};e.BidItem=c;var u=function(){};e.AuctionEndPayload=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GamUtils=void 0;var i=function(){function t(){}return t.isAdxFilled=function(e){return e.sourceAgnosticLineItemId&&t.ADX_LINE_ITEM_IDS.includes(e.sourceAgnosticLineItemId)},t.isNobidAdxFilled=function(e){return e.sourceAgnosticLineItemId&&t.NO_BID_ADX_LINE_ITEM_IDS.includes(e.sourceAgnosticLineItemId)},t.ADX_LINE_ITEM_IDS=[5082305184,5415409407,5447512703,5473722664,5501195239,5510376235,5559962386,5609018595],t.NO_BID_ADX_LINE_ITEM_IDS=[5318212717,5500152414,5509283445,5473769269],t}();e.GamUtils=i},function(t,e,n){(function(t,n){var i=200,r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Boolean]",c="[object Date]",u="[object Function]",d="[object GeneratorFunction]",l="[object Map]",p="[object Number]",h="[object Object]",f="[object RegExp]",g="[object Set]",_="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",S="[object Float64Array]",I="[object Int8Array]",E="[object Int16Array]",w="[object Int32Array]",D="[object Uint8Array]",x="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",R=/\w*$/,C=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,L={};L[s]=L["[object Array]"]=L[m]=L[b]=L[a]=L[c]=L[y]=L[S]=L[I]=L[E]=L[w]=L[l]=L[p]=L[h]=L[f]=L[g]=L[_]=L[v]=L[D]=L[x]=L[T]=L[O]=!0,L["[object Error]"]=L[u]=L["[object WeakMap]"]=!1;var B="object"==typeof t&&t&&t.Object===Object&&t,A="object"==typeof self&&self&&self.Object===Object&&self,U=B||A||Function("return this")(),j=e&&!e.nodeType&&e,N=j&&"object"==typeof n&&n&&!n.nodeType&&n,M=N&&N.exports===j;function q(t,e){return t.set(e[0],e[1]),t}function V(t,e){return t.add(e),t}function k(t,e,n,i){var r=-1,o=t?t.length:0;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function z(t,e){return function(n){return t(e(n))}}function W(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var H,K=Array.prototype,X=Function.prototype,J=Object.prototype,Q=U["__core-js_shared__"],$=(H=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Y=X.toString,Z=J.hasOwnProperty,tt=J.toString,et=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=M?U.Buffer:void 0,it=U.Symbol,rt=U.Uint8Array,ot=z(Object.getPrototypeOf,Object),st=Object.create,at=J.propertyIsEnumerable,ct=K.splice,ut=Object.getOwnPropertySymbols,dt=nt?nt.isBuffer:void 0,lt=z(Object.keys,Object),pt=Nt(U,"DataView"),ht=Nt(U,"Map"),ft=Nt(U,"Promise"),gt=Nt(U,"Set"),_t=Nt(U,"WeakMap"),vt=Nt(Object,"create"),mt=Ft(pt),bt=Ft(ht),yt=Ft(ft),St=Ft(gt),It=Ft(_t),Et=it?it.prototype:void 0,wt=Et?Et.valueOf:void 0;function Dt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function xt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ot(t){this.__data__=new xt(t)}function Rt(t,e){var n=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wt(t)}(t)&&Z.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==s)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!Z.call(t,o)||r&&("length"==o||Vt(o,i))||n.push(o);return n}function Ct(t,e,n){var i=t[e];Z.call(t,e)&&Gt(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function Pt(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}function Lt(t,e,n,i,r,o,C){var P;if(i&&(P=o?i(t,r,o,C):i(t)),void 0!==P)return P;if(!Xt(t))return t;var B=zt(t);if(B){if(P=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Z.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,i=t.length;e||(e=Array(i));for(;++n<i;)e[n]=t[n];return e}(t,P)}else{var A=qt(t),U=A==u||A==d;if(Ht(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(A==h||A==s||U&&!o){if(F(t))return o?t:{};if(P=function(t){return"function"!=typeof t.constructor||kt(t)?{}:(e=ot(t),Xt(e)?st(e):{});var e}(U?{}:t),!e)return function(t,e){return Ut(t,Mt(t),e)}(t,function(t,e){return t&&Ut(e,Jt(e),t)}(P,t))}else{if(!L[A])return o?t:{};P=function(t,e,n,i){var r=t.constructor;switch(e){case m:return At(t);case a:case c:return new r(+t);case b:return function(t,e){var n=e?At(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,i);case y:case S:case I:case E:case w:case D:case x:case T:case O:return function(t,e){var n=e?At(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,i);case l:return function(t,e,n){return k(e?n(G(t),!0):G(t),q,new t.constructor)}(t,i,n);case p:case _:return new r(t);case f:return(u=new(s=t).constructor(s.source,R.exec(s))).lastIndex=s.lastIndex,u;case g:return function(t,e,n){return k(e?n(W(t),!0):W(t),V,new t.constructor)}(t,i,n);case v:return o=t,wt?Object(wt.call(o)):{}}var o;var s,u}(t,A,Lt,e)}}C||(C=new Ot);var j=C.get(t);if(j)return j;if(C.set(t,P),!B)var N=n?function(t){return function(t,e,n){var i=e(t);return zt(t)?i:function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}(i,n(t))}(t,Jt,Mt)}(t):Jt(t);return function(t,e){for(var n=-1,i=t?t.length:0;++n<i&&!1!==e(t[n],n,t););}(N||t,(function(r,o){N&&(r=t[o=r]),Ct(P,o,Lt(r,e,n,i,o,t,C))})),P}function Bt(t){return!(!Xt(t)||(e=t,$&&$ in e))&&(Kt(t)||F(t)?et:C).test(Ft(t));var e}function At(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function Ut(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var s=e[r],a=i?i(n[s],t[s],s,n,t):void 0;Ct(n,s,void 0===a?t[s]:a)}return n}function jt(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Bt(n)?n:void 0}Dt.prototype.clear=function(){this.__data__=vt?vt(null):{}},Dt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Dt.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===r?void 0:n}return Z.call(e,t)?e[t]:void 0},Dt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:Z.call(e,t)},Dt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?r:e,this},xt.prototype.clear=function(){this.__data__=[]},xt.prototype.delete=function(t){var e=this.__data__,n=Pt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ct.call(e,n,1),!0)},xt.prototype.get=function(t){var e=this.__data__,n=Pt(e,t);return n<0?void 0:e[n][1]},xt.prototype.has=function(t){return Pt(this.__data__,t)>-1},xt.prototype.set=function(t,e){var n=this.__data__,i=Pt(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new Dt,map:new(ht||xt),string:new Dt}},Tt.prototype.delete=function(t){return jt(this,t).delete(t)},Tt.prototype.get=function(t){return jt(this,t).get(t)},Tt.prototype.has=function(t){return jt(this,t).has(t)},Tt.prototype.set=function(t,e){return jt(this,t).set(t,e),this},Ot.prototype.clear=function(){this.__data__=new xt},Ot.prototype.delete=function(t){return this.__data__.delete(t)},Ot.prototype.get=function(t){return this.__data__.get(t)},Ot.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xt){var r=n.__data__;if(!ht||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Tt(r)}return n.set(t,e),this};var Mt=ut?z(ut,Object):function(){return[]},qt=function(t){return tt.call(t)};function Vt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function kt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Ft(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(pt&&qt(new pt(new ArrayBuffer(1)))!=b||ht&&qt(new ht)!=l||ft&&"[object Promise]"!=qt(ft.resolve())||gt&&qt(new gt)!=g||_t&&"[object WeakMap]"!=qt(new _t))&&(qt=function(t){var e=tt.call(t),n=e==h?t.constructor:void 0,i=n?Ft(n):void 0;if(i)switch(i){case mt:return b;case bt:return l;case yt:return"[object Promise]";case St:return g;case It:return"[object WeakMap]"}return e});var zt=Array.isArray;function Wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Kt(t)}var Ht=dt||function(){return!1};function Kt(t){var e=Xt(t)?tt.call(t):"";return e==u||e==d}function Xt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Jt(t){return Wt(t)?Rt(t):function(t){if(!kt(t))return lt(t);var e=[];for(var n in Object(t))Z.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return Lt(t,!0,!0)}}).call(this,n(28),n(89)(t))},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(71),r=n(60);n(31),n(32),setTimeout((function(){new i.DmScript(r.ScriptConfig.parse()).initScript()}))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DmScript=void 0;var o=n(57),s=n(11),a=n(72),c=n(93),u=n(29),d=n(7),l=n(94),p=n(102),h=n(30),f=function(){function t(t,e,n,i){this.scriptConfig=t,this.slotsReadyToOvertake=[],this.wnd=e||window,this.scriptConfig.pixelDelivery&&(this.wnd=this.wnd.parent),this.log=n||u.Logger.getInstance(this.wnd),this.visibilityService=i||o.VisibilityService.of(this.wnd),this.slotService=new l.SlotService(this.wnd,this.log,this.scriptConfig),this.server=new h.ServerService}return t.prototype.initScript=function(){var t=this;this.wnd.dmjs_loaded||(this.wnd.dmjs_loaded=!0,this.log.event(d.LogEvent.SCRIPT_LOADED,{siteId:this.scriptConfig.siteId,version:"1.5.2",siteUrl:this.scriptConfig.siteUrl}),this.logScriptLoadedAndCheckIPAllowed().then((function(e){e&&(t.slotService.addSlotReadyToOvertakeListener(t.onSlotReadyToOvertake.bind(t)),t.slotService.init())})))},t.prototype.onSlotReadyToOvertake=function(t){return this.slotsReadyToOvertake.push(t),this.setInterval()},t.prototype.intervalCheck=function(){var t=this;this.slotsReadyToOvertake.forEach((function(e){var n=e.elementId,i=t.visibilityService.calc(n),r=(new Date).getTime()-e.registeredOnTimestamp>=1e3*t.scriptConfig.overtakeDelaySec,o=i.visibleByThreshold&&i.visibleByThresholdDuration>=1e3*t.scriptConfig.overtakeVisibilityDelaySec;if(r&&o){var s=e.size.width,a=e.size.height,c=e.serverResponse.adUnitId;t.slotsReadyToOvertake.splice(t.slotsReadyToOvertake.indexOf(e),1),t.log.event(d.LogEvent.SLOT_OVERTAKE,{slotId:n,unitId:c,adWidth:s,adHeight:a}),t.injectDmUnit(n,s,a,c,e.slot)}})),this.clearInterval()},t.prototype.setInterval=function(){return this.interval||(this.interval=setInterval(this.intervalCheck.bind(this),100)),this.interval},t.prototype.clearInterval=function(){this.slotsReadyToOvertake.length||(clearInterval(this.interval),this.interval=null)},t.prototype.injectDmUnit=function(t,e,n,i,r){var o=this;if(this.log.debug("inject dm unit "+e+"x"+n+" unitId="+i+" "+t),this.wnd.document){var u=this.wnd.document.getElementById(t),d=u.clientWidth<2*e?u.clientWidth:e,l=u.clientHeight,h=s.Utils.genUid();u.className+=" dm-gpt dm-gpt-"+h+" dm-gpt-"+t+" dm-gpt-"+e+"_"+n,this.scriptConfig.allowsBlanks&&p.ViewUtils.removeAllChildrenFrom(u);var f=this.wnd.document.createElement("iframe");f.style.border="none",f.id=h,f.className="dm-wrapper-frame-"+f.id,u.appendChild(f);var g=f.contentWindow.document,_=this.wnd.document.createElement("style");_.type="text/css",this.scriptConfig.allowsBlanks||(_.innerHTML+=".dm-gpt-"+h+"{\n      width: "+d+"px !important;\n      height:"+l+"px !important;\n      display: block !important;\n      overflow: hidden !important;\n      margin-left: auto;\n      margin-right: auto;\n      text-align: center;\n      }"),_.innerHTML+="."+f.className+" {display:inline-block;width:"+e+"px;height:"+n+"px;margin:0 !important;padding:0 !important;overflow:hidden;} ",this.scriptConfig.customCss&&(_.innerHTML+=this.scriptConfig.customCss),this.wnd.document.getElementsByTagName("head")[0].appendChild(_),g.write('\n          <head>\n          <style type="text/css">\n            html {overflow:hidden;} body{margin:0; width:100%; height:100%}\n          </style>\n          </head>\n          <body>\n            <div id="'+i+'" data-parent-id="'+f.id+'""></div>\n          </body>'),g.addEventListener("DOMContentLoaded",(function(){var t=new c.UnitContext;t.pageTitle=o.wnd.document.title,t.rootWnd=o.wnd,t.rootGptDivId=f.parentElement.id,t.scriptConfig=o.scriptConfig,t.rootGptSlot=r,t.firstIframeElementId=f.id,t.firstIframeWnd=f.contentWindow,t.firstIframeDoc=f.contentDocument,t.unitConfig=o.scriptConfig.units.find((function(t){return t.placement_id===i})),t.visibilityService=o.visibilityService,new a.AdUnitFrame(t).createUnit()})),g.close()}},t.prototype.logScriptLoadedAndCheckIPAllowed=function(){return i(this,void 0,void 0,(function(){var t=this;return r(this,(function(e){switch(e.label){case 0:return[4,this.server.scriptLoaded(this.scriptConfig.siteId).then((function(e){return 403==e.status?(t.log.event(d.LogEvent.IP_BLOCKED),!1):(t.log.event(d.LogEvent.IP_ALLOWED),t.setGlobalRefreshCapParams(e.parsedBody.device),!0)}))];case 1:return[2,e.sent()]}}))}))},t.prototype.setGlobalRefreshCapParams=function(t){var e,n;this.scriptConfig.refreshCaps.forEach((function(i){i.type==t?n=i:"DEFAULT"==i.type&&(e=i)})),this.scriptConfig.refreshRate=n&&n.refreshRate?n.refreshRate:e.refreshRate,this.scriptConfig.refreshRateLowerSec=n&&n.refreshRateLowerSec?n.refreshRateLowerSec:e.refreshRateLowerSec,this.scriptConfig.maxRefresh=n&&n.maxRefresh?n.maxRefresh:e.maxRefresh,this.scriptConfig.noBidMaxRefresh=n&&n.noBidMaxRefresh?n.noBidMaxRefresh:e.noBidMaxRefresh,this.scriptConfig.overtakeDelaySec=n&&n.overtakeDelaySec?n.overtakeDelaySec:e.overtakeDelaySec,this.scriptConfig.overtakeVisibilityDelaySec=n&&n.overtakeVisibilityDelaySec?n.overtakeVisibilityDelaySec:e.overtakeVisibilityDelaySec},t}();e.DmScript=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdUnitFrame=void 0;var i=n(11),r=n(29),o=n(78),s=n(4),a=function(){function t(t){this.c=t,this.iframeId="dm-"+i.Utils.genUid(),this.log=r.Logger.getInstance(t.rootWnd)}return t.prototype.createUnit=function(){var t=this;this.createUnitIframe((function(){new o.AdSequencer(t.c).init()}))},t.prototype.createUnitIframe=function(t){var e=this,i=this.c.unitConfig;this.c.unitSlots=new s.UnitSlots(this.c,this.log).setSlots();var r=this.c.firstIframeDoc,o=r.getElementById(i.placement_id),a=o.parentNode,c=r.createElement("style");c.type="text/css",c.innerHTML=".dm-frame {position:absolute;display:block;width:"+i.ad_width+"px;height:"+i.ad_height+"px;margin:0;padding:0;overflow:hidden;}",r.getElementsByTagName("head")[0].appendChild(c);var u=r.createElement("div");u.style.display="none";var d=r.createElement("img");d.src=i.pixel_url,u.appendChild(d),a.insertBefore(u,o);var l=r.createElement("iframe");l.style.border="none",l.id=this.iframeId,l.className="dm-frame",a.insertBefore(l,o);var p=l.contentWindow.document,h=n(91)(Object.assign({siteId:this.c.scriptConfig.siteId,cdnUrl:this.c.scriptConfig.cdnUrl},this.c.unitConfig,{confiantWrapperId:this.c.scriptConfig.confiantWrapperId},{slots:this.c.unitSlots.slots})),f=n(92)(this.c.unitConfig);return p.write('<style type="text/css">'+f+"</style>"),p.write(h),p.addEventListener("DOMContentLoaded",(function(){try{var n=l.contentWindow;n.parent.document.getElementById(i.placement_id).getAttribute("data-parent-id")?(e.c.wnd=n,t()):e.log.error("unknown parent iframe id")}catch(t){e.log.error("error while unpacking unit "+i.placement_id)}})),p.close()},t}();e.AdUnitFrame=a},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.put=e.post=e.get=e.http=void 0,e.http=function(t){return new Promise((function(e,n){var i;fetch(t).then((function(t){return i=t,t.json()})).then((function(t){i.ok?(i.parsedBody=t,e(i)):n(i)})).catch((function(t){n(t)}))}))},e.get=function(t,n){return void 0===n&&(n={method:"get"}),i(void 0,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,e.http(new Request(t,n))];case 1:return[2,i.sent()]}}))}))},e.post=function(t,n,o){return void 0===o&&(o={method:"post",body:JSON.stringify(n)}),i(void 0,void 0,void 0,(function(){var n;return r(this,(function(i){switch(i.label){case 0:return(n=new Request(t,o)).headers.set("Content-Type","application/json"),[4,e.http(n)];case 1:return[2,i.sent()]}}))}))},e.put=function(t,n,o){return void 0===o&&(o={method:"put",body:JSON.stringify(n)}),i(void 0,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,e.http(new Request(t,o))];case 1:return[2,n.sent()]}}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerScreen=void 0;var i=n(75),r=n(11),o=n(76),s=n(7),a=n(77),c=n(57),u=function(){function t(t){this.wnd=t,this.slotIdMap={},this.loggerView=new o.LoggerConsole(t),this.loggerTracker=new i.LoggerTracker(t),this.loggerView.createLoggerContainer(),this.visibilityMonitor=new a.VisibilityMonitorService(c.VisibilityService.of(t),10)}return t.prototype.visibilityUpdate=function(t,e){this.loggerTracker.visibilityUpdate(t,e,this.slotIdMap[t])},t.prototype.onLogEvent=function(t,e){switch(this.loggerView.createLoggerContainer(),e.slotId&&this.addSlotIdToMap(e.slotId),t){case s.LogEvent.SLOT_OVERTAKE_FAILED_NO_UNIT:case s.LogEvent.SLOT_OVERTAKE_FAILED_SPONSORED:this.loggerTracker.clear(e.slotId),this.visibilityMonitor.unwatch([e.slotId])}this.loggerView.writeLoggerMsg(this.getTimeMessage(),t,e,this.slotIdMap[e.slotId])},t.prototype.addSlotIdToMap=function(t){var e=this;t&&!this.slotIdMap[t]&&(this.slotIdMap[t]="#"+(Object.keys(this.slotIdMap).length+1),this.visibilityMonitor.watch([t],(function(t,n){return e.visibilityUpdate(t,n)})))},t.prototype.getTimeMessage=function(){var t=!(null!=this.startTime);return this.startTime||(this.startTime=(new Date).getTime()),t?"00:00":r.Utils.getVisibilityTime((new Date).getTime()-this.startTime)},t}();e.LoggerScreen=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerTracker=void 0;var i=n(58),r=n(11),o=function(){function t(t){this.wnd=t}return t.prototype.visibilityUpdate=function(t,e,n){var i=this.wnd.document,o=this.getVisibilityTracker(i,t,e);o&&(o.innerHTML=n+"<br/> t="+r.Utils.getVisibilityTime((new Date).getTime()-e.detectedAt)+"<br/>\n    vt="+r.Utils.getVisibilityTime(e.visibleByThresholdDuration)+"<br/>\n    p="+(e.percentVisible?Math.floor(e.percentVisible)+"%":""))},t.prototype.getVisibilityTracker=function(t,e,n){var r=t.getElementById(e);if(r){var o=i.VisibilityUtils.getElementCoordinates(t,r);if(!o)return null;var s=this.getTrackerEl(t,e);s.style.top=o.y+3+"px",s.style.left=o.x+3+"px",s.style.width="100px",s.style.height="84px",s.style.background=n.visibleByThreshold?"#18F624":"grey",s.style.color=n.visibleByThreshold?"black":"white";var a=this.getTrackerElContainer(t,e);return a.style.top=o.y+"px",a.style.left=o.x+"px",a.style.width=o.w+"px",a.style.height=o.h+"px",a.style.border="3px dashed "+(n.visibleByThreshold?"#30F73A":"grey"),s}},t.prototype.getTrackerElContainer=function(t,e){var n="dm-vis-tracker-"+e,i=n+"-container",r=t.getElementById(i);return r||((r=t.createElement("div")).id=n+"-container",r.className="dm-vis-tracker-container",r.style.position="fixed",r.style.zIndex="999",t.body.appendChild(r)),r},t.prototype.getTrackerEl=function(t,e){var n="dm-vis-tracker-"+e,i=t.getElementById(n);if(!i){if(!t.getElementById("dm-style")){var r=t.createElement("style");r.id="dm-style",r.innerHTML=".dm-vis-tracker{\n          opacity: 0.9;\n          border: 1px solid #5077E3;\n          line-height: 19px;\n          padding: 0 10px;\n          font-size: 14px;\n        }",t.getElementsByTagName("head")[0].appendChild(r)}(i=t.createElement("div")).id=n,i.className="dm-vis-tracker",i.style.position="fixed",i.style.zIndex="1000",t.body.appendChild(i)}return i},t.prototype.clear=function(t){var e=this.wnd.document;e.body.removeChild(this.getTrackerEl(e,t)),e.body.removeChild(this.getTrackerElContainer(e,t))},t}();e.LoggerTracker=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerConsole=void 0;var i=n(7),r=n(11),o=function(){function t(t){this.wnd=t}return t.prototype.createLoggerContainer=function(){if(this.wnd.document&&this.wnd.document.body&&!this.wnd.document.getElementById("dm-logger-container")){var t=this.wnd.document.createElement("div");t.id="dm-logger-container",t.setAttribute("style","-webkit-box-shadow: 0 5px 11px 0 rgba(0,0,0,0.18), 0 4px 15px 0 rgba(0,0,0,0.15);box-shadow: 0 5px 11px 0 rgba(0,0,0,0.18), 0 4px 15px 0 rgba(0,0,0,0.15);"),t.style.width="290px",t.style.height="350px",t.style.position="fixed",t.style.top="20px",t.style.right="20px",t.style.overflowWrap="break-word",t.style.fontSize="12px",t.style.textAlign="left",t.style.zIndex="2147483647",t.style.overflowX="hidden",t.style.borderRadius="5px",this.wnd.document.body.appendChild(t);var e=this.wnd.document.createElement("div");e.id="dm-logger-container-header",e.style.width="290px",e.style.height="35px",e.style.background="#e3931e",e.style.color="#ffffff",e.style.padding="7px",e.style.fontSize="14px",e.style.position="fixed",e.style.borderRadius="5px 5px 0 0",e.style.boxSizing="border-box",e.innerHTML="<span>Duration Media</span>",t.appendChild(e),this.screenContainerBody=this.wnd.document.createElement("div"),this.screenContainerBody.id="dm-logger-container-body",this.screenContainerBody.style.width="100%",this.screenContainerBody.style.height="313px",this.screenContainerBody.style.marginTop="35px",this.screenContainerBody.style.overflowY="scroll",this.screenContainerBody.style.background="rgba(245, 245, 245, .9)",t.appendChild(this.screenContainerBody),this.screenContainerList=this.wnd.document.createElement("ul"),this.screenContainerList.id="dm-logger-container-list",this.screenContainerList.style.listStyleType="none",this.screenContainerList.style.margin="0",this.screenContainerList.style.padding="0",this.screenContainerBody.appendChild(this.screenContainerList)}},t.prototype.writeLoggerMsg=function(t,e,n,o){if(e!==i.LogEvent.UNIT_SEQ&&e!==i.LogEvent.UNIT_CREATIVE_VIEWABLE&&this.screenContainerList){var s=this.wnd.document.createElement("li");s.style.padding="5px",s.style.fontSize="12px",s.style.lineHeight="normal",s.style.backgroundColor=this.screenContainerList.getElementsByTagName("li").length%2==0?"none":"rgba(255, 255, 255, .8)";var a=n.slotId?o+" ":"",c=n.adWidth&&n.adHeight?n.adWidth+"x"+n.adHeight+" ":"",u=e==i.LogEvent.UNIT_NO_FILL?"#cc0606":e==i.LogEvent.UNIT_CREATIVE_RENDERED?"#008000":"#043f76",d=i.LogEventLabels[e]||e,l=e==i.LogEvent.UNIT_NO_FILL&&n.seq?" <span>"+n.seq+"</span>":"",p=e==i.LogEvent.UNIT_CREATIVE_RENDERED&&n.fillSource?" <span>"+n.fillSource+"</span>":"",h=this.getMoreInfo(n),f=r.Utils.genUid(),g='<span style="color: '+u+'; cursor: pointer;" onclick="(function () {document.getElementById(\''+f+"').style.display = document.getElementById('"+f+"').style.display ==='block'?'none':'block';})();\n                        return false\"> "+d+" "+l+" "+p+'</span>\n                      <span id="'+f+'" style="display: none">'+(h||"")+"</span>";s.innerHTML=t+" <strong>"+a+"</strong> <span>"+c+"</span> "+g,this.screenContainerList.appendChild(s),this.screenContainerBody.scrollTo(0,this.screenContainerBody.scrollHeight)}},t.prototype.getMoreInfo=function(t){var e=t.crId?"<strong>crId: </strong>"+t.crId:"",n=t.lid?"<strong>lid: </strong>"+t.lid:"",i=t.bidder?"<strong>bidder: </strong>"+t.bidder:"",r=t.cpm?"<strong>cpm: </strong>"+t.cpm:"",o=t.seq?"<strong>seq: </strong>"+t.seq:"",s=t.version?"<strong>version: </strong>"+t.version:"",a=t.siteUrl?"<strong>site: </strong>"+t.siteUrl:"",c=t.fillSource?"<strong>source: </strong>"+t.fillSource:"",u=t.siteId?"<strong>siteId: </strong>"+t.siteId:"";return e||n||o||i||r||s||c||u?e+" "+n+" "+o+" "+i+" "+r+" "+a+" "+u+" "+s+" "+c:null},t}();e.LoggerConsole=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityChangedEvent=e.VisibilityEventDispatcher=e.VisibilityMonitorService=void 0;var i=function(){function t(t,e){this.service=t,this.intervalMs=e,this.containerIdsToMonitor=[]}return t.prototype.watch=function(t,e){var n=this;this.containerIdsToMonitor=this.containerIdsToMonitor.concat(t),this.interval||(this.interval=setInterval((function(){n.containerIdsToMonitor.forEach((function(t){var i=n.service.calc(t);e(t,i)}))}),this.intervalMs))},t.prototype.unwatch=function(t){this.containerIdsToMonitor=this.containerIdsToMonitor.filter((function(e){return!t.includes(e)})),t.length||clearInterval(this.interval)},t.prototype.stopMonitoring=function(){null!=this.interval&&clearInterval(this.interval)},t}();e.VisibilityMonitorService=i;var r=function(){function t(){}return t.dispatchEvent=function(e,n){var i;"function"==typeof Event?i=new CustomEvent(t.EVENT_VISIBILTY_CHANGE,n):(i=e.createEvent("CustomEvent")).initCustomEvent(t.EVENT_VISIBILTY_CHANGE,!1,!0,n),e.dispatchEvent(i)},t.EVENT_VISIBILTY_CHANGE="visibility-change",t}();e.VisibilityEventDispatcher=r;var o=function(t){this.detail=t};e.VisibilityChangedEvent=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdSequencer=void 0;var i=n(79),r=n(29),o=n(81),s=n(82),a=n(63),c=n(65),u=n(56),d=n(7),l=n(66),p=n(67),h=n(85),f=n(4),g=n(86),_=function(){function t(t,e,n,a,c){this.c=t,this.log=e||r.Logger.getInstance(t.rootWnd),this.gptService=n||new i.GptService(t,this.log),this.auctionLogger=new l.AuctionLogger(t,this.log),this.auction=a||new s.Auction(this.c,this.auctionLogger),this.view=c||new o.AdViewService(t,this.log),this.sequenceFactory=new g.SequenceFactory(t,this.log,this.gptService,this.auction,this.view)}return t.prototype.init=function(){var t=this;this._sequence=this.sequenceFactory.createSequence(),this.sequenceCounter=0,this.noBidSequenceCounter=0,this._sequence.forEach((function(t){return t.hide()})),this.gptService.initGpt(this.c.unitSlots.slots,this.c.rootGptSlot),this.gptService.onImpressionViewable((function(){t.log.event(d.LogEvent.UNIT_CREATIVE_VIEWABLE,d.LogEventContext.fromUnitContext(t.c))})),this.gptService.onSlotRenderEnded(this.onSlotRenderEnded.bind(this)),this.gptService.onSlotRequested(this.onSlotRequested.bind(this)),this.gptService.onSlotResponseReceived(this.onSlotResponseReceived.bind(this)),this.gptService.que((function(){setTimeout((function(){t.runSequence()}),0)}))},t.prototype.runSequence=function(){this.sequenceCounter++,this.auctionLogger.initAuction(),this.invoke(this._sequence[0])},t.prototype.invoke=function(t){var e=this;this.seqInProgress=t;var n=this.c.unitSlots.hasPublisherPrebidEnabled()&&!this.c.unitSlots.hasPublisherDirectEnabled()&&!this.c.unitSlots.hasDurationDemandEnabled(),i=!this.c.unitSlots.hasPublisherPrebidEnabled()&&this.c.unitSlots.hasPublisherDirectEnabled()&&!this.c.unitSlots.hasDurationDemandEnabled();if(n||i||t!==this.displayedSeq||this.displayedSeq.hasMirror()){if(!this.c.visibilityService.calc(this.c.rootGptDivId).visibleByThreshold)return void setTimeout((function(){return e.invoke(t)}),100);this.log.event(d.LogEvent.UNIT_SEQ,d.LogEventContext.fromUnitContext(this.c,{seq:t.getId()})),t.invoke()}else this.log.debug("Skipping sequence "+t.getId()+", since it already contains an ad"),this.invokeNext()},t.prototype.onSlotRenderEnded=function(t){this.isRequestInProgress=!1;var e=this.seqInProgress.onEvent(t);e?this.onSequenceFilled(t):this.onSequenceNoFill(t),this.auctionLogger.isDirty()&&(this.auctionLogger.onSlotRendered(t,e),this.auctionLogger.flush())},t.prototype.onSlotResponseReceived=function(t){this.isRequestInProgress=!1},t.prototype.onSlotRequested=function(t){var e=this;this.isRequestInProgress=!0,this.c.scriptConfig.adLoadTimeoutSec&&setTimeout((function(){return e.skipCurrentSequenceItemIfNeeded()}),1e3*this.c.scriptConfig.adLoadTimeoutSec)},t.prototype.skipCurrentSequenceItemIfNeeded=function(){this.isRequestInProgress&&(this.isRequestInProgress=!1,this.log.debug(this.c.rootGptDivId+" ad load timeout exceeded - skipping current sequence item"),this.invokeNext())},t.prototype.onSequenceNoFill=function(t){this.log.event(d.LogEvent.UNIT_NO_FILL,d.LogEventContext.fromUnitContext(this.c,{crId:t.creativeId,lid:t.lineItemId,seq:this.seqInProgress.getId()})),this.invokeNext()},t.prototype.invokeNext=function(){var t=this._sequence.indexOf(this.seqInProgress)+1;t>this._sequence.length-1?this.runSequenceAfterTimeout():this.invoke(this._sequence[t])},t.prototype.onSequenceFilled=function(t){this.view.cleanParentDiv(),this._sequence.forEach((function(t){return t.hide()})),this.displayedSeq&&this.displayedSeq!=this.seqInProgress&&this.displayedSeq.clean(),this.displayedSeq=this.seqInProgress,this.displayedSeq.show();var e=this.getFillSource(this.seqInProgress,t);this.log.event(d.LogEvent.UNIT_CREATIVE_RENDERED,d.LogEventContext.fromUnitContext(this.c,{crId:t.creativeId,lid:t.sourceAgnosticLineItemId,seq:this.seqInProgress.getId(),fillSource:e})),this.runSequenceAfterTimeout(e)},t.prototype.runSequenceAfterTimeout=function(t){var e=this;void 0===t&&(t=null);var n=this.c.unitConfig.maxRefresh||this.c.scriptConfig.maxRefresh,i=n&&this.sequenceCounter>=n;if(this.log.debug("Unit max refresh "+this.c.unitConfig.maxRefresh+", script config refresh "+this.c.scriptConfig.maxRefresh+", sequence count "+this.sequenceCounter+", max refresh exceeded: "+i),!i){var r=this.getRefreshRate(t);return setTimeout((function(){return e.runSequence()}),1e3*r)}n&&this.sequenceCounter===n&&this.log.debug(this.c.rootGptDivId+" max refresh exceeded bids="+this.sequenceCounter+" max="+n),this.runNoBidSequenceAfterTimeout(t)},t.prototype.getRefreshRate=function(t){void 0===t&&(t=null);var e=this.c.scriptConfig.refreshRate;return h.FillSource.hasLowerRefresh(t)&&(this.c.unitConfig.refreshRateLowerSec||this.c.scriptConfig.refreshRateLowerSec)?(e=this.c.unitConfig.refreshRateLowerSec||this.c.scriptConfig.refreshRateLowerSec,this.log.debug(this.c.rootGptDivId+" lower refresh filled - refresh in "+e+" seconds")):this.log.debug(this.c.rootGptDivId+" refresh in "+e+" seconds"),e},t.prototype.runNoBidSequenceAfterTimeout=function(t){var e=this;void 0===t&&(t=null);var n=this.c.unitConfig.noBidMaxRefresh||this.c.scriptConfig.noBidMaxRefresh;if(n&&this.switchToNoBidSequence()){if(n>this.noBidSequenceCounter){var i=this.getRefreshRate(t);return setTimeout((function(){e.noBidSequenceCounter++,e.log.debug("Unit NoBid max refresh "+e.c.unitConfig.noBidMaxRefresh+", script config NoBid max refresh "+e.c.scriptConfig.noBidMaxRefresh+", NoBid sequence count "+e.noBidSequenceCounter),e.runSequence()}),1e3*i)}this.log.debug(this.c.rootGptDivId+" NoBid max refresh exceeded bids="+this.noBidSequenceCounter+" max="+this.c.unitConfig.noBidMaxRefresh)}},t.prototype.switchToNoBidSequence=function(){if(this.isNoBidSequence())return!0;var t=this._sequence.find((function(t){return t.getId()===c.NobidMirrorSeq.ID}));return t?(this._sequence=[t],this.log.debug(this.c.rootGptDivId+" switched to NoBid only sequence"),!0):(this.log.debug(this.c.rootGptDivId+" doesn't have NoBid only sequence configured"),!1)},t.prototype.isNoBidSequence=function(){return 1===this.sequence.length&&this.sequence[0].getId()===c.NobidMirrorSeq.ID},Object.defineProperty(t.prototype,"sequence",{get:function(){return this._sequence},enumerable:!1,configurable:!0}),t.prototype.getFillSource=function(t,e){if(t.getId()===a.RegularTagSeq.ID){if(null!=e.sourceAgnosticLineItemId&&e.sourceAgnosticLineItemId>0){if(p.GamUtils.isAdxFilled(e))return h.FillSource.DM_ADX;var n=this.auction.getWinningBids();return this.log.debug("winning bids=%o",n),n&&n.length&&"openx"===n[n.length-1].bidder?(this.log.debug("openx won"),h.FillSource.DM_PREBID_OPENX):h.FillSource.DM_PREBID}return h.FillSource.DM_OTHER}return t.getId()===c.NobidMirrorSeq.ID?p.GamUtils.isNobidAdxFilled(e)?h.FillSource.NOBID_ADX:h.FillSource.NOBID_OTHER:t.getId()===u.PublisherSeq.ID?h.FillSource.PUB_PASSBACK:t.getId()===f.UnitSlots.PUBLISHER_PREBID_ID?h.FillSource.PUB_PREBID:t.getId()===f.UnitSlots.PUB_DIRECT_DIV_ID?h.FillSource.PUB_DIRECT:h.FillSource.UNKNOWN},t}();e.AdSequencer=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptService=void 0;var i=n(4),r=function(){function t(t,e){this.c=t,this.log=e,this.slotMap=new Map,this.c.wnd.googletag||(this.c.wnd.googletag=Object.assign({})),this.googletag=this.c.wnd.googletag,this.googletag.cmd=this.googletag.cmd||[],this.config=t.unitConfig}return t.prototype.initGpt=function(t,e){var n=this,i=this.googletag;i.cmd.push((function(){t.forEach((function(t){if(t.gptTag){var i=n.registerGptSlot(t.gptTag,t.gptDiv,n.config.ad_width,n.config.ad_height);n.setGptPassbackTargeting(i,e)}})),i.pubads().enableSingleRequest(),i.pubads().disableInitialLoad(),n.c.scriptConfig.siteUrl&&i.pubads().set("page_url",n.c.scriptConfig.siteUrl),i.enableServices(),i.display(n.config.gpt_name),i.display(n.config.gpt_name_mirror)}))},t.prototype.setGptPassbackTargeting=function(t,e){var n=this.getSlotTargetingMap(e),r=t.getSlotElementId()===i.UnitSlots.PUB_DIV_ID,o=t.getSlotElementId()===i.UnitSlots.PUB_DIRECT_DIV_ID,s=t.getSlotElementId()===i.UnitSlots.PUBLISHER_PREBID_ID;t.setTargeting("dm_domain",this.c.scriptConfig.siteUrl),r&&t.setTargeting("src",["duration"]),o&&t.setTargeting("dm_tgt",["pd"]),s&&t.setTargeting("dm_tgt",["pp"]),n&&(this.log.debug("rootGptTargetingMap="+JSON.stringify(n)),Object.keys(n).forEach((function(e){t.setTargeting(e,n[e])})))},t.prototype.onSlotRenderEnded=function(t){var e=this;this.que((function(n){n.pubads().addEventListener("slotRenderEnded",t.bind(e))}))},t.prototype.onSlotRequested=function(t){var e=this;this.que((function(n){n.pubads().addEventListener("slotRequested",t.bind(e))}))},t.prototype.onSlotResponseReceived=function(t){var e=this;this.que((function(n){n.pubads().addEventListener("slotResponseReceived",t.bind(e))}))},t.prototype.onImpressionViewable=function(t){var e=this;this.que((function(n){n.pubads().addEventListener("impressionViewable",t.bind(e))}))},t.prototype.que=function(t){var e=this;this.googletag.cmd.push((function(){t(e.googletag)}))},t.prototype.getSlot=function(t){return this.slotMap.get(t)},t.prototype.refresh=function(t){this.googletag.pubads().refresh([this.slotMap.get(t)])},t.prototype.getGoogletag=function(){return this.googletag},t.prototype.registerGptSlot=function(t,e,n,i){var r=this.googletag.defineSlot(t,[n,i],e).addService(this.googletag.pubads());return this.slotMap.set(e,r),r},t.prototype.getSlotTargetingMap=function(t){var e={};return t.getTargetingKeys().forEach((function(n){n.match(/hb_/)||(e[n]=t.getTargeting(n))})),e},t}();e.GptService=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdSlot=void 0;var i=function(t,e){this.gptDiv=t,this.gptTag=e};e.AdSlot=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdViewService=void 0;var i=function(){function t(t,e){this.c=t,this.log=e}return t.prototype.hideSlot=function(t){this.c.wnd.document.getElementById(t).style.zIndex="100"},t.prototype.showSlot=function(t){this.c.wnd.document.getElementById(t).style.zIndex="101"},t.prototype.isVisible=function(t){return"101"===this.c.wnd.document.getElementById(t).style.zIndex},t.prototype.cleanSlot=function(t){if(t)for(var e=this.c.wnd.document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)},t.prototype.cleanParentDiv=function(){var t=this;if(!this.cleanedUpParentDiv){this.log.debug("cleaning up parent div"),this.cleanedUpParentDiv=!0;var e=this.c.rootWnd.document.getElementById(this.c.firstIframeElementId);e.style.display="inline-block";var n=e.parentElement,i=[];n.childNodes.forEach((function(e){e.id!=t.c.firstIframeElementId&&i.push(e)})),i.forEach((function(t){return n.removeChild(t)}))}},t}();e.AdViewService=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidAdUnit=e.Auction=void 0;var i=n(29),r=n(7),o=function(){function t(t,e){this.c=t,this.auctionLogger=e,this.bidsCount=0,this.firstBid=!0,this.log=i.Logger.getInstance(t.rootWnd),this.c.wnd.pbjs||(this.c.wnd.pbjs={}),this.pbjs=this.c.wnd.pbjs,this.pbjs.que=this.pbjs.que||[],this.config=t.unitConfig}return t.prototype.getBids=function(t,e){var i=this,o=t.getSlotElementId();this.log.event(r.LogEvent.UNIT_AD_REQUEST,r.LogEventContext.fromUnitContext(this.c)),this.bidsCount+=1,e.cmd.push((function(){return e.pubads().disableInitialLoad()})),this.adUnits&&this.adUnits.length&&this.pbjs.que.push((function(){i.adUnits.forEach((function(t){return i.pbjs.removeAdUnit(t.code)})),i.adUnits=[]})),this.adUnits=JSON.parse(n(83)(Object.assign({},this.config,{gpt_div:o,page_title:this.c.pageTitle}))),this.adUnits[0].bids.pop(),this.log.debug(this.c.rootGptDivId+" prebid units to run auction on "+JSON.stringify(this.adUnits)),this.pbjs.bidderSettings=this.getPrebidAdjustments();var s={buckets:[{precision:2,min:0,max:3,increment:.01},{precision:2,min:3,max:8,increment:.05},{precision:2,min:8,max:100,increment:.5}]};return this.pbjs.que.push((function(){var n={enableSendAllBids:!0,priceGranularity:s,userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},syncsPerBidder:999,syncDelay:6e3},consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0},usp:{timeout:3e3,allowAuctionWithoutConsent:!0}}},r=i.c.wnd.parent.parent;try{"function"!=typeof r.__tcfapi&&(delete n.consentManagement.gdpr,i.log.debug("gdpr deleted: "+JSON.stringify(n)))}catch(t){i.log.error("catch: "+t),delete n.consentManagement.gdpr,i.log.debug("gdpr deleted: "+JSON.stringify(n))}return i.c.scriptConfig.sellerId&&(n.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"durationmedia.net",sid:i.c.scriptConfig.sellerId,hp:1}]}}),i.c.scriptConfig.analyticsEnabled&&(i.c.wnd.DmPrebidAnalytics=i.auctionLogger.handle.bind(i.auctionLogger),i.pbjs.enableAnalytics({provider:"dm"})),i.pbjs.setConfig(n),i.pbjs.addAdUnits(i.adUnits),i.pbjs.requestBids({timeout:i.c.scriptConfig.bidTimeout,bidsBackHandler:function(n){i.bidsComplete(n,t,e)}})})),this.firstBid=!1},t.prototype.getPrebidAdjustments=function(){var t=this;this.config.bidAdjustments=this.config.bidAdjustments||{},this.config.bidFloors=this.config.bidFloors||{};var e={};return this.adUnits[0].bids.map((function(t){return t.bidder})).forEach((function(n){e[n]={bidCpmAdjustment:function(e){var i=t.config.bidFloors[n],r=e*(t.config.bidAdjustments[n]||1);return i&&r<i?0:r}}})),e},t.prototype.bidsComplete=function(t,e,n){var i=this;n.cmd.push((function(){return i.pbjs.que.push((function(){e.setTargeting("rfsh",""+i.bidsCount);try{var t=new Date,r=t.getTime(),o=6e4*t.getTimezoneOffset(),s=new Date(r+o+-144e5).getHours();e.setTargeting("rfshtime",""+s)}catch(t){console.error(t)}return i.pbjs.setTargetingForGPTAsync(),e.setTargeting("hb_pb",null),n.pubads().refresh([e])}))})),this.auctionLogger.logBidResponses(t)},t.prototype.getWinningBids=function(){return this.pbjs.getAllWinningBids()},t.prototype.getBidsCount=function(){return this.bidsCount},t}();e.Auction=o;var s=function(){};e.PrebidAdUnit=s},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='[{\n"code": "'+(null==(__t=gpt_div)?"":__t)+'",\n"mediaTypes": {\n  "banner": {\n    "sizes": [['+(null==(__t=ad_width)?"":__t)+","+(null==(__t=ad_height)?"":__t)+']]\n  }\n},\n"bids": [\n\n',openx_id&&(__p+='\n  {\n  "bidder": "openx",\n  "params": {\n  "unit": "'+(null==(__t=openx_id)?"":__t)+'",\n  "delDomain": "durationmedia-d.openx.net"\n  }\n  },\n'),__p+="\n",rubicon_siteid&&rubicon_zoneid&&(__p+='\n  {\n  "bidder": "rubicon",\n  "params": {\n  "accountId": "13702",\n  "siteId": "'+(null==(__t=rubicon_siteid)?"":__t)+'",\n  "zoneId": "'+(null==(__t=rubicon_zoneid)?"":__t)+'"\n  }\n  },\n'),__p+="\n",brealtime_id&&(__p+='\n  {\n  "bidder": "brealtime",\n  "params": {\n  "placementId": "'+(null==(__t=brealtime_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",districtm_id&&(__p+='\n  {\n  "bidder": "disctrictm",\n  "params": {\n  "placementId": "'+(null==(__t=disctrictm_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",appnexus_id&&(__p+='\n  {\n  "bidder": "appnexus",\n  "params": {\n  "placementId": "'+(null==(__t=appnexus_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",sonobi_id&&(__p+='\n  {\n  "bidder": "sonobi",\n  "params": {\n  "ad_unit": "'+(null==(__t=sonobi_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n\n",pubmatic_id&&(__p+='\n  {\n  "bidder": "pubmatic",\n  "params": {\n  "publisherId": "158024",\n  "adSlot": "'+(null==(__t=pubmatic_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",index_id&&(__p+='\n  {\n  "bidder": "ix",\n  "params": {\n  "siteId": "'+(null==(__t=index_id)?"":__t)+'",\n  "size": ['+(null==(__t=ad_width)?"":__t)+", "+(null==(__t=ad_height)?"":__t)+"]\n  }\n  },\n"),__p+="\n",sovrn_id&&(__p+='\n  {\n  "bidder": "sovrn",\n  "params": {\n  "tagid": "'+(null==(__t=sovrn_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",ttacross_id&&(__p+='\n  {\n  "bidder": "33across",\n  "params": {\n  "siteId": "'+(null==(__t=ttacross_id)?"":__t)+'",\n  "productId": "siab"\n  }\n  },\n'),__p+="\n",rhythmone_id&&(__p+='\n  {\n  "bidder": "rhythmone",\n  "params": {\n  "placementId": "'+(null==(__t=rhythmone_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",emx_id&&(__p+='\n  {\n  "bidder": "emx_digital",\n  "params": {\n  "tagid": "'+(null==(__t=emx_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",nobid_site_id&&(__p+='\n  {\n  "bidder": "nobid",\n  "params": {\n  "siteId": '+(null==(__t=nobid_site_id)?"":__t)+"\n  ",nobid_format_id&&(__p+='\n    , "placementId": '+(null==(__t=nobid_format_id)?"":__t)+"\n  "),__p+="\n  }\n  },\n"),__p+="\n",aol_id&&(__p+='\n  {\n  "bidder": "aol",\n  "params": {\n  "placement": "'+(null==(__t=aol_id)?"":__t)+'",\n  "network": ""\n  }\n  },\n'),__p+="\n",nanointeractive_id&&(__p+='\n  {\n  "bidder": "nanointeractive",\n  "params": {\n  "pid": "'+(null==(__t=nanointeractive_id)?"":__t)+'",\n  "nq": "'+(null==(__t=page_title)?"":__t)+'"\n  }\n  },\n'),__p+="\n",grid_id&&(__p+='\n  {\n  "bidder": "grid",\n  "params": {\n  "uid": "'+(null==(__t=grid_id)?"":__t)+'"\n  }\n  },\n'),__p+="\n",pulsepoint_cf&&pulsepoint_cp&&pulsepoint_ct&&(__p+='\n  {\n  "bidder": "pulsepoint",\n  "params": {\n  "cf": "'+(null==(__t=pulsepoint_cf)?"":__t)+'",\n  "cp": "'+(null==(__t=pulsepoint_cp)?"":__t)+'",\n  "ct": "'+(null==(__t=pulsepoint_ct)?"":__t)+'"\n  }\n  },\n'),__p+="\n{}\n]\n}]\n";return __p}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorSupportPrebidSeq=void 0;var o=function(t){function e(e,n,i,r,o,s){var a=t.call(this,n,i,r,o,s)||this;return a.prebid=e,a}return r(e,t),e.prototype.invokeSlot=function(t){this.prebid.getBids(t,this.gptService.getGoogletag())},e}(n(64).MirrorSupportSeq);e.MirrorSupportPrebidSeq=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FillSource=void 0;var i=n(56),r=n(4),o=function(){function t(){}return t.hasLowerRefresh=function(e){return!!e&&t.LOWER_REFRESH_SOURCES.includes(e)},t.DM_PREBID="dm-prebid",t.DM_OTHER="dm-other",t.DM_ADX="dm-adx",t.NOBID_ADX="nobid-adx",t.NOBID_OTHER="nobid-other",t.DM_PREBID_OPENX="dm-prebid-openx",t.UNKNOWN="-",t.PUB_PASSBACK=i.PublisherSeq.ID,t.PUB_DIRECT=r.UnitSlots.PUB_DIRECT_DIV_ID,t.PUB_PREBID=r.UnitSlots.PUBLISHER_PREBID_ID,t.LOWER_REFRESH_SOURCES=[t.DM_PREBID,t.DM_OTHER,t.NOBID_OTHER],t}();e.FillSource=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceFactory=void 0;var i=n(61),r=n(65),o=n(87),s=n(88),a=n(56),c=n(63),u=function(){function t(t,e,n,i,r){this.context=t,this.logger=e,this.gptService=n,this.auction=i,this.view=r}return t.prototype.createSequence=function(){var t=this,e=[];return this.context.scriptConfig.bidSequenceItemOrder.forEach((function(n){var i=t.getSequenceItemsForAdSequenceType(n);e.push.apply(e,i)})),e},t.prototype.getSequenceItemsForAdSequenceType=function(t){switch(t){case i.BidSequenceItemType.PUBLISHER_PREBID:return this.getPublisherPrebidSequenceItems();case i.BidSequenceItemType.PUBLISHER_DIRECT:return this.getPublisherDirectSequenceItems();case i.BidSequenceItemType.DURATION_DEMAND:return this.getDurationDemandSequenceItems();default:throw new Error("Unknown bid sequence item type "+t+" provided.")}},t.prototype.getPublisherPrebidSequenceItems=function(){return this.context.unitSlots.isVaas()&&this.context.unitSlots.hasPublisherPrebidEnabled()?[new s.PublisherPrebidSeq(this.context,this.gptService,this.view,this.logger)]:[]},t.prototype.getPublisherDirectSequenceItems=function(){return this.context.unitSlots.isVaas()&&this.context.unitSlots.hasPublisherDirectEnabled()?[new o.PublisherDirectSeq(this.context,this.gptService,this.view)]:[]},t.prototype.getDurationDemandSequenceItems=function(){if(this.context.unitSlots.isVaas()&&!this.context.unitSlots.hasDurationDemandEnabled())return[];var t=[new c.RegularTagSeq(this.context,this.auction,this.gptService,this.view)];return this.context.unitSlots.hasNobid()&&this.context.unitSlots.hasNobidMirror()&&t.push(new r.NobidMirrorSeq(this.context,this.gptService,this.view)),this.context.unitSlots.hasPublisherTag()&&t.push(new a.PublisherSeq(this.context,this.gptService,this.view)),t},t}();e.SequenceFactory=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PublisherDirectSeq=void 0;var o=n(55),s=n(4),a=function(t){function e(e,n,i){var r=t.call(this,n,i,e.unitSlots.slotsMap.get(s.UnitSlots.PUB_DIRECT_DIV_ID),[])||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return s.UnitSlots.PUB_DIRECT_DIV_ID},e}(o.BasicSupportSeq);e.PublisherDirectSeq=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublisherPrebidSeq=void 0;var i=n(68),r=n(62),o=n(66),s=n(90),a=n(4),c=function(){function t(t,e,n,i){this.c=t,this.gptService=e,this.view=n,this.log=i,this.currentSlot=t.unitSlots.slotsMap.get(a.UnitSlots.PUBLISHER_PREBID_ID),this.auction=new s.AuctionPublisherPrebid(t,e,i,new o.AuctionLogger(t,this.log))}return t.prototype.onEvent=function(t){return!t.isEmpty},t.prototype.clean=function(){this.currentSlot&&this.view.cleanSlot(this.currentSlot.gptDiv)},t.prototype.getId=function(){return a.UnitSlots.PUBLISHER_PREBID_ID},t.prototype.getSlot=function(){return this.currentSlot},t.prototype.hide=function(){this.currentSlot&&this.view.hideSlot(this.currentSlot.gptDiv)},t.prototype.invoke=function(){var t=this.getRootPublisherPrebid();if(t){this.log.debug("root pub prebid found");var e=this.c.wnd.pbjs;e&&(this.log.debug("pub prebid found"),e.que.push((function(){e.addAdUnits(i(t.adUnits))})),this.auction.getBids(this.getId(),e,t.adUnits))}},t.prototype.getRootPublisherPrebid=function(){var t=this.c.scriptConfig.publisherPrebidWrapper;switch(t){case r.PrebidWrapper.NONE:return this.c.rootWnd.pbjs;case r.PrebidWrapper.OPEN_WRAP:return this.c.rootWnd.owpbjs;default:throw new Error("Unknown Prebid wrapper "+t+" provided.")}},t.prototype.show=function(){this.view.showSlot(this.currentSlot.gptDiv)},t.prototype.hasMirror=function(){return!1},t}();e.PublisherPrebidSeq=c},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidAdUnit=e.AuctionPublisherPrebid=void 0;var i=n(68),r=n(7),o=n(4),s=function(){function t(t,e,n,i){this.c=t,this.gptService=e,this.log=n,this.auctionLogger=i,this.config=t.unitConfig}return t.prototype.getBids=function(t,e,n){var o=this,s=i(n);this.log.debug("pub prebid configuration: "+JSON.stringify(s));var a=s.find((function(t){return t.code===o.c.rootGptSlot.getAdUnitPath()||t.code===o.c.rootGptSlot.getSlotElementId()}));a.mediaTypes.banner.sizes=[[this.config.ad_width,this.config.ad_height]],a?(a.code=t,this.log.debug("pub prebid ad units: "+JSON.stringify(a)),this.log.event(r.LogEvent.UNIT_AD_REQUEST,r.LogEventContext.fromUnitContext(this.c)),e.que.push((function(){e.adUnits&&e.removeAdUnit(),e.addAdUnits(a);var t={userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},syncsPerBidder:999,syncDelay:6e3},consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0},usp:{timeout:3e3,allowAuctionWithoutConsent:!0}}},n=o.c.wnd.parent.parent;try{"function"!=typeof n.__tcfapi&&(delete t.consentManagement.gdpr,o.log.debug("gdpr deleted: "+JSON.stringify(t)))}catch(e){o.log.error("catch: "+e),delete t.consentManagement.gdpr,o.log.debug("gdpr deleted: "+JSON.stringify(t))}return o.c.scriptConfig.sellerId&&(t.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"durationmedia.net",sid:o.c.scriptConfig.sellerId,hp:1}]}}),e.setConfig(t),e.requestBids({timeout:o.c.scriptConfig.bidTimeout,bidsBackHandler:function(t){o.bidsComplete(e,t)}})}))):this.log.debug("pub prebid configuration does not have matching size : "+this.config.ad_width+"x"+this.config.ad_height)},t.prototype.bidsComplete=function(t,e){this.log.debug("pub prebid bid responses: "+JSON.stringify(e));var n=this.c.unitSlots.slotsMap.get(o.UnitSlots.PUBLISHER_PREBID_ID),i=this.gptService.getSlot(n.gptDiv),r=this.gptService.getGoogletag();r.cmd.push((function(){return t.que.push((function(){return t.setTargetingForGPTAsync(),r.pubads().refresh([i])}))})),this.auctionLogger.logBidResponses(e)},t}();e.AuctionPublisherPrebid=s;var a=function(){};e.PrebidAdUnit=a},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+="<!DOCTYPE html>\n<html lang='en'>\n<head>\n  <meta charset='utf-8'>\n  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>\n  <meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0'>\n</head>\n<body>\n<div class='dm-ad-content' id='dm-ad-content'>\n  <script async='async' src='"+(null==(__t=cdnUrl)?"":__t)+"/sites/"+(null==(__t=siteId)?"":__t)+"/prebid.js'><\/script>\n\n  \x3c!--  pubmatic identity hub integration - we do not load gpt unless pwt is loaded first--\x3e\n  <script type=\"text/javascript\">\n    var PWT = {};\n    PWT.jsLoaded = function() {\n      loadGPT();\n    };\n    var gptRan = false;\n\n    var loadGPT = function() {\n      // Check the gptRan flag\n      if (!gptRan) {\n        gptRan = true;\n        var gads = document.createElement('script');\n        gads.src = 'https://www.googletagservices.com/tag/js/gpt.js';\n        var node = document.getElementsByTagName('script')[0];\n        node.parentNode.insertBefore(gads, node);\n      }\n    };\n    // Failsafe to call gpt\n    setTimeout(loadGPT, 500);\n  <\/script>\n  <script type=\"text/javascript\">\n    (function() {\n      var purl = window.location.href;\n      var url = '//ads.pubmatic.com/AdServer/js/pwt/158024/2356';\n      var profileVersionId = '';\n      if(purl.indexOf('pwtv=')>0){\n        var regexp = /pwtv=(.*?)(&|$)/g;\n        var matches = regexp.exec(purl);\n        if(matches.length >= 2 && matches[1].length > 0){\n          profileVersionId = '/'+matches[1];\n        }\n      }\n      var wtads = document.createElement('script');\n      wtads.async = true;\n      wtads.type = 'text/javascript';\n      wtads.src = url+profileVersionId+'/pwt.js';\n      var node = document.getElementsByTagName('script')[0];\n      node.parentNode.insertBefore(wtads, node);\n    })();\n  <\/script>\n  ",confiantWrapperId&&(__p+="\n  <script async='' src='https://confiant-integrations.global.ssl.fastly.net/"+(null==(__t=confiantWrapperId)?"":__t)+"/gpt_and_prebid/config.js'><\/script>\n  "),__p+="\n  ";for(var i=0;i<slots.length;i++)__p+="\n  <div id='"+(null==(__t=slots[i].gptDiv)?"":__t)+"' style='height:"+(null==(__t=ad_height)?"":__t)+"px; width:"+(null==(__t=ad_width)?"":__t)+"px; position: absolute'>\n  </div>\n  ";__p+="\n</div>\n</body>\n</html>\n"}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="\nhtml, body {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  -webkit-overflow-scrolling: auto;\n}\n\nbody {\n  background: transparent;\n  margin: 0;\n}\n\n.dm-ad-content {\n  width: "+(null==(__t=ad_width)?"":__t)+"px;\n  height: "+(null==(__t=ad_height)?"":__t)+"px;\n  background: transparent;\n}\n";return __p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnitContext=void 0;var i=function(){};e.UnitContext=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotService=void 0;var i=n(95),r=n(30),o=n(7),s=n(99),a=n(100),c=n(101),u=function(){function t(t,e,n,o,s){this.wnd=t,this.log=e,this.scriptConfig=n,this.slotDiscovery=o,this.server=s,this.slotsMap=new Map,this.listeners=[],this.slotDiscovery=o||new i.GptSlotDiscovery(this.wnd,e,n),this.server=s||new r.ServerService,this.sponsorshipCheckArr=new c.ArrayCallbackDelay(this.sponsorshipCheck.bind(this),3e3),this.slotDetectedArr=new c.ArrayCallbackDelay(this.notifyServerOnSlotDetection.bind(this),3e3)}return t.prototype.init=function(){this.slotDiscovery.addSlotDiscoveredListener(this.onSlotDetected.bind(this)),this.slotDiscovery.init()},t.prototype.onSlotDetected=function(t){var e=!this.slotsMap.has(t.elementId),n=t.size,i=t.lid,r=t.elementId;if(e){this.log.event(o.LogEvent.SLOT_DETECTED,{slotId:r,lid:i,adWidth:n.width,adHeight:n.height}),this.slotDetectedArr.add(r);var a=s.SlotDetails.from(r,n,i,t.adUnitPath,t.slot);this.slotsMap.set(r,a),null!=i?this.sponsorshipCheckArr.add(r):this.log.debug(r+" slot detected - lid null - sponsorship check delayed")}else{this.log.debug(r+" second pass"),((a=this.slotsMap.get(t.elementId)).size.width!=n.width||a.size.height!=n.height)&&(this.log.debug(r+" second pass - size diff old="+JSON.stringify(a.size)+" new="+JSON.stringify(n)+" "),a.size=n),a.lid!=i&&i&&(this.log.debug(r+" second pass - lid diff old="+a.lid+" new="+i),a.lid=i),null==i||a.serverResponse||a.serverResponsePending||(this.log.enabled&&-1===this.sponsorshipCheckArr.items.indexOf(r)&&this.log.debug("second pass - sponsorship check - "+r),this.sponsorshipCheckArr.add(r))}},t.prototype.notifyServerOnSlotDetection=function(t){this.server.logBulk(this.scriptConfig.siteId,r.ScriptLogType.SD,t.length)},t.prototype.sponsorshipCheck=function(t){var e=this;if(t.length){this.log.event(o.LogEvent.SLOT_SPONSORSHIP_CHECK,{},"["+t.join(",")+"]"),t.forEach((function(t){return e.slotsMap.get(t).serverResponsePending=!0}));var n=t.map((function(t){return a.SponsorshipRequest.fromSlotDetails(e.slotsMap.get(t),e.scriptConfig.siteId)}));this.server.checkSlots({sponsorships:n}).then((function(t){e.onSponsorshipCheckReceived(t)}))}},t.prototype.onSponsorshipCheckReceived=function(t){var e=this;t.sponsorships.forEach((function(t){var n=e.slotsMap.get(t.slotId);n.serverResponse=t,n.serverResponsePending=!1,!t.sponsorship&&t.adUnitId?(e.log.event(o.LogEvent.SLOT_OVERTAKE_ELIGIBLE,o.LogEventContext.fromSlotDetails(n)),e.listeners.forEach((function(t){return t(n)}))):t.sponsorship?e.log.event(o.LogEvent.SLOT_OVERTAKE_FAILED_SPONSORED,o.LogEventContext.fromSlotDetails(n)):e.log.event(o.LogEvent.SLOT_OVERTAKE_FAILED_NO_UNIT,o.LogEventContext.fromSlotDetails(n))}),(function(t){e.log.event(o.LogEvent.SERVER_ERROR),e.log.error("server responded by "+t)}))},t.prototype.addSlotReadyToOvertakeListener=function(t){this.listeners.push(t)},t}();e.SlotService=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptSlotDiscovery=void 0;var i=n(96),r=n(97),o=function(){function t(t,e,n){this.wnd=t,this.log=e,this.scriptConfig=n,this.listeners=[],t.googletag||(t.googletag=Object.assign({},{cmd:[]})),this.googletag=t.googletag}return t.prototype.init=function(){var t=this;this.googletag.cmd.push((function(){var e=t.googletag.pubads();e.addEventListener("slotRenderEnded",(function(e){t.log.debug("slotRenderEnded: "+e.slot.getSlotElementId()+" lid="+e.sourceAgnosticLineItemId),t.registerSlot(e.slot,r.GptSlotUtils.getEventSize(e,t.wnd),e.sourceAgnosticLineItemId)})),e.addEventListener("impressionViewable",(function(e){var n=e.slot.getResponseInformation(),i=n?n.lineItemId:null;i||(i=0,t.log.debug("impressionViewable "+e.slot.getSlotElementId()+" lid == null, changing to 0")),t.log.debug("impressionViewable: "+e.slot.getSlotElementId()+" lid="+i);var o=r.GptSlotUtils.getInsideIframeSize(e.slot.getSlotElementId(),t.wnd);t.log.debug(e.slot.getSlotElementId()+" impressionViewable iframe size "+JSON.stringify(o)),t.registerSlot(e.slot,o,i)})),t.detectCurrentSlots()}))},t.prototype.detectCurrentSlots=function(){var t=this,e=this.googletag.pubads().getSlots();e&&e.forEach((function(e){var n=e.getResponseInformation()?e.getResponseInformation().lineItemId:null;!n&&e.getResponseInformation()&&(t.log.debug(e.getSlotElementId()+" lid null but response received, setting lid to 0"),n=0);var i=r.GptSlotUtils.getInsideIframeSize(e.getSlotElementId(),t.wnd);i?t.log.debug(e.getSlotElementId()+" direct inside iframe size "+JSON.stringify(i)):(i=r.GptSlotUtils.getFirstSizeFromSlot(e,t.log),t.log.debug(e.getSlotElementId()+" direct slot registered "+JSON.stringify(i))),i?t.registerSlot(e,i,n):t.log.debug(e.getSlotElementId()+" direct ignoring slot, size is null")}))},t.prototype.addSlotDiscoveredListener=function(t){this.listeners.push(t)},t.prototype.registerSlot=function(t,e,n){if(null!=e&&e.width&&e.height)if(r.GptSlotUtils.normalizeSize(e),r.GptSlotUtils.isSizeSupported(e.width,e.height)){var o=t.getSlotElementId();!this.wnd.document||this.wnd.document.getElementById(o)?this.listeners.forEach((function(r){var s=new i.SlotDetected;s.elementId=o,s.size=e,s.slot=t,s.lid=n,s.adUnitPath=t.getAdUnitPath(),r(s)})):this.log.debug(t.getSlotElementId()+" ignoring slot because it does not exists in the DOM")}else this.log.debug(t.getSlotElementId()+" Ignoring non standard size "+e.width+"x"+e.height);else this.log.debug(t.getSlotElementId()+" Ignoring size is "+e+", trying next: "+JSON.stringify(r.GptSlotUtils.getFirstSizeFromSlot(t,this.log)))},t}();e.GptSlotDiscovery=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotDetected=void 0;var i=function(){};e.SlotDetected=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptSlotUtils=void 0;var i=n(98),r=function(){function t(){}return t.isSizeSupported=function(e,n){return t.standardSizeSet.filter((function(t){return t[0]===e&&t[1]===n})).length>0},t.getEventSize=function(t,e){var n=t.size;if(null!=n&&0!=n.length)return new i.Size(parseInt(n[0]+""),parseInt(n[1]+""));var r=this.getInsideIframeSize(t.slot.getSlotElementId(),e);return r||void 0},t.getFirstSizeFromSlot=function(t,e){var n=t.getSizes()&&t.getSizes().length?t.getSizes()[0]:null;return e.debug("getFirstSizeFromSlot: "+t.getSlotElementId()+" sizes:"+JSON.stringify(t.getSizes())+" picking first one: "+JSON.stringify(n)),n&&n.l&&n.j?{width:n.l,height:n.j}:null},t.getInsideIframeSize=function(t,e){try{for(var n=e.document.getElementById(t),r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.id&&o.id.includes("google_ads_iframe_")){var s=o.firstChild;if(s.width&&s.height){var a=parseInt(s.width,10),c=parseInt(s.height,10);return new i.Size(a,c)}}}}catch(t){}return null},t.normalizeSize=function(t){728===t.width&&[91,92,93].includes(t.height)&&(t.height=90),970===t.width&&[251,252,253].includes(t.height)&&(t.height=250),300===t.width&&[251,252,253].includes(t.height)&&(t.height=250),300===t.width&&[601,602,603].includes(t.height)&&(t.height=600)},t.standardSizeSet=[[120,60],[120,600],[300,250],[300,600],[160,600],[728,90],[300,50],[320,100],[320,50],[320,100],[970,50],[970,250],[970,90],[970,66]],t}();e.GptSlotUtils=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Size=void 0;var i=function(t,e){this.width=t,this.height=e};e.Size=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotDetails=void 0;var i=function(){function t(){}return t.from=function(e,n,i,r,o){var s=new t;return s.elementId=e,s.size=n,s.lid=i,s.adUnitPath=r,s.slot=o,s.registeredOnTimestamp=(new Date).getTime(),s},t}();e.SlotDetails=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptLoadedResponse=e.MultiUnitSponsorshipResponse=e.MultiUnitSponsorshipRequest=e.SponsorshipRequest=e.SponsorshipResponse=void 0;var i=function(){};e.SponsorshipResponse=i;var r=function(){function t(){}return t.fromSlotDetails=function(t,e){return{width:t.size.width,height:t.size.height,siteId:e,lineItemId:t.lid,slotId:t.elementId,slotPath:t.adUnitPath}},t}();e.SponsorshipRequest=r;var o=function(){};e.MultiUnitSponsorshipRequest=o;var s=function(){};e.MultiUnitSponsorshipResponse=s;var a=function(){};e.ScriptLoadedResponse=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayCallbackDelay=void 0;var i=function(){function t(t,e){void 0===e&&(e=3e3),this.timeoutMs=e,this._items=[],this.callback=t}return t.prototype.add=function(t){-1===this._items.indexOf(t)&&this._items.push(t),this.checkTimeout()},t.prototype.checkTimeout=function(){var t=this;this._items.length&&(this.timeout?this.timeoutFired&&this.sendItems():this.timeout=setTimeout((function(){t.timeoutFired=!0,t.sendItems()}),this.timeoutMs))},t.prototype.sendItems=function(){this.callback(this._items),this._items=[]},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t},enumerable:!1,configurable:!0}),t}();e.ArrayCallbackDelay=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUtils=void 0;var i=function(){function t(){}return t.removeAllChildrenFrom=function(t){t.childNodes.forEach((function(e){return t.removeChild(e)}))},t}();e.ViewUtils=i}]);