(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{NLeY:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex flex-column flex-md-row comment-bare-container"},[s("div",{staticClass:"d-flex flex-column flex-basis-100"},[s("div",{staticClass:"d-flex flex-column font-size-sm"},[e.isLoggedIn&&e.commentsVisible?s("Comment-Form",{attrs:{type:e.type,"type-id":e.typeId},on:{"comment-added":e.addCommentToStream}}):e._e(),e._v(" "),e.isLoggedIn?e._e():s("p",{staticClass:"pb-4 color-text-dark font-size-xs text-uppercase font-weight-bold"},[e._v("\n                Join the conversation, "),s("a",{attrs:{href:"/login"},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("login ")]),e._v(" to leave comments\n            ")]),e._v(" "),this.isLoaded?s("Comment-Stream",{attrs:{comments:e.comments,"is-logged-in":e.isLoggedIn,"is-loaded":e.isLoaded,"board-url":e.boardUrl}}):e._e(),e._v(" "),!e.allLoaded&&this.isLoaded?s("a",{staticClass:"btn btn-outline btn-secondary font-size-xs font-weight-light text-uppercase d-flex align-items-center justify-content-center",attrs:{tabindex:"0"},on:{click:e.load}},[s("icon",{attrs:{icon:"add",classes:"svg-icon-sm mt-2 mb-2"}}),e._v("\n                Load more comments\n            ")],1):e._e()],1)])])};n._withStripped=!0;var o=s("vDqi"),a=s.n(o),i=s("vxF8"),l=function(){var e=this.$createElement;this._self._c;return this._m(0)};l._withStripped=!0;var m=s("KHd+"),r=Object(m.a)({},l,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loader "},[t("div",{staticClass:"loader__line  loader__line--xxl-height mb-3"}),this._v(" "),t("div",{staticClass:"loader__line  loader__line--xxl-height mb-3"}),this._v(" "),t("div",{staticClass:"loader__line  loader__line--xxl-height mb-3"})])}],!1,null,null,null);r.options.__file="assets/base-theme/js/modules/comments/CommentsLoader.vue";var d=r.exports,c=s("/GhP"),u=s("h6/w"),p=s("tDnZ");const h=new i.a;var v={name:"Comments",components:{CommentForm:()=>({component:Promise.all([s.e("npm.emoji-mart-vue"),s.e(47)]).then(s.bind(null,"FXSp")),loading:p.a}),CommentStream:()=>({component:Promise.all([s.e("npm.webpack"),s.e("npm.date-fns"),s.e("npm.emoji-mart-vue"),s.e("npm.postcss"),s.e(40)]).then(s.bind(null,"MYef")),loading:d})},props:{type:String,boardUrl:String,typeId:String,isLoggedIn:Boolean,child:{type:Boolean,default:!1},locale:{type:String,default:"en-US"}},data:()=>({comments:[],total:0,commentsVisible:!1,isLoaded:!1,page:1}),mounted(){if(this.$props.child)this.commentsVisible=!0,this.$nextTick((function(){this.type&&this.typeId&&this.load()}));else{const e=document.getElementById("vue-comments-bare");this.commentObserver=new c.a(e,{},()=>{this.type&&this.typeId&&(this.load(),this.commentsVisible=!0),this.commentObserver.disconnect()}),this.commentObserver.mount()}},computed:{allLoaded(){return this.isLoaded&&this.comments.length>=this.total}},methods:{addCommentToStream(e){this.comments.unshift(e)},login(e){this.$store.state.user||h.show()},load(){let e=`/comments/${this.type}/${this.typeId}/overview`;this.page>0&&(e+="?p="+this.page),a.a.get(e).then(e=>{const t=e.data;this.total=t.total,this.$emit("updateCommentsTotal",this.total),this.isLoaded=!0,t.items.forEach(e=>{this.comments.push(e)}),this.page++}).catch(e=>{u.a.error("comment overview error",e),this.isLoaded=!0})}}},f=Object(m.a)(v,n,[],!1,null,null,null);f.options.__file="assets/base-theme/js/modules/comments/CommentBare.vue";t.default=f.exports},"eT+M":function(e,t,s){},"pB/r":function(e,t,s){"use strict";var n=s("oCYn"),o=s("wouM"),a=s.n(o),i=s("OIPd"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment-container"},[this.isLoaded?s("header",{staticClass:"pr-4 border-bottom border-width-1 border-color-border"},[s("nav",{staticClass:"d-flex info-comments-nav font-size-sm"},[s("ul",{staticClass:"nav d-flex list flex-row list-unstyled mb-0 flex-1",attrs:{role:"tablist"}},[s("li",{staticClass:"d-flex"},[s("a",{staticClass:"nav-link d-flex pt-3 pb-3 pr-3 align-items-center justify-content-center"},[s("icon",{attrs:{icon:"forum",classes:"svg-icon-md mr-2"}}),e._v("\n                        Comments\n                        ("+e._s(e.total.toLocaleString(e.locale))+")\n                    ")],1)])])])]):e._e(),e._v(" "),s("div",{staticClass:"tab-content px-2 px-md-4 pt-3 pb-3"},[e.commentsVisible?s("Comment-Bare",{attrs:{"board-url":e.boardUrl,child:!0,type:e.type,"type-id":e.typeId,isLoggedIn:e.isLoggedIn},on:{updateCommentsTotal:e.updateCommentsTotal}}):e._e()],1)])};l._withStripped=!0;var m=s("tDnZ"),r=s("/GhP"),d={name:"Comments",components:{CommentBare:()=>({component:Promise.resolve().then(s.bind(null,"NLeY")),loading:m.a})},data:()=>({total:0,isLoaded:!1,commentsVisible:!1}),props:{type:String,typeId:String,isLoggedIn:Boolean,boardUrl:String,locale:{type:String,default:"en-US"},customerLocale:{type:String,default:"en"}},methods:{updateCommentsTotal(e){this.total=e,this.isLoaded=!0}},mounted(){const e=document.getElementById("vue-comments");this.commentObserver=new r.a(e,{},()=>{this.commentsVisible=!0,this.commentObserver.disconnect()}),this.commentObserver.mount()}},c=s("KHd+"),u=Object(c.a)(d,l,[],!1,null,null,null);u.options.__file="assets/base-theme/js/modules/comments/Comments.vue";var p=u.exports,h=s("NLeY"),v=s("SluN"),f=s("GIGG"),b=s.n(f),_=s("rPx6");s("eT+M");n.default.use(a.a);t.a=()=>{const e=document.getElementById("vue-comments"),t=document.getElementById("vue-comments-bare"),s=document.getElementById("vue-problem-report-modal");if(e){new n.default({store:v.a,data:{config:i.a},components:{Comments:p}}).$mount(e)}if(t){new n.default({store:v.a,data:{config:i.a},components:{CommentBare:h.default}}).$mount(t)}if(s){n.default.use(b.a);new n.default({store:v.a,components:{ProblemReportModal:_.a}}).$mount(s)}}},tDnZ:function(e,t,s){"use strict";var n=function(){var e=this.$createElement;this._self._c;return this._m(0)};n._withStripped=!0;var o=s("KHd+"),a=Object(o.a)({},n,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loader"},[t("div",{staticClass:"loader__line  loader__line--lg-height mb-4"})])}],!1,null,null,null);a.options.__file="assets/base-theme/js/modules/comments/CommentsInputLoader.vue";t.a=a.exports}}]);