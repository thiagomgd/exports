(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"8Fno":function(t,e,o){},PPT8:function(t,e,o){},uku1:function(t,e,o){"use strict";var a=o("oCYn"),n=o("SluN"),s=o("qI3T"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"rating d-flex",class:{"user-rated":t.userRating},attrs:{title:t.title}},[o("star-rating",{attrs:{"star-size":t.starSize||12,"border-width":2,rating:t.averageRating,"read-only":!t.canEdit,"round-start-rating":!1,"rounded-corners":!0,"text-class":"font-size-sm font-size-md-md font-weight-bold",increment:1},on:{"rating-selected":t.setRating}}),t._v(" "),o("p",{staticClass:"color-text-dark font-size-xss mt-0 mt-md-1 ml-2 font-weight-bold mb-0 d-block "},[t._v("("+t._s(t.totalCountMutate.toLocaleString(t.locale))+" "+t._s(1===t.totalCountMutate?t.$store.state.translations[this.$translationLocale].common.vote:t.$store.state.translations[this.$translationLocale].common.votes)+") ")])],1)};i._withStripped=!0;var r=o("wdo6"),l=o.n(r),c=o("vDqi"),h=o.n(c),d={name:"Rating",components:{StarRating:l.a},computed:{title:function(){let t=this.$store.state.translations[this.$translationLocale].ratings.people+" "+this.getRatingText(Math.round(this.averageRating));return t+=", "+this.$store.state.translations[this.$translationLocale].ratings.you+" "+this.getRatingText(Math.round(this.userRating)),t},canEdit:function(){return!!(!this.userRating||this.userRating&&window.user)}},props:{id:String,starSize:Number,contentType:String,averageRating:Number,totalCount:Number,locale:{type:String,default:"en-US"}},data:()=>({totalCountMutate:0,userRating:null}),mounted(){this.totalCountMutate=this.totalCount,this.userRating=localStorage.getItem("rating-"+this.id)},methods:{getRatingText(t){let e="";switch(t){case 1:e=this.$store.state.translations[this.$translationLocale].ratings[1];break;case 2:e=this.$store.state.translations[this.$translationLocale].ratings[2];break;case 3:e=this.$store.state.translations[this.$translationLocale].ratings[3];break;case 4:e=this.$store.state.translations[this.$translationLocale].ratings[4];break;case 5:e=this.$store.state.translations[this.$translationLocale].ratings[5];break;default:e=this.$store.state.translations[this.$translationLocale].ratings[0]}return e},setRating:function(t){this.userRating?this.canEdit&&(this.userRating=t,localStorage.setItem("rating-"+this.id,t)):h.a.post(`/${this.contentType}Rating/${this.id}/rate/${t}`,{}).then(e=>{this.$emit("rating-added",e.data.rating),this.userRating=t,localStorage.setItem("rating-"+this.id,t),this.totalCountMutate++}).catch(t=>{console.log(t)})}}},u=o("KHd+"),m=Object(u.a)(d,i,[],!1,null,null,null);m.options.__file="assets/base-theme/js/modules/dashboard-header/Rating.vue";var g=m.exports;var f=class{constructor(t){this.show=!1,this.element=t,this.toggleEl=t.querySelector('[data-component="toggle"]')}mount(){this.toggleEl.addEventListener("click",()=>{const t=!0===this.show?"remove":"add";this.element.classList[t]("show"),this.show=!this.show})}},w=o("e0Yc"),p=o.n(w);var v=class{constructor(t=70){this.siteNavElement=document.querySelector('[data-component="site-nav"]'),this.overviewHeader=document.querySelector('[data-component="overview-header"]'),this.offset=t}mount(){if(this.overviewHeader){let t=this.overviewHeader.getBoundingClientRect().top+window.scrollY;t-=this.siteNavElement.offsetHeight,t-=this.offset;window.matchMedia("(max-width: 767px)").matches&&setTimeout(()=>window.scrollTo({top:t,behavior:"smooth"}),500)}}};var b=class{constructor(t){this.dashboardNavElement=t.querySelector('[data-component="dashboard-nav"]');const e=document.querySelector('[data-component="breadcrumb"]');this.breadCrumbTotalHeight=e.offsetHeight+parseInt(getComputedStyle(e).marginBottom.replace("px",""));const o=this.dashboardNavElement.offsetTop+this.breadCrumbTotalHeight;this.headroom=new p.a(t,{offset:o,tolerance:5})}mount(){this.headroom.init(),window.addEventListener("resize",()=>{this.headroom.offset=this.dashboardNavElement.offsetTop+this.breadCrumbTotalHeight});(new v).mount()}},$=o("UplU"),C=o.n($),_=o("OIPd"),k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"d-flex"},[o("div",{staticClass:"d-inline-flex flex-column color-dropdown",class:{"align-items-center":!t.hideTitle},on:{click:t.show}},[t.hideTitle?t._e():o("p",{staticClass:" text-nowrap d-block color-text-dark font-size-xss font-size-sm-xs font-weight-bold mb-0 mb-sm-1"},[t._v(t._s(t.$store.state.translations[this.$translationLocale].rank_chart.global_rank))]),t._v(" "),o("div",{staticClass:"text-nowrap",class:{"d-flex flex-row align-items-center":!t.hideTitle},attrs:{title:t.$store.state.translations[this.$translationLocale].common.trend,"aria-label":t.$store.state.translations[this.$translationLocale].common.trend}},[o("icon",{attrs:{icon:"chart-line-solid",classes:"svg-icon-xs mr-1 "}}),t._v(" "),o("span",{staticClass:"font-weight-bold font-size-sm font-size-md-m mx-1"},[t._v(t._s(t.currentRank))])],1)]),t._v(" "),t.loadModal?o("div",{staticClass:"align-self-end rank-chart-modal__loader"},[o("rank-chart-modal",{attrs:{id:t.id,currentRank:t.currentRank}})],1):t._e()])};k._withStripped=!0;var S=o("PJnj"),x=o("IyZH"),y={name:"RankChartButton",components:{RankChartModal:()=>({component:Promise.all([o.e("npm.webpack"),o.e("npm.date-fns"),o.e("npm.moment"),o.e("npm.chart.js"),o.e(41)]).then(o.bind(null,"c92n")),loading:S.a})},props:{id:String,currentRank:Number,hideTitle:Boolean,showGraph:Boolean},data:()=>({loadModal:!1}),methods:{show(){this.showGraph&&(this.loadModal||(this.loadModal=!0),x.a.trackEvent(["rank-chart","open"],!0),this.$modal.show("rank-chart"))},hide(){this.$modal.hide("rank-chart")}}},R=Object(u.a)(y,k,[],!1,null,null,null);R.options.__file="assets/base-theme/js/modules/rank-chart/RankChartButton.vue";var M=R.exports;o("PPT8");var T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{class:{"btn-group":!0===t.showCount}},[t.followMutation&&!t.loading?o("button",{staticClass:"btn btn-primary",class:{"d-block mx-auto":!t.showCount},attrs:{type:"button",title:t.textUnfollow,"data-test":"button-follow"},on:{click:t.unfollow}},[t._v("\n            "+t._s(t.textUnfollow)+"\n        ")]):t.followMutation||t.loading?t.loading?o("button",{staticClass:"btn btn-primary",class:{"d-block mx-auto":!t.showCount},attrs:{type:"button","data-test":"button-follow"}},[o("icon",{attrs:{icon:"refresh",classes:"svg-icon-ml mx-3 align-top transform-rotate"}})],1):t._e():o("button",{staticClass:"btn btn-primary",class:{"d-block mx-auto":!t.showCount},attrs:{type:"button",title:t.textFollow,"data-test":"button-follow"},on:{click:t.follow}},[t._v("\n            "+t._s(t.textFollow)+"\n        ")]),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:t.showCount,expression:"showCount"}],staticClass:"btn btn-light font-weight-bold",attrs:{"data-test":"button-follower-count",title:"Follower Count",type:"button"}},[t._v(t._s(t.followerCountMutate.toLocaleString(t.locale)))])])])};T._withStripped=!0;var E=o("vxF8"),L=o("h6/w");const q=new E.a;var N={name:"UserFavorite",data:()=>({loading:!1,followMutation:!1,id:!1,followerCountMutate:0}),props:{contentType:String,followerCount:Number,typeId:String,followed:Boolean,textFollow:String,textUnfollow:String,locale:{type:String,default:"en-US"},showCount:{type:Boolean,default:!0}},mounted(){this.followMutation=this.followed,this.followerCountMutate=this.followerCount},methods:{follow(){this.loading||(this.$store.state.user?(this.loading=!0,h.a.post(`/user-favorite/${this.contentType}/${this.typeId}/add`).then(t=>{setTimeout(()=>{this.loading=!1,this.followMutation=!0,this.followerCountMutate++},2e3)}).catch(t=>{L.a.error(t.message,t)})):q.show())},unfollow(){this.loading||(this.$store.state.user?(this.loading=!0,h.a.post(`/user-favorite/${this.contentType}/${this.typeId}/remove`).then(t=>{setTimeout(()=>{this.loading=!1,this.followMutation=!1,this.followerCountMutate--},2e3)}).catch(t=>{L.a.error(t.message,t)})):q.show())}}},z=Object(u.a)(N,T,[],!1,null,null,null);z.options.__file="assets/base-theme/js/modules/user-favorite/UserFavorite.vue";var j=z.exports;o("8Fno"),e.a=()=>{const t=document.querySelectorAll(".js-dashboard-header .vue-user-favorite"),e=document.querySelectorAll('[data-component="rating"]');!function(){const t=document.querySelectorAll(".vue-rank-chart-button");if(t)for(const e of t){new a.default({store:n.a,data:{config:_.a},components:{RankChartButton:M}}).$mount(e)}}(),((t=document.querySelectorAll(".vue-user-favorite"))=>{t&&t.forEach(t=>{new a.default({store:n.a,data:{config:_.a},components:{UserFavorite:j}}).$mount(t)})})(t),e.length&&e.forEach(t=>{new a.default({store:n.a,components:{Rating:g}}).$mount(t)});const o=document.querySelectorAll('[data-component="social-sharing"]');o.length&&o.forEach(t=>{new a.default({components:{SocialSharing:C.a}}).$mount(t)});const i=document.querySelectorAll('[data-component="social-sharing-container"]');i.length&&i.forEach(t=>{new f(t).mount()});const r=document.querySelector('[data-component="dashboard-header-section"]');if(r){new b(r).mount()}Object(s.a)()}}}]);